[
  {
    "type": "solution",
    "title": "Create a tag cloud by wrapping array values in h1 through h6 tags based on a mapping array of weights",
    "body": "I have the following arrays: $artist = [\"the roots\", \"michael jackson\", \"billy idol\", \"more\", \"and more\", \"and_YET_MORE\"]; $count = [5, 3, 9, 1, 1, 3]; I want to generate a tag cloud that will have artists with a higher number in $count enclosed in h6 tags and the lowest enclosed h1 tags.",
    "code": "$artist = [&quot;the roots&quot;, &quot;michael jackson&quot;, &quot;billy idol&quot;, &quot;more&quot;, &quot;and more&quot;, &quot;and_YET_MORE&quot;];\n$count = [5, 3, 9, 1, 1, 3];\n\n\n$count\n\nh6\n\nh1\n\n# Solution Code:\ndb_query('SELECT COUNT(*) AS count, id, name FROM ... ORDER BY count DESC');\n\n$steps = 6;\n$tags = array();\n$min = 1e9;\n$max = -1e9;\n\nwhile ($tag = db_fetch_object($result)) {\n    $tag-&gt;number_of_posts = $tag-&gt;count; #sets the amount of items a certain tag has attached to it\n    $tag-&gt;count = log($tag-&gt;count);\n    $min = min($min, $tag-&gt;count);\n    $max = max($max, $tag-&gt;count);\n    $tags[$tag-&gt;tid] = $tag;\n}\n// Note: we need to ensure the range is slightly too large to make sure even\n// the largest element is rounded down.\n$range = max(.01, $max - $min) * 1.0001;\n\nforeach ($tags as $key =&gt; $value) {\n    $tags[$key]-&gt;weight = 1 + floor($steps * ($value-&gt;count - $min) / $range);\n}\n\n\nforeach ($tags as $tag) {\n    $output .= \"&lt;h$tag-&gt;weight&gt;$tag-&gt;name&lt;/h$tag-&gt;weight&gt;\"\n}\n",
    "resolution": "You will want to add a logarithmic function to it too. (taken from tagadelic, my Drupal module to create tag clouds http://drupal.org/project/tagadelic): db_query('SELECT COUNT(*) AS count, id, name FROM ... ORDER BY count DESC'); $steps = 6; $tags = array(); $min = 1e9; $max = -1e9; while ($tag = db_fetch_object($result)) { $tag->number_of_posts = $tag->count; #sets the amount of items a certain tag has attached to it $tag->count = log($tag->count); $min = min($min, $tag->count); $max = max($max, $tag->count); $tags[$tag->tid] = $tag; } // Note: we need to ensure the range is slightly too large to make sure even // the largest element is rounded down. $range = max(.01, $max - $min) * 1.0001; foreach ($tags as $key => $value) { $tags[$key]->weight = 1 + floor($steps * ($value->count - $min) / $range); } Then in your view or template: foreach ($tags as $tag) { $output .= \"<h$tag->weight>$tag->name</h$tag->weight>\" }",
    "severity": "high",
    "tags": [
      "php",
      "arrays",
      "mapping",
      "tag-cloud"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "227",
      "stackoverflow_score": 79,
      "stackoverflow_view_count": 9965,
      "stackoverflow_creation_date": "2008-08-01T21:40:55.833Z",
      "stackoverflow_owner": "dubayou"
    },
    "idempotency_key": "stackoverflow-227",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Linking to a file (e.g. PDF) within a CakePHP view",
    "body": "I'd like to link to some PDFs in one of my controller views. What's the best practice for accomplishing this? The CakePHP webroot folder contains a ./files/ subfolder, I am confounded by trying to link to it without using \"magic\" pathnames in my href (e.g. \"/path/to/my/webroot/files/myfile.pdf\"). What are my options? EDIT: I didn't adequately describe my question. I was attempting to link to files in /app/webroot/files/ in a platform-agnostic (ie. no mod_rewrite) way. I've since worked around this issue by storing such files outside the CakePHP directory structure.",
    "code": "mod_rewrite\n\n# Solution Code:\n$html-&gt;link('Pdf', '/files/myfile.pdf');\n",
    "resolution": "$html->link('Pdf', '/files/myfile.pdf');",
    "severity": "high",
    "tags": [
      "cakephp"
    ],
    "metadata": {
      "stackoverflow_question_id": "233643",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 25872,
      "stackoverflow_creation_date": "2008-10-24T14:00:34.727Z",
      "stackoverflow_owner": "Daniel Wright"
    },
    "idempotency_key": "stackoverflow-233643",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "CUDA memory troubles",
    "body": "I have a CUDA kernel which I'm compiling to a cubin file without any special flags: nvcc text.cu -cubin It compiles, though with this message: Advisory: Cannot tell what pointer points to, assuming global memory space and a reference to a line in some temporary cpp file. I can get this to work by commenting out some seemingly arbitrary code which makes no sense to me. The kernel is as follows: __global__ void string_search(char** texts, int* lengths, char* symbol, int* matches, int symbolLength) { int localMatches = 0; int blockId = blockIdx.x + blockIdx.y * gridDim.x; int threadId = threadIdx.x + threadIdx.y * blockDim.x; int blockThreads = blockDim.x * blockDim.y; __shared__ int localMatchCounts[32]; bool breaking = false; for(int i = 0; i < (lengths[blockId] - (symbolLength - 1)); i += blockThreads) { if(texts[blockId][i] == symbol[0]) { for(int j = 1; j < symbolLength; j++) { if(texts[blockId][i + j] != symbol[j]) { breaking = true; break; } } if (breaking) continue; localMatches++; } } localMatchCounts[threadId] = localMatches; __syncthreads(); if(threadId == 0) { int sum = 0; for(int i = 0; i < 32; i++) { sum += localMatchCounts[i]; } matches[blockId] = sum; } } If I replace the line localMatchCounts[threadId] = localMatches; after the first for loop with this line localMatchCounts[threadId] = 5; it compiles with no notices. This can also be achieved by commenting out seemingly random parts of the loop above the line. I have also tried replacing the local memory array with a normal array to no effect. Can anyone tell me what the problem is? The system is Vista 64bit, for what its worth. Edit: I fixed the code so it actually works, though it still produces the compiler notice. It does not seem as though the warning is a problem, at least with regards to correctness (it might affect performance).",
    "code": "nvcc text.cu -cubin\n\n\n__global__ void string_search(char** texts, int* lengths, char* symbol, int* matches, int symbolLength)\n{\n    int localMatches = 0;\n    int blockId = blockIdx.x + blockIdx.y * gridDim.x;\n    int threadId = threadIdx.x + threadIdx.y * blockDim.x;\n    int blockThreads = blockDim.x * blockDim.y;\n\n    __shared__ int localMatchCounts[32];\n\n    bool breaking = false;\n    for(int i = 0; i &lt; (lengths[blockId] - (symbolLength - 1)); i += blockThreads)\n    {\n        if(texts[blockId][i] == symbol[0])\n        {\n            for(int j = 1; j &lt; symbolLength; j++)\n            {\n                if(texts[blockId][i + j] != symbol[j])\n                {\n                    breaking = true;\n                    break;\n                }\n            }\n            if (breaking) continue;\n            localMatches++;\n        }\n    }\n\n    localMatchCounts[threadId] = localMatches;\n\n    __syncthreads();\n\n    if(threadId == 0)\n    {\n        int sum = 0;\n        for(int i = 0; i &lt; 32; i++)\n        {\n            sum += localMatchCounts[i];\n        }\n        matches[blockId] = sum;\n    }\n}\n\n\nlocalMatchCounts[threadId] = localMatches;\n\n\nlocalMatchCounts[threadId] = 5;\n",
    "severity": "medium",
    "tags": [
      "cuda",
      "gpgpu"
    ],
    "metadata": {
      "stackoverflow_question_id": "289719",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5800,
      "stackoverflow_creation_date": "2008-11-14T10:33:34.443Z",
      "stackoverflow_owner": "Morten Christiansen"
    },
    "idempotency_key": "stackoverflow-289719",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Return value from function with an Ajax call",
    "body": "Can someone tell me how to return the value of status as the function's return value. function checkUser() { var request; var status = false; //create xmlhttprequest object here [called request] var stu_id = document.getElementById(\"stu_id\").value; var dName = document.getElementById(\"dName\").value; var fileName = \"check_user.php?dName=\" + dName + \"&stu_id=\" + stu_id; request.open(\"GET\", fileName, true); request.send(null); request.onreadystatechange = function() { if (request.readyState == 4) { var resp = parseInt(request.responseText, 10); if(resp === 1) { alert(\"The display name has already been taken.\"); status = false; } else if(resp === 2) { alert(\"This student ID has already been registered\"); status = false; } else if(resp === 0) { status = true; } } } return status; } The above function triggers when you hit submit in a registration form (as must be obvious). The problem is, this form submits irrespective of what the response is, and the alert box sometimes shows nothing [blank], sometimes doesn't show at all. However, if I change the ending status to false manually [i.e. replace status with false], the correct value shows up in the alert box. P.S. I'm worse than a noob in javascript, so suggestions on generally improving the code is also welcome.",
    "code": "function checkUser() {\n    var request;\n    var status = false;\n\n    //create xmlhttprequest object here [called request]\n\n    var stu_id = document.getElementById(\"stu_id\").value;\n    var dName = document.getElementById(\"dName\").value;\n    var fileName = \"check_user.php?dName=\" + dName + \"&amp;stu_id=\" + stu_id;\n    request.open(\"GET\", fileName, true);\n    request.send(null);\n\n    request.onreadystatechange = function() {\n        if (request.readyState == 4) {\n            var resp = parseInt(request.responseText, 10);\n            if(resp === 1) {\n                alert(\"The display name has already been taken.\");\n                status = false;\n            }\n            else if(resp === 2) {\n                alert(\"This student ID has already been registered\");\n                status = false;\n            }\n            else if(resp === 0) {\n                status = true;\n            }\n        }\n    }\n    return status;\n}\n\n\nstatus\n\nstatus\n\nfalse\n\nstatus\n\nfalse\n\n# Solution Code:\nrequest.onreadystatechange = function() {\n    if (request.readyState == 4) {\n        var resp = parseInt(request.responseText, 10);\n        switch (resp) {\n        case 0:\n            document.getElementById('myform').submit();\n            break;\n        case 1:\n            alert(&quot;The display name has already been taken.&quot;);\n            break;\n        case 2:\n            alert(&quot;This student ID has already been registered&quot;);\n            break;\n        }\n    }\n}\nreturn false; // always return false initially\n\n\nfunction checkUser(success, fail) {\n    ...\n    request.onreadystatechange = function() {\n        if (request.readyState == 4) {\n            var resp = parseInt(request.responseText, 10);\n            switch (resp) {\n            case 0:\n                success(request.responseText);\n            case 1:\n                fail(&quot;The display name has already been taken.&quot;, request.reponseText);\n                break;\n            case 2:\n                fail(&quot;This student ID has already been registered&quot;, request.reponseText);\n                break;\n            default:\n                fail(&quot;Unrecognized resonse: &quot;+resp, request.reponseText);\n                break;\n            }\n        }\n    }\n\n\nrequest.onreadystatechange = function() {\n\n\nonreadystatechange\n\nreturn status;\n\nreturn false;\n\nonreadystatechange\n\nreturn false;\n\nonreadystatechange\n\nreturn status;\n\nstatus\n\nreturn false;",
    "resolution": "The problem is that onreadystatechange won't fire until... wait for it... the state changes. So when you return status; most of the time status will not have had time to set. What you need to do is return false; always and inside the onreadystatechange determine whether you want to proceed or not. If you do, then you submit the form. In short, take the code that handles the return value and instead run it from within the readystatechange handler. You can do this directly: request.onreadystatechange = function() { if (request.readyState == 4) { var resp = parseInt(request.responseText, 10); switch (resp) { case 0: document.getElementById('myform').submit(); break; case 1: alert(\"The display name has already been taken.\"); break; case 2: alert(\"This student ID has already been registered\"); break; } } } return false; // always return false initially or by passing a continuation to the function that makes the asynchronous call: function checkUser(success, fail) { ... request.onreadystatechange = function() { if (request.readyState == 4) { var resp = parseInt(request.responseText, 10); switch (resp) { case 0: success(request.responseText); case 1: fail(\"The display name has already been taken.\", request.reponseText); break; case 2: fail(\"This student ID has already been registered\", request.reponseText); break; default: fail(\"Unrecognized resonse: \"+resp, request.reponseText); break; } } } In addition to this, before the default return false; you might want to have some sort of indicator that something is going on, perhaps disable the submit field, show a loading circle, etc. Otherwise users might get confused if it is taking a long time to fetch the data. Further explanation Alright, so the reason your way didn't work is mostly in this line: request.onreadystatechange = function() { What that is doing is saying that when the onreadystatechange of the AJAX request changes, the anonymous function you are defining will run. This code is NOT being executed right away. It is waiting for an event to happen. This is an asynchronous process, so at the end of the function definition javascript will keep going, and if the state has not changed by the time it gets to return status; the variable status will obviously not have had time to set and your script would not work as expected. The solution in this case is to always return false; and then when the event fires (ie, the server responded with the PHP's script output) you can then determine the status and submit the form if everything is a-ok.",
    "severity": "high",
    "tags": [
      "javascript",
      "ajax",
      "asynchronous"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "562412",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 35053,
      "stackoverflow_creation_date": "2009-02-18T19:08:06.147Z",
      "stackoverflow_owner": "Muhammad Mussnoon"
    },
    "idempotency_key": "stackoverflow-562412",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I get the assembly last modified date?",
    "body": "I want to render (for internal debugging/info) the last modified date of an assembly, so I'll know when a certain website was deployed. Is it possible to get it through reflection? I get the version like this: Assembly.GetExecutingAssembly().GetName().Version.ToString(); I'm looking for something similar -- I don't want to open the physical file, get its properties, or something like that, as I'll be rendering it in the master page, and don't want that kind of overhead.",
    "code": "Assembly.GetExecutingAssembly().GetName().Version.ToString();\n\n\n# Solution Code:\nSystem.Reflection.Assembly assembly = System.Reflection.Assembly.GetExecutingAssembly();\nSystem.IO.FileInfo fileInfo = new System.IO.FileInfo(assembly.Location);\nDateTime lastModified = fileInfo.LastWriteTime;\n",
    "resolution": "I'll second pYrania's answer: System.Reflection.Assembly assembly = System.Reflection.Assembly.GetExecutingAssembly(); System.IO.FileInfo fileInfo = new System.IO.FileInfo(assembly.Location); DateTime lastModified = fileInfo.LastWriteTime; But add this: You mention you don't want to access the file system since it's in your master page and you don't want to make that extra file system hit for every page. So don't, just access it once in the Application load event and then store it as an application-level variable.",
    "severity": "high",
    "tags": [
      ".net",
      "asp.net",
      "reflection",
      "file-properties",
      "modified-date"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "804192",
      "stackoverflow_score": 43,
      "stackoverflow_view_count": 25524,
      "stackoverflow_creation_date": "2009-04-29T20:48:00.630Z"
    },
    "idempotency_key": "stackoverflow-804192",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Best Practice for Naming the Id Attribute of Dom Elements",
    "body": "This is related to naming conventions for a DOM element's id attribute and I guess the name attribute as well. When it comes to JavaScript, from what I understand and have done is always use camel case except for the names of classes. Classes are Pascal cased. Having said that I develop in ASP.NET mainly and here's where I run into a naming issue for the id attribute. In ASP.NET if you drag and drop a new server control to a page(which I rarely do, I'm a type the markup kinda guy), the default names are always Pascal cased because they need to conform to the .NET framework naming guidelines for server-side code. So when it comes to naming the id attribute of ASP.NET server controls or just elements in markup, I follow the rule to camel case the id attribute (Javascript naming guidelines), but this conflicts with the .NET naming guidelines. So, one, what casing do you folks normally do for the id attribute in DOM elements and two what do the .NET folks who develop in ASP.NET do for naming the id attribute? On top of that when I'm creating form elements in markup, I generally use Hungarian notation for text inputs, like <input type=\"text\" id=\"txtUserName\" /> or for checkboxes like <input type=\"checkbox\" id=\"chkSelectAll\" /> Which definitely goes against .NET server-side code naming guidelines and maybe JavaScript guidelines as well. Any advice is much appreciated.",
    "code": "&lt;input type=\"text\" id=\"txtUserName\" /&gt;\n\n\n&lt;input type=\"checkbox\" id=\"chkSelectAll\" /&gt;\n\n\n# Solution Code:\nBW_RCB01_SW\n\nBW_RCB01_SW\n\nblackwhite-boxtype1-bottomleft\n\npageContainerLeft\n\npageContainerleft",
    "resolution": "Keep it semantic. Use complete, simple, (preferably English) words. Don't try to come up with something fancy or technical, and don't describe what it is - we know that. Describe what it does. Describing purpose adds informational value. Don't abbreviate anything! BW_RCB01_SW meant something to the team who did our CSS to years ago, but it doesn't mean anything to me now and I have to work backwards to try to translate what BW_RCB01_SW corresponds to for my purposes, and either remember that translation or document it somewhere. Better? blackwhite-boxtype1-bottomleft. It's longer but also doesn't require a Rosetta stone. Keep it all lower-case and use underscores or hyphens. I prefer hyphens, but that's totally a preference. There should be no impediment to using hyphens, since they are not reserved in CSS or HTML and IDs are treated as literal strings in every other language. Lower case is all experience - too many hours wasted wondering why the heck won't this style apply oh. pageContainerLeft is not the same as pageContainerleft. Identify exactly what that element is, but no more. Think seriously about each piece of information you're embedding in the name and whether it's necessary. In your example - do you need to know it's a checkbox by the ID? Unlikely. You already know what element you're referring to because it's a unique ID and you have to code against that element anyway.",
    "severity": "high",
    "tags": [
      "asp.net",
      "javascript",
      "naming-conventions"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "aspnet",
      "stackoverflow_question_id": "880776",
      "stackoverflow_score": 26,
      "stackoverflow_view_count": 25423,
      "stackoverflow_creation_date": "2009-05-19T02:59:23.567Z"
    },
    "idempotency_key": "stackoverflow-880776",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I determine if a date is between two dates in Java?",
    "body": "How can I check if a date is between two other dates, in the case where all three dates are represented by instances of java.util.Date?",
    "code": "java.util.Date\n\n# Solution Code:\nDate a, b;   // assume these are set to something\nDate d;      // the date in question\n\nreturn a.compareTo(d) * d.compareTo(b) &gt; 0;\n\n\nreturn a.compareTo(d) * d.compareTo(b) &gt;= 0;\n\n\nif (a == null) {\n    return b == null || d.compareTo(b) &lt; 0;\n} else if (b == null) {\n    return a.compareTo(d) &lt; 0;\n} else {\n    return a.compareTo(d) * d.compareTo(b) &gt; 0;\n}\n\n\nnull",
    "resolution": "If you don't know the order of the min/max values Date a, b; // assume these are set to something Date d; // the date in question return a.compareTo(d) * d.compareTo(b) > 0; If you want the range to be inclusive return a.compareTo(d) * d.compareTo(b) >= 0; You can treat null as unconstrained with if (a == null) { return b == null || d.compareTo(b) < 0; } else if (b == null) { return a.compareTo(d) < 0; } else { return a.compareTo(d) * d.compareTo(b) > 0; }",
    "severity": "high",
    "tags": [
      "java",
      "date"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "883060",
      "stackoverflow_score": 118,
      "stackoverflow_view_count": 309126,
      "stackoverflow_creation_date": "2009-05-19T14:17:51.000Z"
    },
    "idempotency_key": "stackoverflow-883060",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Handling identity columns in an \"Insert Into TABLE Values()\" statement?",
    "body": "In SQL Server 2000 or above is there anyway to handle an auto generated primary key (identity) column when using a statement like the following? Insert Into TableName Values(?, ?, ?) My goal is to NOT use the column names at all.",
    "code": "Insert Into TableName Values(?, ?, ?)\n\n\n# Solution Code:\nID    NAME    ADDRESS\n\n\nINSERT INTO MyTbl VALUES ('Joe', '123 State Street, Boston, MA')\n\n\nSET IDENTITY_INSERT MyTbl ON",
    "resolution": "By default, if you have an identity column, you do not need to specify it in the VALUES section. If your table is: ID NAME ADDRESS Then you can do: INSERT INTO MyTbl VALUES ('Joe', '123 State Street, Boston, MA') This will auto-generate the ID for you, and you don't have to think about it at all. If you SET IDENTITY_INSERT MyTbl ON, you can assign a value to the ID column.",
    "severity": "high",
    "tags": [
      "sql",
      "sql-server",
      "database",
      "t-sql",
      "identity"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "935252",
      "stackoverflow_score": 40,
      "stackoverflow_view_count": 179975,
      "stackoverflow_creation_date": "2009-06-01T15:12:51.210Z"
    },
    "idempotency_key": "stackoverflow-935252",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Adjustments needed in a Rails app to use Datamapper instead of ActiveRecord",
    "body": "I am trying to use Datamapper in a Rails app as an alternative to ActiveRecord. I've followed the various setup instructions and have Datamapper working in my app. But one of the first things I noticed that no longer works is this: <%= f.error_messages %> I believe this is tied to an ActiveRecord helper - is there an alternative way of reporting validation failures in the View for Datamapper? Am I likely to encounter many more examples of functionality like this that will require adjustments in my app? Is this project doable or is it likely to involve a lot of complicated hackery? Has anyone documented all of the required application adjustments? I suspect Datamapper is not used widely because I'm finding it hard to find these kinds of simple instructions on Google.",
    "code": "  &lt;%= f.error_messages %&gt;\n",
    "severity": "low",
    "tags": [
      "ruby-on-rails",
      "activerecord",
      "datamapper"
    ],
    "metadata": {
      "stackoverflow_question_id": "962955",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 913,
      "stackoverflow_creation_date": "2009-06-07T22:20:55.107Z"
    },
    "idempotency_key": "stackoverflow-962955",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I Dynamically Load Assemblies Not on Disk into an ASP .Net Web Application?",
    "body": "I'm writing a prototype to prove the feasibility of something I'm working on. Basically, it requires loading assemblies not on disk into an application domain. On the surface, it sounds easy. In fact, it's child's play in the WinForms world where a process is a process. For the ASP.Net Web Applications, it's a bit squirrelly. I've got it working 99.99%. The current method is somewhat working like this: public class AppDomainManager : System.AppDomainManager { PhantomAssemblyLoader m_phantomAssemblyLoader; public AppDomainManager() { m_phantomAssemblyLoader = new PhantomAssemblyLoader(); } public override void InitializeNewDomain(AppDomainSetup appDomainInfo) { m_phantomAssemblyLoader.Attach(AppDomain.CurrentDomain); } } public class PhantomAssemblyLoader { public PhantomAssemblyLoader() { } public void Attach(AppDomain appDomain) { appDomain.AssemblyResolve += new ResolveEventHandler(AssemblyResolve); appDomain.DomainUnload += new EventHandler(DomainUnload); } public void Detach(AppDomain appDomain) { appDomain.AssemblyResolve -= AssemblyResolve; appDomain.DomainUnload -= DomainUnload; } void DomainUnload(object sender, EventArgs e) { this.Detach(sender as AppDomain); } private Assembly AssemblyResolve(object sender, ResolveEventArgs args) { Assembly asssembly = Assembly.Load(BlackMagic.GetBytes(sender, args)); return asssembly; } } The problem seems to be that a new AppDomain is instantiated and unloaded for each page load. The above code loads the required assembly, unloads it, loads it again and so on. I know this is happening because the static data within these phantom assemblies does not persist between page loads. The correct solution can load these phantom assemblies into the same context as those assemblies found in the /bin folder. These are loaded when the application starts and are never unloaded during the session.",
    "code": "public class AppDomainManager : System.AppDomainManager\n{\n    PhantomAssemblyLoader m_phantomAssemblyLoader;\n    public AppDomainManager()\n    {\n        m_phantomAssemblyLoader = new PhantomAssemblyLoader();\n    }\n\n    public override void InitializeNewDomain(AppDomainSetup appDomainInfo)\n    {\n        m_phantomAssemblyLoader.Attach(AppDomain.CurrentDomain);\n    }\n}\n\npublic class PhantomAssemblyLoader\n{\n    public PhantomAssemblyLoader()\n    {\n    }\n\n    public void Attach(AppDomain appDomain)\n    {\n        appDomain.AssemblyResolve += new ResolveEventHandler(AssemblyResolve);\n        appDomain.DomainUnload += new EventHandler(DomainUnload);\n    }\n\n    public void Detach(AppDomain appDomain)\n    {\n        appDomain.AssemblyResolve -= AssemblyResolve;\n        appDomain.DomainUnload -= DomainUnload;\n    }\n\n    void DomainUnload(object sender, EventArgs e)\n    {\n        this.Detach(sender as AppDomain);\n    }\n\n    private Assembly AssemblyResolve(object sender, ResolveEventArgs args)\n    {\n        Assembly asssembly = Assembly.Load(BlackMagic.GetBytes(sender, args));\n        return asssembly;\n    }\n}\n\n\n# Solution Code:\nprotected void Page_Load(object sender, EventArgs e)\n{\n   AppDomain.CurrentDomain.AssemblyResolve += new ResolveEventHandler(AssemblyResolve);\n   Assembly assembly = Assembly.Load(\"PhantomAssembly\");\n   Type t = assembly.GetType(\"PhantomAssembly.Test\");\n   MethodInfo m = t.GetMethod(\"GetIt\");\n   Response.Write(m.Invoke(null, null));\n   t.GetMethod(\"IncrementIt\").Invoke(null, null);\n}\n\nprivate static Assembly AssemblyResolve(object sender, ResolveEventArgs args)\n{\n   Assembly asssembly = Assembly.Load(File.ReadAllBytes(@\"C:\\PhantomAssembly.dll\"));\n   return asssembly;\n}\n",
    "resolution": "If you read documentation on AppDomainManager you will see a note: Do not use AppDomainManager to configure an application domain in ASP.NET. In ASP.NET, configuration must be handled by the host. Therefore, you should not use environment variables or registry to customize AppDomainManager. I believe you can achieve what you want by simply adding AssemblyResolve event handler to AppDomain.CurrentDomain. I created simple website and it works as expected - dynamic assembly doesn't get unloaded between page loads. protected void Page_Load(object sender, EventArgs e) { AppDomain.CurrentDomain.AssemblyResolve += new ResolveEventHandler(AssemblyResolve); Assembly assembly = Assembly.Load(\"PhantomAssembly\"); Type t = assembly.GetType(\"PhantomAssembly.Test\"); MethodInfo m = t.GetMethod(\"GetIt\"); Response.Write(m.Invoke(null, null)); t.GetMethod(\"IncrementIt\").Invoke(null, null); } private static Assembly AssemblyResolve(object sender, ResolveEventArgs args) { Assembly asssembly = Assembly.Load(File.ReadAllBytes(@\"C:\\PhantomAssembly.dll\")); return asssembly; }",
    "severity": "medium",
    "tags": [
      "c#",
      "asp.net"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "aspnet",
      "stackoverflow_question_id": "966288",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 3440,
      "stackoverflow_creation_date": "2009-06-08T18:39:42.480Z"
    },
    "idempotency_key": "stackoverflow-966288",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why does Update Progress does not fire when AssociatedUpdatePanelId is set?",
    "body": "When I assign the AssociatedUpdatePanelId, the progress does not display when I select a state, but when I leave it blank, it displays the progress. Here is the aspx markup: <div> <asp:ListBox ID=\"lstStates\" runat=\"server\" AutoPostBack=\"True\" OnSelectedIndexChanged=\"lstStates_SelectedIndexChanged\" SelectionMode=\"Multiple\"> </asp:ListBox> </div> <div> <asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"> <ContentTemplate> <asp:Panel ID=\"pnlCounty\" runat=\"server\"> <asp:ListBox ID=\"lstCounties\" runat=\"server\" SelectionMode=\"Multiple\"> </asp:ListBox> </asp:Panel> </ContentTemplate> <Triggers> <asp:AsyncPostBackTrigger ControlID=\"lstStates\" EventName=\"SelectedIndexChanged\" /> </Triggers> </asp:UpdatePanel> <asp:UpdateProgress ID=\"UpdateProgress2\" runat=\"server\" DisplayAfter=\"1\" AssociatedUpdatePanelID=\"UpdatePanel1\"> <ProgressTemplate> <img src=\"../images/loader2.gif\" /> Loading Counties... </ProgressTemplate> </asp:UpdateProgress> </div>",
    "code": "&lt;div&gt;\n    &lt;asp:ListBox ID=\"lstStates\" runat=\"server\" AutoPostBack=\"True\"\n    OnSelectedIndexChanged=\"lstStates_SelectedIndexChanged\" SelectionMode=\"Multiple\"&gt;\n    &lt;/asp:ListBox&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;asp:UpdatePanel ID=\"UpdatePanel1\" runat=\"server\"&gt;\n    &lt;ContentTemplate&gt;\n    &lt;asp:Panel ID=\"pnlCounty\" runat=\"server\"&gt;\n    &lt;asp:ListBox ID=\"lstCounties\" runat=\"server\" SelectionMode=\"Multiple\"&gt;\n    &lt;/asp:ListBox&gt;\n    &lt;/asp:Panel&gt;\n    &lt;/ContentTemplate&gt;\n    &lt;Triggers&gt;\n    &lt;asp:AsyncPostBackTrigger ControlID=\"lstStates\" EventName=\"SelectedIndexChanged\" /&gt;\n    &lt;/Triggers&gt;\n    &lt;/asp:UpdatePanel&gt;\n    &lt;asp:UpdateProgress ID=\"UpdateProgress2\" runat=\"server\" DisplayAfter=\"1\"\n                        AssociatedUpdatePanelID=\"UpdatePanel1\"&gt;\n    &lt;ProgressTemplate&gt;\n    &lt;img src=\"../images/loader2.gif\" /&gt;\n    Loading Counties...\n    &lt;/ProgressTemplate&gt;\n    &lt;/asp:UpdateProgress&gt;\n&lt;/div&gt;\n\n\n# Solution Code:\n&lt;script type=\"text/JavaScript\" language=\"JavaScript\"&gt;\n    function pageLoad()\n    {      \n       var manager = Sys.WebForms.PageRequestManager.getInstance();\n       manager.add_endRequest(endRequest);\n       manager.add_beginRequest(OnBeginRequest);\n    }\n    function OnBeginRequest(sender, args)\n    {\n      var postBackElement = args.get_postBackElement();\n      if (postBackElement.id == 'lstStates')\n      { \n     $get('UpdateProgress2').style.display = \"block\";  \n      }\n   }\n&lt;/script&gt;\n",
    "resolution": "According to this article, external triggers for an UpdatePanel do not fire an associated UpdateProgress, since the implementation of enabling the UpdateProgress control searches the control hierarchy for the calling control; an external trigger will not be present in the control hierarchy. The article does, however, suggest injecting some JavaScript to make up for this error; I have modified it to (hopefully) fit your needs: <script type=\"text/JavaScript\" language=\"JavaScript\"> function pageLoad() { var manager = Sys.WebForms.PageRequestManager.getInstance(); manager.add_endRequest(endRequest); manager.add_beginRequest(OnBeginRequest); } function OnBeginRequest(sender, args) { var postBackElement = args.get_postBackElement(); if (postBackElement.id == 'lstStates') { $get('UpdateProgress2').style.display = \"block\"; } } </script>",
    "severity": "high",
    "tags": [
      "asp.net",
      "updatepanel"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "996957",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 10427,
      "stackoverflow_creation_date": "2009-06-15T16:08:21.830Z"
    },
    "idempotency_key": "stackoverflow-996957",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to get store type of an entity set",
    "body": "I'm trying to filter entities based on their store types (either table or view). I have 2 entities in my test project, one's source is a table and the other's source is a view. <EntitySet Name=\"Test\" EntityType=\"TestModel.Store.Test\" store:Type=\"Tables\" Schema=\"dbo\" /> <EntitySet Name=\"TestView\" EntityType=\"TestModel.Store.TestView\" store:Type=\"Views\" store:Schema=\"dbo\" store:Name=\"TestView\"> The code sample above is taken from model's edmx file's SSDL section. I think the store:Type information in SSDL is what i need but i couldn't find a way to retrieve that value using entity-framework api. Any help will be appreciated.",
    "code": "&lt;EntitySet Name=\"Test\" EntityType=\"TestModel.Store.Test\" store:Type=\"Tables\" Schema=\"dbo\" /&gt;\n&lt;EntitySet Name=\"TestView\" EntityType=\"TestModel.Store.TestView\" store:Type=\"Views\" store:Schema=\"dbo\" store:Name=\"TestView\"&gt;\n\n\n# Solution Code:\nvar sspaceEntitySets = context.MetadataWorkspace\n                       .GetItems&lt;EntityContainer&gt;(DataSpace.SSpace)\n                       .First().BaseEntitySets.OfType&lt;EntitySet&gt;();\nvar entitySet = sspaceEntitySets.First();\nvar tableType = entitySet\n.MetadataProperties[\"http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator:Type\"]\n.Value.ToString();\n",
    "resolution": "Well you can query the metadata in the SSDL by looking in the SSpace or the StoreItemCollection. i.e. var sspaceEntitySets = context.MetadataWorkspace .GetItems<EntityContainer>(DataSpace.SSpace) .First().BaseEntitySets.OfType<EntitySet>(); var entitySet = sspaceEntitySets.First(); var tableType = entitySet .MetadataProperties[\"http://schemas.microsoft.com/ado/2007/12/edm/EntityStoreSchemaGenerator:Type\"] .Value.ToString(); Unfortunately this isn't going to help you tie your classes to whether they come from a table or a view. Because the Entities (i.e. the ones you code against in CSpace) rather than the ones that describe the shapes of the table (i.e. SSpace ones) are in CSpace and in order to know whether an Entity comes from a view or table, you would need to be able to get from the CSpace EntitySet to SSpace EntitySet via the Mapping. Unfortunately the EF doesn't expose public CSSPace (i.e. there is no way to use the API to read the MSL fragment of the EDMX). So in order to do this you would have to manually reason over the MSL element, probably using LINQ to XML or something. Hope this helps Alex",
    "severity": "medium",
    "tags": [
      "entity-framework",
      "view",
      "metadata"
    ],
    "metadata": {
      "stackoverflow_question_id": "1024334",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4465,
      "stackoverflow_creation_date": "2009-06-21T17:08:07.557Z"
    },
    "idempotency_key": "stackoverflow-1024334",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to query for map element in hibernate?",
    "body": "I have a hibernate mapping which looks like this: <hibernate-mapping> <class name=\"MutableEvent\" table=\"events\" mutable=\"true\" dynamic-insert=\"true\" dynamic-update=\"true\"> <id name=\"id\"> <generator class=\"assigned\" /> </id> <property name=\"sourceTimestamp\" /> <property name=\"entryTimestamp\" /> <map name=\"attributes\" table=\"event_attribs\" access=\"field\" cascade=\"all\"> <key column=\"id\" /> <map-key type=\"string\" column=\"key\" /> <element type=\"VariantHibernateType\"> <column name=\"value_type\" not-null=\"false\" /> <column name=\"value_string\" not-null=\"false\" /> <column name=\"value_integer\" not-null=\"false\" /> <column name=\"value_double\" not-null=\"false\" /> </element> </map> </class> </hibernate-mapping> Storing and loading of my Object works fine. The question I have, is querying for maps in hibernate supported, and how would I do it using the criteria api? I want to do something like this (this is actually a part of my testcase): ... m.getAttributes().put(\"other\", new Variant(\"aValue\")); this.storeEvent(MutableEvent.fromEvent(e)); getSession().clear(); MutableEvent m = (MutableEvent) getSession().get(MutableEvent.class, e.getId()); Assert.assertNotNull(m.getAttributes().get(\"other\")); Assert.assertEquals(new Variant(\"aValue\"), m.getAttributes().get(\"other\")); Assert.assertNull(m.getAttributes().get(\"other2\")); getSession().clear(); crit = DetachedCriteria.forClass(MutableEvent.class); crit.add(Restrictions.eq(\"attributes.other\", new Variant(\"aValue\"))); List l = this.findByCriteria(crit); Assert.assertEquals(1, l.size()); The important part is, this fails with \"Could not resolve property: attributes.other\": crit.add(Restrictions.eq(\"attributes.other\", new Variant(\"aValue\"))); List l = this.findByCriteria(crit); Is there a solution for that problem at all? Update List l = find(\"from MutableEvent M where M.attributes['other'] = ?\", new Variant(\"aValue\")); The above code doesn't throw a exception, but the query itself is still not what I want to have. I created a custom type as one may see by the mapping, actually I would want to query for a string (column value_string) but any attempt to modify the query to access a part of the type like in \"from MutableEvent M where M.attributes['other'].string = ?\" doesnt work. So how would I query for a part of a component? The Type is implemented like this: ... private static final String[] PROPERTY_NAMES = { \"type\", \"string\", \"integer\", \"double\" }; public String[] getPropertyNames() { return PROPERTY_NAMES; } ...",
    "code": "&lt;hibernate-mapping&gt;\n    &lt;class name=\"MutableEvent\" table=\"events\"\n        mutable=\"true\" dynamic-insert=\"true\" dynamic-update=\"true\"&gt;\n\n        &lt;id name=\"id\"&gt;\n            &lt;generator class=\"assigned\" /&gt;\n        &lt;/id&gt;\n        &lt;property name=\"sourceTimestamp\" /&gt;\n        &lt;property name=\"entryTimestamp\" /&gt;\n\n        &lt;map name=\"attributes\" table=\"event_attribs\"\n            access=\"field\" cascade=\"all\"&gt;\n            &lt;key column=\"id\" /&gt;\n            &lt;map-key type=\"string\" column=\"key\" /&gt;\n            &lt;element type=\"VariantHibernateType\"&gt;\n                &lt;column name=\"value_type\" not-null=\"false\" /&gt;\n                &lt;column name=\"value_string\" not-null=\"false\" /&gt;\n                &lt;column name=\"value_integer\" not-null=\"false\" /&gt;\n                &lt;column name=\"value_double\" not-null=\"false\" /&gt;\n            &lt;/element&gt;\n        &lt;/map&gt;\n\n    &lt;/class&gt;\n&lt;/hibernate-mapping&gt;\n\n\n...\nm.getAttributes().put(\"other\", new Variant(\"aValue\"));\nthis.storeEvent(MutableEvent.fromEvent(e));\ngetSession().clear();\nMutableEvent m = (MutableEvent) getSession().get(MutableEvent.class, e.getId());\nAssert.assertNotNull(m.getAttributes().get(\"other\"));\nAssert.assertEquals(new Variant(\"aValue\"), m.getAttributes().get(\"other\"));\nAssert.assertNull(m.getAttributes().get(\"other2\"));\ngetSession().clear();\ncrit = DetachedCriteria.forClass(MutableEvent.class);\ncrit.add(Restrictions.eq(\"attributes.other\", new Variant(\"aValue\")));\nList l = this.findByCriteria(crit);\nAssert.assertEquals(1, l.size());\n\n\ncrit.add(Restrictions.eq(\"attributes.other\", new Variant(\"aValue\")));\nList l = this.findByCriteria(crit);\n\n\nList l = find(\"from MutableEvent M where M.attributes['other'] = ?\", new Variant(\"aValue\"));\n\n\n...\nprivate static final String[] PROPERTY_NAMES = { \"type\", \"string\", \"integer\", \"double\" };\n\npublic String[] getPropertyNames() {\n    return PROPERTY_NAMES;\n}\n...\n",
    "severity": "medium",
    "tags": [
      "java",
      "hibernate",
      "criteria"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "1070440",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2849,
      "stackoverflow_creation_date": "2009-07-01T17:43:54.310Z"
    },
    "idempotency_key": "stackoverflow-1070440",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why doesn't Java tell you which pointer is null?",
    "body": "I've always wondered why the JVM doesn't tell you which pointer (or more precisely, which variable) is null when a NullPointerException is thrown. A line number isn't specific enough because the offending line can often contain numerous variables that could have caused the error. Is there any compiler or JVM flag that would make these exception messages more useful?",
    "code": "NullPointerException\n\n# Solution Code:\n15 aload_1\n16 invokevirtual #5 \n\n\n76 aload    5\n78 iconst_0\n79 aaload\n80 invokevirtual #5\n\n\n(myflag ? objA : objB).toString()\n",
    "resolution": "It's because the dereference always happens when there is no name available. The value is loaded onto the operand stack, and is then passed to one of the JRE opcodes that dereferences it. However, the operand stack does not have a name to associate with a null value. All it has is 'null'. With some clever runtime tracking code, a name can be derived, but that would add overhead with limited value. Because of this, there is no JRE option that will turn on extra information for null pointer exceptions. In this example, the reference is stored in local slot 1, which maps to a local variable name. But the dereference happens in the invokevirtual instruction, which only sees a 'null' value on the stack, and then throws an exception: 15 aload_1 16 invokevirtual #5 Equally valid would be an array load followed by a dereference, but in this case there is no name to map to the 'null' value, just an index off of another value. 76 aload 5 78 iconst_0 79 aaload 80 invokevirtual #5 You can't allocate the names statically to each instruction either - this example produces a lot of bytecode, but you can see that the dereference instruction will receive either objA or objB, and you would need to track this dynamically to report the right one, as both variables flow to the same dereference instruction: (myflag ? objA : objB).toString()",
    "severity": "medium",
    "tags": [
      "java",
      "debugging",
      "nullpointerexception"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "1168244",
      "stackoverflow_score": 29,
      "stackoverflow_view_count": 2555,
      "stackoverflow_creation_date": "2009-07-22T21:05:39.793Z"
    },
    "idempotency_key": "stackoverflow-1168244",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to call .ajaxStart() on specific ajax calls",
    "body": "I have some ajax calls on the document of a site that display or hide a progress bar depending on the ajax status $(document).ajaxStart(function(){ $('#ajaxProgress').show(); }); $(document).ajaxStop(function(){ $('#ajaxProgress').hide(); }); I would like to basically overwirte these methods on other parts of the site where a lot of quick small ajax calls are made and do not need the progress bar popping in and out. I am trying to attach them to or insert them in other $.getJSON and $.ajax calls. I have tried chaining them but apparently that is no good. $.getJSON().ajaxStart(function(){ 'kill preloader'});",
    "code": "  $(document).ajaxStart(function(){ \n        $('#ajaxProgress').show(); \n    });\n  $(document).ajaxStop(function(){ \n        $('#ajaxProgress').hide(); \n    });\n\n\n$.getJSON().ajaxStart(function(){ 'kill preloader'});\n\n\n# Solution Code:\n$(document).bind(\"ajaxStart.mine\", function() {\n    $('#ajaxProgress').show();\n});\n\n$(document).bind(\"ajaxStop.mine\", function() {\n    $('#ajaxProgress').hide();\n});\n\n\n$(document).unbind(\".mine\");\n",
    "resolution": "2018 NOTE: This answer is obsolete; feel free to propose an edit to this answer that will work. You can bind the ajaxStart and ajaxStop using custom namespace: $(document).bind(\"ajaxStart.mine\", function() { $('#ajaxProgress').show(); }); $(document).bind(\"ajaxStop.mine\", function() { $('#ajaxProgress').hide(); }); Then, in other parts of the site you'll be temporarily unbinding them before your .json calls: $(document).unbind(\".mine\"); Got the idea from here while searching for an answer. EDIT: I haven't had time to test it, alas.",
    "severity": "high",
    "tags": [
      "jquery",
      "ajax",
      "progress-bar",
      "preloader"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "1191485",
      "stackoverflow_score": 56,
      "stackoverflow_view_count": 84640,
      "stackoverflow_creation_date": "2009-07-28T01:23:48.967Z"
    },
    "idempotency_key": "stackoverflow-1191485",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "including Modules in controller",
    "body": "I have done a module in lib directory in ruby on rails application its like module Select def self.included(base) base.extend ClassMethods end module ClassMethods def select_for(object_name, options={}) #does some operation self.send(:include, Selector::InstanceMethods) end end I called this in a controller like include Selector select_for :organization, :submenu => :general but I want to call this in a function i.e def select #Call the module here end",
    "code": "module Select  \n\n  def self.included(base)\n    base.extend ClassMethods\n  end \n\n module ClassMethods\n\n    def select_for(object_name, options={})\n\n       #does some operation\n      self.send(:include, Selector::InstanceMethods)\n    end\n  end\n\n\ninclude Selector\n\n  select_for :organization, :submenu =&gt; :general\n\n\n def select\n  #Call the module here \n end\n\n\n# Solution Code:\nclass MyController &lt; ApplicationController\n  include Select\n\n  # You used to call this in the class scope, we're going to move it to\n  # An instance scope.\n  #\n  # select_for :organization, :submenu =&gt; :general\n\n  def show # Or any action\n    # Now we're using this inside an instance method.\n    #\n    select_for :organization, :submenu =&gt; :general\n\n  end\n\nend\n\n\nmodule Select  \n\n  def self.included(base)\n    base.class_eval do\n      include InstanceMethods\n    end\n  end \n\n  module InstanceMethods\n\n    def select_for(object_name, options={})\n       # Does some operation\n      self.send(:include, Selector::InstanceMethods)\n    end\n\n  end\n\nend\n\n\nmodule Select  \n\n  def self.included(base)\n    base.class_eval do\n      include InstanceMethods\n      extend  ClassMethods\n    end\n  end \n\n  module InstanceMethods\n\n    def select_for(object_name, options={})\n       # Does some operation\n      self.send(:include, Selector::InstanceMethods)\n    end\n\n  end\n\n  module ClassMethods\n\n    def a_class_method\n    end\n\n  end\n\nend\n\n\ninclude\n\nextend\n\nextend\n\ninclude\n\nextend\n\ninclude\n\nSelect\n\nSelector\n\nSelect",
    "resolution": "Let's clarify: You have a method defined in a module, and you want that method to be used in an instance method. class MyController < ApplicationController include Select # You used to call this in the class scope, we're going to move it to # An instance scope. # # select_for :organization, :submenu => :general def show # Or any action # Now we're using this inside an instance method. # select_for :organization, :submenu => :general end end I'm going to change your module slightly. This uses include instead of extend. extend is for adding class methods, and include it for adding instance methods: module Select def self.included(base) base.class_eval do include InstanceMethods end end module InstanceMethods def select_for(object_name, options={}) # Does some operation self.send(:include, Selector::InstanceMethods) end end end That will give you an instance method. If you want both instance and class methods, you just add the ClassMethods module, and use extend instead of include: module Select def self.included(base) base.class_eval do include InstanceMethods extend ClassMethods end end module InstanceMethods def select_for(object_name, options={}) # Does some operation self.send(:include, Selector::InstanceMethods) end end module ClassMethods def a_class_method end end end Does that clear things up? In your example you defined a module as Select but included Selector in your controller...I just used Select in my code.",
    "severity": "high",
    "tags": [
      "ruby-on-rails"
    ],
    "metadata": {
      "stackoverflow_question_id": "1237367",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 10969,
      "stackoverflow_creation_date": "2009-08-06T07:08:27.597Z",
      "stackoverflow_owner": "sgiri"
    },
    "idempotency_key": "stackoverflow-1237367",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Listbox Selected Item Checking",
    "body": "My code follows. I have six items (indices 0-6) and I'm trying to check if one has been selected or not. If not, then messagebox yells at you to select one. If it does, it tells you what you have selected. I'm having a horrible brain fart and contemplated coming here for about 45 minutes as I couldn't get it. If ListBox1.SelectedItem.ToString <> \"\" Then MessageBox.Show(\"You selected \" + ListBox1.SelectedItem.ToString) Else MessageBox.Show(\"Please select an item.\") End If Thanks for relieving me of stupidty.",
    "code": "If ListBox1.SelectedItem.ToString &lt;&gt; \"\" Then\n    MessageBox.Show(\"You selected \" + ListBox1.SelectedItem.ToString)\nElse\n    MessageBox.Show(\"Please select an item.\")\nEnd If\n\n\n# Solution Code:\nIf ListBox1.SelectedItems.Count == 0\n\n\nIf ListBox1.SelectedIndex &gt; -1\n",
    "resolution": "If this is a System.Windows.Forms ListBox, it can have multiple items: If ListBox1.SelectedItems.Count == 0 If this is a System.Web.UI.WebControls ListBox, it can also have multiple items but the properties don't reflect that. If one or more items is selected, the first item will be the SelectedIndex, otherwise it is -1: If ListBox1.SelectedIndex > -1",
    "severity": "medium",
    "tags": [
      ".net",
      "vb.net"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "1252654",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6499,
      "stackoverflow_creation_date": "2009-08-10T00:17:00.127Z",
      "stackoverflow_owner": "Kyle"
    },
    "idempotency_key": "stackoverflow-1252654",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is good practice for generating verbose output?",
    "body": "what is good practice for generating verbose output? currently, i have a function bool verbose; int setVerbose(bool v) { errormsg = \"\"; verbose = v; if (verbose == v) return 0; else return -1; } and whenever i want to generate output, i do something like if (debug) std::cout << \"deleting interp\" << std::endl; however, i don't think that's very elegant. so i wonder what would be a good way to implement this verbosity switch?",
    "code": "bool verbose;\nint setVerbose(bool v)\n{\n    errormsg = \"\";\n    verbose = v;\n    if (verbose == v)\n        return 0;\n    else\n        return -1;\n}\n\n\nif (debug)\n     std::cout &lt;&lt; \"deleting interp\" &lt;&lt; std::endl;\n\n\n# Solution Code:\n#include &lt;sstream&gt;\n#include &lt;boost/format.hpp&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nenum log_level_t {\n    LOG_NOTHING,\n    LOG_CRITICAL,\n    LOG_ERROR,\n    LOG_WARNING,\n    LOG_INFO,\n    LOG_DEBUG\n};\n\nnamespace log_impl {\nclass formatted_log_t {\npublic:\n    formatted_log_t( log_level_t level, const wchar_t* msg ) : fmt(msg), level(level) {}\n    ~formatted_log_t() {\n        // GLOBAL_LEVEL is a global variable and could be changed at runtime\n        // Any customization could be here\n        if ( level &lt;= GLOBAL_LEVEL ) wcout &lt;&lt; level &lt;&lt; L\" \" &lt;&lt; fmt &lt;&lt; endl;\n    }        \n    template &lt;typename T&gt; \n    formatted_log_t&amp; operator %(T value) {\n        fmt % value;\n        return *this;\n    }    \nprotected:\n    log_level_t     level;\n    boost::wformat      fmt;\n};\n}//namespace log_impl\n// Helper function. Class formatted_log_t will not be used directly.\ntemplate &lt;log_level_t level&gt;\nlog_impl::formatted_log_t log(const wchar_t* msg) {\n    return log_impl::formatted_log_t( level, msg );\n}\n\n\nint main ()\n{\n    // Log level is clearly separated from the log message\n    log&lt;LOG_DEBUG&gt;(L\"TEST %3% %2% %1%\") % 5 % 10 % L\"privet\";\n    return 0;\n}\n\n\nlog\n\nGLOBAL_LEVEL",
    "resolution": "The simplest way is to create small class as follows(here is Unicode version, but you can easily change it to single-byte version): #include <sstream> #include <boost/format.hpp> #include <iostream> using namespace std; enum log_level_t { LOG_NOTHING, LOG_CRITICAL, LOG_ERROR, LOG_WARNING, LOG_INFO, LOG_DEBUG }; namespace log_impl { class formatted_log_t { public: formatted_log_t( log_level_t level, const wchar_t* msg ) : fmt(msg), level(level) {} ~formatted_log_t() { // GLOBAL_LEVEL is a global variable and could be changed at runtime // Any customization could be here if ( level <= GLOBAL_LEVEL ) wcout << level << L\" \" << fmt << endl; } template <typename T> formatted_log_t& operator %(T value) { fmt % value; return *this; } protected: log_level_t level; boost::wformat fmt; }; }//namespace log_impl // Helper function. Class formatted_log_t will not be used directly. template <log_level_t level> log_impl::formatted_log_t log(const wchar_t* msg) { return log_impl::formatted_log_t( level, msg ); } Helper function log was made template to get nice call syntax. Then it could be used in the following way: int main () { // Log level is clearly separated from the log message log<LOG_DEBUG>(L\"TEST %3% %2% %1%\") % 5 % 10 % L\"privet\"; return 0; } You could change verbosity level at runtime by changing global GLOBAL_LEVEL variable.",
    "severity": "high",
    "tags": [
      "c++",
      "verbosity"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "1255576",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 21578,
      "stackoverflow_creation_date": "2009-08-10T15:28:48.767Z"
    },
    "idempotency_key": "stackoverflow-1255576",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Real-time graphing in Java",
    "body": "I have an application which updates a variable about between 5 to 50 times a second and I am looking for some way of drawing a continuous XY plot of this change in real-time. Though JFreeChart is not recommended for such a high update rate, many users still say that it works for them. I've tried using this demo and modified it to display a random variable, but it seems to use up 100% CPU usage all the time. Even if I ignore that, I do not want to be restricted to JFreeChart's ui class for constructing forms (though I'm not sure what its capabilities are exactly). Would it be possible to integrate it with Java's \"forms\" and drop-down menus? (as are available in VB) Otherwise, are there any alternatives I could look into? EDIT: I'm new to Swing, so I've put together a code just to test the functionality of JFreeChart with it (while avoiding the use of the ApplicationFrame class of JFree since I'm not sure how that will work with Swing's combo boxes and buttons). Right now, the graph is being updated immediately and CPU usage is high. Would it be possible to buffer the value with new Millisecond() and update it maybe twice a second? Also, can I add other components to the rest of the JFrame without disrupting JFreeChart? How would I do that? frame.getContentPane().add(new Button(\"Click\")) seems to overwrite the graph. package graphtest; import java.util.Random; import javax.swing.JFrame; import org.jfree.chart.ChartFactory; import org.jfree.chart.ChartPanel; import org.jfree.chart.JFreeChart; import org.jfree.chart.axis.ValueAxis; import org.jfree.chart.plot.XYPlot; import org.jfree.data.time.Millisecond; import org.jfree.data.time.TimeSeries; import org.jfree.data.time.TimeSeriesCollection; public class Main { static TimeSeries ts = new TimeSeries(\"data\", Millisecond.class); public static void main(String[] args) throws InterruptedException { gen myGen = new gen(); new Thread(myGen).start(); TimeSeriesCollection dataset = new TimeSeriesCollection(ts); JFreeChart chart = ChartFactory.createTimeSeriesChart( \"GraphTest\", \"Time\", \"Value\", dataset, true, true, false ); final XYPlot plot = chart.getXYPlot(); ValueAxis axis = plot.getDomainAxis(); axis.setAutoRange(true); axis.setFixedAutoRange(60000.0); JFrame frame = new JFrame(\"GraphTest\"); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); ChartPanel label = new ChartPanel(chart); frame.getContentPane().add(label); //Suppose I add combo boxes and buttons here later frame.pack(); frame.setVisible(true); } static class gen implements Runnable { private Random randGen = new Random(); public void run() { while(true) { int num = randGen.nextInt(1000); System.out.println(num); ts.addOrUpdate(new Millisecond(), num); try { Thread.sleep(20); } catch (InterruptedException ex) { System.out.println(ex); } } } } }",
    "code": "package graphtest;\n\nimport java.util.Random;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.axis.ValueAxis;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.data.time.Millisecond;\nimport org.jfree.data.time.TimeSeries;\nimport org.jfree.data.time.TimeSeriesCollection;\n\npublic class Main {\n    static TimeSeries ts = new TimeSeries(\"data\", Millisecond.class);\n\n    public static void main(String[] args) throws InterruptedException {\n        gen myGen = new gen();\n        new Thread(myGen).start();\n\n        TimeSeriesCollection dataset = new TimeSeriesCollection(ts);\n        JFreeChart chart = ChartFactory.createTimeSeriesChart(\n            \"GraphTest\",\n            \"Time\",\n            \"Value\",\n            dataset,\n            true,\n            true,\n            false\n        );\n        final XYPlot plot = chart.getXYPlot();\n        ValueAxis axis = plot.getDomainAxis();\n        axis.setAutoRange(true);\n        axis.setFixedAutoRange(60000.0);\n\n        JFrame frame = new JFrame(\"GraphTest\");\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        ChartPanel label = new ChartPanel(chart);\n        frame.getContentPane().add(label);\n        //Suppose I add combo boxes and buttons here later\n\n        frame.pack();\n        frame.setVisible(true);\n    }\n\n    static class gen implements Runnable {\n        private Random randGen = new Random();\n\n        public void run() {\n            while(true) {\n                int num = randGen.nextInt(1000);\n                System.out.println(num);\n                ts.addOrUpdate(new Millisecond(), num);\n                try {\n                    Thread.sleep(20);\n                } catch (InterruptedException ex) {\n                    System.out.println(ex);\n                }\n            }\n        }\n    }\n\n}\n\n\n# Solution Code:\nSwingWorker",
    "resolution": "In order to get your CPU well below 100% and allow your GUI to remain responsive, you have to throttle back your chart updating rate. A maximum update rate of around 24 frames per second makes sense for a real-time chart; any faster is more or less indistinguishable anyway. If your data is coming in faster than that rate, you just need to buffer it in the background and update your chart in the foreground at your desired update rate. In the following example, I use XChart along with a SwingWorker background thread. The data capture is simulated at a rate of one per every 5 ms and the chart is updated at 24 frames per second. This concept should work with JFreeCharts or any other charting library as well with slight modification. Disclaimer: I'm the lead developer of XChart. import java.util.LinkedList; import java.util.List; import javax.swing.SwingWorker; import org.knowm.xchart.QuickChart; import org.knowm.xchart.SwingWrapper; import org.knowm.xchart.XYChart; /** * Creates a real-time chart using SwingWorker */ public class SwingWorkerRealTime { MySwingWorker mySwingWorker; SwingWrapper<XYChart> sw; XYChart chart; public static void main(String[] args) throws Exception { SwingWorkerRealTime swingWorkerRealTime = new SwingWorkerRealTime(); swingWorkerRealTime.go(); } private void go() { // Create Chart chart = QuickChart.getChart(\"SwingWorker XChart Real-time Demo\", \"Time\", \"Value\", \"randomWalk\", new double[] { 0 }, new double[] { 0 }); chart.getStyler().setLegendVisible(false); chart.getStyler().setXAxisTicksVisible(false); // Show it sw = new SwingWrapper<XYChart>(chart); sw.displayChart(); mySwingWorker = new MySwingWorker(); mySwingWorker.execute(); } private class MySwingWorker extends SwingWorker<Boolean, double[]> { LinkedList<Double> fifo = new LinkedList<Double>(); public MySwingWorker() { fifo.add(0.0); } @Override protected Boolean doInBackground() throws Exception { while (!isCancelled()) { fifo.add(fifo.get(fifo.size() - 1) + Math.random() - .5); if (fifo.size() > 500) { fifo.removeFirst(); } double[] array = new double[fifo.size()]; for (int i = 0; i < fifo.size(); i++) { array[i] = fifo.get(i); } publish(array); try { Thread.sleep(5); } catch (InterruptedException e) { // eat it. caught when interrupt is called System.out.println(\"MySwingWorker shut down.\"); } } return true; } @Override protected void process(List<double[]> chunks) { System.out.println(\"number of chunks: \" + chunks.size()); double[] mostRecentDataSet = chunks.get(chunks.size() - 1); chart.updateXYSeries(\"randomWalk\", null, mostRecentDataSet, null); sw.repaintChart(); long start = System.currentTimeMillis(); long duration = System.currentTimeMillis() - start; try { Thread.sleep(40 - duration); // 40 ms ==> 25fps // Thread.sleep(400 - duration); // 40 ms ==> 2.5fps } catch (InterruptedException e) { } } } }",
    "severity": "high",
    "tags": [
      "java",
      "graph",
      "real-time",
      "jfreechart"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "1389285",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 41153,
      "stackoverflow_creation_date": "2009-09-07T12:50:23.053Z"
    },
    "idempotency_key": "stackoverflow-1389285",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I understand complicated function declarations?",
    "body": "How do I understand following complicated declarations? char (*(*f())[])(); char (*(*X[3])())[5]; void (*f)(int,void (*)()); char far *far *ptr; typedef void (*pfun)(int,float); int **(*f)(int**,int**(*)(int **,int **));",
    "code": "char (*(*f())[])();\n\nchar (*(*X[3])())[5];\n\nvoid (*f)(int,void (*)()); \n\nchar far *far *ptr;\n\ntypedef void (*pfun)(int,float);\n\nint **(*f)(int**,int**(*)(int **,int **));\n\n\n# Solution Code:\nchar (*(*X[3])())[5];\n         ^\n\n\nX[3]\n ^^^\n\n\n(*X[3])\n ^                /* the parenthesis group the sub-expression */\n\n\n(*X[3])()\n       ^^\n\n\n(*(*X[3])())\n ^                   /* more grouping parenthesis */\n\n\n(*(*X[3])())[5]\n            ^^^\n\n\nchar (*(*X[3])())[5];\n^^^^                ^\n\n\nchar (*(*X[3])())[5];",
    "resolution": "As others have pointed out, cdecl is the right tool for the job. If you want to understand that kind of declaration without help from cdecl, try reading from the inside out and right to left Taking one random example from your list char (*(*X[3])())[5]; Start at X, which is the identifier being declared/defined (and the innermost identifier): char (*(*X[3])())[5]; ^ X is X[3] ^^^ X is an array of 3 (*X[3]) ^ /* the parenthesis group the sub-expression */ X is an array of 3 pointers to (*X[3])() ^^ X is an array of 3 pointers to function accepting an unspecified (but fixed) number of arguments (*(*X[3])()) ^ /* more grouping parenthesis */ X is an array of 3 pointers to function accepting an unspecified (but fixed) number of arguments and returning a pointer (*(*X[3])())[5] ^^^ X is an array of 3 pointers to function accepting an unspecified (but fixed) number of arguments and returning a pointer to an array of 5 char (*(*X[3])())[5]; ^^^^ ^ X is an array of 3 pointers to function accepting an unspecified (but fixed) number of arguments and returning a pointer to an array of 5 char.",
    "severity": "medium",
    "tags": [
      "c",
      "pointers",
      "declaration"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "1448849",
      "stackoverflow_score": 36,
      "stackoverflow_view_count": 7014,
      "stackoverflow_creation_date": "2009-09-19T16:08:14.330Z"
    },
    "idempotency_key": "stackoverflow-1448849",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "IE 8 div and css cursor",
    "body": "In example bellow when you hover on icons cursor should be changed to different. It works except of IE 8. On IE 8 these icons turned to be unclikable, i.e. not only cursor are not changed, but also Jquery click event does not fire. Consider how the following html code works at FF, IE7 and eventually at IE8: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head> <title>CSS IE 8 cursor test</title> <style type=\"text/css\" media=\"screen\"> .icon-button { float: left; cursor: pointer; } .ui-icon { width: 15px; height: 10px; background-image: url(http://sstatic.net/so/img/replies-off.png); } </style> </head> <body> <div class=\"icon-button ui-icon\"></div> <div>Sample Text</div> </body> </html> What migth be the root of problem? What could be possible workarrounds? Thanks in advance. P.S. Changing DOCTYPE is not really possible. Also if I remove float: left on this example it seems like \"fixed\", but when I remove it on a website, besides broken design, it does not help also.",
    "code": "&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head&gt;\n    &lt;title&gt;CSS IE 8 cursor test&lt;/title&gt;\n     &lt;style type=\"text/css\" media=\"screen\"&gt;\n        .icon-button {\n            float: left; \n            cursor: pointer;\n        }\n        .ui-icon { width: 15px; height: 10px; background-image: url(http://sstatic.net/so/img/replies-off.png); }\n &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;div class=\"icon-button ui-icon\"&gt;&lt;/div&gt;\n   &lt;div&gt;Sample Text&lt;/div&gt; \n&lt;/body&gt;\n&lt;/html&gt;\n\n\n# Solution Code:\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n  &lt;head&gt;\n    &lt;title&gt;CSS IE 8 cursor test&lt;/title&gt;\n    &lt;style type=\"text/css\" media=\"screen\"&gt;\n      .icon-button { float: left; cursor: pointer; }\n      .ui-icon { width: 15px; height: 10px; background-image: url(http://sstatic.net/so/img/replies-off.png); }\n      .dummy-image { width: 15px; height: 10px; vertical-align: top; border: none; }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div class=\"icon-button ui-icon\"&gt;&lt;img class=\"dummy-image\" src=\"data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAQAICVAEAOw==\"/&gt;&lt;/div&gt;\n    &lt;div&gt;Sample Text&lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n\ndiv\n\n&lt;img/&gt;",
    "resolution": "IE8 doesn't like empty divs. Putting a blank <img/> with a transparent pixel inside the div seems to fix it. Demo: http://jsbin.com/asiju (Editable via http://jsbin.com/asiju/edit) HTML source: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head> <title>CSS IE 8 cursor test</title> <style type=\"text/css\" media=\"screen\"> .icon-button { float: left; cursor: pointer; } .ui-icon { width: 15px; height: 10px; background-image: url(http://sstatic.net/so/img/replies-off.png); } .dummy-image { width: 15px; height: 10px; vertical-align: top; border: none; } </style> </head> <body> <div class=\"icon-button ui-icon\"><img class=\"dummy-image\" src=\"data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAQAICVAEAOw==\"/></div> <div>Sample Text</div> </body> </html>",
    "severity": "high",
    "tags": [
      "html",
      "css",
      "internet-explorer",
      "internet-explorer-8"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "1516190",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 10179,
      "stackoverflow_creation_date": "2009-10-04T11:24:53.673Z"
    },
    "idempotency_key": "stackoverflow-1516190",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jQuery how to bind onclick event to dynamically added HTML element",
    "body": "I want to bind an onclick event to an element I insert dynamically with jQuery But It never runs the binded function. I'd be happy if you can point out why this example is not working and how I can get it to run properly: <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"da\" lang=\"da\"> <head> <title>test of click binding</title> <script src=\"https://code.jquery.com/jquery-1.12.4.min.js\"></script> <script type=\"text/javascript\"> jQuery(function(){ close_link = $('<a class=\"\" href=\"#\">Click here to see an alert</a>'); close_link.bind(\"click\", function(){ alert('hello from binded function call'); //do stuff here... }); $('.add_to_this').append(close_link); }); </script> </head> <body> <h1 >Test of click binding</h1> <p>problem: to bind a click event to an element I append via JQuery.</p> <div class=\"add_to_this\"> <p>The link is created, then added here below:</p> </div> <div class=\"add_to_this\"> <p>Another is added here below:</p> </div> </body> </html> EDIT: I edited the example to contain two elements the method is inserted to. In that case, the alert() call is never executed. (thanks to @Daff for pointing that out in a comment)",
    "code": "alert()\n\n# Solution Code:\nfunction handler() { alert('hello'); }\n$('.add_to_this').append(function() {\n  return $('&lt;a&gt;Click here&lt;/a&gt;').click(handler);\n})\n\n\nfunction handler() { alert('hello'); }\n$('.add_to_this').each(function() {\n  var link = $('&lt;a&gt;Click here&lt;/a&gt;');\n  $(this).append(link);\n  link.click(handler);\n});\n",
    "resolution": "The first problem is that when you call append on a jQuery set with more than one element, a clone of the element to append is created for each and thus the attached event observer is lost. An alternative way to do it would be to create the link for each element: function handler() { alert('hello'); } $('.add_to_this').append(function() { return $('<a>Click here</a>').click(handler); }) Another potential problem might be that the event observer is attached before the element has been added to the DOM. I'm not sure if this has anything to say, but I think the behavior might be considered undetermined. A more solid approach would probably be: function handler() { alert('hello'); } $('.add_to_this').each(function() { var link = $('<a>Click here</a>'); $(this).append(link); link.click(handler); });",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "bind"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "1525664",
      "stackoverflow_score": 151,
      "stackoverflow_view_count": 320820,
      "stackoverflow_creation_date": "2009-10-06T13:40:35.893Z"
    },
    "idempotency_key": "stackoverflow-1525664",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C++ function pointer as a static member",
    "body": "I cannot figure the syntax to declare a function pointer as a static member. #include <iostream> using namespace std; class A { static void (*cb)(int a, char c); }; void A::*cb = NULL; int main() { } g++ outputs the error \"cannot declare pointer to `void' member\". I assume I need to do something with parentheses but void A::(*cb) = NULL does not work either.",
    "code": "#include &lt;iostream&gt;\nusing namespace std;\n\nclass A\n{\n    static void (*cb)(int a, char c);\n};\n\nvoid A::*cb = NULL;\n\nint main()\n{\n}\n\n\n# Solution Code:\nclass A\n{\n  typedef void (*FPTR)(int a, char c);\n\n  static FPTR cb;\n};\n\nA::FPTR A::cb = NULL;\n",
    "resolution": "I introduced a typedef, which made it somewhat clearer in my opinion: class A { typedef void (*FPTR)(int a, char c); static FPTR cb; }; A::FPTR A::cb = NULL;",
    "severity": "high",
    "tags": [
      "c++",
      "function-pointers"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "1560176",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 13038,
      "stackoverflow_creation_date": "2009-10-13T13:14:04.053Z",
      "stackoverflow_owner": "user176622"
    },
    "idempotency_key": "stackoverflow-1560176",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Send command to service from C++",
    "body": "how can I send command to a Windows service from C++? Equivalent .NET code is: ServiceController sc = new ServiceController(\"MyService\"); sc.ExecuteCommand(255);",
    "code": "ServiceController sc = new ServiceController(\"MyService\");\nsc.ExecuteCommand(255);\n\n\n# Solution Code:\nclass CSC_HANDLE\n{\npublic:\n CSC_HANDLE(SC_HANDLE h) : m_h(h) { }\n ~CSC_HANDLE() { ::CloseServiceHandle(m_h); }\n operator SC_HANDLE () { return m_h; }\nprivate:\n SC_HANDLE m_h;\n};\n\n\nBOOL RestartTimeService()\n{\n    CSC_HANDLE hSCM(::OpenSCManager(NULL, SERVICES_ACTIVE_DATABASE, GENERIC_READ));\n    if (NULL == hSCM) return FALSE;\n\n    CSC_HANDLE hW32Time(::OpenService(hSCM, L\"W32Time\", SERVICE_START | SERVICE_STOP | SERVICE_QUERY_STATUS));\n    if (NULL == hW32Time) return FALSE;\n\n\n    SERVICE_STATUS ss = { 0 };\n    ::SetLastError(0);\n    BOOL success = ::ControlService(hW32Time, SERVICE_CONTROL_STOP, &amp;ss);\n    if (!success)\n    {\n        DWORD le = ::GetLastError();\n        switch (le)\n        {\n        case ERROR_ACCESS_DENIED:\n        case ERROR_DEPENDENT_SERVICES_RUNNING:\n        case ERROR_INVALID_HANDLE:\n        case ERROR_INVALID_PARAMETER:\n        case ERROR_INVALID_SERVICE_CONTROL:\n        case ERROR_SERVICE_CANNOT_ACCEPT_CTRL:\n        case ERROR_SERVICE_REQUEST_TIMEOUT:\n        case ERROR_SHUTDOWN_IN_PROGRESS:\n            return FALSE;\n\n        case ERROR_SERVICE_NOT_ACTIVE:\n        default:\n            break;\n        }\n    }\n\n\nDWORD waitstart(::GetTickCount());\nwhile (true)\n{\n    ZeroMemory(&amp;ss, sizeof(ss));\n    ::QueryServiceStatus(hW32Time, &amp;ss);\n    if (SERVICE_STOPPED == ss.dwCurrentState) break;\n    ::Sleep(1000);\n    DWORD tick(::GetTickCount());\n    if ((tick &lt; waitstart) || (tick &gt; (waitstart + 30000))) return FALSE;\n}\n\n\n    success = ::StartService(hW32Time, 0, NULL);\n    if (!success) return FALSE;\n\n    return TRUE;\n}\n",
    "resolution": "From native C++, you will need to: Open a handle to the service control manager, Use the service control manager to obtain a service handle for the service you want to control, Send a control code or codes to the service, and Close the handles opened in steps 1 and 2. For example, this code restarts the time synchronization service. First, I create a wrapper class for the service handles, to close them automatically when leaving the block. class CSC_HANDLE { public: CSC_HANDLE(SC_HANDLE h) : m_h(h) { } ~CSC_HANDLE() { ::CloseServiceHandle(m_h); } operator SC_HANDLE () { return m_h; } private: SC_HANDLE m_h; }; Then, I open the service control manager (using OpenSCManager()) and the service I want to control. Note that the dwDesiredAccess parameter to OpenService() must include permissions for each control I want to send, or the relevant control functions will fail. BOOL RestartTimeService() { CSC_HANDLE hSCM(::OpenSCManager(NULL, SERVICES_ACTIVE_DATABASE, GENERIC_READ)); if (NULL == hSCM) return FALSE; CSC_HANDLE hW32Time(::OpenService(hSCM, L\"W32Time\", SERVICE_START | SERVICE_STOP | SERVICE_QUERY_STATUS)); if (NULL == hW32Time) return FALSE; To stop the service, I use ControlService() to send the SERVICE_CONTROL_STOP code, and then check the return value to make sure the command succeeded. If any error other than ERROR_SERVICE_NOT_ACTIVE is reported, I assume that starting the service is not going to succeed. SERVICE_STATUS ss = { 0 }; ::SetLastError(0); BOOL success = ::ControlService(hW32Time, SERVICE_CONTROL_STOP, &ss); if (!success) { DWORD le = ::GetLastError(); switch (le) { case ERROR_ACCESS_DENIED: case ERROR_DEPENDENT_SERVICES_RUNNING: case ERROR_INVALID_HANDLE: case ERROR_INVALID_PARAMETER: case ERROR_INVALID_SERVICE_CONTROL: case ERROR_SERVICE_CANNOT_ACCEPT_CTRL: case ERROR_SERVICE_REQUEST_TIMEOUT: case ERROR_SHUTDOWN_IN_PROGRESS: return FALSE; case ERROR_SERVICE_NOT_ACTIVE: default: break; } } After instructing the service to stop, I wait for the service manager to report that the service is in fact stopped. This code has two potential bugs, which you may wish to correct for production code: Sleep(1000) will suspend the message loop on this thread, so you should use another method to delay execution if this function will run on a UI thread. You can construct a suitable sleep-with-message-loop using MsgWaitForMultipleObjectsEx(). The DWORD returned from GetTickCount() will wrap around to zero eventually; if it wraps around while this function is waiting, the wait may give up sooner than I intended. DWORD waitstart(::GetTickCount()); while (true) { ZeroMemory(&ss, sizeof(ss)); ::QueryServiceStatus(hW32Time, &ss); if (SERVICE_STOPPED == ss.dwCurrentState) break; ::Sleep(1000); DWORD tick(::GetTickCount()); if ((tick < waitstart) || (tick > (waitstart + 30000))) return FALSE; } Finally, knowing that the service is in a stopped state, I call StartService() run it again. success = ::StartService(hW32Time, 0, NULL); if (!success) return FALSE; return TRUE; }",
    "severity": "medium",
    "tags": [
      "c++",
      "windows-services",
      "servicecontroller"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "1592930",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 8810,
      "stackoverflow_creation_date": "2009-10-20T07:07:10.317Z"
    },
    "idempotency_key": "stackoverflow-1592930",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C# Generics : List<Object> or new class extends List <Object>",
    "body": "I have a class called Product in my Business object and in another class i want to return a list of objects of this class.Which approach i should use ? public static List<Product> GetProductList() { .... } or create another class in my Business object namspace called ProductList which extends List <Products> as follows: public class ProductList :List<Products > { .... } and use it there public static ProductList GetProductList() { .... } Is there any difference between these two ? How abt the memory allocation and performance ?",
    "code": "public static List&lt;Product&gt; GetProductList() { .... }\n\n\npublic class ProductList :List&lt;Products &gt; { .... }\n\n\npublic static ProductList GetProductList() { .... }\n\n\nList &lt;Products&gt;\n\n# Solution Code:\npublic static IList&lt;Product&gt; GetProductList() {...} // abstraction; can return\n                                                    // List&lt;Product&gt; if we want\n\n\npublic class ProductList : IList&lt;Product&gt; {...} // encapsulation, but need to\n                                                // add a lot of dull code\n\n\nProductList\n\nProductList\n\nList&lt;T&gt;\n\nList&lt;T&gt;\n\nvirtual\n\nCollection&lt;T&gt;\n\nIList&lt;Product&gt;",
    "resolution": "There is a small overhead in having an extra type (ProductList), but nothing huge. But it really depends on what you want to do. In many ways, ProductList is still a bad idea since it burns List<T> into the public API, and List<T> isn't very extensible (none of the methods are virtual, for example). Collection<T> might have more extensibility options. I'd argue in favor of abstraction or encapsulation: public static IList<Product> GetProductList() {...} // abstraction; can return // List<Product> if we want or: public class ProductList : IList<Product> {...} // encapsulation, but need to // add a lot of dull code It is a shame that C# doesn't make the encapsulation approach simple (I'm thinking \"mixins\"). Note that another trick (sometimes suitable, sometimes not) would be to use extension methods to add the illusion of extra methods on IList<Product>... this is a tricky debate, so I'm just mentioning it, not saying \"do this\".",
    "severity": "high",
    "tags": [
      "c#",
      "generics",
      "class"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "1630617",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 11101,
      "stackoverflow_creation_date": "2009-10-27T12:56:35.760Z"
    },
    "idempotency_key": "stackoverflow-1630617",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Jasper Reports - Add one day to a Date Parameter",
    "body": "I'm creating a Jasper report that includes the following parameters: DATESTART (Date) DATEEND (Date) These parameters indicate a date range for a field called DATECREATED (Timestamp) which includes times. I would like the date range to be INCLUSIVE, that is, if I filter for \"Jan 1, 2009\" to \"Jan 31, 2009\", any DATECREATED value on Jan 31, 2009 (such as \"Jan 31, 2009 15:00\") will be included in the report. When I used Crystal Reports in the past, I used the DATEADD function to create a filter expression like the following: {DATECREATED} >= {DATESTART} and {DATECREATED} < DATEADD(\"d\", 1, {DATEEND}) (I realize that this isn't syntactically correct, but you get the idea.) Is there any way to do something similar in Jasper Reports?",
    "code": "{DATECREATED} &gt;= {DATESTART} and {DATECREATED} &lt; DATEADD(\"d\", 1, {DATEEND})\n\n\n# Solution Code:\nDATE_ADD($P{DATEEND},INTERVAL 1 DAY);\n\n\n$P{DATEEND}.setDay($P{DATEEND}.getDay()+1)\n\n\nnew Date($P{DATEEND}.getTime() + 24*60*60*1000)\n\n\nnew java.util.Date($P{DATEEND}.getTime() + 24*60*60*1000)\n\n\nV{DATEEND_1}",
    "resolution": "If you understand French, there the same question is asked in this thread (the only difference is that it is about adding a month) The proposed solutions are following: SQL Do it with SQL statement directly in the query (if your data source is a SQL datasource of course). With MySQL you can do something like DATE_ADD($P{DATEEND},INTERVAL 1 DAY); more information: Date and Time Functions (MySQL doc) JAVA The other solution is to use the Java possibly of the Date object: I proposed something like : $P{DATEEND}.setDay($P{DATEEND}.getDay()+1) But I did not try it (and it is probably wrong). Maybe you need to defined a new Date Variable DATEEND_1 with a value expression like : new Date($P{DATEEND}.getTime() + 24*60*60*1000) or new java.util.Date($P{DATEEND}.getTime() + 24*60*60*1000) And use this new variable in your query V{DATEEND_1}. (again I am not sure of it)",
    "severity": "high",
    "tags": [
      "jasper-reports"
    ],
    "metadata": {
      "stackoverflow_question_id": "1675272",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 32300,
      "stackoverflow_creation_date": "2009-11-04T17:10:13.853Z"
    },
    "idempotency_key": "stackoverflow-1675272",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Serialize Strings, ints and floats to character arrays for networking WITHOUT LIBRARIES",
    "body": "I want to transmit data over the network, but I don't want to use any foreign libraries (Standard C/C++ is ok). for example: unsigned int x = 123; char y[3] = {'h', 'i', '\\0'}; float z = 1.23f; I want this in an char xyz[11]; array. Note: To transmit it over network, I need Network Byte order for the unsigned int (htonl function), then I need to somehow serialize the float to be in IEEE 754 form (theres many functions on the internet), and I know it. How do I get them into the the xyz-Array, nicely lined up end to end, so I can use this as a buffer for my socket + send() function? Obviously I have reverse functions (ntohl, and a reverse IEEE 754) to get them out but I need a technique there too, preferably the same... It would be something like this: xyz in binary: 00000000 0000000 00000000 01111011 | 01101000 | 01101001 | 00000000 | 00111111 10011101 01110000 10100100 - big endian repr. of u. int 123 - | - 'h' - | - 'i' - | - '\\0' - | - IEEE 754 repr of float 1.23 - How can I accomplish this without external libraries and minimal use of standard library functions? This isn't so much for my program as for me to learn from.",
    "code": "unsigned int x = 123;\nchar y[3] = {'h', 'i', '\\0'};\nfloat z = 1.23f;\n\n\nchar xyz[11];\n\n\n# Solution Code:\ndouble *pd=&amp;d;\nchar *pc = reinterpret_cast&lt;char*&gt;(pd); \nfor(size_t i=0; i&lt;sizeof(double); i++) \n{\n   char ch = *pc;   \n   DoSomethingWith(ch);   \n   pc++;\n}\n",
    "resolution": "Ah, you want to serialize primitive data types! In principle, there are two approaches: The first one is, that you just grab the internal, in-memory binary representation of the data you want to serialize, reinterpret it as a character, and use that as you representation: So if you have a: double d; you take the address of that, reinterpret that pointer as a pointer to character, and then use these characters: double *pd=&d; char *pc = reinterpret_cast<char*>(pd); for(size_t i=0; i<sizeof(double); i++) { char ch = *pc; DoSomethingWith(ch); pc++; } This works with all primitive data types. The main problem here is, that the binray representation is implementation dependent (mainly CPU dependent). (And you will run into subtle bugs when you try doing this with IEEE NANs...). All in all, this approach is not portable at all, as you have no control at all over the representation of your data. The second approach is, to use a higher-level representation, that you yourself have under control. If performance is not an issue, you could use std::strstream and the >> and << operators to stream primitive C type variables into std::strings. This is slow but easy to read and debug, and very portable on top of it.",
    "severity": "high",
    "tags": [
      "c++",
      "serialization"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "1703322",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 16964,
      "stackoverflow_creation_date": "2009-11-09T19:52:28.793Z"
    },
    "idempotency_key": "stackoverflow-1703322",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Accessing ASP.NET MVC Model Data from external Javascript file",
    "body": "I'm trying to use JQuery's $.getJSON to access Model data from the Controller, and build a JSON object in the javascript to use as the user adds and removes items from a list. All JS is done in an external file. The hit to the server for the Model data is done only once after the page first loads so I can get the full list of options for the user to choose from. After that, the user can modify the list as much as he wants (and the JSON object is updated accordingly), and then save it off (gets written back to the DB). But here's my problem: When using $.getJSON, the method I need to call in the Controller needs an ID so that it can look up what particular resource I'm talking about and get back the list of options that pertains to that particular resource. But from an external JS file, I don't know how to get that ID to pass to the Controller. It's built into the link that opens the page in the first place, and is sitting in the URL, but once the page loads I don't know how to get this ID in order to pass it to the Controller. I've pasted some of my code below, because I know this is confusing: Details method in Controller that initially loads a page (takes a resourceID to know what to load): public ActionResult Details(string resId) { //call base method base.Details(resId, resourceType); Evaluation eval = (Evaluation)this.Model; ViewData.Model = eval; return View(\"Index\"); } In my external JS file, I'm doing this: $.getJSON(\"/Evaluation/PopulateJournalOptions/\" + id, populateJSON); And in the Controller, I wrote another method called PopulateJournalOptions that gets called to build the JSON object: public JsonResult PopulateJournalOptions(string resId) { JournalOptionsResult jsonResult = new JournalOptionsResult(); base.Details(resId, resourceType); Evaluation eval = (Evaluation)this.Model; jsonResult.Activities = eval.Journal.Activities; jsonResult.Issues = eval.Journal.Issues; jsonResult.ScheduledActions = eval.Journal.ScheduledActions; return Json(jsonResult); } Again, my problem is that, once the page loads, I don't have access to the ID I need to pass to PopulateJournalOptions. I've tried just not passing anything to PopulateJournalOptions, and creating a new object there and setting it equal to (Evaluation)this.Model, but this.Model appears to be null, probably because it's a new instance of the Controller once it's called from the JS. So I'm kind of stuck here. Any ideas?",
    "code": "public ActionResult Details(string resId)\n{\n    //call base method\n    base.Details(resId, resourceType);\n    Evaluation eval = (Evaluation)this.Model;\n    ViewData.Model = eval;\n    return View(\"Index\");\n}\n\n\n$.getJSON(\"/Evaluation/PopulateJournalOptions/\" + id, populateJSON);\n\n\npublic JsonResult PopulateJournalOptions(string resId)\n{\n   JournalOptionsResult jsonResult = new JournalOptionsResult();\n\n   base.Details(resId, resourceType);\n   Evaluation eval = (Evaluation)this.Model;\n\n   jsonResult.Activities = eval.Journal.Activities;\n   jsonResult.Issues = eval.Journal.Issues;\n   jsonResult.ScheduledActions = eval.Journal.ScheduledActions;\n\n   return Json(jsonResult);\n}\n\n\n(Evaluation)this.Model\n\n# Solution Code:\n$.getJSON(\"/Evaluation/PopulateJournalOptions/\" + $('#Id').attr('value'), populateJSON);\n\n\n&lt;%= Html.Hidden(\"Id\") %&gt;\n\n\nId",
    "resolution": "Have you thought about putting the id into a hidden field on the page and then having your javascript read the id from the field? $.getJSON(\"/Evaluation/PopulateJournalOptions/\" + $('#Id').attr('value'), populateJSON); Then, in your view, <%= Html.Hidden(\"Id\") %> With your model having the required Id as a property",
    "severity": "medium",
    "tags": [
      "jquery",
      "asp.net-mvc",
      "model",
      "controller",
      "getjson"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "1735665",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7896,
      "stackoverflow_creation_date": "2009-11-14T21:25:40.907Z"
    },
    "idempotency_key": "stackoverflow-1735665",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to hide or lower access to Inherited Methods in Java?",
    "body": "I have a class structure where I would like some methods in a base class to be accessible from classes derived directly from the base class, but not classes derived from derived classes. According to the Java Language specification it is possible to override access specifications on inherited methods to make them more public, but not more private. For example, this is the gist of what I need to do, but is illegal: // Defines myMethod public class Base { protected void myMethod() {} } // Uses myMethod and then hides it. public class DerivedOne extends Base { @Override private void myMethod(); } // can't access myMethod. public class DerivedTwo extends DerivedOne { } Is there any way to accomplish this? Edited to explain why I would like to do this: In this case the class structure is a data handling and import structure. It reads in and parses text files full of tabular data and then stores them in a database. The base class is the base table class managing the database handling part of it. There is a fair amount of functionality contained in it that is common to all table types - as once they are in the database they become uniform. The middle class is specific to the kind of table in the file being parsed, and has the table parsing and import logic. It needs access to some of the base class's database access functions. The top level class is specific to the table and does nothing more than initialize the table's layout in a way the parent classes can understand. Also users of the base class do not need to see or access the database specific functions which the middle class do. In essence, I want to reveal these functions only to one level above the base class and no one else. I ask because, although the code I posted as an example is illegal, there may be some other means to accomplish the same end. I'm asking if there is. Perhaps hiding is the wrong way to phrase this - what I really need to do is expose some functionality that should be private to the base class to the class one level up in the hierarchy. Hiding would accomplish this - but I can see how hiding would be a problem. Is there another way to do this?",
    "code": "// Defines myMethod\npublic class Base {\n    protected void myMethod() {}\n}\n\n// Uses myMethod and then hides it.\npublic class DerivedOne extends Base {\n    @Override\n    private void myMethod();\n}\n\n// can't access myMethod.\npublic class DerivedTwo extends DerivedOne {\n\n}\n\n\n# Solution Code:\npublic&lt;protected&lt;default&lt;private\n\n\nprotected\n\ndefault\n\nprotected\n\nprotected\n\npublic\n\npublic\n\nprotected",
    "resolution": "When overriding a method you can only make it more public, not more private. I don't know why you use the word \"general\" Remember that, ordering from least to most restrictive: public<protected<default<private Yes, \"protected\" is a less restrictive access modifier than default (when no modifier is used), so you can override a default method marking the overriding method as protected, but not do the opposite. Can: You can override a protected method with a public one. Can't: You can't override a public method with a protected one.",
    "severity": "high",
    "tags": [
      "java",
      "inheritance",
      "overriding",
      "access-specifier"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "1902195",
      "stackoverflow_score": 18,
      "stackoverflow_view_count": 24858,
      "stackoverflow_creation_date": "2009-12-14T17:11:32.220Z"
    },
    "idempotency_key": "stackoverflow-1902195",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "DateTime Problem in Rails Unit Tests",
    "body": "I'm working on unit tests for my Rails app and have run into the following problem. I have an Event model with a fixture that boils down to: concert: name: Wallflowers start_at: <%= DateTime.new(1999) %> In my unit test, I have the following assertion: assert_equal DateTime.new(1999), events(:concert).start_at The test fails, with the following message: <Fri, 01 Jan 1999 00:00:00 +0000> expected but was <Thu, 31 Dec 1998 19:00:00 UTC +00:00>. I can't figure out why its getting adjusted. The offset of the incorrect time is 5 hours, which is my local offset. Other info that might be relevant: The problem only occurs while testing--I don't have any problems in development environment.rb contains config.time_zone = 'UTC' The test works if I use Date.new instead of DateTime.new, but I need to use DateTime What am I missing? Appreciate the help.",
    "code": "concert:\n  name:        Wallflowers\n  start_at:    &lt;%= DateTime.new(1999) %&gt;\n\n\nassert_equal DateTime.new(1999), events(:concert).start_at\n\n\n&lt;Fri, 01 Jan 1999 00:00:00 +0000&gt; expected but was\n&lt;Thu, 31 Dec 1998 19:00:00 UTC +00:00&gt;.\n\n\n# Solution Code:\nconcert:\n  name: Wallflowers\n  start_at: &lt;%= DateTime.new(1999).to_s(:db) %&gt;\n",
    "resolution": "Change it to this concert: name: Wallflowers start_at: <%= DateTime.new(1999).to_s(:db) %>",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "datetime"
    ],
    "metadata": {
      "stackoverflow_question_id": "1937863",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2728,
      "stackoverflow_creation_date": "2009-12-21T02:26:00.257Z"
    },
    "idempotency_key": "stackoverflow-1937863",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What useful custom jQuery selectors have you written?",
    "body": "For me, one of the best, yet under-utilised feature of jQuery is the custom selector. I have a fairly trivial example of this, to pick out all text boxes that are empty: $(document).ready(function() { $.extend($.expr[':'], { textboxEmpty: function(el) { var $el = $(el); return ($el.val() == \"\") && ($el.attr(\"type\") == \"text\"); } }); }); And to call: alert($(\":textboxEmpty\").length); I was wondering, really, if anyone else had some useful examples of custom selectors they have written. I am, of course, not blind to the pitfalls of these, and realise that they can be quite slow and, as such, should be combined with other faster selectors. It would be useful to hear if there are any other problems we should be aware of.",
    "code": "$(document).ready(function() {\n    $.extend($.expr[':'], {\n        textboxEmpty: function(el) {\n            var $el = $(el);\n            return ($el.val() == \"\") &amp;&amp; ($el.attr(\"type\") == \"text\");\n        }\n    });\n});\n\n\nalert($(\":textboxEmpty\").length);\n\n\n# Solution Code:\n.data",
    "resolution": "I haven't written any, yet James Padolsey has a great collection of selector plug-ins (for elements in view, for external links, for elements with a specific .data property, etc)",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "custom-selectors"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "1940574",
      "stackoverflow_score": 21,
      "stackoverflow_view_count": 1496,
      "stackoverflow_creation_date": "2009-12-21T14:58:37.627Z"
    },
    "idempotency_key": "stackoverflow-1940574",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Getting Jquery from google",
    "body": "There are some tutorials which suggest to use jquery path which is from google eg: <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"></script> Is that safe to use in our projects? Aren't we dependent because we are not sure it will be there after a year or beyond? The reason why I have asked this question is that there are some people who go in favor of that.",
    "code": "&lt;script type=\"text/javascript\" \n src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js\"&gt;&lt;/script&gt;\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "remote-access"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "1984276",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2159,
      "stackoverflow_creation_date": "2009-12-31T06:51:41.843Z"
    },
    "idempotency_key": "stackoverflow-1984276",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "preg_split commas not inside parenthesis",
    "body": "Test string: Organic whole wheat bread, Monterey Jack Cheese (milk, cheese culture, salt), Hormel Natural Ham (salt, turbinado sugar, lactic acid (not from milk) Desired output: Array ( [0] => Organic whole wheat bread [1] => Monterey Jack Cheese [2] => Hormel Natural Ham ) I don't mind if the sub-ingredients appear with the original item (i.e., \"Monterey Jack Cheese (milk, cheese culture, salt)\"), I just don't want them on their own because they aren't added ingredients. I found a couple other questions here that I tried applying to my problem, but I never got the expected output. Oh, and in case preg_split isn't PHP-centric, I'm using PHP. Thanks in advance!",
    "code": "Organic whole wheat bread, Monterey Jack Cheese (milk, cheese culture, salt), Hormel Natural Ham (salt, turbinado sugar, lactic acid (not from milk)\n\n\nArray ( \n        [0] =&gt; Organic whole wheat bread \n        [1] =&gt; Monterey Jack Cheese\n        [2] =&gt; Hormel Natural Ham\n      )\n\n\n# Solution Code:\n$result = preg_replace('/\\s*\\([^()]+\\)/', '', $subject);\n\n\npreg_split()",
    "resolution": "I would first remove all the parentheses and their contents: $result = preg_replace('/\\s*\\([^()]+\\)/', '', $subject); and then preg_split() on the remaining commas. This assumes that parentheses aren't nested. If parentheses can be nested, then you will need to run this as many times as there are nesting levels. Each time, the innermost parenthesis will be removed.",
    "severity": "medium",
    "tags": [
      "php",
      "regex",
      "csv",
      "preg-split"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "1987341",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1243,
      "stackoverflow_creation_date": "2009-12-31T22:29:30.840Z"
    },
    "idempotency_key": "stackoverflow-1987341",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Override Java System.currentTimeMillis for testing time sensitive code",
    "body": "Is there a way, either in code or with JVM arguments, to override the current time, as presented via System.currentTimeMillis, other than manually changing the system clock on the host machine? A little background: We have a system that runs a number of accounting jobs that revolve much of their logic around the current date (ie 1st of the month, 1st of the year, etc) Unfortunately, a lot of the legacy code calls functions such as new Date() or Calendar.getInstance(), both of which eventually call down to System.currentTimeMillis. For testing purposes, right now, we are stuck with manually updating the system clock to manipulate what time and date the code thinks that the test is being run. So my question is: Is there a way to override what is returned by System.currentTimeMillis? For example, to tell the JVM to automatically add or subtract some offset before returning from that method?",
    "code": "System.currentTimeMillis\n\nnew Date()\n\nCalendar.getInstance()\n\nSystem.currentTimeMillis\n\nSystem.currentTimeMillis\n\n# Solution Code:\nCalendar.getInstance()\n\nClock.getInstance().getCalendarInstance()\n\nnew Date()\n\nClock.getInstance().newDate()\n\nSystem.currentTimeMillis()\n\nClock.getInstance().currentTimeMillis()",
    "resolution": "I strongly recommend that instead of messing with the system clock, you bite the bullet and refactor that legacy code to use a replaceable clock. Ideally that should be done with dependency injection, but even if you used a replaceable singleton you would gain testability. This could almost be automated with search and replace for the singleton version: Replace Calendar.getInstance() with Clock.getInstance().getCalendarInstance(). Replace new Date() with Clock.getInstance().newDate() Replace System.currentTimeMillis() with Clock.getInstance().currentTimeMillis() (etc as required) Once you've taken that first step, you can replace the singleton with DI a bit at a time.",
    "severity": "high",
    "tags": [
      "java",
      "testing",
      "jvm",
      "systemtime"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "2001671",
      "stackoverflow_score": 175,
      "stackoverflow_view_count": 145095,
      "stackoverflow_creation_date": "2010-01-04T19:39:53.090Z"
    },
    "idempotency_key": "stackoverflow-2001671",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Linq To Sql - Dynamic OrderBy - Case When",
    "body": "I'm using Linq to sql and Linq Dynamic OrderBy. I know linq dynamic can do simple sorting like - orderby(\"column_name\"). But does it support something more complex like queries with \"CASE WHEN\" in them ? string orderbyQuery = \"(CASE WHEN (username == 100) THEN 1 ELSE 0 END) DESC)\"; here is my query : var u = from u in db.users orderby(orderbyQuery) select u; the above example doesn't work! , any idea if its possible? any other way to do it? thanks",
    "code": "string orderbyQuery = \"(CASE WHEN (username == 100) THEN 1 ELSE 0 END) DESC)\";\n\n\nvar u = from u in db.users\n        orderby(orderbyQuery)\n        select u;\n\n\n# Solution Code:\nvar u = from u in db.users\n        orderby u.username == 100 ? 1 : 0 descending\n        select u;\n",
    "resolution": "var u = from u in db.users orderby u.username == 100 ? 1 : 0 descending select u;",
    "severity": "high",
    "tags": [
      "linq",
      "linq-to-sql",
      "dynamic",
      "sql-order-by"
    ],
    "metadata": {
      "stackoverflow_question_id": "2013198",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 12689,
      "stackoverflow_creation_date": "2010-01-06T13:28:40.843Z"
    },
    "idempotency_key": "stackoverflow-2013198",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Blueprint: Push column partially in to another column",
    "body": "Is it possible using Blueprint's push-x and pull-x classes to create an overlapping column that is half in one column and half in another column? Here's an example: +-------+-----+-------+ | | | | | 1 | 2 | 3 | | +-----+ | | | | | | | +----------+----------+ I found AListApart's Cross-column pull-outs article. However, it deals with a middle column that is a known height and uses a spacer that has to be manually placed, making automation difficult. Is there an easier, more automatic way of accomplishing this effect? UPDATE: Added a bounty for a solution that doesn't use a static height middle column or one that uses javascript to resize the middle column.",
    "code": "+-------+-----+-------+\n|       |     |       |\n|   1   |  2  |   3   |\n|       +-----+       |\n|          |          |\n|          |          |\n+----------+----------+\n\n\npush-x\n\npull-x\n\n# Solution Code:\nclone",
    "resolution": "Here's a different approach to the problem. It's downfall is that the pull-out content is duplicated (one to float left, one right). http://jsbin.com/ewahu EDIT Alternate version using JQuery to duplicate the content of the pull into the spacer: http://jsbin.com/uzawe EDIT Improved, cleaner and leaner version, using clone to duplicate the pull-out. http://jsbin.com/ugaka",
    "severity": "low",
    "tags": [
      "html",
      "css",
      "blueprint-css"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "2022207",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 644,
      "stackoverflow_creation_date": "2010-01-07T17:24:49.137Z"
    },
    "idempotency_key": "stackoverflow-2022207",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQL Server mode SQL",
    "body": "I have a table that list students' grades per class. I want a result set that looks like: BIO...B CHEM...C Where the \"B\" and \"C\" are the modes for the class. I can get a mode of all of the grades, but not sure how to get the mode per class",
    "code": "BIO...B\nCHEM...C\n\n\n# Solution Code:\n;WITH \n  Counts AS (\n    SELECT ClassName, Grade, COUNT(*) AS GradeFreq \n    FROM Scores\n    GROUP BY ClassName, Grade\n    )\n, Ranked AS (\n    SELECT ClassName, Grade, GradeFreq\n    , Ranking = DENSE_RANK() OVER (PARTITION BY ClassName ORDER BY GradeFreq DESC)\n    FROM Counts\n    )\nSELECT * FROM Ranked WHERE Ranking = 1\n\n\n;WITH Ranked AS (\n  SELECT \n    ClassName, Grade\n  , GradeFreq = COUNT(*)\n  , Ranking = DENSE_RANK() OVER (PARTITION BY ClassName ORDER BY COUNT(*) DESC)\n  FROM Scores\n  GROUP BY ClassName, Grade\n  )\nSELECT * FROM Ranked WHERE Ranking = 1\n",
    "resolution": "here, something like this on SQL 2005/2008: ;WITH Counts AS ( SELECT ClassName, Grade, COUNT(*) AS GradeFreq FROM Scores GROUP BY ClassName, Grade ) , Ranked AS ( SELECT ClassName, Grade, GradeFreq , Ranking = DENSE_RANK() OVER (PARTITION BY ClassName ORDER BY GradeFreq DESC) FROM Counts ) SELECT * FROM Ranked WHERE Ranking = 1 or perhaps just: ;WITH Ranked AS ( SELECT ClassName, Grade , GradeFreq = COUNT(*) , Ranking = DENSE_RANK() OVER (PARTITION BY ClassName ORDER BY COUNT(*) DESC) FROM Scores GROUP BY ClassName, Grade ) SELECT * FROM Ranked WHERE Ranking = 1",
    "severity": "medium",
    "tags": [
      "sql",
      "t-sql"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "2045075",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5190,
      "stackoverflow_creation_date": "2010-01-11T21:27:57.503Z"
    },
    "idempotency_key": "stackoverflow-2045075",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can NSCollectionView autoresize the width of its subviews to display one column",
    "body": "I have an NSCollectionView that contains a collection of CustomViews. Initially it tiled the subviews into columns and rows like a grid. I then set the Columns property in IB to 1, so now it just displays them one after another in rows. However, even though my CustomView is 400px wide, it's set to autoresize, the NSCollectionView is 400px wide, and it's set to 1 column, the subviews are drawn about 80px wide. I know I can get around this by calling: CGFloat width = collectionView.bounds.size.width; NSSize size = NSMakeSize(width, 85); [collectionView setMinItemSize:size]; [collectionView setMaxItemSize:size]; But putting this code in the awakeFromNib method of my WindowController only sets the correct width when the program launches. When I resize the window (and the NSCollectionView autoresizes as I've specified), the CustomViews stay at their initially set width. I'm happy to take care of resizing the subviews myself if need be, but I'm quite new to Cocoa and can't seem to find any articles explaining how to do such a thing. Can someone point me in the right direction? Anthony",
    "code": "CGFloat width = collectionView.bounds.size.width;\nNSSize size = NSMakeSize(width, 85);\n[collectionView setMinItemSize:size];\n[collectionView setMaxItemSize:size];\n\n\nNSCollectionView\n\nCustomViews\n\nColumns\n\nCustomView\n\nNSCollectionView\n\nawakeFromNib\n\nWindowController\n\nNSCollectionView\n\n# Solution Code:\n[self.collectionView setMaxItemSize:NSZeroSize];\n\n\nNSZeroSize\n\nawakeFromNib",
    "resolution": "The true answer is to set the maxItemSize to 0,0(NSZeroSize). Otherwise, it is computed. [self.collectionView setMaxItemSize:NSZeroSize]; This can be set in awakeFromNib.",
    "severity": "high",
    "tags": [
      "cocoa",
      "interface-builder",
      "nscollectionview"
    ],
    "metadata": {
      "stackoverflow_question_id": "2107755",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 10237,
      "stackoverflow_creation_date": "2010-01-21T08:12:25.233Z"
    },
    "idempotency_key": "stackoverflow-2107755",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "(PHP) How to correctly implement crypt()",
    "body": "Here is the example from the PHP manual page for crypt(): <?php $password = crypt('mypassword'); // let the salt be automatically generated /* You should pass the entire results of crypt() as the salt for comparing a password, to avoid problems when different hashing algorithms are used. (As it says above, standard DES-based password hashing uses a 2-character salt, but MD5-based hashing uses 12.) */ if (crypt($user_input, $password) == $password) { echo \"Password verified!\"; } ?> Why does this work? I take it 'mypassword' is the password I want the actual admin to use. So I crypt that first, and set it equal to $password. Obviously, I must need to store that in the DB. But in the next lines it's being used as both the salt and what I'm comparing to, and I don't understand how crypt($user_input, $password) can possibly be equal to $password, if in this latter case I have ideally the right password as $user_input but salted with $password being compared to $password. It would make more sense to me if the last line were if (crypt($user_input) == $password) { echo \"Password verified!\"; } What am I not understanding?",
    "code": "&lt;?php\n$password = crypt('mypassword'); // let the salt be automatically generated\n\n/* You should pass the entire results of crypt() as the salt for comparing a\n   password, to avoid problems when different hashing algorithms are used. (As\n   it says above, standard DES-based password hashing uses a 2-character salt,\n   but MD5-based hashing uses 12.) */\nif (crypt($user_input, $password) == $password) {\n   echo \"Password verified!\";\n}\n?&gt;\n\n\nif (crypt($user_input) == $password) {\n   echo \"Password verified!\";\n}\n\n\n'mypassword'\n\n$password\n\ncrypt($user_input, $password)\n\n$password\n\n$user_input\n\n$password\n\n$password\n\n# Solution Code:\n&lt;?php\necho 'result: ' . crypt('somepassword');\necho 'result: ' . crypt('somepassword');\necho 'result: ' . crypt('somepassword');\n?&gt;\n\nresult: $1$K2D8DGwq$b05uO37aMwO4rnDlB9Rsi1\nresult: $1$aPBvu2y.$213YVEs8/5m.jMCXSScly/\nresult: $1$dW3Xu2p6$nuCtJe2zzlgBMLxN2oZCx/\n\n\ncrypt\n\n/etc/shadow",
    "resolution": "crypt is a one-way function and returns a string that already contains the salt. The output is similar to what is stored in /etc/shadow. Example from php.net: <?php echo 'result: ' . crypt('somepassword'); echo 'result: ' . crypt('somepassword'); echo 'result: ' . crypt('somepassword'); ?> result: $1$K2D8DGwq$b05uO37aMwO4rnDlB9Rsi1 result: $1$aPBvu2y.$213YVEs8/5m.jMCXSScly/ result: $1$dW3Xu2p6$nuCtJe2zzlgBMLxN2oZCx/ When comparing the user input with the crypt result, the function automatically extracts the salt from the string.",
    "severity": "medium",
    "tags": [
      "php",
      "crypt"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "2235722",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2420,
      "stackoverflow_creation_date": "2010-02-10T09:38:45.190Z"
    },
    "idempotency_key": "stackoverflow-2235722",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "invalid chars filter for file/folder name? (ruby)",
    "body": "My script downloads files from the net and then it saves them under the name taken from the same web server. I need a filter/remover of invalid characters for file/folder names under Windows NTFS. I would be happy for multi platform filter too. NOTE: something like htmlentities would be great....",
    "code": "htmlentities\n\n# Solution Code:\nfile_names.map! do |f|\n  f.gsub(/[&lt;invalid characters&gt;]/, '_')\nend\n\n\nfile_names.map! { |f| f.gsub(/[\\x00\\/\\\\:\\*\\?\\\"&lt;&gt;\\|]/, '_') }\n\n\ngsub\n\n&lt;invalid characters&gt;\n\n_\n\ngsub",
    "resolution": "Like Geo said, by using gsub you can easily convert all invalid characters to a valid character. For example: file_names.map! do |f| f.gsub(/[<invalid characters>]/, '_') end You need to replace <invalid characters> with all the possible characters that your file names might have in them that are not allowed on your file system. In the above code each invalid character is replaced with a _. Wikipedia tells us that the following characters are not allowed on NTFS: U+0000 (NUL) / (slash) \\ (backslash) : (colon) * (asterisk) ? (question mark) \" (quote) < (less than) (greater than) | (pipe) So your gsub call could be something like this: file_names.map! { |f| f.gsub(/[\\x00\\/\\\\:\\*\\?\\\"<>\\|]/, '_') } which replaces all the invalid characters with an underscore.",
    "severity": "medium",
    "tags": [
      "ruby",
      "filenames"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "2270635",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 6872,
      "stackoverflow_creation_date": "2010-02-16T04:28:42.623Z"
    },
    "idempotency_key": "stackoverflow-2270635",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can I undo or remove an atexit command?",
    "body": "If I place atexit( fn ); on the exit stack, it will get executed when the program exits: returns from main() or via exit(). Can I remove it from the stack? Why do I want to do this, you ask? I was experimenting with a simple try-catch mechanism using atexit, setjmp and longjmp. It would be just perfect if I could undo-atexit(fn); - even if it would only work for the last registered function. Edit: Following monoceres' suggestion to make my own stack... The stack only works with one exception catcher for now. void (*_catchFn[10])() = {0,0,0,0,0,0,0,0,0,0}; void _catch(){ if ( _catchFn[0] != 0 ){ (_catchFn[0])(); } } void _addCatch( void (*fn)() ){ _catchFn[0]=fn; } void _remCatch( void (*fn)() ){ _catchFn[0]=0; } void test(){ jmp_buf env; void catch(){ // we get here after an exit with a registered catch longjmp(env,1); // return to the line marked except... // that first will get the value 1 } int first = setjmp( env); // ** return here ** fprintf( stderr , \"test: After setjmp. first=%d\\n\" , first ); if( first == 0 ){ // try this code _addCatch(catch); // register the catch function to 'catch' the exit fprintf( stderr , \"test: Before CHECK\\n\" ); // CHECK something and something bad happens and it exits exit(1); // like this fprintf( stderr , \"test: After CHECK - THIS SHOULD NEVER BE SEEN AFTER AN EXCEPTION.\\n\" ); }else{ fprintf( stderr , \"test: After longjmp return. first=%d\\n\" , first ); } _remCatch( catch); fprintf( stderr , \"test: IT WORKED!\\n\"); exit(1); // exit again to see if we are safe } int main(){ atexit( _catch ); // register my global exception stack test(); }",
    "code": "void (*_catchFn[10])()  = {0,0,0,0,0,0,0,0,0,0};\n\nvoid _catch(){\n  if ( _catchFn[0] != 0 ){\n    (_catchFn[0])();\n  }\n}\n\nvoid _addCatch( void (*fn)() ){\n  _catchFn[0]=fn;\n}\n\nvoid _remCatch( void (*fn)() ){\n  _catchFn[0]=0;\n}\n\nvoid test(){\n  jmp_buf env;\n\n  void catch(){                  // we get here after an exit with a registered catch\n    longjmp(env,1);              // return to the line marked except...\n                               //   that first will get the value 1\n  }\n  int first = setjmp( env);      // ** return here **\n  fprintf( stderr , \"test: After setjmp. first=%d\\n\" , first );\n  if( first == 0 ){              // try this code\n    _addCatch(catch);            // register the catch function to 'catch' the exit\n    fprintf( stderr , \"test: Before CHECK\\n\" );\n    // CHECK something and something bad happens and it exits\n    exit(1);                     // like this\n    fprintf( stderr , \"test: After CHECK - THIS SHOULD NEVER BE SEEN AFTER AN EXCEPTION.\\n\" );\n  }else{\n    fprintf( stderr , \"test: After longjmp return. first=%d\\n\" , first );\n  }\n  _remCatch( catch);\n  fprintf( stderr , \"test: IT WORKED!\\n\");\n  exit(1);  // exit again to see if we are safe\n}\n\nint main(){\n  atexit( _catch );              // register my global exception stack\n  test();\n}\n\n\natexit( fn );\n\nmain()\n\nexit()\n\natexit\n\nsetjmp\n\nlongjmp\n\nundo-atexit(fn);\n\n# Solution Code:\n_Exit()",
    "resolution": "No, you cannot do it, but you can use global flag so your exit handler will be doing nothing if the flag is set. Alternatively you can call _Exit() (C99) - it will perform normal exit procedure (close all open descriptors, send all needed signals and parent/children) but will not call exit handler.",
    "severity": "medium",
    "tags": [
      "c",
      "exit",
      "atexit",
      "setjmp"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "2310673",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 6555,
      "stackoverflow_creation_date": "2010-02-22T11:57:50.273Z"
    },
    "idempotency_key": "stackoverflow-2310673",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I guarantee cleanup code runs in Windows C++ (SIGINT, bad alloc, and closed window)",
    "body": "I have a Windows C++ console program, and if I don't call ReleaseDriver() at the end of my program, some pieces of hardware enter a bad state and can't be used again without rebooting. I'd like to make sure ReleaseDriver() gets runs even if the program exits abnormally, for example if I hit Ctrl+C or close the console window. I can use signal() to create a signal handler for SIGINT. This works fine, although as the program ends it pops up an annoying error \"An unhandled Win32 exception occurred...\". I don't know how to handle the case of the console window being closed, and (more importantly) I don't know how to handle exceptions caused by bad memory accesses etc. Thanks for any help!",
    "code": "ReleaseDriver()\n\nReleaseDriver()\n\nCtrl+C\n\nsignal()\n\nSIGINT\n\n# Solution Code:\nnew\n\nsprintf\n\nnew\n\ndelete\n\nstatic",
    "resolution": "Under Windows, you can create an unhandled exception filter by calling SetUnhandledExceptionFilter(). Once done, any time an exception is generated that is not handled somewhere in your application, your handler will be called. Your handler can be used to release resources, generate dump files (see MiniDumpWriteDump), or whatever you need to make sure gets done. Note that there are many 'gotchas' surrounding how you write your exception handler function. In particular: You cannot call any CRT function, such as new You cannot perform any stack-based allocation If you do anything in your handler which causes an exception, Windows will immediately terminate your application by ripping the bones out of its back. You get no further chances to shut down gracefully. You can call many Windows API functions. But you can't sprintf, new, delete... In short, if it isn't a WINAPI function, it probably isn't safe. Because of all of the above, it is advisable to make all the variables in your handler function static variables. You won't be able to use sprintf, so you will have to format strings ahead of time, during initialization. Just remember that the machine is in a very unstable state when your handler is called.",
    "severity": "medium",
    "tags": [
      "c++",
      "windows",
      "crash",
      "signals"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "2403354",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1503,
      "stackoverflow_creation_date": "2010-03-08T17:43:44.963Z"
    },
    "idempotency_key": "stackoverflow-2403354",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Select all links from a Html table using XPath (and HtmlAgilityPack)",
    "body": "What I am trying to achieve is to extract all links with a href attribute that starts with http://, https:// or /. These links lie within a table (tbody > tr > td etc) with a certain class. I thought I could specify just the the a element without the whole path to it but it does not seem to work. I get a NullReferenceException at the line that selects the links: var table = doc.DocumentNode.SelectSingleNode(\"//table[@class='containerTable']\"); if (table != null) { foreach (HtmlNode item in table.SelectNodes(\"a[starts-with(@href, 'https://')]\")) { //not working I don't know about any recommendations or best practices when it comes to XPath. Do I create overhead when I query the document two times?",
    "code": "var table = doc.DocumentNode.SelectSingleNode(\"//table[@class='containerTable']\");\nif (table != null)\n{\n    foreach (HtmlNode item in table.SelectNodes(\"a[starts-with(@href, 'https://')]\"))\n    {\n        //not working\n\n\n# Solution Code:\n //tbody/descendant::a[starts-with(@href,'https://')\n                     or\n                       starts-with(@href,'http://')\n                     or\n                       starts-with(@href,'./') \n                      ]\n\n\nXmlNode.SelectNodes()\n\nXmlNodeList\n\nHtmlNode",
    "resolution": "Use: //tbody/descendant::a[starts-with(@href,'https://') or starts-with(@href,'http://') or starts-with(@href,'./') ] You will still have a problem, unless you correct your code to reflect the fact that the the XmlNode.SelectNodes() instance method has a return type of XmlNodeList, not HtmlNode.",
    "severity": "medium",
    "tags": [
      "c#",
      "xpath",
      "html-agility-pack"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "2484985",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6567,
      "stackoverflow_creation_date": "2010-03-20T22:11:18.347Z"
    },
    "idempotency_key": "stackoverflow-2484985",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I make the batch file wait until another batch file completes execution?",
    "body": "How can I make a batch file wait until another batch file has finished? For example, I have: echo hi >r.txt echo some piece of code >>r.txt start ar.bat echo some piece of code >>ar.txt I want the code after start ar.bat to execute only after ar.bat finishes executing. I tried without start and it works, but I want to run ar.bat in a separate window. Is there any method to check whether ar.bat has finished?",
    "code": "echo hi &gt;r.txt\necho some piece of code &gt;&gt;r.txt \n\nstart ar.bat\n\necho some piece of code &gt;&gt;ar.txt \n\n\nstart ar.bat\n\nar.bat\n\nstart\n\nar.bat\n\nar.bat\n\n# Solution Code:\ncall ar.bat\n\nstart /wait ar.bat",
    "resolution": "Use call ar.bat to do it completely with batch file commands. Use start /wait ar.bat to get another window and wait for it to complete.",
    "severity": "high",
    "tags": [
      "windows",
      "batch-file",
      "command-line",
      "scripting"
    ],
    "metadata": {
      "stackoverflow_question_id": "2572176",
      "stackoverflow_score": 29,
      "stackoverflow_view_count": 66246,
      "stackoverflow_creation_date": "2010-04-03T18:13:36.737Z"
    },
    "idempotency_key": "stackoverflow-2572176",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why can't c# use inline anonymous lambdas or delegates?",
    "body": "I hope I worded the title of my question appropriately. In c# I can use lambdas (as delegates), or the older delegate syntax to do this: Func<string> fnHello = () => \"hello\"; Console.WriteLine(fnHello()); Func<string> fnHello2 = delegate() { return \"hello 2\"; }; Console.WriteLine(fnHello2()); So why can't I \"inline\" the lambda or the delegate body, and avoid capturing it in a named variable (making it anonymous)? // Inline anonymous lambda not allowed Console.WriteLine( (() => \"hello inline lambda\")() ); // Inline anonymous delegate not allowed Console.WriteLine( (delegate() { return \"hello inline delegate\"; })() ); An example that works in javascript (just for comparison) is: alert( (function(){ return \"hello inline anonymous function from javascript\"; })() ); Which produces the expected alert box. UPDATE: It seems you can have an inline anonymous lambda in C#, if you cast appropriately, but the amount of ()'s starts to make it unruly. // Inline anonymous lambda with appropriate cast IS allowed Console.WriteLine( ((Func<string>)(() => \"hello inline anonymous lambda\"))() ); Perhaps the compiler can't infer the sig of the anonymous delegate to know which Console.WriteLine() you're trying to call? Does anyone know why this specific cast is required?",
    "code": "Func&lt;string&gt; fnHello = () =&gt; \"hello\";\nConsole.WriteLine(fnHello());\n\nFunc&lt;string&gt; fnHello2 = delegate()\n{\n    return \"hello 2\";\n};\nConsole.WriteLine(fnHello2());\n\n\n// Inline anonymous lambda not allowed\nConsole.WriteLine(\n    (() =&gt; \"hello inline lambda\")()\n);\n\n// Inline anonymous delegate not allowed\nConsole.WriteLine(\n    (delegate() { return \"hello inline delegate\"; })()\n);\n\n\nalert(\n    (function(){ return \"hello inline anonymous function from javascript\"; })()\n);\n\n\n// Inline anonymous lambda with appropriate cast IS allowed\nConsole.WriteLine(\n    ((Func&lt;string&gt;)(() =&gt; \"hello inline anonymous lambda\"))()\n);\n",
    "resolution": "Lambdas in C# do not have types, until they are used in a context that casts them to a delegate or Expression type. That's why you cannot do the following: var x = () => \"some lambda\"; You might enjoy Eric Lippert's Series on Lambda Expressions vs Anonymous Methods Lambda vs Anon - Part One Lambda vs Anon - Part Two Lambda vs Anon - Part Three Lambda vs Anon - Part Four Lambda vs Anon - Part Five",
    "severity": "high",
    "tags": [
      "c#",
      "lambda",
      "anonymous-methods",
      "inline-method"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "2687942",
      "stackoverflow_score": 33,
      "stackoverflow_view_count": 21447,
      "stackoverflow_creation_date": "2010-04-22T02:47:55.230Z"
    },
    "idempotency_key": "stackoverflow-2687942",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Updates are currently disallowed on GET requests. To allow updates on a GET, set the 'AllowUnsafeUpdates' property on SPWeb",
    "body": "I have a hidden webpart that read query string value \"optout=Yes\" . This optout = Yes, then I need to update profile property. If you see in my code. It is failing at \"userprof.Commit()\" and throwing \"Updates are currently disallowed on GET requests. To allow updates on a GET, set the 'AllowUnsafeUpdates' property on SPWeb\" . Any solution for this? private void OptOutMemberInvitation() { SPSecurity.RunWithElevatedPrivileges(delegate() { //update the invitee's Profile property UpdateInviteeOptOutProfile(InviteeConstitID); }); } private void UpdateInviteeOptOutProfile(string inviteeSiteColUrl) { ServerContext sc = ServerContext.Current; UserProfileManager upm = new UserProfileManager(sc); //Get the user profile Microsoft.Office.Server.UserProfiles.UserProfile userprof = upm.GetUserProfile(MemberConstitID); SPWeb web = userprof.PersonalSite.RootWeb; //make sure we can update our list web.AllowUnsafeUpdates = true; web.Update(); //Update the OptOut Property on the user's profile. userprof[\"OptOut\"].Value = \"Yes\"; userprof.Commit(); //Fails here //update the list item to persist it to list web.AllowUnsafeUpdates = false; //siteCol.Close(); //siteCol.Dispose(); }",
    "code": "private void OptOutMemberInvitation()\n{\n\n  SPSecurity.RunWithElevatedPrivileges(delegate()\n  {\n\n    //update the invitee's Profile property\n    UpdateInviteeOptOutProfile(InviteeConstitID);\n\n  });\n}\nprivate void UpdateInviteeOptOutProfile(string inviteeSiteColUrl)\n{\n  ServerContext sc = ServerContext.Current;\n  UserProfileManager upm = new UserProfileManager(sc);\n  //Get the user profile\n  Microsoft.Office.Server.UserProfiles.UserProfile userprof = upm.GetUserProfile(MemberConstitID);\n  SPWeb web = userprof.PersonalSite.RootWeb;\n\n  //make sure we can update our list\n  web.AllowUnsafeUpdates = true;\n  web.Update();\n  //Update the OptOut Property on the user's profile.\n  userprof[\"OptOut\"].Value = \"Yes\";\n  userprof.Commit(); //Fails here\n  //update the list item to persist it to list\n\n  web.AllowUnsafeUpdates = false;\n  //siteCol.Close();\n  //siteCol.Dispose();\n}\n",
    "severity": "medium",
    "tags": [
      "sharepoint"
    ],
    "metadata": {
      "stackoverflow_question_id": "2694995",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6140,
      "stackoverflow_creation_date": "2010-04-22T22:33:52.170Z"
    },
    "idempotency_key": "stackoverflow-2694995",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Searching in Ruby on Rails - How do I search on each word entered and not the exact string?",
    "body": "I have built a blog application w/ ruby on rails and I am trying to implement a search feature. The blog application allows for users to tag posts. The tags are created in their own table and belong_to :post. When a tag is created, so is a record in the tag table where the name of the tag is tag_name and associated by post_id. Tags are strings. I am trying to allow a user to search for any word tag_name in any order. Here is what I mean. Lets say a particular post has a tag that is 'ruby code controller'. In my current search feature, that tag will be found if the user searches for 'ruby', 'ruby code', or 'ruby code controller'. It will not be found if the user types in 'ruby controller'. Essentially what I am saying is that I would like each word entered in the search to be searched for, not necessarily the 'string' that is entered into the search. I have been experimenting with providing multiple textfields to allow the user to type in multiple words, and also have been playing around with the code below, but can't seem to accomplish the above. I am new to ruby and rails so sorry if this is an obvious question and prior to installing a gem or plugin I thought I would check to see if there was a simple fix. Here is my code: View: /views/tags/index.html.erb <% form_tag tags_path, :method => 'get' do %> <p> <%= text_field_tag :search, params[:search], :class => \"textfield-search\" %> <%= submit_tag \"Search\", :name => nil, :class => \"search-button\" %> </p> <% end %> TagsController def index @tags = Tag.search(params[:search]).paginate :page => params[:page], :per_page => 5 @tagsearch = Tag.search(params[:search]) @tag_counts = Tag.count(:group => :tag_name, :order => 'count_all DESC', :limit => 100) respond_to do |format| format.html # index.html.erb format.xml { render :xml => @tags } end end Tag Model class Tag < ActiveRecord::Base belongs_to :post validates_length_of :tag_name, :maximum=>42 validates_presence_of :tag_name def self.search(search) if search find(:all, :order => \"created_at DESC\", :conditions => ['tag_name LIKE ?', \"%#{search}%\"]) else find(:all, :order => \"created_at DESC\") end end end",
    "code": "&lt;% form_tag tags_path, :method =&gt; 'get' do %&gt;\n    &lt;p&gt;\n      &lt;%= text_field_tag :search, params[:search], :class =&gt; \"textfield-search\" %&gt;\n      &lt;%= submit_tag \"Search\", :name =&gt; nil, :class =&gt; \"search-button\" %&gt;\n    &lt;/p&gt;\n  &lt;% end %&gt;\n\n\n def index\n    @tags = Tag.search(params[:search]).paginate :page =&gt; params[:page], :per_page =&gt; 5\n    @tagsearch = Tag.search(params[:search])\n    @tag_counts = Tag.count(:group =&gt; :tag_name, \n       :order =&gt; 'count_all DESC', :limit =&gt; 100)\n\n    respond_to do |format|\n      format.html # index.html.erb\n      format.xml  { render :xml =&gt; @tags }\n    end\n  end\n\n\nclass Tag &lt; ActiveRecord::Base\n  belongs_to :post\n  validates_length_of :tag_name, :maximum=&gt;42\n  validates_presence_of :tag_name\n\n  def self.search(search)\n    if search\n      find(:all, :order =&gt; \"created_at DESC\", :conditions =&gt; ['tag_name LIKE ?', \"%#{search}%\"])\n    else\n      find(:all, :order =&gt; \"created_at DESC\")\n    end\n  end\n\nend\n\n\nbelong_to :post\n\n# Solution Code:\ndef self.search(search)\n  all :conditions =&gt;  (search ? { :tag_name =&gt; search.split} : [])\nend\n\n\ndef self.search(str)\n  return [] if str.blank?\n  cond_text   = str.split.map{|w| \"tag_name LIKE ? \"}.join(\" OR \")\n  cond_values = str.split.map{|w| \"%#{w}%\"}\n  all(:conditions =&gt;  (str ? [cond_text, *cond_values] : []))\nend\n\n\ndef self.search(*args)\n  return [] if args.blank?\n  cond_text, cond_values = [], []\n  args.each do |str|\n    next if str.blank?  \n    cond_text &lt;&lt; \"( %s )\" % str.split.map{|w| \"tag_name LIKE ? \"}.join(\" OR \")\n    cond_values.concat(str.split.map{|w| \"%#{w}%\"})\n  end\n  all :conditions =&gt;  [cond_text.join(\" AND \"), *cond_values]\nend\n\n\nTag.search(\"Ruby On Rails\")\n\nTag.search(\"Ruby On Rails\", \"Houston\")\n\nTag.search(\"Ruby On Rails\", \"Houston\", \"TX\")\n\nTag.search(\"Ruby On Rails\", \"Houston\", \"TX\", \"Blah\")\n\nTag.search(\"Ruby On Rails\", \"Houston\", \"TX\", \"Blah\", ....) # n parameters\n\n\nsearch\n\nLIKE",
    "resolution": "If I read your problem correctly, you want to return a row if the tag names for the row matches one of the words passed in the query string. You can rewrite your search method as follows: def self.search(search) all :conditions => (search ? { :tag_name => search.split} : []) end If you need partial matching then do the following: def self.search(str) return [] if str.blank? cond_text = str.split.map{|w| \"tag_name LIKE ? \"}.join(\" OR \") cond_values = str.split.map{|w| \"%#{w}%\"} all(:conditions => (str ? [cond_text, *cond_values] : [])) end Edit 1 If you want pass multiple search strings then: def self.search(*args) return [] if args.blank? cond_text, cond_values = [], [] args.each do |str| next if str.blank? cond_text << \"( %s )\" % str.split.map{|w| \"tag_name LIKE ? \"}.join(\" OR \") cond_values.concat(str.split.map{|w| \"%#{w}%\"}) end all :conditions => [cond_text.join(\" AND \"), *cond_values] end Now you can make calls such as: Tag.search(\"Ruby On Rails\") Tag.search(\"Ruby On Rails\", \"Houston\") Tag.search(\"Ruby On Rails\", \"Houston\", \"TX\") Tag.search(\"Ruby On Rails\", \"Houston\", \"TX\", \"Blah\") Tag.search(\"Ruby On Rails\", \"Houston\", \"TX\", \"Blah\", ....) # n parameters Caveat: The wild card LIKE searches are not very efficient(as they don't use the index). You should consider using Sphinx (via ThinkingSphinx) OR Solr(via SunSpot) if you have lot of data.",
    "severity": "high",
    "tags": [
      "ruby-on-rails",
      "ruby",
      "search"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "2696018",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 10872,
      "stackoverflow_creation_date": "2010-04-23T03:24:25.557Z"
    },
    "idempotency_key": "stackoverflow-2696018",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Boost ASIO read X bytes synchroniously into a vector",
    "body": "I've been attempting to write a client/server app with boost now, so far it sends and receives but I can't seem to just read X bytes into a vector. If I use the following code vector<uint8_t> buf; for (;;) { buf.resize(4); boost::system::error_code error; size_t len = socket.read_some(boost::asio::buffer(buf), error); if (error == boost::asio::error::eof) break; // Connection closed cleanly by peer. else if (error) throw boost::system::system_error(error); // Some other error. } And the packet is bigger then 4 bytes then it seems it keeps writing into those 4 bytes until the entire packet has been received, however I want it to fetch 4 bytes, then allow me to parse them, and then get the rest of the packet. Can anyone provide me with a working example, or at least a pointer on how to make it work properly ? Regards, Xeross",
    "code": "vector&lt;uint8_t&gt; buf;\n\nfor (;;)\n{\n buf.resize(4);\n boost::system::error_code error;\n\n size_t len = socket.read_some(boost::asio::buffer(buf), error);\n\n if (error == boost::asio::error::eof)\n  break; // Connection closed cleanly by peer.\n else if (error)\n  throw boost::system::system_error(error); // Some other error.\n}\n\n\n# Solution Code:\nvector&lt;uint8_t&gt; buf(4);\ntry\n{ \n  size_t len = read(socket, boost::asio::buffer(buf));\n  assert(len == 4);\n  // process the 4 bytes in buf\n}\ncatch (boost::system::system_error &amp;err)\n{\n  // handle the error e.g by returning early\n}\n\nboost::system::error_code error;\n\nwhile (!error)\n{\n  size_t len = socket.read_some(boost::asio::buffer(buf), error);\n\n  // process len bytes\n}\n",
    "resolution": "You say that the socket has more than 4 bytes available to read, in which case your code is correctly continuously looping since an eof won't be encountered until all the data is read. It seems to me that you want to use read() rather than read_some() since the latter might return with less than the four bytes you want. From the read_some documentation. The read_some operation may not read all of the requested number of bytes. Consider using the read function if you need to ensure that the requested amount of data is read before the blocking operation completes. You need to read the first 4 bytes (using read), process them (you don't need to be in a loop to do this), and then do a looping read and process the data until you get an error condition or eof. I think you want more like that below: vector<uint8_t> buf(4); try { size_t len = read(socket, boost::asio::buffer(buf)); assert(len == 4); // process the 4 bytes in buf } catch (boost::system::system_error &err) { // handle the error e.g by returning early } boost::system::error_code error; while (!error) { size_t len = socket.read_some(boost::asio::buffer(buf), error); // process len bytes }",
    "severity": "medium",
    "tags": [
      "c++",
      "boost"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "2738076",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4585,
      "stackoverflow_creation_date": "2010-04-29T14:23:01.227Z"
    },
    "idempotency_key": "stackoverflow-2738076",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get column of a mysql entry",
    "body": "Is there a possibility to get the name of the column a database entry belongs to? Perhaps I have three columns with column names col1, col2 and col3. Now I want to select for every column the column with the maximum entry, something like this. Select name_of_column(max(col1,col2,col3)). I know that I can ask for the name of the columns by its ordinal position in the information_schema.COLUMNS table but how do I get the ordinal position of a database entry within a table?",
    "code": "Select name_of_column(max(col1,col2,col3))\n\n# Solution Code:\n SELECT @m := GREATEST(col1, col2), \n CASE @m \n      WHEN col1 THEN 'col1' \n      WHEN col2 THEN 'col2' \n END \n FROM my_table\n",
    "resolution": "If you want to implement it in a pure SQL, you can use CASE statement and an additional variable: SELECT @m := GREATEST(col1, col2), CASE @m WHEN col1 THEN 'col1' WHEN col2 THEN 'col2' END FROM my_table",
    "severity": "low",
    "tags": [
      "sql",
      "mysql",
      "database"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "2757895",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 225,
      "stackoverflow_creation_date": "2010-05-03T12:16:07.247Z"
    },
    "idempotency_key": "stackoverflow-2757895",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is there some way to assume @Nullable as default? (using FindBugs or any other free tool)",
    "body": "Consider such code public void m1(String text) { if(text == null) text = \"<empty>\"; System.out.println(text.toLowerCase()); } And this is a buggy version: public void m1(String text) { System.out.println(text.toLowerCase()); } If null value passed, the NullPointerException may be thrown. I would like the static-analysis tool (e.g. FindBugs) to report this issue. Unsuccessfully the FindBugs (at least by default) requires me to specify @Nullable annotation explicitly. public void m1(@Nullable String text) { System.out.println(text.toLowerCase()); // FindBugs: text must be nonnull but is marked as nullable } The problem is that if I forget to annotate it, the bug will be missed!!! How can I make the FindBugs (or any other free tool) to assume @Nullable by default?",
    "code": "public void m1(String text) {\n    if(text == null)\n        text = \"&lt;empty&gt;\";\n\n    System.out.println(text.toLowerCase());\n}\n\n\npublic void m1(String text) {\n    System.out.println(text.toLowerCase());\n}\n\n\npublic void m1(@Nullable String text) {\n    System.out.println(text.toLowerCase()); // FindBugs: text must be nonnull but is marked as nullable\n}\n\n\n# Solution Code:\n@DefaultAnnotationForParameters(value = Nullable.class)\n\n\n@DefaultAnnotationForParameters({Nullable.class})\n\n\n@DefaultAnnotationForParameters\n\n@DefaultAnnotation\n\n@DefaultAnnotationForFields\n\n@DefaultAnnotationForMethods\n\n@ParametersAreNullableByDefault",
    "resolution": "According to Javadoc: @DefaultAnnotationForParameters indicates that all members of the class or package should be annotated with the default value of the supplied annotation class. (BTW Javadocs for @DefaultAnnotation, @DefaultAnnotationForFields and @DefaultAnnotationForMethods contain exactly the same text). But according to chapter 10 of FindBugs Manual: This is same as the DefaultAnnotation except it only applys to method parameters. While theroretically either @DefaultAnnotationForParameters(value = Nullable.class) or @DefaultAnnotationForParameters({Nullable.class}) should work, both don't. I don't know if FindBugs supports this but with JSR 305 you can also use @ParametersAreNullableByDefault annotation applied to a package, class or method. Unfortunately FindBugs 1.3.9 ignores @ParametersAreNonnullByDefault and similar annotations (used on packages or on types).",
    "severity": "medium",
    "tags": [
      "java",
      "static-analysis",
      "nullable"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "2791862",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1377,
      "stackoverflow_creation_date": "2010-05-07T21:48:57.973Z"
    },
    "idempotency_key": "stackoverflow-2791862",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "get all widgets inside an element",
    "body": "From the dojo documents on dijit.registry, I see the forEach method accepts a last parameter thisObject. But it doesn't way what that object is. Is it a dijit widget or a dojo object? I want to destroy all widgets inside an element (that will be replaced by AJAX) so they can be parsed again without conflicting id's. dijit.registry.forEach(function(w) { w.destroyRecursive(); }, dojo.byId(\"ajaxElement\")); But this destroys ALL widgets on the page...",
    "code": "dijit.registry.forEach(function(w) {\n    w.destroyRecursive();\n}, dojo.byId(\"ajaxElement\"));\n\n\ndijit.registry\n\nforEach\n\nthisObject\n\n# Solution Code:\nthisObject\n\nforEach\n\ndijit.findWidgets\n\ndojo.parser.parse\n\ndijit.parser.parse\n\ndijit.registry.filter",
    "resolution": "The thisObject is the scope object to invoke the function passed in as the first parameter of forEach. A couple of solutions you can use in this case: 1) Use dijit.findWidgets to find all the dijits in a DOM node and destroy them one by one. dijit.findWidgets returns array of widgets which takes domnode as a parameter 2) dojo.parser.parse returns an array of all the dijits that it creates, store that array and destroy the dijits before you call dijit.parser.parse again. 3) Use dijit.registry.filter to filter out the dijits you want to keep.",
    "severity": "medium",
    "tags": [
      "dojo"
    ],
    "metadata": {
      "stackoverflow_question_id": "2942350",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 4401,
      "stackoverflow_creation_date": "2010-05-31T08:42:50.900Z"
    },
    "idempotency_key": "stackoverflow-2942350",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is a proper way to store site-level global variables in a SharePoint site?",
    "body": "One thing that has driven me nuts about SharePoint2007 is the apparent inability to have defineable settings that apply specifically to a site or site collection itself, and not the content. I mean, you have some pre-defined settings like the Site Logo, the Site Name, and various other things, but there doesn't appear to be anywhere to add new kinds of settings. The application I am working on needs to be able to create multiple kinds of \"project site collections\" that all follow a basic template, but have certain additional settings that apply specifically to that site collection and that one alone. In addition to the standard site name we also need to define the Project Number, the Project Name, and the Client Name. And given the requests of some of our clients, we also reach a point where we have to have configurable settings that alter how some of the workflows work, like whether files are marked with Letters or Numbers. Our current solution, which I'm hesitant about, has been to store an XML file on the SharePoint server. This file contains one node for each site collection, identified by the URL of the root site. Inside the node are all of the elements that need to be defined for that site collection. When we need them, we have to access the XML file (which will always require SPSecurity.RunWithElevatedPrivileges to access files right on the server) every time to load it and retrieve the data. There are a lot of automated processes which will have to do this, and I'm hesitant about the stability of this method when we reach hundreds of sites with thousands of files running tens of thousands of workflows, all wanting to access this file. Maybe they're unfounded worries, but I'd rather worry than risk everything breaking in a couple years. I was looking into the SPWeb object and found the AllProperties hashtable. It looks like just the kind of thing which might work, but I don't know how safe it is to be modifying this. I read through both MSDN and the WSS SDK but found nothing that clarified on adding completely new properties into AllProperties. Is it safe to use AllProperties for this kind of thing? Or is there yet another feature that I am missing, which could handle the concept of global variables at the site collection or site scope?",
    "code": "AllProperties\n\nAllProperties\n\nAllProperties\n\n# Solution Code:\nSPWeb web = SPContext.Current.Web;\nif (web.Properties.ContainsKey(\"MyProperty\"))\n   string myProperty = web.Properties[\"MyProperty\"];\n",
    "resolution": "The recommended way to do this is to use PropertyBag (key/value pairs) through the .Properties of SPFarm, SPWeb.RootWeb (for site collections), SPWeb, SPList etc (depending upon the scope that you need). MSDN - Managing Custom Configuration Options for a SharePoint Application There is a production ready code available as part of the MSDN - The SharePoint Guidance Library See Hierarchical configuration manager This gives you programmatic access to read/write these values. If you want to do this without using the guidance library then you would use something like the following code. SPWeb web = SPContext.Current.Web; if (web.Properties.ContainsKey(\"MyProperty\")) string myProperty = web.Properties[\"MyProperty\"]; If you want a UI to allow admins to easily set the values then use either SharePoint Designer (urghhhh!) or something like SharePoint Property Bag Settings",
    "severity": "medium",
    "tags": [
      "sharepoint",
      "sharepoint-2007",
      "global-variables",
      "wss-3.0"
    ],
    "metadata": {
      "stackoverflow_question_id": "3008473",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 6584,
      "stackoverflow_creation_date": "2010-06-09T17:57:20.870Z"
    },
    "idempotency_key": "stackoverflow-3008473",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can CFHEADER values be read by other code?",
    "body": "The code <cfheader name=\"Test\" value=\"1\"> <cfheader name=\"Test\" value=\"2\"> results in the header \"Test: 2\" being sent to the browser (as seen using HttpFox). Is there a way for the second line of code to determine if a header with the same name has already been written using CFHEADER? Thanks!",
    "code": "&lt;cfheader name=\"Test\" value=\"1\"&gt;\n&lt;cfheader name=\"Test\" value=\"2\"&gt;\n\n\n# Solution Code:\ntest: 1, 2\n\n\ngetPageContext().getResponse().containsHeader(\"test\")\n\n\n&lt;cfif getPageContext().getResponse().containsHeader(\"test\") eq \"NO\"&gt;\n    &lt;cfheader name=\"test\" value=\"2\" /&gt;\n&lt;/cfif&gt;\n",
    "resolution": "What version of ColdFusion are you using? When I run your code on ColdFusion 9, I get the header value (As seen using FireBug): test: 1, 2 As for whether or not you can tell what, if any, existing values there might be for the response header, I haven't yet found a way. I'll keep looking, though. Update: Found it. getPageContext().getResponse().containsHeader(\"test\") For example: <cfif getPageContext().getResponse().containsHeader(\"test\") eq \"NO\"> <cfheader name=\"test\" value=\"2\" /> </cfif>",
    "severity": "low",
    "tags": [
      "http",
      "coldfusion",
      "http-headers"
    ],
    "metadata": {
      "stackoverflow_question_id": "3044509",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 696,
      "stackoverflow_creation_date": "2010-06-15T11:01:19.090Z"
    },
    "idempotency_key": "stackoverflow-3044509",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to convert a Ruby object to JSON",
    "body": "I would like to do something like this: require 'json' class Person attr_accessor :fname, :lname end p = Person.new p.fname = \"Mike\" p.lname = \"Smith\" p.to_json Is it possible?",
    "code": "require 'json'\n\nclass Person\nattr_accessor :fname, :lname\nend\n\np = Person.new\np.fname = \"Mike\"\np.lname = \"Smith\"\n\np.to_json\n\n\n# Solution Code:\nto_json\n\nrequire 'json'",
    "resolution": "Yes, you can do it with to_json. You may need to require 'json' if you're not running Rails.",
    "severity": "high",
    "tags": [
      "ruby-on-rails",
      "ruby",
      "json"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "3226054",
      "stackoverflow_score": 56,
      "stackoverflow_view_count": 83643,
      "stackoverflow_creation_date": "2010-07-12T05:24:41.940Z"
    },
    "idempotency_key": "stackoverflow-3226054",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Help about ActionScript socket communication with .Net",
    "body": "I'm using ActionScript to connect to a C# socket server. In the client (ActionScript), I use the following to send data: var socket:Socket = new Socket(\"localhost\", 8080); socket.writeUTF(\"hello\"); socket.flush(); In the server (C# 4.0), I use this: server = new TcpListener(IPAddress.Any, 8080); server.Start(); TcpClient client = server.AcceptTcpClient(); BinaryReader reader = new BinaryReader(client.GetStream(), Encoding.UTF8); Console.WriteLine(reader.ReadString()); I'm able to connect trough flash to the server. But the server doesn't receives the message (\"hello\") from the client. The server just ignores the message like it was not sent. But when I do reader.ReadString() again, I receive the message (so I must read twice to get each input). I think I know the problem - this is how Flash writes the string: http://livedocs.adobe.com/flex/3/langref/flash/net/Socket.html#writeUTF() And this is how C# reads it: http://msdn.microsoft.com/en-us/library/system.io.binaryreader.read7bitencodedint.aspx Aditional information about how C# reads it (look at Remarks): http://msdn.microsoft.com/en-us/library/system.io.binarywriter.write7bitencodedint.aspx Can anybody tell me how can I make both client and server communicate using binary data? Thanks, Moshe.",
    "code": "var socket:Socket = new Socket(\"localhost\", 8080);\nsocket.writeUTF(\"hello\");\nsocket.flush();\n\n\nserver = new TcpListener(IPAddress.Any, 8080);\nserver.Start();\nTcpClient client = server.AcceptTcpClient();\nBinaryReader reader = new BinaryReader(client.GetStream(), Encoding.UTF8);\nConsole.WriteLine(reader.ReadString());\n",
    "severity": "low",
    "tags": [
      ".net",
      "flash",
      "sockets",
      "actionscript",
      "c#-4.0"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "3258936",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 936,
      "stackoverflow_creation_date": "2010-07-15T18:57:22.417Z"
    },
    "idempotency_key": "stackoverflow-3258936",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use of the public static field, good programming practice/fast?",
    "body": "I'm programming a big game in Java and I'm trying to optimize the code but also to keep the code neat and well organized. Now I am unsure if I should use the public static field of single classes that have a couple of variables that are used by a lot of instances. For example the class camera has an x and y position that define what part of the map the user is looking at and what needs to be drawn to the screen. Currently I'm benchmarking with 50 000 units and I have the following options to draw them. 1: Store a reference to the instance of the camera in each unit and call getX() and getY() when it should be drawn: public void paint() { paint(x - camera.getX(), y - camera.getY()); } 2: Supply the coordinates of the camera as arguments to each unit when it should be drawn: public void paint(int cameraX, int cameraY) { paint(x - cameraX, y - cameraY); } 3: Make the x and y variables of the camera class static: public void paint() { paint(x - Camera.x, y - Camera.y); } I'm interested as what is generally seen as the best solution and if it affects performance. Perhaps there are more ways to do this I haven't thought of yet? Thanks!",
    "code": "public void paint()   \n{   \n   paint(x - camera.getX(), y - camera.getY());  \n}  \n\n\npublic void paint(int cameraX, int cameraY)  \n{   \n   paint(x - cameraX, y - cameraY);  \n}\n\n\npublic void paint()   \n{   \n   paint(x - Camera.x, y - Camera.y);  \n}\n\n\n# Solution Code:\npublic void paint(Painter painter)  \n{   \n   painter.draw(x, y, unit_sprite);\n}\n",
    "resolution": "I'd suggest you create a Painter class and do the following: public void paint(Painter painter) { painter.draw(x, y, unit_sprite); } That way the units don't have to worry about the existence of a camera. It is none of the unit's business how that works. The unit just needs to know how to draw itself on the global co-ordinate scheme and the painter will understand how that relates to the actual screen co-ordinates. Why is this a good idea? Reduction of code, each unit doesn't have to worry about translation to the correct co-ordinate frame. All of that code exists once in a single location. Ease of change. For example, suppose that you decide to implement a zoom feature. If each unit does its own translation that would be a pain. However, if all of that logic is in the painter, you can modify the painter to take care of rescaling the images and determining the correct offsets. Decreased dependencies, the units don't know what a camera is, they are simpler because they don't worry about it. Regarding your proposed solutions: Storing a reference to the camera on your object assumes there will only ever be one camera. What if you implement something like a split view? This may be unlikely, but by storing the reference you unnecessarily pretty much lock yourself into one perspective. The problem with splitting up the variables is that logically the two pieces are one item. This makes it a bit harder to figure out what is going on, will cause problems if you someday need more parameters, and also gives information to the unit which it really doesn't need. This suffers from the same problems of #1, it locks you into a single camera being used all over the place. The unit shouldn't be responsible for defining how the camera is used. Regarding performance: The difference is going to be almost nothing. I'm not sure what method will win in a performance battle, but I can tell you if you have performance issues they are going to be somewhere else (I'd guess in actually blitting functions). By combining all the code relating the offsets is a single location, my proposed method will make it easier to implement an optimization. For example, a common optimization is not draw things which are offscreen. If you have 20 functions all calculating offsets and invoking drawing functions, you'll have to go to each of those function and change them. If you use a painter, then you can simply change the painter class to ignore request to draw outside of the visible area and you are done. Regarding static variables in general: I consider static variables (and singletons) to be global variables and thus virtually never use them. Making them static ties me to particular decisions. I'm not smart enough to make all the right decisions up-front and so I need my code to be flexible. Some Guidelines: If you find yourself needing to access the data inside an object, i.e. the x,y value consider whether you should instead tell that object to do something be invoking a method. I.e. Tell Don't Ask. If an object (like Painter) is only used for a particular task by an object then it should be a parameter not a member variable.",
    "severity": "low",
    "tags": [
      "java",
      "performance"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "3272501",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 443,
      "stackoverflow_creation_date": "2010-07-17T17:20:07.250Z"
    },
    "idempotency_key": "stackoverflow-3272501",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "perl + identify if param is empty value from ARG",
    "body": "when I run the following script.pl script with no arguments: ./script.pl I do not get the message No arg. Why? How to identify if $param is a null value or empty value, same as [ -z from ksh? #!/usr/bin/perl my $param = $ARGV[0]; if ($param = \"\") { print No arg; } else { print arg: $param; }",
    "code": "./script.pl\n\n\n#!/usr/bin/perl\nmy $param = $ARGV[0];\nif ($param = \"\") {\n    print No arg;\n} else {\n    print arg: $param;\n}\n\n\nNo arg\n\n$param\n\n[ -z\n\n# Solution Code:\n#!/usr/bin/perl\nif (@ARGV) {\n    print 'have parameters';\n} else {\n    print q{don't have parameters};\n}\n\n\n$param = \"\"\n\n$param\n\nundef\n\neq\n\nprint \"No arg\"",
    "resolution": "Because it's not Perl. Where did you learn that syntax? So much is wrong with it. $param = \"\" assigns an empty string to $param, that's not what you want. null is spelled undef in Perl. To compare strings, use the eq operator. You must quote strings: print \"No arg\" Much easier: #!/usr/bin/perl if (@ARGV) { print 'have parameters'; } else { print q{don't have parameters}; }",
    "severity": "high",
    "tags": [
      "perl"
    ],
    "metadata": {
      "language": "perl",
      "stackoverflow_question_id": "3341703",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 24282,
      "stackoverflow_creation_date": "2010-07-27T08:07:15.333Z"
    },
    "idempotency_key": "stackoverflow-3341703",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why can't I compile this non-CLR program in VC++ 2008? How to do it?",
    "body": "Why can't I compile/run this non-CLR program in VC++ 2008? How to do it? MyProgram.cpp #include <iostream> namespace System { public class Console { public: static void WriteLine(char str[]) { std::cout<<str; } }; } int main() { System::Console::WriteLine(\"This a non-CLR program!\"); } Error Error 1 error C3381: 'System::Console' : assembly access specifiers are only available in code compiled with a /clr option e:\\...\\MyProgram.cpp 6",
    "code": "#include &lt;iostream&gt;\n\nnamespace System\n{\n    public class Console\n    {\n    public:\n        static void WriteLine(char str[])\n        {\n            std::cout&lt;&lt;str;\n        }\n    };\n}\n\nint main()\n{    \n    System::Console::WriteLine(\"This a non-CLR program!\");\n}\n\n\nError   1   error C3381: \n'System::Console' : assembly access specifiers are only \navailable in code compiled with a /clr option   \ne:\\...\\MyProgram.cpp    6\n\n\n# Solution Code:\nnamespace System\n{\n    class Console\n    {\n    public:\n        static void WriteLine(char str[])\n        {\n            std::cout&lt;&lt;str;\n        }\n    };\n}\n\n\nstatic void WriteLine( const char * str)\n",
    "resolution": "That isn't a non-CLR C++ program. In proper C++, classes cannot be public (or private). You want: namespace System { class Console { public: static void WriteLine(char str[]) { std::cout<<str; } }; } Also in C++ character literals are const, so your function should be: static void WriteLine( const char * str) if you want to call it with one as a parameter.",
    "severity": "medium",
    "tags": [
      "c++",
      "visual-c++"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "3430060",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4803,
      "stackoverflow_creation_date": "2010-08-07T10:24:06.373Z"
    },
    "idempotency_key": "stackoverflow-3430060",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "git merge: apply changes to code that moved to a different file",
    "body": "I am attempting a pretty beefy git merge maneuver right now. One problem that I am coming across is that I made some changes to some code in my branch, but my colleague moved that code to a new file in his branch. So when I did git merge my_branch his_branch, git did not notice that the code in the new file was the same as the old, and so none of my changes are there. What's the easiest way to go about applying my changes again to the code in the new files. I won't have too many problems finding out which commits need to be reapplied (I can just use git log --stat). But as far as I can tell, there is no way to get git to reapply the changes into the new files. The easiest thing I am seeing right now is to manually reapply the changes, which is not looking like a good idea. I know that git recognizes blobs, not files, so surely there must be a way to tell it, \"apply this exact code change from this commit, except not where it was but where it now is in this new file\".",
    "code": "git merge my_branch his_branch\n\ngit log --stat\n\n# Solution Code:\n ---- X -----CP------ (master)\n       \\ \n        `--A---B--- (local)\n \n\n\n ---- X (move)-----CP----- (master)\n       \\ \n        `--A---B--- (local)\n \n\n\ngit mv original.txt copy.txt\n\n\n        ,--MV (move)\n       /\n ---- X -----CP----- (master)\n       \\ \n        `--A---B--- (local)\n \n\n\ngit rebase move local\n\n\n        ,--MV (move)---A'---B'--- (local)\n       /\n ---- X -----CP----- (master)\n \n\n\ngit rebase move local --onto CP\n\n\n                ,--A''---B''-- (local)\n               /\n -----X-------CP----- (master)\n \n\n\noriginal.txt\n\nlocal\n\noriginal.txt\n\ncopy.txt\n\nCP\n\nA\n\nB\n\noriginal.txt\n\ncopy.txt\n\nmove\n\ngit branch move X\n\nmove\n\nX\n\ngit merge-base master local\n\nX\n\ncopy.txt\n\nMV\n\nmove\n\ncopy.txt\n\nMV\n\nCP\n\nCP\n\ncopy.txt\n\ncopy.txt\n\nCP\n\nlocal\n\ncopy.txt\n\noriginal.txt\n\nCP\n\ncopy.txt\n\noriginal.txt",
    "resolution": "I had a similar issue, and I resolved it by rebasing my work to match the target file organization. This works because git keep tracks of files content, so by rebasing on top of a rename, the changes are applied as necessary. More precisely, let's say that you modified original.txt on your branch (the local branch), but on the master branch, original.txt has been copied to another one, say copy.txt. This copy has been done in a commit that we name commit CP. You want to apply all your local changes, commits A and B below, that were made on original.txt, to the new file copy.txt. ---- X -----CP------ (master) \\ `--A---B--- (local) Create a throwaway branch move at the starting point of your changes with git branch move X. That is to say, put the move branch at commit X, the one before the commits you want to merge; most likely, this is the commit from which you branched out to implement your changes. As user @digory doo wrote below, you can do git merge-base master local to find X. ---- X (move)-----CP----- (master) \\ `--A---B--- (local) On this branch, issue the following renaming command: git mv original.txt copy.txt This renames the file. Note that copy.txt did not yet exist in your tree at this point. Commit your change (we name this commit MV). ,--MV (move) / ---- X -----CP----- (master) \\ `--A---B--- (local) You can now rebase your work on top of move: git rebase move local This should work without problem, and your changes are applied to copy.txt in your local branch. ,--MV (move)---A'---B'--- (local) / ---- X -----CP----- (master) Now, you do not necessarily want or need to have commit MV in your main branch's history, because the move operation may lead to a conflict with the copy operation at commit CP in the main branch. You only have to rebase your work again, discarding the move operation, as follows: git rebase move local --onto CP ... where CP is the commit where copy.txt was introduced in the other branch. This rebases all the changes on copy.txt on top of the CP commit. Now, your local branch is exactly as if you always modified copy.txt and not original.txt, and you can continue merging with others. ,--A''---B''-- (local) / -----X-------CP----- (master) It is important that the changes are applied on CP or otherwise copy.txt would not exist and the changes would be applied back on original.txt. Hope this is clear. This answer comes late, but this may be useful to someone else.",
    "severity": "high",
    "tags": [
      "git",
      "git-merge"
    ],
    "metadata": {
      "stackoverflow_question_id": "3491270",
      "stackoverflow_score": 188,
      "stackoverflow_view_count": 75980,
      "stackoverflow_creation_date": "2010-08-16T07:19:27.243Z"
    },
    "idempotency_key": "stackoverflow-3491270",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can VS.NET 2010/MSBUILD produce XmlSerializers for .NET 3.5 SP1?",
    "body": "I just upgraded a VS 2008 solution containing WinForms, general use libraries, and a web app to VS 2010, but all projects still target .NET 3.5 SP 1. I use this technique to generate XmlSerializers for my general use libraries. The WinForms app runs fine. When my web app tries to run using these libraries that reference the same XmlSerializers, it throws the following: Server Error in '/WebSubscribers' Application. Could not load file or assembly 'Ceoimage.Basecamp.XmlSerializers' or one of its dependencies. This assembly is built by a runtime newer than the currently loaded runtime and cannot be loaded. Description: An unhandled exception occurred during the execution of the current web request. Please review the stack trace for more information about the error and where it originated in the code. Exception Details: System.BadImageFormatException: Could not load file or assembly 'Ceoimage.Basecamp.XmlSerializers' or one of its dependencies. This assembly is built by a runtime newer than the currently loaded runtime and cannot be loaded. I have looked at the XmlSerializer's references using .NET Reflector and see it references both the 2.0 and 4.0 versions of mscorlib as well as the 3.5 and 4.0 versions of System.Data.Linq. Strangely, it only uses the 4.0 version of System.Xml. That is probably my problem right there. How can I get the web app to run using these XmlSerializers? When I simply delete those XmlSerializers, the web app runs fine. This is an option, but how can I force MSBUILD to create serializers for a specific version of the CLR? Here is the MSBuild task I add to project files that forces the creation of the XmlSerializers: <Target Name=\"AfterBuild\" DependsOnTargets=\"AssignTargetPaths;Compile;ResolveKeySource\" Inputs=\"$(MSBuildAllProjects);@(IntermediateAssembly)\" Outputs=\"$(OutputPath)$(_SGenDllName)\"> <Delete Files=\"$(TargetDir)$(TargetName).XmlSerializers.dll\" ContinueOnError=\"true\" /> <SGen BuildAssemblyName=\"$(TargetFileName)\" BuildAssemblyPath=\"$(OutputPath)\" References=\"@(ReferencePath)\" ShouldGenerateSerializer=\"true\" UseProxyTypes=\"false\" KeyContainer=\"$(KeyContainerName)\" KeyFile=\"$(KeyOriginatorFile)\" DelaySign=\"$(DelaySign)\" ToolPath=\"$(SGenToolPath)\"> <Output TaskParameter=\"SerializationAssembly\" ItemName=\"SerializationAssembly\" /> </SGen> </Target>",
    "code": "&lt;Target Name=\"AfterBuild\" DependsOnTargets=\"AssignTargetPaths;Compile;ResolveKeySource\" Inputs=\"$(MSBuildAllProjects);@(IntermediateAssembly)\" Outputs=\"$(OutputPath)$(_SGenDllName)\"&gt;\n &lt;Delete Files=\"$(TargetDir)$(TargetName).XmlSerializers.dll\" ContinueOnError=\"true\" /&gt;\n &lt;SGen BuildAssemblyName=\"$(TargetFileName)\" BuildAssemblyPath=\"$(OutputPath)\" References=\"@(ReferencePath)\" ShouldGenerateSerializer=\"true\" UseProxyTypes=\"false\" KeyContainer=\"$(KeyContainerName)\" KeyFile=\"$(KeyOriginatorFile)\" DelaySign=\"$(DelaySign)\" ToolPath=\"$(SGenToolPath)\"&gt;\n  &lt;Output TaskParameter=\"SerializationAssembly\" ItemName=\"SerializationAssembly\" /&gt;\n &lt;/SGen&gt;\n&lt;/Target&gt;\n\n\nmscorlib\n\nSystem.Data.Linq\n\nSystem.Xml\n\n# Solution Code:\n&lt;SGen BuildAssemblyName=\"$(TargetFileName)\" BuildAssemblyPath=\"$(OutputPath)\" References=\"@(ReferencePath)\" ShouldGenerateSerializer=\"true\" UseProxyTypes=\"false\" KeyContainer=\"$(KeyContainerName)\" KeyFile=\"$(KeyOriginatorFile)\" DelaySign=\"$(DelaySign)\" ToolPath=\"C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0A\\bin\"&gt;\n",
    "resolution": "I found I can explicitly specify the SGEN task's tools path to use the 3.5 version, like so: <SGen BuildAssemblyName=\"$(TargetFileName)\" BuildAssemblyPath=\"$(OutputPath)\" References=\"@(ReferencePath)\" ShouldGenerateSerializer=\"true\" UseProxyTypes=\"false\" KeyContainer=\"$(KeyContainerName)\" KeyFile=\"$(KeyOriginatorFile)\" DelaySign=\"$(DelaySign)\" ToolPath=\"C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0A\\bin\">",
    "severity": "medium",
    "tags": [
      "visual-studio-2010",
      "msbuild",
      "xmlserializer",
      "sgen",
      ".net-reflector"
    ],
    "metadata": {
      "stackoverflow_question_id": "3549210",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 2958,
      "stackoverflow_creation_date": "2010-08-23T15:45:23.110Z"
    },
    "idempotency_key": "stackoverflow-3549210",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Profiling Python generators",
    "body": "I'm adapting an application that makes heavy use of generators to produce its results to provide a web.py web interface. So far, I could wrap the call to the for-loop and the output-producing statements in a function and call that using cProfile.run() or runctx(). Conceptually: def output(): for value in generator(): print(value) cProfile.run('output()') In web.py, I have to wrap it the following way, since I want to immediately produce output from the potentially long-running computation in each iteration step using yield: class index: def GET(self): for value in generator(): yield make_pretty_html(value) Is there a way to profile all calls to the generator like in the first example when it's used like in the second one?",
    "code": "def output():\n    for value in generator():\n        print(value)\n\ncProfile.run('output()')\n\n\nclass index:\n    def GET(self):\n        for value in generator():\n            yield make_pretty_html(value)\n\n\ncProfile.run()\n\nrunctx()\n\nyield\n\n# Solution Code:\nimport cProfile\nimport pstats\nimport glob\nimport math\n\ndef gen():\n    for i in range(1, 10):\n        yield math.factorial(i)\n\nclass index(object):\n    def GET(self):\n        p = cProfile.Profile()\n\n        it = gen()\n        while True:\n            try:\n                nxt = p.runcall(next, it)\n            except StopIteration:\n                break\n            print nxt\n\n        p.print_stats()\n\nindex().GET()\n",
    "resolution": "I finally found a solution. Return value of profiling via here. import cProfile import pstats import glob import math def gen(): for i in range(1, 10): yield math.factorial(i) class index(object): def GET(self): p = cProfile.Profile() it = gen() while True: try: nxt = p.runcall(next, it) except StopIteration: break print nxt p.print_stats() index().GET() I also could merge multiple such profiling results (once I start giving unique file names) via documentation and store/analyze them combined.",
    "severity": "medium",
    "tags": [
      "python",
      "profiling",
      "profiler",
      "web.py"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "3570335",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 2793,
      "stackoverflow_creation_date": "2010-08-25T21:25:14.593Z"
    },
    "idempotency_key": "stackoverflow-3570335",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python: How to custom order a list?",
    "body": "Obs: I know lists in python are not order-fixed, but think that this one will be. And I'm using Python 2.4 I have a list, like (for example) this one: mylist = [ ( u'Article', {\"...some_data...\"} ) , ( u'Report' , {\"...some_data...\"} ) , ( u'Book' , {\"...another_data...\"} ) , ...#continue ] This variable mylist is obtained from a function, and the 'order' of the list returned will vary. So, sometimes it will be like on the example. Sometimes, the 'Report' will come before 'Article', etc. I have a fixed order that I want on this list (and isn't the alphabetical). Let's say that my fixed order is: 'Report', 'Article', 'Book', ... So, what I want is that: whatever order 'mylist' is instantiated, I want to reorder it making 'Report' stay on front, 'Article' on second, etc... What's the best approach to reorder my list (taking the first element of the tuple of each item on list) using my 'custom' order? Answer: I ended up with this: mylist became a list of dicts, like this: mylist = [{'id':'Article', \"...some_data...\"} , ...etc ] each dict having a 'id' that had to be sorted. Saving the correct order on a listAssigning the correct_order on a list: correct_order = ['Report', 'Article', 'Book', ...] and doing: results = sorted([item for item in results], cmp=lambda x,y:cmp(correct_order.index(x['id']), correct_order.index(y['id'])))",
    "code": "mylist = [ ( u'Article', {\"...some_data...\"}    ) ,\n           ( u'Report' , {\"...some_data...\"}    ) ,\n           ( u'Book'   , {\"...another_data...\"} ) ,\n...#continue\n]\n\n\nmylist = [{'id':'Article', \"...some_data...\"} ,\n        ...etc\n]\n\n\ncorrect_order = ['Report', 'Article', 'Book', ...]\n\n\nresults = sorted([item for item in results], cmp=lambda x,y:cmp(correct_order.index(x['id']), correct_order.index(y['id'])))\n\n\n# Solution Code:\nd = { \"Report\": 1,\n      \"Article\": 2,\n       \"Book\": 3 }\nresult = sorted(mylist, key=lambda x:d[x[0]])\n",
    "resolution": "You could use a dictionary that would map every first element to its \"weight\" and then check this dictionary inside a sorting function. Something like: d = { \"Report\": 1, \"Article\": 2, \"Book\": 3 } result = sorted(mylist, key=lambda x:d[x[0]])",
    "severity": "high",
    "tags": [
      "python",
      "list",
      "sorting"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "3624323",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 21858,
      "stackoverflow_creation_date": "2010-09-02T06:36:06.107Z"
    },
    "idempotency_key": "stackoverflow-3624323",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "RegEx: Uk Landlines, Mobile phone numbers",
    "body": "I've been struggling with finding a suitable solution :- I need an regex expression that will match all UK phone numbers and mobile phones. So far this one appears to cover most of the UK numbers: ^0\\d{2,4}[ -]{1}[\\d]{3}[\\d -]{1}[\\d -]{1}[\\d]{1,4}$ However mobile numbers do not work with this regex expression or phone-numbers written in a single solid block such as 01234567890. Could anyone help me create the required regex expression?",
    "code": "^0\\d{2,4}[ -]{1}[\\d]{3}[\\d -]{1}[\\d -]{1}[\\d]{1,4}$\n\n\n# Solution Code:\n//  using System.Text.RegularExpressions;\n\n/// &lt;summary&gt;\n///  Regular expression built for C# on: Wed, Sep 8, 2010, 06:38:28 \n///  Using Expresso Version: 3.0.2766, http://www.ultrapico.com\n///  \n///  A description of the regular expression:\n///  \n///  [1]: A numbered capture group. [\\+44], zero or one repetitions\n///      \\+44\n///          Literal +\n///          44\n///  [2]: A numbered capture group. [\\s+], zero or one repetitions\n///      Whitespace, one or more repetitions\n///  [3]: A numbered capture group. [\\(?]\n///      Literal (, zero or one repetitions\n///  [area_code]: A named capture group. [(\\d{1,5}|\\d{4}\\s+?\\d{1,2})]\n///      [4]: A numbered capture group. [\\d{1,5}|\\d{4}\\s+?\\d{1,2}]\n///          Select from 2 alternatives\n///              Any digit, between 1 and 5 repetitions\n///              \\d{4}\\s+?\\d{1,2}\n///                  Any digit, exactly 4 repetitions\n///                  Whitespace, one or more repetitions, as few as possible\n///                  Any digit, between 1 and 2 repetitions\n///  [5]: A numbered capture group. [\\)?]\n///      Literal ), zero or one repetitions\n///  [6]: A numbered capture group. [\\s+|-], zero or one repetitions\n///      Select from 2 alternatives\n///          Whitespace, one or more repetitions\n///          -\n///  [tel_no]: A named capture group. [(\\d{1,4}(\\s+|-)?\\d{1,4}|(\\d{6}))]\n///      [7]: A numbered capture group. [\\d{1,4}(\\s+|-)?\\d{1,4}|(\\d{6})]\n///          Select from 2 alternatives\n///              \\d{1,4}(\\s+|-)?\\d{1,4}\n///                  Any digit, between 1 and 4 repetitions\n///                  [8]: A numbered capture group. [\\s+|-], zero or one repetitions\n///                      Select from 2 alternatives\n///                          Whitespace, one or more repetitions\n///                          -\n///                  Any digit, between 1 and 4 repetitions\n///              [9]: A numbered capture group. [\\d{6}]\n///                  Any digit, exactly 6 repetitions\n///  \n///\n/// &lt;/summary&gt;\npublic Regex MyRegex = new Regex(\n      \"(\\\\+44)?\\r\\n(\\\\s+)?\\r\\n(\\\\(?)\\r\\n(?&lt;area_code&gt;(\\\\d{1,5}|\\\\d{4}\\\\s+\"+\n      \"?\\\\d{1,2}))(\\\\)?)\\r\\n(\\\\s+|-)?\\r\\n(?&lt;tel_no&gt;\\r\\n(\\\\d{1,4}\\r\\n(\\\\s+|-\"+\n      \")?\\\\d{1,4}\\r\\n|(\\\\d{6})\\r\\n))\",\n    RegexOptions.IgnoreCase\n    | RegexOptions.Singleline\n    | RegexOptions.ExplicitCapture\n    | RegexOptions.CultureInvariant\n    | RegexOptions.IgnorePatternWhitespace\n    | RegexOptions.Compiled\n    );\n\n\n\n//// Replace the matched text in the InputText using the replacement pattern\n// string result = MyRegex.Replace(InputText,MyRegexReplace);\n\n//// Split the InputText wherever the regex matches\n// string[] results = MyRegex.Split(InputText);\n\n//// Capture the first Match, if any, in the InputText\n// Match m = MyRegex.Match(InputText);\n\n//// Capture all Matches in the InputText\n// MatchCollection ms = MyRegex.Matches(InputText);\n\n//// Test to see if there is a match in the InputText\n// bool IsMatch = MyRegex.IsMatch(InputText);\n\n//// Get the names of all the named and numbered capture groups\n// string[] GroupNames = MyRegex.GetGroupNames();\n\n//// Get the numbers of all the named and numbered capture groups\n// int[] GroupNumbers = MyRegex.GetGroupNumbers();\n\n\narea_code\n\ntel_no",
    "resolution": "Would this regex do? // using System.Text.RegularExpressions; /// <summary> /// Regular expression built for C# on: Wed, Sep 8, 2010, 06:38:28 /// Using Expresso Version: 3.0.2766, http://www.ultrapico.com /// /// A description of the regular expression: /// /// [1]: A numbered capture group. [\\+44], zero or one repetitions /// \\+44 /// Literal + /// 44 /// [2]: A numbered capture group. [\\s+], zero or one repetitions /// Whitespace, one or more repetitions /// [3]: A numbered capture group. [\\(?] /// Literal (, zero or one repetitions /// [area_code]: A named capture group. [(\\d{1,5}|\\d{4}\\s+?\\d{1,2})] /// [4]: A numbered capture group. [\\d{1,5}|\\d{4}\\s+?\\d{1,2}] /// Select from 2 alternatives /// Any digit, between 1 and 5 repetitions /// \\d{4}\\s+?\\d{1,2} /// Any digit, exactly 4 repetitions /// Whitespace, one or more repetitions, as few as possible /// Any digit, between 1 and 2 repetitions /// [5]: A numbered capture group. [\\)?] /// Literal ), zero or one repetitions /// [6]: A numbered capture group. [\\s+|-], zero or one repetitions /// Select from 2 alternatives /// Whitespace, one or more repetitions /// - /// [tel_no]: A named capture group. [(\\d{1,4}(\\s+|-)?\\d{1,4}|(\\d{6}))] /// [7]: A numbered capture group. [\\d{1,4}(\\s+|-)?\\d{1,4}|(\\d{6})] /// Select from 2 alternatives /// \\d{1,4}(\\s+|-)?\\d{1,4} /// Any digit, between 1 and 4 repetitions /// [8]: A numbered capture group. [\\s+|-], zero or one repetitions /// Select from 2 alternatives /// Whitespace, one or more repetitions /// - /// Any digit, between 1 and 4 repetitions /// [9]: A numbered capture group. [\\d{6}] /// Any digit, exactly 6 repetitions /// /// /// </summary> public Regex MyRegex = new Regex( \"(\\\\+44)?\\r\\n(\\\\s+)?\\r\\n(\\\\(?)\\r\\n(?<area_code>(\\\\d{1,5}|\\\\d{4}\\\\s+\"+ \"?\\\\d{1,2}))(\\\\)?)\\r\\n(\\\\s+|-)?\\r\\n(?<tel_no>\\r\\n(\\\\d{1,4}\\r\\n(\\\\s+|-\"+ \")?\\\\d{1,4}\\r\\n|(\\\\d{6})\\r\\n))\", RegexOptions.IgnoreCase | RegexOptions.Singleline | RegexOptions.ExplicitCapture | RegexOptions.CultureInvariant | RegexOptions.IgnorePatternWhitespace | RegexOptions.Compiled ); //// Replace the matched text in the InputText using the replacement pattern // string result = MyRegex.Replace(InputText,MyRegexReplace); //// Split the InputText wherever the regex matches // string[] results = MyRegex.Split(InputText); //// Capture the first Match, if any, in the InputText // Match m = MyRegex.Match(InputText); //// Capture all Matches in the InputText // MatchCollection ms = MyRegex.Matches(InputText); //// Test to see if there is a match in the InputText // bool IsMatch = MyRegex.IsMatch(InputText); //// Get the names of all the named and numbered capture groups // string[] GroupNames = MyRegex.GetGroupNames(); //// Get the numbers of all the named and numbered capture groups // int[] GroupNumbers = MyRegex.GetGroupNumbers(); Notice how the spaces and dashes are optional and can be part of it.. also it is now divided into two capture groups called area_code and tel_no to break it down and easier to extract.",
    "severity": "high",
    "tags": [
      "regex",
      "phone-number"
    ],
    "metadata": {
      "stackoverflow_question_id": "3669516",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 19313,
      "stackoverflow_creation_date": "2010-09-08T15:49:39.360Z"
    },
    "idempotency_key": "stackoverflow-3669516",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "GetDIBits and loop through pixels using X, Y",
    "body": "I'm grabbing a portion of the screen and scanning through the pixels for a certain color range. I looked at MSDN's Capturing an Image example and know how to use the functions. I can get the bits into an array, but I'm not sure how to do it in such a way that I can loop through it as I would an image. A pseudo-example (which I'm sure is way off): for ( x = 1; x <= Image.Width; x += 3 ) { for ( y = 1; y <= Image.Height; y += 3 ) { red = lpPixels[x]; green = lpPixels[x + 1]; blue = lpPixels[x + 2]; } } That's basically what I want to do, so if red, blue, and green is a certain color, I'll know what coordinate it's at (x, y) in the image. I just don't know how to use GetDIBits in such a way, and how to setup the array appropriately to be able to accomplish this.",
    "code": "for ( x = 1; x &lt;= Image.Width; x += 3 )\n{\n    for ( y = 1; y &lt;= Image.Height; y += 3 )\n    {\n        red = lpPixels[x];\n        green = lpPixels[x + 1];\n        blue = lpPixels[x + 2];\n    }\n}\n\n\n# Solution Code:\nHDC hdcSource = NULL; // the source device context\nHBITMAP hSource = NULL; // the bitmap selected into the device context\n\nBITMAPINFO MyBMInfo = {0};\nMyBMInfo.bmiHeader.biSize = sizeof(MyBMInfo.bmiHeader);\n\n// Get the BITMAPINFO structure from the bitmap\nif(0 == GetDIBits(hdcSource, hSource, 0, 0, NULL, &amp;MyBMInfo, DIB_RGB_COLORS))\n{\n    // error handling\n}\n\n// create the pixel buffer\nBYTE* lpPixels = new BYTE[MyBMInfo.bmiHeader.biSizeImage];\n\n// We'll change the received BITMAPINFOHEADER to request the data in a\n// 32 bit RGB format (and not upside-down) so that we can iterate over\n// the pixels easily. \n\n// requesting a 32 bit image means that no stride/padding will be necessary,\n// although it always contains an (possibly unused) alpha channel\nMyBMInfo.bmiHeader.biBitCount = 32;\nMyBMInfo.bmiHeader.biCompression = BI_RGB;  // no compression -&gt; easier to use\n// correct the bottom-up ordering of lines (abs is in cstdblib and stdlib.h)\nMyBMInfo.bmiHeader.biHeight = abs(MyBMInfo.bmiHeader.biHeight);\n\n// Call GetDIBits a second time, this time to (format and) store the actual\n// bitmap data (the \"pixels\") in the buffer lpPixels\nif(0 == GetDIBits(hdcSource, hSource, 0, MyBMInfo.bmiHeader.biHeight,\n                  lpPixels, &amp;MyBMInfo, DIB_RGB_COLORS))\n{\n    // error handling\n}\n// clean up: deselect bitmap from device context, close handles, delete buffer\n\n\nDIB_RGB_COLORS\n\nuUsage\n\nBITMAPINFO\n\nBITMAPINFOHEADER\n\nbiClrUsed\n\nbiClrImportant\n\nGetDIBits\n\n32\n\nbiBitCount\n\nbiCompression\n\nBITMAPINFOHEADER\n\nBI_RGB\n\nbmiColors\n\nBITMAPINFO\n\nNULL\n\nDWORD\n\nDWORD\n\nLONG\n\nDWORD",
    "resolution": "Apart from the good answers already given, here's an example of how to get a simple array structure to walk on. (You can use e.g. Goz' code for the iteration.) GetDIBits reference @ MSDN You have to select DIB_RGB_COLORS as flag for uUsage and set up the BITMAPINFO structure and the BITMAPINFOHEADER structure it contains. When you set biClrUsed and biClrImportant to zero, there is \"no\" color table, so you can read the pixels of the bitmap you get from GetDIBits as a sequence of RGB values. Using 32 as bit count (biBitCount) sets up the data structure according to MSDN: The bitmap has a maximum of 2^32 colors. If the biCompression member of the BITMAPINFOHEADER is BI_RGB, the bmiColors member of BITMAPINFO is NULL. Each DWORD in the bitmap array represents the relative intensities of blue, green, and red, respectively, for a pixel. The high byte in each DWORD is not used. Since a MS LONG is exactly 32 bit long (the size of a DWORD), you do not have to pay attention to padding (as described in the Remarks section). Code: HDC hdcSource = NULL; // the source device context HBITMAP hSource = NULL; // the bitmap selected into the device context BITMAPINFO MyBMInfo = {0}; MyBMInfo.bmiHeader.biSize = sizeof(MyBMInfo.bmiHeader); // Get the BITMAPINFO structure from the bitmap if(0 == GetDIBits(hdcSource, hSource, 0, 0, NULL, &MyBMInfo, DIB_RGB_COLORS)) { // error handling } // create the pixel buffer BYTE* lpPixels = new BYTE[MyBMInfo.bmiHeader.biSizeImage]; // We'll change the received BITMAPINFOHEADER to request the data in a // 32 bit RGB format (and not upside-down) so that we can iterate over // the pixels easily. // requesting a 32 bit image means that no stride/padding will be necessary, // although it always contains an (possibly unused) alpha channel MyBMInfo.bmiHeader.biBitCount = 32; MyBMInfo.bmiHeader.biCompression = BI_RGB; // no compression -> easier to use // correct the bottom-up ordering of lines (abs is in cstdblib and stdlib.h) MyBMInfo.bmiHeader.biHeight = abs(MyBMInfo.bmiHeader.biHeight); // Call GetDIBits a second time, this time to (format and) store the actual // bitmap data (the \"pixels\") in the buffer lpPixels if(0 == GetDIBits(hdcSource, hSource, 0, MyBMInfo.bmiHeader.biHeight, lpPixels, &MyBMInfo, DIB_RGB_COLORS)) { // error handling } // clean up: deselect bitmap from device context, close handles, delete buffer",
    "severity": "high",
    "tags": [
      "c++",
      "loops",
      "pixel",
      "getdibits"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "3688409",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 22758,
      "stackoverflow_creation_date": "2010-09-10T21:17:21.020Z"
    },
    "idempotency_key": "stackoverflow-3688409",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Haskell: Why do the Maybe and Either types behave differently when used as Monads?",
    "body": "I'm trying to get my head around error handling in Haskell. I've found the article \"8 ways to report errors in Haskell\" but I'm confused as to why Maybe and Either behave differently. For example: import Control.Monad.Error myDiv :: (Monad m) => Float -> Float -> m Float myDiv x 0 = fail \"My divison by zero\" myDiv x y = return (x / y) testMyDiv1 :: Float -> Float -> String testMyDiv1 x y = case myDiv x y of Left e -> e Right r -> show r testMyDiv2 :: Float -> Float -> String testMyDiv2 x y = case myDiv x y of Nothing -> \"An error\" Just r -> show r Calling testMyDiv2 1 0 gives a result of \"An error\", but calling testMyDiv1 1 0 gives: \"*** Exception: My divison by zero (Note the lack of closing quote, indicating this isn't a string but an exception). What gives?",
    "code": "import Control.Monad.Error\n\nmyDiv :: (Monad m) =&gt; Float -&gt; Float -&gt; m Float\nmyDiv x 0 = fail &quot;My divison by zero&quot;\nmyDiv x y = return (x / y)\n\ntestMyDiv1 :: Float -&gt; Float -&gt; String\ntestMyDiv1 x y =\n    case myDiv x y of\n        Left e  -&gt; e\n        Right r -&gt; show r\n\ntestMyDiv2 :: Float -&gt; Float -&gt; String\ntestMyDiv2 x y =\n    case myDiv x y of\n        Nothing -&gt; &quot;An error&quot;\n        Just r  -&gt; show r\n\n\n&quot;*** Exception: My divison by zero\n\n\ntestMyDiv2 1 0\n\n&quot;An error&quot;\n\ntestMyDiv1 1 0\n\n# Solution Code:\nfail\n\nMonad\n\nfail = Left\n\ninstance Monad (Either String)\n\nEither\n\nfail\n\nerror\n\nfail\n\nControl.Monad.Error\n\ninstance Error e =&gt; Monad (Either e)\n\nfail msg = Left (strMsg msg)",
    "resolution": "The short answer is that the Monad class in Haskell adds the fail operation to the original mathematical idea of monads, which makes it somewhat controversial how to make the Either type into a (Haskell) Monad, because there are many ways to do it. There are several implementations floating around that do different things. The 3 basic approaches that I'm aware of are: fail = Left. This seems to be what most people expect, but it actually can't be done in strict Haskell 98. The instance would have to be declared as instance Monad (Either String), which is not legal under H98 because it mentions a particular type for one of Eithers parameters (in GHC, the FlexibleInstances extension would cause the compiler to accept it). Ignore fail, using the default implementation which just calls error. This is what's happening in your example. This version has the advantage of being H98 compliant, but the disadvantage of being rather surprising to the user (with the surprise coming at runtime). The fail implementation calls some other class to convert a String into whatever type. This is done in MTL's Control.Monad.Error module, which declares instance Error e => Monad (Either e). In this implementation, fail msg = Left (strMsg msg). This one is again legal H98, and again occasionally surprising to users because it introduces another type class. In contrast to the last example though, the surprise comes at compile time.",
    "severity": "medium",
    "tags": [
      "haskell",
      "error-handling",
      "monads"
    ],
    "metadata": {
      "stackoverflow_question_id": "3795561",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 3596,
      "stackoverflow_creation_date": "2010-09-25T21:07:18.553Z"
    },
    "idempotency_key": "stackoverflow-3795561",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How did 16-bit C compilers work?",
    "body": "C's memory model, with its use of pointer arithmetic and all, seems to model flat address space. 16-bit computers used segmented memory access. How did 16-bit C compilers deal with this issue and simulate a flat address space from the perspective of the C programmer? For example, roughly what assembly language instructions would the following code compile to on an 8086? long arr[65536]; // Assume 32 bit longs. long i; for(i = 0; i < 65536; i++) { arr[i] = i; }",
    "code": "long arr[65536];  // Assume 32 bit longs.\nlong i;\nfor(i = 0; i &lt; 65536; i++) {\n    arr[i] = i;\n}\n\n\n# Solution Code:\nnear\n\nfar\n\nhuge\n\nnear\n\nfar\n\nhuge\n\nLPCSTR\n\nconst char*",
    "resolution": "How did 16-bit C compilers deal with this issue and simulate a flat address space from the perspective of the C programmer? They didn't. Instead, they made segmentation visible to the C programmer, extending the language by having multiple types of pointers: near, far, and huge. A near pointer was an offset only, while far and huge pointers were a combined segment and offset. There was a compiler option to set the memory model, which determined whether the default pointer type was near or far. In Windows code, even today, you'll often see typedefs like LPCSTR (for const char*). The \"LP\" is a holdover from the 16-bit days; it stands for \"Long (far) Pointer\".",
    "severity": "medium",
    "tags": [
      "c",
      "assembly",
      "x86",
      "legacy",
      "16-bit"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "3827370",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 2757,
      "stackoverflow_creation_date": "2010-09-30T02:54:48.283Z"
    },
    "idempotency_key": "stackoverflow-3827370",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Extending the Mono C# compiler: is there any documentation or precedent?",
    "body": "I am currently involved in some interesting programming language research which has, up until now, centred around extending the upcoming Java 7.0 compiler with some very powerful programmer-productivity-based features. The work should be equally applicable to related programming languages such as C#. I'm currently scoping out the options for prototyping a C# port of the functionality. I would prefer open-source options so that the fruits of this work can be shared with the broadest-possible audience. Thus the Mono C# compiler seems to be the most obvious starting point. I'm an experienced C# developer so writing the code isn't the problem. I'm mainly concerned about extending the compiler in a maintainable and supported fashion. In the Mono FAQ on the subject (link) it is stated that \"Mono has already been used as a foundation for trying out new ideas for the C# language (there are three or four compilers derived from Mono's C# compiler)\". Unfortunately, there are no further pointers than this and, so far, Google searches have not turned anything up. I'm wondering if anybody out there has any information on this. Do mcs/gmcs/dmcs have a standard extensibility model? Specifically, I will be performing some interesting transformations on a program's abstract syntax tree. Is there a standard mechanism for inserting functionality into the compiler chain between abstract syntax tree generation and the type checker and then code generation? Up until now I've written some ad-hoc extensions to the code (primarily in the code generator) but this doesn't seem to be a maintainable solution especially given that I intend to keep my extensions up to date with the Git trunk of Mono as much as possible. Furthermore it would be nice to be able to make updates to my extensions without having to recompile the whole compiler every time I make a change. I would like to be able to wrap all my AST manipulations into a single .NET assembly that could be dynamically loaded by mcs/gmcs/dmcs without having to hack at the core compiler code directly. Any thoughts or pointers on extending the Mono C# compiler would be gratefully received! UPDATES (23 October 2010) In response to the responses to my question, I decided that I would start working on a branch of Mono in order to create a simple extensibility model for the compiler. It's in its very early stages, but here it is at GitHub: http://github.com/rcook/mono-extensibility And the main commit is: http://github.com/rcook/mono-extensibility/commit/a0456c852e48f6822e6bdad7b4d12a357ade0d01 If anybody would be interested in collaborating on this project, please let me know!",
    "code": "mcs\n\ngmcs\n\ndmcs\n\nmcs\n\ngmcs\n\ndmcs\n\n# Solution Code:\nIEnumerable\n\nIEnumerable\n\n~T\n\nIEnumerable&lt;T&gt;",
    "resolution": "Unfortunately, I cannot adequately answer your question, but if you look at the examples of C# extensions on Miguel de Icaza's blog, you will notice that all of them take the form of patches to the compiler, not plugins or extensions. This seems to indicate that there is no such API. Note that all of these examples are of much smaller scope than what you seem to be working on: Parameterless Anonymous Methods (this post actually explicitly mentions concerns about the maintainability of such language extensions) String Interpolation Destructuring Assignment for Tuples Syntactic Sugar for IEnumerable These are mostly localized syntactic sugar, with no \"interesting\" behavior. The fourth patch, for example, implements Cω's syntactic sugar for IEnumerables, but without any of Cω's semantics that make this syntax interesting. If you look at the patch you can see that it literally does stupid syntactical expansion of ~T &rarr; IEnumerable<T>, as opposed to Cω, where member access and method invocation are properly lifted over streams. Microsoft Research's Phoenix Compiler Pipeline was once explicitly touted as the solution to such extensibility problems, but it seems that it now focuses mostly on optimizations and analysis on the IR level in a code generation backend. In fact, I'm not even sure if the project is even still alive.",
    "severity": "medium",
    "tags": [
      "c#",
      "compiler-construction",
      "mono",
      "gmcs"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "3848001",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 1015,
      "stackoverflow_creation_date": "2010-10-03T00:04:51.660Z"
    },
    "idempotency_key": "stackoverflow-3848001",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to return a data.frame with a given name from a function?",
    "body": "Assume I have a function that reads data from a MySQL table, manipulates it and returns some data.frame. Note the function is just an example whose functionality does not matter itself..., E.g.: addRowSd <- function(table,con,pattern=\"^Variable\") { dframe <- dbReadTable(con,table) cn <- colnames(dframe) qs <- subset(x, x %in% grep(pattern, x, value=TRUE)) dframe$qsd <- sd(t(dframe[,c(qs)])) return(dframe) } mydf$sd <- addRowSd(...) I end up with a data.frame called mydf. Now I´d like to do to this to a character vector of SQL table names AND name the returned dataframes correspondingly. If I just use x=lapply(MySQLtablenames,addRowSd,con) I´ll get some list called x. Of course I could unlist and rename everything the way I´d like to, but my question is: How can I make lapply (or another comparable function) return multple single dataframes or at least a list that contains some names derived from my character vector \"MySQLtablenames\"?",
    "code": "addRowSd &lt;- function(table,con,pattern=\"^Variable\") {\n\ndframe &lt;- dbReadTable(con,table)\ncn &lt;- colnames(dframe)\nqs &lt;- subset(x, x  %in% grep(pattern, x, value=TRUE))\ndframe$qsd &lt;- sd(t(dframe[,c(qs)])) \n\nreturn(dframe)\n}\n\nmydf$sd &lt;- addRowSd(...)\n\n\nx=lapply(MySQLtablenames,addRowSd,con)\n\n\n# Solution Code:\nassign(\"somename\",dframe,envir = .GlobalEnv)\n",
    "resolution": "just found an answer on my own: assign(\"somename\",dframe,envir = .GlobalEnv)",
    "severity": "high",
    "tags": [
      "r",
      "lapply"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "4041806",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 11169,
      "stackoverflow_creation_date": "2010-10-28T10:11:31.677Z"
    },
    "idempotency_key": "stackoverflow-4041806",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why is hibernate deleting rows from join table when adding element to set mapping many-to-many?",
    "body": "Suposse I have two classes: class A { Set<B> bs } class B { } This mapping: <set name=\"bs\" table=\"bs_tab\" cascade = \"save-update\"> <key column=\"a_id /> <many-to-many column=\"b_id\" class=\"B\"/> </set> And join table like this: bs_tab( a_id, b_id, primary key(a_id, b_id) ) When I add some element to bs set and then call Session.saveOrUpdate(A instance) hibernate is deleting all rows in bs_tab coresponding to B instances that were in the set before adding new element. How can I solve this?",
    "code": "class A {\nSet&lt;B&gt; bs\n}\nclass B {\n}\n\n\n&lt;set name=\"bs\" table=\"bs_tab\" cascade = \"save-update\"&gt;\n            &lt;key column=\"a_id /&gt;\n            &lt;many-to-many column=\"b_id\" class=\"B\"/&gt;\n&lt;/set&gt;\n\n\nbs_tab(\na_id, b_id, primary key(a_id, b_id)\n)\n\n\n# Solution Code:\nequals\n\nhashCode\n\nDELETE\n\nINSERT",
    "resolution": "Make sure to implement equals/hashCode correctly. I have the same kind of mapping (unidirectional many-to-many) and adding elements does not generate DELETE then INSERT SQL statements for the join table.",
    "severity": "medium",
    "tags": [
      "java",
      "hibernate",
      "orm"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "4063648",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1804,
      "stackoverflow_creation_date": "2010-10-31T15:11:17.713Z"
    },
    "idempotency_key": "stackoverflow-4063648",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Show modal view controller with custom frame in iPad",
    "body": "I want to show a modal UIViewController with a custom frame in iPad, centered on top of its parent view controller. I tried using a form sheet but as far I know the frame and shadow effect can't be changed. vc.modalPresentationStyle = UIModalPresentationFormSheet; [self presentModalViewController:cv animated:YES]; I also tried using a popover but as far as I know either I can't center it or I can't hide the arrow. Is there another way to show modal view controllers? Is it possible to solve this problem by using form sheets or popovers?",
    "code": "vc.modalPresentationStyle = UIModalPresentationFormSheet;\n[self presentModalViewController:cv animated:YES];\n\n\nUIViewController\n\n# Solution Code:\n@protocol TransparentOverlayDelegate &lt;NSObject&gt;\n\n@optional\n- (void)transparentOverlayWillDismiss:(TransparentOverlay *)backgroundTouch;\n- (void)transparentOverlayDidDismiss:(TransparentOverlay *)backgroundTouch;\n@end\n\n\n@interface TransparentOverlay : UIView {\n\n    id&lt;TransparentOverlayDelegate&gt; _delegate;\n    UIView *_contentView;\n    CGFloat _pAlpha;\n}\n\n@property(nonatomic, assign) id&lt;TransparentOverlayDelegate&gt; delegate;\n@property(nonatomic, retain) UIView *contentView;\n@property(nonatomic, assign) CGFloat pAlpha;\n\n- (void)presentTransparentOverlayInView:(UIView *)view;\n- (void)dismissTransparentOverlay:(BOOL)animated;\n\n\n@protocol ModalViewDelegate &lt;NSObject&gt;\n- (void)performSelectorOnDelegate:(SEL)selector;\n@end\n\n@interface ModalView : UIView {\n    id&lt;ModalViewDelegate&gt; _delegate;\n}\n\n@property(nonatomic, assign) id&lt;ModalViewDelegate&gt; delegate;\n\n\n- (void)presentModalController {\n    TransparentOverlay *to = [[[TransparentOverlay alloc] initWithFrame:self.view.bounds] autorelease];\n    to.delegate = self;\n\n    ModalView *mv = [[ModalView alloc] initWithFrame:CGRectMake(500, 500, 300, 300)];\n    mv.delegate = self;\n\n    to.contentView = mv;\n    [mv release];\n\n    [to presentTransparentOverlayInView:self.view]; \n}\n",
    "resolution": "There is no official way to do this however you can get the desired behavior by writing a custom view which keeps a reference or delegate to interact with its presenting view controller and adding it to the view hierarchy. To really get the modal feel you can also place a transparent overlay over the presenting controller just below your 'modal' view. I have done this in a number of apps and it usually works out great. You will likely need to make the custom overlay view so you can intercept touches and more elegantly animate its presentation. My transparent overlay is usually something like this: @protocol TransparentOverlayDelegate <NSObject> @optional - (void)transparentOverlayWillDismiss:(TransparentOverlay *)backgroundTouch; - (void)transparentOverlayDidDismiss:(TransparentOverlay *)backgroundTouch; @end @interface TransparentOverlay : UIView { id<TransparentOverlayDelegate> _delegate; UIView *_contentView; CGFloat _pAlpha; } @property(nonatomic, assign) id<TransparentOverlayDelegate> delegate; @property(nonatomic, retain) UIView *contentView; @property(nonatomic, assign) CGFloat pAlpha; - (void)presentTransparentOverlayInView:(UIView *)view; - (void)dismissTransparentOverlay:(BOOL)animated; My custom modal view is usually something like this: @protocol ModalViewDelegate <NSObject> - (void)performSelectorOnDelegate:(SEL)selector; @end @interface ModalView : UIView { id<ModalViewDelegate> _delegate; } @property(nonatomic, assign) id<ModalViewDelegate> delegate; In my presenting view controller I would usually do the following : - (void)presentModalController { TransparentOverlay *to = [[[TransparentOverlay alloc] initWithFrame:self.view.bounds] autorelease]; to.delegate = self; ModalView *mv = [[ModalView alloc] initWithFrame:CGRectMake(500, 500, 300, 300)]; mv.delegate = self; to.contentView = mv; [mv release]; [to presentTransparentOverlayInView:self.view]; } Using the delegates defined on the two classes gives me pretty much open access to manipulate my presenting controller as well as my presentation and dismissal as desired. The only downside to this is when it is used on a view with a NavigationBar, as the bounds of the presenting controller's view will not contain the bounds of the NavigationBar leaving it open for interaction, there are ways to get around this but not of them are very pretty (adding to the navigation controller's view is one option).",
    "severity": "high",
    "tags": [
      "ipad",
      "ios",
      "uiviewcontroller",
      "uipopovercontroller",
      "modalviewcontroller"
    ],
    "metadata": {
      "stackoverflow_question_id": "4065918",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 21874,
      "stackoverflow_creation_date": "2010-11-01T00:24:44.363Z"
    },
    "idempotency_key": "stackoverflow-4065918",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How inefficient is passing Collections.unmodifiable* an instance which is already wrapped with Collections.unmodifiable*?",
    "body": "I have bits of piecework being done by different custom (source code unavailable) frameworks which hand back Map instances. Unfortunately, these frameworks are not consistent in their returning Map instances which have been wrapped with Collections.unmodifiableMap. To ensure a higher degree of immutability (for easier multi-threaded use) in my code, I have just uniformly called Collections.unmodifiableMap on anything returned by these frameworks. Map<String, Record> immutableMap = framework.getRecordsByName(); //does this created a nested set of unmodifiableMap wrapper instances? this.immutableField = Collections.unmodifiableMap(immutableMap); . . . Map<String, Record> maybeImmutableMap = framework.getRecordsByName(); //is there some means to get instanceof to work? if (!(maybeImmutableMap instanceof Collections.UnmodifiableMap)) { this.immutableField = Collections.unmodifiableMap(maybeImmutableMap); } I realized that I might have a performance issue around this part of my design. And that in some instances, I was calling Collections.unmodifiableMap passing it an instance which had already been wrapped by the framework by the same call. And that my re-wrapping was likely causing an extra method call across the entire instance. It appears that using \"instanceof Collections.UnmodifiableMap\" doesn't work. And I cannot find any way to detect (excluding using reflection which is not an option in this situation - WAY too slow) if the Map instance I am currently referencing needs to be wrapped or not. Questions: A) Does the Collections.unmodifiableMap() method check to see if it was passed an instance of UnmodifiableMap, and if so just return the same reference (thereby avoiding the need to check prior to calling the method)? B) In order to proactively avoid receiving modification exceptions, is there a way to query a Map instance (other than using reflection) to detect if it is mutable (or immutable)? C) If the answer to A is no, then is there some efficiencies in the JVM/HotSpot which eliminate the overhead of calling through the multiple method hops to get to the core instance?",
    "code": "Map&lt;String, Record&gt; immutableMap = framework.getRecordsByName();\n//does this created a nested set of unmodifiableMap wrapper instances?\nthis.immutableField = Collections.unmodifiableMap(immutableMap);\n.\n.\n.\nMap&lt;String, Record&gt; maybeImmutableMap = framework.getRecordsByName();\n//is there some means to get instanceof to work?\nif (!(maybeImmutableMap instanceof Collections.UnmodifiableMap))\n{\n    this.immutableField = Collections.unmodifiableMap(maybeImmutableMap);\n}\n\n\n# Solution Code:\npublic class MyCollections {\n    private static final String UNMODIFIABLE_MAP_CLASS_NAME =\n        Collections.unmodifiableMap(new HashMap()).getClass().getName();\n\n    public static &lt;K, V&gt; Map&lt;K, V&gt; unmodifiableMap(Map&lt;K, V&gt; map) {\n        return map.getClass().getName().equals(UNMODIFIABLE_MAP_CLASS_NAME)\n                 ? map\n                 : Collections.unmodifiableMap(map);\n    }\n}\n",
    "resolution": "After reviewing all of the feedback, I came to the conclusion that no matter what I do, the solution is going to be some form of kludge (have a mild odor). I think this is due to the fact that the part of the Collections API which produces unmodifiable instances didn't provide for avoiding nesting unmodifiable instances nor did it provide a \"public\" way for a client to properly avoid the nesting. And due to considerations around multiple class loaders and serialization via RMI, the one solution I really liked (class reference comparison by Jorn Horstmann) has issues. However, when I take his approach and combine it with a modification of the class name approach (recommneded by Eugene Kuleshov), I think I get as close as I am going to get to having a solution that will help me in my multi-threaded distributed processing environment. And it goes a little bit like this: public class MyCollections { private static final String UNMODIFIABLE_MAP_CLASS_NAME = Collections.unmodifiableMap(new HashMap()).getClass().getName(); public static <K, V> Map<K, V> unmodifiableMap(Map<K, V> map) { return map.getClass().getName().equals(UNMODIFIABLE_MAP_CLASS_NAME) ? map : Collections.unmodifiableMap(map); } } This will still has all the advantages of a reference comparison assuming everything is happening within the same ClassLoader context and the classname's string has been properly interned. And it does it while politely keeping encapsulation (avoiding my code referencing the class name directly). However, if the two assumptions don't hold, then the evaluation will fall back to a standard string comparison which will work assuming the class name does not change between different versions of the library (which seems to have a pretty low probability). Is there anything I am forgetting or missing in this approach? And thank you again, everyone, for your feedback. I really appreciate it.",
    "severity": "medium",
    "tags": [
      "java",
      "collections",
      "dictionary",
      "instanceof",
      "unmodifiable"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "4127921",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3525,
      "stackoverflow_creation_date": "2010-11-08T20:47:17.350Z"
    },
    "idempotency_key": "stackoverflow-4127921",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "iPhone SDK: Convert MKMapPoint to CGPoint",
    "body": "I have converted a longitude and latitude on my MapView to a MKMapPoint. I then want to move an imageView to that point using the imageViews center property. It seems that I somehow need to convert the MKMapPoint to a CGPoint so that I can change the center, but the numbers seem to be way off. Here is what I am using: // Convert to MKMapPoint CLLocationCoordinate2D coord; coord.latitude = [loc.latitude doubleValue]; coord.longitude = [loc.longitude doubleValue]; MKMapPoint point = MKMapPointForCoordinate(coord); // Move our image CGFloat newXPos = point.x; CGFloat newYPos = point.y; CGPoint newCenter = {newXPos, newYPos}; self.movingMarker.center = newCenter; //self.movingMarker.frame.origin.x = point.x; //self.movingMarker.frame.origin.y = point.y; Ideas on how to make my MKMapPoint a workable value to use for the center property of my image?",
    "code": "// Convert to MKMapPoint\n    CLLocationCoordinate2D coord;\n    coord.latitude = [loc.latitude doubleValue];\n    coord.longitude = [loc.longitude doubleValue];\n    MKMapPoint point = MKMapPointForCoordinate(coord);\n\n    // Move our image\n    CGFloat newXPos = point.x;\n    CGFloat newYPos = point.y;\n    CGPoint newCenter = {newXPos, newYPos};\n    self.movingMarker.center = newCenter;\n\n    //self.movingMarker.frame.origin.x = point.x;\n    //self.movingMarker.frame.origin.y = point.y;\n\n\n# Solution Code:\nCGPoint newCenter = [self.map convertCoordinate:coord toPointToView:self.map];\n",
    "resolution": "Looks like MKMapView has a method for doing this: CGPoint newCenter = [self.map convertCoordinate:coord toPointToView:self.map];",
    "severity": "medium",
    "tags": [
      "iphone",
      "mkmapview",
      "cllocationmanager",
      "cgpoint"
    ],
    "metadata": {
      "stackoverflow_question_id": "4129322",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 7138,
      "stackoverflow_creation_date": "2010-11-09T00:12:24.183Z"
    },
    "idempotency_key": "stackoverflow-4129322",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to load a datatable into wpf data grid",
    "body": "I'm trying to display the content of a datatable in my wpf datagrid In the following post: Why can't I bind the WPFToolkit DataGrid ItemSource to DataTable? I found the code: myDataGrid.ItemsSource = myDataTable.DefaultView; and the behaviour is strange: it shows n empty rows where the n is correct: the query results n rows! So why can't I see them?",
    "code": "myDataGrid.ItemsSource = myDataTable.DefaultView;\n\n\n# Solution Code:\nAutoGenerateColumns",
    "resolution": "Without seeing the code, I would guess that you don't have AutoGenerateColumns set to to true. That's fine, but if you aren't auto-generating columns, you need to manually add column definitions to your data grid.",
    "severity": "high",
    "tags": [
      "wpf",
      "datagrid"
    ],
    "metadata": {
      "stackoverflow_question_id": "4134300",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 10759,
      "stackoverflow_creation_date": "2010-11-09T13:45:37.203Z"
    },
    "idempotency_key": "stackoverflow-4134300",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How do I associate a file extension with an application using a .desktop file (under linux)?",
    "body": "I have a .desktop file which associates my application (mmxfer) with specific mime types, and this works fine. When I right click a media file it gives me the option to use mmxfer to open it. But what if I want to associate a project with a specific file extension, say '.sply', which really just contains some data serialized from python and so doesn't have a unique mime-type? My current .desktop file is below. What should I change to associate mmxfer with '.sply' files? [Desktop Entry] Name=MMXfer Comment=Convert music and video and transfer it to a portable player using mtp Exec=/usr/local/bin/mmxfer %U Icon=/usr/local/share/mmxfer/mmxfer.png Terminal=0 Type=Application Categories=Application;AudioVideo; MimeType=application/ogg; I missed out most of the mime types as there were dozens. Thanks!",
    "code": "[Desktop Entry]\nName=MMXfer\nComment=Convert music and video and transfer it to a portable player using mtp\nExec=/usr/local/bin/mmxfer %U\nIcon=/usr/local/share/mmxfer/mmxfer.png\nTerminal=0\nType=Application\nCategories=Application;AudioVideo;\nMimeType=application/ogg;\n",
    "severity": "medium",
    "tags": [
      "linux",
      "desktop"
    ],
    "metadata": {
      "stackoverflow_question_id": "4218655",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2401,
      "stackoverflow_creation_date": "2010-11-18T19:21:10.507Z"
    },
    "idempotency_key": "stackoverflow-4218655",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Run a php script as a background process in wamp server",
    "body": "I have two php scripts that need to be run as continuous back ground processes in WAMP server. Wamp server is installed in window 7 PC. These scripts are already reside in separate folder in the www root directory. Apache Version :2.2.8 PHP Version :5.2.6 Since this is not a unix platform I can't use nohup php script.php > /dev/null & command to do this job. I'm looking for similar kind of command or method which works in wamp server windows platform. Can anyone explain the steps I need to be taken to do this task?",
    "code": "nohup php script.php &gt; /dev/null &amp;\n\n# Solution Code:\nfunction execInBackground($cmd){\n    if (substr(php_uname(), 0, 7) == \"Windows\"){ \n        pclose(popen(\"start /B \". $cmd, \"r\"));  \n    }else{ \n        exec($cmd . \" &gt; /dev/null &amp;\");   \n    } \n} \n\n\nexecInBackground('php feed/handleFeed.php db_name '.$second_param);\n",
    "resolution": "Simply use this function. It works under both OSs (Windows and Linux): function execInBackground($cmd){ if (substr(php_uname(), 0, 7) == \"Windows\"){ pclose(popen(\"start /B \". $cmd, \"r\")); }else{ exec($cmd . \" > /dev/null &\"); } } Here is an easy example of how to use the function: execInBackground('php feed/handleFeed.php db_name '.$second_param); In above example, we start script handleFeed.php that is located in folder named \"feed\" and we pass 2 parameters (database name and some other second parameter).",
    "severity": "high",
    "tags": [
      "php",
      "windows",
      "wamp",
      "background-process"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "4231539",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 21918,
      "stackoverflow_creation_date": "2010-11-20T06:43:02.873Z"
    },
    "idempotency_key": "stackoverflow-4231539",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it safe to modify the content of a string variable through a pointer?",
    "body": "Consider I have a procedure with Str parameter passed by reference, and I want to modify content of the given variable through the procedure, e.g. procedure Replace(var Str: string); var PStr: PChar; i: Integer; begin PStr := @Str[1]; for i := 1 to Length(Str) do begin PStr^ := 'x'; Inc(PStr); end; end; Is it an acceptable pointer usage? I'm not sure whether it has a memory leak. What really happen in PStr := @Str[1], does compiler make a copy of Str internally, or what? Is this kind of code optimization worth?",
    "code": "procedure Replace(var Str: string);\nvar\n  PStr: PChar;\n  i: Integer;\nbegin\n  PStr := @Str[1];\n  for i := 1 to Length(Str) do begin\n    PStr^ := 'x';\n    Inc(PStr);\n  end;\nend;\n\n\nStr\n\nPStr := @Str[1]\n\nStr\n\n# Solution Code:\nPStr := @Str[1];\n\n\nPStr := PChar(Str);\n\n\n#0\n\nUniqueString()\n\nUniqueString()\n\nPChar\n\nUniqueString()",
    "resolution": "Is it an acceptable pointer usage? You need to make sure that you don't call PStr := @Str[1]; for an empty string, as that would crash. The easiest way to do that is to replace that line with PStr := PChar(Str); so that the compiler will make sure that either a pointer to the first char of the string, or a pointer to #0 is returned. As Ken correctly pointed out in a comment there is no call to UniqueString() in this case, so you would need to do it yourself. I'm not sure whether it has a memory leak. No, there is no memory leak. Obtaining a pointer to a string character will call UniqueString() internally, but that will happen for write access to a string character too, so there's nothing special about the character pointer. What really happen in PStr := @Str[1], does compiler make a copy of Str internally, or what? No, it just makes sure that the string is unique (so that write access through the pointer does not change the contents of any other string that shares the same data). Afterwards it returns a pointer to that character in the string, which you can then treat as any other PChar variable, pass it to API functions, increment it and so on. Is this kind of code optimization worth? It is not only worth it, it is necessary to really achieve good performance for large strings. The reason for this is that the compiler is not smart enough to only call UniqueString() once, but it will insert calls to it for each write access to a character in the string. So if you process a large string character by character you will have a big overhead from all these calls.",
    "severity": "low",
    "tags": [
      "delphi"
    ],
    "metadata": {
      "stackoverflow_question_id": "4242078",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 382,
      "stackoverflow_creation_date": "2010-11-22T03:41:27.680Z"
    },
    "idempotency_key": "stackoverflow-4242078",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Inheritance vs enum properties in the domain model",
    "body": "I had a discussion at work regarding \"Inheritance in domain model is complicating developers life\". I'm an OO programmer so I started to look for arguments that having inheritance in domain model will ease the developer life actually instead of having switches all over the place. What I would like to see is this : class Animal { } class Cat : Animal { } class Dog : Animal { } What the other colleague is saying is : public enum AnimalType { Unknown, Cat, Dog } public class Animal { public AnimalType Type { get; set; } } How do I convince him (links are WELCOME ) that a class hierarchy would be better than having a enum property for this kind of situations? Thanks!",
    "code": "class Animal {\n\n}\n\nclass Cat : Animal {\n\n}\n\nclass Dog : Animal {\n\n}\n\n\npublic enum AnimalType {\n    Unknown,\n    Cat,\n    Dog\n}\n\npublic class Animal {\n\n    public AnimalType Type { get; set; }\n\n}\n\n\n# Solution Code:\nfreddy.Roles.Add(new Employement( employmentDate, jobTitle ));\n\n\nfreddy.CurrentEmployment = new Employement( employmentDate, jobTitle );\n",
    "resolution": "Here is how I reason about it: Only use inheritance if the role/type will never change. e.g. using inheritance for things like: Fireman <- Employee <- Person is wrong. as soon as Freddy the fireman changes job or becomes unemployed, you have to kill him and recreate a new object of the new type with all of the old relations attached to it. So the naive solution to the above problem would be to give a JobTitle enum property to the person class. This can be enough in some scenarios, e.g. if you don't need very complex behaviors associated with the role/type. The more correct way would be to give the person class a list of roles. Each role represents e.g an employment with a time span. e.g. freddy.Roles.Add(new Employement( employmentDate, jobTitle )); or if that is overkill: freddy.CurrentEmployment = new Employement( employmentDate, jobTitle ); This way , Freddy can become a developer w/o we having to kill him first. However, all my ramblings still haven't answered if you should use an enum or type hierarchy for the jobtitle. In pure in mem OO I'd say that it's more correct to use inheritance for the jobtitles here. But if you are doing O/R mapping you might end up with a bit overcomplex data model behind the scenes if the mapper tries to map each sub type to a new table. So in such cases, I often go for the enum approach if there is no real/complex behavior associated with the types. I can live with a \"if type == JobTitles.Fireman ...\" if the usage is limited and it makes things easer or less complex. e.g. the Entity Framework 4 designer for .NET can only map each sub type to a new table. and you might get an ugly model or alot of joins when you query your database w/o any real benefit. However I do use inheritance if the type/role is static. e.g. for Products. you might have CD <- Product and Book <- Product. Inheritance wins here because in this case you most likely have different state associated with the types. CD might have a number of tracks property while a book might have number of pages property. So in short, it depends ;-) Also, at the end of the day you will most likely end up with a lot of switch statements either way. Let's say you want to edit a \"Product\" , even if you use inheritance, you will probably have code like this: if (product is Book) Response.Redicted(\"~/EditBook.aspx?id\" + product.id); Because encoding the edit book url in the entity class would be plain ugly since it would force your business entites to know about your site structure etc.",
    "severity": "high",
    "tags": [
      "oop",
      "inheritance",
      "enums",
      "domain-driven-design",
      "domain-model"
    ],
    "metadata": {
      "stackoverflow_question_id": "4254182",
      "stackoverflow_score": 47,
      "stackoverflow_view_count": 10404,
      "stackoverflow_creation_date": "2010-11-23T08:48:54.673Z"
    },
    "idempotency_key": "stackoverflow-4254182",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I wait for a SwingWorker's doInBackground() method?",
    "body": "Say I have the following code: import java.lang.InterruptedException; import javax.swing.SwingWorker; public class Test { private JDialog window; public Test { // instantiate window } private class Task extends SwingWorker<Void, Void> { public Void doInBackground() { try { Thread.currentThread().sleep(5000); } catch(InterruptedException e) {} return null; } } public void doTask() { Task task = new Task(); task.execute(); } protected void process() { // update various GUI components here } public static void main(String args[]) { Test t = new Test(); t.doTask(); System.out.println(\"done\"); } } I need to wait until t.doTask() is done before printing out 'done', but I'm not sure exactly how. I know I should probably use join() here, but I need a thread to call it on, and I don't know how to get doInBackground()'s thread from where I need to call join(). Thanks for any help. EDIT: Thanks for the responses. Unfortunately, get() and the like don't quite solve the problem. In my actual code, the SwingWorker also has an overridden process() function that updates a GUI window while the background thread is running. get() does stop 'done' from being printed till after doInBackground, but then the GUI doesn't update. I updated my sample code to reflect this, although now of course it won't compile. Is there a way to get 'done' to print only once doInBackground is finished? Are the GUI update code and the 'done' statement on the same thread? Do I need to make a new thread?",
    "code": "import java.lang.InterruptedException;\nimport javax.swing.SwingWorker;\n\npublic class Test\n{\n    private JDialog window;\n\n    public Test\n    {\n        // instantiate window\n    }\n\n    private class Task extends SwingWorker&lt;Void, Void&gt;\n    {\n        public Void doInBackground()\n        {\n            try { Thread.currentThread().sleep(5000); }\n            catch(InterruptedException e) {}\n            return null;\n        }\n    }\n\n    public void doTask()\n    {\n        Task task = new Task();\n        task.execute();\n    }\n\n    protected void process()\n    {\n        // update various GUI components here\n    }\n\n    public static void main(String args[])\n    {\n        Test t = new Test();\n        t.doTask();\n        System.out.println(\"done\");\n    }\n}\n\n\nt.doTask()\n\njoin()\n\ndoInBackground()\n\njoin()\n\nget()\n\nprocess()\n\nget()\n\ndoInBackground\n\ndoInBackground\n\n# Solution Code:\nSwingWorker\n\ndone()\n\nget()\n\nget()\n\ndone()",
    "resolution": "Typically anything that needs to be done after a SwingWorker completes its background work is done by overriding the done() method in it. This method is called on the Swing event thread after completion, allowing you to update the GUI or print something out or whatever. If you really do need to block until it completes, you can call get(). NB. Calling get() within the done() method will return with your result immediately, so you don't have to worry about that blocking any UI work.",
    "severity": "high",
    "tags": [
      "java",
      "swing",
      "synchronization",
      "swingworker"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "4261666",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 21692,
      "stackoverflow_creation_date": "2010-11-23T22:32:13.623Z"
    },
    "idempotency_key": "stackoverflow-4261666",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I get a reversed copy of a list (avoid a separate statement when chaining a method after .reverse)?",
    "body": "This code fails: fCamel = 'F' bCamel = 'B' gap = ' ' k = ['F', ' ', 'B', 'F'] def solution(formation): return ((formation.index(bCamel) > (len(formation) - 1 - (formation.reverse()).index(fCamel)))) solution(k) I get an exception that says AttributeError: 'NoneType' object has no attribute 'index'. I know that the problem is that list.reverse() returns None, modifying the list in-place. I want to use .index on the reversed list. Is there a way I can avoid using a separate statement to reverse the list before indexing into it? How?",
    "code": "fCamel = 'F'\nbCamel = 'B'\ngap = ' '\n\nk = ['F', ' ', 'B', 'F']\n\ndef solution(formation):\n    return ((formation.index(bCamel) &gt; (len(formation) - 1 - (formation.reverse()).index(fCamel))))\n\nsolution(k)\n\n\nAttributeError: 'NoneType' object has no attribute 'index'\n\nlist.reverse()\n\nNone\n\n.index\n\n# Solution Code:\ndef solution(formation):\n    return len([k for k in formation[formation.index(bCamel)+1:] if k == fCamel]) == 0\n\n\n&gt;&gt;&gt; k = ['F','F','B','B','F']\n&gt;&gt;&gt; solution(k)\nFalse\n&gt;&gt;&gt; k = ['F','F','B','B','B']\n&gt;&gt;&gt; solution(k)\nTrue\n&gt;&gt;&gt; k = ['F','F','B','F','F','B','B']\n&gt;&gt;&gt; solution(k)\nFalse\n&gt;&gt;&gt; \n\n\nreversed(formation)\n\nformation\n\nformation.reverse()\n\nbCamel\n\nfCamel",
    "resolution": "You can use reversed(formation) to return a reverse iterator of formation. When you call formation.reverse() it does an in place reversal of the list and returns None. EDIT: I see what you are trying to do now, in my opinion it's easier to just do this with a list comprehension: def solution(formation): return len([k for k in formation[formation.index(bCamel)+1:] if k == fCamel]) == 0 This basically looks at all the elements after the first bCamel and collects all the elements that have the value fCamel. If that list has a length == 0 you have a solution. Here's a few examples: >>> k = ['F','F','B','B','F'] >>> solution(k) False >>> k = ['F','F','B','B','B'] >>> solution(k) True >>> k = ['F','F','B','F','F','B','B'] >>> solution(k) False >>>",
    "severity": "high",
    "tags": [
      "python",
      "functional-programming"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "4280691",
      "stackoverflow_score": 43,
      "stackoverflow_view_count": 74219,
      "stackoverflow_creation_date": "2010-11-25T20:39:31.770Z"
    },
    "idempotency_key": "stackoverflow-4280691",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "WPF:Enclose controls within a child window chrome which has a close button",
    "body": "I'm a C++ programmer and I've started a side project to teach me some WPF. I've started making a desktop app to browse images and probably retouch them, something like paint.net. I want to enclose controls(e.g. see image below) within a child window chrome which has a close button. Something like MDI, but not quite. The simplest way for now, I thought, was to enclose it within another <window></window>, but it seems WPF doesn't like this. It gives a runtime exception. Is there a simpler way of doing it. I couldn't find any links that explained anything similar.",
    "code": "&lt;window&gt;&lt;/window&gt;\n\n# Solution Code:\nvar childWindow = new MyChildWindow();\nchildWindow.Show();\n",
    "resolution": "To use Window you need to create a new Window class in a separate file which you can then instantiate and show from your main Window's code. var childWindow = new MyChildWindow(); childWindow.Show(); To get the simplified window chrome set WindowStyle = WindowStyle.ToolWindow in MyChildWindow. If you're trying to create a contained simulated window inside your main window that needs to use a normal non-Window control. Silverlight includes a ChildWindow class but it's not built into WPF. To create something similar you can use a HeaderedContentControl which you'll have to style to look like a tool window by modifying the ControlTemplate. You'll also need to create behaviors like drag, resize and close on the control which is usually best handled by making it a custom control.",
    "severity": "low",
    "tags": [
      ".net",
      "wpf",
      ".net-4.0",
      "c#-4.0"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "4333764",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 487,
      "stackoverflow_creation_date": "2010-12-02T10:12:33.630Z"
    },
    "idempotency_key": "stackoverflow-4333764",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to insert a mix of explicit values and data retrieved from another table",
    "body": "I know two ways to insert data into a table Method 1 : explicit values INSERT INTO table ('field1', 'field2', 'field3') VALUES ('value1', 'value2', 'value3') Method 2 : copying data from another table INSERT INTO table SELECT 'field1', 'field2', 'field3' FROM otherTable Both work only if all the fields are populated the same way. I need to insert in the same row a mix of explicit values and copied data. Is this possible?",
    "code": "INSERT INTO table\n('field1', 'field2', 'field3')\nVALUES ('value1', 'value2', 'value3')\n\n\nINSERT INTO table\nSELECT 'field1', 'field2', 'field3'\nFROM otherTable\n\n\n# Solution Code:\nINSERT SomeTable(FieldA, FieldB, FieldC)\nSELECT FieldA, FieldB, 'Explicit Value'\nFROM SomeOtherTable\n",
    "resolution": "Yes, it is. (Note that in your Method 2 example, that would actually insert explicit values, and not data from the other table) e.g. INSERT SomeTable(FieldA, FieldB, FieldC) SELECT FieldA, FieldB, 'Explicit Value' FROM SomeOtherTable",
    "severity": "medium",
    "tags": [
      "sql",
      "sql-server"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "4592539",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 9940,
      "stackoverflow_creation_date": "2011-01-04T10:22:01.963Z"
    },
    "idempotency_key": "stackoverflow-4592539",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Extracting noun+noun or (adj|noun)+noun from Text",
    "body": "Is it possible to extract noun+noun or (adj|noun)+noun using the R package openNLP? That is, I would like to use linguistic filtering to extract candidate noun phrases. Could you direct me how to do? Many thanks. Thanks for the responses. here is the code: library(\"openNLP\") acq <- \"Gulf Applied Technologies Inc said it sold its subsidiaries engaged in pipeline and terminal operations for 12.2 mln dlrs. The company said the sale is subject to certain post closing adjustments, which it did not explain. Reuter.\" acqTag <- tagPOS(acq) acqTagSplit = strsplit(acqTag,\" \") acqTagSplit qq = 0 tag = 0 for (i in 1:length(acqTagSplit[[1]])){ qq[i] <-strsplit(acqTagSplit[[1]][i],'/') tag[i] = qq[i][[1]][2] } index = 0 k = 0 for (i in 1:(length(acqTagSplit[[1]])-1)) { if ((tag[i] == \"NN\" && tag[i+1] == \"NN\") | (tag[i] == \"NNS\" && tag[i+1] == \"NNS\") | (tag[i] == \"NNS\" && tag[i+1] == \"NN\") | (tag[i] == \"NN\" && tag[i+1] == \"NNS\") | (tag[i] == \"JJ\" && tag[i+1] == \"NN\") | (tag[i] == \"JJ\" && tag[i+1] == \"NNS\")) { k = k +1 index[k] = i } } index Reader can refer index on acqTagSplit to do noun+noun or (adj|noun)+noun extraction. (The code is not optimal, but it works. If you have any idea, please let me know.) I have an additional problem: Justeson and Katz (1995) proposed another linguistic filtering to extract candidate noun phrases: ((Adj|Noun)+|((Adj|Noun)*(Noun-Prep)?)(Adj|Noun)*)Noun I cannot understand its meaning well. Could you do me a favor and explain it? Or show how to code the filtering rule in the R language? Many thanks.",
    "code": "library(&quot;openNLP&quot;)\n\nacq &lt;- &quot;Gulf Applied Technologies Inc said it sold its subsidiaries engaged in\n        pipeline and terminal operations for 12.2 mln dlrs. The company said \n        the sale is subject to certain post closing adjustments, \n        which it did not explain. Reuter.&quot; \n\nacqTag &lt;- tagPOS(acq)    \nacqTagSplit = strsplit(acqTag,&quot; &quot;)\nacqTagSplit\n\nqq = 0\ntag = 0\n\nfor (i in 1:length(acqTagSplit[[1]])){\n    qq[i] &lt;-strsplit(acqTagSplit[[1]][i],'/')\n    tag[i] = qq[i][[1]][2]\n}\n\nindex = 0\n\nk = 0\n\nfor (i in 1:(length(acqTagSplit[[1]])-1)) {\n    \n    if ((tag[i] == &quot;NN&quot; &amp;&amp; tag[i+1] == &quot;NN&quot;) | \n        (tag[i] == &quot;NNS&quot; &amp;&amp; tag[i+1] == &quot;NNS&quot;) | \n        (tag[i] == &quot;NNS&quot; &amp;&amp; tag[i+1] == &quot;NN&quot;) | \n        (tag[i] == &quot;NN&quot; &amp;&amp; tag[i+1] == &quot;NNS&quot;) | \n        (tag[i] == &quot;JJ&quot; &amp;&amp; tag[i+1] == &quot;NN&quot;) | \n        (tag[i] == &quot;JJ&quot; &amp;&amp; tag[i+1] == &quot;NNS&quot;))\n    {      \n            k = k +1\n            index[k] = i\n    }\n\n}\n\nindex\n\n\nnoun+noun\n\n(adj|noun)+noun\n\nopenNLP\n\nnoun+noun\n\n(adj|noun)+noun\n\n# Solution Code:\n acqdf &lt;- read.table(textConnection(gsub(\" \", \"\\n\", acqTag)), sep=\"/\", stringsAsFactors=FALSE)\n acqdf$nnadj &lt;- grepl(\"NN|JJ\", acqdf$V2)\n acqdf$nnadj \n# [1]  TRUE  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE  TRUE  TRUE\n#[16] FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE FALSE  TRUE FALSE  TRUE  TRUE  TRUE\n#[31]  TRUE FALSE FALSE FALSE FALSE  TRUE FALSE\n acqdf$nnadj[1:(nrow(acqdf)-1)] &amp; acqdf$nnadj[2:nrow(acqdf)]\n# [1]  TRUE  TRUE  TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE FALSE\n#[16] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE\n#[31] FALSE FALSE FALSE FALSE FALSE FALSE\n acqdf$pair &lt;- c(NA, acqdf$nnadj[1:(nrow(acqdf)-1)] &amp; acqdf$nnadj[2:nrow(acqdf)])\n acqdf[1:7, ]\n\n            V1  V2 nnadj  pair\n1         Gulf NNP  TRUE    NA\n2      Applied NNP  TRUE  TRUE\n3 Technologies NNP  TRUE  TRUE\n4          Inc NNP  TRUE  TRUE\n5         said VBD FALSE FALSE\n6           it PRP FALSE FALSE\n7         sold VBD FALSE FALSE\n",
    "resolution": "I don't have an open console on which to test this, but have your tried to tokenize with tagPOS and then grep for \"noun\", \"noun\" or perhaps paste(tagPOS(acq), collapse=\".\") and search for \"noun.noun\". Then gregexpr could be used to extract positions. EDIT: The format of the tagged output was a bit different than I remembered. I think this method of read.table()-ing after substituting \"\\n\"s for spaces is much more efficient than what I see above: acqdf <- read.table(textConnection(gsub(\" \", \"\\n\", acqTag)), sep=\"/\", stringsAsFactors=FALSE) acqdf$nnadj <- grepl(\"NN|JJ\", acqdf$V2) acqdf$nnadj # [1] TRUE TRUE TRUE TRUE FALSE FALSE FALSE FALSE TRUE FALSE FALSE TRUE FALSE TRUE TRUE #[16] FALSE FALSE TRUE FALSE FALSE TRUE FALSE FALSE TRUE FALSE TRUE FALSE TRUE TRUE TRUE #[31] TRUE FALSE FALSE FALSE FALSE TRUE FALSE acqdf$nnadj[1:(nrow(acqdf)-1)] & acqdf$nnadj[2:nrow(acqdf)] # [1] TRUE TRUE TRUE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE FALSE #[16] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE TRUE TRUE TRUE #[31] FALSE FALSE FALSE FALSE FALSE FALSE acqdf$pair <- c(NA, acqdf$nnadj[1:(nrow(acqdf)-1)] & acqdf$nnadj[2:nrow(acqdf)]) acqdf[1:7, ] V1 V2 nnadj pair 1 Gulf NNP TRUE NA 2 Applied NNP TRUE TRUE 3 Technologies NNP TRUE TRUE 4 Inc NNP TRUE TRUE 5 said VBD FALSE FALSE 6 it PRP FALSE FALSE 7 sold VBD FALSE FALSE",
    "severity": "medium",
    "tags": [
      "r",
      "nlp",
      "opennlp",
      "pos-tagger"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "4600612",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 5614,
      "stackoverflow_creation_date": "2011-01-05T03:34:15.103Z"
    },
    "idempotency_key": "stackoverflow-4600612",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Call sed in linux",
    "body": "I need to replace some string into another in files. I know how to do that with single file: sed -i 's/a/b/'. But what about recursive function? I think I have to use find . -name * with xargs somehow. I need your help :)",
    "code": "sed -i 's/a/b/'\n\nfind . -name *\n\n# Solution Code:\nfind . -name \"*.ext\" | xargs sed -i 's/a/b/g'\n\n\nfind\n\nxargs\n\na\n\nb",
    "resolution": "You are correct, find and xargs are what you want to use. Here's an example which will find all files with the \".ext\" file extension in the current folder and all subfolders ,and replace the letter a with the letter b in the files. find . -name \"*.ext\" | xargs sed -i 's/a/b/g'",
    "severity": "medium",
    "tags": [
      "linux",
      "replace",
      "sed"
    ],
    "metadata": {
      "stackoverflow_question_id": "4650384",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5374,
      "stackoverflow_creation_date": "2011-01-10T18:59:19.403Z"
    },
    "idempotency_key": "stackoverflow-4650384",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "boost::optional<> in a union?",
    "body": "I have an optional POD struct that will be contained inside a union. boost::optional<> holds its type by value, so I thought this could work: union helper { int foo; struct { char basic_info; struct details { //... }; boost::optional<details> extended_info; } bar; // ... }; helper x = make_bar(); if( x.bar.extended_info ) { // use x.bar.extended_info->elements } but VS2008 complained that my bar struct now had a copy constructor due to the boost::optional<details> element. As a replacement, I've added a boolean flag to indicate whether the optional parameter is valid, but it's clunky: union helper { int foo; struct { char basic; struct details { bool valid; //... } extended; } bar; // ... }; I considered implementing details::operator bool() to return the details::valid variable, but that's obscure and a disservice to humanity. boost::optional<> clearly documents the syntax and intent and doesn't require detective work. Finally, the helper union needs to be POD, so I can't do any dynamic allocation - otherwise I would use a pointer. Any suggestions for something syntactically similar to boost::optional<> that's usable in a union?",
    "code": "union helper\n{\n    int foo;\n    struct \n    {\n        char basic_info;\n        struct details {\n            //...\n        };\n\n        boost::optional&lt;details&gt; extended_info;\n    } bar;\n    //  ...\n};\n\nhelper x = make_bar();\n\nif( x.bar.extended_info )\n{\n    // use x.bar.extended_info-&gt;elements\n}\n\n\nunion helper\n{\n    int foo;\n    struct \n    {\n        char basic;\n        struct details {\n            bool valid;\n            //...\n        } extended;\n    } bar;\n    //  ...\n};\n\n\nboost::optional&lt;&gt;\n\nbar\n\nboost::optional&lt;details&gt;\n\ndetails::operator bool()\n\ndetails::valid\n\nboost::optional&lt;&gt;\n\nhelper\n\nboost::optional&lt;&gt;\n\n# Solution Code:\ntemplate &lt;typename T&gt;\nclass Optional\n{\n    T value;\n    bool valid;\n\npublic:\n\n    // for the if(var) test\n    operator bool() const  {  return valid;  }\n\n    //  for assigning a value\n    Optional&lt;T&gt; &amp;operator=(T rhs)   \n    {  \n        value = rhs;  \n        valid = true;  \n        return *this;  \n    }\n\n    //  for assigning \"empty\"\n    Optional&lt;T&gt; &amp;operator=(void *)  \n    {  \n        valid = false;  \n        return *this;  \n    }\n\n    // non-const accessors\n    T &amp;operator*()   {  return  value;  }\n    T *operator-&gt;()  {  return &amp;value;  }\n\n    // const accessors\n    const T &amp;operator*()  const  {  return  value;  }\n    const T *operator-&gt;() const  {  return &amp;value;  }\n};\n\n\nOptional&lt;details&gt; additional_info;\nOptional&lt;details&gt; more_info(additional_info);\n\n\n// if there's no additional info\nadditional_info = 0;\n\n// if there is extended info\ndetails x;\n//  ...populate x...\nadditional_info = x;\n\n\nif( extended_info )\n{\n    extended_info-&gt;member;\n    // - or -\n    details &amp;info = *extended_info;\n}\n\n\nunion\n\nboost::variant&lt;&gt;\n\nboost::optional&lt;&gt;\n\nOptional&lt;&gt;\n\nOptional&lt;T&gt;\n\nboost::optional&lt;T&gt;\n\nOptional&lt;T&gt;\n\nT\n\nOptional&lt;T&gt;\n\noperator Optional&lt;T&gt;()",
    "resolution": "As others have mentioned, the ideal thing to do is to change from a union to a boost::variant<>. However, if this isn't possible, you can implement a POD approximation of boost::optional<> as follows: Implementation template <typename T> class Optional { T value; bool valid; public: // for the if(var) test operator bool() const { return valid; } // for assigning a value Optional<T> &operator=(T rhs) { value = rhs; valid = true; return *this; } // for assigning \"empty\" Optional<T> &operator=(void *) { valid = false; return *this; } // non-const accessors T &operator*() { return value; } T *operator->() { return &value; } // const accessors const T &operator*() const { return value; } const T *operator->() const { return &value; } }; The const accessors are necessary if you are holding a const instance of Optional<>. Usage Like a pointer, Optional<T> has no default state and must be initialized before you can rely on it (null or not). Unlike boost::optional<T>, Optional<T> cannot be constructed from its T value type, and can only be constructed from another Optional<T>. If you really want to value- or null-initialize it at construction, you could make a helper class with an operator Optional<T>(). I chose not to. Construction Optional<details> additional_info; Optional<details> more_info(additional_info); Assignment // if there's no additional info additional_info = 0; // if there is extended info details x; // ...populate x... additional_info = x; Data access if( extended_info ) { extended_info->member; // - or - details &info = *extended_info; } So - it didn't turn out to be too bad. It doesn't make me feel quite warm and fuzzy, but it gets the job done.",
    "severity": "medium",
    "tags": [
      "c++",
      "boost",
      "optional-variables"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "4673932",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1191,
      "stackoverflow_creation_date": "2011-01-12T20:53:53.233Z"
    },
    "idempotency_key": "stackoverflow-4673932",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to add to associate array",
    "body": "I have the following array $data = array('key1'=>'val1', 'key2'=>'val2', 'key3'=>'val3' ); I would like to add to the array. $moreval = array('key4'=>'val4');",
    "code": "$data = array('key1'=&gt;'val1',\n              'key2'=&gt;'val2',\n              'key3'=&gt;'val3'\n             );\n\n\n$moreval = array('key4'=&gt;'val4');\n\n\n# Solution Code:\n$data=array_merge($data, array('key4'=&gt;'val4'));\n",
    "resolution": "You can use array_merge for this. $data=array_merge($data, array('key4'=>'val4')); If this wasn't associative, you could use array_push.",
    "severity": "low",
    "tags": [
      "php",
      "arrays"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "4675725",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 94,
      "stackoverflow_creation_date": "2011-01-13T00:50:07.090Z"
    },
    "idempotency_key": "stackoverflow-4675725",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Rails doesn't load classes on deserializing YAML/Marshal objects",
    "body": "Rails: 3.0.3 Ruby: 1.9.2 Trying to deserialize a very simple object using YAML.load or Marshal.load produces a corrupted object because the class which belongs to is not required on the deserializing process. Example: # app/models/my_model.rb class MyModel attr_accessor :id end # test/unit/serializing_test.rb require 'test_helper' class SerializingTest < Test::Unit::TestCase def test_yaml_serialize_structure my_model = MyModel.new my_model.id = 'my model' File.open( \"#{Rails.root}/tmp/object.yml\" , 'w' ) do |f| YAML::dump(my_model, f) end end def test_yaml_deserialize_structure object = YAML.load_file \"#{Rails.root}/tmp/object.yml\" assert( object.instance_of? MyModel ) assert_equal( 'my model', object.id ) end end With this code we can run this shell console session without any error: $ ruby -Itest test/unit/serializing_test.rb -n test_yaml_serialize_structure $ ruby -Itest test/unit/serializing_test.rb -n test_yaml_deserialize_structure But if I run the deserialization calls from a Rails console the object is not deserialized properly because the class is never required: $ rails c ruby-1.9.2-p0 > object = YAML.load_file \"#{Rails.root}/tmp/object.yml\" => #<Syck::Object:0x0000010322ea30 @class=\"MyModel\", @ivars={\"id\"=>\"my model\"}> I know the only problem is that the class is not required because if I require it by hand everything works: ruby-1.9.2-p0 > require \"#{Rails.root}/app/models/my_model\" => [\"MyModel\"] ruby-1.9.2-p0 > object = YAML.load_file \"#{Rails.root}/tmp/object.yml\" => #<MyModel:0x0000010320c8e0 @id=\"my model\"> I have presented only the YAML examples but with Marshal is pretty the same. Also say that although I'm reproducing the problem in a Rails console originally this problem was turning me crazy in a normal request to my application. So the question is: How can I deserialize objects in Rails without have to require all my classes by hand? Thanks f.",
    "code": "# app/models/my_model.rb\nclass MyModel\n  attr_accessor :id\nend\n\n# test/unit/serializing_test.rb\nrequire 'test_helper'\n\nclass SerializingTest &lt; Test::Unit::TestCase\n  def test_yaml_serialize_structure\n    my_model = MyModel.new\n    my_model.id = 'my model'\n\n    File.open( \"#{Rails.root}/tmp/object.yml\" , 'w' ) do |f|\n      YAML::dump(my_model, f)\n    end\n  end\n\n  def test_yaml_deserialize_structure\n    object = YAML.load_file \"#{Rails.root}/tmp/object.yml\"\n    assert( object.instance_of? MyModel )\n    assert_equal( 'my model', object.id )\n  end\nend\n\n\n$ ruby -Itest test/unit/serializing_test.rb -n test_yaml_serialize_structure\n$ ruby -Itest test/unit/serializing_test.rb -n test_yaml_deserialize_structure\n\n\n$ rails c\nruby-1.9.2-p0 &gt; object = YAML.load_file \"#{Rails.root}/tmp/object.yml\"\n =&gt; #&lt;Syck::Object:0x0000010322ea30 @class=\"MyModel\", @ivars={\"id\"=&gt;\"my model\"}&gt; \n\n\nruby-1.9.2-p0 &gt; require \"#{Rails.root}/app/models/my_model\"\n =&gt; [\"MyModel\"] \nruby-1.9.2-p0 &gt; object = YAML.load_file \"#{Rails.root}/tmp/object.yml\"\n =&gt; #&lt;MyModel:0x0000010320c8e0 @id=\"my model\"&gt; \n\n\nYAML.load\n\nMarshal.load\n\n# Solution Code:\nconfig.cache_classes = true\n\ndevelopment.rb\n\nrequire\n\nrequire_dependency\n\nrequire_dependency\n\nMarshal",
    "resolution": "Well, after read @tadman and a bunch of answers I have received in the spanish ror mailing list [1] I have collected a few hot tips when you have to deal with Ruby deserializing and class loading in Rails: Super fast solution Use config.cache_classes = true in your development.rb but you will lost the class auto-refreshing. Better solution Require all the classes that are gonna be deserialized but not with require but with require_dependency[2] so in development environment the class auto-refreshing will remain working. Elegant solution Monkey-patch the YAML and the Marshal gem to tell them to call require_dependency when they find a non-defined class to deserialize. And @Xavi has sent me a proposition of monkey-patch Marshal (he says he wrote it on the air and it is not tested so use it in your own risk) [3] [1] http://lists.simplelogica.net/pipermail/ror-es/2011-January/024787.html [2] http://apidock.com/rails/ActiveSupport/Dependencies/Loadable/require_dependency [3] http://lists.simplelogica.net/pipermail/ror-es/2011-January/024796.html",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "classloader",
      "deserialization"
    ],
    "metadata": {
      "stackoverflow_question_id": "4705867",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 5218,
      "stackoverflow_creation_date": "2011-01-16T14:26:34.790Z"
    },
    "idempotency_key": "stackoverflow-4705867",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What the difference to update Android App Widget between two approach?",
    "body": "I read some example in internet/book about the App Widget, a normal example to update the widget is in onUpdate(Context context, AppWidgetManager appWidgetManager,int[] appWidgetIds) method of AppWidgetProvider like this: final int N = appWidgetIds.length; for (int i=0; i<N; i++) { int appWidgetId = appWidgetIds[i]; RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.mywidget_layout); updateViews.setTextViewText(R.id.mytext, \"updated text\"); appWidgetManager.updateAppWidget(appWidgetId, updateViews); } It update each Widgets in a loop. But now, I have to implement an App Widget, it is updated in BroadcastReceiver, onReceive(Context context, Intent intent) method since there are no int[] appWidgetIds passed in. So I implemented the code like this: RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.mywidget_layout); updateViews.setTextViewText(R.id.mytext, \"updated text\"); ComponentName myComponentName = new ComponentName(context, AndroidBatteryWidgetProvider.class); AppWidgetManager manager = AppWidgetManager.getInstance(context); manager.updateAppWidget(myComponentName, updateViews); It didn't update widget one-by-one, but actually all widgets were updated at once. Even though it worked as I want, but I got confused as to why there is no need to update all widgets one-by-one as before. What's the difference between two methods? Can I send another broadcast from BroadcastReceiver.onReceive() to trigger AppWidgetProvider.onUpdate()? And how to?",
    "code": "final int N = appWidgetIds.length;\nfor (int i=0; i&lt;N; i++) {\n int appWidgetId = appWidgetIds[i];\n RemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.mywidget_layout);\n updateViews.setTextViewText(R.id.mytext, \"updated text\");\n\n appWidgetManager.updateAppWidget(appWidgetId, updateViews);    \n}\n\n\nRemoteViews updateViews = new RemoteViews(context.getPackageName(), R.layout.mywidget_layout);\nupdateViews.setTextViewText(R.id.mytext, \"updated text\");\n\nComponentName myComponentName = new ComponentName(context, AndroidBatteryWidgetProvider.class);\nAppWidgetManager manager = AppWidgetManager.getInstance(context);\nmanager.updateAppWidget(myComponentName, updateViews);\n\n\nonUpdate(Context context, AppWidgetManager appWidgetManager,int[] appWidgetIds)\n\nonReceive(Context context, Intent intent)\n\nBroadcastReceiver.onReceive()\n\nAppWidgetProvider.onUpdate()",
    "severity": "low",
    "tags": [
      "android",
      "widget",
      "broadcastreceiver",
      "android-appwidget"
    ],
    "metadata": {
      "stackoverflow_question_id": "4741815",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 982,
      "stackoverflow_creation_date": "2011-01-19T23:02:16.350Z"
    },
    "idempotency_key": "stackoverflow-4741815",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jquery dom resizable draggable containment issue",
    "body": "Why is jquery resizable() not resizing to full width and height of the containment id assigned to it. You can try it at http://jsfiddle.net/C8YSU/6/ and see what i mean. Try to resize the created div, it will not resize to full width and height on the parent #container div. This seems to be caused by the draggable() function.",
    "code": "draggable()\n\n# Solution Code:\n&lt;script type=\"text/javascript\"&gt;\n        $(\"button\").click(function () {\n            var elm = $('&lt;div id=\"divId\" class=\"adiv abs\"&gt;&lt;/div&gt;');\n            elm.appendTo('#container').resizable({\n                containment: \"parent\"\n            });\n        });\n    &lt;/script&gt;\n\n\n&lt;script&gt;\n        $(\"button\").click(function () {\n            var elm = $('&lt;div id=\"divId\" class=\"adiv abs\"&gt;&lt;/div&gt;');\n            elm.appendTo('#container').draggable({\n                snap: true,\n                containment: 'parent'\n            }).resizable({\n                maxWidth: 300,\n                maxHeight: 300\n            });\n        });\n\n&lt;/script&gt;\n",
    "resolution": "<script type=\"text/javascript\"> $(\"button\").click(function () { var elm = $('<div id=\"divId\" class=\"adiv abs\"></div>'); elm.appendTo('#container').resizable({ containment: \"parent\" }); }); </script> Update <script> $(\"button\").click(function () { var elm = $('<div id=\"divId\" class=\"adiv abs\"></div>'); elm.appendTo('#container').draggable({ snap: true, containment: 'parent' }).resizable({ maxWidth: 300, maxHeight: 300 }); }); </script>",
    "severity": "medium",
    "tags": [
      "jquery",
      "resizable",
      "containment"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "4788766",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 6624,
      "stackoverflow_creation_date": "2011-01-25T00:24:35.390Z"
    },
    "idempotency_key": "stackoverflow-4788766",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What to use instead of a list comprehension",
    "body": "I'm just getting started with Haskell and finished a nice exercise to make a Caesar cipher. One of the first steps was to make a function that will take a letter and turn it into a number. I know that chr and ord can do this already but part of the exercise was to write your own. let2num c = head [ b | (a,b) <- zip ['a'..'z'] [0..25], a==c] I'm new to the Haskell syntax and one of the first things I learned was list comprehensions, so that has become my hammer. I'm very curious though, what is another (likely better) way to write this function? If you're curious the rest of the cipher is in a gist. EDIT I'm also interested in other ways to translate back from numbers to letters. num2let d = head [ a | (a,b) <- zip ['a'..'z'] [0..25], b==(d `mod` 26)]",
    "code": "let2num c = head [ b | (a,b) &lt;- zip ['a'..'z'] [0..25], a==c]\n\n\nnum2let d = head [ a | (a,b) &lt;- zip ['a'..'z'] [0..25], b==(d `mod` 26)]\n\n\n# Solution Code:\nimport Data.List\nlet2num c = let (Just n) = elemIndex c ['a'..'z'] in n\n\n\nimport Data.List\nimport Data.Maybe\nlet2num c = fromJust $ elemIndex c ['a'..'z']\n\n\nimport Data.List\nimport Data.Maybe\nlet2num = fromJust . (flip elemIndex) ['a'..'z']\n\n\nelemIndex\n\n==\n\nNothing\n\nMaybe\n\nMaybe a\n\na\n\nJust a\n\nNothing\n\nMaybe\n\nfromJust\n\nJust",
    "resolution": "My solution: import Data.List let2num c = let (Just n) = elemIndex c ['a'..'z'] in n Or: import Data.List import Data.Maybe let2num c = fromJust $ elemIndex c ['a'..'z'] Or in pointless style: import Data.List import Data.Maybe let2num = fromJust . (flip elemIndex) ['a'..'z'] The function elemIndex returns the index of the first element in the given list which is equal (by ==) to the query element, or Nothing if there is no such element. The Maybe type encapsulates an optional value. A value of type Maybe a either contains a value of type a (represented as Just a), or it is empty (represented as Nothing). Using Maybe is a good way to deal with errors or exceptional cases without resorting to drastic measures such as error. The function fromJust extracts the element out of a Just.",
    "severity": "medium",
    "tags": [
      "list",
      "haskell",
      "functional-programming",
      "list-comprehension"
    ],
    "metadata": {
      "stackoverflow_question_id": "4802726",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1167,
      "stackoverflow_creation_date": "2011-01-26T08:59:09.337Z"
    },
    "idempotency_key": "stackoverflow-4802726",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What's the best way to do a bulk namespace rename on a large c# application?",
    "body": "First, a little background. Currently namespaces and assemblies in our codebase (~60 assemblies, thousands of classes) looks like WidgetCompany.Department.Something We have now been spun off such that we are selling the software that drives a WidgetCompany, so we 'd like to rename the namespaces & assemblies NewCompany.Something Under normal circumstances I'd probably just stick with the old namespace, but the problem is our customers don't want to see the name of one of their competitors anywhere in the application. In the off chance that they see a stack trace, assembly properties etc, it shouldn't show up. It's not meant to hide our associates or do anything sinister, we just need to make sure that people know we are a separate entity, separate management, and they don't need to worry about data being shared etc. Now the question. What is the best way to perform this type of all encompassing rename? The following would need to change: Namespace for (almost) every class in the application Every using statement in the application which references the old names Folder structure for each project References between projects which rely on changed folder structure .Sln files which reference the changed folder structure Any references to those classes which are fully qualified (should be few and far between) Any references to those classes in xml config files (config sections etc) AssemblyInfo.cs files for every assembly AssemblyName in every .csproj file Am I stuck with the find-replace-pray strategy or is there something better?",
    "code": "WidgetCompany.Department.Something\n\n\nNewCompany.Something\n\n\nusing\n\n# Solution Code:\nRefactor-&gt;Rename\n\nWidgetCompany\n\nNAMESPACE_TO_BE_REPLACED\n\nRefactor-Rename\n\nNAMESPACE_TO_BE_REPLACED\n\nNewCompany.WidgetSoftware",
    "resolution": "Firstly I would try Refactor->Rename option. But as mentioned in comment for another answers it doesn't work that good (Or I haven't found how to make it working). So I prefer using following scenario, especially if you want to add some addiotional namespace. 1) Rename your root namespace (WidgetCompany) to something like NAMESPACE_TO_BE_REPLACED using Refactor-Rename 2) Replace NAMESPACE_TO_BE_REPLACED with your final namespace (NewCompany.WidgetSoftware) using find-n-replace dialog And do not forget to rename projects, default namespaces, etc.",
    "severity": "high",
    "tags": [
      "c#",
      ".net",
      "visual-studio",
      "refactoring"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "4809197",
      "stackoverflow_score": 51,
      "stackoverflow_view_count": 43368,
      "stackoverflow_creation_date": "2011-01-26T19:42:28.573Z"
    },
    "idempotency_key": "stackoverflow-4809197",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use Namespaces in PHP 5.2 If Statement",
    "body": "Is it possible to use some sort of check before adding namespaces to a script that might be run on a php 5.2 server? For example, if you want to use doctrine(which requires 5.3) on a 5.3 server, and fallback to PDO on a 5.2 server. Example: if($pdo){ //RETURN a pdo connection } else if($doctrine){ //this will fail even if doctrine is false because namespaces are being used $classLoader = new Doctrine\\Common\\ClassLoader('Doctrine\\Common'); $classLoader->register(); } This is just an example, I am sure I can get this to work without namespaces, but just wondering if there is anyway to use them within an IF statement.",
    "code": "if($pdo){\n\n  //RETURN a pdo connection\n\n}\nelse if($doctrine){\n\n   //this will fail even if doctrine is false because namespaces are being used\n   $classLoader = new Doctrine\\Common\\ClassLoader('Doctrine\\Common');  \n   $classLoader-&gt;register();\n\n}\n\n\n# Solution Code:\nrequire()\n\nelse if",
    "resolution": "You could tuck the Doctrine code into a separate PHP file and require() it inside the else if branch.",
    "severity": "medium",
    "tags": [
      "php",
      "namespaces"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "4876603",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1465,
      "stackoverflow_creation_date": "2011-02-02T15:50:58.013Z"
    },
    "idempotency_key": "stackoverflow-4876603",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "IE9 and cellspacing",
    "body": "It appears to me that IE9 does not recognize cellspacing. Anybody noticed the same too? <table cellpadding=\"0\" cellspacing=\"10\" border=\"0\" align=\"center\" width=\"100%\">",
    "code": "&lt;table cellpadding=\"0\" cellspacing=\"10\" border=\"0\" align=\"center\" width=\"100%\"&gt;\n\n\n# Solution Code:\nborder-spacing",
    "resolution": "It's better to use the CSS border-spacing attribute, anyway. Most browsers support it, Internet Explorer does since IE 8.",
    "severity": "medium",
    "tags": [
      "html",
      "cross-browser",
      "internet-explorer-9"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "4880604",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4375,
      "stackoverflow_creation_date": "2011-02-02T22:23:34.020Z"
    },
    "idempotency_key": "stackoverflow-4880604",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Emacs find-grep-dired then automatically isearch-forward on given regexp",
    "body": "I commonly do find-grep-dired to find an expression in a project directory. That gives me a nice dired view of all the files that contain that expression. But my next step is invariably to open one of those files and do an isearch-forward with the same search expression. How can I save myself from typing in the search words twice each time (or more than twice if there are multiple files I want to edit)?",
    "code": "find-grep-dired\n\ndired\n\nisearch-forward\n\n# Solution Code:\n(defun find-grep-dired-do-search (dir regexp)\n  \"First perform `find-grep-dired', and wait for it to finish.\nThen, using the same REGEXP as provided to `find-grep-dired',\nperform `dired-do-search' on all files in the *Find* buffer.\"\n  (interactive \"DFind-grep (directory): \\nsFind-grep (grep regexp): \")\n  (find-grep-dired dir regexp)\n  (while (get-buffer-process (get-buffer \"*Find*\"))\n    (sit-for 1))\n  (with-current-buffer \"*Find*\"\n    (dired-toggle-marks)\n    (dired-do-search regexp)))\n\n\nfind-grep-dired\n\ndired-do-search",
    "resolution": "This should work for you: Run find-grep-dired as usual Press * t (dired-toggle-marks) to mark all files. Press A to start dired-do-search. When prompted, instead of typing, press M-p, this will bring up your find-grep regexp since both functions use the same prompting history list You will be taken to the first match in the first file. Here's the fun part, simply press M-, to go to the next match spanning all of your matched files. Profit? (sorry, couldn't resist) And if you want it all in one shot, here you go: (defun find-grep-dired-do-search (dir regexp) \"First perform `find-grep-dired', and wait for it to finish. Then, using the same REGEXP as provided to `find-grep-dired', perform `dired-do-search' on all files in the *Find* buffer.\" (interactive \"DFind-grep (directory): \\nsFind-grep (grep regexp): \") (find-grep-dired dir regexp) (while (get-buffer-process (get-buffer \"*Find*\")) (sit-for 1)) (with-current-buffer \"*Find*\" (dired-toggle-marks) (dired-do-search regexp)))",
    "severity": "medium",
    "tags": [
      "emacs",
      "grep",
      "dired"
    ],
    "metadata": {
      "stackoverflow_question_id": "4969373",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1763,
      "stackoverflow_creation_date": "2011-02-11T13:11:20.827Z"
    },
    "idempotency_key": "stackoverflow-4969373",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unable to find Log Publisher for project on CCNET",
    "body": "I recently started a project and I'm currently trying to configure the ccnet.config file. The fact is I can't find out why CruiseControl can't find the log file. I guess it is something easy and I'm doing something wrong, after 4 days, I'm able to find a solution. I get the next error message in CCNET: ThoughtWorks.CruiseControl.Remote.CommunicationsException: Request processing has failed on the remote server: Unable to find Log Publisher for project so can't find log file at ThoughtWorks.CruiseControl.Remote.CruiseServerClient.ValidateResponse(Response response) at ThoughtWorks.CruiseControl.Remote.CruiseServerClient.GetMostRecentBuildNames(String projectName, Int32 buildCount) at ThoughtWorks.CruiseControl.WebDashboard.ServerConnection.ServerAggregatingCruiseManagerWrapper.GetMostRecentBuildSpecifiers(IProjectSpecifier projectSpecifier, Int32 buildCount, String sessionToken) at ThoughtWorks.CruiseControl.WebDashboard.Plugins.ProjectReport.ProjectReportProjectPlugin.Execute(ICruiseRequest cruiseRequest) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ServerCheckingProxyAction.Execute(ICruiseRequest cruiseRequest) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ProjectCheckingProxyAction.Execute(ICruiseRequest cruiseRequest) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.CruiseActionProxyAction.Execute(IRequest request) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ExceptionCatchingActionProxy.Execute(IRequest request) As i told you, i guess something's wrong with my config file, the one is as follows: <cruisecontrol> <project name=\"Myproject\" queue=\"MyprojectQueue\" queuePriority=\"1\"> <webURL>http://localhost:80/ccnet/</webURL> <workingDirectory>C:\\Projects\\Myproject\\trunk\\Source\\</workingDirectory> <artifactDirectory>C:\\Projects\\Myproject\\trunk\\Build\\Log\\</artifactDirectory> <sourcecontrol type=\"svn\"> <trunkUrl>https://localhost/svn/Myproject.com/trunk</trunkUrl> <workingDirectory>E:\\Repositories\\Myproject.com</workingDirectory> <executable>C:\\Program Files\\VisualSVN Server\\bin\\svn.exe</executable> <username>myusername</username> <password>mypassword</password> <timeout>60000</timeout> </sourcecontrol> <tasks> <artifactcleanup cleanUpMethod=\"KeepLastXBuilds\" cleanUpValue=\"5\" /> <modificationWriter> <filename>mods.xml</filename> <path></path> </modificationWriter> </tasks> <triggers> <intervalTrigger name=\"SVN\" seconds=\"10\" buildCondition=\"IfModificationExists\" /> </triggers> <labeller type=\"defaultlabeller\"> <prefix>0.1.</prefix> <incrementOnFailure>true</incrementOnFailure> <labelFormat>000</labelFormat> </labeller> <state type=\"state\" directory=\"State\" /> <tasks> <nant> <executable>C:\\Projects\\Myproject\\trunk\\Binaries\\NAnt\\bin\\nant.exe</executable> <baseDirectory>C:\\Projects\\Myproject\\trunk\\Binaries\\NAnt\\</baseDirectory> <buildArgs>-D:svn.executable=\"C:\\Program Files\\VisualSVN Server\\bin\\svn.exe\"</buildArgs> <nologo>false</nologo> <buildFile>C:\\Projects\\Myproject\\trunk\\Source\\Myproject.build</buildFile> <logger>SourceForge.NAnt.XmlLogger</logger> <buildTimeoutSeconds>1200</buildTimeoutSeconds> <targetList> <target>cruise</target> </targetList> </nant> </tasks> <publishers> <buildpublisher> <sourceDir>C:\\Projects\\Myproject\\trunk\\Build</sourceDir> <publishDir>C:\\Projects\\Myproject\\trunk\\Build</publishDir> <useLabelSubDirectory>true</useLabelSubDirectory> </buildpublisher> <merge> <files> <file>reports\\devenv.log</file> <file>reports\\*-nunit.xml</file> <file>reports\\*-Coverage.xml</file> </files> </merge> </publishers> </project> </cruisecontrol> My .sln file is located at \"Source directory\". I was searching but can't find anything about this. Also I'm using nant and svn as you can see.",
    "code": "ThoughtWorks.CruiseControl.Remote.CommunicationsException: Request processing has failed on the remote server: Unable to find Log Publisher for project so can't find log file at \nThoughtWorks.CruiseControl.Remote.CruiseServerClient.ValidateResponse(Response response) at \nThoughtWorks.CruiseControl.Remote.CruiseServerClient.GetMostRecentBuildNames(String projectName, Int32 buildCount) at \nThoughtWorks.CruiseControl.WebDashboard.ServerConnection.ServerAggregatingCruiseManagerWrapper.GetMostRecentBuildSpecifiers(IProjectSpecifier projectSpecifier, Int32 buildCount, String sessionToken) at ThoughtWorks.CruiseControl.WebDashboard.Plugins.ProjectReport.ProjectReportProjectPlugin.Execute(ICruiseRequest cruiseRequest) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ServerCheckingProxyAction.Execute(ICruiseRequest cruiseRequest) at ThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ProjectCheckingProxyAction.Execute(ICruiseRequest cruiseRequest) at \nThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.CruiseActionProxyAction.Execute(IRequest request) at \nThoughtWorks.CruiseControl.WebDashboard.MVC.Cruise.ExceptionCatchingActionProxy.Execute(IRequest request)\n\n\n&lt;cruisecontrol&gt;\n  &lt;project name=\"Myproject\" queue=\"MyprojectQueue\" queuePriority=\"1\"&gt;\n    &lt;webURL&gt;http://localhost:80/ccnet/&lt;/webURL&gt;\n    &lt;workingDirectory&gt;C:\\Projects\\Myproject\\trunk\\Source\\&lt;/workingDirectory&gt;\n    &lt;artifactDirectory&gt;C:\\Projects\\Myproject\\trunk\\Build\\Log\\&lt;/artifactDirectory&gt;\n    &lt;sourcecontrol type=\"svn\"&gt;\n      &lt;trunkUrl&gt;https://localhost/svn/Myproject.com/trunk&lt;/trunkUrl&gt;\n      &lt;workingDirectory&gt;E:\\Repositories\\Myproject.com&lt;/workingDirectory&gt;\n      &lt;executable&gt;C:\\Program Files\\VisualSVN Server\\bin\\svn.exe&lt;/executable&gt;\n      &lt;username&gt;myusername&lt;/username&gt;\n      &lt;password&gt;mypassword&lt;/password&gt;\n      &lt;timeout&gt;60000&lt;/timeout&gt;\n    &lt;/sourcecontrol&gt;\n    &lt;tasks&gt;\n      &lt;artifactcleanup   cleanUpMethod=\"KeepLastXBuilds\"   cleanUpValue=\"5\" /&gt;\n      &lt;modificationWriter&gt;\n        &lt;filename&gt;mods.xml&lt;/filename&gt;\n        &lt;path&gt;&lt;/path&gt;\n      &lt;/modificationWriter&gt;\n    &lt;/tasks&gt;\n    &lt;triggers&gt;\n      &lt;intervalTrigger name=\"SVN\" seconds=\"10\" buildCondition=\"IfModificationExists\" /&gt;\n    &lt;/triggers&gt;\n    &lt;labeller type=\"defaultlabeller\"&gt;      \n      &lt;prefix&gt;0.1.&lt;/prefix&gt;\n      &lt;incrementOnFailure&gt;true&lt;/incrementOnFailure&gt;\n      &lt;labelFormat&gt;000&lt;/labelFormat&gt;\n    &lt;/labeller&gt;\n    &lt;state type=\"state\" directory=\"State\" /&gt;\n\n    &lt;tasks&gt;\n      &lt;nant&gt;\n        &lt;executable&gt;C:\\Projects\\Myproject\\trunk\\Binaries\\NAnt\\bin\\nant.exe&lt;/executable&gt;\n        &lt;baseDirectory&gt;C:\\Projects\\Myproject\\trunk\\Binaries\\NAnt\\&lt;/baseDirectory&gt;\n        &lt;buildArgs&gt;-D:svn.executable=\"C:\\Program Files\\VisualSVN Server\\bin\\svn.exe\"&lt;/buildArgs&gt;\n        &lt;nologo&gt;false&lt;/nologo&gt;\n        &lt;buildFile&gt;C:\\Projects\\Myproject\\trunk\\Source\\Myproject.build&lt;/buildFile&gt;\n        &lt;logger&gt;SourceForge.NAnt.XmlLogger&lt;/logger&gt;\n        &lt;buildTimeoutSeconds&gt;1200&lt;/buildTimeoutSeconds&gt;\n        &lt;targetList&gt;\n          &lt;target&gt;cruise&lt;/target&gt;\n        &lt;/targetList&gt;\n      &lt;/nant&gt;\n    &lt;/tasks&gt;\n\n    &lt;publishers&gt;\n      &lt;buildpublisher&gt;\n        &lt;sourceDir&gt;C:\\Projects\\Myproject\\trunk\\Build&lt;/sourceDir&gt;\n        &lt;publishDir&gt;C:\\Projects\\Myproject\\trunk\\Build&lt;/publishDir&gt;\n        &lt;useLabelSubDirectory&gt;true&lt;/useLabelSubDirectory&gt;\n      &lt;/buildpublisher&gt;\n      &lt;merge&gt;\n        &lt;files&gt;\n          &lt;file&gt;reports\\devenv.log&lt;/file&gt;\n          &lt;file&gt;reports\\*-nunit.xml&lt;/file&gt;\n          &lt;file&gt;reports\\*-Coverage.xml&lt;/file&gt;\n        &lt;/files&gt;\n      &lt;/merge&gt;\n    &lt;/publishers&gt;\n  &lt;/project&gt;\n&lt;/cruisecontrol&gt;\n\n\nccnet.config\n\n.sln\n\nnant\n\nsvn\n\n# Solution Code:\n&lt;publishers&gt;\n  &lt;buildpublisher&gt;\n    &lt;sourceDir&gt;C:\\Projects\\Myproject\\trunk\\Build&lt;/sourceDir&gt;\n    &lt;publishDir&gt;C:\\Projects\\Myproject\\trunk\\Build&lt;/publishDir&gt;\n    &lt;useLabelSubDirectory&gt;true&lt;/useLabelSubDirectory&gt;\n  &lt;/buildpublisher&gt;\n  &lt;merge&gt;\n    &lt;files&gt;\n      &lt;file&gt;reports\\devenv.log&lt;/file&gt;\n      &lt;file&gt;reports\\*-nunit.xml&lt;/file&gt;\n      &lt;file&gt;reports\\*-Coverage.xml&lt;/file&gt;\n    &lt;/files&gt;\n  &lt;/merge&gt;\n  &lt;xmllogger /&gt;\n&lt;/publishers&gt;\n",
    "resolution": "You are missing the XML Log Publisher inside the publishers block. As it is stated in the documentation (.../CruiseControl.NET/webdashboard/doc/CCNET/Xml Log Publisher.html, the online docs seem to be down currently), it is required for the dashboard to function properly. The publishers block contains it by default so you only have to add it when you include the publishers block in your project. Try modifying your publishers block as follows, it should help: <publishers> <buildpublisher> <sourceDir>C:\\Projects\\Myproject\\trunk\\Build</sourceDir> <publishDir>C:\\Projects\\Myproject\\trunk\\Build</publishDir> <useLabelSubDirectory>true</useLabelSubDirectory> </buildpublisher> <merge> <files> <file>reports\\devenv.log</file> <file>reports\\*-nunit.xml</file> <file>reports\\*-Coverage.xml</file> </files> </merge> <xmllogger /> </publishers>",
    "severity": "medium",
    "tags": [
      "svn",
      "nant",
      "ccnet-config"
    ],
    "metadata": {
      "stackoverflow_question_id": "5008452",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2815,
      "stackoverflow_creation_date": "2011-02-15T19:19:30.257Z"
    },
    "idempotency_key": "stackoverflow-5008452",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Changing the XML structure generated by XmlSerializer in C#",
    "body": "I have classes as follows namespace Coverage { public class ClassInfo { public string ClassName; public int BlocksCovered; public int BlocksNotCovered; public ClassInfo() {} public ClassInfo(string ClassName, int BlocksCovered, int BlocksNotCovered) { this.ClassName = ClassName; this.BlocksCovered = BlocksCovered; this.BlocksNotCovered = BlocksNotCovered; } } public class Module { public List<ClassInfo> ClassInfoList; public int BlocksCovered; public int BlocksNotCovered; public string moduleName; public Module() { ClassInfoList = new List<ClassInfo>(); BlocksCovered = 0; BlocksNotCovered = 0; moduleName = \"\"; } With the following serializer code XmlSerializer SerializerObj = new XmlSerializer(typeof(Module)); // Create a new file stream to write the serialized object to a file TextWriter WriteFileStream = new StreamWriter(@\"test.xml\"); SerializerObj.Serialize(WriteFileStream, report); WriteFileStream.Close(); I can get the following XML file. <?xml version=\"1.0\" encoding=\"utf-8\"?> <Module xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"> <ClassInfoList> <ClassInfo> <ClassName>Fpga::TestMe</ClassName> <BlocksCovered>4</BlocksCovered> <BlocksNotCovered>8</BlocksNotCovered> </ClassInfo> <ClassInfo> <ClassName>Fpga::TestMe2</ClassName> <BlocksCovered>4</BlocksCovered> <BlocksNotCovered>8</BlocksNotCovered> </ClassInfo> </ClassInfoList> <BlocksCovered>8</BlocksCovered> <BlocksNotCovered>16</BlocksNotCovered> <moduleName>helloclass.exe</moduleName> </Module> Q1 : How can I remove the xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://... to have simple element <Module>..</Module>? Q2 : The XML element name is exactly the same as the class name or variable name. Can I replace it with my own? Q3 : Can I remove the outer <ClassInfoList>? For example, how can I generate the XML as follows: <?xml version=\"1.0\" encoding=\"utf-8\"?> <Module> <Class> <ClassName>Fpga::TestMe</ClassName> <BlocksCovered>4</BlocksCovered> <BlocksNotCovered>8</BlocksNotCovered> </Class> <Class> <ClassName>Fpga::TestMe2</ClassName> <BlocksCovered>4</BlocksCovered> <BlocksNotCovered>8</BlocksNotCovered> </Class> <BlocksCovered>8</BlocksCovered> <BlocksNotCovered>16</BlocksNotCovered> <moduleName>helloclass.exe</moduleName> </Module>",
    "code": "namespace Coverage {\n    public class ClassInfo {\n        public string ClassName;\n        public int BlocksCovered;\n        public int BlocksNotCovered;\n\n        public ClassInfo() {}\n\n        public ClassInfo(string ClassName, int BlocksCovered, int BlocksNotCovered) \n        {\n            this.ClassName = ClassName;\n            this.BlocksCovered = BlocksCovered;\n            this.BlocksNotCovered = BlocksNotCovered;\n        }\n    }\n\n    public class Module {\n        public List&lt;ClassInfo&gt; ClassInfoList;\n        public int BlocksCovered;\n        public int BlocksNotCovered;\n        public string moduleName;\n\n        public Module()\n        {\n            ClassInfoList = new List&lt;ClassInfo&gt;();\n            BlocksCovered = 0;\n            BlocksNotCovered = 0;\n            moduleName = \"\";\n        }\n\n\nXmlSerializer SerializerObj = new XmlSerializer(typeof(Module));\n// Create a new file stream to write the serialized object to a file\nTextWriter WriteFileStream = new StreamWriter(@\"test.xml\");\nSerializerObj.Serialize(WriteFileStream, report);\nWriteFileStream.Close();\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Module xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"&gt;\n  &lt;ClassInfoList&gt;\n    &lt;ClassInfo&gt;\n      &lt;ClassName&gt;Fpga::TestMe&lt;/ClassName&gt;\n      &lt;BlocksCovered&gt;4&lt;/BlocksCovered&gt;\n      &lt;BlocksNotCovered&gt;8&lt;/BlocksNotCovered&gt;\n    &lt;/ClassInfo&gt;\n    &lt;ClassInfo&gt;\n      &lt;ClassName&gt;Fpga::TestMe2&lt;/ClassName&gt;\n      &lt;BlocksCovered&gt;4&lt;/BlocksCovered&gt;\n      &lt;BlocksNotCovered&gt;8&lt;/BlocksNotCovered&gt;\n    &lt;/ClassInfo&gt;\n  &lt;/ClassInfoList&gt;\n  &lt;BlocksCovered&gt;8&lt;/BlocksCovered&gt;\n  &lt;BlocksNotCovered&gt;16&lt;/BlocksNotCovered&gt;\n  &lt;moduleName&gt;helloclass.exe&lt;/moduleName&gt;\n&lt;/Module&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;Module&gt;\n  &lt;Class&gt;\n      &lt;ClassName&gt;Fpga::TestMe&lt;/ClassName&gt;\n      &lt;BlocksCovered&gt;4&lt;/BlocksCovered&gt;\n      &lt;BlocksNotCovered&gt;8&lt;/BlocksNotCovered&gt;\n  &lt;/Class&gt;\n  &lt;Class&gt;\n      &lt;ClassName&gt;Fpga::TestMe2&lt;/ClassName&gt;\n      &lt;BlocksCovered&gt;4&lt;/BlocksCovered&gt;\n      &lt;BlocksNotCovered&gt;8&lt;/BlocksNotCovered&gt;\n  &lt;/Class&gt;\n  &lt;BlocksCovered&gt;8&lt;/BlocksCovered&gt;\n  &lt;BlocksNotCovered&gt;16&lt;/BlocksNotCovered&gt;\n  &lt;moduleName&gt;helloclass.exe&lt;/moduleName&gt;\n&lt;/Module&gt;\n\n\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://...\n\n&lt;Module&gt;..&lt;/Module&gt;\n\n&lt;ClassInfoList&gt;\n\n# Solution Code:\n[XmlElement(\"Class\")]\npublic List&lt;ClassInfo&gt; ClassInfoList;\n\n\n[XmlRoot(\"somethingFun\")]\npublic class Module { ... }\n\n\n[XmlElement(\"blocks\")]\npublic int BlocksCovered;\n\n\nXmlSerializerNamespaces ns = new XmlSerializerNamespaces();\nns.Add(\"\", \"\");\nvar ser = new XmlSerializer(typeof(Module));\nser.Serialize(destination, module, ns);\n\n\n[XmlAttribute(...)]\n\nXmlSerializerNamespaces",
    "resolution": "(btw, it doesn't tie to the question, but you should aim to avoid public fields, for lots of reasons covered in many stackoverflow questions) Q3: Simply: [XmlElement(\"Class\")] public List<ClassInfo> ClassInfoList; Q2 re the top level name; you can use [XmlRoot(\"somethingFun\")] public class Module { ... } Q2 re member names: [XmlElement(\"blocks\")] public int BlocksCovered; (see also [XmlAttribute(...)]) Q1 Removing the xsi etc can be done with XmlSerializerNamespaces: XmlSerializerNamespaces ns = new XmlSerializerNamespaces(); ns.Add(\"\", \"\"); var ser = new XmlSerializer(typeof(Module)); ser.Serialize(destination, module, ns);",
    "severity": "medium",
    "tags": [
      "c#",
      "xml",
      "xml-serialization"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "5013435",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3530,
      "stackoverflow_creation_date": "2011-02-16T07:02:17.653Z"
    },
    "idempotency_key": "stackoverflow-5013435",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to make a selection border that tracks the checked radio button?",
    "body": "I have a set of RadioButtons with a custom style. I want to display a border around the button that is currently checked. This should be easy enough using XML, but now I want the border to be animated. If a new radio button is checked, the border should \"fly\" to its new location with a fancy animation: +------+ |* btn1| o btn2 +------+ +------+ o b|n1 * |tn2 +------+ +------+ o btn1 |* btn2| +------+ Because of this, I decided to make the border into a separate View object, so I can animate it properly. The trouble is in tracking the location of the corresponding radio button on the screen. I'm trying to get it to work without animations first. My current attempt looks something like this (only showing the relevant attributes): <RelativeLayout android:layout_alignParentLeft=\"true\" android:layout_alignParentTop=\"true\"> <RadioGroup android:id=\"@+id/radio_group\"> <RadioButton/> <RadioButton/> <RadioButton/> </RadioGroup> <View android:id=\"@+id/selection_border\" android:layout_alignParentLeft=\"true\" android:layout_alignParentTop=\"true\"/> </RelativeLayout> In the OnCheckedChangeListener of the RadioGroup, I move the selection border around by setting its margin (I could set the position, but that's a little harder with a RelativeLayout): View radioButton = findViewById(checkedId); View selectionBorder = findViewById(R.id.selection_border); ViewGroup radioGroup = (ViewGroup)findViewById(R.id.radio_group); RelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(selectionBorder.getLayoutParams()); params.leftMargin = radioGroup.getLeft() + radioButton.getLeft(); params.topMargin = radioGroup.getTop() + radioButton.getTop(); selection.setLayoutParams(params); selection.requestLayout(); Trouble happens, however, on initialization. Because no layouting has been done yet, the position of the border is set incorrectly. It doesn't seem to be possible to force a relayout immediately, and it also doesn't seem to be possible to get an event after layouting has been done. All this hassle leads me to believe that there must be a cleaner way to accomplish what I want. Any bright ideas?",
    "code": "+------+\n|* btn1| o btn2\n+------+\n\n    +------+\n o b|n1  * |tn2\n    +------+\n\n        +------+\n o btn1 |* btn2|\n        +------+\n\n\n    &lt;RelativeLayout\n        android:layout_alignParentLeft=\"true\"\n        android:layout_alignParentTop=\"true\"&gt;\n        &lt;RadioGroup\n            android:id=\"@+id/radio_group\"&gt;\n            &lt;RadioButton/&gt;\n            &lt;RadioButton/&gt;\n            &lt;RadioButton/&gt;\n        &lt;/RadioGroup&gt;\n        &lt;View\n            android:id=\"@+id/selection_border\"\n            android:layout_alignParentLeft=\"true\"\n            android:layout_alignParentTop=\"true\"/&gt;\n    &lt;/RelativeLayout&gt;\n\n\nView radioButton = findViewById(checkedId);\nView selectionBorder = findViewById(R.id.selection_border);\nViewGroup radioGroup = (ViewGroup)findViewById(R.id.radio_group);\n\nRelativeLayout.LayoutParams params = new RelativeLayout.LayoutParams(selectionBorder.getLayoutParams());\nparams.leftMargin = radioGroup.getLeft() + radioButton.getLeft();\nparams.topMargin = radioGroup.getTop() + radioButton.getTop();\nselection.setLayoutParams(params);\n\nselection.requestLayout();\n\n\nRadioButton\n\nView\n\nOnCheckedChangeListener\n\nRadioGroup\n\nRelativeLayout\n\n# Solution Code:\npublic void onCreate() {\n    ...\n    yourView.setLayoutRunnable(new Runnable() {\n        @Override\n        public void run() {\n            //do post-layout stuff...\n        }\n    });\n    ...\n}\n\n\npublic Runnable layoutRunner;\n\npublic void setLayoutRunnable(Runnable runner) {\n    layoutRunner = runner;\n}\n\n@Override\npublic void onSizeChanged(int w, int h, int oldw, int oldh) {\n    if (w &gt; 0 &amp;&amp; h &gt; 0 &amp;&amp; (w != oldw || h != oldh)) {\n        if (layoutRunner != null) layoutRunner.run();\n    }\n}\n",
    "resolution": "To address your trouble with initialization (I've had much trouble in the past with this myself): If I need to know when a view's layout is complete, I give it a runnable in Activity.onCreate() then call that runnable from View.onSizeChanged(). I've come to use this pattern quite a bit and I've found it very reliable. You just need to remember to only call the runnable from onSizeChanged() if the new width and height are greater than 0 and if they are not equal to the old width and height. So in your activity: public void onCreate() { ... yourView.setLayoutRunnable(new Runnable() { @Override public void run() { //do post-layout stuff... } }); ... } and in your view: public Runnable layoutRunner; public void setLayoutRunnable(Runnable runner) { layoutRunner = runner; } @Override public void onSizeChanged(int w, int h, int oldw, int oldh) { if (w > 0 && h > 0 && (w != oldw || h != oldh)) { if (layoutRunner != null) layoutRunner.run(); } } If you have multiple views that all need to have their layouts finished before you do your stuff, you have to keep a count as you get the notifications so you know when they're done. And regarding your topic in general, I implemented something similar to your radio button concept in a game I wrote, but I decided to override View from scratch to do it. I had all options for a set in a single view, so really I replaced the RadioGroup view rather than the RadioButton view. Each option had a value and an extent. I always used text, but images would work just as easily. Then I just tracked the taps and drags relative to the extents of the options and moved the \"selector\" on a timed handler (a la animations in javascript).",
    "severity": "medium",
    "tags": [
      "android",
      "android-layout"
    ],
    "metadata": {
      "stackoverflow_question_id": "5050639",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1212,
      "stackoverflow_creation_date": "2011-02-19T12:00:04.657Z"
    },
    "idempotency_key": "stackoverflow-5050639",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to tag code in C# XML documentation",
    "body": "I have this function: public static string Join(this IEnumerable<string> strings, string separator) { return string.Join(separator, strings.ToArray()); } which I want to document. I want the <return> tag to say string.Join(separator, strings.ToArray()) since to anyone able to read C# code this says more than a thousand words. However, when I use <return>string.Join(separator, strings.ToArray())</return> then string.Join(separator, strings.ToArray()) will be formatted as plain text, which makes it almost unreadable. So I tried <return><code>string.Join(separator, strings.ToArray())</code></return> but this always creates a new paragraph... So here's my question: Is there a way to format a piece of text so that it appears as if it were code? I'd be satisfied with a fixed-width font.",
    "code": "public static string Join(this IEnumerable&lt;string&gt; strings, string separator)\n{\n    return string.Join(separator, strings.ToArray());\n}\n\n\n&lt;return&gt;string.Join(separator, strings.ToArray())&lt;/return&gt;\n\n\n&lt;return&gt;&lt;code&gt;string.Join(separator, strings.ToArray())&lt;/code&gt;&lt;/return&gt;\n\n\n&lt;return&gt;\n\nstring.Join(separator, strings.ToArray())",
    "severity": "medium",
    "tags": [
      "c#",
      "xml",
      "documentation",
      "xml-documentation"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "5093112",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1185,
      "stackoverflow_creation_date": "2011-02-23T15:37:56.150Z"
    },
    "idempotency_key": "stackoverflow-5093112",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Confirmation box from server side in asp.net",
    "body": "I want to show the confirmation box in asp.net from server side: I want to call it from server side because I have to take the customer message from server side. I am using the below code string str = \"Are you sure, you want to Approve this Record?\"; ClientScript.RegisterStartupScript(typeof(Page), \"Popup\", \"return confirm('\" + str + \"');\",true); // More code .... Now it is showing the popup and irrespective of what I click, whether \"ok\" or \"Cancel\", my code is executing. Please let me know how can I restrict code to be executed when user select \"cancel\" in the confirmation box.",
    "code": "    string str = \"Are you sure, you want to Approve this Record?\";\n        ClientScript.RegisterStartupScript(typeof(Page), \"Popup\", \"return confirm('\" + str + \"');\",true);\n// More code ....\n\n\n# Solution Code:\nstring str = \"Are you sure, you want to Approve this Record?\";\n        this.ClientScript.RegisterStartupScript(typeof(Page), \"Popup\", \"ConfirmApproval('\" + str + \"');\", true);\n\n\nfunction ConfirmApproval(objMsg)\n    {\n        if(confirm(objMsg))\n        {\n            alert(\"execute code.\");\n            return true;\n        }    \n        else\n            return false;    \n    }\n",
    "resolution": "Check it out: CODE BEHIND: string str = \"Are you sure, you want to Approve this Record?\"; this.ClientScript.RegisterStartupScript(typeof(Page), \"Popup\", \"ConfirmApproval('\" + str + \"');\", true); ASPX: function ConfirmApproval(objMsg) { if(confirm(objMsg)) { alert(\"execute code.\"); return true; } else return false; }",
    "severity": "high",
    "tags": [
      "asp.net",
      "alert",
      "server-side",
      "serverside-javascript",
      "confirmation"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "5114607",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 34230,
      "stackoverflow_creation_date": "2011-02-25T07:13:02.617Z"
    },
    "idempotency_key": "stackoverflow-5114607",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Mocking IObjectSet<T> with Rhino Mocks",
    "body": "Is there a way of using Rhino Mocks to generate Stub for an IObjectSet<T>? What is am after is something like the following code: var context = MockRepository.GenerateMock <IContext>(); //generate stub var mockProjectObjectSet = MockRepository.GenerateStub<IObjectSet<Project>>(); TestObjectSets.GenerateFakeProjectList(mockProjectObjectSet); context.Expect(p => p.Projects).Return(mockProjectObjectSet); var projectRepository = new ProjectRepository(context); In the GenerateFakeProjectList static helper method, I am simply creating the objects of the type specified and adding them to the stub via the AddObject method on the IObjectSet: public static IObjectSet<Project> GenerateFakeProjectList(IObjectSet<Project> projectsObjectSet) { projectsObjectSet.AddObject(new Project() { Categories = null, DateCreated = DateTime.Now.AddDays(-10), .......",
    "code": "var context = MockRepository.GenerateMock &lt;IContext&gt;();\n//generate stub\nvar mockProjectObjectSet = MockRepository.GenerateStub&lt;IObjectSet&lt;Project&gt;&gt;();\nTestObjectSets.GenerateFakeProjectList(mockProjectObjectSet);\ncontext.Expect(p =&gt; p.Projects).Return(mockProjectObjectSet);\nvar projectRepository = new ProjectRepository(context);\n\n\npublic static IObjectSet&lt;Project&gt; GenerateFakeProjectList(IObjectSet&lt;Project&gt; projectsObjectSet)\n{     \n   projectsObjectSet.AddObject(new Project()\n   {\n     Categories = null,\n     DateCreated = DateTime.Now.AddDays(-10),\n    .......\n\n\nIObjectSet&lt;T&gt;\n\nGenerateFakeProjectList\n\nAddObject\n\nIObjectSet\n\n# Solution Code:\npublic class MockObjectSet&lt;T&gt; : IObjectSet&lt;T&gt; where T : class {\n        readonly List&lt;T&gt; _container = new List&lt;T&gt;();\n\n        public void AddObject(T entity) {\n            _container.Add(entity);\n        }\n\n        public void Attach(T entity) {\n            _container.Add(entity);\n        }\n\n        public void DeleteObject(T entity) {\n            _container.Remove(entity);\n        }\n\n        public void Detach(T entity) {\n            _container.Remove(entity);\n        }\n\n        public IEnumerator&lt;T&gt; GetEnumerator() {\n            return _container.GetEnumerator();\n        }\n\n        IEnumerator IEnumerable.GetEnumerator() {\n            return _container.GetEnumerator();\n        }\n\n        public Type ElementType {\n            get { return typeof(T); }\n        }\n\n        public System.Linq.Expressions.Expression Expression {\n            get { return _container.AsQueryable&lt;T&gt;().Expression; }\n        }\n\n        public IQueryProvider Provider {\n            get { return _container.AsQueryable&lt;T&gt;().Provider; }\n        }\n    }\n\n\nIObjectSet&lt;T&gt;",
    "resolution": "I know I'm late to this party, but here's a simple implementation of IObjectSet<T> that I've used before. I forget where I got it from: public class MockObjectSet<T> : IObjectSet<T> where T : class { readonly List<T> _container = new List<T>(); public void AddObject(T entity) { _container.Add(entity); } public void Attach(T entity) { _container.Add(entity); } public void DeleteObject(T entity) { _container.Remove(entity); } public void Detach(T entity) { _container.Remove(entity); } public IEnumerator<T> GetEnumerator() { return _container.GetEnumerator(); } IEnumerator IEnumerable.GetEnumerator() { return _container.GetEnumerator(); } public Type ElementType { get { return typeof(T); } } public System.Linq.Expressions.Expression Expression { get { return _container.AsQueryable<T>().Expression; } } public IQueryProvider Provider { get { return _container.AsQueryable<T>().Provider; } } }",
    "severity": "low",
    "tags": [
      "c#",
      "entity-framework-4",
      "rhino-mocks"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "5213234",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 957,
      "stackoverflow_creation_date": "2011-03-06T20:36:59.837Z"
    },
    "idempotency_key": "stackoverflow-5213234",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "in python for loop,, jump over values",
    "body": "time=0 gold=0 level=1 for time in range(100): gold+=level if gold>20*level: level+=1 time+=10 with this program gold is added until it reaches a critical amount, then it takes 20s to upgrade a mine so it produces more gold. i'd like to skip those 20s (or 20 steps) in the loop? this works in c++, i'm not sure how to do it in python.",
    "code": "time=0\ngold=0\nlevel=1\nfor time in range(100):\n  gold+=level\n  if gold&gt;20*level:\n    level+=1\n    time+=10\n\n\n# Solution Code:\ntime = 0\nwhile time &lt; 100:\n   gold += level\n   if gold &gt; 20 * level:\n      level +=1\n      time += 10\n   time += 1\n\n\nrange(100)\n\nfor\n\ntime\n\nwhile",
    "resolution": "Don't do it in range(100). The for loop doesn't offer a way to skip ahead like that; time will be set to the next value in the list regardless of what you change it to in the body of the loop. Use a while loop instead, e.g. time = 0 while time < 100: gold += level if gold > 20 * level: level +=1 time += 10 time += 1",
    "severity": "high",
    "tags": [
      "python",
      "for-loop",
      "range"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "5215530",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 13784,
      "stackoverflow_creation_date": "2011-03-07T03:29:12.013Z"
    },
    "idempotency_key": "stackoverflow-5215530",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "IE8 - Odd behavior with head margin collapse on change in CSS \"display\"",
    "body": "I have a strange issue where my head (h1, h2, h3, h4, etc.) margins are collapsing on me, but only in IE8. I've spent a good deal of time trying to pinpoint the issue I am having, and have narrowed it down to this example. I am almost completely certain that no other page objects can be removed (including the DOCTYPE declaration) while still representing this bug. To make the code as compact as possible, the bug only appears after modifying the display property a couple of times, but the real page has an issue each time the display property is modified (i.e. immediately after any \"nav\" is followed). I attempted posting this as a jsFiddle, but it was not reproduceable from the result pane. Therefore, I will post the entire, simplified test case inline, written as small/clean as possible: <!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"> <html> <head> <title>Bug Test of IE8 Collapsing Margin problem</title> <style type=\"text/css\"> h2 { margin: 20px 0 15px -10px; background: red; } h3 { margin: 10px 0 15px -10px; background: green; } h4 { margin-bottom: -15px; background: blue; } .noShow { display: none; } </style> <script type=\"text/javascript\"> function show(theDiv) { theDiv = document.getElementById(theDiv); Div1 = document.getElementById('div1'); Div2 = document.getElementById('div2'); Div1.style.display = 'none'; Div2.style.display = 'none'; theDiv.style.display = 'block'; } </script> </head> <body> <ul> <li><a href=\"javascript: show('div1');\">Nav1</a></li> <li><a href=\"javascript: show('div2');\">Nav2</a></li> </ul> <div id=\"div1\"> <h1>Head1</h1> <h2>Head2</h2> <h3>Head3</h3> <h4>Head4</h4> <br><br> Click on \"Nav2,\" then \"Nav1,\" then \"Nav2\" a second time to see the shift in header margins/padding.<br> </div> <div id=\"div2\" class=\"noShow\"> <h1>Head1</h1> <h2>Head2</h2> <h3>Head3</h3> <h4>Head4</h4> </div> </body> </html> I've begun reading a bit about margin collapse and how it's supposed to act this way, but if that's the case, why is IE8 the only browser I've tested with this behavior, and why is it not consistent? I've also tried switching margin with padding to achieve a similar result without the collapsing issue, but unless I did something incorrectly, that had no effect either. I've tried applying overflow:hidden to the noShow declaration. This fixes the problem, but I cannot use it in my design. (Even when adjusting this in the example, it looks wrong and is still inconsistent in its placement.) Does anyone have any good suggestions on how to work around this problem? I'd hate to have to turn off my DOCTYPE and force IE7 mode, as I lose other features (such as pseudo-element :before).",
    "code": "&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\"\n\"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n&lt;html&gt;\n&lt;head&gt;\n   &lt;title&gt;Bug Test of IE8 Collapsing Margin problem&lt;/title&gt;\n   &lt;style type=\"text/css\"&gt;\n      h2 {\n         margin:                20px 0 15px -10px;\n         background:            red;\n      } h3 {\n         margin:                10px 0 15px -10px;\n         background:            green;\n      } h4 {\n         margin-bottom:         -15px;\n         background:            blue;\n      } .noShow {\n         display:               none;\n      }\n   &lt;/style&gt;\n   &lt;script type=\"text/javascript\"&gt;\n      function show(theDiv) {\n         theDiv   = document.getElementById(theDiv);\n         Div1     = document.getElementById('div1');\n         Div2     = document.getElementById('div2');\n         Div1.style.display   = 'none';\n         Div2.style.display   = 'none';\n         theDiv.style.display = 'block';\n      }\n   &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n   &lt;ul&gt;\n      &lt;li&gt;&lt;a href=\"javascript: show('div1');\"&gt;Nav1&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"javascript: show('div2');\"&gt;Nav2&lt;/a&gt;&lt;/li&gt;\n   &lt;/ul&gt;\n   &lt;div id=\"div1\"&gt;\n      &lt;h1&gt;Head1&lt;/h1&gt;\n      &lt;h2&gt;Head2&lt;/h2&gt;\n      &lt;h3&gt;Head3&lt;/h3&gt;\n      &lt;h4&gt;Head4&lt;/h4&gt;\n      &lt;br&gt;&lt;br&gt;\n      Click on \"Nav2,\" then \"Nav1,\" then \"Nav2\" a second time to see the shift\n      in header margins/padding.&lt;br&gt;\n\n   &lt;/div&gt;\n   &lt;div id=\"div2\" class=\"noShow\"&gt;\n      &lt;h1&gt;Head1&lt;/h1&gt;\n      &lt;h2&gt;Head2&lt;/h2&gt;\n      &lt;h3&gt;Head3&lt;/h3&gt;\n      &lt;h4&gt;Head4&lt;/h4&gt;\n   &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\nh1\n\nh2\n\nh3\n\nh4\n\nDOCTYPE\n\noverflow:hidden\n\nnoShow\n\nDOCTYPE\n\n:before\n\n# Solution Code:\nh2, h3, h4 {\n   ...\n   width: 100%;\n}\n\nfunction show(theDiv) {\n   ...\n   theDiv.style.Display = \"inline-block\";\n}\n\n\n&lt;div id=\"div1\" class=\"content\"&gt;Initially Visible&lt;/div&gt;\n&lt;div id=\"div2\" class=\"content noShow\"&gt;Initially Invisible&lt;/div&gt;\n\n\n&lt;div class=\"content\"&gt;\n   &lt;div id=\"div1\"&gt;Initially Visible&lt;/div&gt;\n   &lt;div id=\"div2\" class=\"noShow\"&gt;Initially Invisible&lt;/div&gt;\n&lt;/div&gt;\n",
    "resolution": "Kyle gave me the information I needed to get to my solution, and I have already accepted his solution, as he gave me the important parts to solve my specific case. For ease of searching, I will post my specific solution here. I made simple modifications to the CSS, JS, and HTML in combination to achieve my desired result. Using the example I posted as a basis, I made the following changes: h2, h3, h4 { ... width: 100%; } function show(theDiv) { ... theDiv.style.Display = \"inline-block\"; } In addition, my specific example had a div with multiple class assignments: <div id=\"div1\" class=\"content\">Initially Visible</div> <div id=\"div2\" class=\"content noShow\">Initially Invisible</div> I modified this by removing the multiple class assignments and creating (yet another) nested div: <div class=\"content\"> <div id=\"div1\">Initially Visible</div> <div id=\"div2\" class=\"noShow\">Initially Invisible</div> </div> The combination of all 3 elements (of which two were given to me by Kyle, and the third was not included in my example posting) resulted in expected output.",
    "severity": "medium",
    "tags": [
      "css",
      "internet-explorer-8",
      "margin"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "5264465",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2415,
      "stackoverflow_creation_date": "2011-03-10T19:02:00.223Z"
    },
    "idempotency_key": "stackoverflow-5264465",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "what's different between each and collect method in Ruby",
    "body": "From this code I don't know the difference between the two methods, collect and each. a = [\"L\",\"Z\",\"J\"].collect{|x| puts x.succ} #=> M AA K print a.class #=> Array b = [\"L\",\"Z\",\"J\"].each{|x| puts x.succ} #=> M AA K print b.class #=> Array",
    "code": "a = [\"L\",\"Z\",\"J\"].collect{|x| puts x.succ} #=&gt; M AA K \nprint  a.class  #=&gt; Array\n\nb = [\"L\",\"Z\",\"J\"].each{|x| puts x.succ} #=&gt; M AA K\nprint  b.class #=&gt; Array\n\n\ncollect\n\neach\n\n# Solution Code:\n  arr=[1,2,3,4]\n  arr.each {|x| puts x*2}\n\n\n  arr.collect {|x| x*2}\n\n\n a = [\"L\",\"Z\",\"J\"].collect{|x| puts x.succ} #=&gt; M AA K \n\n\n b = [\"L\",\"Z\",\"J\"].each{|x| puts x.succ} #=&gt; M AA K\n\n\nArray#each\n\nArray#collect\n\nArray#map\n\nputs x.succ\n\nnil",
    "resolution": "Array#each takes an array and applies the given block over all items. It doesn't affect the array or creates a new object. It is just a way of looping over items. Also it returns self. arr=[1,2,3,4] arr.each {|x| puts x*2} Prints 2,4,6,8 and returns [1,2,3,4] no matter what Array#collect is same as Array#map and it applies the given block of code on all the items and returns the new array. simply put 'Projects each element of a sequence into a new form' arr.collect {|x| x*2} Returns [2,4,6,8] And In your code a = [\"L\",\"Z\",\"J\"].collect{|x| puts x.succ} #=> M AA K a is an Array but it is actually an array of Nil's [nil,nil,nil] because puts x.succ returns nil (even though it prints M AA K). And b = [\"L\",\"Z\",\"J\"].each{|x| puts x.succ} #=> M AA K also is an Array. But its value is [\"L\",\"Z\",\"J\"], because it returns self.",
    "severity": "high",
    "tags": [
      "ruby",
      "each",
      "collect"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "5347949",
      "stackoverflow_score": 69,
      "stackoverflow_view_count": 62864,
      "stackoverflow_creation_date": "2011-03-18T04:06:49.260Z"
    },
    "idempotency_key": "stackoverflow-5347949",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why the following C# multi-threaded code does not output zero though it does in debugger?",
    "body": "class Program { private static volatile int value; public static void Increment() { for (int i =0; i <100000; i++) { value++; } } public static void Decrement() { for (int j =0 ; j < 100000; j++) { value--; } } public static void ThreadTest() { value = 0; var incrementThread = new Thread(Increment); var decrementThread = new Thread(Decrement); incrementThread.Start(); decrementThread.Start(); incrementThread.Join(); decrementThread.Join(); Console.WriteLine(\"Value of value {0}\", value); } static void Main(string[] args) { ThreadTest(); } }",
    "code": "class Program\n{\n    private static volatile int value;\n\n    public static void Increment()\n    {\n        for (int i =0; i &lt;100000; i++)\n        {\n            value++;\n        }\n    }\n\n    public static void Decrement()\n    {\n        for (int j =0 ; j &lt; 100000; j++)\n        {\n            value--;\n        }\n    }\n\n    public static void ThreadTest()\n    {\n        value = 0;\n\n        var incrementThread = new Thread(Increment);\n\n        var decrementThread = new Thread(Decrement);\n\n        incrementThread.Start();\n\n        decrementThread.Start();\n\n        incrementThread.Join();\n\n        decrementThread.Join();\n\n        Console.WriteLine(\"Value of value {0}\", value);\n    }\n\n    static void Main(string[] args)\n    {\n        ThreadTest();\n    }\n}\n\n\n# Solution Code:\n1: load value to temp\n2: add temp, 1\n3: store temp to value\n\n\n4: load value to temp2\n5: substruct temp2, 1\n6: store temp2 to value\n",
    "resolution": "Because it is not supposed to... ++ and -- are not atomic operations (unlike Interlocked.XXXX opreations - Interlocked.Increment). If you write down each step of ++ and -- and see how both can be intermixed by different threads you'll see why: increment 1: load value to temp 2: add temp, 1 3: store temp to value decrement 4: load value to temp2 5: substruct temp2, 1 6: store temp2 to value So if order is 1,2,3,4,5,6 you get value = 0; but if order is 1,2,4,5,6,3 you get value = 1.",
    "severity": "low",
    "tags": [
      "c#",
      "multithreading"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "5412673",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 387,
      "stackoverflow_creation_date": "2011-03-23T22:52:28.083Z"
    },
    "idempotency_key": "stackoverflow-5412673",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PHP filter_input: how to return NULL when it is empty from the input",
    "body": "How can I return NULL with filter_input when the input is empty? $title = filter_input(INPUT_POST, 'title'); var_dump($title); it returns, string '' (length=0) but I want, null Thanks.",
    "code": "$title = filter_input(INPUT_POST, 'title');\nvar_dump($title);\n\n\nstring '' (length=0)\n\n\nnull\n\n\nfilter_input\n\n# Solution Code:\nFILTER_NULL_ON_FAILURE\n\nstrlen()",
    "resolution": "The NULL should have been FILTER_NULL_ON_FAILURE. But that doesn't do what you want either. Why do you need it to be NULL? The reason you are getting string (0) is because the post field is available in the form. The field is just empty. If you want it to be NULL the field should not be there. $foo = filter_input(INPUT_POST, 'foo', FILTER_SANITIZE_STRING, array('options' => array('default' => NULL))); var_dump($foo); So go with strlen(). Or make sure the field is not there when you don't need it.",
    "severity": "medium",
    "tags": [
      "php",
      "filter",
      "null",
      "filter-input"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "5426716",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5137,
      "stackoverflow_creation_date": "2011-03-24T23:14:13.220Z"
    },
    "idempotency_key": "stackoverflow-5426716",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Making an object listen to Activity lifecycle events?",
    "body": "One of the classes I've written needs to react when the following Activity events occur: onStart() onPause() onResume() onStop() I can react to those on the Activity itself: public class Activity extends ApplicationContext { protected void onCreate(Bundle savedInstanceState); protected void onStart(); protected void onRestart(); protected void onResume(); protected void onPause(); protected void onStop(); protected void onDestroy(); } From the Activity I could tell the object in question that a certain event has occurred, but I don't like this idea: it requires the developer to implement the logic outside my object/class. Ideally I would like the object to be responsible for registering these events and set itself as a listener, independent of the Activity. Any ideas? Thanks in advance.",
    "code": "public class Activity extends ApplicationContext\n{\n    protected void onCreate(Bundle savedInstanceState);\n\n    protected void onStart();\n\n    protected void onRestart();\n\n    protected void onResume();\n\n    protected void onPause();\n\n    protected void onStop();\n\n    protected void onDestroy();\n}\n\n\nActivity\n\nActivity\n\nobject/class\n\nActivity",
    "severity": "medium",
    "tags": [
      "android",
      "activity-lifecycle"
    ],
    "metadata": {
      "stackoverflow_question_id": "5508130",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 5113,
      "stackoverflow_creation_date": "2011-04-01T00:54:23.113Z"
    },
    "idempotency_key": "stackoverflow-5508130",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "upgrade window.open popup to jQuery UI Dialog",
    "body": "I've created a form with a button. If users click the button, browser will generate a popup for user to upload and crop a photo. onclick=\"window.open('upload.php');\" if uploaded window.opener.document.getElementById the popup will return the cropped pic to the opener window (form) document.getElementById(\"errMsg\").innerHTML=\"<input type=\\'button\\' onclick=\\'window.close();\\' value=\\'Use this pic\\'>\"; Finally, the popup will generate a \"Use this pic\" button. Now, I want to upgrade this popup to jQuery Dialog to make it polish. How can I do that? http://jqueryui.com/demos/dialog/#default",
    "code": "onclick=\"window.open('upload.php');\"\n\n\nwindow.opener.document.getElementById\n\n\ndocument.getElementById(\"errMsg\").innerHTML=\"&lt;input type=\\'button\\'\nonclick=\\'window.close();\\' value=\\'Use this pic\\'&gt;\";\n\n\n# Solution Code:\n$(document).ready(function () {\n    $('#initUpload').click(function (event) {\n        $('#Dialog').dialog();\n        setTimeout(function () {\n        // upload completes\n                $('#errMsg')\n                    .html(\"&lt;input type=\\'button\\' value=\\'Use this pic\\'&gt;\")\n                    .click(function () {\n                         $('#Dialog').dialog('close');        \n                    });\n        }, 1500);\n    });\n});\n\n\n&lt;input type=\"button\" id=\"initUpload\" value=\"Upload\" /&gt;\n&lt;div id=\"Dialog\" style=\"display: none\"&gt;\n    Upload content here\n    &lt;div id=\"errMsg\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n",
    "resolution": "I hope I got what exactly you're trying to achieve. Here is jsfiddle example: http://jsfiddle.net/nNw33/3/ Here is the code: $(document).ready(function () { $('#initUpload').click(function (event) { $('#Dialog').dialog(); setTimeout(function () { // upload completes $('#errMsg') .html(\"<input type=\\'button\\' value=\\'Use this pic\\'>\") .click(function () { $('#Dialog').dialog('close'); }); }, 1500); }); }); HTML: <input type=\"button\" id=\"initUpload\" value=\"Upload\" /> <div id=\"Dialog\" style=\"display: none\"> Upload content here <div id=\"errMsg\"></div> </div>",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery-ui",
      "popup",
      "window.open",
      "window.opener"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "5530301",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 5823,
      "stackoverflow_creation_date": "2011-04-03T14:52:19.160Z"
    },
    "idempotency_key": "stackoverflow-5530301",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Can I append twice the same object to an InstrumentedList in SQLAlchemy?",
    "body": "I have a pretty simple N:M relationship in SqlAlchemy 0.6.6. I have a class \"attractLoop\" that can contain a bunch of Media (Images or Videos). I need to have a list in which the same Media (let's say image) can be appended twice. The relationship is as follows: The media is a base class with most of the attributes Images and Videos will share. class BaseMedia(BaseClass.BaseClass, declarativeBase): __tablename__ = \"base_media\" _polymorphicIdentity = Column(\"polymorphic_identity\", String(20), key=\"polymorphicIdentity\") __mapper_args__ = { 'polymorphic_on': _polymorphicIdentity, 'polymorphic_identity': None } _name = Column(\"name\", String(50)) _type = Column(\"type\", String(50)) _size = Column(\"size\", Integer) _lastModified = Column(\"last_modified\", DateTime, key=\"lastModified\") _url = Column(\"url\", String(512)) _thumbnailFile = Column(\"thumbnail_file\", String(512), key=\"thumbnailFile\") _md5Hash = Column(\"md5_hash\", LargeBinary(32), key=\"md5Hash\") Then the class who is going to use these \"media\" things: class TestSqlAlchemyList(BaseClass.BaseClass, declarativeBase): __tablename__ = \"tests\" _mediaItems = relationship(\"BaseMedia\", secondary=intermediate_test_to_media, primaryjoin=\"tests.c.id == intermediate_test_to_media.c.testId\", secondaryjoin=\"base_media.c.id == intermediate_test_to_media.c.baseMediaId\", collection_class=list, uselist=True ) def __init__(self): super(TestSqlAlchemyList, self).__init__() self.mediaItems = list() def getMediaItems(self): return self._mediaItems def setMediaItems(self, mediaItems): if mediaItems: self._mediaItems = mediaItems else: self._mediaItems = list() def addMediaItem(self, mediaItem): self.mediaItems.append(mediaItem) #log.debug(\"::addMediaItem > Added media item %s to %s. Now length is %d (contains: %s)\" % (mediaItem.id, self.id, len(self.mediaItems), list(item.id for item in self.mediaItems))) def addMediaItemById(self, mediaItemId): mediaItem = backlib.media.BaseMediaManager.BaseMediaManager.getById(int(mediaItemId)) if mediaItem: if mediaItem.validityCheck(): self.addMediaItem(mediaItem) else: raise TypeError(\"Media item with id %s didn't pass the validity check\" % mediaItemId) else: raise KeyError(\"Media Item with id %s not found\" % mediaItem) mediaItems = synonym('_mediaItems', descriptor=property(getMediaItems, setMediaItems)) And the intermediate class to link both of the tables: intermediate_test_to_media = Table( \"intermediate_test_to_media\", Database.Base.metadata, Column(\"id\", Integer, primary_key=True), Column(\"test_id\", Integer, ForeignKey(\"tests.id\"), key=\"testId\"), Column(\"base_media_id\", Integer, ForeignKey(\"base_media.id\"), key=\"baseMediaId\") ) When I append the same Media object (instance) twice to one instances of that TestSqlAlchemyList, it appends two correctly, but when I retrieve the TestSqlAlchemyList instance from the database, I only get one. It seems to be behaving more like a set. The intermediate table has properly all the information, so the insertion seems to be working fine. Is when I try to load the list from the database when I don't get all the items I had inserted. mysql> SELECT * FROM intermediate_test_to_media; +----+---------+---------------+ | id | test_id | base_media_id | +----+---------+---------------+ | 1 | 1 | 1 | | 2 | 1 | 1 | | 3 | 1 | 2 | | 4 | 1 | 2 | | 5 | 1 | 1 | | 6 | 1 | 1 | | 7 | 2 | 1 | | 8 | 2 | 1 | | 9 | 2 | 1 | | 10 | 2 | 2 | | 11 | 2 | 1 | | 12 | 2 | 1 | As you can see, the \"test\" instance with id=1 should have the media [1, 1, 2, 2, 1, 1]. Well, it doesn't. When I load it from the DB, it only has the media [1, 2] I have tried to set any parameter in the relationship that could possibly smell to list... uselist, collection_class = list... Nothing... You will see that the classes inherit from a BaseClass. That's just a class that isn't actually mapped to any table but contains a numeric field (\"id\") that will be the primary key for every class and a bunch of other methods useful for the rest of the classes in my system (toJSON, toXML...). Just in case, I'm attaching an excerpt of it: class BaseClass(object): _id = Column(\"id\", Integer, primary_key=True, key=\"id\") def __hash__(self): return int(self.id) def setId(self, id): try: self._id = int(id) except TypeError: self._id = None def getId(self): return self._id @declared_attr def id(cls): return synonym('_id', descriptor=property(cls.getId, cls.setId)) If anyone can give me a push, I'll appreciate it a lot. Thank you. And sorry for the huge post... I don't really know how to explain better.",
    "code": "class BaseMedia(BaseClass.BaseClass, declarativeBase):\n    __tablename__ = \"base_media\"\n    _polymorphicIdentity = Column(\"polymorphic_identity\", String(20), key=\"polymorphicIdentity\")\n    __mapper_args__ = {\n        'polymorphic_on': _polymorphicIdentity,\n        'polymorphic_identity': None\n    }\n\n    _name = Column(\"name\", String(50))\n    _type = Column(\"type\", String(50))\n    _size = Column(\"size\", Integer)\n    _lastModified = Column(\"last_modified\", DateTime, key=\"lastModified\")\n    _url = Column(\"url\", String(512))\n    _thumbnailFile = Column(\"thumbnail_file\", String(512), key=\"thumbnailFile\")\n    _md5Hash = Column(\"md5_hash\", LargeBinary(32), key=\"md5Hash\")\n\n\nclass TestSqlAlchemyList(BaseClass.BaseClass, declarativeBase):\n    __tablename__ = \"tests\"\n    _mediaItems = relationship(\"BaseMedia\",\n                               secondary=intermediate_test_to_media,\n                               primaryjoin=\"tests.c.id == intermediate_test_to_media.c.testId\",\n                               secondaryjoin=\"base_media.c.id == intermediate_test_to_media.c.baseMediaId\",\n                               collection_class=list,\n                               uselist=True\n                               )\n\n    def __init__(self):\n        super(TestSqlAlchemyList, self).__init__()\n        self.mediaItems = list()\n\n    def getMediaItems(self):\n        return self._mediaItems\n\n    def setMediaItems(self, mediaItems):\n        if mediaItems:\n            self._mediaItems = mediaItems\n        else:\n            self._mediaItems = list()\n\n    def addMediaItem(self, mediaItem):\n        self.mediaItems.append(mediaItem)\n        #log.debug(\"::addMediaItem &gt; Added media item %s to %s. Now length is %d (contains: %s)\" % (mediaItem.id, self.id, len(self.mediaItems), list(item.id for item in self.mediaItems)))\n\n    def addMediaItemById(self, mediaItemId):\n        mediaItem = backlib.media.BaseMediaManager.BaseMediaManager.getById(int(mediaItemId))\n        if mediaItem:\n            if mediaItem.validityCheck():\n                self.addMediaItem(mediaItem)\n            else:\n                raise TypeError(\"Media item with id %s didn't pass the validity check\" % mediaItemId)\n        else:\n            raise KeyError(\"Media Item with id %s not found\" % mediaItem)\n\n    mediaItems = synonym('_mediaItems', descriptor=property(getMediaItems, setMediaItems))\n\n\nintermediate_test_to_media = Table(\n                                   \"intermediate_test_to_media\",\n                                   Database.Base.metadata,\n                                   Column(\"id\", Integer, primary_key=True),\n                                   Column(\"test_id\", Integer, ForeignKey(\"tests.id\"), key=\"testId\"),\n                                   Column(\"base_media_id\", Integer, ForeignKey(\"base_media.id\"), key=\"baseMediaId\")\n                                   )\n\n\nmysql&gt; SELECT * FROM intermediate_test_to_media;\n+----+---------+---------------+\n| id | test_id | base_media_id |\n+----+---------+---------------+\n|  1 |       1 |             1 |\n|  2 |       1 |             1 |\n|  3 |       1 |             2 |\n|  4 |       1 |             2 |\n|  5 |       1 |             1 |\n|  6 |       1 |             1 |\n|  7 |       2 |             1 |\n|  8 |       2 |             1 |\n|  9 |       2 |             1 |\n| 10 |       2 |             2 |\n| 11 |       2 |             1 |\n| 12 |       2 |             1 |\n\n\nclass BaseClass(object):\n    _id = Column(\"id\", Integer, primary_key=True, key=\"id\")\n    def __hash__(self):\n        return int(self.id)\n\n    def setId(self, id):\n            try:\n                    self._id = int(id)\n            except TypeError:\n                    self._id = None\n\n    def getId(self):\n        return self._id\n\n    @declared_attr\n    def id(cls):\n        return synonym('_id', descriptor=property(cls.getId, cls.setId))\n",
    "severity": "medium",
    "tags": [
      "python",
      "list",
      "sqlalchemy",
      "multiple-instances",
      "adjacency-list"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "5656715",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2777,
      "stackoverflow_creation_date": "2011-04-13T23:01:52.613Z"
    },
    "idempotency_key": "stackoverflow-5656715",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sort Array in assending order..?",
    "body": "Sorry for asking silly question.. I have an array with class objects like: Class User { NSString *firstName, *LastName; } @property (nonatomic, retail) NSString *firstName; @property (nonatomic, retail) NSString *LastName; I am creating object of this class and adding it in NSMutableArray. Now I want to sort this array by the first name.. Any idea please. Can I use NSSortDescriptor for sorting this array or I have to use my custom logic. I had done this thing earlier but now I forgot this and don't have source code for that right now... Please help me.. Thanks EDIT: I got few kind replies and I tried but not working. I am parsing JSON so there will be unknown number of objects in myArray. So I used : NSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@\"firstName\" ascending:YES]; [myArray sortUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]]; and NSMutableArray *tempArray = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]]; but nothing worked.. Edit 2 Here is the description: Array \"<User: 0xa3f13c0>\", \"<User: 0xa3f1410>\", \"<User: 0xa3f1450>\", \"<User: 0xa3f1490>\" Sorted Array \"<User: 0xa3f13c0>\", \"<User: 0xa3f1410>\", \"<User: 0xa3f1490>\", \"<User: 0xa3f1450>\" In for Loop: Array John abc test qwertg Sorted Array John abc test qwertg",
    "code": "Class User {\n     NSString *firstName, *LastName;\n}\n@property (nonatomic, retail) NSString *firstName;\n@property (nonatomic, retail) NSString *LastName;\n\n\nNSSortDescriptor *sortDescriptor = [NSSortDescriptor sortDescriptorWithKey:@\"firstName\" ascending:YES];\n[myArray sortUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]];\n\n\n NSMutableArray *tempArray = [myArray sortedArrayUsingDescriptors:[NSArray arrayWithObject:sortDescriptor]];\n\n\n    \"&lt;User: 0xa3f13c0&gt;\",\n    \"&lt;User: 0xa3f1410&gt;\",\n    \"&lt;User: 0xa3f1450&gt;\",\n    \"&lt;User: 0xa3f1490&gt;\"\n\n\n\"&lt;User: 0xa3f13c0&gt;\",\n\"&lt;User: 0xa3f1410&gt;\",\n\"&lt;User: 0xa3f1490&gt;\",\n\"&lt;User: 0xa3f1450&gt;\"\n\n\nJohn\nabc\ntest\nqwertg\n\n\nJohn\nabc\ntest\nqwertg\n\n\nEDIT:\n\nEdit 2\n\n# Solution Code:\n[yourArray sortUsingComparator:^(id obj1, id obj2){\n\n        User* u1 = (User*)obj1;\n        User* u2 = (User*)obj2;\n        return [u1.firstName compare:u2.firstName];\n    }];\n\n\n[yourArray sortUsingComparator:^(id obj1, id obj2){\n\n        User* u1 = (User*)obj1;\n        User* u2 = (User*)obj2;\n        return [u1.firstName caseInsensitiveCompare:u2.firstName];\n    }];\n\n\nsortUsingComparator:\n\ncaseInsensitiveCompare:",
    "resolution": "If you're targeting iOS4+ then you can use sortUsingComparator: method: [yourArray sortUsingComparator:^(id obj1, id obj2){ User* u1 = (User*)obj1; User* u2 = (User*)obj2; return [u1.firstName compare:u2.firstName]; }]; Edit: As compare method takes into account character case you may need to use caseInsensitiveCompare: method instead of it: [yourArray sortUsingComparator:^(id obj1, id obj2){ User* u1 = (User*)obj1; User* u2 = (User*)obj2; return [u1.firstName caseInsensitiveCompare:u2.firstName]; }];",
    "severity": "medium",
    "tags": [
      "iphone",
      "objective-c",
      "nsmutablearray",
      "nssortdescriptor"
    ],
    "metadata": {
      "stackoverflow_question_id": "5816017",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2710,
      "stackoverflow_creation_date": "2011-04-28T08:50:35.850Z"
    },
    "idempotency_key": "stackoverflow-5816017",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Function and procedure behave differently with the same code in Mozart Oz?",
    "body": "I try printing out the Fibonacci sequence in Oz using 2 approach : function and procedure using Emac as editor. Procedure goes here : declare fun {Fibo N} case N of 1 then 1 [] 2 then 1 [] M then {Fibo (M-1)} + {Fibo (M-2)} end end declare proc {Loop K} if K ==1 then {Browse K} else {Loop K-1} {Browse {Fibo K}} end end {Loop 10} and function: declare fun {Fibo N} case N of 1 then 1 [] 2 then 1 [] M then {Fibo (M-1)} + {Fibo (M-2)} end end declare fun {Loo L} if L ==1 then {Browse L} else {Loo L-1} {Browse {Fibo L}} end end {Loo 10} The problem is the only Procedure \"Loop\" works. Result is: 1 1 2 3 5 8 13 21 34 55 Function \"Loo\" doesn't and it throws some hard-to-understand errors: %********************** static analysis error ******************* %** %** illegal arity in application %** %** Arity found: 1 %** Expected: 2 %** Application (names): {Loo _} %** Application (values): {<P/2> _<optimized>} %** in file \"Oz\", line 13, column 6 %********************** static analysis error ******************* %** %** illegal arity in application %** %** Arity found: 1 %** Expected: 2 %** Application (names): {Loo _} %** Application (values): {<P/2> 10} %** in file \"Oz\", line 17, column 0 %** ------------------ rejected (2 errors) I still don't know why. As I think function and procedure has similar effect in OZ.",
    "code": "declare \nfun {Fibo N} \n   case N of \n      1 then 1 \n   [] 2 then 1\n[] M then {Fibo (M-1)} + {Fibo (M-2)} \n   end \nend \ndeclare\nproc {Loop K}\n   if K ==1 then  {Browse K}\n   else\n      {Loop K-1}\n       {Browse {Fibo K}}\n   end\nend\n{Loop 10}\n\n\ndeclare \nfun {Fibo N} \n   case N of \n      1 then 1 \n   [] 2 then 1\n[] M then {Fibo (M-1)} + {Fibo (M-2)} \n   end \nend\ndeclare\nfun {Loo L}\n   if L ==1 then  {Browse L}\n   else\n      {Loo L-1}\n       {Browse {Fibo L}}\n   end\nend\n{Loo 10}\n\n\n1\n1\n2\n3\n5\n8\n13\n21\n34\n55\n\n\n%********************** static analysis error *******************\n%**\n%** illegal arity in application\n%**\n%** Arity found:          1\n%** Expected:             2\n%** Application (names):  {Loo _}\n%** Application (values): {&lt;P/2&gt; _&lt;optimized&gt;}\n%** in file \"Oz\", line 13, column 6\n\n%********************** static analysis error *******************\n%**\n%** illegal arity in application\n%**\n%** Arity found:          1\n%** Expected:             2\n%** Application (names):  {Loo _}\n%** Application (values): {&lt;P/2&gt; 10}\n%** in file \"Oz\", line 17, column 0\n%** ------------------ rejected (2 errors)\n\n\n# Solution Code:\n_ = {Loo 10}\n\n\n{Loo 10 _}\n\n\nfun {Loo L}\n   if L == 1 then\n      {Browse L}\n      unit\n   else\n      _ = {Loo L-1}\n      {Browse {Fibo L}}\n      unit\n   end\nend\n_ = {Loo 10}\n\n\n_\n\nLoo",
    "resolution": "Functions must be called either with function call syntax: _ = {Loo 10} or alternatively with an additional parameter to receive the value: {Loo 10 _} _ is pronounced \"don't care\" and means that the value of the variable is not needed. Also, functions must return a value by having an expression as the last part of every branch. So your fixed Loo function would look like this: fun {Loo L} if L == 1 then {Browse L} unit else _ = {Loo L-1} {Browse {Fibo L}} unit end end _ = {Loo 10} However, using a function for looping like this does not make much sense if you don't have anything interesting to return. Maybe what you really want is to build a list and return it as the result?",
    "severity": "medium",
    "tags": [
      "function",
      "procedure",
      "oz",
      "mozart"
    ],
    "metadata": {
      "stackoverflow_question_id": "5830238",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 4381,
      "stackoverflow_creation_date": "2011-04-29T09:16:16.550Z"
    },
    "idempotency_key": "stackoverflow-5830238",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why closure in ajax call has access to the outer scope?",
    "body": "I read about JavaScript closures and I thought that I understood it, but apparently I didn't. The success function is called when request is succeeded. This means that when the closure (function () { return obj; })(); is executed the scope, inside success function, is NOT function (evt) {...} anymore, so how it can still access obj? How the closure work in this example EDITED(there is var before obj) function (evt) { var obj = evt.data.obj, $.ajax({ type: \"POST\", url: url, data: data, success: function () { var o = (function () { return obj; })(); } }); }",
    "code": "function (evt) {\n           var obj = evt.data.obj,\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                data: data,\n                success: function () {\n                    var o = (function () {\n                        return obj;\n                    })();\n                }                    \n            });\n}\n\n\nfunction (evt) {...}\n\n# Solution Code:\nvar\n\nobj",
    "resolution": "In JS, scope is limited by function. Everything inside a function to which a variable is scoped can access that variable — including other functions — unless there is another variable of the same name in a narrower scope. That said, in this example there is no var keyword to localise the scope of the obj anyway, so it is a global. Removed after edit of question",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "closures"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "5869401",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1143,
      "stackoverflow_creation_date": "2011-05-03T12:25:20.767Z"
    },
    "idempotency_key": "stackoverflow-5869401",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot remove trailing space in SQL Server 2005",
    "body": "This is in SQL Server 2005. I have a varchar column and some rows contain trailing space, e.g. abc, def. I tried removing the trailing space with this command: update thetable set thecolumn = rtrim(thecolumn) But the trailing space remains. I tried to find them using: select * from thetable where thecolumn <> rtrim(thecolumn) But it returned nothing. Are there some settings that I am not aware that influences trailing space check? EDIT: I know that there is trailing space from SSMS, when I copy paste the value from the grid to the editor, it has trailing space.",
    "code": "update thetable \nset thecolumn = rtrim(thecolumn)\n\n\nselect * \nfrom thetable \nwhere thecolumn &lt;&gt; rtrim(thecolumn)\n\n\nvarchar\n\nabc\n\ndef\n\n# Solution Code:\nupdate thetable set thecolumn = rtrim(replace(thecolumn, char(160), char(32)))\n",
    "resolution": "Check if the spaces that are not removed have the ASCII code 32. Try this to replace \"hard space\" with \"soft space\": update thetable set thecolumn = rtrim(replace(thecolumn, char(160), char(32))) the query was missing equal sign",
    "severity": "high",
    "tags": [
      "sql-server"
    ],
    "metadata": {
      "stackoverflow_question_id": "5870394",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 12745,
      "stackoverflow_creation_date": "2011-05-03T13:42:52.243Z"
    },
    "idempotency_key": "stackoverflow-5870394",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "pip freeze without dependencies of installed packages",
    "body": "When I do pip freeze I get the packages I've explicitly installed plus those packages that are dependencies of those packages. For example: $ pip install fabric ... $ pip freeze Fabric==1.0.1 paramiko==1.7.6 pycrypto==2.3 Ok fine but then I move to install this requirements.txt on another environment with pip install I'd get the same result with the last 2 lines removed. So my question is: how I can I create the most simplified requirements.txt where all calculable dependencies are not shown?",
    "code": "$ pip install fabric\n...\n$ pip freeze\nFabric==1.0.1\nparamiko==1.7.6\npycrypto==2.3\n\n\npip freeze\n\npip install\n\n# Solution Code:\npip-chill\n\npip-chill\n\npip-chill --no-version",
    "resolution": "Now there is (disclaimer: I did it). All you need is to install pip-chill from PyPI and run pip-chill from your Python environment. If you are feeling adventurous and don't want to pin versions (or want to use pip-compile), you can use pip-chill --no-version and it'll give you the minimal requirements for your current environment. https://github.com/rbanffy/pip-chill",
    "severity": "high",
    "tags": [
      "python",
      "pip",
      "requirements.txt"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "5900201",
      "stackoverflow_score": 75,
      "stackoverflow_view_count": 46191,
      "stackoverflow_creation_date": "2011-05-05T15:19:54.620Z"
    },
    "idempotency_key": "stackoverflow-5900201",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "OSX Loading dylib Lua Module",
    "body": "When trying to load a Lua module on OSX I receive the following error. lua: level1.lua:1: module 'libexpand_luaLib' not found: no field package.preload['libexpand_luaLib'] no file './libexpand_luaLib.lua' no file '/opt/local/share/lua/5.1/libexpand_luaLib.lua' no file '/opt/local/share/lua/5.1/libexpand_luaLib/init.lua' no file '/opt/local/lib/lua/5.1/libexpand_luaLib.lua' no file '/opt/local/lib/lua/5.1/libexpand_luaLib/init.lua' no file './libexpand_luaLib.so' no file '/opt/local/lib/lua/5.1/libexpand_luaLib.so' no file '/opt/local/lib/lua/5.1/loadall.so' stack traceback: [C]: in function 'require' level1.lua:1: in main chunk [C]: ? The lua interpreter is trying to load a .so file and not a .dylib file. I was under the impression that .dylib is the OSX equivalent(with slight changes) of .so. So I'd expect the Lua interpreter to be looking for a .dylib file. Should I be trying to compile my library into a .so on OSX?(If so how?) Or should I be changing something related to the lua interpreter?",
    "code": "lua: level1.lua:1: module 'libexpand_luaLib' not found:\n    no field package.preload['libexpand_luaLib']\n    no file './libexpand_luaLib.lua'\n    no file '/opt/local/share/lua/5.1/libexpand_luaLib.lua'\n    no file '/opt/local/share/lua/5.1/libexpand_luaLib/init.lua'\n    no file '/opt/local/lib/lua/5.1/libexpand_luaLib.lua'\n    no file '/opt/local/lib/lua/5.1/libexpand_luaLib/init.lua'\n    no file './libexpand_luaLib.so'\n    no file '/opt/local/lib/lua/5.1/libexpand_luaLib.so'\n    no file '/opt/local/lib/lua/5.1/loadall.so'\nstack traceback:\n    [C]: in function 'require'\n    level1.lua:1: in main chunk\n    [C]: ?\n",
    "severity": "medium",
    "tags": [
      "macos",
      "lua",
      "dylib",
      "shared-libraries"
    ],
    "metadata": {
      "stackoverflow_question_id": "5900816",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2200,
      "stackoverflow_creation_date": "2011-05-05T16:02:24.913Z"
    },
    "idempotency_key": "stackoverflow-5900816",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "WPF validation - ValidatesOnTargetUpdated",
    "body": "I have a number of textboxes in a WPF app on which I have set up some validation. On load the app deserialises a class onto which the WPF window's controls are bound. I have a ValidationRule that (for example) tests that a file exists. If I don't set ValidatesOnTargetUpdated then the corresponding TextBox validates when I change the (bound) Text Property and I see the (default) red border appear and a Tooltip ({Binding RelativeSource={x:Static RelativeSource.Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}) displaying the error message. I want the controls to validate on binding rather than on propertychanged so I have set the ValidatesOnTargetUpdated to true and can see the validationRule firing when debugging. My problem is that the (default) ValidationTemplate is ignored when ValidatesOnTargetUpdated=\"True\" despite the ValidationRule firing. I can see the Tooltip - it appears with the correct error message but the border doesn't show as Red; this seems to be ignored. Any ideas why this would be happening?",
    "code": "{Binding RelativeSource={x:Static RelativeSource.Self}, Path=(Validation.Errors).CurrentItem.ErrorContent}\n\nValidatesOnTargetUpdated=\"True\"",
    "severity": "medium",
    "tags": [
      "wpf",
      "validation",
      "textbox",
      "validationrules"
    ],
    "metadata": {
      "stackoverflow_question_id": "5940478",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5045,
      "stackoverflow_creation_date": "2011-05-09T17:39:59.343Z"
    },
    "idempotency_key": "stackoverflow-5940478",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Extremely weird IE7/8 border/opacity compatibility issue",
    "body": "The weird problem is borders disappearing when Opacity is applied in IE/8/9, but NOT in 7! I've basically got a menu with tabs on top of the screen. I.e: <table> <tr> <td class=\"tab\">button 1...<*/td> <td class=\"tab\">button 2....<*/td> . . . </tr> </table> <style> td { opacity: 0.45; filter:alpha(opacity=45); . . . } td.tab:hover { opacity: 1; filter:alpha(opacity=100); } Sorry about the stars, I couldn't get the code block formatting working right. Basically this is just supposed to unfade the buttons when the mouse is hovered over them, but the borders just disappear! This problem only occurs on IE8/9, but everything works fine on IE7,FF,Chrome,Safari. I've trawled the internet looking for some weird IE8+ border/opacity issues, but there don't seem to be any. Has anyone encountered something similar?",
    "code": "&lt;table&gt;  \n &lt;tr&gt;  \n  &lt;td class=\"tab\"&gt;button 1...&lt;*/td&gt;  \n  &lt;td class=\"tab\"&gt;button 2....&lt;*/td&gt;  \n  .  \n  .  \n  .  \n &lt;/tr&gt;  \n &lt;/table&gt;  \n\n &lt;style&gt;  \n td  \n {  \n    opacity: 0.45;  \n    filter:alpha(opacity=45);  \n    .  \n    .  \n    .  \n }  \n td.tab:hover  \n {  \n    opacity: 1;  \n    filter:alpha(opacity=100);  \n }  \n\n\n# Solution Code:\n-ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\";\n\n\nfilter\n\n-ms-filter\n\nfilter\n\nopacity",
    "resolution": "The filter style is for IE7 and lower only. IE8 requires you to use -ms-filter (ie with a vendor prefix) instead. Plus the syntax is more complex in IE8. It looks like this: -ms-filter:\"progid:DXImageTransform.Microsoft.Alpha(Opacity=50)\"; IE9 drops support for filter entirely, and replaces it with standard CSS3 opacity, which works the same as it does in all other browsrs. Quirksmode.org has the full details: http://www.quirksmode.org/css/opacity.html",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "internet-explorer",
      "html-table",
      "border"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "5995189",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 3169,
      "stackoverflow_creation_date": "2011-05-13T16:46:49.717Z"
    },
    "idempotency_key": "stackoverflow-5995189",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is there an method in Rails3 / ruby gem, which maps status codes to messages?",
    "body": "Such as 200 => Found 403 => Not authorized 404 => Not found I'm guessing Rails 3 already has this functionality as you can pass a hash to render :status => :not_found, I just can't find the method to do it the other way. If not does anyone know of a gem which can do this?",
    "code": "200 =&gt; Found\n403 =&gt; Not authorized\n404 =&gt; Not found\n\n\nrender :status =&gt; :not_found\n\n# Solution Code:\nirb(main):001:0&gt; Rack::Utils::HTTP_STATUS_CODES[200]\n=&gt; \"OK\"\nirb(main):002:0&gt; Rack::Utils::HTTP_STATUS_CODES[403]\n=&gt; \"Forbidden\"\nirb(main):003:0&gt; Rack::Utils::HTTP_STATUS_CODES[404]\n=&gt; \"Not Found\"\n\n\nirb(main):004:0&gt; Rack::Utils.status_code(:ok)\n=&gt; 200\nirb(main):005:0&gt; Rack::Utils.status_code(:forbidden)\n=&gt; 403\nirb(main):006:0&gt; Rack::Utils.status_code(:not_found)\n=&gt; 404\n",
    "resolution": "irb(main):001:0> Rack::Utils::HTTP_STATUS_CODES[200] => \"OK\" irb(main):002:0> Rack::Utils::HTTP_STATUS_CODES[403] => \"Forbidden\" irb(main):003:0> Rack::Utils::HTTP_STATUS_CODES[404] => \"Not Found\" or irb(main):004:0> Rack::Utils.status_code(:ok) => 200 irb(main):005:0> Rack::Utils.status_code(:forbidden) => 403 irb(main):006:0> Rack::Utils.status_code(:not_found) => 404",
    "severity": "medium",
    "tags": [
      "ruby",
      "ruby-on-rails-3",
      "render",
      "http-status-codes"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "6013102",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 2398,
      "stackoverflow_creation_date": "2011-05-16T04:12:44.417Z"
    },
    "idempotency_key": "stackoverflow-6013102",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Conditional CSS not loaded by IE7 and IE8",
    "body": "I have a bunch of CSS written that makes my site target Mobile first, then I use CSS Media Queries to load another stylesheet for desktop browsers. I do this since there are so many mobile browsers that don't understand CSS Media Queries, and it's more likely that desktop users have modern browsers that support this. I have the following CSS that works in all modern browsers (IE9, Chrome, Firefox 3.6+, Safari 4+5): I then realized that IE7 and IE8 don't support CSS Media Queries so the above wouldn't work. So I added a conditional statement to load it: <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/mobile.css\" media=\"all\"/> <!-- [if lt IE 9]> <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"all\" /> <! [endif] --> <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"only screen and (min-width: 640px)\" /> However, using IE Tester and Browsershots, I've confirmed that the desktop.css is not loading in IE 7 and 8. It seems to be ignoring that stylesheet completely. I then tried changing the conditional statement to <!-- [if IE 8]> but that didn't have any effect. Lastly, I removed the condition statement altogether, resulting in this code: <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/mobile.css\" media=\"all\"/> <link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"all\" /> This last attempt results in my desktop.css being loaded in IE7 and IE8. So this proves the CSS is OK. Just looks like my conditional statement isn't being triggered. Any ideas what I'm doing wrong?",
    "code": "&lt;link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/mobile.css\" media=\"all\"/&gt;\n&lt;!-- [if lt IE 9]&gt;\n&lt;link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"all\" /&gt;\n&lt;! [endif] --&gt;  \n&lt;link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"only screen and (min-width: 640px)\" /&gt;\n\n\n&lt;link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/mobile.css\" media=\"all\"/&gt;\n&lt;link rel=\"Stylesheet\" type=\"text/css\" href=\"/css/desktop.css\" media=\"all\" /&gt;\n\n\ndesktop.css\n\n&lt;!-- [if IE 8]&gt;\n\n# Solution Code:\n&lt;!--[if IE 8]&gt;\n...\n&lt;![endif]--&gt;\n",
    "resolution": "Remove the spaces. This breaks the conditional syntax. Otherwise, IE is treating it like a normal comment. <!--[if IE 8]> ... <![endif]-->",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "internet-explorer-8",
      "internet-explorer-7"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "6039183",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5195,
      "stackoverflow_creation_date": "2011-05-18T02:17:01.747Z"
    },
    "idempotency_key": "stackoverflow-6039183",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "multiple Sorts with generic memberexpressions",
    "body": "Edit 2019-01-31: Latest solution I've followed examples here and here to create a generic sort with memberexpressions, but I can't figure out how I'm supposed to add a \"ThenBy\" clause, or combine multiple columns for sorting in the methodcallexpression. Ideally, the ThenBy should go before skip, but it can't because it can't see the orderby clause that I made with the methodcallexpression. GridSortExpression is a Telerik class - it just describes which column and direction the query should be sorted. Can anyone shed some light? Here is what I have right now: Dim exp As Expressions.Expression(Of Func(Of Product_Catalog, Boolean)) = PredicateBuilder.True(Of Product_Catalog)() exp = exp.And(Function(e) e.Chapter_Price > 30) Dim sortExpression As New List(Of GridSortExpression)({New GridSortExpression() With {.SortOrder = GridSortOrder.Descending, .FieldName = \"Id\"}}) If sortExpression.Count = 0 Then catalogList = con.Product_Catalogs.AsExpandable.Where(exp).OrderBy(Function(o) o.Item_Type).ThenBy(Function(o) o.Item_Description).Skip(startRowIndex).Take(maximumRows).ToList Else Dim param As ParameterExpression = Expression.Parameter(GetType(Product_Catalog), String.Empty) Dim prop As MemberExpression = Expression.PropertyOrField(param, sortExpression(0).FieldName) Dim sort As LambdaExpression = Expression.Lambda(prop, param) Dim source = con.Product_Catalogs.AsExpandable.Where(exp) Dim resultExp As MethodCallExpression resultExp = Expression.[Call](GetType(Queryable), \"OrderBy\" & If(sortExpression(0).SortOrder = GridSortOrder.Descending, \"Descending\", \"\"), _ New Type() {GetType(Product_Catalog), prop.Type}, con.Product_Catalogs.AsExpandable.Where(exp).Expression, Expression.Quote(sort)) catalogList = source.Provider.CreateQuery(Of Product_Catalog)(resultExp).Skip(startRowIndex).Take(maximumRows).ToList End If",
    "code": "Dim exp As Expressions.Expression(Of Func(Of Product_Catalog, Boolean)) = PredicateBuilder.True(Of Product_Catalog)()\nexp = exp.And(Function(e) e.Chapter_Price &gt; 30)\nDim sortExpression As New List(Of GridSortExpression)({New GridSortExpression() With {.SortOrder = GridSortOrder.Descending, .FieldName = \"Id\"}})\nIf sortExpression.Count = 0 Then\n     catalogList = con.Product_Catalogs.AsExpandable.Where(exp).OrderBy(Function(o) o.Item_Type).ThenBy(Function(o) o.Item_Description).Skip(startRowIndex).Take(maximumRows).ToList\nElse\n     Dim param As ParameterExpression = Expression.Parameter(GetType(Product_Catalog), String.Empty)\n     Dim prop As MemberExpression = Expression.PropertyOrField(param, sortExpression(0).FieldName)\n     Dim sort As LambdaExpression = Expression.Lambda(prop, param)\n     Dim source = con.Product_Catalogs.AsExpandable.Where(exp)\n     Dim resultExp As MethodCallExpression\n     resultExp = Expression.[Call](GetType(Queryable), \"OrderBy\" &amp; If(sortExpression(0).SortOrder = GridSortOrder.Descending, \"Descending\", \"\"), _\n         New Type() {GetType(Product_Catalog), prop.Type}, con.Product_Catalogs.AsExpandable.Where(exp).Expression, Expression.Quote(sort))\n\n     catalogList = source.Provider.CreateQuery(Of Product_Catalog)(resultExp).Skip(startRowIndex).Take(maximumRows).ToList\nEnd If\n\n\n# Solution Code:\nPublic Class PropertySortComparer\nImplements IComparer\n\nPublic Delegate Function GetProp(ByVal obj As Object) As Object\nPublic SortProps As New List(Of GetProp)\n\nPublic Sub New(ParamArray SortMethods() As GetProp)\n    Me.SortProps.AddRange(SortMethods)\nEnd Sub\n\nPublic Function Compare(x As Object, y As Object) As Integer Implements System.Collections.IComparer.Compare\n    For Each gp As GetProp In SortProps\n        Dim xVal As Object = gp.Invoke(x)\n        Dim yVal As Object = gp.Invoke(y)\n        If xVal &gt; yVal Then\n            Return 1\n        ElseIf xVal &lt; yVal Then\n            Return -1\n        Else\n            'next loop does next property\n        End If\n    Next\n    Return 0\nEnd Function\nEnd Class\n\nPublic Module module1\nSub test()\n    Dim buffer As New List(Of Rectangle)\n    buffer.Add(New Rectangle(34, 55, 40, 30))\n    buffer.Add(New Rectangle(34, 55, 45, 38))\n    buffer.Add(New Rectangle(34, 56, 46, 30))\n    buffer.Add(New Rectangle(34, 70, 45, 30))\n\n    Dim Lst() As Rectangle = buffer.ToArray\n    Array.Sort(Lst, New PropertySortComparer(AddressOf Left, AddressOf Top, AddressOf Widht))\n    'Lst is now sorted by Left, Top, Width\nEnd Sub\n\nPublic Function Left(r As Object) As Object\n    Return r.Left\nEnd Function\n\nPublic Function Top(r As Object) As Object\n    Return r.Top\nEnd Function\n\nPublic Function Widht(r As Object) As Object\n    Return r.Width\nEnd Function\n\nEnd Module\n",
    "resolution": "Here is a very generic way to do property sorting without having to implement multiple sort comparers for each slightly different sort. it will allow any number of sort \"Columns\" (though you would need to enhance slightly to support different sort directions) The drawback is it's obviously not the most efficient, though the use of invoking delegates is far more efficient then using reflection. You also need to define a general function of the properties of the objects that you may want to sort by. By making it more object specific you may be able to fix that aspect... Public Class PropertySortComparer Implements IComparer Public Delegate Function GetProp(ByVal obj As Object) As Object Public SortProps As New List(Of GetProp) Public Sub New(ParamArray SortMethods() As GetProp) Me.SortProps.AddRange(SortMethods) End Sub Public Function Compare(x As Object, y As Object) As Integer Implements System.Collections.IComparer.Compare For Each gp As GetProp In SortProps Dim xVal As Object = gp.Invoke(x) Dim yVal As Object = gp.Invoke(y) If xVal > yVal Then Return 1 ElseIf xVal < yVal Then Return -1 Else 'next loop does next property End If Next Return 0 End Function End Class Public Module module1 Sub test() Dim buffer As New List(Of Rectangle) buffer.Add(New Rectangle(34, 55, 40, 30)) buffer.Add(New Rectangle(34, 55, 45, 38)) buffer.Add(New Rectangle(34, 56, 46, 30)) buffer.Add(New Rectangle(34, 70, 45, 30)) Dim Lst() As Rectangle = buffer.ToArray Array.Sort(Lst, New PropertySortComparer(AddressOf Left, AddressOf Top, AddressOf Widht)) 'Lst is now sorted by Left, Top, Width End Sub Public Function Left(r As Object) As Object Return r.Left End Function Public Function Top(r As Object) As Object Return r.Top End Function Public Function Widht(r As Object) As Object Return r.Width End Function End Module",
    "severity": "low",
    "tags": [
      "asp.net",
      "vb.net",
      "linq"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "6074878",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 624,
      "stackoverflow_creation_date": "2011-05-20T16:22:31.543Z"
    },
    "idempotency_key": "stackoverflow-6074878",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Wrapping text in C# dialog box",
    "body": "I've got a dialog box that pops up with a dynamic list of numbers, and I'd like to get the box to wrap the text because at the moment it displayed up to screen width and then cuts the rest off. I know I can use \\n to declare a new line, but the list is dynamic - it could be one item, it could be 20. Is there any way to tell the dialog box to wrap text? Edit: clarification + example code I'm not using MessageBox.Show() - our code uses its own defined message box class, but the guts of it calls System.Windows.Forms.Form.ShowDialog(parent). Maybe this isn't as well-behaved (i.e., doesn't wrap) as MessageBox.Show()?",
    "code": "\\n\n\nMessageBox.Show()\n\nSystem.Windows.Forms.Form.ShowDialog(parent)\n\nMessageBox.Show()",
    "severity": "medium",
    "tags": [
      "c#",
      "user-interface",
      "word-wrap"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "6186486",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4283,
      "stackoverflow_creation_date": "2011-05-31T10:53:46.857Z"
    },
    "idempotency_key": "stackoverflow-6186486",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "CSS media query on iPhone",
    "body": "I'm trying to use a CSS media query, specifically targeting the iPhone. It works when I use a regular link rel: <link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" /> However, when I try this media query it doesn't work: <link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" media=\"only screen and (max-width: 640px)\" /> How can I use a CSS media query to target the iPhone?",
    "code": "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" /&gt;\n\n\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" \n      media=\"only screen and (max-width: 640px)\" /&gt; \n\n\n# Solution Code:\n&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" media=\"only screen and (max-device-width: 480px)\" /&gt;\n\n\nmax-device-width\n\nmax-width",
    "resolution": "Try: <link rel=\"stylesheet\" type=\"text/css\" href=\"css/mobile.css\" media=\"only screen and (max-device-width: 480px)\" /> The difference is max-device-width instead of just max-width. Also see 2) on http://blogs.sitepoint.com/iphone-development-12-tips/.",
    "severity": "high",
    "tags": [
      "iphone",
      "css",
      "mobile-safari",
      "media-queries"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "6191590",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 15331,
      "stackoverflow_creation_date": "2011-05-31T18:03:07.610Z"
    },
    "idempotency_key": "stackoverflow-6191590",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Constraining a polymorphic type",
    "body": "I've got a range type defined as: type 'a range = Full | Range of ('a * 'a) However, I'd like to constrain 'a to be integer or float or char, with no other valid types for 'a. Range(0,10) (* valid *) Range(0.0, 10.0) (* valid *) Range('a', 'z') (* valid *) Range(\"string1\", \"string2\") (* other types like this shouldn't type check *) I figured that I could change my type definitions to: type sequential = S_int of int | S_float of float | S_char of char ;; type range = Full | Range of (sequential * sequential);; However, this would then allow something like: Range(S_int(0), S_float(10.0));; (* problem: mixes int and float *) ...but I want both components of Range to be the same type. I suppose that another approach would be to create an int_range type, a float_range type, and a char_range type but I'm wondering if there's another way?",
    "code": "type 'a range = Full | Range of ('a * 'a)\n\n\nRange(0,10) (* valid *)\nRange(0.0, 10.0) (* valid *)\nRange('a', 'z') (* valid *)\nRange(\"string1\", \"string2\") (* other types like this shouldn't type check *)\n\n\ntype sequential   = S_int of int | S_float of float | S_char of char ;;\ntype range = Full | Range of (sequential * sequential);;\n\n\nRange(S_int(0), S_float(10.0));; (* problem: mixes int and float *)\n\n\n# Solution Code:\nmodule Range (S : sig type t end) = struct\n  type range = Full | Range of (S.t * S.t)\nend\n\n\nmodule IntRange   = Range (struct type t = int   end)\nmodule FloatRange = Range (struct type t = float end)\nmodule CharRange  = Range (struct type t = char  end)\n\n\nmodule type SEQUENTIAL = sig\n  type t\n  val to_string : t -&gt; string\n  val compare : t -&gt; t -&gt; int\n  (* ... *)\nend\n\nmodule Range (S : SEQUENTIAL) = struct\n  type t = Full | Range of (S.t * S.t)\n  let to_string = function\n  | Full -&gt; \"full\"\n  | Range (lo, hi) -&gt; \"(\" ^ S.to_string lo ^ \",\" ^ S.to_string hi ^ \")\"\n  let make lo hi =\n    if S.compare lo hi &gt; 0 then Range (hi, lo) else Range (lo, hi)\nend\n\n\nmodule IntRange = Range (struct\n  type t = int\n  let to_string = string_of_int\n  let compare = Pervasives.compare\nend)\n\n\n# IntRange.(to_string (make 4 2)) ;;\n- : string = \"(2,4)\"\n\n\nmodule Range (S : SEQUENTIAL) : sig\n  type elt = S.t\n  type t = private Full | Range of (elt * elt)\n  val to_string : t -&gt; string\n  val make : elt -&gt; elt -&gt; t\nend = struct\n  type elt = S.t\n  type t = Full | Range of (elt * elt)\n  let to_string = function\n  | Full -&gt; \"full\"\n  | Range (lo, hi) -&gt; \"(\" ^ S.to_string lo ^ \",\" ^ S.to_string hi ^ \")\"\n  let make lo hi =\n    if S.compare lo hi &gt; 0 then Range (hi, lo) else Range (lo, hi)\nend\n\n\n(Sequential a) =&gt; Range a\n\nrange\n\nrange\n\nRange\n\nRange\n\nSequential\n\nRange\n\nRange\n\nSEQUENTIAL\n\nprivate",
    "resolution": "Taking a hint from what Haskell would do (declare a type class (Sequential a) => Range a) you could use a functor: module Range (S : sig type t end) = struct type range = Full | Range of (S.t * S.t) end and use it to provide the required modules: module IntRange = Range (struct type t = int end) module FloatRange = Range (struct type t = float end) module CharRange = Range (struct type t = char end) The downside is that you lose parametricity on range; the upside is that your parametric functions on ranges now live inside the module Range, as they probably should. In general, Ranges will make a number of demands of Sequentials in order to compensate for the loss of parametricity. These requirements can be cleanly specified in the signature of the functor parameter: module type SEQUENTIAL = sig type t val to_string : t -> string val compare : t -> t -> int (* ... *) end module Range (S : SEQUENTIAL) = struct type t = Full | Range of (S.t * S.t) let to_string = function | Full -> \"full\" | Range (lo, hi) -> \"(\" ^ S.to_string lo ^ \",\" ^ S.to_string hi ^ \")\" let make lo hi = if S.compare lo hi > 0 then Range (hi, lo) else Range (lo, hi) end To instantiate the Range at a specific type you now need to provide a structure that properly parameterizes it: module IntRange = Range (struct type t = int let to_string = string_of_int let compare = Pervasives.compare end) Then you can use it like this: # IntRange.(to_string (make 4 2)) ;; - : string = \"(2,4)\" (using the new syntax for delimited overloading). If you need to hide the implementation of Ranges behind a signature, you might need to re-export the type of SEQUENTIALs, much as the data structures in the standard library do: module Range (S : SEQUENTIAL) : sig type elt = S.t type t = private Full | Range of (elt * elt) val to_string : t -> string val make : elt -> elt -> t end = struct type elt = S.t type t = Full | Range of (elt * elt) let to_string = function | Full -> \"full\" | Range (lo, hi) -> \"(\" ^ S.to_string lo ^ \",\" ^ S.to_string hi ^ \")\" let make lo hi = if S.compare lo hi > 0 then Range (hi, lo) else Range (lo, hi) end This gives you encapsulation and translucent types that can be pattern-matched but not constructed. An alternative to declaring private types in the signature is to use a view type or a destructuring function.",
    "severity": "medium",
    "tags": [
      "types",
      "functional-programming",
      "ocaml"
    ],
    "metadata": {
      "stackoverflow_question_id": "6223081",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 244,
      "stackoverflow_creation_date": "2011-06-03T04:52:49.180Z"
    },
    "idempotency_key": "stackoverflow-6223081",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Google charts: Slow in IE 8 and 9, but fine in Mozilla",
    "body": "Can anyone spot what might be slowing IE down to a crawl in the following JS / JQUERY / JSON. It isn't slow until a large JSON dataset is added to it, but Mozilla based broswers are fine in like for like conditions. There are no script runtime errors. I have eliminated bad HTML as a cause, and I have added the raw JSON to the simpler interactive playground example with no negative speed effects. Therefore, I think that it might be some JS that IE doesn't like?? Any ideas welcome. (Here's myu JQUERY include) <script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script> <script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js\"></script> <script src=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js\" type=\"text/javascript\"></script> And here's all the scripting: // Load the Visualization API and the controls package. google.load(\"visualization\", \"1.1\", {\"packages\":[\"corechart\", \"controls\"]}); // Set a callback to run when the Google Visualization API is loaded. google.setOnLoadCallback(drawDashboard); // Callback that creates and populates a data table, // instantiates a dashboard, a range slider and a pie chart, // passes in the data and draws it. var barChart; var ChartColumnsLength; function drawDashboard() { // Create our data table. var data = new google.visualization.DataTable( { cols: [{id: '0', label: 'Geographical location', type: 'string'}, {id: '1', label: 'Total calls', type: 'number'}, {id: '2', label: 'Unique calls', type: 'number'}, {id: '3', label: 'Missed', type: 'number'}, {id: '4', label: 'Engaged', type: 'number'}, {id: '5', label: 'Unanswered', type: 'number'}, {id: '6', label: 'Average secs to pick-up', type: 'number'}], rows: [{c:[{v: 'Unknown'}, {v: 4895}, {v: 2886}, {v: 3}, {v: 302}, {v: 305}, {v: 8.5}]},{c:[{v: 'Aberdeen'}, {v: 7}, {v: 7}, {v: 0}, {v: 0}, {v: 0}, {v: 6.6}]} ] }, 0.6 ) // Create a dashboard. var dashboard = new google.visualization.Dashboard(document.getElementById(\"dashboard_div\")); // Define category pickers var controlPicker1 = new google.visualization.ControlWrapper({ \"controlType\": \"CategoryFilter\", \"containerId\": \"control1\", \"options\": { \"filterColumnLabel\": \"Geographical location\", \"ui\": { \"labelStacking\": \"horizontal\", \"allowTyping\": true, \"allowMultiple\": true } } }); var view = new google.visualization.DataView(data); // Create a chart, passing some options barChart = new google.visualization.ChartWrapper({ \"chartType\": \"BarChart\", \"containerId\": \"chart_div\", \"options\": { \"width\": \"100%\", \"height\": \"120%\", \"vAxis\": {title: \"Geographical location\"}, \"hAxis\": {title: \"Number of calls\"}, \"fontSize\": 14, \"chartArea\": {top: 0, right: 0, bottom: 0, height:\"100%\", width:\"70%\"} }, \"view\": {\"columns\": [0,1,2,3,4,5,6]} }); google.visualization.events.addListener(dashboard, \"ready\", function() { // Dashboard redraw, have a look at how many rows the barChart is displaying var numRows = barChart.getDataTable().getNumberOfRows(); if(ChartColumnsLength){ var numCols = ChartColumnsLength.length-1; }else{ var numCols = barChart.getDataTable().getNumberOfColumns()-1; } var expectedHeight = (numRows * (numCols * 20))+70; if (parseInt(barChart.getOption(\"height\"), 10) != expectedHeight) { // Update the chart options and redraw just it drawDiv(\"chart_div\", expectedHeight); barChart.setOption(\"height\", expectedHeight); barChart.setOption(\"width\", \"100%\"); barChart.setOption(\"chartArea\", {top: 10, right: 0, bottom: 0, height: (expectedHeight-70), width:\"70%\"}); barChart.draw(); } }); // Establish dependencies, declaring that \"filter\" drives \"barChart\", // so that the pie chart will only display entries that are let through // given the chosen slider range. dashboard.bind(controlPicker1, barChart); // Draw the dashboard. dashboard.draw(view); } function drawDiv(id,h) { var div=document.getElementById(id); h = (h) + \"px\"; var w=parseInt(div.style.width); w = ($(this).width()-200) + \"px\"; $(div).height(h); $(div).width(w); } function listValuesCheckBox(){ var myArray = []; var k = 1; myArray[0]=0; var at_least_one_checked = false; for (var i=0; i < document.frm_obj.elements.length; i++) { var e = document.frm_obj.elements[i]; if(e.checked == true){ at_least_one_checked = true; myArray[k] = parseInt(e.value,10); k = k+1; } } if(at_least_one_checked == true){ return myArray; }else{ alert(\"I cannot display a chart with zero bars. Please select at least one bar using the tick boxes.\"); stop_script_running; } } function changeChartColumns() { // ChartColumnsLength is a global variable ChartColumnsLength = listValuesCheckBox(); barChart.setView({\"columns\": ChartColumnsLength}); barChart.draw(); } $(document).ready(function(){ $(\"#start_date_uk\").datepicker({ changeMonth: true, numberOfMonths: 3, showButtonPanel: true, showCurrentAtPos: 1, autoSize: true, changeYear: true, dateFormat: \"dd-mm-yy\", defaultDate: new Date(2009, 09, 08), onSelect: function(dateText, inst) { $(\".datepicker\").datepicker(\"option\", \"defaultDate\", dateText); } }); $(\"#end_date_uk\").datepicker({ changeMonth: true, numberOfMonths: 3, showButtonPanel: true, showCurrentAtPos: 1, autoSize: true, changeYear: true, dateFormat: \"dd-mm-yy\", defaultDate: new Date(2011, 02, 28), onSelect: function(dateText, inst) { $(\".datepicker\").datepicker(\"option\", \"defaultDate\", dateText); } }); }); </script> Thanks in advance. H.",
    "code": "&lt;script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n\n    // Load the Visualization API and the controls package.\n    google.load(\"visualization\", \"1.1\", {\"packages\":[\"corechart\", \"controls\"]});\n\n    // Set a callback to run when the Google Visualization API is loaded.\n    google.setOnLoadCallback(drawDashboard);\n\n    // Callback that creates and populates a data table,\n    // instantiates a dashboard, a range slider and a pie chart,\n    // passes in the data and draws it.\n\n    var barChart;\n    var ChartColumnsLength;\n\n    function drawDashboard() {\n\n        // Create our data table.\n        var data = new google.visualization.DataTable(\n            {\n            cols: [{id: '0', label: 'Geographical location', type: 'string'},\n                   {id: '1', label: 'Total calls', type: 'number'},\n                   {id: '2', label: 'Unique calls', type: 'number'},\n                   {id: '3', label: 'Missed', type: 'number'},\n                   {id: '4', label: 'Engaged', type: 'number'},\n                   {id: '5', label: 'Unanswered', type: 'number'},\n                   {id: '6', label: 'Average secs to pick-up', type: 'number'}],\n\n            rows: [{c:[{v: 'Unknown'}, {v: 4895}, {v: 2886}, {v: 3}, {v: 302}, {v: 305}, {v: 8.5}]},{c:[{v: 'Aberdeen'}, {v: 7}, {v: 7}, {v: 0}, {v: 0}, {v: 0}, {v: 6.6}]}\n                    ]\n            },\n            0.6\n        )\n\n        // Create a dashboard.\n        var dashboard = new google.visualization.Dashboard(document.getElementById(\"dashboard_div\"));\n\n        // Define category pickers\n        var controlPicker1 = new google.visualization.ControlWrapper({\n            \"controlType\": \"CategoryFilter\",\n            \"containerId\": \"control1\",\n            \"options\": {\n            \"filterColumnLabel\": \"Geographical location\",\n            \"ui\": {\n                \"labelStacking\": \"horizontal\",\n                \"allowTyping\": true,\n                \"allowMultiple\": true\n            }\n            }\n        });\n\n        var view = new google.visualization.DataView(data);\n\n        // Create a chart, passing some options\n        barChart = new google.visualization.ChartWrapper({\n            \"chartType\": \"BarChart\",\n            \"containerId\": \"chart_div\",\n            \"options\": {\n            \"width\": \"100%\",\n            \"height\": \"120%\",\n            \"vAxis\": {title: \"Geographical location\"},\n            \"hAxis\": {title: \"Number of calls\"},\n            \"fontSize\": 14,\n            \"chartArea\": {top: 0, right: 0, bottom: 0, height:\"100%\", width:\"70%\"}\n            },\n            \"view\": {\"columns\": [0,1,2,3,4,5,6]}\n        });\n\n        google.visualization.events.addListener(dashboard, \"ready\", function() {\n\n            // Dashboard redraw, have a look at how many rows the barChart is displaying\n            var numRows = barChart.getDataTable().getNumberOfRows();\n            if(ChartColumnsLength){\n                var numCols = ChartColumnsLength.length-1;\n            }else{\n                var numCols = barChart.getDataTable().getNumberOfColumns()-1;\n            }\n            var expectedHeight = (numRows * (numCols * 20))+70;\n            if (parseInt(barChart.getOption(\"height\"), 10) != expectedHeight) {\n                // Update the chart options and redraw just it\n                drawDiv(\"chart_div\", expectedHeight);\n                barChart.setOption(\"height\", expectedHeight);\n                barChart.setOption(\"width\", \"100%\");\n                barChart.setOption(\"chartArea\", {top: 10, right: 0, bottom: 0, height: (expectedHeight-70), width:\"70%\"});\n                barChart.draw();\n            }\n        });\n\n        // Establish dependencies, declaring that \"filter\" drives \"barChart\",\n        // so that the pie chart will only display entries that are let through\n        // given the chosen slider range.\n        dashboard.bind(controlPicker1, barChart);\n        // Draw the dashboard.\n        dashboard.draw(view);\n    }\n\n    function drawDiv(id,h) {\n        var div=document.getElementById(id);\n        h = (h) + \"px\";\n\n        var w=parseInt(div.style.width);\n        w = ($(this).width()-200) + \"px\";\n\n        $(div).height(h);\n        $(div).width(w);\n    }\n\n    function listValuesCheckBox(){\n\n        var myArray = [];\n        var k = 1;\n        myArray[0]=0;\n        var at_least_one_checked = false;\n        for (var i=0; i &lt; document.frm_obj.elements.length; i++) {\n            var e = document.frm_obj.elements[i];\n            if(e.checked == true){\n                at_least_one_checked = true;\n                myArray[k] = parseInt(e.value,10);\n                k = k+1;\n            }\n\n        }\n        if(at_least_one_checked == true){\n            return myArray;\n        }else{\n            alert(\"I cannot display a chart with zero bars. Please select at least one bar using the tick boxes.\");\n            stop_script_running;\n        }\n    }\n\n    function changeChartColumns() {\n        // ChartColumnsLength is a global variable\n        ChartColumnsLength = listValuesCheckBox();\n        barChart.setView({\"columns\": ChartColumnsLength});\n        barChart.draw();\n    }\n\n    $(document).ready(function(){\n        $(\"#start_date_uk\").datepicker({\n            changeMonth: true,\n            numberOfMonths: 3,\n            showButtonPanel: true,\n            showCurrentAtPos: 1,\n            autoSize: true,\n            changeYear: true,\n            dateFormat: \"dd-mm-yy\",\n            defaultDate: new Date(2009, 09, 08),\n            onSelect: function(dateText, inst) {\n                $(\".datepicker\").datepicker(\"option\", \"defaultDate\", dateText);\n            }\n        });\n        $(\"#end_date_uk\").datepicker({\n            changeMonth: true,\n            numberOfMonths: 3,\n            showButtonPanel: true,\n            showCurrentAtPos: 1,\n            autoSize: true,\n            changeYear: true,\n            dateFormat: \"dd-mm-yy\",\n            defaultDate: new Date(2011, 02, 28),\n            onSelect: function(dateText, inst) {\n                $(\".datepicker\").datepicker(\"option\", \"defaultDate\", dateText);\n            }\n        });\n    });\n\n    &lt;/script&gt;\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "json",
      "google-visualization"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "6227563",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1792,
      "stackoverflow_creation_date": "2011-06-03T13:16:03.963Z"
    },
    "idempotency_key": "stackoverflow-6227563",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Finding cartesian product with PHP associative arrays",
    "body": "Say that I have an array like the following: Array ( [arm] => Array ( [0] => A [1] => B [2] => C ) [gender] => Array ( [0] => Female [1] => Male ) [location] => Array ( [0] => Vancouver [1] => Calgary ) ) How can I find the cartesian product while preserving the keys of the outer associative array and using them in the inner ones? The result of the algorithm should be this: Array ( [0] => Array ( [arm] => A [gender] => Female [location] => Vancouver ) [1] => Array ( [arm] => A [gender] => Female [location] => Calgary ) [2] => Array ( [arm] => A [gender] => Male [location] => Vancouver ) ...etc. I've looked up quite a number of cartesian product algorithms but I'm getting stuck on the specifics of how to preserve the associative keys. The current algorithm I am using gives numerical indices only: $result = array(); foreach ($map as $a) { if (empty($result)) { $result = $a; continue; } $res = array(); foreach ($result as $r) { foreach ($a as $v) { $res[] = array_merge((array)$r, (array)$v); } } $result = $res; } print_r($result); Any help would be appreciated.",
    "code": "Array\n(\n    [arm] =&gt; Array\n        (\n            [0] =&gt; A\n            [1] =&gt; B\n            [2] =&gt; C\n        )\n    [gender] =&gt; Array\n        (\n            [0] =&gt; Female\n            [1] =&gt; Male\n        )\n    [location] =&gt; Array\n        (\n            [0] =&gt; Vancouver\n            [1] =&gt; Calgary\n        )\n)\n\n\nArray\n(\n    [0] =&gt; Array\n        (\n            [arm] =&gt; A\n            [gender] =&gt; Female\n            [location] =&gt; Vancouver\n        )\n\n    [1] =&gt; Array\n        (\n            [arm] =&gt; A\n            [gender] =&gt; Female\n            [location] =&gt; Calgary\n        )\n\n    [2] =&gt; Array\n        (\n            [arm] =&gt; A\n            [gender] =&gt; Male\n            [location] =&gt; Vancouver\n        )\n\n...etc.\n\n\n    $result = array();\n    foreach ($map as $a) {\n        if (empty($result)) {\n            $result = $a;\n            continue;\n        }\n        $res = array();\n        foreach ($result as $r) {\n            foreach ($a as $v) {\n                $res[] = array_merge((array)$r, (array)$v);\n            }\n        }\n        $result = $res;\n    }\n\n    print_r($result);\n\n\n# Solution Code:\nfunction cartesian($input) {\n    $result = array();\n\n    while (list($key, $values) = each($input)) {\n        // If a sub-array is empty, it doesn't affect the cartesian product\n        if (empty($values)) {\n            continue;\n        }\n\n        // Seeding the product array with the values from the first sub-array\n        if (empty($result)) {\n            foreach($values as $value) {\n                $result[] = array($key =&gt; $value);\n            }\n        }\n        else {\n            // Second and subsequent input sub-arrays work like this:\n            //   1. In each existing array inside $product, add an item with\n            //      key == $key and value == first item in input sub-array\n            //   2. Then, for each remaining item in current input sub-array,\n            //      add a copy of each existing array inside $product with\n            //      key == $key and value == first item of input sub-array\n\n            // Store all items to be added to $product here; adding them\n            // inside the foreach will result in an infinite loop\n            $append = array();\n\n            foreach($result as &amp;$product) {\n                // Do step 1 above. array_shift is not the most efficient, but\n                // it allows us to iterate over the rest of the items with a\n                // simple foreach, making the code short and easy to read.\n                $product[$key] = array_shift($values);\n                \n                // $product is by reference (that's why the key we added above\n                // will appear in the end result), so make a copy of it here\n                $copy = $product;\n\n                // Do step 2 above.\n                foreach($values as $item) {\n                    $copy[$key] = $item;\n                    $append[] = $copy;\n                }\n\n                // Undo the side effecst of array_shift\n                array_unshift($values, $product[$key]);\n            }\n\n            // Out of the foreach, we can add to $results now\n            $result = array_merge($result, $append);\n        }\n    }\n\n    return $result;\n}\n\n\n$input = array(\n    'arm' =&gt; array('A', 'B', 'C'),\n    'gender' =&gt; array('Female', 'Male'),\n    'location' =&gt; array('Vancouver', 'Calgary'),\n);\n\nprint_r(cartesian($input));\n\n\n$input\n\nN\n\nCn\n\nn\n\n$input\n\nKn\n\ni\n\nn\n\nVn,i\n\narray(0 =&gt; array(K1 =&gt; V1,1), 1 =&gt; array(K1 =&gt; V1,2), ... )\n\nforeach\n\n$result\n\n$result\n\n$product\n\nKN =&gt; VN,1\n\n$item\n\n$product\n\nVN,2 ... VN,CN\n\n$product\n\n$item\n\nKN\n\nVN,m\n\n2 &lt;= m &lt;= CN\n\n$product\n\n$result\n\nCN\n\n$result",
    "resolution": "Rationale Assume that we have an input array $input with N sub-arrays, as in your example. Each sub-array has Cn items, where n is its index inside $input, and its key is Kn. I will refer to the ith item of the nth sub-array as Vn,i. The algorithm below can be proved to work (barring bugs) by induction: For N = 1, the cartesian product is simply array(0 => array(K1 => V1,1), 1 => array(K1 => V1,2), ... ) -- C1 items in total. This can be done with a simple foreach. Assume that $result already holds the cartesian product of the first N-1 sub-arrays. The cartesian product of $result and the Nth sub-array can be produced this way: In each item (array) inside $product, add the value KN => VN,1. Remember the resulting item (with the added value); I 'll refer to it as $item. 4a) For each array inside $product: 4b) For each value in the set VN,2 ... VN,CN, add to $product a copy of $item, but change the value with the key KN to VN,m (for all 2 <= m <= CN). The two iterations 4a (over $product) and 4b (over the Nth input sub-array) ends up with $result having CN items for every item it had before the iterations, so in the end $result indeed contains the cartesian product of the first N sub arrays. Therefore the algorithm will work for any N. Code function cartesian($input) { $result = array(); while (list($key, $values) = each($input)) { // If a sub-array is empty, it doesn't affect the cartesian product if (empty($values)) { continue; } // Seeding the product array with the values from the first sub-array if (empty($result)) { foreach($values as $value) { $result[] = array($key => $value); } } else { // Second and subsequent input sub-arrays work like this: // 1. In each existing array inside $product, add an item with // key == $key and value == first item in input sub-array // 2. Then, for each remaining item in current input sub-array, // add a copy of each existing array inside $product with // key == $key and value == first item of input sub-array // Store all items to be added to $product here; adding them // inside the foreach will result in an infinite loop $append = array(); foreach($result as &$product) { // Do step 1 above. array_shift is not the most efficient, but // it allows us to iterate over the rest of the items with a // simple foreach, making the code short and easy to read. $product[$key] = array_shift($values); // $product is by reference (that's why the key we added above // will appear in the end result), so make a copy of it here $copy = $product; // Do step 2 above. foreach($values as $item) { $copy[$key] = $item; $append[] = $copy; } // Undo the side effecst of array_shift array_unshift($values, $product[$key]); } // Out of the foreach, we can add to $results now $result = array_merge($result, $append); } } return $result; } Usage $input = array( 'arm' => array('A', 'B', 'C'), 'gender' => array('Female', 'Male'), 'location' => array('Vancouver', 'Calgary'), ); print_r(cartesian($input));",
    "severity": "high",
    "tags": [
      "php",
      "algorithm",
      "associative-array",
      "cartesian-product"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "6311779",
      "stackoverflow_score": 63,
      "stackoverflow_view_count": 23197,
      "stackoverflow_creation_date": "2011-06-10T20:35:18.323Z"
    },
    "idempotency_key": "stackoverflow-6311779",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to connect java to Ms Access 2010?",
    "body": "Does anyone have any ideas of how to connect Access 2010 to java jdbc. I use this method, but when I call it, it doesn't work: public void loadDb(){ try{ Class.forName(\"sun.jdbc.JdbcOdbcDriver\"); File f = new File(System.getProperty(\"user.dir\")) con = DriverManager.getConnection(\"jdbc:odbc:Driver={Microsoft Acess Driver (*.mdb, *.accdb)}; DBQ=\"+ f.getPath() + \"//db//JavaAccess.accd\",\"\",\"\"); st = con. createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE); }catch(ClassNotFoundException e){e.printStackTrace(); }catch(SQLException e){e.printStackTrace();} } //con and st are already defined",
    "code": "public void loadDb(){\n   try{\n       Class.forName(\"sun.jdbc.JdbcOdbcDriver\");\n       File f = new File(System.getProperty(\"user.dir\"))       \n       con = DriverManager.getConnection(\"jdbc:odbc:Driver={Microsoft Acess Driver (*.mdb, *.accdb)}; DBQ=\"+ f.getPath() + \"//db//JavaAccess.accd\",\"\",\"\");\n       st = con. createStatement(ResultSet.TYPE_SCROLL_SENSITIVE, ResultSet.CONCUR_UPDATABLE);\n   }catch(ClassNotFoundException e){e.printStackTrace();\n   }catch(SQLException e){e.printStackTrace();}\n}\n\n//con and st are already defined\n\n\n# Solution Code:\nsun.jdbc.odbc.JdbcOdbcDriver\n\nClass.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");",
    "resolution": "According to msdn it should be sun.jdbc.odbc.JdbcOdbcDriver. So replace this line of code: Class.forName(\"sun.jdbc.odbc.JdbcOdbcDriver\");",
    "severity": "high",
    "tags": [
      "java",
      "jdbc",
      "odbc"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "6339055",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 44833,
      "stackoverflow_creation_date": "2011-06-14T04:27:58.163Z"
    },
    "idempotency_key": "stackoverflow-6339055",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to attach UITapGestureRecognizer to UILabel subclass",
    "body": "I'm trying to attach gesture recognizer to my own class which is subclass of UILabel, but it does not work. Can you help me to understand what's wrong in the code @interface Card : UILabel { } - (void) addBackSideWord; @end #import \"Card.h\" @implementation Card - (id)initWithFrame:(CGRect)frame { if ((self = [super initWithFrame:frame])) { UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(addBackSideWord)]; [tapRecognizer setNumberOfTouchesRequired:2]; [tapRecognizer setDelegate:self]; [self addGestureRecognizer:tapRecognizer]; } return self; } - (void) addBackSideWord { //do something } @end",
    "code": " \n@interface Card : UILabel  {\n\n}\n\n- (void) addBackSideWord;\n\n@end\n\n#import \"Card.h\"\n\n@implementation Card\n- (id)initWithFrame:(CGRect)frame {\n\n    if ((self = [super initWithFrame:frame])) {\n\n        UITapGestureRecognizer *tapRecognizer = [[UITapGestureRecognizer alloc]\n                         initWithTarget:self action:@selector(addBackSideWord)];\n        [tapRecognizer setNumberOfTouchesRequired:2];\n        [tapRecognizer setDelegate:self];\n        [self addGestureRecognizer:tapRecognizer];\n    }\n\n    return self;\n}\n\n- (void) addBackSideWord {\n\n     //do something\n}\n@end\n\n\n\n# Solution Code:\nself.userInteractionEnabled = YES;\n",
    "resolution": "Your code should work fine, the only thing you may need to fix is that user interaction is disabled for UILabel by default, so gesture recogniser does not receive any touch events. Try manually enable it by adding this line to your code (e.g. in init method): self.userInteractionEnabled = YES;",
    "severity": "medium",
    "tags": [
      "iphone",
      "ios",
      "xcode",
      "ios4"
    ],
    "metadata": {
      "stackoverflow_question_id": "6355650",
      "stackoverflow_score": 32,
      "stackoverflow_view_count": 9899,
      "stackoverflow_creation_date": "2011-06-15T09:28:49.173Z"
    },
    "idempotency_key": "stackoverflow-6355650",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Mathematica and C/C++: Exchanging Data",
    "body": "I would like to know how to exchange data between Mathematica and a C/C++ with pipes. In the Mathematica tutorial it says that \"when you open a file or a pipe, Mathematica creates a 'stream object' that specifies the open stream associated with the file or pipe\". I know how to create files in both C and Mathematica and I can make each program read and write to them. What I still don't know how to do is how to send output from C through a pipe to another program, much less how to even do this from Mathematica. Here is a function in which Mathematica that writes a matrix to a binary file as well as reading a file written in that format. writeDoubleMatrix[obj_, fileName_] := Module[{file}, file = OpenWrite[fileName, BinaryFormat -> True]; BinaryWrite[file, Length@obj, \"Integer32\"]; BinaryWrite[file, Length@obj[[1]], \"Integer32\"]; BinaryWrite[file, Flatten[obj], \"Real64\"]; Close[file] ] readDoubleMatrix[fileName_] := Module[{file, obj, m, n}, file = OpenRead[fileName, BinaryFormat -> True]; m = BinaryRead[file, \"Integer32\"]; n = BinaryRead[file, \"Integer32\"]; obj = BinaryReadList[file, \"Real64\", m*n]; Close[file]; Partition[obj, n] ] The first function will write 2 integers to a file (the size of the matrix) and the data of the matrix. I'm not doing any error checking here and thus I'm assuming that the data to be written is specifically in the form {{r11, r12, ..., r1n}, ...., {rm1, rm2, ..., rmn}}. The second function will be able to read the binary file and return the matrix. Next comes my C program. This program will read the data stored in the file MathematicaData.bin, multiply this matrix by 2 and write data to another file. // genData.c #include <stdlib.h> #include <stdio.h> int main(int argc, char** argv){ int m, n, i; double* matrix; FILE* fin; FILE* fout; // Reading input file fin = fopen(argv[1], \"rb\"); fread(&m, sizeof(int), 1, fin); fread(&n, sizeof(int), 1, fin); matrix = (double*)malloc(m*n*sizeof(double)); fread(matrix, sizeof(double), m*n, fin); fclose(fin); //Modifying data for (i = 0; i < m*n; ++i) matrix[i] = 2*matrix[i]; // Writing output file fout = fopen(argv[2], \"wb\"); fwrite(&m, sizeof(int), 1, fout); fwrite(&n, sizeof(int), 1, fout); fwrite(matrix, sizeof(double), m*n, fout); fclose(fout); // De-allocate memory used for matrix. free(matrix); return 0; } This program does not have any error checking. You need to be careful how you use it otherwise the program may not detect the files or even allocate the amount of memory that you want. In any case, we can compile the program with your compiler of your choice. gcc -o genData genData.c And now we can try to use these functions to communicate between the two languages from Mathematica. matrix = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}}; writeDoubleMatrix[matrix, \"MathematicaData.bin\"]; Run[\"./genData MathematicaData.bin CData.bin\"]; readDoubleMatrix[\"CData.bin\"] If everything went well the output you should get is {{2., 4., 6., 8.}, {10., 12., 14., 16.}, {18., 20., 22., 24.}} Yes, this is a very time consuming way of multiplying a matrix by 2 but this is just a simple example to show how to exchange data from Mathematica to C and from C to Mathematica. What I do not like is the fact that everything is stored to a file first and then it is read in the other program. Can someone show me how to exchange data without writing files. I have a feeling that pipes is what I need but I have no idea how to read or write them from neither language. It would be helpful if you could modify this program to adapt it to pipes. UPDATE: I found out how to make the C program \"pipeable\". //genDataPipe.c #include <stdlib.h> #include <stdio.h> int main(int argc, char** argv){ int m, n, i; double* matrix; // Reading input file fread(&m, sizeof(int), 1, stdin); fread(&n, sizeof(int), 1, stdin); matrix = (double*)malloc(m*n*sizeof(double)); fread(matrix, sizeof(double), m*n, stdin); //Modifying data for (i = 0; i < m*n; ++i) matrix[i] = 2*matrix[i]; // Writing output file fwrite(&m, sizeof(int), 1, stdout); fwrite(&n, sizeof(int), 1, stdout); fwrite(matrix, sizeof(double), m*n, stdout); // Deallocate memory used for matrix. free(matrix); return 0; } This means that we have to use the program like this: ./genDataPipe < fileIn.bin > fileOut.bin I have been searching in the documentation on the Mathematica side but all I have figured out that I can open a file by piping an external command. Take OpenWrite for instance: On computer systems that support pipes, OpenWrite[\"!command\"] runs the external program specified by command, and opens a pipe to send input to it. This means that I can give my binary input directly to the c program. The problem is that I can't find a way of redirecting the output of the program. What I have come up with is, write a data to a file and make a wrapper to run the external command and read the contents of the output of the external command. Here we assume the existence of writeDoubleMatrix from before. getDataPipe[fileName_] := Module[{file, obj, m, n}, file = OpenRead[\"!./genDataPipe < \" <> fileName, BinaryFormat -> True]; m = BinaryRead[file, \"Integer32\"]; n = BinaryRead[file, \"Integer32\"]; obj = BinaryReadList[file, \"Real64\", m*n]; Close[file]; Partition[obj, n] ] matrix = {{1, 2, 3}, {4, 5, 6}}; writeDoubleMatrix[matrix, \"MData.bin\"]; output = getDataPipe[\"MData.bin\"] Which results in output having the following contents {{2., 4., 6.}, {8., 10., 12.}}. The only goal that remains now is to find out how to eliminate the need of writeDoubleMatrix and pass the data directly without having to write a file.",
    "code": "writeDoubleMatrix[obj_, fileName_] := Module[{file},\n  file = OpenWrite[fileName, BinaryFormat -&gt; True];\n  BinaryWrite[file, Length@obj, \"Integer32\"];\n  BinaryWrite[file, Length@obj[[1]], \"Integer32\"];\n  BinaryWrite[file, Flatten[obj], \"Real64\"];\n  Close[file]\n ]\nreadDoubleMatrix[fileName_] := Module[{file, obj, m, n},\n  file = OpenRead[fileName, BinaryFormat -&gt; True];\n  m = BinaryRead[file, \"Integer32\"];\n  n = BinaryRead[file, \"Integer32\"];\n  obj = BinaryReadList[file, \"Real64\", m*n];\n  Close[file];\n  Partition[obj, n]\n ]\n\n\n// genData.c\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(int argc, char** argv){\n    int m, n, i;\n    double* matrix;\n    FILE* fin;\n    FILE* fout;\n\n    // Reading input file\n    fin = fopen(argv[1], \"rb\");\n    fread(&amp;m, sizeof(int), 1, fin);\n    fread(&amp;n, sizeof(int), 1, fin);\n    matrix = (double*)malloc(m*n*sizeof(double));\n    fread(matrix, sizeof(double), m*n, fin);\n    fclose(fin);\n\n    //Modifying data\n    for (i = 0; i &lt; m*n; ++i) matrix[i] = 2*matrix[i];\n\n    // Writing output file\n    fout = fopen(argv[2], \"wb\");\n    fwrite(&amp;m, sizeof(int), 1, fout);\n    fwrite(&amp;n, sizeof(int), 1, fout);\n    fwrite(matrix, sizeof(double), m*n, fout);\n    fclose(fout);\n\n    // De-allocate memory used for matrix.\n    free(matrix);\n    return 0;\n }\n\n\ngcc -o genData genData.c\n\n\nmatrix = {{1, 2, 3, 4}, {5, 6, 7, 8}, {9, 10, 11, 12}};\nwriteDoubleMatrix[matrix, \"MathematicaData.bin\"];\nRun[\"./genData MathematicaData.bin CData.bin\"];\nreadDoubleMatrix[\"CData.bin\"]\n\n\n{{2., 4., 6., 8.}, {10., 12., 14., 16.}, {18., 20., 22., 24.}}\n\n\n//genDataPipe.c\n#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n\nint main(int argc, char** argv){\n    int m, n, i;\n    double* matrix;\n\n    // Reading input file\n    fread(&amp;m, sizeof(int), 1, stdin);\n    fread(&amp;n, sizeof(int), 1, stdin);\n    matrix = (double*)malloc(m*n*sizeof(double));\n    fread(matrix, sizeof(double), m*n, stdin);\n\n    //Modifying data\n    for (i = 0; i &lt; m*n; ++i) matrix[i] = 2*matrix[i];\n\n    // Writing output file\n    fwrite(&amp;m, sizeof(int), 1, stdout);\n    fwrite(&amp;n, sizeof(int), 1, stdout);\n    fwrite(matrix, sizeof(double), m*n, stdout);\n\n    // Deallocate memory used for matrix.\n    free(matrix);\n    return 0;\n}\n\n\n./genDataPipe &lt; fileIn.bin &gt; fileOut.bin\n\n\ngetDataPipe[fileName_] := Module[{file, obj, m, n},\n  file = OpenRead[\"!./genDataPipe &lt; \" &lt;&gt; fileName, \n  BinaryFormat -&gt; True];\n  m = BinaryRead[file, \"Integer32\"];\n  n = BinaryRead[file, \"Integer32\"];\n  obj = BinaryReadList[file, \"Real64\", m*n];\n  Close[file];\n  Partition[obj, n]\n ]\nmatrix = {{1, 2, 3}, {4, 5, 6}};\nwriteDoubleMatrix[matrix, \"MData.bin\"];\noutput = getDataPipe[\"MData.bin\"]\n\n\n{{r11, r12, ..., r1n}, ...., {rm1, rm2, ..., rmn}}\n\nOpenWrite\n\nwriteDoubleMatrix\n\n{{2., 4., 6.}, {8., 10., 12.}}\n\nwriteDoubleMatrix\n\n# Solution Code:\nmkfifo mypipe\n\nsystem (\"mkfifo mypipe\");\n\nsystem (\"rm myfifo\");\n\n./cprogram | ./mprogram",
    "resolution": "The first step would be to create a named pipe, (as mentioned by Artefacto's comment above). This is called a fifo, First In First Out. A pipe makes the output from one file into the input of the other. I'd like to note that these methods are Linux only before I start. Basically, pipes work like this: mkfifo mypipe or in C: system (\"mkfifo mypipe\"); Next step is to write the output to the pipe, because everything in Linux is a file, you can just use the standard i/o operations for that, or even redirect standard input to the pipe. You already have the code for that in both Mathematica and C. So after writing the output of the file to your pipe, the Mathematica version can then read input from the pipe, multiply it, and display it in stdout or wherever you please. You really shouldn't have a problem with this method, seeing as the pipe is emptied after the reading and can be removed easily after you're done. If you want to remove the pipe afterwards, just run system (\"rm myfifo\");. If you really don't want any accessory file, even though it's not that bad, try making another file that actually outputs in standard output. Then make one that let's Matematica read from the standard input. Now, to pipe through: ./cprogram | ./mprogram This means that the output of your C program should be the input of your Mathematica program. To my knowledge, this still creates a pipe, but it will automatically be deleted by the system when it's done, and the average end user probably won't see it.",
    "severity": "medium",
    "tags": [
      "c",
      "wolfram-mathematica"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "6462275",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 3312,
      "stackoverflow_creation_date": "2011-06-24T01:02:55.747Z"
    },
    "idempotency_key": "stackoverflow-6462275",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Initializing IEnumerable<string> In C#",
    "body": "I have this object : IEnumerable<string> m_oEnum = null; and I'd like to initialize it. Tried with IEnumerable<string> m_oEnum = new IEnumerable<string>() { \"1\", \"2\", \"3\"}; but it say \"IEnumerable doesnt contain a method for add string. Any idea? Thanks",
    "code": "IEnumerable&lt;string&gt; m_oEnum = null;\n\n\nIEnumerable&lt;string&gt; m_oEnum = new IEnumerable&lt;string&gt;() { \"1\", \"2\", \"3\"};\n\n\n# Solution Code:\nIEnumerable&lt;string&gt; m_oEnum = Enumerable.Empty&lt;string&gt;();\n\n\nIEnumerable&lt;string&gt; m_oEnum = new string[]{};\n",
    "resolution": "Ok, adding to the answers stated you might be also looking for IEnumerable<string> m_oEnum = Enumerable.Empty<string>(); or IEnumerable<string> m_oEnum = new string[]{};",
    "severity": "high",
    "tags": [
      "c#",
      ".net"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "6573069",
      "stackoverflow_score": 172,
      "stackoverflow_view_count": 334306,
      "stackoverflow_creation_date": "2011-07-04T14:54:38.083Z"
    },
    "idempotency_key": "stackoverflow-6573069",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Mysql within distance query",
    "body": "Options $lat = '25.7742658'; $lng = '-80.1936589'; $miles = 30; Query SELECT *, ( 3959 * acos( cos( radians($lat) ) * cos( radians( lat ) ) * cos( radians( lng ) - radians($lng) ) + sin( radians($lat) ) * sin( radians( lat ) ) ) ) AS distance FROM locations HAVING distance < $miles ORDER BY distance LIMIT 0, 20 I have a database table with 4 columns: unique id city name latitude (lat) longitude (lng) I'm using the query on top to return locations that are within a specified number of miles from the specified coordinates. It seems to work but I'm not sure how accurate it is. I'm curios to know whether the query is good or if you have a better solution.",
    "code": "$lat = '25.7742658';\n$lng = '-80.1936589';\n$miles = 30;\n\n\nSELECT *, \n   ( 3959 * acos( cos( radians($lat) ) \n   * cos( radians( lat ) ) \n   * cos( radians( lng ) - radians($lng) ) \n   + sin( radians($lat) ) \n   * sin( radians( lat ) ) ) ) AS distance \nFROM locations \nHAVING distance &lt; $miles \nORDER BY distance \nLIMIT 0, 20\n",
    "severity": "medium",
    "tags": [
      "php",
      "mysql",
      "sql",
      "geospatial",
      "spatial"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "6574599",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1991,
      "stackoverflow_creation_date": "2011-07-04T17:46:49.047Z"
    },
    "idempotency_key": "stackoverflow-6574599",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sql Server temporary table disappears",
    "body": "I'm creating a temporary table, #ua_temp, which is a subset of regular table. I don't get an error, but when I try to SELECT from #ua_temp in the second step, it's not found. If I remove the #, a table named ua_temp is created. I've used the exact same technique from created the table with SELECT INTO elsewhere. It runs fine, so I don't think it has anything to do with database settings. Can anyone see the problem? // Create temporary table q = new StringBuilder(200); q.Append(\"select policy_no, name, amt_due, due_date, hic, grp, eff_dt, lis_prem, lis_grp, lis_co_pay_lvl, \"); q.Append(\"lep_prem, lapsed, dn_code, [filename], created_dt, created_by \"); q.Append(\"into #ua_temp from elig_ua_response \"); q.Append(\"where [filename] = @fn1 or [filename] = @fn2 \"); sc = new SqlCommand(q.ToString(), db); sc.Parameters.Add(new SqlParameter(\"@fn1\", sFn)); sc.Parameters.Add(new SqlParameter(\"@fn2\", sFn2)); int r = sc.ExecuteNonQuery(); MessageBox.Show(r.ToString() + \" rows\"); // Rosters q = new StringBuilder(200); q.Append(\"select policy_no,name,amt_due,due_date,hic,grp,eff_dt,\"); q.Append(\"lis_prem,lis_grp,lis_co_pay_lvl,lep_prem,lapsed,dn_code,[filename] \"); q.Append(\"from #ua_temp where (lis_prem > 0.00 or lep_prem > 0.00) \"); q.Append(\"and [filename] = @fn order by name\"); sc.CommandText = q.ToString(); sc.Parameters.Clear(); sc.Parameters.Add(new SqlParameter(\"@fn\", sFn)); sda = new SqlDataAdapter(sc); sda.Fill(ds, \"LIS LEP Roster\"); To answer some of the obvious questions: This program was running fine using the source table, elig_ua_response. The reason for introducing the temp table was that I want to delete some of the rows for this particular report. I put brackets around the column [filename] while testing to be sure it's not a key word issue. The second SELECT works fine if you replace #ua_temp with elig_ua_response. I've tried different names for the temp table. The MessageBox showing the number of rows was just for debugging purposes; it doesn't affect the problem.",
    "code": "        // Create temporary table \n        q = new StringBuilder(200);\n        q.Append(\"select policy_no, name, amt_due, due_date, hic, grp, eff_dt, lis_prem, lis_grp, lis_co_pay_lvl, \");\n        q.Append(\"lep_prem, lapsed, dn_code, [filename], created_dt, created_by \");\n        q.Append(\"into #ua_temp from elig_ua_response \");\n        q.Append(\"where [filename] = @fn1 or [filename] = @fn2 \");\n        sc = new SqlCommand(q.ToString(), db);\n        sc.Parameters.Add(new SqlParameter(\"@fn1\", sFn));\n        sc.Parameters.Add(new SqlParameter(\"@fn2\", sFn2));\n        int r = sc.ExecuteNonQuery();\n        MessageBox.Show(r.ToString() + \" rows\");\n\n        // Rosters\n        q = new StringBuilder(200);\n        q.Append(\"select policy_no,name,amt_due,due_date,hic,grp,eff_dt,\");\n        q.Append(\"lis_prem,lis_grp,lis_co_pay_lvl,lep_prem,lapsed,dn_code,[filename] \");\n        q.Append(\"from #ua_temp where (lis_prem &gt; 0.00 or lep_prem &gt; 0.00) \");\n        q.Append(\"and [filename] = @fn order by name\");\n        sc.CommandText = q.ToString();\n        sc.Parameters.Clear();\n        sc.Parameters.Add(new SqlParameter(\"@fn\", sFn));\n        sda = new SqlDataAdapter(sc);\n        sda.Fill(ds, \"LIS LEP Roster\");\n\n\n# Solution Code:\nusing (var conn = new SqlConnection(\"...\"))\n{\n    conn.Open();\n    using (var cmd = conn.CreateCommand())\n    {\n        const string query = @\"\n            CREATE TABLE #temp \n                ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL)\n            INSERT INTO #temp VALUES(1, 'User 1')\n            INSERT INTO #temp VALUES(2, 'User 2')\";\n        cmd.CommandType = CommandType.Text;\n        cmd.CommandText = query;\n        cmd.ExecuteNonQuery();\n\n        cmd.CommandText = \"SELECT * FROM #temp\";\n        using (var sda = new SqlDataAdapter(cmd))\n        {\n            var ds = new DataSet();\n            sda.Fill(ds);\n            foreach (DataRow row in ds.Tables[0].Rows)\n                Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]);\n        }\n    }\n}\n\n\nusing (var conn = new SqlConnection(\"...\"))\n{\n    conn.Open();\n    using (var cmd = conn.CreateCommand())\n    {\n        const string query = @\"\n            CREATE TABLE #temp \n                ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL)\n            INSERT INTO #temp VALUES(1, @username1)\n            INSERT INTO #temp VALUES(2, @username2)\n        \";\n        cmd.CommandType = CommandType.Text;\n        cmd.CommandText = query;\n        cmd.Parameters.Add(\"@username1\", SqlDbType.VarChar).Value =\"First User\";\n        cmd.Parameters.Add(\"@username2\", SqlDbType.VarChar).Value =\"Second User\";\n        cmd.ExecuteNonQuery();\n\n        cmd.Parameters.Clear();\n        cmd.CommandText = \"SELECT * FROM #temp\";\n        using(var sda = new SqlDataAdapter(cmd))\n        {\n            var ds = new DataSet();\n            sda.Fill(ds);\n            foreach(DataRow row in ds.Tables[0].Rows)\n                Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]);\n        }\n    }\n}\n\n\nusing (var conn = new SqlConnection(\"...\"))\n{\n    conn.Open();\n    using (var cmd = conn.CreateCommand())\n    {\n        const string query = @\"\n            CREATE TABLE #temp \n                ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL)\n            INSERT INTO #temp VALUES(1, @username1)\n            INSERT INTO #temp VALUES(2, @username2)\n            SELECT * FROM #temp\n        \";\n        cmd.CommandType = CommandType.Text;\n        cmd.CommandText = query;\n        cmd.Parameters.Add(\"@username1\", SqlDbType.VarChar).Value =\"First User\";\n        cmd.Parameters.Add(\"@username2\", SqlDbType.VarChar).Value =\"Second User\";\n        using (var sda = new SqlDataAdapter(cmd))\n        {\n            var ds = new DataSet();\n            sda.Fill(ds);\n            foreach (DataRow row in ds.Tables[0].Rows)\n                Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]);\n        }\n    }\n}\n",
    "resolution": "I think the solution to your problem is to combine the creation of the temp table and selecting from that temp table into one query (see code snippet #3 below). Executing the command twice (as you do in the code in your question) seems to work ok if you are not using command parameters, but fails if they are introduced. I tested a few different approaches and here's what I found. 1) WORKS OK: Use same command object, no command parameters, execute command twice: using (var conn = new SqlConnection(\"...\")) { conn.Open(); using (var cmd = conn.CreateCommand()) { const string query = @\" CREATE TABLE #temp ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL) INSERT INTO #temp VALUES(1, 'User 1') INSERT INTO #temp VALUES(2, 'User 2')\"; cmd.CommandType = CommandType.Text; cmd.CommandText = query; cmd.ExecuteNonQuery(); cmd.CommandText = \"SELECT * FROM #temp\"; using (var sda = new SqlDataAdapter(cmd)) { var ds = new DataSet(); sda.Fill(ds); foreach (DataRow row in ds.Tables[0].Rows) Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]); } } } 2) FAILS: Use same command object, command parameters, execute command twice: using (var conn = new SqlConnection(\"...\")) { conn.Open(); using (var cmd = conn.CreateCommand()) { const string query = @\" CREATE TABLE #temp ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL) INSERT INTO #temp VALUES(1, @username1) INSERT INTO #temp VALUES(2, @username2) \"; cmd.CommandType = CommandType.Text; cmd.CommandText = query; cmd.Parameters.Add(\"@username1\", SqlDbType.VarChar).Value =\"First User\"; cmd.Parameters.Add(\"@username2\", SqlDbType.VarChar).Value =\"Second User\"; cmd.ExecuteNonQuery(); cmd.Parameters.Clear(); cmd.CommandText = \"SELECT * FROM #temp\"; using(var sda = new SqlDataAdapter(cmd)) { var ds = new DataSet(); sda.Fill(ds); foreach(DataRow row in ds.Tables[0].Rows) Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]); } } } 3) WORKS OK: Use same command object, command parameters, execute command once only: using (var conn = new SqlConnection(\"...\")) { conn.Open(); using (var cmd = conn.CreateCommand()) { const string query = @\" CREATE TABLE #temp ([ID] INT NOT NULL, [Name] VARCHAR(20) NOT NULL) INSERT INTO #temp VALUES(1, @username1) INSERT INTO #temp VALUES(2, @username2) SELECT * FROM #temp \"; cmd.CommandType = CommandType.Text; cmd.CommandText = query; cmd.Parameters.Add(\"@username1\", SqlDbType.VarChar).Value =\"First User\"; cmd.Parameters.Add(\"@username2\", SqlDbType.VarChar).Value =\"Second User\"; using (var sda = new SqlDataAdapter(cmd)) { var ds = new DataSet(); sda.Fill(ds); foreach (DataRow row in ds.Tables[0].Rows) Console.WriteLine(\"{0} - {1}\", row[\"ID\"], row[\"Name\"]); } } }",
    "severity": "high",
    "tags": [
      "c#",
      "sql-server"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "6629582",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 13380,
      "stackoverflow_creation_date": "2011-07-08T19:39:13.697Z"
    },
    "idempotency_key": "stackoverflow-6629582",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jquery function setInterval",
    "body": "$(document).ready(function(){ setInterval(swapImages(),1000); function swapImages(){ var active = $('.active'); var next = ($('.active').next().length > 0) ? $('.active').next() : $('#siteNewsHead img:first'); active.removeClass('active'); next.addClass('active'); } }); I have 13 images contained in a div. The first one has a class called active, which means it is displayed. The swap images function selects the active image and hides it, and makes the next image active. However, when the page loads, the function only works correctly once, rather than looping. Any ideas?",
    "code": "$(document).ready(function(){\n\n    setInterval(swapImages(),1000);\n\n    function swapImages(){\n\n        var active = $('.active'); \n        var next = ($('.active').next().length &gt; 0) ? $('.active').next() : $('#siteNewsHead img:first');\n\n        active.removeClass('active');\n        next.addClass('active');\n    }\n});\n\n\n# Solution Code:\n  setInterval(swapImages,1000);\n",
    "resolution": "This is because you are executing the function not referencing it. You should do: setInterval(swapImages,1000);",
    "severity": "high",
    "tags": [
      "jquery",
      "function",
      "setinterval"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "6693157",
      "stackoverflow_score": 18,
      "stackoverflow_view_count": 136821,
      "stackoverflow_creation_date": "2011-07-14T12:31:42.817Z"
    },
    "idempotency_key": "stackoverflow-6693157",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Algorithm to create unique random concatenation of items",
    "body": "I'm thinking about an algorithm that will create X most unique concatenations of Y parts, where each part can be one of several items. For example 3 parts: part #1: 0,1,2 part #2: a,b,c part #3: x,y,z And the (random, one case of some possibilities) result of 5 concatenations: 0ax 1by 2cz 0bz (note that '0by' would be \"less unique \" than '0bz' because 'by' already was) 2ay (note that 'a' didn't after '2' jet, and 'y' didn't after 'a' jet) Simple BAD results for next concatenation: 1cy ('c' wasn't after 1, 'y' wasn't after 'c', BUT '1'-'y' already was as first-last Simple GOOD next result would be: 0cy ('c' wasn't after '0', 'y' wasn't after 'c', and '0'-'y' wasn't as first-last part) 1az 1cx I know that this solution limit possible results, but when all full unique possibilities will gone, algorithm should continue and try to keep most avaible uniqueness (repeating as few as possible). Consider real example: Boy/Girl/Martin bought/stole/get bottle/milk/water And I want results like: Boy get milk Martin stole bottle Girl bought water Boy bought bottle (not water, because of 'bought+water' and not milk, because of 'Boy+milk') Maybe start with a tree of all combinations, but how to select most unique trees first? Edit: According to this sample data, we can see, that creation of fully unique results for 4 words * 3 possibilities, provide us only 3 results: Martin stole a bootle Boy bought an milk He get hard water But, there can be more results requested. So, 4. result should be most-available-uniqueness like Martin bought hard milk, not Martin stole a water Edit: Some start for a solution ? Imagine each part as a barrel, wich can be rotated, and last item goes as first when rotates down, first goes as last when rotating up. Now, set barells like this: Martin|stole |a |bootle Boy |bought|an |milk He |get |hard|water Now, write sentences as We see, and rotate first barell UP once, second twice, third three and so on. We get sentences (note that third barell did one full rotation): Boy |get |a |milk He |stole |an |water Martin|bought|hard|bootle And we get next solutions. We can do process one more time to get more solutions: He |bought|a |water Martin|get |an |bootle Boy |stole |hard|milk The problem is that first barrel will be connected with last, because rotating parallel. I'm wondering if that will be more uniqe if i rotate last barrel one more time in last solution (but the i provide other connections like an-water - but this will be repeated only 2 times, not 3 times like now). Don't know that \"barrels\" are good way ofthinking here. I think that we should first found a definition for uniqueness For example, what is changing uniqueness to drop ? If we use word that was already used ? Do repeating 2 words close to each other is less uniqe that repeating a word in some gap of other words ? So, this problem can be subjective. But I think that in lot of sequences, each word should be used similar times (like selecting word randomly and removing from a set, and after getting all words refresh all options that they can be obtained next time) - this is easy to do. But, even if we get each words similar number od times, we should do something to do-not-repeat-connections between words. I think, that more uniqe is repeating words far from each other, not next to each other.",
    "code": "1cy ('c' wasn't after 1, 'y' wasn't after 'c', BUT '1'-'y' already was as first-last \n\n\n0cy ('c' wasn't after '0', 'y' wasn't after 'c', and '0'-'y' wasn't as first-last part)\n1az\n1cx\n\n\nBoy/Girl/Martin\nbought/stole/get\nbottle/milk/water\n\n\nBoy get milk\nMartin stole bottle\nGirl bought water\nBoy bought bottle (not water, because of 'bought+water' and not milk, because of 'Boy+milk')\n\n\nMartin stole a bootle\nBoy bought an milk\nHe get hard water\n\n\nMartin|stole |a   |bootle\nBoy   |bought|an  |milk\nHe    |get   |hard|water\n\n\nBoy   |get   |a   |milk\nHe    |stole |an  |water\nMartin|bought|hard|bootle \n\n\nHe    |bought|a   |water\nMartin|get   |an  |bootle\nBoy   |stole |hard|milk \n\n\nMartin bought hard milk\n\nMartin stole a water\n\n# Solution Code:\nconst C = 1.0\n\nfunction CreateGoodConcatenation()\n{\n  for (rejectionCount = 0; ; rejectionCount++)\n  {\n    candidate = CreateRandomConcatination()\n    fitness = CalculateFitness(candidate) // returns 0 &lt; fitness &lt;= 1\n    r = GetRand(zero to one)\n    adjusted_r = Math.pow(r, C * rejectionCount + 1)  // bias toward acceptability as rejectionCount increases\n    if (adjusted_r &lt; fitness)\n    {\n      return candidate\n    }\n  }\n}\n",
    "resolution": "Anytime you need a new concatenation, just generate a completely random one, calculate it's fitness, and then either accept that concatenation or reject it (probabilistically, that is). const C = 1.0 function CreateGoodConcatenation() { for (rejectionCount = 0; ; rejectionCount++) { candidate = CreateRandomConcatination() fitness = CalculateFitness(candidate) // returns 0 < fitness <= 1 r = GetRand(zero to one) adjusted_r = Math.pow(r, C * rejectionCount + 1) // bias toward acceptability as rejectionCount increases if (adjusted_r < fitness) { return candidate } } } CalculateFitness should never return zero. If it does, you might find yourself in an infinite loop. As you increase C, less ideal concatenations are accepted more readily. As you decrease C, you face increased iterations for each call to CreateGoodConcatenation (plus less entropy in the result)",
    "severity": "low",
    "tags": [
      "algorithm",
      "language-agnostic",
      "random",
      "unique",
      "combinations"
    ],
    "metadata": {
      "stackoverflow_question_id": "6731559",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 376,
      "stackoverflow_creation_date": "2011-07-18T10:29:35.873Z"
    },
    "idempotency_key": "stackoverflow-6731559",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Problems with postgresql COPY command with Rails on different server",
    "body": "I have a rails app that has been working successfully for months. In a few places I call directly to the database via ActiveRecord::Base.connection.execute( sql_code ) With a recent need to scale, I just added a second server for data processing. I want to run the same app but connect over the network to the other database server. That is the only difference here. All other areas of the app work--it can connect to the remote database. Where it is breaking, is where I have rails issue a psql COPY command to import a csv file. result = ActiveRecord::Base.connection.execute( @PGSQL_COPY_COMMAND ) # perform the copy command This fails and says that the csv file can not be found. I have verified it is there and is readable to both the user running the rails app and the postgres user. Am I missing something?",
    "code": "   result = ActiveRecord::Base.connection.execute( @PGSQL_COPY_COMMAND )     # perform the copy command\n\n\n# Solution Code:\nconn = ActiveRecord::Base.connection_pool.checkout\nraw  = conn.raw_connection\nraw.exec(\"COPY tablename (col1, col2, col3) FROM STDIN\")\n# open up your CSV file looping through line by line and getting the line into a format suitable for pg's COPY...\nraw.put_copy_data line\n# once all done...\nraw.put_copy_end\nwhile res = raw.get_result do; end # very important to do this after a copy\nActiveRecord::Base.connection_pool.checkin(conn)\n",
    "resolution": "You can use COPY FROM STDIN to get around this... like so: conn = ActiveRecord::Base.connection_pool.checkout raw = conn.raw_connection raw.exec(\"COPY tablename (col1, col2, col3) FROM STDIN\") # open up your CSV file looping through line by line and getting the line into a format suitable for pg's COPY... raw.put_copy_data line # once all done... raw.put_copy_end while res = raw.get_result do; end # very important to do this after a copy ActiveRecord::Base.connection_pool.checkin(conn) I believe there are some options to COPY that will let you specify you're passing in CSV data which would make it even easier...",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "postgresql"
    ],
    "metadata": {
      "stackoverflow_question_id": "6779925",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 9089,
      "stackoverflow_creation_date": "2011-07-21T17:05:53.677Z"
    },
    "idempotency_key": "stackoverflow-6779925",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What is maximum size of texture (Andengine)",
    "body": "What is maximum size of texture that should be used in andengine. I used this.diamondTexture = new Texture(2048, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA); When loading in device(HTC G1 T-Mobile) it shows blank screen. After reducing the image size and when replacing the above line with this this.diamondTexture = new Texture(1024, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA); Its running . Whats the problem ?",
    "code": "this.diamondTexture = new Texture(2048, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA);\n\n\nthis.diamondTexture = new Texture(1024, 512, TextureOptions.BILINEAR_PREMULTIPLYALPHA);\n",
    "severity": "medium",
    "tags": [
      "android",
      "andengine"
    ],
    "metadata": {
      "stackoverflow_question_id": "6815141",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2699,
      "stackoverflow_creation_date": "2011-07-25T11:09:48.527Z"
    },
    "idempotency_key": "stackoverflow-6815141",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Tips regarding high performance drawing in Android",
    "body": "Background I'm writing a graphing library for an android application (yes yes, I know there are plenty out there but none that offer the customizability we need). I want the graphs to zoomable and pan-able. Problem I want the experience to be smooth, leave a small CPU footprint. Solutions Use View.onDraw(Canvas) Use high resolution Bitmap Use OpenGL View.onDraw(): Benefits Some what easy to implement Drawbacks Bad performance? (unless it uses OpenGL, does it?) Bitmap: Benefits Really easy to implement Great performance Drawbacks Have to use scaling which is ugly OpenGL: Benefits Probably good performance depending on my implementation Drawbacks More work to implement Final words OpenGL would probably be the professional solution and would definitely offer more flexibility but it would require more work (how much is unclear). One thing that is definitely easier in OpenGL is panning/zooming since I can just manipulate the matrix to get it right, the rest should be harder though I think. I'm not afraid to get my hands dirty but I want to know I'm heading in the right direction before I start digging. Have I missed any solutions? Are all my solutions sane? Additional notes: I can add that when a graph changes I want to animated the changes, this will perhaps be the most demanding task of all.",
    "code": "View.onDraw(Canvas)\n\nBitmap\n\nOpenGL",
    "severity": "medium",
    "tags": [
      "android",
      "performance",
      "opengl-es",
      "drawing",
      "rendering"
    ],
    "metadata": {
      "stackoverflow_question_id": "6881633",
      "stackoverflow_score": 20,
      "stackoverflow_view_count": 4673,
      "stackoverflow_creation_date": "2011-07-30T06:54:25.877Z"
    },
    "idempotency_key": "stackoverflow-6881633",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Debugging sqlite database on the device",
    "body": "I am presently working on an WiFi application for Android. I am having trouble trying to access the database on the device. Debugging in the emulator doesn't work for me, because there is no WiFi support in the emulator. I tried pulling the database file out of the device by using adb pull data/data/package-name/databases/database-name But I get the error \"Permission denied.\". In this answer Android: Where are database files stored?, Commonsware has suggested to pull database file by running in debug mode. But it doesn't work too. Any help on how to debug the database without rooting the device would be much appreciated.",
    "code": "adb pull data/data/package-name/databases/database-name\n\n\n# Solution Code:\nrun-as com.your.package sh -c &quot;cat ~/databases/db-file.db&quot; &gt; /sdcard/db-file.db\n\n\nrun-as com.your.package cat databases/db-file.db &gt; /sdcard/db-file.db\n\n\nadb shell 'run-as com.your.package cat databases/db-file.db' &gt; db-file.db\n\n\nadb exec-out 'run-as com.your.package cat databases/db-file.db' &gt; db-file.db\n\n\nadb exec-in 'run-as com.your.package tee databases/db-file.db' &lt; db-file.db\n\n\nadb shell 'run-as com.your.package tee databases/db-file.db' &lt; db-file.db &gt;/dev/null\n\n\nrun-as\n\nUID\n\ndata\n\nadb shell\n\n~\n\nsh -c\n\ndb-file.db\n\nadb pull\n\nWRITE_EXTERNAL_STORAGE\n\nshell\n\nadb shell\n\nCR/LF\n\nbash\n\nadb exec-out\n\nadb shell\n\nexec-in\n\nCR/LF",
    "resolution": "I'll repeat myself from another answer: Starting from API level 8 (Android 2.2), if you build the application as debuggable, you can use the shell run-as command to run a command or executable as a specific user/application or just switch to the UID of your application so you can access its data directory. Copy files to external storage on the device So if you wish to pull your application database from the device you can launch a debug build of the application from Android Studio, connect with adb shell and run the following command: run-as com.your.package sh -c \"cat ~/databases/db-file.db\" > /sdcard/db-file.db or you can use a shorter version which uses relative paths and by skipping the reference to the home directory ~ can omit the sh -c part too: run-as com.your.package cat databases/db-file.db > /sdcard/db-file.db This will copy your db-file.db to the root of your SD card / external storage. Now you can easily get it from there by using file manager, adb pull or whatever else you like. Note that with this approach, there is NO need for your app to have WRITE_EXTERNAL_STORAGE permission, as the copying is done by the shell user who can always write to the external storage. Copy files directly to the computer You can also copy a database directly to your computer with the following command: adb shell 'run-as com.your.package cat databases/db-file.db' > db-file.db The adb shell command above will not work correctly on Windows host because of the CR/LF symbols conversion, unless you run it from a bash shell or use the undocumented adb exec-out command instead (some comments mention they still cannot get it to work correctly on a Windows machine, so your mileage may vary): adb exec-out 'run-as com.your.package cat databases/db-file.db' > db-file.db Write files back to the device If you modified the file on your computer and wish to write the modifications back to the device use the following command: adb exec-in 'run-as com.your.package tee databases/db-file.db' < db-file.db or if you prefer an adb shell version over undocumented exec-in, use the following (but read the concern about the Windows CR/LF conversion above): adb shell 'run-as com.your.package tee databases/db-file.db' < db-file.db >/dev/null Status update All the commands above are still working as of July, 2023",
    "severity": "high",
    "tags": [
      "android",
      "sqlite",
      "adb"
    ],
    "metadata": {
      "stackoverflow_question_id": "6928849",
      "stackoverflow_score": 99,
      "stackoverflow_view_count": 84085,
      "stackoverflow_creation_date": "2011-08-03T15:17:22.943Z"
    },
    "idempotency_key": "stackoverflow-6928849",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Does calling 'count' on a to-many CoreData relationship fault bring all objects in the collection into memory?",
    "body": "Say I have an Entity 'Employee' with a to-many relationship 'departments' to another entity 'Department'. If I have an instance of an Employee object and the departments collection is currently a fault, what is the most memory efficient way to get the count of departments? Two obvious options are: 1) calling [myEmployee.departments count]; 2) Constructing a fetchRequest to return only the Department objects whose matching 'employee' relationship points to my employee object and then calling countForFetchRequest: Apart from the memory usage would either one of these methods be non-negligibly faster then the other?",
    "code": "[myEmployee.departments count];\n\ncountForFetchRequest:",
    "severity": "low",
    "tags": [
      "core-data",
      "fault"
    ],
    "metadata": {
      "stackoverflow_question_id": "6968683",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 956,
      "stackoverflow_creation_date": "2011-08-06T18:10:39.047Z"
    },
    "idempotency_key": "stackoverflow-6968683",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "FrameworkElementFactory must be in a sealed template for this operation",
    "body": "I wrote a snippet to create a own DataTemplate by c# code. And i add it to datagrid column's editing template. When i called object templateContent = tc.CellTemplate.LoadContent ( );, the application crashed, and throw me a exception which is \"FrameworkElementFactory must be in a sealed template for this operation.\". This is the code i create my datatemplate. public override DataTemplate GenerateCellTemplate ( string propertyName ) { DataTemplate template = new DataTemplate ( ); var textBlockName = string.Format ( \"{0}_TextBlock\", propertyName ); FrameworkElementFactory textBoxElement = new FrameworkElementFactory ( typeof ( TextBlock ), textBlockName ); textBoxElement.SetBinding ( TextBlock.TextProperty, new Binding ( propertyName ) ); template.VisualTree = textBoxElement; Trigger trigger = new Trigger ( ); return template; }",
    "code": "public override DataTemplate GenerateCellTemplate ( string propertyName )\n    {\n        DataTemplate template = new DataTemplate ( );\n        var textBlockName = string.Format ( \"{0}_TextBlock\", propertyName );\n        FrameworkElementFactory textBoxElement = new FrameworkElementFactory ( typeof ( TextBlock ), textBlockName );\n        textBoxElement.SetBinding ( TextBlock.TextProperty, new Binding ( propertyName ) );\n        template.VisualTree = textBoxElement;\n        Trigger trigger = new Trigger ( );\n        return template;\n    }\n\n\nobject templateContent = tc.CellTemplate.LoadContent ( );\n\n# Solution Code:\npublic override DataTemplate GenerateCellTemplate ( string propertyName )\n{\n    DataTemplate template = new DataTemplate ( );\n    var textBlockName = string.Format ( \"{0}_TextBlock\", propertyName );\n    FrameworkElementFactory textBoxElement = new FrameworkElementFactory ( typeof ( TextBlock ), textBlockName );\n    textBoxElement.SetBinding ( TextBlock.TextProperty, new Binding ( propertyName ) );\n    template.VisualTree = textBoxElement;\n    Trigger trigger = new Trigger ( );\n\n    // This solves it!\n    template.Seal();\n\n    return template;\n}\n",
    "resolution": "I reflect the framework template code in reflector. And i found tc.CellTemplate.LoadContent ( ) is concerned with a private field named \"_sealed\" in the class FrameworkTemplate. Then i found the field where be set value, and i call this method, the problem is solved. Here is the solution: public override DataTemplate GenerateCellTemplate ( string propertyName ) { DataTemplate template = new DataTemplate ( ); var textBlockName = string.Format ( \"{0}_TextBlock\", propertyName ); FrameworkElementFactory textBoxElement = new FrameworkElementFactory ( typeof ( TextBlock ), textBlockName ); textBoxElement.SetBinding ( TextBlock.TextProperty, new Binding ( propertyName ) ); template.VisualTree = textBoxElement; Trigger trigger = new Trigger ( ); // This solves it! template.Seal(); return template; }",
    "severity": "medium",
    "tags": [
      "wpf",
      "exception",
      "datatemplate",
      "wpfdatagrid",
      "frameworkelementfactory"
    ],
    "metadata": {
      "stackoverflow_question_id": "6979974",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 6060,
      "stackoverflow_creation_date": "2011-08-08T09:17:57.897Z"
    },
    "idempotency_key": "stackoverflow-6979974",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ORA-00904:\"MAY\":INVALID IDENTIFIER",
    "body": "INSERT INTO FCR.TRANSACTION ( TRX_UNIT, TRX_DATE, TRX_USR, TRX_USR_SN, TRANSACTION_CODE, PRODUCT_CODE, CURRENCY_SHORT_DESCRIPTION, AMOUNT_FC, EXCHANGE_RATE, AMOUNT_DC) SELECT SOURCE_SYSTEM_CHANNEL_CODE, to_char(TRANSACTION_DATE, 'dd/mm/yyyy'), USER_CODE, USER_TRANSACTION_SERIAL_NUMBER, TRANSACTION_CODE, PROFITS_PRODUCT_CODE, SHORT_DESCRIPTION, SOURCE_AMOUNT_FC, SOURCE_EXCHANGE_RATE, SOURCE_AMOUNT_EUR FROM FCR_TRANSACTION WHERE TRANSACTION_DATE = to_char(02-MAY-2006, 'dd/mm/yyyy') The above is the query which I am entering in ORACLE but it is giving me the error ORA-00904:\"MAY\":INVALID IDENTIFIER Can anyone help me with this please. Thanks",
    "code": "INSERT INTO FCR.TRANSACTION (   \nTRX_UNIT,    \nTRX_DATE,    \nTRX_USR,    \nTRX_USR_SN,    \nTRANSACTION_CODE,    \nPRODUCT_CODE,    \nCURRENCY_SHORT_DESCRIPTION,    \nAMOUNT_FC,    \nEXCHANGE_RATE,    \nAMOUNT_DC) \nSELECT    \nSOURCE_SYSTEM_CHANNEL_CODE,    \nto_char(TRANSACTION_DATE, 'dd/mm/yyyy'),    \nUSER_CODE,    \nUSER_TRANSACTION_SERIAL_NUMBER,    \nTRANSACTION_CODE,    \nPROFITS_PRODUCT_CODE,    \nSHORT_DESCRIPTION,    \nSOURCE_AMOUNT_FC,    \nSOURCE_EXCHANGE_RATE,    \nSOURCE_AMOUNT_EUR \nFROM    \nFCR_TRANSACTION \nWHERE    \nTRANSACTION_DATE = to_char(02-MAY-2006, 'dd/mm/yyyy')\n\n\n# Solution Code:\nTRANSACTION_DATE = to_date('02-MAY-2006', 'dd-mon-yyyy')\n",
    "resolution": "If TRANSACTION_DATE is a date (and I sincerely hope it is) you need to use TO_DATE to convert a string into a DATE. And because it's a string it needs to be in quotes, because that's what we do with literals. Oh, and the other thing is, the mask needs to match the format used in the string to represent the date. So, the line should be: TRANSACTION_DATE = to_date('02-MAY-2006', 'dd-mon-yyyy')",
    "severity": "high",
    "tags": [
      "sql",
      "oracle-database",
      "oracle10g"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "6995177",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 24926,
      "stackoverflow_creation_date": "2011-08-09T11:05:27.993Z"
    },
    "idempotency_key": "stackoverflow-6995177",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Referencing Object Properties in Javascript",
    "body": "If I have The code: function RandomObjectThatIsntNamedObjectWhichIOriginallyNamedObjectOnAccident() { this.foo = 0; this.bar = function () { this.naba = function () { //How do I reference foo here? } } }",
    "code": "function RandomObjectThatIsntNamedObjectWhichIOriginallyNamedObjectOnAccident() {\n    this.foo = 0;\n    this.bar = function () {\n        this.naba = function () {\n            //How do I reference foo here?\n        }\n    }\n}\n\n\n# Solution Code:\nfunction RandomObjectThatIsntNamedObjectWhichIOriginallyNamedObjectOnAccident() {\n    var self = this;\n    this.foo = 0;\n    this.bar = function () {\n        this.naba = function () {\n            self.foo; //foo!\n        }\n    }\n}\n\n\nself",
    "resolution": "You need a self reference: function RandomObjectThatIsntNamedObjectWhichIOriginallyNamedObjectOnAccident() { var self = this; this.foo = 0; this.bar = function () { this.naba = function () { self.foo; //foo! } } }",
    "severity": "low",
    "tags": [
      "javascript",
      "oop",
      "object"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "7235062",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 385,
      "stackoverflow_creation_date": "2011-08-29T19:44:26.840Z"
    },
    "idempotency_key": "stackoverflow-7235062",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to transform a data frame into a matrix with group values in rows and columns?",
    "body": "I ran a piece of code like this x = data.frame(numerator = 1:3, value = letters[1:3],value1=letters[4:6]) xa = aggregate(list(x$numerator),by=list(x$value,x$value1),FUN=sum) But the result xa is formatted like this Group.1 Group.2 X1.3 1 a d 1 2 b e 2 3 c f 3 I would like my results to be organised in a matrix format such that the rows are represented by the Group.1 values and the columns are represented by the Group.2 values, like the following: d e f a 1 NULL NULL b NULL 2 NULL c NULL NULL 3 How do I do that?",
    "code": "x = data.frame(numerator = 1:3, value = letters[1:3],value1=letters[4:6])\nxa = aggregate(list(x$numerator),by=list(x$value,x$value1),FUN=sum)\n\n\n Group.1 Group.2 X1.3\n1       a       d    1\n2       b       e    2\n3       c       f    3\n\n\n    d e f\na   1 NULL NULL\nb   NULL 2 NULL\nc   NULL NULL 3\n\n\nxa\n\n# Solution Code:\nxa = daply(.data=x,\n           .variables=c(\"value\",\"value1\"),\n           .fun=function(x) sum(x$numerator))\n",
    "resolution": "You can use daply from plyr package. xa = daply(.data=x, .variables=c(\"value\",\"value1\"), .fun=function(x) sum(x$numerator))",
    "severity": "medium",
    "tags": [
      "r",
      "matrix",
      "aggregate"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "7281886",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1387,
      "stackoverflow_creation_date": "2011-09-02T10:02:41.693Z"
    },
    "idempotency_key": "stackoverflow-7281886",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Setting Different Color to particular Row in Series-JFreeChart",
    "body": "I have array of elements and they belong to one Series,with these elements I calculated Centroids. Problem is when I display them with \"ScatterPlot\" I need to show \"Array Elements\" with \"One Color\" and the Centroid of these points in \"Different Color\". import java.awt.BorderLayout; import java.awt.Color; import java.awt.Dimension; import java.awt.Shape; import java.awt.event.ActionEvent; import java.awt.event.ActionListener; import javax.swing.JButton; import javax.swing.JFrame; import javax.swing.JPanel; import org.jfree.chart.ChartFactory; import org.jfree.chart.ChartPanel; import org.jfree.chart.JFreeChart; import org.jfree.chart.plot.DefaultDrawingSupplier; import org.jfree.chart.plot.PlotOrientation; import org.jfree.chart.plot.XYPlot; import org.jfree.chart.renderer.xy.XYItemRenderer; import org.jfree.data.xy.DefaultXYDataset; import org.jfree.data.xy.XYDataset; public class Scatteradd extends JFrame { int i, x = 0, n1 = 0; public Scatteradd(String title, final double[][] samples) { super(title); this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); final DefaultXYDataset dataset = new DefaultXYDataset(); dataset.addSeries(\"Series0\", createSeries(0, samples)); //dataset.addSeries(\"Series1\", createSeries(1,trainingset3)); JFreeChart chart = createChart(dataset); ChartPanel chartPanel = new ChartPanel(chart, false); chartPanel.setPreferredSize(new Dimension(640, 480)); this.add(chartPanel, BorderLayout.CENTER); JPanel buttonPanel = new JPanel(); JButton addButton = new JButton(\"Add Series\"); buttonPanel.add(addButton); addButton.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e) { int n = dataset.getSeriesCount(); System.out.println(\"N-SIZE\" + n); dataset.addSeries(\"Series\" + n, createSeries(n, samples)); System.exit(1); } }); JButton remButton = new JButton(\"Remove Series\"); buttonPanel.add(remButton); remButton.addActionListener(new ActionListener() { public void actionPerformed(ActionEvent e) { int n = dataset.getSeriesCount() - 1; dataset.removeSeries(\"Series\" + n); } }); this.add(buttonPanel, BorderLayout.SOUTH); } /** * Create a series * @param samples * * @ return the series */ private double[][] createSeries(int mean, double[][] samples) { double[][] series = new double[2][samples.length + 1]; System.out.println(\"SSSKSKSValue\" + series.length); double p = 0, q = 0; for (i = 0; i < samples.length; i++) { series[0][i] = samples[i][0]; p = p + samples[i][0]; series[1][i] = samples[i][1]; q = q + samples[i][1]; //System.out.println(\"Series Values\"+series[0][i]+\",\"+series[1][i]); } series[0][samples.length] = p / samples.length;//Centroid Calculation series[1][samples.length] = q / samples.length;//Centroid Calculation //Printing All Points in Series Array and the Last Row is the Centroid Values //which I want display in different Color on Scatter Plot for (int v = 0; v < series[0].length; v++) { System.out.println(\"Series Values\" + series[0][v] + \",\" + series[1][v]); } return series; } private JFreeChart createChart(XYDataset dataset) { // create the chart... JFreeChart chart = ChartFactory.createScatterPlot( \"Scatter Plot Demo\", \"X\", \"Y\", dataset, PlotOrientation.VERTICAL, true, true, false); // set chart background chart.setBackgroundPaint(Color.white); // set a few custom plot features XYPlot plot = (XYPlot) chart.getPlot(); Shape[] cross = DefaultDrawingSupplier.createStandardSeriesShapes(); plot.setBackgroundPaint(new Color(0xffffe0)); plot.setDomainGridlinesVisible(true); plot.setDomainGridlinePaint(Color.lightGray); plot.setRangeGridlinePaint(Color.lightGray); XYItemRenderer renderer = (XYItemRenderer) plot.getRenderer(); renderer.setSeriesShape(0, cross[0]); plot.setRenderer(renderer); return chart; } /** Main method **/ public static void main(String[] args) { double[][] trainingset3 = { {0.428053, 0.409742,}, {0.415487, 0.401414,}, {0.404834, 0.400493,},}; Scatteradd demo = new Scatteradd(\"JFreeChartDemo\", trainingset3); demo.pack(); demo.setLocationRelativeTo(null); demo.setVisible(true); } } SSSKSKSValue2 Series Values0.428053,0.409742 Series Values0.415487,0.401414 Series Values0.404834,0.400493 Series Values0.4161246666666667,0.403883 //Centroids of above 3 Rows Is there any method to show particular row in a series with different Color,Any example provided regarding this would be great and helpful. Thanks",
    "code": "import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Shape;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.DefaultDrawingSupplier;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYItemRenderer;\nimport org.jfree.data.xy.DefaultXYDataset;\nimport org.jfree.data.xy.XYDataset;\n\npublic class Scatteradd extends JFrame {\n\n    int i, x = 0, n1 = 0;\n\n    public Scatteradd(String title, final double[][] samples) {\n        super(title);\n\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        final DefaultXYDataset dataset = new DefaultXYDataset();\n        dataset.addSeries(\"Series0\", createSeries(0, samples));\n        //dataset.addSeries(\"Series1\", createSeries(1,trainingset3));\n        JFreeChart chart = createChart(dataset);\n        ChartPanel chartPanel = new ChartPanel(chart, false);\n        chartPanel.setPreferredSize(new Dimension(640, 480));\n        this.add(chartPanel, BorderLayout.CENTER);\n        JPanel buttonPanel = new JPanel();\n        JButton addButton = new JButton(\"Add Series\");\n\n        buttonPanel.add(addButton);\n        addButton.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent e) {\n                int n = dataset.getSeriesCount();\n                System.out.println(\"N-SIZE\" + n);\n                dataset.addSeries(\"Series\" + n, createSeries(n, samples));\n                System.exit(1);\n            }\n        });\n        JButton remButton = new JButton(\"Remove Series\");\n        buttonPanel.add(remButton);\n        remButton.addActionListener(new ActionListener() {\n\n            public void actionPerformed(ActionEvent e) {\n                int n = dataset.getSeriesCount() - 1;\n                dataset.removeSeries(\"Series\" + n);\n            }\n        });\n        this.add(buttonPanel, BorderLayout.SOUTH);\n    }\n\n    /**\n     * Create a series\n     * @param samples \n     * \n     * @ return the series\n     */\n    private double[][] createSeries(int mean, double[][] samples) {\n\n        double[][] series = new double[2][samples.length + 1];\n\n        System.out.println(\"SSSKSKSValue\" + series.length);\n        double p = 0, q = 0;\n        for (i = 0; i &lt; samples.length; i++) {\n\n            series[0][i] = samples[i][0];\n            p = p + samples[i][0];\n            series[1][i] = samples[i][1];\n            q = q + samples[i][1];\n            //System.out.println(\"Series Values\"+series[0][i]+\",\"+series[1][i]);\n        }\n\n\n        series[0][samples.length] = p / samples.length;//Centroid Calculation\n        series[1][samples.length] = q / samples.length;//Centroid Calculation\n        //Printing All Points in Series Array and the Last Row is the Centroid Values\n        //which I want display in different Color on Scatter Plot\n        for (int v = 0; v &lt; series[0].length; v++) {\n            System.out.println(\"Series Values\" + series[0][v] + \",\" + series[1][v]);\n        }\n\n        return series;\n\n    }\n\n    private JFreeChart createChart(XYDataset dataset) {\n\n        // create the chart...\n        JFreeChart chart = ChartFactory.createScatterPlot(\n            \"Scatter Plot Demo\", \"X\", \"Y\", dataset,\n            PlotOrientation.VERTICAL, true, true, false);\n\n        // set chart background\n        chart.setBackgroundPaint(Color.white);\n\n        // set a few custom plot features\n        XYPlot plot = (XYPlot) chart.getPlot();\n        Shape[] cross = DefaultDrawingSupplier.createStandardSeriesShapes();\n        plot.setBackgroundPaint(new Color(0xffffe0));\n        plot.setDomainGridlinesVisible(true);\n        plot.setDomainGridlinePaint(Color.lightGray);\n        plot.setRangeGridlinePaint(Color.lightGray);\n        XYItemRenderer renderer = (XYItemRenderer) plot.getRenderer();\n        renderer.setSeriesShape(0, cross[0]);\n        plot.setRenderer(renderer);\n\n        return chart;\n    }\n\n    /** Main method **/\n    public static void main(String[] args) {\n\n        double[][] trainingset3 = {\n            {0.428053, 0.409742,},\n            {0.415487, 0.401414,},\n            {0.404834, 0.400493,},};\n        Scatteradd demo = new Scatteradd(\"JFreeChartDemo\", trainingset3);\n\n        demo.pack();\n        demo.setLocationRelativeTo(null);\n        demo.setVisible(true);\n\n    }\n}\n\n\n# Solution Code:\nimport java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Paint;\nimport java.awt.Shape;\nimport java.util.Arrays;\nimport javax.swing.JFrame;\nimport org.jfree.chart.ChartFactory;\nimport org.jfree.chart.ChartPanel;\nimport org.jfree.chart.JFreeChart;\nimport org.jfree.chart.plot.DefaultDrawingSupplier;\nimport org.jfree.chart.plot.PlotOrientation;\nimport org.jfree.chart.plot.XYPlot;\nimport org.jfree.chart.renderer.xy.XYLineAndShapeRenderer;\nimport org.jfree.data.xy.DefaultXYDataset;\nimport org.jfree.data.xy.XYDataset;\n\npublic class ScatterColors extends JFrame {\n\n    private static final Color centroidColor = Color.blue;\n    private int centroidColumn;\n\n    public ScatterColors(String title, final double[][] samples) {\n        super(title);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        DefaultXYDataset dataset = new DefaultXYDataset();\n        dataset.addSeries(\"Series\", createSeries(0, samples));\n        JFreeChart chart = createChart(dataset);\n        ChartPanel chartPanel = new ChartPanel(chart, false);\n        chartPanel.setPreferredSize(new Dimension(500, 400));\n        this.add(chartPanel, BorderLayout.CENTER);\n    }\n\n    private double[][] createSeries(int mean, double[][] samples) {\n        centroidColumn = samples.length;\n        double[][] series = new double[2][samples.length + 1];\n        double p = 0, q = 0;\n        for (int i = 0; i &lt; samples.length; i++) {\n            series[0][i] = samples[i][0];\n            p = p + samples[i][0];\n            series[1][i] = samples[i][1];\n            q = q + samples[i][1];\n        }\n        series[0][samples.length] = p / samples.length;\n        series[1][samples.length] = q / samples.length;\n        for (int i = 0; i &lt; series.length; i++) {\n            System.out.println(Arrays.toString(series[i]));\n        }\n        return series;\n    }\n\n    private JFreeChart createChart(XYDataset dataset) {\n        JFreeChart chart = ChartFactory.createScatterPlot(\n            \"Scatter Plot Demo\", \"X\", \"Y\", dataset,\n            PlotOrientation.VERTICAL, true, true, false);\n        chart.setBackgroundPaint(Color.white);\n        XYPlot plot = (XYPlot) chart.getPlot();\n        Shape[] cross = DefaultDrawingSupplier.createStandardSeriesShapes();\n        plot.setBackgroundPaint(new Color(0xffffe0));\n        plot.setDomainGridlinesVisible(true);\n        plot.setDomainGridlinePaint(Color.lightGray);\n        plot.setRangeGridlinePaint(Color.lightGray);\n        MyRenderer renderer = new MyRenderer(false, true);\n        plot.setRenderer(renderer);\n        renderer.setSeriesShape(0, cross[0]);\n        plot.setRenderer(renderer);\n        return chart;\n    }\n\n    private class MyRenderer extends XYLineAndShapeRenderer {\n\n        public MyRenderer(boolean lines, boolean shapes) {\n            super(lines, shapes);\n        }\n\n        @Override\n        public Paint getItemPaint(int row, int col) {\n            if (col == centroidColumn) {\n                return centroidColor;\n            } else {\n                return super.getItemPaint(row, col);\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        double[][] trainingSet = {\n            {0.428053, 0.409742,},\n            {0.415487, 0.401414,},\n            {0.404834, 0.400493,},\n        };\n        ScatterColors demo = new ScatterColors(\"JFreeChartDemo\", trainingSet);\n        demo.pack();\n        demo.setLocationRelativeTo(null);\n        demo.setVisible(true);\n    }\n}\n\n\ngetItemPaint\n\nXYLineAndShapeRenderer\n\nrow\n\ncol\n\nMyRenderer\n\nextends XYLineAndShapeRenderer",
    "resolution": "You can override getItemPaint in the scatter plot's XYLineAndShapeRenderer and choose your color based on any desired combination of row and col. There's a related example here, although it's for a different renderer. Addendum: The general idea appears in MyRenderer, which extends XYLineAndShapeRenderer. import java.awt.BorderLayout; import java.awt.Color; import java.awt.Dimension; import java.awt.Paint; import java.awt.Shape; import java.util.Arrays; import javax.swing.JFrame; import org.jfree.chart.ChartFactory; import org.jfree.chart.ChartPanel; import org.jfree.chart.JFreeChart; import org.jfree.chart.plot.DefaultDrawingSupplier; import org.jfree.chart.plot.PlotOrientation; import org.jfree.chart.plot.XYPlot; import org.jfree.chart.renderer.xy.XYLineAndShapeRenderer; import org.jfree.data.xy.DefaultXYDataset; import org.jfree.data.xy.XYDataset; public class ScatterColors extends JFrame { private static final Color centroidColor = Color.blue; private int centroidColumn; public ScatterColors(String title, final double[][] samples) { super(title); this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); DefaultXYDataset dataset = new DefaultXYDataset(); dataset.addSeries(\"Series\", createSeries(0, samples)); JFreeChart chart = createChart(dataset); ChartPanel chartPanel = new ChartPanel(chart, false); chartPanel.setPreferredSize(new Dimension(500, 400)); this.add(chartPanel, BorderLayout.CENTER); } private double[][] createSeries(int mean, double[][] samples) { centroidColumn = samples.length; double[][] series = new double[2][samples.length + 1]; double p = 0, q = 0; for (int i = 0; i < samples.length; i++) { series[0][i] = samples[i][0]; p = p + samples[i][0]; series[1][i] = samples[i][1]; q = q + samples[i][1]; } series[0][samples.length] = p / samples.length; series[1][samples.length] = q / samples.length; for (int i = 0; i < series.length; i++) { System.out.println(Arrays.toString(series[i])); } return series; } private JFreeChart createChart(XYDataset dataset) { JFreeChart chart = ChartFactory.createScatterPlot( \"Scatter Plot Demo\", \"X\", \"Y\", dataset, PlotOrientation.VERTICAL, true, true, false); chart.setBackgroundPaint(Color.white); XYPlot plot = (XYPlot) chart.getPlot(); Shape[] cross = DefaultDrawingSupplier.createStandardSeriesShapes(); plot.setBackgroundPaint(new Color(0xffffe0)); plot.setDomainGridlinesVisible(true); plot.setDomainGridlinePaint(Color.lightGray); plot.setRangeGridlinePaint(Color.lightGray); MyRenderer renderer = new MyRenderer(false, true); plot.setRenderer(renderer); renderer.setSeriesShape(0, cross[0]); plot.setRenderer(renderer); return chart; } private class MyRenderer extends XYLineAndShapeRenderer { public MyRenderer(boolean lines, boolean shapes) { super(lines, shapes); } @Override public Paint getItemPaint(int row, int col) { if (col == centroidColumn) { return centroidColor; } else { return super.getItemPaint(row, col); } } } public static void main(String[] args) { double[][] trainingSet = { {0.428053, 0.409742,}, {0.415487, 0.401414,}, {0.404834, 0.400493,}, }; ScatterColors demo = new ScatterColors(\"JFreeChartDemo\", trainingSet); demo.pack(); demo.setLocationRelativeTo(null); demo.setVisible(true); } }",
    "severity": "medium",
    "tags": [
      "java",
      "jfreechart"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "7283902",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 9434,
      "stackoverflow_creation_date": "2011-09-02T13:09:59.837Z"
    },
    "idempotency_key": "stackoverflow-7283902",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Solr/Lucene spellcheck suggestions based on multiple fields",
    "body": "I have a database with Vendor's information: name and address (address, city, zip and country fields). I need to search this database and return some vendors. On the search box, the user could type anything: name of the vendor, part of the address, city, zip,... And, if I can't find any results, I need to implement a google like \"Did you mean\" feature to give a suggestion to the user. I thought about using Solr/Lucene to do it. I've installed Solr, exported the information I need using CSV file and created the indexes based on this file. Now I am able to get suggestions from a Solr field using solr.SpellCheckComponent. The thing is my suggestion is based in a single field and need it to get information from address, city, zip, country and name fields. On solr config file I have something like this: <searchComponent name=\"spellcheck\" class=\"solr.SpellCheckComponent\"> <str name=\"queryAnalyzerFieldType\">textSpell</str> <lst name=\"spellchecker\"> <str name=\"name\">default</str> <str name=\"field\">name</str> <str name=\"spellcheckIndexDir\">spellchecker</str> </lst> </searchComponent> <requestHandler name=\"/spell\" class=\"solr.SearchHandler\" startup=\"lazy\"> <lst name=\"defaults\"> <str name=\"spellcheck.onlyMorePopular\">false</str> <str name=\"spellcheck.extendedResults\">false</str> <str name=\"spellcheck.count>1</str> </lst> <arr name=\"last-components\"> <str>spellcheck</str> </arr> </requestHandler> I can run queries like: http://localhost:8983/solr/spell?q=some_company_name&spellcheck=true&spellcheck.collate=true&spellcheck.build=true Does anyone know how to change my config file in order to have suggestions from multiple fields? Thanks!!!",
    "code": "&lt;searchComponent name=\"spellcheck\" class=\"solr.SpellCheckComponent\"&gt;\n&lt;str name=\"queryAnalyzerFieldType\"&gt;textSpell&lt;/str&gt;\n\n&lt;lst name=\"spellchecker\"&gt;\n    &lt;str name=\"name\"&gt;default&lt;/str&gt;\n    &lt;str name=\"field\"&gt;name&lt;/str&gt;\n    &lt;str name=\"spellcheckIndexDir\"&gt;spellchecker&lt;/str&gt;\n&lt;/lst&gt;\n&lt;/searchComponent&gt;\n\n&lt;requestHandler name=\"/spell\" class=\"solr.SearchHandler\" startup=\"lazy\"&gt;\n    &lt;lst name=\"defaults\"&gt;\n        &lt;str name=\"spellcheck.onlyMorePopular\"&gt;false&lt;/str&gt;\n        &lt;str name=\"spellcheck.extendedResults\"&gt;false&lt;/str&gt;\n        &lt;str name=\"spellcheck.count&gt;1&lt;/str&gt;\n    &lt;/lst&gt;\n    &lt;arr name=\"last-components\"&gt;\n        &lt;str&gt;spellcheck&lt;/str&gt;\n    &lt;/arr&gt;\n&lt;/requestHandler&gt;\n\n\nhttp://localhost:8983/solr/spell?q=some_company_name&amp;spellcheck=true&amp;spellcheck.collate=true&amp;spellcheck.build=true\n\n\n# Solution Code:\n&lt;copyField source=\"*\" dest=\"contentSpell\"/&gt;\n\n&lt;str name=\"field\"&gt;name&lt;/str&gt;\n\n&lt;str name=\"field\"&gt;contentSpell&lt;/str&gt;",
    "resolution": "You use copyfield for this in schema.xml.<copyField source=\"*\" dest=\"contentSpell\"/> will copy all the fields to contentSpell. Then change <str name=\"field\">name</str> to <str name=\"field\">contentSpell</str> en you will get suggestions from all fields.",
    "severity": "medium",
    "tags": [
      "lucene",
      "solr",
      "spell-checking"
    ],
    "metadata": {
      "stackoverflow_question_id": "7287889",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5229,
      "stackoverflow_creation_date": "2011-09-02T18:41:07.120Z"
    },
    "idempotency_key": "stackoverflow-7287889",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unpack contents from Excel .XLL file built with Excel-DNA",
    "body": "I don't know if you know excel-dna project, it's a project that help to integrate .net assembly and language in excel addins. My problem is that I want to unpack a dll from an xll file (excel-dna is able to pack resources inside xll). I donwloaded the excel-dna sources and already write this base on the source code : string xlllib = @\"C:\\pathtomyxllfile\\myaddin.xll\"; string xlloutput = @\"C:\\pathtomyxllfile\\myaddin.dll\"; var hModule = ResourceHelper.LoadLibrary(xlllib); var content = ResourceHelper.LoadResourceBytes(hModule, \"ASSEMBLY_LZMA\", \"MYASSEMBLYNAME\"); using (BinaryWriter binWriter = new BinaryWriter(File.Open(xlloutput, FileMode.Create))) { binWriter.Write(content); } but it doesn't work. Anyone have an idea to unpack a dll from xll ? thanks in advance,",
    "code": "string xlllib = @\"C:\\pathtomyxllfile\\myaddin.xll\";\nstring xlloutput = @\"C:\\pathtomyxllfile\\myaddin.dll\";\nvar hModule = ResourceHelper.LoadLibrary(xlllib);\nvar content = ResourceHelper.LoadResourceBytes(hModule, \"ASSEMBLY_LZMA\", \"MYASSEMBLYNAME\");\n\nusing (BinaryWriter binWriter = new BinaryWriter(File.Open(xlloutput, FileMode.Create)))\n        {\n            binWriter.Write(content);\n        }\n\n\n# Solution Code:\n[Flags]\nenum LoadLibraryFlags : uint\n{\n  DONT_RESOLVE_DLL_REFERENCES = 0x00000001,\n  LOAD_IGNORE_CODE_AUTHZ_LEVEL = 0x00000010,\n  LOAD_LIBRARY_AS_DATAFILE = 0x00000002,\n  LOAD_LIBRARY_AS_DATAFILE_EXCLUSIVE = 0x00000040,\n  LOAD_LIBRARY_AS_IMAGE_RESOURCE = 0x00000020,\n  LOAD_WITH_ALTERED_SEARCH_PATH = 0x00000008\n}\n\ninternal unsafe static class ResourceHelper\n{\n  [DllImport(\"kernel32.dll\")]\n  public static extern IntPtr LoadLibraryEx(string lpFileName, IntPtr hFile,   LoadLibraryFlags dwFlags);\n // other methods such as LoadResourceBytes go here...\n}\n\n\nstring xlllib = @\"C:\\pathtomyxllfile\\myaddin.xll\";\nstring xlloutput = @\"C:\\pathtomyxllfile\\myaddin.dll\";\nvar hModule = ResourceHelper.LoadLibraryEx(xlllib, IntPtr.Zero, LoadLibraryFlags.LOAD_LIBRARY_AS_DATAFILE | LoadLibraryFlags.LOAD_LIBRARY_AS_IMAGE_RESOURCE);\n\nvar content = ResourceHelper.LoadResourceBytes(hModule, \"ASSEMBLY_LZMA\", \"YOUR_ASSEMBLY_NAME_WITHOUT_EXTENSION\");\n\nusing (BinaryWriter binWriter = new BinaryWriter(File.Open(xlloutput, FileMode.Create)))\n{\n  binWriter.Write(content);\n}\n",
    "resolution": "I think you are trying to load the x86 .xll file into a x64 bit process. It is not possible to mix x86 and x64 bit code. Instead use the LoadLibraryEx function to load your .xll file as a data file. Here is a small code sample: [Flags] enum LoadLibraryFlags : uint { DONT_RESOLVE_DLL_REFERENCES = 0x00000001, LOAD_IGNORE_CODE_AUTHZ_LEVEL = 0x00000010, LOAD_LIBRARY_AS_DATAFILE = 0x00000002, LOAD_LIBRARY_AS_DATAFILE_EXCLUSIVE = 0x00000040, LOAD_LIBRARY_AS_IMAGE_RESOURCE = 0x00000020, LOAD_WITH_ALTERED_SEARCH_PATH = 0x00000008 } internal unsafe static class ResourceHelper { [DllImport(\"kernel32.dll\")] public static extern IntPtr LoadLibraryEx(string lpFileName, IntPtr hFile, LoadLibraryFlags dwFlags); // other methods such as LoadResourceBytes go here... } string xlllib = @\"C:\\pathtomyxllfile\\myaddin.xll\"; string xlloutput = @\"C:\\pathtomyxllfile\\myaddin.dll\"; var hModule = ResourceHelper.LoadLibraryEx(xlllib, IntPtr.Zero, LoadLibraryFlags.LOAD_LIBRARY_AS_DATAFILE | LoadLibraryFlags.LOAD_LIBRARY_AS_IMAGE_RESOURCE); var content = ResourceHelper.LoadResourceBytes(hModule, \"ASSEMBLY_LZMA\", \"YOUR_ASSEMBLY_NAME_WITHOUT_EXTENSION\"); using (BinaryWriter binWriter = new BinaryWriter(File.Open(xlloutput, FileMode.Create))) { binWriter.Write(content); } Hope, this helps.",
    "severity": "medium",
    "tags": [
      "c#",
      "excel",
      "unpack",
      "xll",
      "excel-dna"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "7402209",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3803,
      "stackoverflow_creation_date": "2011-09-13T12:56:19.113Z"
    },
    "idempotency_key": "stackoverflow-7402209",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "how to get hardware-id for a network adapter programmatically in C#",
    "body": "I need to query the Hardware-Id for a network adapter using C#. Using the System.Management i can query the details of deviceID,description etc. but not the hardware id. where, listBox1 is a simple listbox control instance for showing the items on a winform app. For ex: ManagementObjectCollection mbsList = null; ManagementObjectSearcher mbs = new ManagementObjectSearcher(\"Select * From Win32_NetworkAdapter\"); mbsList = mbs.Get(); foreach (ManagementObject mo in mbsList) { listBox1.Items.Add(\"Name : \" + mo[\"Name\"].ToString()); listBox1.Items.Add(\"DeviceID : \" + mo[\"DeviceID\"].ToString()); listBox1.Items.Add(\"Description : \" + mo[\"Description\"].ToString()); } However looking at MSDN WMI reference there is no way i can get the HardwareId. By using the devcon tool (devcon hwids =net) however i know that each device is associated with a HardwareId Any help is deeply appreciated",
    "code": "ManagementObjectCollection mbsList = null;\nManagementObjectSearcher mbs = new ManagementObjectSearcher(\"Select * From Win32_NetworkAdapter\");\n                mbsList = mbs.Get();\n                foreach (ManagementObject mo in mbsList)\n                {\n                    listBox1.Items.Add(\"Name : \" + mo[\"Name\"].ToString());\n                    listBox1.Items.Add(\"DeviceID : \" + mo[\"DeviceID\"].ToString());\n                    listBox1.Items.Add(\"Description : \" + mo[\"Description\"].ToString());\n                }\n\n\n# Solution Code:\n        ManagementObjectSearcher adapterSearch = new ManagementObjectSearcher(\"root\\\\CIMV2\", \"SELECT * FROM Win32_NetworkAdapter\");\n\n        foreach (ManagementObject networkAdapter in adapterSearch.Get())\n        {\n            string pnpDeviceId = (string)networkAdapter[\"PNPDeviceID\"];\n            Console.WriteLine(\"Description  : {0}\", networkAdapter[\"Description\"]);\n            Console.WriteLine(\" PNPDeviceID : {0}\", pnpDeviceId);\n\n            if (string.IsNullOrEmpty(pnpDeviceId))\n                continue;\n\n            // make sure you escape the device string\n            string txt = \"SELECT * FROM win32_PNPEntity where DeviceID='\" + pnpDeviceId.Replace(\"\\\\\", \"\\\\\\\\\") + \"'\";\n            ManagementObjectSearcher deviceSearch = new ManagementObjectSearcher(\"root\\\\CIMV2\", txt);\n            foreach (ManagementObject device in deviceSearch.Get())\n            {\n                string[] hardwareIds = (string[])device[\"HardWareID\"];\n                if ((hardwareIds != null) &amp;&amp; (hardwareIds.Length &gt; 0))\n                {\n                    Console.WriteLine(\" HardWareID: {0}\", hardwareIds[0]);\n                }\n            }\n        }\n",
    "resolution": "The HardwareID you're looking for is located in another WMI Class. Once you have an instance of a Win32_NetworkAdapeter, you can select a Win32_PnpEntry using the PNPDeviceId. Here is a sample code that list all network adapters and their hardware id, if any: ManagementObjectSearcher adapterSearch = new ManagementObjectSearcher(\"root\\\\CIMV2\", \"SELECT * FROM Win32_NetworkAdapter\"); foreach (ManagementObject networkAdapter in adapterSearch.Get()) { string pnpDeviceId = (string)networkAdapter[\"PNPDeviceID\"]; Console.WriteLine(\"Description : {0}\", networkAdapter[\"Description\"]); Console.WriteLine(\" PNPDeviceID : {0}\", pnpDeviceId); if (string.IsNullOrEmpty(pnpDeviceId)) continue; // make sure you escape the device string string txt = \"SELECT * FROM win32_PNPEntity where DeviceID='\" + pnpDeviceId.Replace(\"\\\\\", \"\\\\\\\\\") + \"'\"; ManagementObjectSearcher deviceSearch = new ManagementObjectSearcher(\"root\\\\CIMV2\", txt); foreach (ManagementObject device in deviceSearch.Get()) { string[] hardwareIds = (string[])device[\"HardWareID\"]; if ((hardwareIds != null) && (hardwareIds.Length > 0)) { Console.WriteLine(\" HardWareID: {0}\", hardwareIds[0]); } } }",
    "severity": "medium",
    "tags": [
      "c#",
      "wmi-query"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "7480556",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8935,
      "stackoverflow_creation_date": "2011-09-20T05:31:28.227Z"
    },
    "idempotency_key": "stackoverflow-7480556",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I support XML with or without namespace, with my WCF HTTP REST service",
    "body": "I have a series of objects that look like this: namespace MyNamespace { [DataContract(Namespace=\"\")] public class MyClass1 { [DataMember] public string MyProperty {get;set;} } } I have a method which exposes the WebInvoke that looks like this (very simplified as this actually does nothing right now, but still works for this test) [WebInvoke(UriTemplate = \"\", Method=\"POST\")] public MyNamespace.MyClass1 GetItem(MyClass1 postedItem) { return postedItem; } I would really like to be able to accept XML that looks like this: <MyClass1> <MyProperty>1</MyProperty> </MyClass1> or this: <MyClass1 xmlns:\"http://schemas.datacontract.org/2004/07/MyNamespace\"> <MyProperty>1</MyProperty> </MyClass1> But so far my research seems to indicate this is not possible. My only idea right now is to use a IDispatchMessageInspector and consume the message, remove the xmlns namespace, and then allow WCF to continue processing the message. I have not had a lot of luck with this however, because once I consume the message it is no longer available for WCF to consume and deserialize. Is there an easier way? Is there a better way?",
    "code": "namespace MyNamespace\n{\n  [DataContract(Namespace=\"\")]\n  public class MyClass1\n  {\n    [DataMember]\n    public string MyProperty {get;set;}\n  }\n}\n\n\n[WebInvoke(UriTemplate = \"\", Method=\"POST\")]\npublic MyNamespace.MyClass1 GetItem(MyClass1 postedItem) { return postedItem; }\n\n\n&lt;MyClass1&gt;\n  &lt;MyProperty&gt;1&lt;/MyProperty&gt;\n&lt;/MyClass1&gt;\n\n\n&lt;MyClass1 xmlns:\"http://schemas.datacontract.org/2004/07/MyNamespace\"&gt;\n  &lt;MyProperty&gt;1&lt;/MyProperty&gt;\n&lt;/MyClass1&gt;\n\n\n# Solution Code:\npublic class StackOverflow_7506072\n{\n    [DataContract(Name = \"MyClass1\", Namespace = \"\")]\n    public class MyClass1\n    {\n        [DataMember]\n        public string MyProperty { get; set; }\n    }\n    [ServiceContract]\n    public class Service\n    {\n        [WebInvoke(UriTemplate = \"\", Method = \"POST\")]\n        public MyClass1 GetItem(MyClass1 postedItem) { return postedItem; }\n    }\n    public class MyInspector : IEndpointBehavior, IDispatchMessageInspector\n    {\n        public void AddBindingParameters(ServiceEndpoint endpoint, BindingParameterCollection bindingParameters)\n        {\n        }\n\n        public void ApplyClientBehavior(ServiceEndpoint endpoint, ClientRuntime clientRuntime)\n        {\n        }\n\n        public void ApplyDispatchBehavior(ServiceEndpoint endpoint, EndpointDispatcher endpointDispatcher)\n        {\n            endpointDispatcher.DispatchRuntime.MessageInspectors.Add(this);\n        }\n\n        public void Validate(ServiceEndpoint endpoint)\n        {\n        }\n\n        public object AfterReceiveRequest(ref Message request, IClientChannel channel, InstanceContext instanceContext)\n        {\n            MemoryStream ms = new MemoryStream();\n            XmlWriter w = XmlWriter.Create(ms);\n            request.WriteMessage(w);\n            w.Flush();\n            ms.Position = 0;\n            XElement element = XElement.Load(ms);\n            if (element.Name.NamespaceName == \"http://schemas.datacontract.org/2004/07/MyNamespace\")\n            {\n                element.Name = XName.Get(element.Name.LocalName, \"\");\n                foreach (XElement child in element.Descendants())\n                {\n                    if (child.Name.NamespaceName == \"http://schemas.datacontract.org/2004/07/MyNamespace\")\n                    {\n                        child.Name = XName.Get(child.Name.LocalName, \"\");\n                    }\n                }\n\n                element.Attribute(\"xmlns\").Remove();\n            }\n\n            XmlReader r = element.CreateReader();\n            Message newRequest = Message.CreateMessage(r, int.MaxValue, request.Version);\n            newRequest.Properties.CopyProperties(request.Properties);\n            request = newRequest;\n            return null;\n        }\n\n        public void BeforeSendReply(ref Message reply, object correlationState)\n        {\n        }\n    }\n    public static void Test()\n    {\n        string baseAddress = \"http://\" + Environment.MachineName + \":8000/Service\";\n        ServiceHost host = new ServiceHost(typeof(Service), new Uri(baseAddress));\n        ServiceEndpoint endpoint = host.AddServiceEndpoint(typeof(Service), new WebHttpBinding(), \"\");\n        endpoint.Behaviors.Add(new WebHttpBehavior());\n        endpoint.Behaviors.Add(new MyInspector());\n        host.Open();\n        Console.WriteLine(\"Host opened\");\n\n        WebClient c = new WebClient();\n        c.Headers[HttpRequestHeader.ContentType] = \"text/xml\";\n        string xml = \"&lt;MyClass1&gt;&lt;MyProperty&gt;123&lt;/MyProperty&gt;&lt;/MyClass1&gt;\";\n        Console.WriteLine(c.UploadString(baseAddress + \"/\", xml));\n\n        c = new WebClient();\n        c.Headers[HttpRequestHeader.ContentType] = \"text/xml\";\n        xml = \"&lt;MyClass1 xmlns=\\\"http://schemas.datacontract.org/2004/07/MyNamespace\\\"&gt;&lt;MyProperty&gt;123&lt;/MyProperty&gt;&lt;/MyClass1&gt;\";\n        Console.WriteLine(c.UploadString(baseAddress + \"/\", xml));\n\n        Console.Write(\"Press ENTER to close the host\");\n        Console.ReadLine();\n        host.Close();\n    }\n}\n",
    "resolution": "You can use the dispatcher, but once you consume the message, you'll need to recreate it before returning from the method. The code below shows an example of it. public class StackOverflow_7506072 { [DataContract(Name = \"MyClass1\", Namespace = \"\")] public class MyClass1 { [DataMember] public string MyProperty { get; set; } } [ServiceContract] public class Service { [WebInvoke(UriTemplate = \"\", Method = \"POST\")] public MyClass1 GetItem(MyClass1 postedItem) { return postedItem; } } public class MyInspector : IEndpointBehavior, IDispatchMessageInspector { public void AddBindingParameters(ServiceEndpoint endpoint, BindingParameterCollection bindingParameters) { } public void ApplyClientBehavior(ServiceEndpoint endpoint, ClientRuntime clientRuntime) { } public void ApplyDispatchBehavior(ServiceEndpoint endpoint, EndpointDispatcher endpointDispatcher) { endpointDispatcher.DispatchRuntime.MessageInspectors.Add(this); } public void Validate(ServiceEndpoint endpoint) { } public object AfterReceiveRequest(ref Message request, IClientChannel channel, InstanceContext instanceContext) { MemoryStream ms = new MemoryStream(); XmlWriter w = XmlWriter.Create(ms); request.WriteMessage(w); w.Flush(); ms.Position = 0; XElement element = XElement.Load(ms); if (element.Name.NamespaceName == \"http://schemas.datacontract.org/2004/07/MyNamespace\") { element.Name = XName.Get(element.Name.LocalName, \"\"); foreach (XElement child in element.Descendants()) { if (child.Name.NamespaceName == \"http://schemas.datacontract.org/2004/07/MyNamespace\") { child.Name = XName.Get(child.Name.LocalName, \"\"); } } element.Attribute(\"xmlns\").Remove(); } XmlReader r = element.CreateReader(); Message newRequest = Message.CreateMessage(r, int.MaxValue, request.Version); newRequest.Properties.CopyProperties(request.Properties); request = newRequest; return null; } public void BeforeSendReply(ref Message reply, object correlationState) { } } public static void Test() { string baseAddress = \"http://\" + Environment.MachineName + \":8000/Service\"; ServiceHost host = new ServiceHost(typeof(Service), new Uri(baseAddress)); ServiceEndpoint endpoint = host.AddServiceEndpoint(typeof(Service), new WebHttpBinding(), \"\"); endpoint.Behaviors.Add(new WebHttpBehavior()); endpoint.Behaviors.Add(new MyInspector()); host.Open(); Console.WriteLine(\"Host opened\"); WebClient c = new WebClient(); c.Headers[HttpRequestHeader.ContentType] = \"text/xml\"; string xml = \"<MyClass1><MyProperty>123</MyProperty></MyClass1>\"; Console.WriteLine(c.UploadString(baseAddress + \"/\", xml)); c = new WebClient(); c.Headers[HttpRequestHeader.ContentType] = \"text/xml\"; xml = \"<MyClass1 xmlns=\\\"http://schemas.datacontract.org/2004/07/MyNamespace\\\"><MyProperty>123</MyProperty></MyClass1>\"; Console.WriteLine(c.UploadString(baseAddress + \"/\", xml)); Console.Write(\"Press ENTER to close the host\"); Console.ReadLine(); host.Close(); } }",
    "severity": "medium",
    "tags": [
      "xml",
      "wcf",
      "serialization"
    ],
    "metadata": {
      "stackoverflow_question_id": "7506072",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3981,
      "stackoverflow_creation_date": "2011-09-21T20:16:49.783Z"
    },
    "idempotency_key": "stackoverflow-7506072",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the answer to the bonus question in test_changing_hashes of Ruby Koans?",
    "body": "In the Ruby Koans, the section about_hashes.rb includes the following code and comment: def test_changing_hashes hash = { :one => \"uno\", :two => \"dos\" } hash[:one] = \"eins\" expected = { :one => \"eins\", :two => \"dos\" } assert_equal true, expected == hash # Bonus Question: Why was \"expected\" broken out into a variable # rather than used as a literal? end I can't figure out the answer to the bonus question in the comment - I tried actually doing the substitution they suggest, and the result is the same. All I can figure out is that it is for readability, but I don't see general programming advice like that called out elsewhere in this tutorial. (I know this sounds like something that would already be answered somewhere, but I can't dig up anything authoritative.)",
    "code": "def test_changing_hashes\n    hash = { :one =&gt; \"uno\", :two =&gt; \"dos\" }\n    hash[:one] = \"eins\"\n\n    expected = { :one =&gt; \"eins\", :two =&gt; \"dos\" }\n    assert_equal true, expected == hash\n\n    # Bonus Question: Why was \"expected\" broken out into a variable\n    # rather than used as a literal?\nend\n\n\n# Solution Code:\nassert_equal { :one =&gt; \"eins\", :two =&gt; \"dos\" }, hash\n\n\n{ ... }\n\nassert_equal({ :one =&gt; \"eins\", :two =&gt; \"dos\" }, hash)",
    "resolution": "It's because you can't use something like this: assert_equal { :one => \"eins\", :two => \"dos\" }, hash Ruby thinks that { ... } is a block, so it should be \"broken out into a variable\", but you can always use assert_equal({ :one => \"eins\", :two => \"dos\" }, hash)",
    "severity": "high",
    "tags": [
      "ruby"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "7533711",
      "stackoverflow_score": 65,
      "stackoverflow_view_count": 6038,
      "stackoverflow_creation_date": "2011-09-23T19:13:06.093Z"
    },
    "idempotency_key": "stackoverflow-7533711",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Getting user profile with google oauth2",
    "body": "I'm trying to get user profile information upon logging in with google-oauth2. User successfully logs in and i can get the access_token and can refresh the token when needed. Though i could not manage to get any information about the user despite reading the docs and trying for hours. From \"Retrieving profiles\" section of developers guide : https://www.google.com/m8/feeds/profiles/domain/domainName/full should be enough. i've tried with \"gmail.com\", \"google.com\", \"gmail\", \"google\", \"orkut\", \"orkut.com\" , myregisteredappsdomainname (and .com) as domainName. i've also tried it with https://www.google.com/m8/feeds/profiles/domain/domainName/full?access_token=access_token_for_user all i managed to get was 401 error, where it says \"That’s an error.\". Regarding 401 error, I've refreshed the token and tried again with new token, but kept getting 401s. How can i get profile information and image address for user upon logging in?",
    "code": "https://www.google.com/m8/feeds/profiles/domain/domainName/full\n\n\nhttps://www.google.com/m8/feeds/profiles/domain/domainName/full?access_token=access_token_for_user\n\n\n# Solution Code:\nhttps://www.googleapis.com/oauth2/v1/userinfo\n",
    "resolution": "The scope you're looking for is: https://www.googleapis.com/oauth2/v1/userinfo This has been already answered here",
    "severity": "high",
    "tags": [
      "oauth-2.0",
      "user-profile"
    ],
    "metadata": {
      "stackoverflow_question_id": "7622898",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 16555,
      "stackoverflow_creation_date": "2011-10-01T20:52:02.123Z"
    },
    "idempotency_key": "stackoverflow-7622898",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jQuery - datatable plugin - sorting issue",
    "body": "I'm using DataTables plugin from http://datatables.net. The plugin it self is very useful,but I have a big of a problem with it. It is return a list of address for some searches in the following format. 1 Main Street 12 Main Street 13 Main Street 14 Main Street ... 2 Main Street 3 Main Street 4 Main Street 5 Main Street .. As you can see the sorting is not what I would expected. Will return all numbers starting with 1 eg, 11, 111, 1111 before 2. Have any of you have some expirience with the plugin? know to solve this sorting issue? or know the way to disable the sorting on first initiate(display the data as it is coming form db)? Any suggestions much appreciated.",
    "code": "1 Main Street\n12 Main Street\n13 Main Street\n14 Main Street\n...\n2 Main Street\n3 Main Street\n4 Main Street\n5  Main Street\n..\n\n\n1 eg, 11, 111, 1111\n\n2\n\n# Solution Code:\njQuery.fn.dataTableExt.oSort['natural-asc']  = function(a,b) {\n    return naturalSort(a,b);\n};\n\njQuery.fn.dataTableExt.oSort['natural-desc'] = function(a,b) {\n    return naturalSort(a,b) * -1;\n};\n\n\n$('#example').dataTable( {\n    \"aoColumns\": [\n        null,\n        null,\n        { \"sType\": \"natural\" }\n]\n});\n\n\nnaturalSort",
    "resolution": "To solve this particular issue you can use natural-sort plugin for datatables. Read all about it at http://datatables.net/plug-ins/sorting (search for \"Natural sorting\"). In short, provided you've downloaded and embedded naturalSort function, you then define sort handle for datatables like this: jQuery.fn.dataTableExt.oSort['natural-asc'] = function(a,b) { return naturalSort(a,b); }; jQuery.fn.dataTableExt.oSort['natural-desc'] = function(a,b) { return naturalSort(a,b) * -1; }; You also need to specify the sSortDataType parameter for the column, to tell it which plug-in function to use (in example below I set the sorting to natural for the third column of my table): $('#example').dataTable( { \"aoColumns\": [ null, null, { \"sType\": \"natural\" } ] }); Here's working fiddle http://jsfiddle.net/zhx32/14/ Note: it seems that you, in fact, number of elements on \"aoColumns\" have to be equal to number of columns in the table, otherwise you'll get an error. Null value indicates that datatables plugin should use default sort method for that column.",
    "severity": "medium",
    "tags": [
      "jquery",
      "datatables"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "7632778",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 6849,
      "stackoverflow_creation_date": "2011-10-03T08:43:09.610Z"
    },
    "idempotency_key": "stackoverflow-7632778",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "NHibernate: projection and reference type properties",
    "body": "I'm using nHibernate and I've 3 mapped classes - A, B, C. Class A looks as the following: public class A { public virtual string StringProp1 { get; set; } public virtual string StringProp2 { get; set; } public virtual B BProp { get; set; } public virtual C CProp { get; set; } } Everything works fine, but what I would like to do is some optimization. My purpose is to have a possibility to dynamically specify which properties should be loaded (from DB). So I can't just mark some properties as lazy in the mapping. The way I think it should work is the following: ICriteria criteria = session.CreateCriteria<A>(); criteria.SetProjection(Projections.ProjectionList() .Add(Projections.Property(\"StringProp1\"), \"StringProp1\") .Add(Projections.Property(\"BProp\"), \"BProp\")); criteria.SetResultTransformer(Transformers.AliasToBean<A>()); return criteria.List<A>(); But this doesn't work for reference type property(like BProp), even if I'll add an alias to the criteria. I'm getting 'Index was outside the bounds of the array' exception on the last line. If I remove line which adds projection of BProp, this works and returns me instance of A class where only StrinProp1 is filled with value. But I want to have corresponding instance of B class loaded into BProp as well. Any suggestions?",
    "code": "public class A\n{\n public virtual string StringProp1 { get; set; }\n public virtual string StringProp2 { get; set; }\n public virtual B BProp { get; set; }\n public virtual C CProp { get; set; }\n}\n\n\nICriteria criteria = session.CreateCriteria&lt;A&gt;();\ncriteria.SetProjection(Projections.ProjectionList()\n.Add(Projections.Property(\"StringProp1\"), \"StringProp1\")\n.Add(Projections.Property(\"BProp\"), \"BProp\"));\ncriteria.SetResultTransformer(Transformers.AliasToBean&lt;A&gt;());\nreturn criteria.List&lt;A&gt;();\n",
    "severity": "low",
    "tags": [
      ".net",
      "nhibernate"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "7670408",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 465,
      "stackoverflow_creation_date": "2011-10-06T04:53:37.360Z"
    },
    "idempotency_key": "stackoverflow-7670408",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What does #> operator mean in Scala Lift?",
    "body": "Studying Lift I've immediately found a non-familiar #> operator. What exactly does it mean? Example: /** * Put the messages in the li elements and clear * any elements that have the clearable class. */ def render = \"li *\" #> msgs & ClearClearable I can read the comment to know what's the line for, but am not sure about the code mechanics here.",
    "code": "/**\n* Put the messages in the li elements and clear\n* any elements that have the clearable class.\n*/\ndef render = \"li *\" #&gt; msgs &amp; ClearClearable\n\n\n# Solution Code:\n#&gt;\n\nNodeSeq\n\nNodeSeq =&gt; NodeSeq\n\n&amp;",
    "resolution": "The operator #> is used to create CSS Selector Transformers. You provide a CSS selector as a string and then apply it to the given argument which can be a sequence, a string or a NodeSeq and get a function of type NodeSeq => NodeSeq that applies the transformations. The & is used to chain those transformations.",
    "severity": "medium",
    "tags": [
      "scala",
      "operators",
      "lift"
    ],
    "metadata": {
      "language": "scala",
      "stackoverflow_question_id": "7697489",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1323,
      "stackoverflow_creation_date": "2011-10-08T14:33:29.523Z"
    },
    "idempotency_key": "stackoverflow-7697489",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Capture picture from android webview",
    "body": "I want to save the picture getting from capturePicture method in WebView how to do this?",
    "code": "WebView\n\n# Solution Code:\nweb = new WebView(this);\n\nweb.setPictureListener(new PictureListener(){\n\n    public void onNewPicture(WebView view, Picture picture) {\n      if(picture != null)\n      {\n       try\n       {\n        Bitmap bmp = pictureDrawable2Bitmap(new PictureDrawable(picture)); \n        FileOutputStream out = new FileOutputStream(filename);\n        bmp.compress(Bitmap.CompressFormat.PNG, 90, out); \n        out.close();\n        }\n        catch(Exception e)\n        {\n           e.printStackTrace();\n        }\n      }\n});\n\nweb.setWebViewClient(new WebViewClient() {\n    public void onPageFinished(WebView webview, String url) {\n        Picture picture = webview.capturePicture();\n\n    }\n});\n\n\nweb.getSettings().setJavaScriptEnabled(true);\n\nsetContentView(web);\n\n\nprivate static Bitmap pictureDrawable2Bitmap(PictureDrawable pictureDrawable){\n        Bitmap bitmap = Bitmap.createBitmap(pictureDrawable.getIntrinsicWidth()\n        ,pictureDrawable.getIntrinsicHeight()\n        , Config.ARGB_8888);\n        Canvas canvas = new Canvas(bitmap);\n        canvas.drawPicture(pictureDrawable.getPicture());\n        return bitmap;\n    }\n",
    "resolution": "web = new WebView(this); web.setPictureListener(new PictureListener(){ public void onNewPicture(WebView view, Picture picture) { if(picture != null) { try { Bitmap bmp = pictureDrawable2Bitmap(new PictureDrawable(picture)); FileOutputStream out = new FileOutputStream(filename); bmp.compress(Bitmap.CompressFormat.PNG, 90, out); out.close(); } catch(Exception e) { e.printStackTrace(); } } }); web.setWebViewClient(new WebViewClient() { public void onPageFinished(WebView webview, String url) { Picture picture = webview.capturePicture(); } }); web.getSettings().setJavaScriptEnabled(true); setContentView(web); helper function private static Bitmap pictureDrawable2Bitmap(PictureDrawable pictureDrawable){ Bitmap bitmap = Bitmap.createBitmap(pictureDrawable.getIntrinsicWidth() ,pictureDrawable.getIntrinsicHeight() , Config.ARGB_8888); Canvas canvas = new Canvas(bitmap); canvas.drawPicture(pictureDrawable.getPicture()); return bitmap; } Disclaimer: I haven't actually compiled this, it should work though",
    "severity": "high",
    "tags": [
      "android"
    ],
    "metadata": {
      "stackoverflow_question_id": "7702565",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 14034,
      "stackoverflow_creation_date": "2011-10-09T09:27:05.183Z"
    },
    "idempotency_key": "stackoverflow-7702565",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android scrollview can't be created programmatically.",
    "body": "I want to use scrollview in my app. I tried to add a text view into the scrollview, but I can't see anything rendered, except the background color of the scroll view. here is how I did it: public class MyView extends ViewGroup { ScrollView myScrollview; Textview tv; public MyView(Context context) { myScrollView = new ScrollView(context); myScrollView.setBackgroundColor(0xfff00fff); textview=new TextView(context); textview.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT)); textview.setLayoutParams(params) textview.setText(\"sadfasdfasdfasdfasdfasdfasdfsadfsadf\"); textview.layout(0, 0, 1000, 2000); textview.setHeight(5000); textview.setWidth(3200); myScrollView .addView(tv); addView(myScrollview); } @Override protected void onLayout(boolean changed, int l, int t, int r, int b) { // TODO Auto-generated method stub int width = r-l; int height =b-t; myScrollView .layout(0, 0, width, height-100); } } I found almost all the scrollview tutorial are using xml to define the view. But I want to do it in a programmatic way. But anyway, I also tried xml. I copied Romain Guy's xml from here for testing :http://www.curious-creature.org/2010/08/15/scrollviews-handy-trick/ The xml scrollview by itself is correct, if I create this scrollview and add it to the activity, using scrollview= (ScrollView) getLayoutInflater().inflate(R.layout.scrollviewid,null); setContentView(scrollview); or setContentView(R.layout.scrollviewid); it worked. However, if I want to make the scrollview a child view of some other view, again I could only see the background of the scrollview. nothing inside is rendered: public class MyView extends ViewGroup { ScrollView myScrollview; public MyView(Activity activity,Context context) { super(context); myScrollview= (ScrollView) activity.getLayoutInflater().inflate(R.layout.restaurantcategoryselectorviewlayout,null); myScrollview.setBackgroundColor(0xfff00fff); addView(myScrollview); } @Override protected void onLayout(boolean changed, int l, int t, int r, int b) { // TODO Auto-generated method stub int width = r-l; int height =b-t; myScrollview.layout(0, 0, width, height-100); } } What's wrong with my code? Is there any example of creating scrollview with program not xml? Also, are those java source code of android also at kernel.org? since the git service is down, where can I download android source code?",
    "code": "public class MyView extends ViewGroup\n{\n    ScrollView myScrollview;\n        Textview tv;\n\n        public MyView(Context context) { \n        myScrollView = new ScrollView(context);\n        myScrollView.setBackgroundColor(0xfff00fff);\n\n        textview=new TextView(context);\n\n        textview.setLayoutParams(new LayoutParams(LayoutParams.FILL_PARENT,LayoutParams.WRAP_CONTENT));\n                textview.setLayoutParams(params)\n        textview.setText(\"sadfasdfasdfasdfasdfasdfasdfsadfsadf\");\n\n        textview.layout(0, 0, 1000, 2000);\n        textview.setHeight(5000);\n        textview.setWidth(3200);\n                myScrollView .addView(tv);\n                addView(myScrollview);\n        }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        // TODO Auto-generated method stub\n\n        int width = r-l;\n        int height =b-t;\n\n        myScrollView .layout(0, 0, width, height-100);\n    }\n}\n\n\nscrollview= (ScrollView)  getLayoutInflater().inflate(R.layout.scrollviewid,null);\n\n\n     public class MyView extends ViewGroup\n{\n   ScrollView myScrollview;\n\n    public MyView(Activity activity,Context context) \n    {\n            super(context);\n\n    myScrollview= (ScrollView)  activity.getLayoutInflater().inflate(R.layout.restaurantcategoryselectorviewlayout,null);\n    myScrollview.setBackgroundColor(0xfff00fff);\n\n    addView(myScrollview);\n}\n\n@Override\nprotected void onLayout(boolean changed, int l, int t, int r, int b) {\n    // TODO Auto-generated method stub\n\n    int width = r-l;\n    int height =b-t;\n\n    myScrollview.layout(0, 0, width, height-100);\n}\n}\n\n\nsetContentView(R.layout.scrollviewid);\n\n# Solution Code:\nLinearLayout maincontainer = (LinearLayout) findViewById(R.id.weatherInfo);\nmaincontainer.setOrientation(LinearLayout.HORIZONTAL);\n\nfinal HorizontalScrollView scrollView = new HorizontalScrollView(getApplicationContext());\nmaincontainer.addView(scrollView);\n\nfinal LinearLayout linearLayout = new LinearLayout(getApplicationContext());\nlinearLayout.setOrientation(LinearLayout.HORIZONTAL);\n\nscrollView.addView(linearLayout);\n\n\nScrollView\n\nView\n\nScrollView\n\nView",
    "resolution": "When you programmatically create a ScrollView inside of it you need to create a View then add the ScrollView inside this View. LinearLayout maincontainer = (LinearLayout) findViewById(R.id.weatherInfo); maincontainer.setOrientation(LinearLayout.HORIZONTAL); final HorizontalScrollView scrollView = new HorizontalScrollView(getApplicationContext()); maincontainer.addView(scrollView); final LinearLayout linearLayout = new LinearLayout(getApplicationContext()); linearLayout.setOrientation(LinearLayout.HORIZONTAL); scrollView.addView(linearLayout);",
    "severity": "medium",
    "tags": [
      "android",
      "scrollview"
    ],
    "metadata": {
      "stackoverflow_question_id": "7705510",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8797,
      "stackoverflow_creation_date": "2011-10-09T18:15:00.323Z"
    },
    "idempotency_key": "stackoverflow-7705510",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I change the resolution of a raster using GDAL?",
    "body": "I am looking for the best way to change the resolution of a GDAL raster dataset. For example, I have a raster that has a pixel size of (30, -30), and I would like to change the pixel size to (5, -5), interpolating all values for a given pixel into the output raster. So for each pixel of the input raster, I would like to have 36 pixels in the output raster that all share the same value. If I run gdalwarp -tr 5 -5 inputRaster.tif outputRaster.tif, I get exactly the result that I'm looking for, and so I would assume that I should be able to replicate this functionality with some GDAL function. I would prefer to avoid using a call to python's Subprocess class, if possible.",
    "code": "gdalwarp -tr 5 -5 inputRaster.tif outputRaster.tif\n\n# Solution Code:\nfrom osgeo import gdal\nhelp(gdal.ReprojectImage)\n",
    "resolution": "You need to reproject the raster. For example, from an interactive Python shell: from osgeo import gdal help(gdal.ReprojectImage) A Python example is provided in the test suite. More complete documentation is provided for the C++ function GDALReprojectImage.",
    "severity": "high",
    "tags": [
      "python",
      "gdal"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "7719651",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 24154,
      "stackoverflow_creation_date": "2011-10-10T23:02:58.237Z"
    },
    "idempotency_key": "stackoverflow-7719651",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "CA1819: Properties shouldn't return arrays - What is the right alternative?",
    "body": "I encountered this FxCop rule before and wasn't really content with how to solve violations (thread1, thread2). I now have another case where I need to correct violations of the CA1819 kind. Specifically, I have an algorithm-library that performs some analytic calculations on a curve (x,y), with a public \"input object\" like this: public class InputObject { public double[] X { get; set; } public double[] Y { get; set; } // + lots of other things well } This object's X and Y properties are used in hundreds of locations within library, typically using indexes. The input object is never altered by the algorithms, but actually it shouldn't matter if so. Also, .Length is called pretty frequently. It's a mathematical library, and double[] is kind of the standard data type in there. In any case, fixing CA1819 will require quite some work. I thought about using List<double>, since Lists support indexing and are quite similar to arrays but I'm not sure whether this may slow down the algorithms or whether FxCop will be happy with those Lists. What is the best option to replace these double[] properties?",
    "code": "public class InputObject\n{\n        public double[] X { get; set; }\n        public double[] Y { get; set; }\n        // + lots of other things well\n}\n\n\n.Length\n\ndouble[]\n\nList&lt;double&gt;\n\ndouble[]\n\n# Solution Code:\nIEnumerable&lt;&gt;\n\nIList&lt;&gt;",
    "resolution": "If it is read only to external consumer and consumer does not want to access it by index then the best is to have a public read only property of type IEnumerable<> with method accessors to add and remove, this way you will not have to expose your array to someone to mess with. If you need to access the indexers then expose it as read only property of type IList<> and probably return a ReadOnly instance, with methods to add and remove. This way you keep encapsulation of the internal list and allow consumer to access it in a read only way",
    "severity": "high",
    "tags": [
      "c#",
      ".net",
      "fxcop"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "7820992",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 11011,
      "stackoverflow_creation_date": "2011-10-19T12:02:50.240Z"
    },
    "idempotency_key": "stackoverflow-7820992",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "The number of parameters does not match number of values for stored procedure",
    "body": "I am using Enterprise Library 5x DAAB to call an Oracle stored procedure with one input parameter and one output parameter. But it gives this error: The number of parameters does not match number of values for stored procedure My code is below: OracleDatabase _database; OracleConnection _connection; ... ... DbCommand insertCommand = _database.GetStoredProcCommand(\"spName\"); insertCommand.Connection = _connection; _database.AddInParameter(insertCommand, \"inParam\", DbType.Int16); _database.AddOutParameter(insertCommand, \"outParam\", DbType.Byte, 1); insertCommand.Prepare(); object[] paramValues = new object[] { 1, 2 }; _database.AssignParameters(insertCommand, paramValues); _database.ExecuteNonQuery(insertCommand, _transaction); int outParamVal = (int)_database.GetParameterValue(insertCommand, \"outParam\"); Please note: the above code is a mini sample of the full source. But depicts similar functionality. Here's the SP I'm using: create or replace PROCEDURE SP_APPEND_TO_PRICE_TRANSFER ( FISCAL_YEAR IN NUMBER , FISCAL_MONTH IN NUMBER , PRODUCT_ID IN NUMBER , RD_MARKUP IN NUMBER , RD_RETAIL_PRICE IN NUMBER , BL_MARKUP IN NUMBER , BL_RETAIL_PRICE IN NUMBER , RD_SPEC_FLAG IN VARCHAR2 , BL_SPEC_FLAG IN VARCHAR2 , LEMONADE_DISTRIB_PRICE IN NUMBER , AFS_DISTRIB_PRICE IN NUMBER , GLAZIER_DISTRIB_PRICE IN NUMBER , GLAZIER_DISTRIB_CASE_PRICE IN NUMBER , SARALEE1_DISTRIB_PRICE IN NUMBER , SARALEE1_DISTRIB_CASE_PRICE IN NUMBER , CAROLINA_DISTRIB_PRICE IN NUMBER , NETUNITCOST IN NUMBER , RD_INTERNAL_MARKUP IN NUMBER , BL_INTERNAL_MARKUP IN NUMBER , RD_TRANSFER_COST IN NUMBER , BL_TRANSFER_COST IN NUMBER , TOTAL_NET_WEIGHT IN NUMBER , PRICE_TRANSFER_UOM IN VARCHAR2 , STD_PACK IN NUMBER , PAGE_LOCATION_CODE IN VARCHAR2 , PPOD1_DISTRIB_PRICE IN NUMBER , PPOD1_DISTRIB_CASE_PRICE IN NUMBER , PPOD1_STOCK_FLAG IN VARCHAR2 , SLASHOUT_PRICE_RD IN NUMBER , SLASHOUT_PRICE_BL IN NUMBER , ROWSINSRTD OUT NUMBER ) AS BEGIN INSERT INTO PRICE_TRANSFER ( FISCAL_YEAR, FISCAL_MONTH, PRODUCT_ID, CHI_REBATE_PCT, CHI_RETAIL_PRICE, NE_REBATE_PCT, NE_RETAIL_PRICE, CHI_SPEC_FLAG, NE_SPEC_FLAG, LEMONADE_DISTRIB_PRICE, AFS_DISTRIB_PRICE, GLAZIER_DISTRIB_PRICE, GLAZIER_DISTRIB_CASE_PRICE, SARALEE1_DISTRIB_PRICE, SARALEE1_DISTRIB_CASE_PRICE, CAROLINA_DISTRIB_PRICE, NETUNITCOST, CHI_INTERNAL_MARKUP, NE_INTERNAL_MARKUP, CHI_TRANSFER_COST, NE_TRANSFER_COST, TOTAL_NET_WEIGHT, PRICE_TRANSFER_UOM, CASE_PACK_FACTOR, PAGE_LOCATION_CODE, PPOD1_DISTRIB_PRICE, PPOD1_DISTRIB_CASE_PRICE, PPOD1_STOCK_FLAG, SLASHOUT_PRICE_RD, SLASHOUT_PRICE_BL ) VALUES ( FISCAL_YEAR , FISCAL_MONTH , PRODUCT_ID , RD_MARKUP , RD_RETAIL_PRICE , BL_MARKUP , BL_RETAIL_PRICE , RD_SPEC_FLAG , BL_SPEC_FLAG , LEMONADE_DISTRIB_PRICE , AFS_DISTRIB_PRICE , GLAZIER_DISTRIB_PRICE , GLAZIER_DISTRIB_CASE_PRICE , SARALEE1_DISTRIB_PRICE , SARALEE1_DISTRIB_CASE_PRICE , CAROLINA_DISTRIB_PRICE , NETUNITCOST , RD_INTERNAL_MARKUP , BL_INTERNAL_MARKUP , RD_TRANSFER_COST , BL_TRANSFER_COST , TOTAL_NET_WEIGHT , PRICE_TRANSFER_UOM , STD_PACK , PAGE_LOCATION_CODE , PPOD1_DISTRIB_PRICE , PPOD1_DISTRIB_CASE_PRICE , PPOD1_STOCK_FLAG , SLASHOUT_PRICE_RD , SLASHOUT_PRICE_BL ); ROWSINSRTD := sql%rowcount; END SP_APPEND_TO_PRICE_TRANSFER; 2011-11-02 So, seems like there's no solution for this at the moment. So for the time being, I got my work done the following way. Pretty basic stuff.. ... ... OracleConnection _connection = _dbConnect.OpenOracleDB(); //custom API to get the Connection object OracleTransaction transaction = _connection.BeginTransaction(); int affectedRows = 0; OracleCommand insertCommand = new OracleCommand(\"MyProc\", _connection, transaction); using (insertCommand) { insertCommand.CommandType = CommandType.StoredProcedure; OracleParameter param1 = new OracleParameter(\"PARAM1\", OracleType.Number); param1.Direction = ParameterDirection.Input; insertCommand.Parameters.Add(param1); OracleParameter param2 = new OracleParameter(\"PARAM2\", OracleType.Number); param2.Direction = ParameterDirection.Input; insertCommand.Parameters.Add(param2); OracleParameter outParam = new OracleParameter(\"OUTPARAM\", OracleType.Int32); outParam.Size = 1; outParam.Direction = ParameterDirection.Output; insertCommand.Parameters.Add(outParam); insertCommand.Prepare(); foreach (MyObject myObject in myObjects) //myObjects is a list of objects I want to persist { param1.Value = myObject.Prop1; param2.Value = myObject.Prop2; insertCommand.ExecuteNonQuery(); affectedRows = Convert.ToInt32(outParam.Value); } transaction.Commit(); } ... ...",
    "code": "OracleDatabase _database;\nOracleConnection _connection;\n...\n...\nDbCommand insertCommand = _database.GetStoredProcCommand(\"spName\");\ninsertCommand.Connection = _connection;    \n_database.AddInParameter(insertCommand, \"inParam\", DbType.Int16);\n_database.AddOutParameter(insertCommand, \"outParam\", DbType.Byte, 1);\ninsertCommand.Prepare();\n\nobject[] paramValues = new object[] { 1, 2  };\n_database.AssignParameters(insertCommand, paramValues);\n_database.ExecuteNonQuery(insertCommand, _transaction);\nint outParamVal = (int)_database.GetParameterValue(insertCommand, \"outParam\");\n\n\ncreate or replace\nPROCEDURE SP_APPEND_TO_PRICE_TRANSFER \n(\n  FISCAL_YEAR IN NUMBER  \n, FISCAL_MONTH IN NUMBER  \n, PRODUCT_ID IN NUMBER\n, RD_MARKUP IN NUMBER\n, RD_RETAIL_PRICE IN NUMBER\n, BL_MARKUP IN NUMBER\n, BL_RETAIL_PRICE IN NUMBER\n, RD_SPEC_FLAG IN VARCHAR2\n, BL_SPEC_FLAG IN VARCHAR2\n, LEMONADE_DISTRIB_PRICE IN NUMBER\n, AFS_DISTRIB_PRICE IN NUMBER\n, GLAZIER_DISTRIB_PRICE IN NUMBER\n, GLAZIER_DISTRIB_CASE_PRICE IN NUMBER\n, SARALEE1_DISTRIB_PRICE IN NUMBER\n, SARALEE1_DISTRIB_CASE_PRICE IN NUMBER\n, CAROLINA_DISTRIB_PRICE IN NUMBER\n, NETUNITCOST IN NUMBER\n, RD_INTERNAL_MARKUP IN NUMBER\n, BL_INTERNAL_MARKUP IN NUMBER\n, RD_TRANSFER_COST IN NUMBER\n, BL_TRANSFER_COST IN NUMBER\n, TOTAL_NET_WEIGHT IN NUMBER\n, PRICE_TRANSFER_UOM IN VARCHAR2\n, STD_PACK IN NUMBER\n, PAGE_LOCATION_CODE IN VARCHAR2\n, PPOD1_DISTRIB_PRICE IN NUMBER\n, PPOD1_DISTRIB_CASE_PRICE IN NUMBER\n, PPOD1_STOCK_FLAG IN VARCHAR2\n, SLASHOUT_PRICE_RD IN NUMBER\n, SLASHOUT_PRICE_BL IN NUMBER\n, ROWSINSRTD OUT NUMBER\n) AS \nBEGIN\n  INSERT INTO PRICE_TRANSFER ( \n    FISCAL_YEAR, \n    FISCAL_MONTH, \n    PRODUCT_ID, \n    CHI_REBATE_PCT, \n    CHI_RETAIL_PRICE, \n    NE_REBATE_PCT, \n    NE_RETAIL_PRICE, \n    CHI_SPEC_FLAG, \n    NE_SPEC_FLAG, \n    LEMONADE_DISTRIB_PRICE, \n    AFS_DISTRIB_PRICE, \n    GLAZIER_DISTRIB_PRICE, \n    GLAZIER_DISTRIB_CASE_PRICE, \n    SARALEE1_DISTRIB_PRICE, \n    SARALEE1_DISTRIB_CASE_PRICE, \n    CAROLINA_DISTRIB_PRICE, \n    NETUNITCOST, \n    CHI_INTERNAL_MARKUP, \n    NE_INTERNAL_MARKUP, \n    CHI_TRANSFER_COST, \n    NE_TRANSFER_COST, \n    TOTAL_NET_WEIGHT, \n    PRICE_TRANSFER_UOM, \n    CASE_PACK_FACTOR, \n    PAGE_LOCATION_CODE, \n    PPOD1_DISTRIB_PRICE, \n    PPOD1_DISTRIB_CASE_PRICE, \n    PPOD1_STOCK_FLAG, \n    SLASHOUT_PRICE_RD, \n    SLASHOUT_PRICE_BL )\n    VALUES (\n    FISCAL_YEAR\n, FISCAL_MONTH  \n, PRODUCT_ID\n, RD_MARKUP\n, RD_RETAIL_PRICE\n, BL_MARKUP\n, BL_RETAIL_PRICE\n, RD_SPEC_FLAG\n, BL_SPEC_FLAG\n, LEMONADE_DISTRIB_PRICE\n, AFS_DISTRIB_PRICE\n, GLAZIER_DISTRIB_PRICE\n, GLAZIER_DISTRIB_CASE_PRICE\n, SARALEE1_DISTRIB_PRICE\n, SARALEE1_DISTRIB_CASE_PRICE\n, CAROLINA_DISTRIB_PRICE\n, NETUNITCOST\n, RD_INTERNAL_MARKUP\n, BL_INTERNAL_MARKUP\n, RD_TRANSFER_COST\n, BL_TRANSFER_COST\n, TOTAL_NET_WEIGHT\n, PRICE_TRANSFER_UOM\n, STD_PACK\n, PAGE_LOCATION_CODE\n, PPOD1_DISTRIB_PRICE\n, PPOD1_DISTRIB_CASE_PRICE\n, PPOD1_STOCK_FLAG\n, SLASHOUT_PRICE_RD\n, SLASHOUT_PRICE_BL );\n\nROWSINSRTD := sql%rowcount;\nEND SP_APPEND_TO_PRICE_TRANSFER;\n\n\n...\n...\nOracleConnection _connection = _dbConnect.OpenOracleDB();   //custom API to get the Connection object\nOracleTransaction transaction = _connection.BeginTransaction();\nint affectedRows = 0;\nOracleCommand insertCommand = new OracleCommand(\"MyProc\", _connection, transaction);\nusing (insertCommand)\n{\n    insertCommand.CommandType = CommandType.StoredProcedure;\n    OracleParameter param1 = new OracleParameter(\"PARAM1\", OracleType.Number);\n    param1.Direction = ParameterDirection.Input;\n    insertCommand.Parameters.Add(param1);\n    OracleParameter param2 = new OracleParameter(\"PARAM2\", OracleType.Number);\n    param2.Direction = ParameterDirection.Input;\n    insertCommand.Parameters.Add(param2);\n    OracleParameter outParam = new OracleParameter(\"OUTPARAM\", OracleType.Int32);\n    outParam.Size = 1;\n    outParam.Direction = ParameterDirection.Output;\n    insertCommand.Parameters.Add(outParam);                    \n\n    insertCommand.Prepare();\n\n    foreach (MyObject myObject in myObjects)    //myObjects is a list of objects I want to persist\n    {\n        param1.Value = myObject.Prop1;\n        param2.Value = myObject.Prop2;\n\n        insertCommand.ExecuteNonQuery();\n        affectedRows = Convert.ToInt32(outParam.Value);\n    }\n\n    transaction.Commit();\n}\n...\n...\n",
    "severity": "high",
    "tags": [
      "c#",
      "oracle-database",
      "stored-procedures",
      "enterprise-library",
      "daab"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "7917145",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 14107,
      "stackoverflow_creation_date": "2011-10-27T14:10:04.670Z"
    },
    "idempotency_key": "stackoverflow-7917145",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Looking for an event that fires only when user checks a CheckBox",
    "body": "System.Windows.Forms.ComboBox has two different events that the programmer can handle: SelectionChangeCommitted - event fires only when the user changes the selected item SelectedIndexChanged - event is also raised when the selection changes programmatically Is there something similar for System.Windows.Forms.CheckBox? Clarification: I'm looking for an event to handle that won't be fired when I programmatically set the checkbox by calling a statement like CheckBox.Checked = true.",
    "code": "System.Windows.Forms.ComboBox\n\nSelectionChangeCommitted\n\nSelectedIndexChanged\n\nSystem.Windows.Forms.CheckBox\n\nCheckBox.Checked = true\n\n# Solution Code:\n    private void checkBox1_Click(object sender, EventArgs e)\n    {\n        if (((CheckBox)sender).Checked)\n        {\n            // do stuff\n        }\n    }\n\n\nClick",
    "resolution": "Just handle the Click event. Any time a checkbox is clicked, it will be toggled. private void checkBox1_Click(object sender, EventArgs e) { if (((CheckBox)sender).Checked) { // do stuff } }",
    "severity": "medium",
    "tags": [
      ".net",
      "winforms",
      "events",
      "checkbox"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "8012307",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1605,
      "stackoverflow_creation_date": "2011-11-04T16:10:53.783Z"
    },
    "idempotency_key": "stackoverflow-8012307",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use of setIcon on jLabel repeats old image",
    "body": "I'm attempting to display an image that was downloaded from a website, with the use of setIcon and a jLabel jLabel5.setIcon(new ImageIcon(\"image.png\")); At the start of the program, the image doesn't exist, it gets downloaded, and after that displayed, with no problems. But if it changes, even if it downloads a newer version of the image, it will display the old one, as if it had a cache of it or something. Does someone know why this happens? How to get a workaround with or without this method? I have also tried to do the following to see if it could help, with no success: jLabel5.setIcon(null); jLabel5.setIcon(new ImageIcon(\"image.png\")); It would display nothing and then the same old image again.",
    "code": "jLabel5.setIcon(new ImageIcon(\"image.png\"));\n\n\njLabel5.setIcon(null);\njLabel5.setIcon(new ImageIcon(\"image.png\"));\n\n\nsetIcon\n\njLabel\n\n# Solution Code:\n//  This works using ImageIO\n\nimageLabel.setIcon( new ImageIcon(ImageIO.read( new File(imageName) ) ) );\n\n//  Or you can flush the image\n\nImageIcon icon = new ImageIcon(imageName);\nicon.getImage().flush();\nimageLabel.setIcon( icon );\n",
    "resolution": "it will display the old one, as if it had a cache of it or something. Yep, caching is the problem. Here are a couple of options: // This works using ImageIO imageLabel.setIcon( new ImageIcon(ImageIO.read( new File(imageName) ) ) ); // Or you can flush the image ImageIcon icon = new ImageIcon(imageName); icon.getImage().flush(); imageLabel.setIcon( icon );",
    "severity": "medium",
    "tags": [
      "java",
      "swing"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "8084115",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5262,
      "stackoverflow_creation_date": "2011-11-10T18:01:24.657Z"
    },
    "idempotency_key": "stackoverflow-8084115",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to print a file to stdout?",
    "body": "I've searched and I can only find questions about the other way around: writing stdin to a file. Is there a quick and easy way to dump the contents of a file to stdout?",
    "code": "stdout\n\n# Solution Code:\nwith open(fname, 'r') as fin:\n    print(fin.read())\n\n\nfname",
    "resolution": "Sure. Assuming you have a string with the file's name called fname, the following does the trick. with open(fname, 'r') as fin: print(fin.read())",
    "severity": "high",
    "tags": [
      "python"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "8084260",
      "stackoverflow_score": 107,
      "stackoverflow_view_count": 142365,
      "stackoverflow_creation_date": "2011-11-10T18:12:53.837Z"
    },
    "idempotency_key": "stackoverflow-8084260",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Search String: Find and Grep",
    "body": "There must be a better / shorter way to do this: # Find files that contain <string-to-find> in current directory # (including sub directories) $ find . | xargs grep <string-to-find> Also, to search only e.g. HTML files: # find . | grep html$ | xargs grep <string-to-find> Thanks beforehand!",
    "code": "# Find files that contain &lt;string-to-find&gt; in current directory\n#   (including sub directories) \n$ find . | xargs grep &lt;string-to-find&gt;\n\n\n # find . | grep html$ | xargs grep &lt;string-to-find&gt;\n\n\n# Solution Code:\nfind . -name \\*.html\n\n\nfind . -regex filename-regex.\\*\\.html \n\n\nfind . -regex filename-regex.\\*\\.html -exec grep -H string-to-find {} \\;\n\n\nfind . | xargs grep &lt;string-to-find&gt;\n\n\nfind . -exec grep -H string-to-find {} \\;\n\n\nfind . | grep html$ | xargs grep &lt;string-to-find&gt;\n\n\nfind . -name \\*.html -exec grep -H string-to-find {} \\;\n\n\ngrep\n\n-H\n\ngrep\n\nfind\n\ngrep string-to-find filename\n\nfind\n\nxargs",
    "resolution": "find . -name \\*.html or, if you want to find files with names matching a regular expression: find . -regex filename-regex.\\*\\.html or, if you want to search for a regular expression in files with names matching a regular expression find . -regex filename-regex.\\*\\.html -exec grep -H string-to-find {} \\; The grep argument -H outputs the name of the file, if that's of interest. If not, you can safely remove it and simply use grep. This will instruct find to execute grep string-to-find filename for each file name it finds, thus avoiding the possibility of the list of arguments being too long, and the need for find to finish executing before it can pass its results to xargs. To address your examples: find . | xargs grep <string-to-find> could be replaced with find . -exec grep -H string-to-find {} \\; and find . | grep html$ | xargs grep <string-to-find> could be replaced with find . -name \\*.html -exec grep -H string-to-find {} \\;",
    "severity": "high",
    "tags": [
      "command-line",
      "find",
      "grep"
    ],
    "metadata": {
      "stackoverflow_question_id": "8138635",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 35643,
      "stackoverflow_creation_date": "2011-11-15T15:19:30.143Z"
    },
    "idempotency_key": "stackoverflow-8138635",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Lambda add incremented elements to list",
    "body": "If I have a number and I need to increment it n times and add them to a list, is there a way to do this in 1 line in lambda? For eg. int n = 5; //5 elements. int x = 10; // starts at 10 //do stuff List<int> list; //list now contains: 10, 11, 12, 13, 14",
    "code": "int n = 5; //5 elements.\nint x = 10; // starts at 10\n//do stuff\nList&lt;int&gt; list;\n//list now contains: 10, 11, 12, 13, 14\n\n\n# Solution Code:\nvar list = Enumerable.Range(10, 5).ToList();\n\n\nlist.AddRange(Enumerable.Range(10, 5));\n\n\nEnumerable.Range\n\nAddRange",
    "resolution": "If you want to construct a list with 5 elements from a given starting point, incrementing by one, you can use Enumerable.Range. var list = Enumerable.Range(10, 5).ToList(); To add those to a pre-existing list, combine it with AddRange list.AddRange(Enumerable.Range(10, 5));",
    "severity": "medium",
    "tags": [
      "c#",
      "lambda"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "8143192",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1980,
      "stackoverflow_creation_date": "2011-11-15T21:11:59.143Z"
    },
    "idempotency_key": "stackoverflow-8143192",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Entity Framework - Where Clause",
    "body": "Let's say i have a table named User. When I use the Entity Framework to get the records i do like this: var db = new Context(); var users = db.Users; It return all the users in my table. OK. If i do this: var fooUsers = db.Users.Where(u => u.Name == 'foo'); It will give me all the users with name 'foo'. OK. My question is: The entity framework make a query like: select * from user where name = 'foo' Or it load all the users and filter them on the server with lambda expression?",
    "code": "var db = new Context();\nvar users = db.Users;\n\n\nvar fooUsers = db.Users.Where(u =&gt; u.Name == 'foo');\n\n\nselect * from user where name = 'foo'\n",
    "severity": "high",
    "tags": [
      "asp.net",
      "asp.net-mvc-3",
      "entity-framework",
      "lambda"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "8173845",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 10140,
      "stackoverflow_creation_date": "2011-11-17T20:29:48.950Z"
    },
    "idempotency_key": "stackoverflow-8173845",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I update text in a merged cell with VBA?",
    "body": "Suppose I have 2 cells that are merged, lets say Sheet1!$A$1:$B$1. And lets say there's a piece of text that's centered across both cells. How do I programmatically update that value with VBA? I have a simple user form with a button, on button click, I want the cell to update. I've tried grabbing the Range, but that doesn't seem to work.",
    "code": "Sheet1!$A$1:$B$1\n\n# Solution Code:\nRange(\"A1\").value = \"data\"\n\nCells(1,1).Value = \"data\"\n\nRange(\"B1\").Value = \"data\"",
    "resolution": "If you have merged the cells, then you can only edit the value of the merged cells by referencing the upper left most cell. So, if A1 and B1 are merged, the only way to change the date is: Range(\"A1\").value = \"data\" Or Cells(1,1).Value = \"data\" Calling Range(\"B1\").Value = \"data\" will not change the visible text.",
    "severity": "high",
    "tags": [
      "excel",
      "excel-2007",
      "vba"
    ],
    "metadata": {
      "stackoverflow_question_id": "8173877",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 28638,
      "stackoverflow_creation_date": "2011-11-17T20:32:05.127Z"
    },
    "idempotency_key": "stackoverflow-8173877",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Convert Table to an Array",
    "body": "I have seen many posts about how to turn an array into a table, but not nearly as many going the other way. I'm looking to take a table like this: <table id=\"dataTable\"> <tr> <th>Functional Category</th> <th>Brand Name</th> <th>When Obtained</th> <th>How Obtained</th> <th>How Often Worn</th> <th>Where Made</th> <th>Has a Graphic</th> </tr> <tr> <td>T-Shirt</td> <td>threadless</td> <td>Last 3 Months</td> <td>Purchased</td> <td>Monthly</td> <td>India</td> <td>Yes</td> </tr> <tr> <td>T-Shirt</td> <td>RVCA</td> <td>2 Years Ago</td> <td>Purchased</td> <td>Bi-Monthly</td> <td>Mexico</td> <td>Yes</td> </tr> </table> Into an array like this: var tableData = [ { category: \"T-shirt\", brandName: \"threadless\", whenObtained: \"Last 3 Months\", howObtained: \"Purchased\", howOftenWorn: \"Monthly\", whereMade: \"India\", hasGraphic: \"Yes\" }, { category: \"T-shirt\", brandName: \"RVCA\", whenObtained: \"2 Years Ago\", howObtained: \"Purchased\", howOftenWorn: \"Bi-Monthly\", whereMade: \"Mexico\", hasGraphic: \"Yes\" } ] I am looking to use jQuery for this and was wondering what the best way to go about this is.",
    "code": "\n&lt;table id=\"dataTable\">\n    &lt;tr>\n        &lt;th>Functional Category&lt;/th>\n        &lt;th>Brand Name&lt;/th>\n        &lt;th>When Obtained&lt;/th>\n        &lt;th>How Obtained&lt;/th>\n        &lt;th>How Often Worn&lt;/th>\n        &lt;th>Where Made&lt;/th>\n        &lt;th>Has a Graphic&lt;/th>\n    &lt;/tr>\n    &lt;tr>\n        &lt;td>T-Shirt&lt;/td>\n        &lt;td>threadless&lt;/td>\n        &lt;td>Last 3 Months&lt;/td>\n        &lt;td>Purchased&lt;/td>\n        &lt;td>Monthly&lt;/td>\n        &lt;td>India&lt;/td>\n        &lt;td>Yes&lt;/td>\n    &lt;/tr>\n    &lt;tr>\n        &lt;td>T-Shirt&lt;/td>\n        &lt;td>RVCA&lt;/td>\n        &lt;td>2 Years Ago&lt;/td>\n        &lt;td>Purchased&lt;/td>\n        &lt;td>Bi-Monthly&lt;/td>\n        &lt;td>Mexico&lt;/td>\n        &lt;td>Yes&lt;/td>\n    &lt;/tr>\n&lt;/table>\n\n\n\nvar tableData = [\n    {\n        category: \"T-shirt\",\n        brandName: \"threadless\",\n        whenObtained: \"Last 3 Months\",\n        howObtained: \"Purchased\",\n        howOftenWorn: \"Monthly\",\n        whereMade: \"India\",\n        hasGraphic: \"Yes\"\n    },\n    {\n        category: \"T-shirt\",\n        brandName: \"RVCA\",\n        whenObtained: \"2 Years Ago\",\n        howObtained: \"Purchased\",\n        howOftenWorn: \"Bi-Monthly\",\n        whereMade: \"Mexico\",\n        hasGraphic: \"Yes\"\n    }\n]\n\n\n# Solution Code:\nvar array = [];\nvar headers = [];\n$('#dataTable th').each(function(index, item) {\n    headers[index] = $(item).html();\n});\n$('#dataTable tr').has('td').each(function() {\n    var arrayItem = {};\n    $('td', $(this)).each(function(index, item) {\n        arrayItem[headers[index]] = $(item).html();\n    });\n    array.push(arrayItem);\n});\n",
    "resolution": "The following should do it! var array = []; var headers = []; $('#dataTable th').each(function(index, item) { headers[index] = $(item).html(); }); $('#dataTable tr').has('td').each(function() { var arrayItem = {}; $('td', $(this)).each(function(index, item) { arrayItem[headers[index]] = $(item).html(); }); array.push(arrayItem); }); See here for jsFiddle",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "arrays",
      "html-table"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "8231310",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 46980,
      "stackoverflow_creation_date": "2011-11-22T17:49:05.737Z"
    },
    "idempotency_key": "stackoverflow-8231310",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "System.Web.UI.ViewStateException: Invalid viewstate",
    "body": "I have a web application developed in ASP.net & C#. I also use Telerik ASP.NET AJAX for web UI. Application throws an exception (System.Web.UI.ViewStateException: Invalid viewstate) in production server. It works fine in test server. And this error is thrown randomly. System.Web.UI.ViewStateException: Invalid viewstate. Client IP: x.x.x.x Port: xxxxx Referer: http://webaddress/Page.aspx Path: /Page.aspx User-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; CMNTDF; BRI/1; InfoPath.3; BRI/2; .NET4.0C) ViewState: /wEPDwUILT ... [further contents omitted for this question]",
    "code": "System.Web.UI.ViewStateException: Invalid viewstate. \nClient IP: x.x.x.x\nPort: xxxxx\nReferer: http://webaddress/Page.aspx\nPath: /Page.aspx\nUser-Agent: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0; SLCC2; .NET CLR 2.0.50727; .NET CLR 3.5.30729; .NET CLR 3.0.30729; Media Center PC 6.0; CMNTDF; BRI/1; InfoPath.3; BRI/2; .NET4.0C)\nViewState: /wEPDwUILT ... [further contents omitted for this question]\n\n\nSystem.Web.UI.ViewStateException: Invalid viewstate",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net",
      "iis-7",
      "telerik"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "aspnet",
      "stackoverflow_question_id": "8252276",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 50021,
      "stackoverflow_creation_date": "2011-11-24T04:37:02.240Z"
    },
    "idempotency_key": "stackoverflow-8252276",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Remove forward slashes from a string",
    "body": "I am trying to do some PHP programming concepts and I am not aware of some in-build functions. So my doubt is: In PHP, how to remove slashes from strings? Is there any function available in PHP for this? e.g. $string = \"people are using Iphone/'s instead of Android phone/'s\";",
    "code": "$string = &quot;people are using Iphone/'s instead of Android phone/'s&quot;;\n\n\n# Solution Code:\n$string = \"people are using Iphone/'s instead of Android phone/'s\";\n$result = str_replace('/','',$string);\necho $result;\n// Output: people are using Iphone's instead of Android phone's\n\n\n$string = \"people are using Iphone\\\\'s instead of Android phone\\\\'s\";\n$result = stripslashes($string);\necho $result;\n// Output: people are using Iphone's instead of Android phone's\n\n\nstr_replace()\n\nstripslashes()",
    "resolution": "You can do a number of things here, but the two approaches I would choose from are: Use str_replace(): $string = \"people are using Iphone/'s instead of Android phone/'s\"; $result = str_replace('/','',$string); echo $result; // Output: people are using Iphone's instead of Android phone's If the slashes are backward slashes (as they probably are), you can use stripslashes(): $string = \"people are using Iphone\\\\'s instead of Android phone\\\\'s\"; $result = stripslashes($string); echo $result; // Output: people are using Iphone's instead of Android phone's",
    "severity": "high",
    "tags": [
      "php",
      "replace"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "8266476",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 60721,
      "stackoverflow_creation_date": "2011-11-25T08:37:22.003Z"
    },
    "idempotency_key": "stackoverflow-8266476",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Calculating the sum of integers in an array",
    "body": "I don't know if I'm just being a total fool, most likely I am, it's been a long day, but this isn't working as I want it to, and, well, I don't see why. It should be able to have 11 numbers entered, a new number on each line, add them to the array, then total them, yet it's just not working. It's not stopping to exit the loop, even though I am incrementing i. Any ideas? int main(void) { int array[10]; int i; int sum = 0; for ( i = 0; i < 11; i++){ scanf(\"%d\", &array[i]); } for (i = 0; i < 11; i++) { sum += array[i]; } printf(\"%d\", sum); return 0; }",
    "code": "int main(void) {\n int array[10];\n int i;\n int sum = 0;\n  for ( i = 0; i &lt; 11; i++){\n   scanf(\"%d\", &amp;array[i]);\n  }\n  for (i = 0; i &lt; 11; i++) {\n   sum += array[i];\n  }\nprintf(\"%d\", sum);\n\nreturn 0;\n\n\n# Solution Code:\ni\n\narray\n\narray[10]\n\ni",
    "resolution": "You're storing eleven numbers into an array of size 10. Thus you're storing the last element out of bounds, which invokes undefined behavior. The reason that this undefined behavior manifests itself as an infinite loop in your case is probably that i is stored after array in memory on your system and when you write a number into array[10] (which is out of bounds, as I said), you're overwriting i. So if you entered a number smaller than 11 this will cause the loop to continue and ask for input once more.",
    "severity": "high",
    "tags": [
      "c",
      "arrays"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "8300888",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 77984,
      "stackoverflow_creation_date": "2011-11-28T19:03:40.937Z"
    },
    "idempotency_key": "stackoverflow-8300888",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the smallest size I can make this structure on a 64bit machine?",
    "body": "typedef struct node{ char one; char two; struct node *next; } nodea; I'm thinking in terms of compiler padding, is there any way I can make the sizeof(nodea) smaller than 16?",
    "code": "typedef struct node{\n    char one;\n    char two;\n    struct node *next;\n} nodea;\n\n\n# Solution Code:\n #pragma pack(push)\n #pragma pack(1)\n typedef struct node {\n    char one;\n    char two;\n    struct node* next;\n } nodea;\n #pragma pack(pop)\n\n\n#pragma pack",
    "resolution": "You can use the #pragma pack compiler directive http://msdn.microsoft.com/en-us/library/2e70t5y1%28v=vs.80%29.aspx #pragma pack(push) #pragma pack(1) typedef struct node { char one; char two; struct node* next; } nodea; #pragma pack(pop)",
    "severity": "low",
    "tags": [
      "c",
      "gcc"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "8322439",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 226,
      "stackoverflow_creation_date": "2011-11-30T07:22:36.627Z"
    },
    "idempotency_key": "stackoverflow-8322439",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to draw stars using Quartz Core?",
    "body": "I'm trying to adapt an example provided by Apple in order to programmatically draw stars in line, the code is the following: CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetLineWidth(context, aSize); for (NSUInteger i=0; i<stars; i++) { CGContextSetFillColorWithColor(context, aColor); CGContextSetStrokeColorWithColor(context, aColor); float w = item.size.width; double r = w / 2; double theta = 2 * M_PI * (2.0 / 5.0); // 144 degrees CGContextMoveToPoint(context, 0, r); for (NSUInteger k=1; k<5; k++) { float x = r * sin(k * theta); float y = r * cos(k * theta); CGContextAddLineToPoint(context, x, y); } CGContextClosePath(context); CGContextFillPath(context); } The code above draws a perfect star, but is 1. displayed upside down 2. is black and without border. What I want to achive is to draw many stars on the same line and with the given style. I understand that I'm actually drawing the same path 5 times in the same position and that I have somehow to flip the context vertically, but after several tests I gave up! (I lack the necessary math and geometry skills :P)... could you please help me? UPDATE: Ok, thanks to CocoaFu, this is my refactored and working draw utility: - (void)drawStars:(NSUInteger)count inContext:(CGContextRef)context; { // constants const float w = self.itemSize.width; const float r = w/2; const double theta = 2 * M_PI * (2.0 / 5.0); const float flip = -1.0f; // flip vertically (default star representation) // drawing center for the star float xCenter = r; for (NSUInteger i=0; i<count; i++) { // get star style based on the index CGContextSetFillColorWithColor(context, [self fillColorForItemAtIndex:i]); CGContextSetStrokeColorWithColor(context, [self strokeColorForItemAtIndex:i]); // update position CGContextMoveToPoint(context, xCenter, r * flip + r); // draw the necessary star lines for (NSUInteger k=1; k<5; k++) { float x = r * sin(k * theta); float y = r * cos(k * theta); CGContextAddLineToPoint(context, x + xCenter, y * flip + r); } // update horizontal center for the next star xCenter += w + self.itemMargin; // draw current star CGContextClosePath(context); CGContextFillPath(context); CGContextStrokePath(context); } }",
    "code": "CGContextRef context = UIGraphicsGetCurrentContext();\nCGContextSetLineWidth(context, aSize);\n\n    for (NSUInteger i=0; i&lt;stars; i++) \n    {\n\n       CGContextSetFillColorWithColor(context, aColor);\n       CGContextSetStrokeColorWithColor(context, aColor);\n\n       float w = item.size.width;\n       double r = w / 2;\n       double theta = 2 * M_PI * (2.0 / 5.0); // 144 degrees\n\n       CGContextMoveToPoint(context, 0, r);\n\n       for (NSUInteger k=1; k&lt;5; k++) \n       {\n          float x = r * sin(k * theta);\n          float y = r * cos(k * theta);\n          CGContextAddLineToPoint(context, x, y);\n       }\n\n       CGContextClosePath(context);\n       CGContextFillPath(context);\n    }\n\n\n- (void)drawStars:(NSUInteger)count inContext:(CGContextRef)context;\n{\n    // constants\n    const float w = self.itemSize.width;\n    const float r = w/2;\n    const double theta = 2 * M_PI * (2.0 / 5.0);\n    const float flip = -1.0f; // flip vertically (default star representation)\n\n    // drawing center for the star\n    float xCenter = r;\n\n    for (NSUInteger i=0; i&lt;count; i++) \n    {\n        // get star style based on the index\n        CGContextSetFillColorWithColor(context, [self fillColorForItemAtIndex:i]);\n        CGContextSetStrokeColorWithColor(context, [self strokeColorForItemAtIndex:i]);\n\n        // update position\n        CGContextMoveToPoint(context, xCenter, r * flip + r);\n\n        // draw the necessary star lines\n        for (NSUInteger k=1; k&lt;5; k++) \n        {\n            float x = r * sin(k * theta);\n            float y = r * cos(k * theta);\n            CGContextAddLineToPoint(context, x + xCenter, y * flip + r);\n        }\n\n        // update horizontal center for the next star\n        xCenter += w + self.itemMargin; \n\n        // draw current star\n        CGContextClosePath(context);\n        CGContextFillPath(context);\n        CGContextStrokePath(context);\n    }\n}\n\n\n# Solution Code:\n-(void)drawRect:(CGRect)rect\n{\n    int aSize = 100.0;\n    const CGFloat color[4] = { 0.0, 0.0, 1.0, 1.0 }; // Blue\n    CGColorRef aColor = CGColorCreate(CGColorSpaceCreateDeviceRGB(), color);\n    CGContextRef context = UIGraphicsGetCurrentContext();\n    CGContextSetLineWidth(context, aSize);\n    CGFloat xCenter = 100.0;\n    CGFloat yCenter = 100.0;\n\n    float  w = 100.0;\n    double r = w / 2.0;\n    float flip = -1.0;\n\n    for (NSUInteger i=0; i&lt;3; i++) \n    {\n        CGContextSetFillColorWithColor(context, aColor);\n        CGContextSetStrokeColorWithColor(context, aColor);\n\n        double theta = 2.0 * M_PI * (2.0 / 5.0); // 144 degrees\n\n        CGContextMoveToPoint(context, xCenter, r*flip+yCenter);\n\n        for (NSUInteger k=1; k&lt;5; k++) \n        {\n            float x = r * sin(k * theta);\n            float y = r * cos(k * theta);\n            CGContextAddLineToPoint(context, x+xCenter, y*flip+yCenter);\n        }\n        xCenter += 150.0;\n    }\n    CGContextClosePath(context);\n    CGContextFillPath(context);\n}\n",
    "resolution": "Here is code that will draw 3 stars in a horizontal line, it's is not pretty but it may help: -(void)drawRect:(CGRect)rect { int aSize = 100.0; const CGFloat color[4] = { 0.0, 0.0, 1.0, 1.0 }; // Blue CGColorRef aColor = CGColorCreate(CGColorSpaceCreateDeviceRGB(), color); CGContextRef context = UIGraphicsGetCurrentContext(); CGContextSetLineWidth(context, aSize); CGFloat xCenter = 100.0; CGFloat yCenter = 100.0; float w = 100.0; double r = w / 2.0; float flip = -1.0; for (NSUInteger i=0; i<3; i++) { CGContextSetFillColorWithColor(context, aColor); CGContextSetStrokeColorWithColor(context, aColor); double theta = 2.0 * M_PI * (2.0 / 5.0); // 144 degrees CGContextMoveToPoint(context, xCenter, r*flip+yCenter); for (NSUInteger k=1; k<5; k++) { float x = r * sin(k * theta); float y = r * cos(k * theta); CGContextAddLineToPoint(context, x+xCenter, y*flip+yCenter); } xCenter += 150.0; } CGContextClosePath(context); CGContextFillPath(context); }",
    "severity": "medium",
    "tags": [
      "objective-c",
      "ios",
      "geometry",
      "quartz-core"
    ],
    "metadata": {
      "stackoverflow_question_id": "8445786",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 8329,
      "stackoverflow_creation_date": "2011-12-09T12:55:15.420Z"
    },
    "idempotency_key": "stackoverflow-8445786",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why can't I restrict a NumericStepper to include the negative sign?",
    "body": "I want to restrict my NumericStepper so that you can't type invalid characters into it (like a comma). I'm trying this, and it works: <s:initialize> stepper.textDisplay.restrict = \"0-9 \\- .\"; </s:initialize> <s:NumericStepper id=\"stepper\" /> Except the negative sign can't be typed anymore, even though I specify it. If I do it directly on a TextInput, it works: <s:TextInput restrict=\"0-9 \\- .\" minimum=\"-10\" /> Why doesn't this work?",
    "code": "&lt;s:initialize&gt;\n    stepper.textDisplay.restrict = \"0-9 \\- .\";\n&lt;/s:initialize&gt;\n\n&lt;s:NumericStepper id=\"stepper\" /&gt;\n\n\n&lt;s:TextInput restrict=\"0-9 \\- .\" minimum=\"-10\" /&gt;\n\n\n# Solution Code:\ntextDisplay.restrict = \"0-9\\\\-\\\\.\\\\,\";\n\n\n&lt;s:initialize&gt;\n    stepper.textDisplay.restrict = \"0-9\";\n&lt;/s:initialize&gt;\n\n&lt;s:NumericStepper id=\"stepper\" /&gt;\n\n\ns:TextInput\n\n\\-, \\^ or \\\\",
    "resolution": "The thing is Numeric Stepper Allows only the Three Special Characters .,- the text display in the numeric stepper is restricted to textDisplay.restrict = \"0-9\\\\-\\\\.\\\\,\"; Since if you want to restrict the -,. you can use like this <s:initialize> stepper.textDisplay.restrict = \"0-9\"; </s:initialize> <s:NumericStepper id=\"stepper\" /> this is quite enough and worked for me, the same can be used for the s:TextInput. The Format you used is not correct, the accepted backslash sequences are \\-, \\^ or \\\\ while using the ActionScript a double backslash must be used. For More Information refer the Document here.",
    "severity": "medium",
    "tags": [
      "apache-flex"
    ],
    "metadata": {
      "stackoverflow_question_id": "8560565",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1628,
      "stackoverflow_creation_date": "2011-12-19T11:20:55.467Z"
    },
    "idempotency_key": "stackoverflow-8560565",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "access denied for user @ 'localhost' to database ''",
    "body": "I'm seeing a lot of of similar questions to this. but can't find one exactly like mine yet. Not sure where to change these settings or anything, any help appreciated. access denied Access denied for user ''@'localhost' to database '' This is the beginning of my page. $dbhost = 'localhost'; //unlikely to require changing. $dbname ='publication'; //modify these $dbuser = 'username'; //variables $dbpass = ''; //// to your installation $appname = 'application name'; // and preference mysql_connect($dbhost, $dbuser, $dbpass) or die(mysql_error()); mysql_select_db($dbname) or die(mysql_error());",
    "code": "access denied Access denied for user ''@'localhost' to database ''\n\n\n$dbhost = 'localhost'; //unlikely to require changing.\n$dbname ='publication'; //modify these\n$dbuser = 'username'; //variables \n$dbpass = ''; //// to your installation\n$appname = 'application name'; // and preference\n\nmysql_connect($dbhost, $dbuser, $dbpass) or die(mysql_error());\nmysql_select_db($dbname) or die(mysql_error());\n",
    "severity": "high",
    "tags": [
      "php",
      "mysql",
      "windows",
      "xampp"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "8621649",
      "stackoverflow_score": 22,
      "stackoverflow_view_count": 129952,
      "stackoverflow_creation_date": "2011-12-23T23:50:17.913Z"
    },
    "idempotency_key": "stackoverflow-8621649",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to test constructor that sets protected properties?",
    "body": "Well, I'm new to unit-testing (with phpUnit) and just started to test one class of mine. Actual constructor looks like this: /** * Loads configuration. */ function __construct() { $config = Kohana::$config->load('koffee'); $this->_table_name = $config->table_name; $this->_table_columns = $config->table_columns; } It basically gets configuration from another file and sets it as protected properties to that object. Here is how unit-test looks (it's not finished and that's where I need help): /** * Tests that config is loaded and correct. */ function testConfigIsLoadedAndCorrect() { $object = new Model_Article(); $config = Kohana::$config->load('koffee'); // Compare object's **protected** properties to local `$config`. How?! } The problem is that properties are protected and I cannot access them so easy... Possible solutions I see at the moment: Change visibility of properties (I don't like this), Add, so called, \"getters\" to class I test - not unit-test (I don't like this neither); Probably this is funny to you, but, as I said, I'm new to unit-tests. Any help much appreciated.",
    "code": "/**\n * Loads configuration.\n */\nfunction __construct() {\n\n    $config =\n        Kohana::$config-&gt;load('koffee');\n\n    $this-&gt;_table_name = $config-&gt;table_name;\n    $this-&gt;_table_columns = $config-&gt;table_columns;\n\n}\n\n\n/**\n * Tests that config is loaded and correct.\n */\nfunction testConfigIsLoadedAndCorrect() {\n\n    $object = new Model_Article();\n\n    $config = Kohana::$config-&gt;load('koffee');\n\n    // Compare object's **protected** properties to local `$config`. How?!\n\n}\n\n\n# Solution Code:\n&lt;table title='name'&gt;&lt;tr&gt;&lt;th&gt;col1&lt;/th&gt;&lt;th&gt;col2&lt;/th&lt;/tr&gt;&lt;/table&gt;",
    "resolution": "You could create a subclass that does expose the data you need and only use it for unit testing. You could also test the behavior of the class rather than the data. The Model_Article must do something with the table_name and table_columns so test that behavior. For example, if the Model_Article is used to create an html table, then you could set the config values, create the Model_Article, use it to create the html, then assert that it matches a hard coded string like <table title='name'><tr><th>col1</th><th>col2</th</tr></table> [edit] You could also rely on constructor injection to pass the table_name and table_columns instead of having a hidden dependency on the configuration.",
    "severity": "medium",
    "tags": [
      "php",
      "unit-testing",
      "kohana",
      "phpunit",
      "visibility"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "8648102",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4559,
      "stackoverflow_creation_date": "2011-12-27T18:45:08.750Z"
    },
    "idempotency_key": "stackoverflow-8648102",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Removing one items from an array and moving the others backwards",
    "body": "I'll just go straight to the point. I want to move the items in an array in a uniform difference, let's say I have this. string[] fruits = { \"Banana\", \"Apple\", \"Watermelon\", \"Pear\", \"Mango\" }; For example, let's say I want to remove the \"Apple\" so I'll do this. fruits[1] = \"\"; Now all that left are: { \"Banana\", \"\", \"Watermelon\", \"Pear\", \"Mango\" } How do I really remove the Apple part and get only: { \"Banana\", \"Watermelon\", \"Pear\", \"Mango\" } Note that the index of all the items from \"Watermelon\" until the end of the array moves 1 backward. Any ideas?",
    "code": "string[] fruits = { \"Banana\", \"Apple\", \"Watermelon\", \"Pear\", \"Mango\" };\n\n\nfruits[1] = \"\";\n\n\n{ \"Banana\", \"\", \"Watermelon\", \"Pear\", \"Mango\" }\n\n\n{ \"Banana\", \"Watermelon\", \"Pear\", \"Mango\" }\n\n\n# Solution Code:\n  string[] fruits = { \"Banana\", \"Apple\", \"Watermelon\", \"Pear\", \"Mango\" };\n\n  fruits = fruits.Where(f =&gt; f != \"Apple\").ToArray();\n",
    "resolution": "If you really want to use Arrays, you can use Linq to filter your list and convert to array: string[] fruits = { \"Banana\", \"Apple\", \"Watermelon\", \"Pear\", \"Mango\" }; fruits = fruits.Where(f => f != \"Apple\").ToArray(); If you're not required to use an array, look at the List class. A list allows items to be added and removed.",
    "severity": "medium",
    "tags": [
      "c#",
      ".net",
      "arrays"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "8656015",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4055,
      "stackoverflow_creation_date": "2011-12-28T12:38:26.377Z"
    },
    "idempotency_key": "stackoverflow-8656015",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Overlapping of dropdown menu with another item",
    "body": "EDIT My jsfiddle entry is here : http://jsfiddle.net/ehNrE/3/ All the codes(only those required) below are there, I updated upon the request of @Jasper... tho some parts may be missing as i had to trim down the huge code PS: While clicking for the drop down menu in jsfiddle, you cannot see the red down arrow as its an image in the local system, but you can just click on where the arrow is supposed to be to see the effect. ORIGINAL POST The above images explains my problem... whats the problem with my drop down menu? Why is it overlapping with my entry div class below.... Can anyone suggest a remedy for it? ... I am using the codes from here to develop this... also I dono where the extra space is coming from My markup HTML (with jquery for the dropdown): <div id=\"menu\"> <ul class=\"topnav\"> <li><a href=\"#\">Live-Radio</a></li> <li><a href=\"#\">Blog</a></li> <li><a href=\"#\">Profile</a></li> <li><a href=\"#\">Home</a></li> <li> <a href=\"#\">Songs</a> <ul class=\"subnav\"> <li><a href=\"#\">Sub Nav Link</a></li> <li><a href=\"#\">Sub Nav Link</a></li> </ul> </li> </ul> <script type=\"text/javascript\"> $(document).ready(function(){ $(\"ul.subnav\").parent().append(\"<span></span>\"); //Only shows drop down trigger when js is enabled (Adds empty span tag after ul.subnav*) $(\"ul.topnav li span\").click(function() { //When trigger is clicked... //Following events are applied to the subnav itself (moving subnav up and down) $(this).parent().find(\"ul.subnav\").slideDown('fast').show(); //Drop down the subnav on click $(this).parent().hover(function() { }, function(){ $(this).parent().find(\"ul.subnav\").slideUp('slow'); //When the mouse hovers out of the subnav, move it back up }); //Following events are applied to the trigger (Hover events for the trigger) }).hover(function() { $(this).addClass(\"subhover\"); //On hover over, add class \"subhover\" }, function(){ //On Hover Out $(this).removeClass(\"subhover\"); //On hover out, remove class \"subhover\" }); }); </script> </div> My CSS: #menu{ float:left; height:71px; padding-top:35px; text-align: right; width: 400px; } ul.topnav { list-style: none; margin: 0; font-size: 1.2em; z-index:50; } ul.topnav li { height:100px; float: right; margin: 0; padding: 0 15px 15px 0; position: relative; /*--Declare X and Y axis base for sub navigation--*/ } ul.topnav li a{ padding: 10px 5px; color: #222; display: block; text-decoration: none; float: left; } ul.topnav li a:hover{ font-weight:bold; } ul.topnav li span { /*--Drop down trigger styles--*/ width: 17px; height: 35px; float: left; background: url(images/down.png) no-repeat center top; } ul.topnav li span.subhover {cursor: pointer;} /*--Hover effect for trigger--*/ ul.topnav li ul.subnav { list-style: none; position: absolute; /*--Important - Keeps subnav from affecting main navigation flow--*/ left: 0; top: 35px; background: #333; margin: 0; padding: 0; display: none; float: left; width: 170px; border: 1px solid #111; } ul.topnav li ul.subnav li{ margin: 0; padding: 0; border-top: 1px solid #252525; /*--Create bevel effect--*/ border-bottom: 1px solid #444; /*--Create bevel effect--*/ clear: both; width: 170px; } html ul.topnav li ul.subnav li a { float: left; width: 145px; background: #333 url(dropdown_linkbg.gif) no-repeat 10px center; padding-left: 20px; } html ul.topnav li ul.subnav li a:hover { /*--Hover effect for subnav links--*/ background: #222 url(dropdown_linkbg.gif) no-repeat 10px center; } .entry{ position:relative; margin:0 0 20px 0; border:2px solid #fff; background:#eee url(images/entrybg.png) repeat-x; color:#333; padding:10px 10px 0 10px; } And the below <div class=\"entry\"> ... </div> creates the box you see with the title What's happening at Bedupako.Com",
    "code": "&lt;div id=\"menu\"&gt;\n    &lt;ul class=\"topnav\"&gt;\n\n\n\n        &lt;li&gt;&lt;a href=\"#\"&gt;Live-Radio&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Blog&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Profile&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;&lt;a href=\"#\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n        &lt;li&gt;\n            &lt;a href=\"#\"&gt;Songs&lt;/a&gt;\n            &lt;ul class=\"subnav\"&gt;\n                &lt;li&gt;&lt;a href=\"#\"&gt;Sub Nav Link&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"#\"&gt;Sub Nav Link&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n        &lt;/li&gt;\n\n    &lt;/ul&gt;\n\n    &lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function(){\n\n        $(\"ul.subnav\").parent().append(\"&lt;span&gt;&lt;/span&gt;\"); //Only shows drop down trigger when js is enabled (Adds empty span tag after ul.subnav*)\n\n        $(\"ul.topnav li span\").click(function() { //When trigger is clicked...\n\n            //Following events are applied to the subnav itself (moving subnav up and down)\n            $(this).parent().find(\"ul.subnav\").slideDown('fast').show(); //Drop down the subnav on click\n\n            $(this).parent().hover(function() {\n            }, function(){\n                $(this).parent().find(\"ul.subnav\").slideUp('slow'); //When the mouse hovers out of the subnav, move it back up\n            });\n\n            //Following events are applied to the trigger (Hover events for the trigger)\n            }).hover(function() {\n                $(this).addClass(\"subhover\"); //On hover over, add class \"subhover\"\n            }, function(){  //On Hover Out\n                $(this).removeClass(\"subhover\"); //On hover out, remove class \"subhover\"\n        });\n\n    });\n\n    &lt;/script&gt;\n&lt;/div&gt;\n\n\n#menu{\n    float:left;\n    height:71px;\n    padding-top:35px;\n    text-align: right;\n    width: 400px;\n}\n\nul.topnav {    \n    list-style: none;\n    margin: 0;\n    font-size: 1.2em;\n    z-index:50;\n}\nul.topnav li {\n\n    height:100px;\n    float: right;\n    margin: 0;\n    padding: 0 15px 15px 0;\n    position: relative; /*--Declare X and Y axis base for sub navigation--*/\n}\nul.topnav li a{\n    padding: 10px 5px;\n    color: #222;\n    display: block;\n        text-decoration: none;\n        float: left;\n}\nul.topnav li a:hover{\n    font-weight:bold;\n}\nul.topnav li span { /*--Drop down trigger styles--*/\n    width: 17px;\n    height: 35px;\n    float: left;\n    background: url(images/down.png) no-repeat center top;\n}\nul.topnav li span.subhover {cursor: pointer;} /*--Hover effect for trigger--*/\nul.topnav li ul.subnav {\n    list-style: none;\n    position: absolute; /*--Important - Keeps subnav from affecting main navigation flow--*/\n    left: 0; top: 35px;\n    background: #333;\n    margin: 0; padding: 0;\n    display: none;\n    float: left;\n    width: 170px;\n    border: 1px solid #111;\n}\nul.topnav li ul.subnav li{\n    margin: 0; padding: 0;\n    border-top: 1px solid #252525; /*--Create bevel effect--*/\n    border-bottom: 1px solid #444; /*--Create bevel effect--*/\n    clear: both;\n    width: 170px;\n}\nhtml ul.topnav li ul.subnav li a {\n    float: left;\n    width: 145px;\n    background: #333 url(dropdown_linkbg.gif) no-repeat 10px center;\n    padding-left: 20px;\n}\nhtml ul.topnav li ul.subnav li a:hover { /*--Hover effect for subnav links--*/\n    background: #222 url(dropdown_linkbg.gif) no-repeat 10px center;\n}\n\n\n\n.entry{\n    position:relative;\n    margin:0 0 20px 0;\n    border:2px solid #fff;\n    background:#eee url(images/entrybg.png) repeat-x;\n    color:#333;\n    padding:10px 10px 0 10px;\n}\n\n\nentry\n\n&lt;div class=\"entry\"&gt; ... &lt;/div&gt;\n\nWhat's happening at Bedupako.Com\n\n# Solution Code:\n#menu {\n    position:relative;\n    z-index:9999;\n}\n\n\nul.topnav li ul.subnav li {\n    height: auto;\n}\n\n\n#menu\n\nz-index\n\n9999\n\nheight:auto\n\nli",
    "resolution": "First, your menu is overlapping your content area because it does not understand who goes first in the stream, since your submenu is absolutely positioned. To fix this, just declare a position to your #menu container and add a z-index of something like 9999 to position it above everything else. #menu { position:relative; z-index:9999; } As for your second issue, the submenu items are inheriting the height of your main menu items, which is 100 pixels, simply declare a height:auto to your submenu li items to fix this. ul.topnav li ul.subnav li { height: auto; } EDIT:: Fiddle http://jsfiddle.net/andresilich/ehNrE/6/",
    "severity": "high",
    "tags": [
      "jquery",
      "html",
      "css",
      "drop-down-menu"
    ],
    "metadata": {
      "language": "html",
      "framework": "jquery",
      "stackoverflow_question_id": "8694420",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 21439,
      "stackoverflow_creation_date": "2012-01-01T17:28:47.143Z"
    },
    "idempotency_key": "stackoverflow-8694420",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "javascript object extensibility restriction on methods only?",
    "body": "Is it possible to restrict the extensibility for methods only? As preventExtension() prevents addition of property as well as methods( because methods are also property). What is the solution to prevent further addition of methods only ( and allow addition of non method property)? Object.preventExtensions(obj);",
    "code": "Object.preventExtensions(obj);\n",
    "severity": "low",
    "tags": [
      "javascript"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "8703031",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 70,
      "stackoverflow_creation_date": "2012-01-02T16:21:23.343Z"
    },
    "idempotency_key": "stackoverflow-8703031",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Jasmine - Spying on a method call within a constructor",
    "body": "I want to test whether the following method is called with in my Javascript object constructor. From what I have seen in the Jasmine documentation, I can spy on a constructor method and I can spy on methods after an object has been instantiated, but I can't seem to be able to spy on a method before the object is constructed. The object: Klass = function() { this.called_method(); }; Klass.prototype.called_method = function() { //method to be called in the constructor. } I want to do something like this in the spec: it('should spy on a method call within the constructor', function() { spyOn(window, 'Klass'); var obj = new Klass(); expect(window.Klass.called_method).toHaveBeenCalled(); });",
    "code": "Klass = function() {\n    this.called_method();\n};\n\nKlass.prototype.called_method = function() {\n  //method to be called in the constructor.\n}\n\n\nit('should spy on a method call within the constructor', function() {\n    spyOn(window, 'Klass');\n    var obj = new Klass();\n    expect(window.Klass.called_method).toHaveBeenCalled();\n});\n\n\n# Solution Code:\ndescribe(\"The Klass constructor\", function() {\n  it(\"should call its prototype's called_method\", function() {\n      spyOn(Klass.prototype, 'called_method');  //.andCallThrough();\n      var k = new Klass();\n      expect(Klass.prototype.called_method).toHaveBeenCalled();\n  });\n});\n",
    "resolution": "Spy directly on the prototype method: describe(\"The Klass constructor\", function() { it(\"should call its prototype's called_method\", function() { spyOn(Klass.prototype, 'called_method'); //.andCallThrough(); var k = new Klass(); expect(Klass.prototype.called_method).toHaveBeenCalled(); }); });",
    "severity": "high",
    "tags": [
      "javascript",
      "testing",
      "jasmine",
      "spy"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "8733978",
      "stackoverflow_score": 67,
      "stackoverflow_view_count": 31227,
      "stackoverflow_creation_date": "2012-01-04T21:02:37.610Z"
    },
    "idempotency_key": "stackoverflow-8733978",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to extract Document Term Vector in Lucene 3.5.0",
    "body": "I am using Lucene 3.5.0 and I want to output term vectors of each document. For example I want to know the frequency of a term in all documents and in each specific document. My indexing code is: import java.io.FileFilter; import java.io.FileReader; import java.io.IOException; import java.io.File; import java.io.FileReader; import java.io.BufferedReader; import org.apache.lucene.index.IndexWriter; import org.apache.lucene.document.Field; import org.apache.lucene.document.Document; import org.apache.lucene.store.RAMDirectory; import org.apache.lucene.analysis.standard.StandardAnalyzer; import org.apache.lucene.store.Directory; import org.apache.lucene.store.FSDirectory; import org.apache.lucene.util.Version; public class Indexer { public static void main(String[] args) throws Exception { if (args.length != 2) { throw new IllegalArgumentException(\"Usage: java \" + Indexer.class.getName() + \" <index dir> <data dir>\"); } String indexDir = args[0]; String dataDir = args[1]; long start = System.currentTimeMillis(); Indexer indexer = new Indexer(indexDir); int numIndexed; try { numIndexed = indexer.index(dataDir, new TextFilesFilter()); } finally { indexer.close(); } long end = System.currentTimeMillis(); System.out.println(\"Indexing \" + numIndexed + \" files took \" + (end - start) + \" milliseconds\"); } private IndexWriter writer; public Indexer(String indexDir) throws IOException { Directory dir = FSDirectory.open(new File(indexDir)); writer = new IndexWriter(dir, new StandardAnalyzer(Version.LUCENE_35), true, IndexWriter.MaxFieldLength.UNLIMITED); } public void close() throws IOException { writer.close(); } public int index(String dataDir, FileFilter filter) throws Exception { File[] files = new File(dataDir).listFiles(); for (File f: files) { if (!f.isDirectory() && !f.isHidden() && f.exists() && f.canRead() && (filter == null || filter.accept(f))) { BufferedReader inputStream = new BufferedReader(new FileReader(f.getName())); String url = inputStream.readLine(); inputStream.close(); indexFile(f, url); } } return writer.numDocs(); } private static class TextFilesFilter implements FileFilter { public boolean accept(File path) { return path.getName().toLowerCase().endsWith(\".txt\"); } } protected Document getDocument(File f, String url) throws Exception { Document doc = new Document(); doc.add(new Field(\"contents\", new FileReader(f))); doc.add(new Field(\"urls\", url, Field.Store.YES, Field.Index.NOT_ANALYZED)); doc.add(new Field(\"filename\", f.getName(), Field.Store.YES, Field.Index.NOT_ANALYZED)); doc.add(new Field(\"fullpath\", f.getCanonicalPath(), Field.Store.YES, Field.Index.NOT_ANALYZED)); return doc; } private void indexFile(File f, String url) throws Exception { System.out.println(\"Indexing \" + f.getCanonicalPath()); Document doc = getDocument(f, url); writer.addDocument(doc); } } can anybody help me in writing a program to do that? thanks.",
    "code": "import java.io.FileFilter;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nimport java.io.File;\nimport java.io.FileReader;\nimport java.io.BufferedReader;\n\nimport org.apache.lucene.index.IndexWriter;\nimport org.apache.lucene.document.Field;\nimport org.apache.lucene.document.Document;\nimport org.apache.lucene.store.RAMDirectory;\nimport org.apache.lucene.analysis.standard.StandardAnalyzer;\nimport org.apache.lucene.store.Directory;\nimport org.apache.lucene.store.FSDirectory;\nimport org.apache.lucene.util.Version;\n\npublic class Indexer {\npublic static void main(String[] args) throws Exception {\n        if (args.length != 2) {\n        throw new IllegalArgumentException(\"Usage: java \" + Indexer.class.getName() + \" &lt;index dir&gt; &lt;data dir&gt;\");\n    }\n\n    String indexDir = args[0];\n    String dataDir = args[1];\n    long start = System.currentTimeMillis();\n    Indexer indexer = new Indexer(indexDir);\n    int numIndexed;\n    try {\n        numIndexed = indexer.index(dataDir, new TextFilesFilter());\n    } finally {\n        indexer.close();\n    }\n    long end = System.currentTimeMillis();\n    System.out.println(\"Indexing \" + numIndexed + \" files took \" + (end - start) + \" milliseconds\");\n}\n\nprivate IndexWriter writer;\n\npublic Indexer(String indexDir) throws IOException {\n    Directory dir = FSDirectory.open(new File(indexDir));\n    writer = new IndexWriter(dir,\n        new StandardAnalyzer(Version.LUCENE_35),\n        true,\n        IndexWriter.MaxFieldLength.UNLIMITED);\n}\n\npublic void close() throws IOException {\n    writer.close();\n}\n\npublic int index(String dataDir, FileFilter filter) throws Exception {\n    File[] files = new File(dataDir).listFiles();\n    for (File f: files) {\n        if (!f.isDirectory() &amp;&amp;\n        !f.isHidden() &amp;&amp;\n        f.exists() &amp;&amp;\n        f.canRead() &amp;&amp;\n        (filter == null || filter.accept(f))) {\n            BufferedReader inputStream = new BufferedReader(new FileReader(f.getName()));\n            String url = inputStream.readLine();\n            inputStream.close();\n            indexFile(f, url);\n        }\n    }\n    return writer.numDocs();\n}\n\nprivate static class TextFilesFilter implements FileFilter {\n    public boolean accept(File path) {\n        return path.getName().toLowerCase().endsWith(\".txt\");\n    }\n}\n\nprotected Document getDocument(File f, String url) throws Exception {\n    Document doc = new Document();\n    doc.add(new Field(\"contents\", new FileReader(f)));\n    doc.add(new Field(\"urls\", url, Field.Store.YES, Field.Index.NOT_ANALYZED));\n    doc.add(new Field(\"filename\", f.getName(), Field.Store.YES, Field.Index.NOT_ANALYZED));\n    doc.add(new Field(\"fullpath\", f.getCanonicalPath(), Field.Store.YES, Field.Index.NOT_ANALYZED));\n    return doc;\n}\n\nprivate void indexFile(File f, String url) throws Exception {\n    System.out.println(\"Indexing \" + f.getCanonicalPath());\n    Document doc = getDocument(f, url);\n    writer.addDocument(doc);\n}\n}\n\n\n# Solution Code:\nIndexReader.termDocs(term)\n\nField.TermVector.YES\n\nField\n\nIndexReader.getTermFreqVector()",
    "resolution": "First of all, you don't need to store term vectors in order to know solely the frequency of term in documents. Lucene stores these numbers nevertheless to use in TF-IDF calculation. You can access this information by calling IndexReader.termDocs(term) and iterating over the result. If you have some other purpose in mind and you actually need to access the term vectors, then you need to tell Lucene to store them, by passing Field.TermVector.YES as the last argument of Field constructor. Then, you can retrieve the vectors e.g. with IndexReader.getTermFreqVector().",
    "severity": "high",
    "tags": [
      "java",
      "indexing",
      "lucene"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "8776794",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 12892,
      "stackoverflow_creation_date": "2012-01-08T10:30:07.017Z"
    },
    "idempotency_key": "stackoverflow-8776794",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "No mapping found for HTTP request with URI [/myproject/] in DispatcherServlet with name 'appServlet'",
    "body": "I'm absolutely newbie with Java and Spring and I want to learn from example. I'm using an out-of-the-box configuration / installation Mac OSX Springsource Tool Suite as IDE Spring 2.8.1.RELEASE vfabric-tc-server-developer-2.6.1.RELEASE I've tried to generate a new project based on \"Spring Template Project\". Then I've chosen the \"Spring MVC Project\". The sample project is generated. After that, without modifying anything, I've tried to execute de \"home.jsp\" page via \"Run As\". The Web Server starts and finally I received the error in the console Tab. No mapping found for HTTP request with URI [/myproject/] in DispatcherServlet with name 'appServlet' And this other output in these web pages: http://localhost:8080/myproject/WEB-INF/views/home.jsp http://localhost:8080/myproject Here you can see an image on how my project is structured (auto generated for STS): What is wrong? Here you can see the content of the web.xml file: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"> <!-- The definition of the Root Spring Container shared by all Servlets and Filters --> <context-param> <param-name>contextConfigLocation</param-name> <param-value>/WEB-INF/spring/root-context.xml</param-value> </context-param> <!-- Creates the Spring Container shared by all Servlets and Filters --> <listener> <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class> </listener> <!-- Processes application requests --> <servlet> <servlet-name>appServlet</servlet-name> <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class> <init-param> <param-name>contextConfigLocation</param-name> <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value> </init-param> <load-on-startup>1</load-on-startup> </servlet> <servlet-mapping> <servlet-name>appServlet</servlet-name> <url-pattern>/</url-pattern> </servlet-mapping> </web-app> The root-context.xml file has this content. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"> <!-- Root Context: defines shared resources visible to all other web components --> </beans> And finally the servlet-context.xml has this content. <?xml version=\"1.0\" encoding=\"UTF-8\"?> <beans:beans xmlns=\"http://www.springframework.org/schema/mvc\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:beans=\"http://www.springframework.org/schema/beans\" xmlns:context=\"http://www.springframework.org/schema/context\" xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\"> <!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --> <!-- Enables the Spring MVC @Controller programming model --> <annotation-driven /> <!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --> <resources mapping=\"/resources/**\" location=\"/resources/\" /> <!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --> <beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"> <beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /> <beans:property name=\"suffix\" value=\".jsp\" /> </beans:bean> <context:component-scan base-package=\"com.mycompany.myapp\" /> </beans:beans> Does anybody have an idea to solve it?",
    "code": "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app version=\"2.5\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"&gt;\n\n    &lt;!-- The definition of the Root Spring Container shared by all Servlets and Filters --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/root-context.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Creates the Spring Container shared by all Servlets and Filters --&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Processes application requests --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/appServlet/servlet-context.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;appServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\"&gt;\n\n    &lt;!-- Root Context: defines shared resources visible to all other web components --&gt;\n\n&lt;/beans&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/mvc\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n    &lt;!-- DispatcherServlet Context: defines this servlet's request-processing infrastructure --&gt;\n\n    &lt;!-- Enables the Spring MVC @Controller programming model --&gt;\n    &lt;annotation-driven /&gt;\n\n    &lt;!-- Handles HTTP GET requests for /resources/** by efficiently serving up static resources in the ${webappRoot}/resources directory --&gt;\n    &lt;resources mapping=\"/resources/**\" location=\"/resources/\" /&gt;\n\n    &lt;!-- Resolves views selected for rendering by @Controllers to .jsp resources in the /WEB-INF/views directory --&gt;\n    &lt;beans:bean class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;beans:property name=\"prefix\" value=\"/WEB-INF/views/\" /&gt;\n        &lt;beans:property name=\"suffix\" value=\".jsp\" /&gt;\n    &lt;/beans:bean&gt;\n\n    &lt;context:component-scan base-package=\"com.mycompany.myapp\" /&gt;\n\n&lt;/beans:beans&gt;\n\n\nhttp://localhost:8080/myproject/WEB-INF/views/home.jsp\n\nhttp://localhost:8080/myproject\n\n# Solution Code:\n&lt;servlet-name&gt;\n\nDispatcherServlet\n\nservlet-context.xml\n\nappServlet-context.xml",
    "resolution": "Spring's convention is to assume that the <servlet-name> in the web.xml for the DispatcherServlet matches the beginning of the Spring servlet context XML file. Rename servlet-context.xml to appServlet-context.xml and see if that helps.",
    "severity": "high",
    "tags": [
      "java",
      "spring",
      "spring-mvc",
      "sts-springsourcetoolsuite",
      "tcserver"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "8848724",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 23868,
      "stackoverflow_creation_date": "2012-01-13T09:58:36.487Z"
    },
    "idempotency_key": "stackoverflow-8848724",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "array of arrays to array of objects php",
    "body": "I am trying to convert the associative array to an array of objects. $assoc = array ( array( 'prop1'=>'val1', 'prop2'=>'val2', ), array( 'prop1'=>'val1', 'prop2'=>'val2', ), ) Here Is the code I have so far: class Assoc { public function setObject($assoc) { $this->assoc[] = new Obj($assoc); } } class Obj { public function __construct($item) { foreach ( $item as $property=>$value ) { $this->{$property} = $value; } } } $test = New Assoc(); $test->setObject($assoc); This code will work for a single array but not an array of arrays. If you could help with what I believe to be the loop in the setObject function.",
    "code": "$assoc = array (\narray(\n    'prop1'=&gt;'val1',\n    'prop2'=&gt;'val2',\n),\n\narray(\n    'prop1'=&gt;'val1',\n    'prop2'=&gt;'val2',\n),\n)\n\n\nclass Assoc {\npublic function setObject($assoc) {\n    $this-&gt;assoc[] = new Obj($assoc);\n}\n}\nclass Obj {\npublic function __construct($item) {\n    foreach ( $item as $property=&gt;$value ) {\n        $this-&gt;{$property} = $value;\n    }\n}\n}\n\n$test = New Assoc();\n$test-&gt;setObject($assoc);\n\n\n# Solution Code:\nclass Assoc {\n  public function setObject($assoc) {\n    foreach ($assoc as $arr) {\n      $this-&gt;assoc[] = new Obj($arr);\n    }   \n  }\n}\nclass Obj {\n   public function __construct($item) {\n     foreach ( $item as $property=&gt;$value ) { \n       $this-&gt;{$property} = $value;\n     }  \n   }   \n}\n\n$test = New Assoc();\n$test-&gt;setObject($assoc);\n\n\n$new_array = array();\nforeach ($assoc as $to_obj)\n{\n  $new_array[] = (object)$to_obj;\n}\n\n// Print results\nvar_dump($new_array);\n\n\narray(2) {\n  [0]=&gt;\n  object(stdClass)#1 (2) {\n    [\"prop1\"]=&gt;\n    string(4) \"val1\"\n    [\"prop2\"]=&gt;\n    string(4) \"val2\"\n  }\n  [1]=&gt;\n  object(stdClass)#2 (2) {\n    [\"prop1\"]=&gt;\n    string(4) \"val1\"\n    [\"prop2\"]=&gt;\n    string(4) \"val2\"\n  }\n}\n",
    "resolution": "EDIT for specific object: To adhere to your existing style as close as possible without messing with array_map voodoo: class Assoc { public function setObject($assoc) { foreach ($assoc as $arr) { $this->assoc[] = new Obj($arr); } } } class Obj { public function __construct($item) { foreach ( $item as $property=>$value ) { $this->{$property} = $value; } } } $test = New Assoc(); $test->setObject($assoc); Original: If you just need generic conversion, and not into specific custom objects (not exactly clear in your post?) you can try this: $new_array = array(); foreach ($assoc as $to_obj) { $new_array[] = (object)$to_obj; } // Print results var_dump($new_array); outputs: array(2) { [0]=> object(stdClass)#1 (2) { [\"prop1\"]=> string(4) \"val1\" [\"prop2\"]=> string(4) \"val2\" } [1]=> object(stdClass)#2 (2) { [\"prop1\"]=> string(4) \"val1\" [\"prop2\"]=> string(4) \"val2\" } }",
    "severity": "medium",
    "tags": [
      "php",
      "arrays",
      "object"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "8860623",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 9867,
      "stackoverflow_creation_date": "2012-01-14T06:33:07.097Z"
    },
    "idempotency_key": "stackoverflow-8860623",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "software for linux - transform xml using xsl to pdf",
    "body": "I have two files. I want to create pdf with these two files. does anyone know program on linux that can do that? whats the command? The first one is xhtml/xml file: <html xmlns=\"http://www.w3.org/1999/xhtml\"> <body> <table border=\"1\"> <tr> <td>Day/Time</td> <td>7.30</td> <td>8.15</td> <td>9.05</td> <td>9.50</td> <td>10.40</td> <td>11.25</td> <td>12.15</td> <td>13.00</td> <td>13.50</td> <td>14.35</td> <td>15.25</td> <td>16.10</td> <td>17.00</td> <td>17.45</td> <td>18.35</td> </tr> <tr> <td>Monday</td> <td colspan=\"4\"></td> <td colspan=\"2\">UvIn 134 1.P</td> <td colspan=\"3\">Mult 134 3.P -> 137</td> <td colspan=\"6\"></td> </tr> <tr> <td>Tuesday</td> <td colspan=\"2\">InTe 135 1.P</td> <td></td> <td colspan=\"3\">MaAn 336 1.P</td> <td></td> <td colspan=\"2\">AlSu 134 1.P</td> <td colspan=\"2\"></td> <td colspan=\"2\">AlSu 135 1.P</td> <td colspan=\"2\"></td> </tr> <tr> <td>Wednesday</td> <td colspan=\"2\"></td> <td colspan=\"3\">Kart 134 2.PV</td> <td colspan=\"2\">INTE 041 2.PV</td> <td></td> <td colspan=\"2\">Aj 139 1.P</td> <td colspan=\"5\"></td> </tr> <tr> <td>Thursday</td> <td colspan=\"2\"></td> <td colspan=\"2\">GeIn 139 2.PV</td> <td colspan=\"3\">SePr 135 1.P</td> <td colspan=\"8\"></td> </tr> <tr> <td>Friday</td> <td colspan=\"15\"></td> </tr> </table> </body> </html> and the second one is .xsl file - combined xslt+xsl-fo: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" xmlns:fo=\"http://www.w3.org/1999/XSL/Format\" xmlns:a=\"http://www.w3.org/1999/xhtml\"> <xsl:template match=\"a:html\"> <fo:root> <fo:layout-master-set> <fo:simple-page-master master-name=\"a4\"> <fo:region-body padding-top=\"1in\" padding-left=\"1.5mm\" background-color=\"#222\"/> </fo:simple-page-master> </fo:layout-master-set> <xsl:apply-templates/> </fo:root> </xsl:template> <xsl:template match=\"a:body\"> <fo:page-sequence master-reference=\"a4\"> <fo:flow flow-name=\"xsl-region-body\"> <fo:table> <fo:table-body background-color=\"#333\"> <xsl:for-each select=\"a:table/a:tr\"> <fo:table-row> <xsl:for-each select=\"a:td\"> <fo:table-cell padding=\"0.5mm\" border-width=\"2mm\" border-style=\"outset\" border-color=\"#bbb\" color=\"#aaff00\" font-weight=\"bold\" font-family=\"arial\" text-align=\"center\"> <xsl:if test=\"@colspan\"><xsl:attribute name=\"number-columns-spanned\"><xsl:value-of select=\"@colspan\"/></xsl:attribute></xsl:if> <xsl:value-of select=\".\"/> </fo:table-cell> </xsl:for-each> </fo:table-row> </xsl:for-each> </fo:table-body> </fo:table> </fo:flow> </fo:page-sequence> </xsl:template> </xsl:stylesheet>",
    "code": "&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;body&gt;\n&lt;table border=\"1\"&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Day/Time&lt;/td&gt;\n        &lt;td&gt;7.30&lt;/td&gt;\n        &lt;td&gt;8.15&lt;/td&gt;\n        &lt;td&gt;9.05&lt;/td&gt;\n        &lt;td&gt;9.50&lt;/td&gt;\n        &lt;td&gt;10.40&lt;/td&gt;\n        &lt;td&gt;11.25&lt;/td&gt;\n        &lt;td&gt;12.15&lt;/td&gt;\n        &lt;td&gt;13.00&lt;/td&gt;\n        &lt;td&gt;13.50&lt;/td&gt;\n        &lt;td&gt;14.35&lt;/td&gt;\n        &lt;td&gt;15.25&lt;/td&gt;\n        &lt;td&gt;16.10&lt;/td&gt;\n        &lt;td&gt;17.00&lt;/td&gt;\n        &lt;td&gt;17.45&lt;/td&gt;\n        &lt;td&gt;18.35&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Monday&lt;/td&gt;\n        &lt;td colspan=\"4\"&gt;&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;UvIn 134 1.P&lt;/td&gt;\n        &lt;td colspan=\"3\"&gt;Mult 134 3.P -&gt; 137&lt;/td&gt;\n        &lt;td colspan=\"6\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Tuesday&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;InTe 135 1.P&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td colspan=\"3\"&gt;MaAn 336 1.P&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;AlSu 134 1.P&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;AlSu 135 1.P&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Wednesday&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n        &lt;td colspan=\"3\"&gt;Kart 134 2.PV&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;INTE 041 2.PV&lt;/td&gt;\n        &lt;td&gt;&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;Aj 139 1.P&lt;/td&gt;\n        &lt;td colspan=\"5\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Thursday&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;&lt;/td&gt;\n        &lt;td colspan=\"2\"&gt;GeIn 139 2.PV&lt;/td&gt;\n        &lt;td colspan=\"3\"&gt;SePr 135 1.P&lt;/td&gt;\n        &lt;td colspan=\"8\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n        &lt;td&gt;Friday&lt;/td&gt;\n        &lt;td colspan=\"15\"&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet version=\"1.0\" xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\"     xmlns:fo=\"http://www.w3.org/1999/XSL/Format\" xmlns:a=\"http://www.w3.org/1999/xhtml\"&gt;\n  &lt;xsl:template match=\"a:html\"&gt;\n    &lt;fo:root&gt;\n      &lt;fo:layout-master-set&gt;\n        &lt;fo:simple-page-master master-name=\"a4\"&gt;\n          &lt;fo:region-body padding-top=\"1in\" padding-left=\"1.5mm\" background-color=\"#222\"/&gt;\n        &lt;/fo:simple-page-master&gt;\n      &lt;/fo:layout-master-set&gt;\n      &lt;xsl:apply-templates/&gt;\n    &lt;/fo:root&gt;\n  &lt;/xsl:template&gt;\n\n  &lt;xsl:template match=\"a:body\"&gt;\n    &lt;fo:page-sequence master-reference=\"a4\"&gt;\n      &lt;fo:flow flow-name=\"xsl-region-body\"&gt;\n        &lt;fo:table&gt;\n          &lt;fo:table-body background-color=\"#333\"&gt;\n            &lt;xsl:for-each select=\"a:table/a:tr\"&gt;\n              &lt;fo:table-row&gt;\n                &lt;xsl:for-each select=\"a:td\"&gt;\n                  &lt;fo:table-cell padding=\"0.5mm\" border-width=\"2mm\" border-style=\"outset\" border-color=\"#bbb\" color=\"#aaff00\" font-weight=\"bold\" font-family=\"arial\" text-align=\"center\"&gt;\n                    &lt;xsl:if test=\"@colspan\"&gt;&lt;xsl:attribute name=\"number-columns-spanned\"&gt;&lt;xsl:value-of select=\"@colspan\"/&gt;&lt;/xsl:attribute&gt;&lt;/xsl:if&gt;\n                    &lt;xsl:value-of select=\".\"/&gt;\n                  &lt;/fo:table-cell&gt;\n                &lt;/xsl:for-each&gt;\n              &lt;/fo:table-row&gt;\n            &lt;/xsl:for-each&gt;\n          &lt;/fo:table-body&gt;\n        &lt;/fo:table&gt;\n      &lt;/fo:flow&gt;\n    &lt;/fo:page-sequence&gt;\n  &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n\n\n# Solution Code:\n$ xsltproc so.xsl so.xml &gt; so.fo\n$ &lt;path-to-extracted-fop-dir&gt;/fop so.fo so.pdf\n\n\nxsltproc",
    "resolution": "You'll need an XSLT processor, xsltproc is probably already in your Linux distribution. Then you'll need a processor to convert the FO (Formatting Objects) to a PDF. Apache has a free FO processor (FOP): Apache™ FOP: Downloading A Distribution Once you have a FOP downloaded and extracted, your pipeline might look something like this: $ xsltproc so.xsl so.xml > so.fo $ <path-to-extracted-fop-dir>/fop so.fo so.pdf I've tried as much with your provided XML source and XSLT, and there were errors when running Apache FOP. I don't know anything about your XSLT, so you might be able to get around the errors.",
    "severity": "medium",
    "tags": [
      "html",
      "xml",
      "xslt",
      "pdf"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "8917246",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8457,
      "stackoverflow_creation_date": "2012-01-18T20:54:23.163Z"
    },
    "idempotency_key": "stackoverflow-8917246",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Close file in finally block doesn't work",
    "body": "try { FileReader fr = new FileReader(file); BufferedReader br = new BufferedReader(fr); String line = null; } catch (FileNotFoundException fnf) { fnf.printStackTrace(); } finally { fr.close(); } The fr.close() shows an error: fr cannot be resolved I had read that closing a file in the finally block is a good practice. What is that am doing wrong?",
    "code": "try {\n    FileReader fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    String line = null;\n} catch (FileNotFoundException fnf) {\n    fnf.printStackTrace();\n} finally {\n    fr.close();\n}\n\n\nfr.close()\n\n# Solution Code:\nFileReader fr = null;\ntry {\n    fr = new FileReader(file);\n    BufferedReader br = new BufferedReader(fr);\n    String line = null;\n} catch (FileNotFoundException e) {\n    e.printStackTrace();\n} finally {\n    if (fr != null) {\n        try {\n            fr.close();\n        } catch (IOException e) {\n            // This is unrecoverable. Just report it and move on\n            e.printStackTrace();\n        }\n    }\n}\n\n\nfr\n\ntry\n\ntry\n\nIOException\n\nfr.close()",
    "resolution": "The variable fr only has scope within the try block. It is out of scope in the finally block. You need to declare it before the try block: FileReader fr = null; try { fr = new FileReader(file); BufferedReader br = new BufferedReader(fr); String line = null; } catch (FileNotFoundException e) { e.printStackTrace(); } finally { if (fr != null) { try { fr.close(); } catch (IOException e) { // This is unrecoverable. Just report it and move on e.printStackTrace(); } } } This is quite a common pattern of code, so it's good to remember it for future similar situations. Consider throwing IOException from this method - printing track traces isn't very helpful to callers, and you wouldn't need the nested try catch around fr.close()",
    "severity": "high",
    "tags": [
      "java",
      "try-catch-finally"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "8981589",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 27754,
      "stackoverflow_creation_date": "2012-01-24T03:15:17.440Z"
    },
    "idempotency_key": "stackoverflow-8981589",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "convert unsigned integer to byte array in C",
    "body": "Can you explain about how to convert the last 3 bytes of data from unsigned integer to a character array? Example: unsigned int unint = some value; unsigned char array[3];",
    "code": "unsigned int unint = some value;\nunsigned char array[3];\n\n\n# Solution Code:\nchar* bytes = (char*)&amp;unint;\n\n\nunsigned char bytes[3]; // or char, but unsigned char is better\n\nbytes[0] = unint &gt;&gt; 16 &amp; 0xFF;\nbytes[1] = unint &gt;&gt; 8  &amp; 0xFF;\nbytes[2] = unint       &amp; 0xFF;\n",
    "resolution": "It's more difficult if you have to convert it to an array, but if you just want to access the individual bytes, then you can do char* bytes = (char*)&unint; If you really do want to make an array (and therefore make a copy of the last 3 bytes, not leave them in place) you do unsigned char bytes[3]; // or char, but unsigned char is better bytes[0] = unint >> 16 & 0xFF; bytes[1] = unint >> 8 & 0xFF; bytes[2] = unint & 0xFF;",
    "severity": "high",
    "tags": [
      "c",
      "arrays",
      "int"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "8989759",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 17181,
      "stackoverflow_creation_date": "2012-01-24T15:50:18.527Z"
    },
    "idempotency_key": "stackoverflow-8989759",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Handling multiple requests with C# HttpListener",
    "body": "I have a .NET Windows Service which spawns a thread that basically just acts as an HttpListener. This is working fine in synchronous mode example... private void CreateLListener() { HttpListenerContext context = null; HttpListener listener = new HttpListener(); bool listen = true; while(listen) { try { context = listener.GetContext(); } catch (...) { listen = false; } // process request and make response } } The problem I now have is I need this to work with multiple requests and have them responded to simultaneously or at least in an overlapped way. To explain further - the client is a media player app which starts by making a request for a media file with the request header property Range bytes=0-. As far as I can tell it does this to work out what the media container is. After it has read a 'chunk' (or if it has read enough to ascertain media type) it then makes another request (from a different client socket number) with Range bytes=X-Y. In this case Y is the Content-Length returned in the first response and X is 250000 bytes less than that (discovered using IIS as a test). At this stage it is getting the last 'chunk' to see if it can get a media time-stamp to gauge length. Having read that, it makes another request with Range bytes=0- (from another socket number) to start streaming the media file properly. At any time though, if the user of the client performs a 'skip' operation it then sends another request (from yet another socket number) with Range bytes=Z- where Z is the position to jump to in the media file. I'm not very good with HTTP stuff but as far as I can tell I need to use multiple threads to handle each request/response while allowing the original HttpListener to return to listening. I've done plenty of searching but can't find a model which seems to fit. EDIT: Acknowledgement and gratitude to Rick Strahl for the following example which I was able to adapt to suit my needs... Add a Web Server to your .NET 2.0 app with a few lines of code",
    "code": "private void CreateLListener()\n{\n    HttpListenerContext context = null;\n    HttpListener listener = new HttpListener();\n    bool listen = true;\n\n    while(listen)\n    {\n        try\n        {\n            context = listener.GetContext();\n        }\n        catch (...)\n        {\n            listen = false;\n        }\n        // process request and make response\n    }\n}\n\n\nHttpListener\n\nRange bytes=0-\n\nRange bytes=X-Y\n\nRange bytes=0-\n\nRange bytes=Z-\n\nHttpListener\n\n# Solution Code:\nprivate void CreateLListener() {\n    //....\n    while(true) {\n        ThreadPool.QueueUserWorkItem(Process, listener.GetContext());    \n    }\n}\nvoid Process(object o) {\n    var context = o as HttpListenerContext;\n    // process request and make response\n}\n",
    "resolution": "If you need a more simple alternative to BeginGetContext, you can merely queue jobs in ThreadPool, instead of executing them on the main thread. Like such: private void CreateLListener() { //.... while(true) { ThreadPool.QueueUserWorkItem(Process, listener.GetContext()); } } void Process(object o) { var context = o as HttpListenerContext; // process request and make response }",
    "severity": "high",
    "tags": [
      "c#",
      "httplistener"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "9034721",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 46356,
      "stackoverflow_creation_date": "2012-01-27T14:26:04.883Z"
    },
    "idempotency_key": "stackoverflow-9034721",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "FizzBuzz cleanup",
    "body": "I'm still learning Haskell, and I was wondering if there is a less verbose way to express the below statement using 1 line of code: map (\\x -> (x, (if mod x 3 == 0 then \"fizz\" else \"\") ++ if mod x 5 == 0 then \"buzz\" else \"\")) [1..100] Produces: [(1,\"\"),(2,\"\"),(3,\"fizz\"),(4,\"\"),(5,\"buzz\"),(6,\"fizz\"),(7,\"\"),(8,\"\"),(9,\"fizz\"),(10,\"buzz\"),(11,\"\"),(12,\"fizz\"),(13,\"\"),(14,\"\"),(15,\"fizzbuzz\"),(16,\"\"),(17,\"\"),(18,\"fizz\"),(19,\"\"),(20,\"buzz\"),(21,\"fizz\"),(22,\"\"),(23,\"\"),(24,\"fizz\"),(25,\"buzz\"),(26,\"\"),(27,\"fizz\"),(28,\"\"),(29,\"\"),(30,\"fizzbuzz\"), etc It just feels like I'm fighting the syntax more than I should. I've seen other questions for this in Haskell, but I'm looking for the most optimal way to express this in a single statement (trying to understand how to work the syntax better).",
    "code": "map (\\x -&gt; (x, (if mod x 3 == 0 then \"fizz\" else \"\") ++ \n if mod x 5 == 0 then \"buzz\" else \"\")) [1..100]\n\n\n[(1,\"\"),(2,\"\"),(3,\"fizz\"),(4,\"\"),(5,\"buzz\"),(6,\"fizz\"),(7,\"\"),(8,\"\"),(9,\"fizz\"),(10,\"buzz\"),(11,\"\"),(12,\"fizz\"),(13,\"\"),(14,\"\"),(15,\"fizzbuzz\"),(16,\"\"),(17,\"\"),(18,\"fizz\"),(19,\"\"),(20,\"buzz\"),(21,\"fizz\"),(22,\"\"),(23,\"\"),(24,\"fizz\"),(25,\"buzz\"),(26,\"\"),(27,\"fizz\"),(28,\"\"),(29,\"\"),(30,\"fizzbuzz\")\n\n# Solution Code:\n[(x, concat $ [\"fizz\" | mod x 3 == 0] ++ [\"buzz\" | mod x 5 == 0]) | x &lt;- [1..100]]\n",
    "resolution": "If you insist on a one-liner: [(x, concat $ [\"fizz\" | mod x 3 == 0] ++ [\"buzz\" | mod x 5 == 0]) | x <- [1..100]]",
    "severity": "low",
    "tags": [
      "haskell",
      "fizzbuzz"
    ],
    "metadata": {
      "stackoverflow_question_id": "9047775",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 854,
      "stackoverflow_creation_date": "2012-01-28T19:10:57.133Z"
    },
    "idempotency_key": "stackoverflow-9047775",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to detect Back Key in my CustomView",
    "body": "I want to detect Back Key event in my CustomView (e.g., EditText). In many case, it has been achieved by overriding the onKeyDown() or dispatchKeyEvent(), under the condition that my CustomView obtains focus. CustomView.java @Override public boolean onKeyDown(int keyCode, KeyEvent event) { if( keyCode == KeyEvent.KEYCODE_BACK) { ..... return true; }else{ return super.onKeyDown(keyCode, event); } } However, if an Activity including the CustomView is also overriding the onKeyDown() or dispatchKeyEvent(), it couldn't work much. That is, the Activity has obtained the Back-KeyEvent before the CustomView has. I preferentially want to catch the Back-KeyEvent before Activity does. please tell me some ideas about this problem. Thank you.",
    "code": "@Override\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\n    if( keyCode == KeyEvent.KEYCODE_BACK) {\n        ..... \n        return true;\n    }else{\n        return super.onKeyDown(keyCode, event);\n    }\n}\n\n\nonKeyDown()\n\ndispatchKeyEvent()\n\nonKeyDown()\n\ndispatchKeyEvent()",
    "severity": "medium",
    "tags": [
      "android",
      "key",
      "detect",
      "back"
    ],
    "metadata": {
      "stackoverflow_question_id": "9076457",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 4219,
      "stackoverflow_creation_date": "2012-01-31T08:25:18.360Z"
    },
    "idempotency_key": "stackoverflow-9076457",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "unable destroy session in codeigniter",
    "body": "What I want to implement is a simple login page, if user login successfully, then redirect to main page, else remain login page. I have 1 controller named login, and 1 model named main. When user click the login button, the login/login_send will be called. <?php if ( ! defined('BASEPATH')) exit('No direct script access allowed'); class Login extends CI_Controller{ function __construct() { parent::__construct(); $this->load->model('model_login'); } function index() { if ($this->model_login->is_logged_in()) { redirect('main'); } else { // load login page $data['main'] = 'view_login'; $data['style'] = 'style_login'; $this->load->view('template', $data); } } function login_send() { $this->form_validation->set_rules('username', 'Username', 'trim|required'); $this->form_validation->set_rules('password', 'Password', 'trim|required'); if ($this->form_validation->run() == FALSE) { $this->index(); } else { if ( $this->model_login->validate_user() ) { $user_session_data = array( 'username' => $this->input->post('username'), 'is_logged_in' => 1 ); $this->session->set_userdata($user_session_data); redirect('main'); } else { redirect('login'); } } }// end function login_send function logout() { if ($this->model_login->is_logged_in()) { $this->session->sess_destroy(); $this->session->set_userdata(array('username' => '', 'is_logged_in' => 0)); log_message('debug', 'Some variable was correctly set'); } redirect('login','refresh'); } }// end class Login ?> Model_login here is just to help to verify if user is logged in, by check the session data. <?php class Model_login extends CI_MOdel{ function _isUserExist($username, $password) { $options = array( 'UserName' => $username, 'Password' => $password ); $query = $this->db->get_where('userinfo', $options); return $query->num_rows() > 0; } function validate_user() { $username = $this->input->post('username'); $password = $this->input->post('password'); return ($this->_isUserExist($username, $password)); } function is_logged_in() { $is_logged_in = $this->session->userdata('is_logged_in'); if ( !isset($is_logged_in) || $is_logged_in != 1 ) return FALSE; else return TRUE; } }// end class model_login ?> When first time login, and then logout, there is no problem. However, if I login second time, I can not log out. Even the login/logout was called correctly, I also refreshed the page, but the session['is_logged_in'] == 1. Something wrong with my code?",
    "code": "&lt;?php if ( ! defined('BASEPATH')) exit('No direct script access allowed');\n\nclass Login extends CI_Controller{\n\nfunction __construct() {\n    parent::__construct();\n    $this-&gt;load-&gt;model('model_login');\n}\n\nfunction index()\n{\n    if ($this-&gt;model_login-&gt;is_logged_in())\n    {\n        redirect('main');\n    }\n    else\n    {\n        // load login page\n        $data['main'] = 'view_login';\n        $data['style'] = 'style_login';\n        $this-&gt;load-&gt;view('template', $data);           \n    }\n}\n\nfunction login_send()\n{\n    $this-&gt;form_validation-&gt;set_rules('username', 'Username', 'trim|required');\n    $this-&gt;form_validation-&gt;set_rules('password', 'Password', 'trim|required'); \n\n    if ($this-&gt;form_validation-&gt;run() == FALSE) \n    {\n        $this-&gt;index();\n    } \n    else \n    {\n        if ( $this-&gt;model_login-&gt;validate_user() )\n        {\n            $user_session_data = array(\n                'username' =&gt; $this-&gt;input-&gt;post('username'),\n                'is_logged_in' =&gt; 1\n            );\n            $this-&gt;session-&gt;set_userdata($user_session_data);       \n            redirect('main');\n        }\n        else \n        {\n            redirect('login');\n        }\n    }       \n}// end function login_send\n\nfunction logout() \n{\n    if ($this-&gt;model_login-&gt;is_logged_in())\n    {\n        $this-&gt;session-&gt;sess_destroy();\n        $this-&gt;session-&gt;set_userdata(array('username' =&gt; '', 'is_logged_in' =&gt; 0));\n        log_message('debug', 'Some variable was correctly set');\n    }\n    redirect('login','refresh');\n}\n\n}// end class Login\n?&gt;\n\n\n&lt;?php\nclass Model_login extends CI_MOdel{\n\nfunction _isUserExist($username, $password) \n{   \n    $options = array(\n        'UserName' =&gt; $username,\n        'Password' =&gt; $password\n    );\n    $query = $this-&gt;db-&gt;get_where('userinfo', $options);\n    return $query-&gt;num_rows() &gt; 0;\n}\n\nfunction validate_user() \n{\n    $username = $this-&gt;input-&gt;post('username');\n    $password = $this-&gt;input-&gt;post('password');\n\n    return ($this-&gt;_isUserExist($username, $password));\n}\n\nfunction is_logged_in() \n{\n    $is_logged_in = $this-&gt;session-&gt;userdata('is_logged_in');\n\n    if ( !isset($is_logged_in) || $is_logged_in != 1 ) return FALSE;\n    else return TRUE;\n}\n}// end class model_login\n?&gt;\n\n\nlogin,\n\nmain\n\nModel_login\n\nsession['is_logged_in'] == 1\n\n# Solution Code:\n$config['sess_time_to_update']  = 300; //This is the default setting in ver 2.1.1\n\n\n$config['sess_time_to_update']  = 0;\n\n\napplication/config/config.php",
    "resolution": "In your application/config/config.php try changing $config['sess_time_to_update'] = 300; //This is the default setting in ver 2.1.1 to $config['sess_time_to_update'] = 0; This gave me some problems a few years back",
    "severity": "medium",
    "tags": [
      "php",
      "codeigniter",
      "session",
      "authentication"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "9092501",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 9720,
      "stackoverflow_creation_date": "2012-02-01T07:50:08.910Z"
    },
    "idempotency_key": "stackoverflow-9092501",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Set $.prop() without triggering change",
    "body": "<li> <input type=\"checkbox\" id=\"master\" /> <ul> <li> <input type=\"checkbox\" /> $('input').bind('change', function() {}); // exists elsewhere, cannot change When I click the top level input, I want to set .prop('checked', true) for all of its children, but I want to avoid triggering the change event for each child checkbox. How could I set .prop('checked', true) to an input without triggering change? Edit: (expanding) $('#master').click(function() { $(this).parent().find('input').each(function(n, in) { $(in).prop('checked', true); // this triggers a change event that I need to stop }); });",
    "code": "&lt;li&gt;\n &lt;input type=\"checkbox\" id=\"master\" /&gt;\n   &lt;ul&gt;\n   &lt;li&gt;\n     &lt;input type=\"checkbox\" /&gt;\n\n$('input').bind('change', function() {}); // exists elsewhere, cannot change\n\n\n$('#master').click(function() {\n    $(this).parent().find('input').each(function(n, in) {\n        $(in).prop('checked', true); // this triggers a change event that I need to stop\n    });\n});\n\n\n.prop('checked', true)\n\nchange\n\n.prop('checked', true)\n\nchange\n\n# Solution Code:\n&lt;li&gt;\n&lt;input id=\"main-chk\"type=\"checkbox\" /&gt;\n   &lt;ul&gt;\n   &lt;li&gt;\n     &lt;input class=\"children\" type=\"checkbox\" /&gt;\n\n    $('li:first').bind('change', function() {\n       $(this).find('li').prop('checked', 'checked');\n    }); // exists elsewhere, cannot change\n\n\ninput",
    "resolution": "Right now your selector targets all input elements. You can give your main checkbox an Id, and the others a common class. <li> <input id=\"main-chk\"type=\"checkbox\" /> <ul> <li> <input class=\"children\" type=\"checkbox\" /> $('li:first').bind('change', function() { $(this).find('li').prop('checked', 'checked'); }); // exists elsewhere, cannot change",
    "severity": "high",
    "tags": [
      "jquery"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "9136000",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 17275,
      "stackoverflow_creation_date": "2012-02-03T21:50:03.873Z"
    },
    "idempotency_key": "stackoverflow-9136000",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get difference in days between two weekdays",
    "body": "This sounds very easy, but i don't get the point. So what's the easiest way to get number of days between two DayOfWeeks when the first one is the starting point? If the next weekday is earlier, it should considered to be in the next week. The DayOfWeek-Enumeration starts with Sunday(0) and ends with Saturday(6). 1. Monday = 1 2. Thursday = 4 Result: 4 - 1 = 3 1. Thursday = 4 2. Monday = 1 // obviously a Math.Abs is helpful Result: Math.Abs(1 - 4) = 3 But this result is wrong because there are 4 days between Thursday and Monday(next week).",
    "code": " 1. Monday    = 1\n 2. Thursday  = 4\n\nResult: 4 - 1 = 3\n\n 1. Thursday  = 4\n 2. Monday    = 1\n// obviously a Math.Abs is helpful\nResult: Math.Abs(1 - 4) = 3\n\n\nDayOfWeeks\n\nSunday(0)\n\nSaturday(6)\n\n# Solution Code:\n(7 + (1 - 4)) % 7\n\n\nvar weekDay1  = DayOfWeek.Thursday;\nvar weeekDay2 = DayOfWeek.Monday;\nvar daysDiff  = (7 + (weeekDay2 - weekDay1)) % 7;\n",
    "resolution": "Add 7, then mod 7: (7 + (1 - 4)) % 7 For example: var weekDay1 = DayOfWeek.Thursday; var weeekDay2 = DayOfWeek.Monday; var daysDiff = (7 + (weeekDay2 - weekDay1)) % 7;",
    "severity": "medium",
    "tags": [
      "c#",
      ".net",
      "date",
      "calendar"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "9219083",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 4487,
      "stackoverflow_creation_date": "2012-02-09T21:28:27.540Z"
    },
    "idempotency_key": "stackoverflow-9219083",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jQuery this.html() returns undefined",
    "body": "I'm reformatting some really bad HTML using jQuery. I need to splice sibling <font> elements together. I tried this code: $('font+font').each(function() { this.html().appendTo( this.prev() ); this.remove(); }); but it gave me this error: TypeError: 'undefined' is not a function (evaluating 'this.html()') Here's a sample of the HTML: <font>This fragment </font><font>is actually one element.</font> Update I updated my code with $(this), but it still isn't working. When I run this code $('font+font').each(function() { $(this).html().appendTo( $(this).prev() ); $(this).remove(); }); I get this error: TypeError: 'undefined' is not a function (evaluating '$(this).html().appendTo( $(this).prev() )')",
    "code": "$('font+font').each(function() {\n    this.html().appendTo( this.prev() );\n    this.remove();\n});\n\n\n$('font+font').each(function() {\n    $(this).html().appendTo( $(this).prev() );\n    $(this).remove();\n});\n\n\n&lt;font&gt;\n\n&lt;font&gt;This fragment &lt;/font&gt;&lt;font&gt;is actually one element.&lt;/font&gt;\n\n$(this)\n\n# Solution Code:\n$('font+font').each(function() {\n    var $this = $(this);\n    $this.prev().append( $this.html() );\n    $this.remove();\n});\n\n\nthis\n\n.html()\n\n$this.prev().append( $this.html() )\n\n$(this)\n\n$(this)",
    "resolution": "this has to be wrapped in a jQuery object, before you can use jQuery methods on it. .html() returns a string. You cannot use jQuery methods on a string without wrapping. Use $this.prev().append( $this.html() ) instead. When using $(this) more than once, it's wise to store $(this) in a temporary variable. It's the convention to prefix jQuery objects with a dollar sign. Code: $('font+font').each(function() { var $this = $(this); $this.prev().append( $this.html() ); $this.remove(); });",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "this"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "9219346",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 38528,
      "stackoverflow_creation_date": "2012-02-09T21:50:01.907Z"
    },
    "idempotency_key": "stackoverflow-9219346",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Java Swing BoxLayout ignoring AlignmentX",
    "body": "In the code below, by calling setAlignmentX with Component.LEFT_ALIGNMENT I expected to get a left aligned label over a centered slider. For some reason the label is also centered, seemingly regardless of what value is passed to setAlignmentX. What value must I pass to setAlignmentX to get it left aligned? package myjava; import java.awt.Component; import java.awt.Container; import javax.swing.BoxLayout; import javax.swing.JFrame; import javax.swing.JLabel; import javax.swing.JSlider; public class LayoutTest { public static void main(String[] args) { javax.swing.SwingUtilities.invokeLater(new Runnable() { @Override public void run() { JFrame frame = new JFrame(\"BoxLayoutDemo\"); frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); // create left aligned label over centered column Container contentPane = frame.getContentPane(); contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.Y_AXIS)); JLabel label = new JLabel(\"test\"); label.setAlignmentX(Component.LEFT_ALIGNMENT); contentPane.add(label); contentPane.add(new JSlider()); frame.pack(); frame.setVisible(true); } }); } }",
    "code": "package myjava;\n\nimport java.awt.Component;\nimport java.awt.Container;\nimport javax.swing.BoxLayout;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JSlider;\n\npublic class LayoutTest {\n\n    public static void main(String[] args) {\n        javax.swing.SwingUtilities.invokeLater(new Runnable() {\n\n            @Override\n            public void run() {\n                JFrame frame = new JFrame(\"BoxLayoutDemo\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n                // create left aligned label over centered column\n                Container contentPane = frame.getContentPane();\n                contentPane.setLayout(new BoxLayout(contentPane, BoxLayout.Y_AXIS));\n                JLabel label = new JLabel(\"test\");\n                label.setAlignmentX(Component.LEFT_ALIGNMENT);\n                contentPane.add(label);\n                contentPane.add(new JSlider());\n\n                frame.pack();\n                frame.setVisible(true);\n            }\n        });\n    }\n}\n\n\nsetAlignmentX\n\nComponent.LEFT_ALIGNMENT",
    "severity": "medium",
    "tags": [
      "java",
      "swing",
      "boxlayout"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "9228678",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 3733,
      "stackoverflow_creation_date": "2012-02-10T13:43:10.690Z"
    },
    "idempotency_key": "stackoverflow-9228678",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Inner sub-selects in ContentProvider?",
    "body": "Is it possible to use inner subselect statement in a Query using content provider? Ex.: SELECT * from foo where timestamp = (select max(timestamp) from foo) If yes, can anyone please tell me how to send it to in \"selection/selectionArgs\" ? Thnx in advance... BTW, i cannot use rawquery",
    "code": "SELECT * from foo where timestamp = (select max(timestamp) from foo)",
    "severity": "low",
    "tags": [
      "android",
      "sqlite",
      "android-contentprovider"
    ],
    "metadata": {
      "stackoverflow_question_id": "9272876",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 656,
      "stackoverflow_creation_date": "2012-02-14T06:53:02.063Z"
    },
    "idempotency_key": "stackoverflow-9272876",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Dynamically created colgroup not working",
    "body": "I wrote a jQuery plugin that, among other things, sets the width of a table columns using colgroup, and allows them to be resized by dragging the headers left or right. I posted a stripped down version of it here. It works fine in Firefox (3.6 at least), but fails in other browsers, and I'm clueless about why. I noticed that when I create a table with a colgroup directly in the markup, the widths are fine, but when I add them later using jQuery they are not. Maybe I'm not adding them where they're supposed to be, or maybe I'm unknowingly relying on deprecated or browser-specific behavior, I have no idea. The resizing of the headers is done by changing the width attribute of each col, in response to a mouse drag. In principle it's working fine, it has no observable effects in the other browsers due to the colgroup issue (console.log shows the events are fired correctly). Any help with this issue will be appreciated. Suggestions on how to accomplish the same thing without colgroups are also welcome! (remembering that a header resize should change the widths of all tds in the column) Simplified code: var colgroup = $('<colgroup/>'); table.find(\"td,th\").each(function() { create_col($(this)).appendTo(colgroup); }); colgroup.appendTo(table); // Inside create_col: var col = $('<col width=\"' + width + '\"/>'); return col; Full code: jsfiddle.net/mgibsonbr/YqCsY/ P.S. Although unrelated to the problem, if anyone also knows a cross-browser way to make the headers unselectable please tell me, the resizing part will feel more \"natural\" this way. The relevant line in the (full) example is: th.attr(\"unselectable\",\"on\").css(\"-moz-user-select\",\"none\") Update: Apparently, Firefox accepts the colgroup being below tbody, but other browsers require it to be above... // colgroup.appendTo(table); colgroup.prependTo(table); This fixed things in Chrome and Safari, but Opera is still not working and Opera.",
    "code": "var colgroup = $('&lt;colgroup/&gt;');\ntable.find(\"td,th\").each(function() {\n    create_col($(this)).appendTo(colgroup);\n});\ncolgroup.appendTo(table);\n\n// Inside create_col:\nvar col = $('&lt;col width=\"' + width + '\"/&gt;');\nreturn col;\n\n\nth.attr(\"unselectable\",\"on\").css(\"-moz-user-select\",\"none\")\n\n\n// colgroup.appendTo(table);\ncolgroup.prependTo(table);\n\n\ncolgroup\n\nwidth\n\ncol\n\nconsole.log\n\ncolgroup\n\ntbody\n\n# Solution Code:\n// colgroup.appendTo(table);\ncolgroup.prependTo(table);\n\n\ncolgroup\n\ntbody",
    "resolution": "As noted in the update, colgroup must preceed tbody in a table, for most browsers to consider it. // colgroup.appendTo(table); colgroup.prependTo(table); Edit: for the unselectable problem, found an answer in another question.",
    "severity": "medium",
    "tags": [
      "jquery",
      "cross-browser",
      "html-table"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "9309545",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4533,
      "stackoverflow_creation_date": "2012-02-16T10:24:31.297Z"
    },
    "idempotency_key": "stackoverflow-9309545",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "mod_expires in apache htaccess",
    "body": "I am learning about apache and its various modules, currently i am confused about mod_expires. What i read so far is that using this module we can set future expiry header for static files so that browser need not to request them each time. I am confused about the fact that if some one change css/js or any image file in between, how will browser come to know about it since we have already told the browser that this is not going to change say for next 1 year. Thanks in advance",
    "code": "mod_expires",
    "severity": "low",
    "tags": [
      "apache",
      "http",
      ".htaccess",
      "caching"
    ],
    "metadata": {
      "stackoverflow_question_id": "9343610",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 713,
      "stackoverflow_creation_date": "2012-02-18T17:51:03.003Z"
    },
    "idempotency_key": "stackoverflow-9343610",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Using .htaccess to set a sub directory as root directory",
    "body": "Is there a way to use htaccess to tell a subdirectory to act as the root for the entire site? For example, if I had a website under http://localhost/testsite/ and in it's index.php file I had a reference to the stylesheet using the following code.. <link rel=\"stylesheet\" type=\"text/css\" href=\"/css/layout.css\" /> Could I then make that load /localhost/testsite/css/layout.css? To get around this problem, I set up localhost subdomains for each site which although works, is not ideal. Many thanks.",
    "code": "&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/layout.css\" /&gt;\n\n\n# Solution Code:\nRewriteEngine On\n\nRewriteCond %{REQUEST_URI} !^/testsite/.*$\nRewriteRule ^(.*)$ /testsite/$1 [QSA,L]\n",
    "resolution": "If you want to keep the 'href=\"/css/layout.css\"' part, then yes, you can set up a rewrite rule. You just have to be careful not to redirect anything starting with /testsite (or you'll end up with a loop). Like (in root .htaccess): RewriteEngine On RewriteCond %{REQUEST_URI} !^/testsite/.*$ RewriteRule ^(.*)$ /testsite/$1 [QSA,L] There, you will be able to access your layout.css file either from: http://localhost/testsite/css/layout.css or http://localhost/css/layout.css",
    "severity": "high",
    "tags": [
      "php",
      ".htaccess",
      "directory",
      "url-rewriting",
      "root"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "9413127",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 26212,
      "stackoverflow_creation_date": "2012-02-23T12:31:46.327Z"
    },
    "idempotency_key": "stackoverflow-9413127",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Search file, show matches and first line",
    "body": "I've got a comma separated textfile, which contains the column headers in the first line: column1;column2;colum3 foo;123;345 bar;345;23 baz;089;09 Now I want a short command that outputs the first line and the matching line(s). Is there a shorter way than: head -n 1 file ; cat file | grep bar",
    "code": "column1;column2;colum3\nfoo;123;345\nbar;345;23\nbaz;089;09\n\n\nhead -n 1 file ; cat file | grep bar\n\n\n# Solution Code:\ncat file | awk 'NR&lt;2;$0~v' v=baz\ncolumn1;column2;colum3\nbaz;089;09\n\n\ncat file | sed -n '1p;/foo/p' \ncolumn1;column2;colum3\nfoo;123;345\n\n\ncat file | ...\n\nv",
    "resolution": "This might work for you: cat file | awk 'NR<2;$0~v' v=baz column1;column2;colum3 baz;089;09 Usually cat file | ... is useless but in this case it keeps the file argument out of the way and allows the variable v to be amended quickly. Another solution: cat file | sed -n '1p;/foo/p' column1;column2;colum3 foo;123;345",
    "severity": "low",
    "tags": [
      "bash",
      "unix",
      "sed",
      "awk",
      "grep"
    ],
    "metadata": {
      "language": "bash",
      "stackoverflow_question_id": "9427010",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 321,
      "stackoverflow_creation_date": "2012-02-24T07:33:28.497Z"
    },
    "idempotency_key": "stackoverflow-9427010",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Linking with -Wl,-E, what does it mean etc?",
    "body": "I'm working on a project where we are using a Basler Pylon camera that comes with a CPP-API. Most of our other code, except picture taking, is written in Python so we use swig to wrap the take_image()-function from CPP. These are our invocations of swig and g++: swig -python -c++ frompytocpp.i g++ -c -fpic cppcamera.cpp frompytocpp_wrap.cxx -I/opt/pylon/genicam/library/CPP/include -I/opt/pylon/include -DUSE_GIGE -I/usr/include/python2.6 g++ -shared cppcamera.o frompytocpp_wrap.o -o _frompytocpp.so -L/opt/pylon/lib64 -L/opt/pylon/lib -L/opt/pylon/genicam/bin/Linux64_x64 -L/opt/pylon/genicam/bin/Linux64_x64/GenApi/Generic -Wl,-E -lpylonbase -lpylonutility It compiles fine but during runtime when trying to create a camera object an exception is thrown that seems to relate to unresolved symbols. According to the camera API-manual, the flag -Wl,-E is critical \"otherwise the linker will not know and match the pylon symbols correctly at runtime\". I looked up the man-page for g++, realized that -Wl is used to pass options to the linker, but couldn't figure out what the -E option when passed to -Wl will do. Anyone? The runtime problem only manifests itself when the picture taking function is called from python. So just standard compilation of cppcamera.cpp incorporating -Wl,-E works fine but something is not right/missing when we create the shared library used by the wrapper in python. Any suggestions on what might be missing in our g++-invocations?",
    "code": "swig -python -c++ frompytocpp.i\n\ng++ -c -fpic  cppcamera.cpp frompytocpp_wrap.cxx\n-I/opt/pylon/genicam/library/CPP/include -I/opt/pylon/include -DUSE_GIGE\n-I/usr/include/python2.6\n\ng++ -shared cppcamera.o frompytocpp_wrap.o -o _frompytocpp.so\n-L/opt/pylon/lib64 -L/opt/pylon/lib -L/opt/pylon/genicam/bin/Linux64_x64\n-L/opt/pylon/genicam/bin/Linux64_x64/GenApi/Generic -Wl,-E -lpylonbase\n-lpylonutility\n\n\n# Solution Code:\nld\n\ngcc\n\nld\n\n-E<br />--export-dynamic<br />--no-export-dynamic\n\n-E\n\n--export-dynamic\n\n--no-export-dynamic\n\ndlopen\n\n--dynamic-list",
    "resolution": "You can check the help manual of ld (If gcc is set to use ld as the linker): -E--export-dynamic--no-export-dynamic When creating a dynamically linked executable, using the -E option or the --export-dynamic option causes the linker to add all symbols to the dynamic symbol table. The dynamic symbol table is the set of symbols which are visible from dynamic objects at run time. If you do not use either of these options (or use the --no-export-dynamic option to restore the default behavior), the dynamic symbol table will normally contain only those symbols which are referenced by some dynamic object mentioned in the link. If you use dlopen to load a dynamic object which needs to refer back to the symbols defined by the program, rather than some other dynamic object, then you will probably need to use this option when linking the program itself. You can also use the dynamic list to control what symbols should be added to the dynamic symbol table if the output format supports it. See the description of --dynamic-list.",
    "severity": "medium",
    "tags": [
      "python",
      "linux",
      "g++",
      "swig"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "9444035",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 3948,
      "stackoverflow_creation_date": "2012-02-25T12:37:14.173Z"
    },
    "idempotency_key": "stackoverflow-9444035",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Tell LLVM optimizer contents of variables",
    "body": "I'm writing a compiler using LLVM as backend and have a lot of reference counting. When I borrow an object, I increment the object's reference counter. When I release an object, I decrement the reference counter, and free the object if it goes to zero. However, if I only do a small piece of code, like this one: ++obj->ref; global_variable_A = obj->a; if (--obj->ref == 0) free_object(obj); LLVM optimizes this to (in IR but this is the equal code in C): global_variable_A = obj->a; if (obj->ref == 0) free_object(obj); But since I know that a reference counter is always positive before the first statement, it could be optimized to only global_variable_A = obj->a; My question: is there any way to tell the LLVM optimizer that a register or some memory, at a the time of reading it, is known to contain non-zero data? An other equal question would be if I can tell the optimizer that a pointer is non-null, that would also be great.",
    "code": "++obj-&gt;ref;\nglobal_variable_A = obj-&gt;a;\nif (--obj-&gt;ref == 0)\n    free_object(obj);\n\n\nglobal_variable_A = obj-&gt;a;\nif (obj-&gt;ref == 0)\n    free_object(obj);\n\n\nglobal_variable_A = obj-&gt;a;\n",
    "severity": "low",
    "tags": [
      "optimization",
      "compiler-construction",
      "llvm"
    ],
    "metadata": {
      "stackoverflow_question_id": "9473247",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 146,
      "stackoverflow_creation_date": "2012-02-27T22:19:00.857Z"
    },
    "idempotency_key": "stackoverflow-9473247",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to combine this two javascript lines in just one line",
    "body": "am trying to figure out a way of combining the below statements document.getElementById( 'div1' ).appendChild( document.createElement( 'div' ) ).id=\"div2\"; document.getElementById( 'div2' ).appendChild( document.createTextNode( 'More about me' ) );",
    "code": "document.getElementById( 'div1' ).appendChild( document.createElement( 'div' ) ).id=\"div2\";\ndocument.getElementById( 'div2' ).appendChild( document.createTextNode( 'More about me' ) );\n\n\n# Solution Code:\ndocument.getElementById('div1').appendChild(document.createElement('div'))\n.appendChild(document.createTextNode('More about me'))\n.parentNode.id=\"div2\"; // only if you need the second div to have id=\"div2\" for some other reason.\n\n\nappendChild()\n\ngetElementById",
    "resolution": "appendChild() returns a reference to the node you just added, so the second getElementById is not necessary: document.getElementById('div1').appendChild(document.createElement('div')) .appendChild(document.createTextNode('More about me')) .parentNode.id=\"div2\"; // only if you need the second div to have id=\"div2\" for some other reason.",
    "severity": "medium",
    "tags": [
      "javascript"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "9494270",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1590,
      "stackoverflow_creation_date": "2012-02-29T06:02:08.737Z"
    },
    "idempotency_key": "stackoverflow-9494270",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Converting PHP array in HTML list",
    "body": "I have the array below which I would like to output in a specific HTML list format. My PHP array is as follow: Array ( [MAIN] => Master Product [ID1] => Array ( [0] => Product 1 ) [ID2] => Array ( [0] => Product 2 [ID3] => Array ( [0] => Product 3 ) [ID4] => Array ( [0] => Product 4 ) ) ) The HTML list format I am looking for is as follows. <ul id=\"treeview\"> <li>Master Product <ul> <li>Product 1</li> <li>Product 2 <ul> <li>Product 3</li> <li>Product 4</li> </ul> </li> </ul> </li> </ul> Any help would be appreciated.",
    "code": "Array\n(\n    [MAIN] =&gt; Master Product\n    [ID1] =&gt; Array\n        (\n            [0] =&gt; Product 1\n        )\n\n    [ID2] =&gt; Array\n        (\n            [0] =&gt; Product 2\n            [ID3] =&gt; Array\n                (\n                    [0] =&gt; Product 3\n                )\n\n            [ID4] =&gt; Array\n                (\n                    [0] =&gt; Product 4\n                )\n        )\n)\n\n\n&lt;ul id=\"treeview\"&gt;\n    &lt;li&gt;Master Product\n        &lt;ul&gt;\n            &lt;li&gt;Product 1&lt;/li&gt;\n            &lt;li&gt;Product 2\n                &lt;ul&gt;\n                    &lt;li&gt;Product 3&lt;/li&gt;\n                    &lt;li&gt;Product 4&lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n\n\n# Solution Code:\n\nfunction recurseTree($var){\n  $out = '&lt;li>';\n  foreach($var as $v){\n    if(is_array($v)){\n      $out .= '&lt;ul>'.recurseTree($v).'&lt;/ul>';\n    }else{\n      $out .= $v;\n    }\n  }\n  return $out.'&lt;/li>';\n}\n\necho '&lt;ul>'.recurseTree($yourDataArrayHere).'&lt;/ul>';\n\n",
    "resolution": "Try this on for size: function recurseTree($var){ $out = '<li>'; foreach($var as $v){ if(is_array($v)){ $out .= '<ul>'.recurseTree($v).'</ul>'; }else{ $out .= $v; } } return $out.'</li>'; } echo '<ul>'.recurseTree($yourDataArrayHere).'</ul>';",
    "severity": "medium",
    "tags": [
      "php",
      "recursion",
      "binary-tree",
      "html-lists"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "9542581",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 7863,
      "stackoverflow_creation_date": "2012-03-03T01:33:27.230Z"
    },
    "idempotency_key": "stackoverflow-9542581",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Access-Control-Allow-Origin / Plupload HTML5 / Cross-Domain / DMcloud",
    "body": "I'm implementing a video website with Dailymotion Cloud and plupload (HTML5 runtime). The workflow is : Retrieve upload URL via dmcloud API POST file to this URL Retrieve the JSON data in response in order to display the video I'm issuing the following on the upload : xmlhttprequest cannot load origin http://localhost:3000 is not allowed by access-control-allow-origin My issue is that the upload fails with some upload URLs, in a non-deterministic way. When an upload URL works, it works as many times as I want, and when an upload URL doesn't, it never works. The Dmcloud server sends the Access-Control-Allow-Origin: *. Each request is done in two times : first an OPTION request is sent to ensure that the URL is accepting origin. And then a POST request is done. OPTION requests ever successed, with good headers, the issue is coming at the end of the POST request... Do you think that it is a Dmcloud server issue ? A chrome HTML5 issue ? A plupload issue ? Some network screenshots : Success: OPTIONS request Success: POST request Fail: OPTIONS request Fail: POST request",
    "code": "xmlhttprequest cannot load origin http://localhost:3000 is not allowed by access-control-allow-origin\n\nAccess-Control-Allow-Origin: *\n\nOPTION\n\nPOST\n\nOPTION\n\nPOST\n\n# Solution Code:\nAccess-Control-Allow-Origin\n\nupload-02.dmcloud.net",
    "resolution": "So this was a server-side issue : Access-Control-Allow-Origin header was not sent on upload-02.dmcloud.net. The awesome guys of the Dmcloud support team solved this very quickly. Thanks to @monsur, who helps me identifying the issue.",
    "severity": "medium",
    "tags": [
      "html",
      "cross-domain",
      "plupload"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "9710025",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3196,
      "stackoverflow_creation_date": "2012-03-14T20:45:57.647Z"
    },
    "idempotency_key": "stackoverflow-9710025",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Modifying a python docstring with a decorator: Is it a good idea?",
    "body": "A python docstring must be given as a literal string; but sometimes it's useful to have similar docstrings for several functions (e.g., different constructors), or several access methods might accept the same list of arguments (and then rely on the same hidden method), so it would be nice to use the same description everywhere. For such cases I can construct a docstring by assigning to __doc__, which I do by means of a simple decorator. The system works very nicely (in python 2), and I'm pleased with how simple, clear and well-encapsulated it is. The question: Is this a good idea? In particular, are there tools that would be confused by this set-up (e.g., anything that extracts docstrings from the source rather than from the bytecode). Is the solution still going to work in python 3? Are there other reasons or circumstances that would make this inadvisable?",
    "code": "__doc__",
    "severity": "medium",
    "tags": [
      "python"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "9744806",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 1858,
      "stackoverflow_creation_date": "2012-03-16T21:35:19.607Z"
    },
    "idempotency_key": "stackoverflow-9744806",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Kill a child process that has detached from the shell",
    "body": "I want to control many different Sinatra apps from a central (Sinatra) app. The problem I have is no matter which way I exec/spawn/fork the call to start it, I cannot get the pid of the Sinatra server so that I can kill (:int) it? This is due to my shell exec string, which contains a few other commands first, so I get the pid of the first. My command string is like command = source ~/.profile; rbenv #{ver}; some_env=1234 ruby app.rb So I get the pid of the sh process of the sourcing command. The question is, how can I get the pid of the ruby command launched above? I am currently using spawn, but have tried most others as well, but I don't think that is the problem!? pid = Process.spawn(command) pid # => 1234 The ruby app itself starts $ ps aux 1234 sh -c . ~/.profile; shell_script 4567 shell_script I want to know 4567!?",
    "code": "command = source ~/.profile; rbenv #{ver}; some_env=1234 ruby app.rb\n\n\npid = Process.spawn(command)\npid # =&gt; 1234\n\n\n$ ps aux\n1234 sh -c . ~/.profile; shell_script\n4567 shell_script\n",
    "severity": "low",
    "tags": [
      "ruby",
      "shell",
      "exec"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "9916215",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 902,
      "stackoverflow_creation_date": "2012-03-28T21:53:53.623Z"
    },
    "idempotency_key": "stackoverflow-9916215",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Efficiently calculate word frequency in a string",
    "body": "I am parsing a long string of text and calculating the number of times each word occurs in Python. I have a function that works but I am looking for advice on whether there are ways I can make it more efficient(in terms of speed) and whether there's even python library functions that could do this for me so I'm not reinventing the wheel? Can you suggest a more efficient way to calculate the most common words that occur in a long string(usually over 1000 words in the string)? Also whats the best way to sort the dictionary into a list where the 1st element is the most common word, the 2nd element is the 2nd most common word and etc? test = \"\"\"abc def-ghi jkl abc abc\"\"\" def calculate_word_frequency(s): # Post: return a list of words ordered from the most # frequent to the least frequent words = s.split() freq = {} for word in words: if freq.has_key(word): freq[word] += 1 else: freq[word] = 1 return sort(freq) def sort(d): # Post: sort dictionary d into list of words ordered # from highest freq to lowest freq # eg: For {\"the\": 3, \"a\": 9, \"abc\": 2} should be # sorted into the following list [\"a\",\"the\",\"abc\"] #I have never used lambda's so I'm not sure this is correct return d.sort(cmp = lambda x,y: cmp(d[x],d[y])) print calculate_word_frequency(test)",
    "code": "test = \"\"\"abc def-ghi jkl abc\nabc\"\"\"\n\ndef calculate_word_frequency(s):\n    # Post: return a list of words ordered from the most\n    # frequent to the least frequent\n\n    words = s.split()\n    freq  = {}\n    for word in words:\n        if freq.has_key(word):\n            freq[word] += 1\n        else:\n            freq[word] = 1\n    return sort(freq)\n\ndef sort(d):\n    # Post: sort dictionary d into list of words ordered\n    # from highest freq to lowest freq\n    # eg: For {\"the\": 3, \"a\": 9, \"abc\": 2} should be\n    # sorted into the following list [\"a\",\"the\",\"abc\"]\n\n    #I have never used lambda's so I'm not sure this is correct\n    return d.sort(cmp = lambda x,y: cmp(d[x],d[y]))\n\nprint calculate_word_frequency(test)\n\n\n# Solution Code:\n&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt; test = 'abc def abc def zzz zzz'\n&gt;&gt;&gt; Counter(test.split()).most_common()\n[('abc', 2), ('zzz', 2), ('def', 2)]\n\n\ncollections.Counter",
    "resolution": "Use collections.Counter: >>> from collections import Counter >>> test = 'abc def abc def zzz zzz' >>> Counter(test.split()).most_common() [('abc', 2), ('zzz', 2), ('def', 2)]",
    "severity": "high",
    "tags": [
      "python",
      "parsing",
      "lambda",
      "word-frequency"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "9919604",
      "stackoverflow_score": 19,
      "stackoverflow_view_count": 37741,
      "stackoverflow_creation_date": "2012-03-29T05:32:54.340Z"
    },
    "idempotency_key": "stackoverflow-9919604",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQL n:m Inheritance join",
    "body": "I want to join a table which contains n:m relationship between groups. (Groups are defined in a separate table). This table only has entries listing a member_group_id and a parent_group_id. Given this structure: id(int) | member_group_id(int) | parent_group_id(int) The \"base\" query looks like this: select p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id from group_member_group as p1 join group_member_group as p2 on p2.member_group_id = p1.member_group_id The \"base\" query correctly shows all relationships (I checked by doing it manually.) The problem is when I try to apply a where clause to this query to filter for a specific group as \"point of origin\" (the first group for which I want all parent groups) it returns only the closest parents. For example like this: select p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id from group_member_group as p1 join group_member_group as p2 on p2.member_group_id = p1.member_group_id where p1.group_id = 1 Can anyone give a clue how I can fix this? Or a different approach to realize this. (I suppose I could always do this in my C++ source code on the server side but I would have to transfer a entire table which has a high growth potential to the application server.) UPDATE: select p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id from group_member_group as p1 join group_member_group as p2 on p2.group_id = p1.member_group_id Typing mistake confirmed. Now I don't get past first level of inheritance period. Thanks at denied for pointing that out. UPDATE2: Expected Result id | group_id | member_group_id -------------------------------- 1 | 1 | 2 2 | 2 | 3 3 | 3 | 4 4 | 4 | 5 5 | 5 | 6 6 | 6 | 7 expected result: ids 2 3 4 5 6 7",
    "code": "id(int) | member_group_id(int) | parent_group_id(int)\n\n\nselect p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id\nfrom group_member_group as p1 \njoin group_member_group as p2 \non p2.member_group_id = p1.member_group_id\n\n\nselect p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id\nfrom group_member_group as p1 \njoin group_member_group as p2 \non p2.member_group_id = p1.member_group_id\nwhere p1.group_id = 1\n\n\nselect p1.group_id, p2.group_id, p1.member_group_id, p2.member_group_id\nfrom group_member_group as p1 \njoin group_member_group as p2 \non p2.group_id = p1.member_group_id\n\n\nid | group_id | member_group_id\n--------------------------------\n1  |    1     |    2\n2  |    2     |    3\n3  |    3     |    4\n4  |    4     |    5\n5  |    5     |    6\n6  |    6     |    7\n\n\n2\n3\n4\n5\n6\n7\n\n\n# Solution Code:\non p2.member_group_id = p1.member_group_id\n\n\non p2.parent_group_id = p1.member_group_id\n",
    "resolution": "on p2.member_group_id = p1.member_group_id it looks like mistake. Maybe you wanted to type on p2.parent_group_id = p1.member_group_id Maybe you should look for Nested Set Model for parent-child relationships. It's much easier to make queries like this in that model.",
    "severity": "low",
    "tags": [
      "mysql",
      "sql",
      "inheritance",
      "join",
      "nm"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "9966114",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 684,
      "stackoverflow_creation_date": "2012-04-01T16:33:43.227Z"
    },
    "idempotency_key": "stackoverflow-9966114",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Add ActionListener to Column Header of JTable",
    "body": "Is it possible to add an ActionListener to a column header for JTable. Here is my table Now, I want to add an ActionListener to the column headers (e.g. WQE, SDM) I would like to be able to show the column description in another window.",
    "code": "ActionListener\n\nJTable\n\nActionListener\n\nWQE\n\nSDM\n\n# Solution Code:\n// example table with 2 cols\nJFrame frame = new JFrame();\nfinal JTable table = new JTable(new DefaultTableModel(new String[] {\n        \"foo\", \"bar\" }, 2));\nframe.getContentPane().setLayout(\n        new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS));\nframe.getContentPane().add(table.getTableHeader());\nframe.getContentPane().add(table);\nframe.pack();\nframe.setVisible(true);\n\n// listener\ntable.getTableHeader().addMouseListener(new MouseAdapter() {\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        int col = table.columnAtPoint(e.getPoint());\n        String name = table.getColumnName(col);\n        System.out.println(\"Column index selected \" + col + \" \" + name);\n    }\n});\n",
    "resolution": "See fully working example below add a MouseListener to the column header use table.columnAtPoint() to find out which column header was clicked Code: // example table with 2 cols JFrame frame = new JFrame(); final JTable table = new JTable(new DefaultTableModel(new String[] { \"foo\", \"bar\" }, 2)); frame.getContentPane().setLayout( new BoxLayout(frame.getContentPane(), BoxLayout.Y_AXIS)); frame.getContentPane().add(table.getTableHeader()); frame.getContentPane().add(table); frame.pack(); frame.setVisible(true); // listener table.getTableHeader().addMouseListener(new MouseAdapter() { @Override public void mouseClicked(MouseEvent e) { int col = table.columnAtPoint(e.getPoint()); String name = table.getColumnName(col); System.out.println(\"Column index selected \" + col + \" \" + name); } });",
    "severity": "high",
    "tags": [
      "java",
      "swing",
      "jtable",
      "actionlistener",
      "jtableheader"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "9992350",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 23584,
      "stackoverflow_creation_date": "2012-04-03T11:30:57.360Z"
    },
    "idempotency_key": "stackoverflow-9992350",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Compiling code that uses socket function bind() with libcxx fails",
    "body": "I am using the new libcxx library and I have a code that calls the socket function bind(). The problem is that when I type using namespace std; the compiler gives me an error for the following code: int res = bind(sockfd, (struct sockaddr *)&myAddr, sizeof(myAddr)); The error using clang (svn build): error: no viable conversion from '__bind<int &, sockaddr *, unsigned long>' to 'int' int res = bind(sockfd, (struct sockaddr *)&myAddr, sizeof(myAddr)); I think that the problem is that using namespace std; brings the function std::bind() from the header <functional> to the scope (although the header is not included). As I am using a third party library that uses the entire namespace std I can't easily change the class names to fully qualified names. I was wondering whether this is a problem in the implementation of the library or whether there are some new rules in C++11 that might potentially break an old code that uses bind(). Any thoughts on this would be appreciated. Thanks Roman",
    "code": "int res = bind(sockfd, (struct sockaddr *)&amp;myAddr, sizeof(myAddr));\n\n\nerror: no viable conversion from '__bind&lt;int &amp;, sockaddr *, unsigned long&gt;' to 'int'\n int res = bind(sockfd, (struct sockaddr *)&amp;myAddr, sizeof(myAddr));\n\n\nbind()\n\nusing namespace std;\n\nusing namespace std;\n\nstd::bind()\n\n&lt;functional&gt;\n\nbind()\n\n# Solution Code:\nstd::bind\n\nnamespace std\n\nnamespace std\n\nstd::\n\nusing namespace std;\n\nbind\n\nstd::bind\n\nbind\n\n::bind\n\nusing namespace std;",
    "resolution": "This isn't a problem in the implementation of the libraries. C++11 introduced its own std::bind function into namespace std, which is used to bind parameters to functions and support a bit of higher-order programming. The reason for having namespace std is to help prevent new library functions and classes from causing breaking changes in existing code. The reason for this is that everything has a name starting with std::, which prevents name collisions. However, if you write using namespace std; in your program, you're exposing yourself to potential breaking changes like this one, since the free function bind and the function std::bind can't necessarily be disambiguated. To fix this, you can call bind as ::bind to make clear that it's in the global namespace, or you can remove the using namespace std; at the top of the program. Hope this helps!",
    "severity": "medium",
    "tags": [
      "c++",
      "c++11",
      "bind"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "10035294",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 6128,
      "stackoverflow_creation_date": "2012-04-05T20:10:28.290Z"
    },
    "idempotency_key": "stackoverflow-10035294",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "java comparing two Pattern objects",
    "body": "Is there an easy way to compare two Pattern objects? I have a Pattern which compiled using the regex \"//\" to check for comments in a code. Since there are several regex to describe comments, I want to find a way to difference them. How can it be done? the Pattern class does not implements the equals method.",
    "code": "Pattern\n\nPattern\n\n\"//\"\n\nPattern\n\nequals\n\n# Solution Code:\njava.lang.Object.equals(Object)\n\n==",
    "resolution": "Maybe I do not fully understand to the question. But as you can see in the following example, there is a default java.lang.Object.equals(Object) method for every Java Object. This method compares the references to the objects, i.e. uses the == operator. package test; import java.util.regex.Pattern; public class Main { private static final Pattern P1 = Pattern.compile(\"//.*\"); private static final Pattern P2 = Pattern.compile(\"//.*\"); public static void main(String[] args) { System.out.println(P1.equals(P1)); System.out.println(P1.equals(P2)); System.out.println(P1.pattern().equals(P1.pattern())); System.out.println(P1.pattern().equals(P2.pattern())); } } Outputs: true false true true",
    "severity": "high",
    "tags": [
      "java",
      "regex"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "10055034",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 13409,
      "stackoverflow_creation_date": "2012-04-07T13:49:36.223Z"
    },
    "idempotency_key": "stackoverflow-10055034",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Storing a multiple choice quiz in a database - deciding the schema",
    "body": "I am trying to implement a multiple choice quiz and will want to store all my questions and answers in a SQLite database. I will have many questions, and for each question there will 2 or more possible answers to display. My question is, how should I store the questions and answers in a database? I have two ideas for a schema (primary key in bold) as (many to many) questions (questionID:int , questionString:String, correctAnswerID:int) answers (answerID:int , answerString:String) questions_and_answers (questionID, answerID) 2. questions (questionID:int, questionString:String, correctAnswerID:int) answers (answerID:int, answerString:String, questionID:int foreign key) I'm not sure which one is better, or if there is another way? Maybe questions_and_answers would get very large and cause long retrieval times and memory problems? Then again, I assume question_and_answers would be indexed on the primary keys. In the second schema, answers would be indexed on answerID and not questionID? meaning the search times would go up as the whole table would have to be searched? There may be ~10,000 - 20,000 answers. (the quiz may be run on a mobile device and questions will need to be shown \"instantly\") Note: I don't expect there to much overlap of answers between questions. I wouldn't think the amount of overlap would mean less data being stored, considering the extra space required by the questions_and_answers table",
    "code": "questions_and_answers\n\nquestion_and_answers\n\nanswers\n\nanswerID\n\nquestionID\n\nquestions_and_answers",
    "severity": "high",
    "tags": [
      "sql",
      "database",
      "database-design"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "10082751",
      "stackoverflow_score": 17,
      "stackoverflow_view_count": 24656,
      "stackoverflow_creation_date": "2012-04-10T03:25:20.627Z"
    },
    "idempotency_key": "stackoverflow-10082751",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "FIFO based stock inventory valuation in SQL Server",
    "body": "I have a stock transaction table like this: Item Date TxnType Qty Price ABC 01-April-2012 IN 200 750.00 ABC 05-April-2012 OUT 100 ABC 10-April-2012 IN 50 700.00 ABC 16-April-2012 IN 75 800.00 ABC 25-April-2012 OUT 175 XYZ 02-April-2012 IN 150 350.00 XYZ 08-April-2012 OUT 120 XYZ 12-April-2012 OUT 10 XYZ 24-April-2012 IN 90 340.00 I need the value of the inventory for each item in FIFO (First in first out) meaning the first purchased item should be consumed first. The output stock valuation of the above data is: Item Qty Value ABC 50 40000.00 XYZ 110 37600.00 Please help me to get the solution.",
    "code": "Item   Date         TxnType Qty  Price\nABC   01-April-2012   IN    200 750.00\nABC   05-April-2012   OUT   100     \nABC   10-April-2012   IN     50 700.00\nABC   16-April-2012   IN     75 800.00\nABC   25-April-2012   OUT   175     \nXYZ   02-April-2012   IN    150 350.00\nXYZ   08-April-2012   OUT   120     \nXYZ   12-April-2012   OUT    10     \nXYZ   24-April-2012   IN     90 340.00\n\n\nItem  Qty      Value\nABC   50    40000.00\nXYZ   110   37600.00\n\n\n# Solution Code:\ndeclare @Stock table (Item char(3) not null,[Date] datetime not null,TxnType varchar(3) not null,Qty int not null,Price decimal(10,2) null)\ninsert into @Stock(Item ,  [Date] ,        TxnType, Qty,  Price) values\n('ABC','20120401','IN',    200, 750.00),\n('ABC','20120405','OUT',   100 ,null  ),\n('ABC','20120410','IN',     50, 700.00),\n('ABC','20120416','IN',     75, 800.00),\n('ABC','20120425','OUT',   175, null  ),\n('XYZ','20120402','IN',    150, 350.00),\n('XYZ','20120408','OUT',   120 ,null  ),\n('XYZ','20120412','OUT',    10 ,null  ),\n('XYZ','20120424','IN',     90, 340.00);\n\n;WITH OrderedIn as (\n    select *,ROW_NUMBER() OVER (PARTITION BY Item ORDER BY [DATE]) as rn\n    from @Stock\n    where TxnType = 'IN'\n), RunningTotals as (\n    select Item,Qty,Price,Qty as Total,0 as PrevTotal,rn from OrderedIn where rn = 1\n    union all\n    select rt.Item,oi.Qty,oi.Price,rt.Total + oi.Qty,rt.Total,oi.rn\n    from\n        RunningTotals rt\n            inner join\n        OrderedIn oi\n            on\n                rt.Item = oi.Item and\n                rt.rn = oi.rn - 1\n), TotalOut as (\n    select Item,SUM(Qty) as Qty from @Stock where TxnType='OUT' group by Item\n)\nselect\n    rt.Item,SUM(CASE WHEN PrevTotal &gt; out.Qty THEN rt.Qty ELSE rt.Total - out.Qty END * Price)\nfrom\n    RunningTotals rt\n        inner join\n    TotalOut out\n        on\n            rt.Item = out.Item\nwhere\n    rt.Total &gt; out.Qty\ngroup by rt.Item\n\n\nOUT\n\nTotalOut\n\nIN\n\nselect * from RunningTotals\n\nSELECT",
    "resolution": "Surprisingly difficult to get right. I suspect it would be easier using SQL Server 2012 which supports running sums in windowing functions. Anyhow: declare @Stock table (Item char(3) not null,[Date] datetime not null,TxnType varchar(3) not null,Qty int not null,Price decimal(10,2) null) insert into @Stock(Item , [Date] , TxnType, Qty, Price) values ('ABC','20120401','IN', 200, 750.00), ('ABC','20120405','OUT', 100 ,null ), ('ABC','20120410','IN', 50, 700.00), ('ABC','20120416','IN', 75, 800.00), ('ABC','20120425','OUT', 175, null ), ('XYZ','20120402','IN', 150, 350.00), ('XYZ','20120408','OUT', 120 ,null ), ('XYZ','20120412','OUT', 10 ,null ), ('XYZ','20120424','IN', 90, 340.00); ;WITH OrderedIn as ( select *,ROW_NUMBER() OVER (PARTITION BY Item ORDER BY [DATE]) as rn from @Stock where TxnType = 'IN' ), RunningTotals as ( select Item,Qty,Price,Qty as Total,0 as PrevTotal,rn from OrderedIn where rn = 1 union all select rt.Item,oi.Qty,oi.Price,rt.Total + oi.Qty,rt.Total,oi.rn from RunningTotals rt inner join OrderedIn oi on rt.Item = oi.Item and rt.rn = oi.rn - 1 ), TotalOut as ( select Item,SUM(Qty) as Qty from @Stock where TxnType='OUT' group by Item ) select rt.Item,SUM(CASE WHEN PrevTotal > out.Qty THEN rt.Qty ELSE rt.Total - out.Qty END * Price) from RunningTotals rt inner join TotalOut out on rt.Item = out.Item where rt.Total > out.Qty group by rt.Item The first observation is that we don't need to do anything special for OUT transactions - we just need to know the total quantity. That's what the TotalOut CTE calculates. The first two CTEs work with IN transactions, and compute what \"interval\" of stock each represents - change the final query to just select * from RunningTotals to get a feel for that. The final SELECT statement finds rows which haven't been completely exhausted by outgoing transactions, and then decides whether it's the whole quantity of that incoming transaction, or whether that is the transaction that straddles the outgoing total.",
    "severity": "medium",
    "tags": [
      "t-sql",
      "sql-server-2005"
    ],
    "metadata": {
      "stackoverflow_question_id": "10327741",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6467,
      "stackoverflow_creation_date": "2012-04-26T05:33:10.403Z"
    },
    "idempotency_key": "stackoverflow-10327741",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Simple login checking password",
    "body": "What am I doing wrong here: <?php if (isset($_POST['submitted'])) { $errors = array(); require_once ('mysql_connect.php'); session_start(); $username = $_POST[\"username\"]; // This is the inputted username from the form in Login.html $password = $_POST[\"password\"]; // This is the inputted password from the form in Login.html if (empty($errors)) { $query=\"SELECT username FROM users WHERE username='$username' AND password='SHA($password)'\"; $result = mysql_query($query); // Mysql_num_row is counting table row if (mysql_num_rows($result) == 1) { $_SESSION[\"username\"] = $username; // Creates a cookie saving the username $_SESSION[\"loggedIn\"] = true; // Creates a cookie saying the user is logged in // Show thank you message echo '<h3 style=\"color:green;\">Thank You!</h3> <span style=\"color:green;\">You have been logged in.</span>'; } else { echo '<font color=\"red\">You could not be logged in, please make sure your username and password is correct.</font>'; foreach ($errors as $msg) { echo \" - <font color=\\\"red\\\">$msg</font><br />\\n\"; } } } else { echo '<font color=\"red\"><h3>Error!</h3> The following error(s) occured:<br /></font>'; foreach ($errors as $msg) { echo \" - <font color=\\\"red\\\">$msg</font><br />\\n\"; } } } ?> I get a: Warning: mysql_num_rows(): supplied argument is not a valid MySQL result resource in /login.php on line 19 Also is the way I SHA the password correct?",
    "code": "&lt;?php\n    if (isset($_POST['submitted'])) {\n\n    $errors = array();\n        require_once ('mysql_connect.php');\n\n    session_start();\n    $username = $_POST[\"username\"]; // This is the inputted username from the form in Login.html\n    $password = $_POST[\"password\"]; // This is the inputted password from the form in Login.html\n\n\n    if (empty($errors)) {\n        $query=\"SELECT username FROM users WHERE username='$username' AND password='SHA($password)'\"; \n\n        $result = mysql_query($query);  \n\n        // Mysql_num_row is counting table row\n\n        if (mysql_num_rows($result) == 1) {\n                $_SESSION[\"username\"] = $username; // Creates a cookie saving the username\n                $_SESSION[\"loggedIn\"] = true; // Creates a cookie saying the user is logged in\n            // Show thank you message\n            echo '&lt;h3 style=\"color:green;\"&gt;Thank You!&lt;/h3&gt;\n            &lt;span style=\"color:green;\"&gt;You have been logged in.&lt;/span&gt;';\n        } else {\n            echo '&lt;font color=\"red\"&gt;You could not be logged in, please make sure your username and password is correct.&lt;/font&gt;';\n            foreach ($errors as $msg) {\n            echo \" - &lt;font color=\\\"red\\\"&gt;$msg&lt;/font&gt;&lt;br /&gt;\\n\";\n            }\n        }\n\n} else {\n        echo '&lt;font color=\"red\"&gt;&lt;h3&gt;Error!&lt;/h3&gt;\n        The following error(s) occured:&lt;br /&gt;&lt;/font&gt;';\n\n        foreach ($errors as $msg) {\n            echo \" - &lt;font color=\\\"red\\\"&gt;$msg&lt;/font&gt;&lt;br /&gt;\\n\";\n        }\n    }\n}\n?&gt;\n\n\nWarning: mysql_num_rows(): supplied argument is not a valid MySQL result resource in /login.php on line 19\n\n\n# Solution Code:\n$result\n\n''\n\nSHA($password)\n\nSHA()\n\nSHA-1()\n\nsha1()\n\nsha1()\n\ncrypt()\n\nhash()",
    "resolution": "The problem is that your MySQL query is causing an error, which means that your $result doesn't actually contain a result resource. You need to remove the '' from around SHA($password) in your query, and instead put them around the password value, like so: $query=\"SELECT username FROM users WHERE username='$username' AND password=SHA('$password')\"; Also is the way I SHA the password correct? That depends on how the passwords were hashed when they were inserted into the database. MySQL's SHA() is the same as its SHA-1(): Calculates an SHA-1 160-bit checksum for the string, as described in RFC 3174 Which is also the same as PHP's sha1(); so, for example, if the passwords in the database are SHA-1 hashes that were created using PHP's sha1(), it should be fine. Side Notes You should use PHP's crypt() or hash() for hashing passwords, rather than SHA-1. For example usage, refer to the PHP documentation. You should be cleaning/escaping all user-provided data before using any of it in a database query. This is to stop SQL injection attacks. Better yet, use prepared statements and parameterized queries. Refer to this answer for more information.",
    "severity": "low",
    "tags": [
      "php",
      "mysql",
      "sha"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "10363358",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 698,
      "stackoverflow_creation_date": "2012-04-28T12:10:03.913Z"
    },
    "idempotency_key": "stackoverflow-10363358",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Wrong digest value for xml signatures using Java XML Digital Signature API",
    "body": "I need to send a signed XML file to a government agency in Brazil. The problem is that the digest calculated by my Java code (using the Java XML Digital Signature API is different from the one generated with another tool like XMLSEC. Here's the code I use to generate a XML signature for some XML node: private synchronized void sign(XmlObject obj) throws Exception { initKeystore(); XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\"); List<Transform> transformList = new ArrayList<Transform>(); Transform envelopedTransform = fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null); Transform c14NTransform = fac.newTransform(\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\", (TransformParameterSpec) null); transformList.add(envelopedTransform); transformList.add(c14NTransform); Reference ref = fac.newReference(\"\", fac.newDigestMethod(DigestMethod.SHA1, null), Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)), null, null); SignedInfo si = fac.newSignedInfo( fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null), fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null), Collections.singletonList(ref)); KeyStore ks = KeyStore.getInstance(\"PKCS12\"); ks.load(new FileInputStream(System.getProperty(\"javax.net.ssl.keyStore\")), System.getProperty(\"javax.net.ssl.keyStorePassword\").toCharArray()); KeyStore.PrivateKeyEntry keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry(\"entry\", new KeyStore.PasswordProtection(System.getProperty(\"javax.net.ssl.keyStorePassword\").toCharArray())); X509Certificate cert = (X509Certificate) keyEntry.getCertificate(); // Create the KeyInfo containing the X509Data. KeyInfoFactory kif = fac.getKeyInfoFactory(); X509Data xd = kif.newX509Data(Collections.singletonList(cert)); KeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd)); // Instantiate the document to be signed. Element el = (Element) obj.getDomNode().getFirstChild(); String id = el.getAttribute(\"Id\"); DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), el); // Create the XMLSignature, but don't sign it yet. XMLSignature signature = fac.newXMLSignature(si, ki); // Marshal, generate, and sign the enveloped signature. signature.sign(dsc); } If I try to validate the generated XML with xmlsec, I get the following error: $ xmlsec1 --verify consulta.xml func=xmlSecOpenSSLEvpDigestVerify:file=digests.c:line=229:obj=sha1:subj=unknown:error=12:invalid data:data and digest do not match FAIL But if I try to sign the very same file (consult.xml) with xmlsec (using the same private key), that error goes away: xmlsec1 --sign --output doc-signed.xml --privkey-pem cert.pem consulta.xml The differences between consult.xml and doc-signed.xml (generated by xmlsec) are the contents of the SignatureValue and DigestValue tags: consulta.xml: <DigestValue>Ajn+tfX7JQc0HPNJ8KbTy7Q2f8I=</DigestValue> ... <SignatureValue>Q1Ys0Rtj8yL2SA2NaQWQPtmNuHKK8q2anPiyLWlH7mOIjwOs0GEcD0WLUM/BZU0Q T0kSbDTuJeTR2Ec9wu+hqXXbJ76FpX9/IyHrdyx2hLg0VhB5RRCdyBEuGlmnsFDf XCyBotP+ZyEzolbTCN9TjCUnXNDWtFP1YapMxAIA0sth0lTpYgGJd8CSvFlHdFj+ ourf8ZGiDmSTkVkKnqDsj8O0ZLmbZfJpH2CBKicX+Ct7MUz2sqVli4XAHs6WXX+E HJpbOKthS3WCcpG3Kw4K50yIYGTkTbWCYFxOVsMfiVy4W/Qz15Vxb8chD8LM58Ep m/szmvnTAESxv/piDr7hyw==</SignatureValue> doc-signed.xml: <DigestValue>w6xElXJrZw3G86OsNkWav+pcKJo=</DigestValue> ... <SignatureValue>YmUsnlnAY9uLhlfVBLhB8K8ArxMOkOKZJoQ6zgz55ggU6vJCO9+HWJCKQJp6Rvn/w5PCAFY0KJRb r6/WhHML0Z+Q6TSuIL8OTvJ3iPoROAK6uy07YAflKOUklqk4uxgfMkR+hWMCyfITJVCVZo/MXmPy g7YwmztoSlGH+p6+ND5n2u47Y2k6SpIvw3CUxwAVQkD0Hsj3G58cbUbrFCoyPVGOe4zJ9c1HPsMW KzBEFe3QETzPJ8I1B7EEVi5oDvzXE2rMTH4K7zvNGnXpBNGwnSjEOticlqKVP5wyUD7CPwgF1Wgy Z0njvlaW3K8YmAY8fc70v/+wSO6Fu+0zj18Xeg==</SignatureValue> I won't post the rest of either file because they're equal and would make this post even more verbose. From what I can gather, the web app that receives this XML file is a .NET application and it calculates a different signature digest that my Java code (much like xmlsec does). Any ideas?",
    "code": "private synchronized void sign(XmlObject obj) throws Exception {\n        initKeystore();\n        XMLSignatureFactory fac = XMLSignatureFactory.getInstance(\"DOM\");\n        List&lt;Transform&gt; transformList = new ArrayList&lt;Transform&gt;();\n        Transform envelopedTransform = fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null);\n        Transform c14NTransform = fac.newTransform(\"http://www.w3.org/TR/2001/REC-xml-c14n-20010315\",\n                (TransformParameterSpec) null);\n        transformList.add(envelopedTransform);\n        transformList.add(c14NTransform);\n        Reference ref = fac.newReference(\"\", fac.newDigestMethod(DigestMethod.SHA1, null),\n                Collections.singletonList(fac.newTransform(Transform.ENVELOPED, (TransformParameterSpec) null)), null,\n                null);\n        SignedInfo si = fac.newSignedInfo(\n                fac.newCanonicalizationMethod(CanonicalizationMethod.INCLUSIVE, (C14NMethodParameterSpec) null),\n                fac.newSignatureMethod(SignatureMethod.RSA_SHA1, null), Collections.singletonList(ref));\n        KeyStore ks = KeyStore.getInstance(\"PKCS12\");\n        ks.load(new FileInputStream(System.getProperty(\"javax.net.ssl.keyStore\")),\n                System.getProperty(\"javax.net.ssl.keyStorePassword\").toCharArray());\n        KeyStore.PrivateKeyEntry keyEntry = (KeyStore.PrivateKeyEntry) ks.getEntry(\"entry\",\n                new KeyStore.PasswordProtection(System.getProperty(\"javax.net.ssl.keyStorePassword\").toCharArray()));\n\n        X509Certificate cert = (X509Certificate) keyEntry.getCertificate();\n\n        // Create the KeyInfo containing the X509Data.\n        KeyInfoFactory kif = fac.getKeyInfoFactory();\n        X509Data xd = kif.newX509Data(Collections.singletonList(cert));\n        KeyInfo ki = kif.newKeyInfo(Collections.singletonList(xd));\n        // Instantiate the document to be signed.\n\n        Element el = (Element) obj.getDomNode().getFirstChild();\n        String id = el.getAttribute(\"Id\");\n\n        DOMSignContext dsc = new DOMSignContext(keyEntry.getPrivateKey(), el);\n        // Create the XMLSignature, but don't sign it yet.\n        XMLSignature signature = fac.newXMLSignature(si, ki);\n        // Marshal, generate, and sign the enveloped signature.\n        signature.sign(dsc);\n\n    }\n\n\n$ xmlsec1 --verify consulta.xml \nfunc=xmlSecOpenSSLEvpDigestVerify:file=digests.c:line=229:obj=sha1:subj=unknown:error=12:invalid data:data and digest do not match\nFAIL\n\n\nxmlsec1 --sign --output doc-signed.xml --privkey-pem cert.pem consulta.xml\n\n\n&lt;DigestValue&gt;Ajn+tfX7JQc0HPNJ8KbTy7Q2f8I=&lt;/DigestValue&gt;\n...\n&lt;SignatureValue&gt;Q1Ys0Rtj8yL2SA2NaQWQPtmNuHKK8q2anPiyLWlH7mOIjwOs0GEcD0WLUM/BZU0Q\nT0kSbDTuJeTR2Ec9wu+hqXXbJ76FpX9/IyHrdyx2hLg0VhB5RRCdyBEuGlmnsFDf\nXCyBotP+ZyEzolbTCN9TjCUnXNDWtFP1YapMxAIA0sth0lTpYgGJd8CSvFlHdFj+\nourf8ZGiDmSTkVkKnqDsj8O0ZLmbZfJpH2CBKicX+Ct7MUz2sqVli4XAHs6WXX+E\nHJpbOKthS3WCcpG3Kw4K50yIYGTkTbWCYFxOVsMfiVy4W/Qz15Vxb8chD8LM58Ep\nm/szmvnTAESxv/piDr7hyw==&lt;/SignatureValue&gt;\n\n\n&lt;DigestValue&gt;w6xElXJrZw3G86OsNkWav+pcKJo=&lt;/DigestValue&gt;\n...\n&lt;SignatureValue&gt;YmUsnlnAY9uLhlfVBLhB8K8ArxMOkOKZJoQ6zgz55ggU6vJCO9+HWJCKQJp6Rvn/w5PCAFY0KJRb\nr6/WhHML0Z+Q6TSuIL8OTvJ3iPoROAK6uy07YAflKOUklqk4uxgfMkR+hWMCyfITJVCVZo/MXmPy\ng7YwmztoSlGH+p6+ND5n2u47Y2k6SpIvw3CUxwAVQkD0Hsj3G58cbUbrFCoyPVGOe4zJ9c1HPsMW\nKzBEFe3QETzPJ8I1B7EEVi5oDvzXE2rMTH4K7zvNGnXpBNGwnSjEOticlqKVP5wyUD7CPwgF1Wgy\nZ0njvlaW3K8YmAY8fc70v/+wSO6Fu+0zj18Xeg==&lt;/SignatureValue&gt;\n",
    "severity": "medium",
    "tags": [
      "java",
      "xml",
      "digital-signature",
      "xmlsec"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "10404434",
      "stackoverflow_score": 26,
      "stackoverflow_view_count": 9853,
      "stackoverflow_creation_date": "2012-05-01T21:11:42.577Z"
    },
    "idempotency_key": "stackoverflow-10404434",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get parent <li> item with jQuery",
    "body": "I am trying to get the parent <li> when I click on a specific <li> item. http://jsfiddle.net/doonot/GjbZk/ So let's say I click on submodule 1, I get the clicked ID with $(this).attr('id'); How can I now get the ID of the parent <li> which is in this case module 1? Please note that my tree is quite big, so it has to be flexible. Thanks a lot, much appreciate your answer.",
    "code": "&lt;li&gt;\n\n&lt;li&gt;\n\nsubmodule 1\n\n$(this).attr('id');\n\n&lt;li&gt;\n\nmodule 1\n\n# Solution Code:\nvar parentModule = $('this')             //the selector of your span\n    .parents('li:eq(1)')                 //get the next li parent, not the direct li\n    .children('.rightclickarea:first')   //get the first element, which would be the span\n    .attr('id')                          //get the span id\n",
    "resolution": "var parentModule = $('this') //the selector of your span .parents('li:eq(1)') //get the next li parent, not the direct li .children('.rightclickarea:first') //get the first element, which would be the span .attr('id') //get the span id",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "html",
      "jquery-selectors",
      "treeview"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "10445205",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 55768,
      "stackoverflow_creation_date": "2012-05-04T08:19:50.107Z"
    },
    "idempotency_key": "stackoverflow-10445205",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Inspect popup for extensions removed; debug console eating extension form element inputs",
    "body": "To debug extensions, Chrome used to have a \"Inspect popup\" menu option available when right clicking the extension icon (top right in the browser). I believe this options was recently removed (possibly with the latest Chrome version 20, which I am using) . The debug console can still be activated by right clicking any element in the extension popup and selecting \"Inspect element\". The problem I am experiencing however is that whenever I now have the debug console open, typing into form elements in the popup does not work. Even though the form element seems to have the focus (it has a blinking cursor active), all input typed goes straight to the debug console. Update: It seems focus is not specifically to the debug console, but to whichever window is below. It's like the extension window is a \"stay on top\" window, without capturing any input. Update: 2012-07-24: Updated to 22.0.1215.0 (Official Build 147830) dev and the bug is still there. But yay, Youtube full screen now suddenly works on my dual screen system! Update 2012-05-09: Upgraded from 20.0.1123 to 20.0.1130.1 dev on Linux x64 (Ubuntu 12.04). Problem still there, and makes debugging extensions a lot harder than needs be. Also confirmed behaviour on older Chrome release (20.0.1105.0). Oh well, maybe it's just me... Update 2012-05-09 2: Assuming this is a bug, consider adding a background page to your popup and log to that page's console instead until bug gets fixed. At least that makes my life easier for now. Update: 2012-10-19: As omri writes (and points to), the Inspect Popup option is on it's way to be put back into Chrome, which will hopefully solve this problem (finally). Could anybody confirm/deny this behavior, and/or suggest possible workarounds?",
    "code": "22.0.1215.0 (Official Build 147830) dev",
    "severity": "medium",
    "tags": [
      "google-chrome-extension"
    ],
    "metadata": {
      "stackoverflow_question_id": "10469813",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 2967,
      "stackoverflow_creation_date": "2012-05-06T10:24:37.980Z"
    },
    "idempotency_key": "stackoverflow-10469813",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Variance annotations in type aliases",
    "body": "Recently I've noticed that variance annotations can be used in type aliases. Here is example from Predef: type Function[-A, +B] = Function1[A, B] And I started to think, where it could be used. Obviously, you can't change variance to opposite, or make an invariant type to behave as co- or contravariant. Compiler will throw an error, like this scala> type BrokenFunc[+T, -R] = Function1[T, R] <console>:7: error: covariant type T occurs in contravariant position in type [+T, -R]T => R of type BrokenFunc But, you can make some variant type to behave like invariant (at least, compiler wouldn't argue with that). So, I tried to make an invariant version of List scala> type InvList[T] = List[T] defined type alias InvList But this new invariant List still behaves just like it's original covariant version: scala> val l: InvList[String] = List(\"foo\") l: InvList[String] = List(foo) scala> val anyList: InvList[Any] = l anyList: InvList[Any] = List(foo) So, what I am missing? What's the purpose of variance annotations in type aliases? Can you give an example of type alias with variance annotations, that will differ from original type.",
    "code": "type Function[-A, +B] = Function1[A, B]\n\n\nscala&gt; type BrokenFunc[+T, -R] = Function1[T, R]\n&lt;console&gt;:7: error: covariant type T occurs in contravariant position in type \n  [+T, -R]T =&gt; R of type BrokenFunc\n\n\nscala&gt; type InvList[T] = List[T]\ndefined type alias InvList\n\n\nscala&gt; val l: InvList[String] = List(\"foo\")\nl: InvList[String] = List(foo)\n\nscala&gt; val anyList: InvList[Any] = l\nanyList: InvList[Any] = List(foo)\n\n\nPredef\n\nList\n\nList\n\n# Solution Code:\ntype InvList[T] = List[T]\n\n\ntrait A { type F[+T] }\n\n\ntrait B extends A { type F[+T] = List[T] }\n\n\ntrait C extends A { type F[T] = Function[T,T] }\n\n\nInvList[T]\n\nList[T]\n\nInvList[Int] &lt;: InvList[Any]\n\nList[Int] &lt;: List[Any]\n\n+T",
    "resolution": "So, I don't know for sure, but I'm going to offer a possible explanation. Type aliases in Scala are fairly \"weak\"; they do not completely create new types, just new ways of writing the old types (and new path dependent types); this means that if you define type InvList[T] = List[T] and write InvList[T], it is exactly as if you wrote List[T]; that's why InvList[Int] <: InvList[Any], because, rewritten, this is just List[Int] <: List[Any]. I'm not actually sure exactly how \"weak\" Scala type aliases are... they are a little stronger than Haskell's because of path-dependent types, but are weaker than class declarations. Maybe someone else can explain further. So, why does Scala allow you to put variance annotations in there, if it's just going to ignore them and rewrite the type anyway? It's for type members. It's so that you can say trait A { type F[+T] } and require that implementations conform to the +T variance, so that you allow trait B extends A { type F[+T] = List[T] } but not trait C extends A { type F[T] = Function[T,T] } Or, as from this sentence from the Scala Language Spec S4.3. A type constructor declaration imposes additional restrictions on the concrete types for which t may stand. Besides the bounds L and U , the type parameter clause may impose higher-order bounds and variances, as governed by the conformance of type constructors (§3.5.2).",
    "severity": "medium",
    "tags": [
      "scala",
      "alias",
      "variance"
    ],
    "metadata": {
      "language": "scala",
      "stackoverflow_question_id": "10523199",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 1117,
      "stackoverflow_creation_date": "2012-05-09T19:56:22.663Z"
    },
    "idempotency_key": "stackoverflow-10523199",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "ResultSetImpl throws NullPointerException",
    "body": "i'm running mysql 5.5 with mysql 5.1.18 connector. a simple query of style select * from my_table where column_a in ('aaa','bbb',...) and column b=1; is executed from within java application. the query returns a resultset of 25k rows, 8 columns in each. while reading the results in while loop while(rs.next()) { MyObject c= new MyObject(); c.setA(rs.getString(\"A\")); c.setB(rs.getString(\"B\")); c.setC(rs.getString(\"C\")); ... } a following exception is thrown, usually during the first loops, but never in the same row: java.lang.NullPointerException at com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5720) at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5570) at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5610) i took a look at the source code in ResultSetImpl.java:5720 and i see the following: switch (metadata.getSQLType()) where metadata is Field metadata = this.fields[internalColumnIndex]; and getSQLType is a logic-less getter returning an int. what's interesting, is that the same metadata object is called numerous times several lines above with other getters, and throws no exceptions. btw, there is no problem with the query above while ran directly within mysql. application runs in aws. any ideas how to solve this? thanks.",
    "code": "while(rs.next())\n{\n    MyObject c= new MyObject();  \n    c.setA(rs.getString(\"A\"));\n    c.setB(rs.getString(\"B\"));\n    c.setC(rs.getString(\"C\"));\n    ...\n}\n\n\njava.lang.NullPointerException\n    at com.mysql.jdbc.ResultSetImpl.getStringInternal(ResultSetImpl.java:5720)\n    at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5570)\n    at com.mysql.jdbc.ResultSetImpl.getString(ResultSetImpl.java:5610)\n\n\nswitch (metadata.getSQLType())\n\n\nField metadata = this.fields[internalColumnIndex];\n\n\nselect * from my_table where column_a in ('aaa','bbb',...) and column b=1;",
    "severity": "medium",
    "tags": [
      "mysql",
      "jdbc",
      "mysql-connector",
      "connector-j"
    ],
    "metadata": {
      "stackoverflow_question_id": "10570929",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3418,
      "stackoverflow_creation_date": "2012-05-13T10:14:09.037Z"
    },
    "idempotency_key": "stackoverflow-10570929",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Python - Why do extend() and append() return None (void)?",
    "body": "I think list1.extend(list2) and list1.append(num) should return the mutated list as well as mutating id, rather than returning None.",
    "code": "list1.extend(list2)\n\nlist1.append(num)\n\nNone",
    "severity": "high",
    "tags": [
      "python",
      "arrays",
      "immutability"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "10678226",
      "stackoverflow_score": 17,
      "stackoverflow_view_count": 14663,
      "stackoverflow_creation_date": "2012-05-21T00:00:36.203Z"
    },
    "idempotency_key": "stackoverflow-10678226",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Hiding name of int variable in c++",
    "body": "Out of curiosity, I've tried this code, resulting from an interview question[*] int main(int argc, char *argv[]) { int a = 1234; printf(\"Outer: %d\\n\", a); { int a(a); printf(\"Inner: %d\\n\", a); } } When compiled on Linux (both g++ 4.6.3 and clang++ 3.0) it outputs: Outer: 1234 Inner: -1217375632 However on Windows (VS2010) it prints: Outer: 1234 Inner: 1234 The rationale would be that, until the copy-constructor of the second 'a' variable has finished, the first 'a' variable is still accessible. However I'm not sure if this is standard behaviour, or just a(nother) Microsoft quirk. Any idea? [*] The actual question was: How you'd initialise a variable within a scope with the value of an identically named variable in the containing scope without using a temporary or global variable? { // Not at global scope here int a = 1234; { int a; // how do you set this a to the value of the containing scope a ? } }",
    "code": "int main(int argc, char *argv[])\n{\n    int a = 1234;\n    printf(\"Outer: %d\\n\", a);\n    {\n        int a(a);\n        printf(\"Inner: %d\\n\", a);\n    }\n}\n\n\nOuter: 1234\nInner: -1217375632\n\n\nOuter: 1234\nInner: 1234\n\n\n{\n    // Not at global scope here\n    int a = 1234;\n    {\n        int a;\n        // how do you set this a to the value of the containing scope a ?\n    }\n}\n\n\n# Solution Code:\nint x = 12;\n{ int x = x; }\n\n\n#include &lt;iostream&gt;\n\nint foo(char) { return 0; }\nint foo(int) { return 1; } \n\nint main()\n{\n    char x = 'a';\n    {\n        int x = foo(static_cast&lt;decltype(x)&gt;(0));\n        std::cout &lt;&lt; &quot;'=' initialization has correct behavior? &quot; &lt;&lt; (x?&quot;Yes&quot;:&quot;No&quot;) &lt;&lt; &quot;.\\n&quot;;\n    }\n    {\n        int x(foo(static_cast&lt;decltype(x)&gt;(0)));\n        std::cout &lt;&lt; &quot;'()' initialization has correct behavior? &quot; &lt;&lt; (x?&quot;Yes&quot;:&quot;No&quot;) &lt;&lt; &quot;.\\n&quot;;\n    }\n}\n",
    "resolution": "How you'd initialise a variable within a scope with the value of an identically named variable in the containing scope without using a temporary or global variable? Unless the outer scope can be explicitly named you cannot do this. You can explicitly name the global scope, namespace scopes, and class scopes, but not function or block statement scopes. C++11 [basic.scope.pdecl 3.3.2 p1 states: The point of declaration for a name is immediately after its complete declarator (Clause 8) and before its initializer (if any), except as noted below. [ Example: int x = 12; { int x = x; } Here the second x is initialized with its own (indeterminate) value. —end example ] MSVC correctly implements this example, however it does not correctly implement this when the initializer uses parentheses instead of assignment syntax. There's a bug filed about this on microsoft connect. Here's an example program with incorrect behavior in VS as a result of this bug. #include <iostream> int foo(char) { return 0; } int foo(int) { return 1; } int main() { char x = 'a'; { int x = foo(static_cast<decltype(x)>(0)); std::cout << \"'=' initialization has correct behavior? \" << (x?\"Yes\":\"No\") << \".\\n\"; } { int x(foo(static_cast<decltype(x)>(0))); std::cout << \"'()' initialization has correct behavior? \" << (x?\"Yes\":\"No\") << \".\\n\"; } } C++ includes the following note. [ Note: Operations involving indeterminate values may cause undefined behavior. —end note ] However, this note indicates that operations may cause undefined behavior, not that they necessarily do. The above linked bug report includes an acknowledgement from Microsoft that this is a bug and not that the program triggers undefined behavior. Edit: And now I've changed the example so that the object with indeterminate value is only 'used' in an unevaluated context, and I believe that this absolutely rules out the possibility of undefined behavior on any platform, while still demonstrating the bug in Visual Studio.",
    "severity": "medium",
    "tags": [
      "c++",
      "scope",
      "standards",
      "copy-constructor"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "10723892",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2557,
      "stackoverflow_creation_date": "2012-05-23T16:11:20.433Z"
    },
    "idempotency_key": "stackoverflow-10723892",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Difference between getWritableDatabase() and getReadableDatabase()?",
    "body": "I use reading and writing to the database without any problems . But I can not find out the difference. I searched on Internet but it 's not quite clear. Can anyone tell me the difference? In which case should I use getWritableDatabase() or getReadableDatabase()?",
    "code": "getWritableDatabase()\n\ngetReadableDatabase()\n\n# Solution Code:\na database object valid until getWritableDatabase() or close() is called. \n\n\na read/write database object valid until close() is called \n",
    "resolution": "Check the Reference public synchronized SQLiteDatabase getReadableDatabase () Since: API Level 1 Create and/or open a database. This will be the same object returned by getWritableDatabase() unless some problem, such as a full disk, requires the database to be opened read-only. In that case, a read-only database object will be returned. If the problem is fixed, a future call to getWritableDatabase() may succeed, in which case the read-only database object will be closed and the read/write object will be returned in the future. Like getWritableDatabase(), this method may take a long time to return, so you should not call it from the application main thread, including from ContentProvider.onCreate(). Returns a database object valid until getWritableDatabase() or close() is called. Throws SQLiteException if the database cannot be opened public synchronized SQLiteDatabase getWritableDatabase () Since: API Level 1 Create and/or open a database that will be used for reading and writing. The first time this is called, the database will be opened and onCreate(SQLiteDatabase), onUpgrade(SQLiteDatabase, int, int) and/or onOpen(SQLiteDatabase) will be called. Once opened successfully, the database is cached, so you can call this method every time you need to write to the database. (Make sure to call close() when you no longer need the database.) Errors such as bad permissions or a full disk may cause this method to fail, but future attempts may succeed if the problem is fixed. Database upgrade may take a long time, you should not call this method from the application main thread, including from ContentProvider.onCreate(). Returns a read/write database object valid until close() is called Throws SQLiteException if the database cannot be opened for writing",
    "severity": "high",
    "tags": [
      "android",
      "database"
    ],
    "metadata": {
      "stackoverflow_question_id": "10844578",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 26774,
      "stackoverflow_creation_date": "2012-06-01T04:52:38.647Z"
    },
    "idempotency_key": "stackoverflow-10844578",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Difference between self.response.write and self.response.out.write in google app engine",
    "body": "What is the difference between self.response.write and self.response.out.write in google app engine? Thank you",
    "code": "self.response.write\n\nself.response.out.write\n\n# Solution Code:\nself.response.out.write\n\nself.response.write\n\nout\n\nResponse",
    "resolution": "there is no difference. webapp uses self.response.out.write and webapp2 self.response.write kept the out for compatibility reasons. here the implentation of the Response Class: http://code.google.com/p/webapp-improved/source/browse/webapp2.py#365",
    "severity": "medium",
    "tags": [
      "google-app-engine"
    ],
    "metadata": {
      "stackoverflow_question_id": "10866879",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 4482,
      "stackoverflow_creation_date": "2012-06-03T00:02:33.283Z"
    },
    "idempotency_key": "stackoverflow-10866879",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to assert certain method is called with Ruby minitest framework?",
    "body": "I want to test whether a function invokes other functions properly with minitest Ruby, but I cannot find a proper assert to test from the doc. The source code class SomeClass def invoke_function(name) name == \"right\" ? right () : wrong () end def right #... end def wrong #... end end The test code: describe SomeClass do it \"should invoke right function\" do # assert right() is called end it \"should invoke other function\" do # assert wrong() is called end end",
    "code": "class SomeClass\n  def invoke_function(name)\n    name == \"right\" ? right () : wrong ()\n  end\n\n  def right\n    #...\n  end\n\n  def wrong\n    #...\n  end\nend\n\n\ndescribe SomeClass do\n  it \"should invoke right function\" do\n    # assert right() is called\n  end\n\n  it \"should invoke other function\" do\n    # assert wrong() is called\n  end\nend\n\n\nassert\n\n# Solution Code:\nobj = MiniTest::Mock.new\nobj.expect :right\n\n\nobj.expect :right, return_value, parameters\n\n\nobj = SomeClass.new\nassert_send([obj, :right, *parameters])\n\n\nexpect",
    "resolution": "With minitest you use expect method to set the expectation for a method to be called on a mock object like so obj = MiniTest::Mock.new obj.expect :right If you want to set expectation with parameters and return values then: obj.expect :right, return_value, parameters And for the concrete object like so: obj = SomeClass.new assert_send([obj, :right, *parameters])",
    "severity": "high",
    "tags": [
      "ruby",
      "unit-testing",
      "testing",
      "minitest"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "10869417",
      "stackoverflow_score": 40,
      "stackoverflow_view_count": 33098,
      "stackoverflow_creation_date": "2012-06-03T10:06:57.910Z"
    },
    "idempotency_key": "stackoverflow-10869417",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "<out T> vs <T> in Generics",
    "body": "What is the difference between <out T> and <T>? For example: public interface IExample<out T> { ... } vs. public interface IExample<T> { ... }",
    "code": "public interface IExample&lt;out T&gt;\n{\n    ...\n}\n\n\npublic interface IExample&lt;T&gt;\n{\n    ...\n}\n\n\n&lt;out T&gt;\n\n&lt;T&gt;\n\n# Solution Code:\nIEnumerable&lt;string&gt; strings = new List&lt;string&gt;();\nIEnumerable&lt;object&gt; objects = strings;\n\n\nIList&lt;string&gt; strings = new List&lt;string&gt;();\nIList&lt;object&gt; objects = strings;  // NOTE: Fails at compile time\n\n\nobjects.Add(7); // This should work, since IList&lt;object&gt; should let us add **any** object\n\n\nout\n\nIEnumerable&lt;out T&gt;\n\nIEnumerable&lt;out T&gt;\n\nIEnumerable&lt;T&gt;\n\nIEnumerable&lt;out T&gt;\n\nIEnumerable&lt;out T&gt;\n\nIList&lt;T&gt;\n\nIList&lt;T&gt;\n\nAdd\n\nIList&lt;T&gt;\n\nin\n\nIComparer&lt;in T&gt;\n\nIComparer&lt;Foo&gt;\n\nIComparer&lt;Bar&gt;\n\nBar\n\nFoo\n\nIComparer&lt;in T&gt;",
    "resolution": "The out keyword in generics is used to denote that the type T in the interface is covariant. See Covariance and contravariance for details. The classic example is IEnumerable<out T>. Since IEnumerable<out T> is covariant, you're allowed to do the following: IEnumerable<string> strings = new List<string>(); IEnumerable<object> objects = strings; The second line above would fail if this wasn't covariant, even though logically it should work, since string derives from object. Before variance in generic interfaces was added to C# and VB.NET (in .NET 4 with VS 2010), this was a compile time error. After .NET 4, IEnumerable<T> was marked covariant, and became IEnumerable<out T>. Since IEnumerable<out T> only uses the elements within it, and never adds/changes them, it's safe for it to treat an enumerable collection of strings as an enumerable collection of objects, which means it's covariant. This wouldn't work with a type like IList<T>, since IList<T> has an Add method. Suppose this would be allowed: IList<string> strings = new List<string>(); IList<object> objects = strings; // NOTE: Fails at compile time You could then call: objects.Add(7); // This should work, since IList<object> should let us add **any** object This would, of course, fail - so IList<T> can't be marked covariant. There is also, btw, an option for in - which is used by things like comparison interfaces. IComparer<in T>, for example, works the opposite way. You can use a concrete IComparer<Foo> directly as an IComparer<Bar> if Bar is a subclass of Foo, because the IComparer<in T> interface is contravariant.",
    "severity": "high",
    "tags": [
      "c#",
      "generics",
      "covariance"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "10956993",
      "stackoverflow_score": 277,
      "stackoverflow_view_count": 96318,
      "stackoverflow_creation_date": "2012-06-08T23:05:42.947Z"
    },
    "idempotency_key": "stackoverflow-10956993",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Json - Java Object to Json",
    "body": "I am very new to Json and my goal to create the Json output below from Java bean. How should I structure my Java object? Should I have MyResult class and User and Result as subclasses? What Json library can I use for this? “MyResult” { “AccountID”: “12345”, \"User\" { \"Name\": \"blah blah\", \"Email\": “blah@blah.com”, }, \"Result\" { \"Course\": “blah”, \"Score\": “10.0” } }",
    "code": "“MyResult” {\n    “AccountID”: “12345”,\n    \"User\" {\n        \"Name\": \"blah blah\",\n        \"Email\": “blah@blah.com”,\n     },\n     \"Result\" {\n         \"Course\": “blah”,\n         \"Score\": “10.0”\n     }\n }\n\n\n# Solution Code:\npackage forum11001458;\n\nimport javax.xml.bind.annotation.*;\n\n@XmlRootElement(name=\"MyResult\")\npublic class MyResult {\n\n    @XmlElement(name=\"AccountID\")\n    private String accountID;\n\n    @XmlElement(name=\"User\")\n    private User user;\n\n    @XmlElement(name=\"Result\")\n    private Result result;\n\n}\n\n\npackage forum11001458;\n\nimport javax.xml.bind.annotation.XmlElement;\n\npublic class User {\n\n    @XmlElement(name=\"Name\")\n    private String name;\n\n    @XmlElement(name=\"Email\")\n    private String email;\n\n}\n\n\npackage forum11001458;\n\nimport javax.xml.bind.annotation.XmlElement;\n\npublic class Result {\n\n    @XmlElement(name=\"Course\")\n    private String course;\n\n    @XmlElement(name=\"Score\")\n    private String score;\n\n}\n\n\njavax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory\n\n\npackage forum11001458;\n\nimport java.io.File;\nimport javax.xml.bind.*;\n\npublic class Demo {\n\n    public static void main(String[] args) throws Exception {\n        JAXBContext jc = JAXBContext.newInstance(MyResult.class);\n\n        Unmarshaller unmarshaller = jc.createUnmarshaller();\n        unmarshaller.setProperty(\"eclipselink.media-type\", \"application/json\");\n        File json = new File(\"src/forum11001458/input.json\");\n        Object myResult = unmarshaller.unmarshal(json);\n\n        Marshaller marshaller = jc.createMarshaller();\n        marshaller.setProperty(\"eclipselink.media-type\", \"application/json\");\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        marshaller.marshal(myResult, System.out);\n    }\n\n}\n\n\n{\n   \"MyResult\" : {\n      \"AccountID\" : \"12345\",\n      \"User\" : {\n         \"Name\" : \"blah blah\",\n         \"Email\" : \"blah@blah.com\"\n      },\n      \"Result\" : {\n         \"Course\" : \"blah\",\n         \"Score\" : \"10.0\"\n      }\n   }\n}\n\n\njaxb.properties",
    "resolution": "Note: I'm the EclipseLink JAXB (MOXy) lead and a member of the JAXB (JSR-222) expert group. How should I structure my Java object? Below is what your object model could look like. MOXy's JSON binding leverages JAXB annotations for mapping the domain model to JSON, so I have included those as well. JAXB implementations have default rules for mapping field/property names, but since your document differs from the default each field had to be annotated. MyResult package forum11001458; import javax.xml.bind.annotation.*; @XmlRootElement(name=\"MyResult\") public class MyResult { @XmlElement(name=\"AccountID\") private String accountID; @XmlElement(name=\"User\") private User user; @XmlElement(name=\"Result\") private Result result; } User package forum11001458; import javax.xml.bind.annotation.XmlElement; public class User { @XmlElement(name=\"Name\") private String name; @XmlElement(name=\"Email\") private String email; } Result package forum11001458; import javax.xml.bind.annotation.XmlElement; public class Result { @XmlElement(name=\"Course\") private String course; @XmlElement(name=\"Score\") private String score; } What Json library can I use for this? Below is how you can use MOXy to do the JSON binding: jaxb.properties To use MOXy as your JAXB provider you need to include a file called jaxb.properties with the following entry in the same package as your domain model: javax.xml.bind.context.factory=org.eclipse.persistence.jaxb.JAXBContextFactory Demo Note how MOXy's JSON binding does not require any compile time dependencies. All the necessary APIs are available in Java SE 6. You can add the necessary supporting APIs if you are using Java SE 5. package forum11001458; import java.io.File; import javax.xml.bind.*; public class Demo { public static void main(String[] args) throws Exception { JAXBContext jc = JAXBContext.newInstance(MyResult.class); Unmarshaller unmarshaller = jc.createUnmarshaller(); unmarshaller.setProperty(\"eclipselink.media-type\", \"application/json\"); File json = new File(\"src/forum11001458/input.json\"); Object myResult = unmarshaller.unmarshal(json); Marshaller marshaller = jc.createMarshaller(); marshaller.setProperty(\"eclipselink.media-type\", \"application/json\"); marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true); marshaller.marshal(myResult, System.out); } } input.json/Output { \"MyResult\" : { \"AccountID\" : \"12345\", \"User\" : { \"Name\" : \"blah blah\", \"Email\" : \"blah@blah.com\" }, \"Result\" : { \"Course\" : \"blah\", \"Score\" : \"10.0\" } } }",
    "severity": "high",
    "tags": [
      "java",
      "json",
      "jakarta-ee"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "11001458",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 30256,
      "stackoverflow_creation_date": "2012-06-12T17:11:11.620Z"
    },
    "idempotency_key": "stackoverflow-11001458",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SignalR Dependency Resolver not working from Javascript Hubs",
    "body": "I've recently upgraded to the new version of the excellent SignalR library, and moved all my Dependency Injection from StructureMap to Ninject, as Ninject seemed to be better supported. I've got the dependency injection working fine for Server-side notifications using the \"Broadcasting over a Hub from outside of a Hub\" described here: https://github.com/SignalR/SignalR/wiki/Hubs. The problem I'm getting is that all SignalR messages originating from the Javascript hub don't seem to be triggering the dependency injection. I'm also using MVC4 WebAPI which also takes some shoe-horning to get dependency injection working. Here's my Hub: public class PresenceHub : Hub, IPresenceHub { private readonly IUserRepository _userRepository; private readonly IFormsAuthenticationProvider _formsAuthenticationProvider; public PresenceHub(IFormsAuthenticationProvider formsAuthenticationProvider, IUserRepository userRepository) { _userRepository = userRepository; _formsAuthenticationProvider = formsAuthenticationProvider; } public void PresenceChange(string presence) { var user = _userRepository.FindById(_formsAuthenticationProvider.GetUserId()); var rosterEntry = Mapper.Map<User, RosterEntryDto>(user); rosterEntry.Presence = presence; Clients.updatePresence(rosterEntry); } } Here's my Ninject Bootstrapper: Namespace SLx.Web.App_Start { using System; using System.Web; using Microsoft.Web.Infrastructure.DynamicModuleHelper; using Ninject; using Ninject.Web.Common; public static class NinjectWebCommon { private static readonly Bootstrapper bootstrapper = new Bootstrapper(); public static void Start() { DynamicModuleUtility.RegisterModule(typeof(OnePerRequestHttpModule)); DynamicModuleUtility.RegisterModule(typeof(NinjectHttpModule)); bootstrapper.Initialize(CreateKernel); } public static void Stop() { bootstrapper.ShutDown(); } private static IKernel CreateKernel() { var kernel = new StandardKernel(); kernel.Bind<Func<IKernel>>().ToMethod(ctx => () => new Bootstrapper().Kernel); kernel.Bind<IHttpModule>().To<HttpApplicationInitializationHttpModule>(); // SignalR Ninject Resolver GlobalHost.DependencyResolver = new SignalR.Ninject.NinjectDependencyResolver(kernel); // WebApi Ninject Resolver GlobalConfiguration.Configuration.DependencyResolver = new NinjectDependencyResolver(kernel); RegisterServices(kernel); return kernel; } private static void RegisterServices(IKernel kernel) { } } I'm notifying clients on the serverside via a PresenceProxy defined as follows: public class PresenceHubProxy : IPresenceHubProxy { private readonly IHubContext _hubContext; public PresenceHubProxy() { _hubContext = GlobalHost.ConnectionManager.GetHubContext<PresenceHub>(); } public void NotifyLogin(RosterEntryDto user) { _hubContext.Clients.updatePresence(user); } public void NotifyLogout(RosterEntryDto user) { _hubContext.Clients.updatePresence(user); } } The Proxy works fine, injected into Controllers or their dependencies, and can send messages to the clients. When the clients try to call SignalR via Javascript I get the following error: No parameterless constructor defined for this object. It looks like Ninject is not being invoked because the dependencies are not being injected into the constructor. What do I need to do to get Dependency Injection working for Javascript calls too? Update -- Following advice from DFowler, I've replaced the Resolver in PostApplicationStart. Debugging I can see in the Immediate Window that SignalR.GlobalHost.Resolver is of type NinjectDependencyResolver but its still not working I get the same error - no paramaterless constructor. I've then removed the NinjectDependencyResolver NuGet Library and added the source file to my solution and am using that for debugging purposes. Debugging on GetService and GetServices shows that neither method is ever called in NinjectDependencyResolver. Any Ideas?",
    "code": "public class PresenceHub : Hub, IPresenceHub\n{\n    private readonly IUserRepository _userRepository;\n    private readonly IFormsAuthenticationProvider _formsAuthenticationProvider;\n\n    public PresenceHub(IFormsAuthenticationProvider formsAuthenticationProvider, IUserRepository userRepository)\n    {\n        _userRepository = userRepository;\n        _formsAuthenticationProvider = formsAuthenticationProvider;\n    }\n\n    public void PresenceChange(string presence)\n    {\n        var user = _userRepository.FindById(_formsAuthenticationProvider.GetUserId());\n        var rosterEntry = Mapper.Map&lt;User, RosterEntryDto&gt;(user);\n        rosterEntry.Presence = presence;\n        Clients.updatePresence(rosterEntry);\n    }\n}\n\n\nNamespace SLx.Web.App_Start\n{\nusing System;\nusing System.Web;\n\nusing Microsoft.Web.Infrastructure.DynamicModuleHelper;\n\nusing Ninject;\nusing Ninject.Web.Common;\n\npublic static class NinjectWebCommon \n{\n    private static readonly Bootstrapper bootstrapper = new Bootstrapper();\n\n    public static void Start() \n    {\n        DynamicModuleUtility.RegisterModule(typeof(OnePerRequestHttpModule));\n        DynamicModuleUtility.RegisterModule(typeof(NinjectHttpModule));\n        bootstrapper.Initialize(CreateKernel);\n    }\n\n    public static void Stop()\n    {\n        bootstrapper.ShutDown();\n    }\n\n    private static IKernel CreateKernel()\n    {\n        var kernel = new StandardKernel();\n        kernel.Bind&lt;Func&lt;IKernel&gt;&gt;().ToMethod(ctx =&gt; () =&gt; new Bootstrapper().Kernel);\n        kernel.Bind&lt;IHttpModule&gt;().To&lt;HttpApplicationInitializationHttpModule&gt;();\n\n        // SignalR Ninject Resolver\n        GlobalHost.DependencyResolver = new SignalR.Ninject.NinjectDependencyResolver(kernel);\n\n        // WebApi Ninject Resolver\n        GlobalConfiguration.Configuration.DependencyResolver = new NinjectDependencyResolver(kernel);\n\n        RegisterServices(kernel);\n        return kernel;\n    }\n\n\n    private static void RegisterServices(IKernel kernel)\n    {\n\n    }        \n}\n\n\npublic class PresenceHubProxy : IPresenceHubProxy\n{\n    private readonly IHubContext _hubContext;\n\n    public PresenceHubProxy()\n    {\n        _hubContext = GlobalHost.ConnectionManager.GetHubContext&lt;PresenceHub&gt;();\n    }\n\n    public void NotifyLogin(RosterEntryDto user)\n    {\n        _hubContext.Clients.updatePresence(user);\n    }\n\n    public void NotifyLogout(RosterEntryDto user)\n    {\n        _hubContext.Clients.updatePresence(user);\n    }\n}\n\n\nNo parameterless constructor defined for this object.\n\n\n# Solution Code:\nGlobalHost.DependencyResolver = new SignalRNinjectResolver(NinjectWebCommon.Kernel);\nRouteTable.Routes.MapHubs(new SignalRNinjectResolver(NinjectWebCommon.Kernel));\n",
    "resolution": "Problem was I hadn't called RouteTable.Routes.MapHubs: GlobalHost.DependencyResolver = new SignalRNinjectResolver(NinjectWebCommon.Kernel); RouteTable.Routes.MapHubs(new SignalRNinjectResolver(NinjectWebCommon.Kernel));",
    "severity": "medium",
    "tags": [
      "ninject",
      "signalr"
    ],
    "metadata": {
      "stackoverflow_question_id": "11001541",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2477,
      "stackoverflow_creation_date": "2012-06-12T17:16:16.337Z"
    },
    "idempotency_key": "stackoverflow-11001541",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "JSON to Groovy with JsonSlurper and unknown \"string\"",
    "body": "I am writing a Grails/Groovy app and I have a JSON object with a \"string\" name (grommet and widget) inside the params member that can change. That is, next time it might be acme and zoom. Here is the JSON: def jx = \"\"\"{ \"job\": \"42\", \"params\": { \"grommet\": {\"name\": \"x\", \"data\": \"y\"}, \"widget\": { \"name\": \"a\", \"data\": \"b\"} } }\"\"\" I am trying to figure out how to get the string grommet . Code so far: def dalist = new JsonSlurper().parseText(jx) println dalist.job // Gives: 42 println dalist.params // Gives: [grommet:[name:x, data:y], widget:[name:a, data:b]] println dalist.params[0] // Gives: null Any idea how to get the string grommet? Iama going to keep hitting my head against a wall.",
    "code": "def jx = \"\"\"{ \n    \"job\": \"42\",\n    \"params\": {\n        \"grommet\": {\"name\": \"x\", \"data\": \"y\"},\n        \"widget\": { \"name\": \"a\", \"data\": \"b\"}\n    } \n}\"\"\"\n\n\ndef dalist = new JsonSlurper().parseText(jx)\nprintln dalist.job     // Gives: 42\nprintln dalist.params  // Gives: [grommet:[name:x, data:y], widget:[name:a, data:b]]\nprintln dalist.params[0]  // Gives: null\n\n\n# Solution Code:\nparams\n\nparams\n\ndalist.params.grommet\n\n[name: 'x', data: 'y']\n\nparams\n\ndalist.params.keySet()\n\n['grommet', 'widget']\n\nparams\n\n'grommet'\n\ndalist.params.keySet()[0]\n\n'grommet'",
    "resolution": "The params key on the JSON object is associated with a JSON object, not an array, so you cannot access it by index. JsonSlurper maps JSON objects to Groovy Maps, so you can access params by its keys, which are strings, e.g. dalist.params.grommet, which will give you the map [name: 'x', data: 'y']. To access the keys on the params you can do dalist.params.keySet(), which will give you the list ['grommet', 'widget']. If you are interested in just knowing params keys, that should do the trick. If you need to get the 'grommet' string for some reason, you can do it by accessing the first element on that list, i.e. dalist.params.keySet()[0], but i don't know why you would want to know that. And i'm not sure if it is guaranteed that the first key of that map will always be 'grommet', as JSON objects are unordered by the spec (from json.org: An object is an unordered set of name/value pairs), but, in turn, Groovy maps are ordered (the default implementation is LinkedHashMap)... so i would assume that the order is preserved when parsing JSON to the Groovy world, but i'd try not to rely on that particular behavior hehe.",
    "severity": "medium",
    "tags": [
      "json",
      "grails",
      "groovy"
    ],
    "metadata": {
      "stackoverflow_question_id": "11060922",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 7887,
      "stackoverflow_creation_date": "2012-06-16T04:52:16.897Z"
    },
    "idempotency_key": "stackoverflow-11060922",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Comparing two unsorted lists in linux, listing the unique in the second file",
    "body": "I have 2 files with a list of numbers (telephone numbers). I'm looking for a method of listing the numbers in the second file that is not present in the first file. I've tried the various methods with: comm (getting some weird sorting errors) fgrep -v -x -f second-file.txt first-file.txt (unsure of the result, there should be more)",
    "code": "comm (getting some weird sorting errors)\nfgrep -v -x -f second-file.txt first-file.txt (unsure of the result, there should be more)\n\n\n# Solution Code:\ngrep -Fxv -f first-file.txt second-file.txt\n\n\ncomm -23 second-file-sorted.txt first-file-sorted.txt\n\n\nsecond-file.txt\n\nfirst-file.txt\n\nsort -n\n\ncomm",
    "resolution": "grep -Fxv -f first-file.txt second-file.txt Basically looks for all lines in second-file.txt which don't match any line in first-file.txt. Might be slow if the files are large. Also, once you sort the files (Use sort -n if they are numeric), then comm should also have worked. What error does it give? Try this: comm -23 second-file-sorted.txt first-file-sorted.txt",
    "severity": "high",
    "tags": [
      "linux",
      "bash",
      "shell",
      "comparison",
      "grep"
    ],
    "metadata": {
      "language": "bash",
      "stackoverflow_question_id": "11099894",
      "stackoverflow_score": 51,
      "stackoverflow_view_count": 98268,
      "stackoverflow_creation_date": "2012-06-19T11:22:08.410Z"
    },
    "idempotency_key": "stackoverflow-11099894",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unnecessary use of variables",
    "body": "I am a little confused over why people recommend you use: long rantime = System.currentTimeMillis(); Random random = new Random(rantime); when we could use: Random random = new Random(System.currentTimeMillis()); Will the single line method fail? And if not, isn't it more efficient since you don't create a variable unnecessarily? Is it best practice to avoid using additional variables where possible?",
    "code": "long rantime = System.currentTimeMillis(); \nRandom random = new Random(rantime);\n\n\nRandom random = new Random(System.currentTimeMillis());\n",
    "resolution": "Most people consider this: long rantime = System.currentTimeMillis(); Random random = new Random(rantime); to be more readable than this: Random random = new Random(System.currentTimeMillis()); Given how complex Android projects can grow to be, I strongly suggest that you value readability over trivial optimizations involving the number of local variables you use in your program. The compiler will optimize these things most of the time anyway.",
    "severity": "low",
    "tags": [
      "android",
      "random"
    ],
    "metadata": {
      "stackoverflow_question_id": "11192416",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 92,
      "stackoverflow_creation_date": "2012-06-25T15:33:14.080Z"
    },
    "idempotency_key": "stackoverflow-11192416",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Parallel control of canon cameras through EDSDK",
    "body": "I've got following problem: I have two EOS550D cameras connected to my pc. In my program I have QThread-based class, that sends commands to cameras. There is no problem in distinguishing two cameras and both can be controlled, but though commands are sent in parallel - second camera start working only after first have focused and done shooting. Is it SDK limitation or am I doing something wrong? I knew, that this task can be done by using two pc's and client\\server architecture, but I want to try it on one pc) EDSDK and cameras are initialized in control class, sessions for cameras are managed in thread class objects. Call for thread: void CameraController::testShot() { //some variable checks and path set-ups leftCameraThread->setPath(path1); leftCameraThread->start(); rightCameraThread->setPath(path2); rightCameraThread->start(); } Thread run() function: void CameraControlThread::run() { EdsSendCommand(_camera, kEdsCameraCommand_TakePicture , 0); } EDSDK v2.10",
    "code": "void CameraController::testShot()\n{\n//some variable checks and path set-ups\nleftCameraThread-&gt;setPath(path1);\nleftCameraThread-&gt;start();\nrightCameraThread-&gt;setPath(path2);\nrightCameraThread-&gt;start();\n}\n\n\nvoid CameraControlThread::run()\n{\nEdsSendCommand(_camera, kEdsCameraCommand_TakePicture , 0);\n}\n",
    "severity": "medium",
    "tags": [
      "c++",
      "edsdk"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "11248022",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2373,
      "stackoverflow_creation_date": "2012-06-28T15:33:36.447Z"
    },
    "idempotency_key": "stackoverflow-11248022",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PHP - SESSION not registering",
    "body": "I tried to make admin panel and I am using sessions , but have problem, session does not work, index.php $r=mysql_fetch_array($result); $login=$r[\"login\"]; session_register('login'); Header(\"Location: protected.php\"); protected.php <?php session_start(); if (!isset($_SESSION['login'])) { echo \"Not work\"; } else{ echo \"Work\"; } ?> I do not know what the problem is, because in index.php I register session, but in protected.php this session is not set.",
    "code": "$r=mysql_fetch_array($result);\n$login=$r[\"login\"];\nsession_register('login');\nHeader(\"Location: protected.php\");\n\n\n&lt;?php \nsession_start();\nif (!isset($_SESSION['login'])) { \n  echo \"Not work\";\n}\nelse{\n  echo \"Work\";\n}\n?&gt;\n\n\nsessions\n\n# Solution Code:\nsession_register()\n\nsession_start();\n\n$_SESSION['login'] = 'val';",
    "resolution": "Don't use session_register(). It was removed in PHP 5.4.0. In index.php, add session_start(); to the top and replace your register call with $_SESSION['login'] = 'val';",
    "severity": "low",
    "tags": [
      "php"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "11266630",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 672,
      "stackoverflow_creation_date": "2012-06-29T17:52:00.040Z"
    },
    "idempotency_key": "stackoverflow-11266630",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Openg GL 2.0 Android error 0x501 (GL_INVALID_VALUE)",
    "body": "I am trying to build a little Open GL2.0 demo application on android but i am getting the following errors in log cat 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) 07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread) in the Console [2012-07-02 20:50:44 - Emulator] development/tools/emulator/opengl/host/libs/Translator/GLES_V2/GLESv2Imp.cpp:glGetAttribLoc ation:826 error 0x501 [2012-07-02 20:50:44 - Emulator] development/tools/emulator/opengl/host/libs/Translator/GLES_V2/GLESv2Imp.cpp:glGetUniformLocation:1383 error 0x501 my code View package limitliss.graphics.play; import java.nio.ByteBuffer; import java.nio.ByteOrder; import java.nio.FloatBuffer; import javax.microedition.khronos.egl.EGLConfig; import javax.microedition.khronos.opengles.GL10; import android.content.Context; import android.opengl.GLES20; import android.opengl.GLSurfaceView; import android.opengl.GLSurfaceView.Renderer; import android.opengl.GLU; public class OGLView extends GLSurfaceView implements Renderer { private int mColorType = 0; private float rotx = 0.0f; private float roty = 0.0f; Triangle tri = new Triangle(); public OGLView(Context context) { super(context); setEGLContextClientVersion(2); this.setRenderer(this); setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY); // TODO Auto-generated constructor stub } public static int loadShader(int type, String shaderCode){ // create a vertex shader type (GLES20.GL_VERTEX_SHADER) // or a fragment shader type (GLES20.GL_FRAGMENT_SHADER) int shader = GLES20.glCreateShader(type); // add the source code to the shader and compile it GLES20.glShaderSource(shader, shaderCode); GLES20.glCompileShader(shader); return shader; } public void onSurfaceCreated(GL10 unused, EGLConfig config) { // Set the background frame color GLES20.glClearColor(0.5f, 0.5f, 0.5f, 1.0f); tri.draw(); } public void onDrawFrame(GL10 unused) { // Redraw background color GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT); tri.draw(); } public void onSurfaceChanged(GL10 unused, int width, int height) { GLES20.glViewport(0, 0, width, height); } } Triangle package limitliss.graphics.play; import java.nio.ByteBuffer; import java.nio.ByteOrder; import java.nio.FloatBuffer; import javax.microedition.khronos.opengles.GL10; import android.opengl.GLES20; public class Triangle { float color[] = { 0.63671875f, 0.76953125f, 0.22265625f, 1.0f }; private FloatBuffer vertexBuffer; int mProgram; int mPositionHandle; private final String vertexShaderCode = \"attribute vec4 vPosition;\" + \"void main() {\" + \" gl_Position = vPosition;\" + \"}\"; private final String fragmentShaderCode = \"precision mediump float;\" + \"uniform vec4 vColor;\" + \"void main() {\" + \" gl_FragColor = vColor;\" + \"}\"; // number of coordinates per vertex in this array static final int COORDS_PER_VERTEX = 3; static float triangleCoords[] = { // in counterclockwise order: 0.0f, 0.622008459f, 0.0f, // top -0.5f, -0.311004243f, 0.0f, // bottom left 0.5f, -0.311004243f, 0.0f}; // bottom right public Triangle() { // initialize vertex byte buffer for shape coordinates ByteBuffer bb = ByteBuffer.allocateDirect( // (number of coordinate values * 4 bytes per float) triangleCoords.length * 4); // use the device hardware's native byte order bb.order(ByteOrder.nativeOrder()); // create a floating point buffer from the ByteBuffer vertexBuffer = bb.asFloatBuffer(); // add the coordinates to the FloatBuffer vertexBuffer.put(triangleCoords); // set the buffer to read the first coordinate vertexBuffer.position(0); int vertexShader = OGLView.loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode); int fragmentShader = OGLView.loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode); mProgram = GLES20.glCreateProgram(); // create empty OpenGL ES Program GLES20.glAttachShader(mProgram, vertexShader); // add the vertex shader to program GLES20.glAttachShader(mProgram, fragmentShader); // add the fragment shader to program GLES20.glLinkProgram(mProgram); } public void draw() { // Add program to OpenGL ES environment GLES20.glUseProgram(mProgram); // get handle to vertex shader's vPosition member mPositionHandle = GLES20.glGetAttribLocation(mProgram, \"vPosition\"); // Enable a handle to the triangle vertices GLES20.glEnableVertexAttribArray(mPositionHandle); // Prepare the triangle coordinate data GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX, GLES20.GL_FLOAT, false, COORDS_PER_VERTEX, vertexBuffer); // get handle to fragment shader's vColor member int mColorHandle = GLES20.glGetUniformLocation(mProgram, \"vColor\"); // Set color for drawing the triangle GLES20.glUniform4fv(mColorHandle, 1, color, 0); // Draw the triangle GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 3); // Disable vertex array GLES20.glDisableVertexAttribArray(mPositionHandle); } public void render(GL10 gl){ gl.glPushMatrix(); gl.glColor4f(this.color[0],this.color[1],this.color[2],this.color[3]); gl.glVertexPointer(3, GL10.GL_FLOAT, 0, vertexBuffer); gl.glEnableClientState(GL10.GL_VERTEX_ARRAY); gl.glDrawArrays(GL10.GL_TRIANGLE_FAN, 0, 3); gl.glDisableClientState(GL10.GL_VERTEX_ARRAY); gl.glPopMatrix(); } }",
    "code": "07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context     (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context         (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context     (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n07-02 20:50:40.110: E/libEGL(1252): call to OpenGL ES API with no current context (logged once per thread)\n\n\n[2012-07-02 20:50:44 - Emulator]     development/tools/emulator/opengl/host/libs/Translator/GLES_V2/GLESv2Imp.cpp:glGetAttribLoc    ation:826 error 0x501\n[2012-07-02 20:50:44 - Emulator]     development/tools/emulator/opengl/host/libs/Translator/GLES_V2/GLESv2Imp.cpp:glGetUniformLocation:1383 error 0x501\n\n\npackage limitliss.graphics.play;\n\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\nimport android.content.Context;\nimport android.opengl.GLES20;\nimport android.opengl.GLSurfaceView;\nimport android.opengl.GLSurfaceView.Renderer;\nimport android.opengl.GLU;\n\npublic class OGLView extends GLSurfaceView implements Renderer {\n\nprivate int mColorType = 0;\n\nprivate float rotx = 0.0f;\nprivate float roty = 0.0f;    \nTriangle tri = new Triangle();\n\npublic OGLView(Context context) {\n    super(context);\n    setEGLContextClientVersion(2);\n\n    this.setRenderer(this); \n    setRenderMode(GLSurfaceView.RENDERMODE_WHEN_DIRTY);\n    // TODO Auto-generated constructor stub\n}\n\n\n\npublic static int loadShader(int type, String shaderCode){\n\n    // create a vertex shader type (GLES20.GL_VERTEX_SHADER)\n    // or a fragment shader type (GLES20.GL_FRAGMENT_SHADER)\n    int shader = GLES20.glCreateShader(type);\n\n    // add the source code to the shader and compile it\n    GLES20.glShaderSource(shader, shaderCode);\n    GLES20.glCompileShader(shader);\n\n    return shader;\n}\n\n\n\n\n\npublic void onSurfaceCreated(GL10 unused, EGLConfig config) {\n    // Set the background frame color\n    GLES20.glClearColor(0.5f, 0.5f, 0.5f, 1.0f);\n    tri.draw();\n}\n\npublic void onDrawFrame(GL10 unused) {\n    // Redraw background color\n    GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT);\n    tri.draw();\n}\n\npublic void onSurfaceChanged(GL10 unused, int width, int height) {\n    GLES20.glViewport(0, 0, width, height);\n}\n}\n\n\nTriangle\n\npackage limitliss.graphics.play;\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\n\nimport javax.microedition.khronos.opengles.GL10;\n\nimport android.opengl.GLES20;\n\n\n\npublic class Triangle {\n\nfloat color[] = { 0.63671875f, 0.76953125f, 0.22265625f, 1.0f };\n\nprivate FloatBuffer vertexBuffer;\nint mProgram;\nint mPositionHandle;\nprivate final String vertexShaderCode =\n        \"attribute vec4 vPosition;\" +\n        \"void main() {\" +\n        \"  gl_Position = vPosition;\" +\n        \"}\";\n\n    private final String fragmentShaderCode =\n        \"precision mediump float;\" +\n        \"uniform vec4 vColor;\" +\n        \"void main() {\" +\n        \"  gl_FragColor = vColor;\" +\n        \"}\";\n// number of coordinates per vertex in this array\nstatic final int COORDS_PER_VERTEX = 3;\nstatic float triangleCoords[] = { // in counterclockwise order:\n     0.0f,  0.622008459f, 0.0f,   // top\n    -0.5f, -0.311004243f, 0.0f,   // bottom left\n     0.5f, -0.311004243f, 0.0f};   // bottom right\n\npublic Triangle() {\n    // initialize vertex byte buffer for shape coordinates\n    ByteBuffer bb = ByteBuffer.allocateDirect(\n            // (number of coordinate values * 4 bytes per float)\n            triangleCoords.length * 4);\n    // use the device hardware's native byte order\n    bb.order(ByteOrder.nativeOrder());\n\n    // create a floating point buffer from the ByteBuffer\n    vertexBuffer = bb.asFloatBuffer();\n    // add the coordinates to the FloatBuffer\n    vertexBuffer.put(triangleCoords);\n    // set the buffer to read the first coordinate\n    vertexBuffer.position(0);\n\n    int vertexShader =  OGLView.loadShader(GLES20.GL_VERTEX_SHADER, vertexShaderCode);\n    int fragmentShader =  OGLView.loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentShaderCode);\n\n    mProgram = GLES20.glCreateProgram();             // create empty OpenGL ES Program\n    GLES20.glAttachShader(mProgram, vertexShader);   // add the vertex shader to program\n    GLES20.glAttachShader(mProgram, fragmentShader); // add the fragment shader to program\n    GLES20.glLinkProgram(mProgram);    \n}\n\npublic void draw() {\n\n    // Add program to OpenGL ES environment\n    GLES20.glUseProgram(mProgram);\n\n    // get handle to vertex shader's vPosition member\n    mPositionHandle = GLES20.glGetAttribLocation(mProgram, \"vPosition\");\n\n    // Enable a handle to the triangle vertices\n    GLES20.glEnableVertexAttribArray(mPositionHandle);\n\n    // Prepare the triangle coordinate data\n    GLES20.glVertexAttribPointer(mPositionHandle, COORDS_PER_VERTEX,\n                                 GLES20.GL_FLOAT, false,\n                                 COORDS_PER_VERTEX, vertexBuffer);\n\n    // get handle to fragment shader's vColor member\n    int mColorHandle = GLES20.glGetUniformLocation(mProgram, \"vColor\");\n\n    // Set color for drawing the triangle\n    GLES20.glUniform4fv(mColorHandle, 1, color, 0);\n\n    // Draw the triangle\n    GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, 3);\n\n    // Disable vertex array\n    GLES20.glDisableVertexAttribArray(mPositionHandle);\n}\n\npublic void render(GL10 gl){\n\n    gl.glPushMatrix();\n    gl.glColor4f(this.color[0],this.color[1],this.color[2],this.color[3]); \n    gl.glVertexPointer(3, GL10.GL_FLOAT, 0, vertexBuffer);\n    gl.glEnableClientState(GL10.GL_VERTEX_ARRAY);\n    gl.glDrawArrays(GL10.GL_TRIANGLE_FAN, 0, 3);\n    gl.glDisableClientState(GL10.GL_VERTEX_ARRAY);\n    gl.glPopMatrix();\n}\n}\n\n\n# Solution Code:\ncall to OpenGL ES API with no current context\n\nTriangle tri = new Triangle();\n\ntri = new Triangle()\n\nonSurfaceCreated",
    "resolution": "You're getting call to OpenGL ES API with no current context errors because you're creating your triangle Triangle tri = new Triangle(); outside of the OpenGL thread (and the triangle constructor is making opengl calls). Only the code inside the OpenGL callbacks (onSurfaceCreated, onDrawFrame, etc) are executed on the opengl thread. Put tri = new Triangle() inside of onSurfaceCreated and those errors should go away.",
    "severity": "high",
    "tags": [
      "android",
      "opengl-es"
    ],
    "metadata": {
      "stackoverflow_question_id": "11299643",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 35157,
      "stackoverflow_creation_date": "2012-07-02T19:02:47.290Z"
    },
    "idempotency_key": "stackoverflow-11299643",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C++/CLI wrapper not working (LoaderLock exception)",
    "body": "I've made very simple wrapper for unmanaged C++ library (to be used with C#). Wrapper has one unmanaged class and one managed class. Managed class has private member that is of unmanaged class and uses it like that. I've done very simple setup - I've created wrapper for only one function to see if everything is working. But as soon as I create an instance of wrapper, my application get's exception \"LoaderLock was detected\" with following message: DLL 'c:\\path\\CPPWrapper.dll' is attempting managed execution inside OS Loader lock. Do not attempt to run managed code inside a DllMain or image initialization function since doing so can cause the application to hang. If I turn off breaking for \"LoaderLock\" exception, I get \"FileLoadException was unhandled\": Could not load file or assembly 'CPPWrapper.dll' or one of its dependencies. Exception from HRESULT: 0xE0434352 Any idea what I am doing wrong and how can I fix this problem? CPPWrapper.h // CPPWrapper.h #pragma once #include \"Native.h\" using namespace System; namespace CPPWrapper { public ref class Class1 { public: Class1() : mnt(new Native) { } ~Class1(void) { // call the finalize method this->!Class1(); } // Finalize (for garbage collection) !Class1(void) { // Remove unmanaged class delete mnt; mnt = NULL; } void Napravi() { mnt->CreatePK(); } private: Native *mnt; }; }",
    "code": "Could not load file or assembly 'CPPWrapper.dll' or one of its dependencies. Exception from HRESULT: 0xE0434352\n\n\n// CPPWrapper.h\n\n#pragma once\n\n#include \"Native.h\"\n\nusing namespace System;\n\nnamespace CPPWrapper {\n\n    public ref class Class1\n    {\n        public:\n\n        Class1() : mnt(new Native)\n        {\n\n        }\n\n        ~Class1(void)\n        {\n            // call the finalize method\n            this-&gt;!Class1();\n        }\n\n        // Finalize (for garbage collection)\n        !Class1(void)\n        {\n            // Remove unmanaged class\n            delete mnt;\n            mnt = NULL;\n        }\n\n        void Napravi()\n        {\n            mnt-&gt;CreatePK();\n        }\n\n    private:\n        Native *mnt;\n    };\n\n}\n\n\n# Solution Code:\n// dllmain.cpp : Defines the entry point for the DLL application.\n#include \"stdafx.h\"\n\n#pragma unmanaged\nBOOL APIENTRY DllMain( HMODULE hModule,\n                   DWORD  ul_reason_for_call,\n                   LPVOID lpReserved\n                 )\n{\n    switch (ul_reason_for_call)\n    {\n        case DLL_PROCESS_ATTACH:\n        case DLL_THREAD_ATTACH:\n        case DLL_THREAD_DETACH:\n        case DLL_PROCESS_DETACH:\n            break;\n    }\n    return TRUE;\n}\n\n\n#pragma unmanaged\n\ndllmain.c\n\n#pragma unmanaged\n\ndllmain.c",
    "resolution": "I found that the correct way to fix this is by adding #pragma unmanaged in the dllmain.c Don't turn off breaking for \"LoaderLock\" exception. See Initialization of Mixed Assemblies and scroll down to the DllMain section for details. Basically what is happening is that the project is compiling the DllMain function as managed (MSIL) but it only runs in unmanaged code. This #pragma unmanaged forces the function to be compiled as an unmanaged function. So my dllmain.c is now: // dllmain.cpp : Defines the entry point for the DLL application. #include \"stdafx.h\" #pragma unmanaged BOOL APIENTRY DllMain( HMODULE hModule, DWORD ul_reason_for_call, LPVOID lpReserved ) { switch (ul_reason_for_call) { case DLL_PROCESS_ATTACH: case DLL_THREAD_ATTACH: case DLL_THREAD_DETACH: case DLL_PROCESS_DETACH: break; } return TRUE; }",
    "severity": "medium",
    "tags": [
      "c++-cli",
      "wrapper",
      "unmanaged",
      "managed"
    ],
    "metadata": {
      "stackoverflow_question_id": "11398275",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2260,
      "stackoverflow_creation_date": "2012-07-09T15:30:25.683Z"
    },
    "idempotency_key": "stackoverflow-11398275",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unused variable naming in python",
    "body": "Possible Duplicate: How can I get around declaring an unused variable in a for loop? In Python what is the best practice for naming a variable that is not going to be used? This is an odd question sure, but for my specific case I have a tuple of (key, value) where I am only interested in the value. A basic demo of my use case: some_stuff = [(\"key\", \"value\"), (\"key2\", \"value\")] for _, value in some_stuff: pass # TODO: do something really important with value I've noticed in Eclipse that naming a variable _ or with an _ prefix (e.g. _k) will not show an unused variable warning and removing the _ prefix causes the warning to be raised, but this may just be an oddity/\"feature\" in Eclipse rather than Python best practice..",
    "code": "some_stuff = [(\"key\", \"value\"), (\"key2\", \"value\")]\nfor _, value in some_stuff:\n    pass  # TODO: do something really important with value\n\n\n# Solution Code:\n'_'\n\nfor\n\ndummy\n\nignore",
    "resolution": "Not sure if this is a Eclipse thing or not, but I generally use '_' to denote values I don't care about (i.e., return values in tuples, or index values in for-loops). Of course you can always resort to old stand-bys like naming variables dummy or ignore. I'm not sure if PEP 8 mentions anything about this, might be worth peeking into.",
    "severity": "high",
    "tags": [
      "python",
      "variables"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "11486148",
      "stackoverflow_score": 45,
      "stackoverflow_view_count": 58232,
      "stackoverflow_creation_date": "2012-07-14T18:07:34.443Z"
    },
    "idempotency_key": "stackoverflow-11486148",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Conditionally disable asset precompile in Capistrano",
    "body": "I've seen various convoluted and generally ineffective solutions to performing lazy asset precompile in Rails. As a backend developer I don't particularly want to recompile assets I never touch every time the program deploys, but because assets are loaded in Capfile via load 'deploy/assets', and not by defining a task in deploy.rb, I can't think of a way to conditionally disable it. The behaviour I'm after is to use cap deploy for regular with-precompile deployment, and to use cap deploy:no_assets to skip asset deployment.",
    "code": "Capfile\n\nload 'deploy/assets'\n\ndeploy.rb\n\ncap deploy\n\ncap deploy:no_assets\n\n# Solution Code:\nsprockets-rails\n\nmaster",
    "resolution": "rails4 addresses this issue with it's new version of sprockets, by only precompiling assets that have changed. In the mean time, for your rails3 apps I recommend the turbo-sprockets-rails3 gem. This gem started out as a set of patches for sprockets-rails by Nathan Broadbent, which were not merged into master because the problem was already addressed in rails4. From the README: Speeds up your Rails 3 rake assets:precompile by only recompiling changed assets, based on a hash of their source files Only compiles once to generate both fingerprinted and non-fingerprinted assets And: turbo-sprockets-rails3 should work out of the box with the latest version of Capistrano. I can confirm that it works well for me on rails-3.2.x apps deploying with Capistrano. As a side note for GitHubbers, the original pull request is an excellent example of how to submit code to an open source project, even if it wasn't merged.",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "capistrano"
    ],
    "metadata": {
      "stackoverflow_question_id": "11492625",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 6649,
      "stackoverflow_creation_date": "2012-07-15T14:15:51.887Z"
    },
    "idempotency_key": "stackoverflow-11492625",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Detecting out of memory errors",
    "body": "I would like to provide my system with a way of detecting whether out of memory exception has occurred or not. The aim for this exercise is to expose this flag through JMX and act correspondingly (e.g. by configuring a relevant alert on the monitoring system), as otherwise these errors sit unnoticed for days. Naive approach for this would be to set an uncaught exception handler for every thread and check whether the raised exception is instance of OutOfMemoryError and set a relevant flag. However, this approach isn't realistic for the following reasons: The exception can occur anywhere, including 3rd party libraries. There is nothing I can do to prevent them catching Throwable and keeping it for themselves. Libraries can spawn their own threads and I have no way of enforcing uncaught exception handlers for these threads. One of possible scenarios I see is bytecode manipulation (e.g. attaching some sort of aspect on top of OutOfMemoryError), however I am not sure if that's right approach or whether this is doable in general. We have -XX:+HeapDumpOnOutOfMemoryError enabled, but I don't see this as a solution for this problem as it was designed for something else - and it provides no Java callback when this happens. Has anyone done this? How would you solve it or suggest solving it? Any ideas are welcome.",
    "code": "OutOfMemoryError\n\nThrowable\n\nOutOfMemoryError\n\n-XX:+HeapDumpOnOutOfMemoryError",
    "severity": "high",
    "tags": [
      "java",
      "exception",
      "out-of-memory"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "11508310",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 12681,
      "stackoverflow_creation_date": "2012-07-16T16:13:34.180Z"
    },
    "idempotency_key": "stackoverflow-11508310",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Understanding the runat server attribute",
    "body": "I'm really new to ASP.NET. I was just checking out a default ASP.NET web application. It comes by default with a few pages (Default.aspx, About.aspx etc). I noticed that the Site.master file is the file where i create the main layout for my pages. But i also noticed that the head tag has a runat=\"server\" attribute. I know this tag is used in <asp:XXX> tags, but why in a <head> tag??? Also, when i remove that attribute, then all of the styles are gone from the webpage. So appearently it's doing something. I just don't understand what its exactly doing... So why is it there, on an HTML tag...??? I don't see any code in there that should be run on the server... <head runat=\"server\"> <title>Hallo</title> <link href=\"~/Styles/Site.css\" rel=\"stylesheet\" type=\"text/css\" /> <!-- This part is run on the server. So why does the head tag also need a runat=server ?? --> <asp:ContentPlaceHolder ID=\"HeadContent\" runat=\"server\"> </asp:ContentPlaceHolder> </head>",
    "code": "&lt;head runat=\"server\"&gt;\n    &lt;title&gt;Hallo&lt;/title&gt;\n    &lt;link href=\"~/Styles/Site.css\" rel=\"stylesheet\" type=\"text/css\" /&gt;\n\n    &lt;!-- This part is run on the server. So why does the head tag\n         also need a runat=server ?? --&gt;\n    &lt;asp:ContentPlaceHolder ID=\"HeadContent\" runat=\"server\"&gt;\n    &lt;/asp:ContentPlaceHolder&gt;\n&lt;/head&gt;\n\n\nhead\n\nrunat=\"server\"\n\n&lt;asp:XXX&gt;\n\n&lt;head&gt;\n\n# Solution Code:\nrunat=\"server\"\n\nPage_Load",
    "resolution": "The head element contains a runat=\"server\" attribute, which indicates that it is a server control (rather than static HTML). All ASP.NET pages derive from the Page class, which is located in the System.Web.UI namespace. This class contains a Header property that provides access to the page's region. Using the Header property we can set an ASP.NET page's title or add additional markup to the rendered section. It is possible, then, to customize a content page's element by writing a bit of code in the page's Page_Load event handler. ' Programmatically add a <meta> element to the Header Dim keywords As New HtmlMeta() keywords.Name = \"keywords\" keywords.Content = \"master page,asp.net,tutorial\" Page.Header.Controls.Add(keywords) For more info see Specifying Meta Tags in ASP.NET with VB.NET.",
    "severity": "high",
    "tags": [
      "asp.net"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "11510502",
      "stackoverflow_score": 64,
      "stackoverflow_view_count": 124329,
      "stackoverflow_creation_date": "2012-07-16T18:40:51.363Z"
    },
    "idempotency_key": "stackoverflow-11510502",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "const char * VS char const * const (Not about what is const)",
    "body": "So, I know the differences between char const *, char * const, and char const * const. Those being: char* the_string : I can change the char to which the_string points, and I can modify the char at which it points. const char* the_string : I can change the char to which the_string points, but I cannot modify the char at which it points. char* const the_string : I cannot change the char to which the_string points, but I can modify the char at which it points. const char* const the_string : I cannot change the char to which the_string points, nor can I modify the char at which it points. (from const char * const versus const char *?) Now, my question is: Let's say I'm writing a function that would not modify the C string that is passed to it, for example: int countA(??? string) { int count = 0; int i; for (i=0; i<strlen(string); i++) { if (string[i] == 'A') count++; } return count; } Now, what should the header be? int countA(char const * string); int countA(char const * const string); My feeling is that I should use the second one, because I'm not going to modify the pointer itself, neither the contents of the array. But when I look to the header of standard functions they use the first one. Example char * strcpy ( char * destination, const char * source ); Why? (In fact char const * doesn't really make sense to me, because if you're thinking about the abstract string, either you are not modifying the string (so, char const * const because you are not modifying the pointer, neither the contents) or you will modify the string (so just char * because, you may modify the contents and you may need to allocate more memory, so you may need to modify the pointer) I hope someone can make all this clear to me. Thanks.",
    "code": "int countA(??? string) {\n    int count = 0;\n    int i;\n    for (i=0; i&lt;strlen(string); i++) {\n         if (string[i] == 'A') count++;\n    }\n    return count;\n}\n\n\nint countA(char const * string); \nint countA(char const * const string);\n\n\nchar * strcpy ( char * destination, const char * source );\n\n\nchar const *\n\nchar const * const\n\nchar *\n\n# Solution Code:\nchar dest[10];\nchar const * source = \"Hello\";\nstrcpy( dest, source );\n// no matter what strcpy does, the value of source will be unchanged\n\n\nstrcpy\n\nsource\n\nstrcpy\n\nsource\n\nstrcpy\n\ndestination\n\nsource",
    "resolution": "In this case, it does not matter whether the pointer itself is const or not, because it is passed by-value anyway: Whatever strcpy does to source will not affect the caller's variable, because strcpy will operate on a copy of the caller's source on the stack, not the original. Note I am talking about the pointer value, not what the pointer points to, which should obviously not be changed since it is the source parameter. char dest[10]; char const * source = \"Hello\"; strcpy( dest, source ); // no matter what strcpy does, the value of source will be unchanged Within strcpy, you need to iterate pointers over the arrays pointed to by destination and source anyway. Not declaring the parameters as const allows the function to use the values from the stack directly, without copying / casting them first.",
    "severity": "medium",
    "tags": [
      "c",
      "string",
      "constants"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "11611564",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 9515,
      "stackoverflow_creation_date": "2012-07-23T11:24:19.067Z"
    },
    "idempotency_key": "stackoverflow-11611564",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Spring and Ajax",
    "body": "Can I use spring form tag library in conjunction with Ajax? I'm not able to retrieve the form input parameters inside the controller. They are always null. Actually there is a logic that the form is never submitted. But then I can only send strings to my controller and not an object as happens with a form submit that gets mapped to a Spring commandBean. Form accepting the commandBean <form:form method=\"POST\" commandName=\"clinicBean\"> Clinic Name: <form:input path=\"name\" type=\"text\" /><br/> Clinic Address: <form:input path=\"address\" type=\"text\"/><br/> <input type=\"button\" value=\"Create Clinic\" onclick=\"clinicAjax()\"/> </form:form> Ajax function calling the Spring controller function clinicAjax(){ alert('Inside Clinic Ajax Method'); $.ajax({ url: 'clinicAjax', type: 'POST', success: alert('Ajax Successful') }); } Spring Controller method: @RequestMapping(value=\"clinicAjax\",method=RequestMethod.POST) public @ResponseBody String createClinic(@ModelAttribute(\"clinicBean\") Clinic clinic){ System.out.println(\"Ajax call successful\"); System.out.println(clinic); System.out.println(clinic.getName()); System.out.println(clinic.getAddress()); return \"SUCCESS\"; } It always gets null in the System.out.println() statements.",
    "code": "&lt;form:form method=\"POST\" commandName=\"clinicBean\"&gt;\n    Clinic Name: &lt;form:input path=\"name\" type=\"text\" /&gt;&lt;br/&gt;\n    Clinic Address: &lt;form:input path=\"address\" type=\"text\"/&gt;&lt;br/&gt;\n    &lt;input type=\"button\" value=\"Create Clinic\" onclick=\"clinicAjax()\"/&gt;\n&lt;/form:form&gt;\n\n\nfunction clinicAjax(){\n    alert('Inside Clinic Ajax Method');\n    $.ajax({\n        url: 'clinicAjax',\n        type: 'POST',\n        success: alert('Ajax Successful')\n    });\n}\n\n\n@RequestMapping(value=\"clinicAjax\",method=RequestMethod.POST)\n\n\n public @ResponseBody String createClinic(@ModelAttribute(\"clinicBean\") Clinic clinic){\n        System.out.println(\"Ajax call successful\");\n        System.out.println(clinic);\n        System.out.println(clinic.getName());\n        System.out.println(clinic.getAddress());\n        return \"SUCCESS\";\n    }\n\n\n# Solution Code:\nfunction clinicAjax(){\n    alert('Inside Clinic Ajax Method');\n    $.ajax({\n        url: 'clinicAjax',\n        data: yourFormElement.serialize(); /* i.e. $('#formId').serialize(); */\n        type: 'POST',\n        success: alert('Ajax Successful')\n    });\n}\n\n\nyourFormElement",
    "resolution": "The problem is that you're not serializing your form anywhere so it's not being sent to the server. Change your javascript code to: function clinicAjax(){ alert('Inside Clinic Ajax Method'); $.ajax({ url: 'clinicAjax', data: yourFormElement.serialize(); /* i.e. $('#formId').serialize(); */ type: 'POST', success: alert('Ajax Successful') }); } substitute yourFormElement with jQuery object representing your form and it should work.",
    "severity": "medium",
    "tags": [
      "ajax",
      "spring",
      "spring-mvc"
    ],
    "metadata": {
      "framework": "spring",
      "stackoverflow_question_id": "11611843",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2913,
      "stackoverflow_creation_date": "2012-07-23T11:42:33.373Z"
    },
    "idempotency_key": "stackoverflow-11611843",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to refresh the page in IE",
    "body": "How to refresh the page by using Javascript in IE? Following code is working in Mozilla but not in Internet Explorer window.location.reload()); history.go(0);",
    "code": "window.location.reload());\nhistory.go(0);\n\n\n# Solution Code:\nlocation.reload(); =&gt; post request, same as click the refresh button on the browser\nwindow.location=window.location; =&gt; get request\nself.location=self.location; =&gt; get request\n\n\n&lt;%@ Page Language=\"vb\" AutoEventWireup=\"false\" CodeBehind=\"Default.aspx.vb\" Inherits=\"PostMethod_Test._Default\" %&gt;\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\n&lt;head runat=\"server\"&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;form id=\"form1\" runat=\"server\"&gt;\n&lt;div&gt;\n&lt;asp:Literal ID=\"litJavascript\" runat=\"server\"&gt;&lt;/asp:Literal&gt;\n&lt;div&gt;\nRefresh:\n&lt;div&gt;\nGet/Post Method:&lt;a href=\"javascript:location.reload();\"&gt;JS Location Reload&lt;/a&gt; (if\nthere is any control in the form then after the form was submitted for the first\ntime, if you click this, it will be a post method coming with the IE alert)\n&lt;/div&gt;\n&lt;div&gt;\nGet Method:&lt;a href=\"javascript:window.location=window.location;\"&gt;JS Window Location&lt;/a&gt;\n(does not create a history entry) (if there is any control in the form then after\nthe form was submitted for the first time, if you click this, it will still be a\nget method which means the form will not be submitted again)\n&lt;/div&gt;\n&lt;div&gt;\nGet Method:&lt;a href=\"javascript:self.location=self.location;\"&gt;JS Self Location&lt;/a&gt;\n(Same as above)\n&lt;/div&gt;\n&lt;div&gt;\nGet/Post Method: IE Refresh button - same as location.reload()\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;hr /&gt;\n&lt;div&gt;\nOpen New Window:\n&lt;div&gt;\nNo Method:&lt;a href=\"javascript:var a = window.open('webform1.aspx');\"&gt;JS Window Open&lt;/a&gt;\n(just open)\n&lt;/div&gt;\n&lt;div&gt;\nPost Method for parent page:&lt;asp:Button ID=\"btnOpen\" Text=\"Open Window\" runat=\"server\"     /&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n",
    "resolution": "In javascript you can use: location.reload(); => post request, same as click the refresh button on the browser window.location=window.location; => get request self.location=self.location; => get request If you get an IE error saying 'To display the webpage again, Internet Explorer needs to resend the information you've previously submitted', you can use window.location=window.location; to refresh the page instead of location.reload(); Implementation: <%@ Page Language=\"vb\" AutoEventWireup=\"false\" CodeBehind=\"Default.aspx.vb\" Inherits=\"PostMethod_Test._Default\" %> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"> <html xmlns=\"http://www.w3.org/1999/xhtml\"> <head runat=\"server\"> <title></title> </head> <body> <form id=\"form1\" runat=\"server\"> <div> <asp:Literal ID=\"litJavascript\" runat=\"server\"></asp:Literal> <div> Refresh: <div> Get/Post Method:<a href=\"javascript:location.reload();\">JS Location Reload</a> (if there is any control in the form then after the form was submitted for the first time, if you click this, it will be a post method coming with the IE alert) </div> <div> Get Method:<a href=\"javascript:window.location=window.location;\">JS Window Location</a> (does not create a history entry) (if there is any control in the form then after the form was submitted for the first time, if you click this, it will still be a get method which means the form will not be submitted again) </div> <div> Get Method:<a href=\"javascript:self.location=self.location;\">JS Self Location</a> (Same as above) </div> <div> Get/Post Method: IE Refresh button - same as location.reload() </div> </div> <hr /> <div> Open New Window: <div> No Method:<a href=\"javascript:var a = window.open('webform1.aspx');\">JS Window Open</a> (just open) </div> <div> Post Method for parent page:<asp:Button ID=\"btnOpen\" Text=\"Open Window\" runat=\"server\" /> </div> </div> </div> </form> </body> </html>",
    "severity": "high",
    "tags": [
      "javascript",
      "internet-explorer",
      "dom-events",
      "page-refresh"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "11789555",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 21719,
      "stackoverflow_creation_date": "2012-08-03T05:02:16.040Z"
    },
    "idempotency_key": "stackoverflow-11789555",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "XNA Keys number 1",
    "body": "I need to ask when the number 1 key is pressed, NOT on the Numpad, but the number 1 that is over the Q (trying to make this as clear as possible). I've been through all the available keys on the Keys array, but no one matches the one that I am looking for. Is there a way to do this that I'm missing? My code: If (currentKeyboardState.IsKeyDown(Keys.1))",
    "code": "If (currentKeyboardState.IsKeyDown(Keys.1))\n\n\n# Solution Code:\nif (keyState.IsKeyDown(Keys.D4))\n{\nConsole.WriteLine(\"You pressed the 4 key above E and R!\");\n}\n",
    "resolution": "To clarify: Keys.D1 works (e.g. Keys.D[insert number here]). if (keyState.IsKeyDown(Keys.D4)) { Console.WriteLine(\"You pressed the 4 key above E and R!\"); }",
    "severity": "medium",
    "tags": [
      "xna",
      "key"
    ],
    "metadata": {
      "stackoverflow_question_id": "11917126",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4051,
      "stackoverflow_creation_date": "2012-08-11T19:47:09.320Z"
    },
    "idempotency_key": "stackoverflow-11917126",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Access public static final string in mybatis sql in mapper files",
    "body": "I have a sql written in a MyBatis mapper file which is something like this: <select id=\"somesql\"> select a,b,c from tbl_name where d = ? </select> The placeholder value for d is supposed to be a constant declared in a file called Constants.java as: public static final String d = \"d_value\"; How do I replace the placeholder with the value without actually passing a parameter in the <select> construct? I tried #{com.pkg.name.Constants.d} but it didn't work. No hard coding!!!",
    "code": "&lt;select id=\"somesql\"&gt;\n   select a,b,c from tbl_name where d = ?\n&lt;/select&gt;\n\n\npublic static final String d = \"d_value\";\n\n\nd\n\nConstants.java\n\n&lt;select&gt;\n\n#{com.pkg.name.Constants.d}\n\n# Solution Code:\ngetParameterObject\n\nsetParameters",
    "resolution": "With the out of the box behavior of MyBatis, as far as I know, you can't. You could try to write an interceptor for the ParameterHandler and inject the value there but this can't always be possible since you can play only with two methods on the parameter handler: getParameterObject which returns the parameter that was sent to the query (can be a constant, a String, a Map, a custom object or even null as it is the case of your example where you don't send a parameter) setParameters where I guess you could try to set the parameter if you know where it is on the prepared statement (which most of the times you might not). My suggestion is to pass it as parameter to your query. The interceptor features of MyBatis are not very well documented, so you might not get the correct working combination from the start and you can end up with more trouble than it's worth.",
    "severity": "high",
    "tags": [
      "java",
      "sql",
      "parameters",
      "constants",
      "mybatis"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "11948115",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 10715,
      "stackoverflow_creation_date": "2012-08-14T08:00:51.333Z"
    },
    "idempotency_key": "stackoverflow-11948115",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Symfony2 - doctrine:create in Production",
    "body": "When using the command: $ php app/console doctrine:schema:create We get this message ATTENTION: This operation should not be executed in a production environment. Why shouldn't we use it in production ? How should we do the first deployment ?",
    "code": "$ php app/console doctrine:schema:create\n",
    "severity": "medium",
    "tags": [
      "orm",
      "symfony",
      "doctrine-orm",
      "production-environment"
    ],
    "metadata": {
      "stackoverflow_question_id": "11949001",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 3822,
      "stackoverflow_creation_date": "2012-08-14T09:02:13.363Z"
    },
    "idempotency_key": "stackoverflow-11949001",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "openssl_pkey_new() throwing errors -- Proper openssl.cnf setup for php",
    "body": "**Okay, It's become clear that this issue is an issue related with the setup of openssl on the Linux server and how to properly setup a custom openssl.cnf file. I am not looking for anything complicated but I need a front-end to be able to create self-signed client certificates for authentication to my webservice. So I need to be able to use my CA to create intermediate CAs for client companies and then allow them a secure interface to issue client certificates for their employees. Logins are based on whether you belong to a specific intermediate CA and that your certificate or the intermediate CA hasn't be revoked. For anyone wondering, we can use self-signed certificates because they are only used for our server to authenticate users and since we issued them, we trust them. Also it would be way too expensive for a startup to establish themselves as an intermediate CA through the commercial offerings AFAIK. Microsoft can do that, we can't. Our webserver itself uses a CA signed certificate. I know that php code for setting this kind of thing up is straight forward but what isn't is how to properly setup openssl. I have tried several different examples on the net and none of them seem to work for my setup and they all seem to be different. One box was fresh install of Centos 6.2 and I am still getting errors. Can anyone point me in the proper direction for setting up openssl, apache2 and php so that I can use these php libraries without errors? Our virtual server is using debian squeeze and I have full control of software installed. Thanks. open_pkey_new() is returning errors such as error:0E06D06C:configuration file routines:NCONF_get_string:no value. Yet I am passing a path to a openssl.cnf file so I don't know why I'm still getting this problem. Here's my relevent code <?php $cwd=getcwd(); $distname= array( \"countryName\" => \"CA\", \"stateOrProvinceName\" => \"Ontario\", \"localityName\" => \"Toronto\", \"organizationName\" => \"G4 Apps\", \"organizationalUnitName\" => \"Development\", \"commonName\" => \"Mark Lane\", \"emailAddress\" => \"nobody at gmail.com\" ); $password = 'seanix'; $cacert_location=$cwd.\"/certs/CA/g4CA.crt\"; $cakey_location=$cwd.\"/certs/CA/g4CA.key\"; $cnf=$cwd.'/certs/myopenssl.cnf'; $configArgs = array( 'config' =>$cnf ); ?> Here's my function that makes the keys. <?php function makekey($password,$configArgs) { $key= openssl_pkey_new($configArgs); //print_r($configArgs); openssl_pkey_export($key, $pkeyout,$password); if (($e=openssl_error_string()) ==false) return $pkeyout; else { do { echo $e . \"<BR>\"; } while($e=openssl_error_string()); return -1; } } ?> I've tried relative paths too to the configfile and it still won't work. Looks like it might be the host providers ssl setup. I switched to a local virtual machine and I got the key to generate but now I'm getting the same error when creating a csr. error:0E06D06C:configuration file routines:NCONF_get_string:no value <?php function newcsr($distname,$key,$configArgs) { $csr=openssl_csr_new($distname,$key,$configArgs); openssl_csr_export($csr, $csrout); if (($e=openssl_error_string()) ==false) return $csrout; else { do { echo $e . \"<BR>\"; } while($e=openssl_error_string()); return -1; } } ?> openssl.conf This looks to be an error in openssl.cnf so I've included the file. HOME = . RANDFILE = $ENV::HOME/.rnd oid_section = new_oids [ new_oids ] tsa_policy1 = 1.2.3.4.1 tsa_policy2 = 1.2.3.4.5.6 tsa_policy3 = 1.2.3.4.5.7 #################################################################### [ ca ] default_ca = g4CA #################################################################### [ g4CA ] dir = /home/g4apps/secure.g4apps.com/generator/certs certs = $dir/ crl_dir = $dir/crl database = $dir/index.txt new_certs_dir = $dir/newcerts certificate = $dir/CA/g4CA.crt serial = $dir/serial crlnumber = $dir/crlnumber crl = $dir/CA/g4CA.crl private_key = $dir/CA/g4CA.key RANDFILE = $dir/private/.rand x509_extensions = usr_cert name_opt = ca_default cert_opt = ca_default default_days = 365 # how long to certify for default_crl_days= 30 # how long before next CRL default_md = default # use public key default MD preserve = no # keep passed DN ordering policy = policy_match [ policy_match ] countryName = match stateOrProvinceName = match organizationName = match organizationalUnitName = optional commonName = supplied emailAddress = optional [ policy_anything ] countryName = optional stateOrProvinceName = optional localityName = optional organizationName = optional organizationalUnitName = optional commonName = supplied emailAddress = optional #################################################################### [ req ] default_bits = 2048 default_md = md5 default_keyfile = privkey.pem distinguished_name = req_distinguished_name attributes = req_attributes x509_extensions = v3_ca # The extentions to add to the self signed cert string_mask = utf8only [ req_distinguished_name ] countryName = Country Name (2 letter code) countryName_default = CA countryName_min = 2 countryName_max = 2 stateOrProvinceName = State or Province Name (full name) stateOrProvinceName_default = ON localityName = Locality Name (eg, city) localityName_default = Toronto 0.organizationName = Organization Name (eg, company) 0.organizationName_default = G4 Apps organizationalUnitName = Organizational Unit Name (eg, section) commonName = Common Name (eg, your name or your server\\'s hostname) commonName_max = 64 emailAddress = Email Address emailAddress_default = lmlane@gmail.com emailAddress_max = 64 [ req_attributes ] challengePassword = A challenge password challengePassword_min = 4 challengePassword_max = 20 unstructuredName = An optional company name [ usr_cert ] nsComment = \"OpenSSL Generated Certificate\" subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer [ v3_req ] basicConstraints = CA:FALSE keyUsage = nonRepudiation, digitalSignature, keyEncipherment [ v3_ca ] subjectKeyIdentifier=hash authorityKeyIdentifier=keyid:always,issuer basicConstraints = CA:true [ crl_ext ] authorityKeyIdentifier=keyid:always [ proxy_cert_ext ] basicConstraints=CA:FALSE nsComment = \"OpenSSL Generated Certificate\" subjectKeyIdentifier=hash authorityKeyIdentifier=keyid,issuer proxyCertInfo=critical,language:id-ppl-anyLanguage,pathlen:3,policy:foo #################################################################### [ tsa ] default_tsa = tsa_config1 [ tsa_config1 ] dir = ./demoCA serial = $dir/tsaserial crypto_device = builtin signer_cert = $dir/tsacert.pem certs = $dir/cacert.pem signer_key = $dir/private/tsakey.pem default_policy = tsa_policy1 other_policies = tsa_policy2, tsa_policy3 digests = md5, sha1 accuracy = secs:1, millisecs:500, microsecs:100 clock_precision_digits = 0 ordering = yes tsa_name = yes ess_cert_id_chain = no Stack trace strace php getkeystore.php &> stack.trace http://secure.g4apps.com/generator/stack.trace",
    "code": "&lt;?php\n$cwd=getcwd();\n$distname= array(\n    \"countryName\" =&gt; \"CA\",\n    \"stateOrProvinceName\" =&gt; \"Ontario\",\n    \"localityName\" =&gt; \"Toronto\",\n    \"organizationName\" =&gt; \"G4 Apps\",\n    \"organizationalUnitName\" =&gt; \"Development\",\n    \"commonName\" =&gt; \"Mark Lane\",\n    \"emailAddress\" =&gt; \"nobody at gmail.com\"\n        );\n$password = 'seanix';\n\n$cacert_location=$cwd.\"/certs/CA/g4CA.crt\";\n$cakey_location=$cwd.\"/certs/CA/g4CA.key\";\n$cnf=$cwd.'/certs/myopenssl.cnf';\n$configArgs = array(\n        'config' =&gt;$cnf\n);\n?&gt;\n\n\n&lt;?php\nfunction makekey($password,$configArgs) {\n    $key= openssl_pkey_new($configArgs);\n    //print_r($configArgs);\n    openssl_pkey_export($key, $pkeyout,$password);\n    if (($e=openssl_error_string()) ==false) return $pkeyout;\n    else {\n        do {\n\n            echo $e . \"&lt;BR&gt;\";\n        } while($e=openssl_error_string());\n        return -1;\n    }\n}\n?&gt;\n\n\n&lt;?php\nfunction newcsr($distname,$key,$configArgs) {\n    $csr=openssl_csr_new($distname,$key,$configArgs);\n    openssl_csr_export($csr, $csrout);\n    if (($e=openssl_error_string()) ==false) return $csrout;\n    else {\n        do {\n\n            echo $e . \"&lt;BR&gt;\";\n        } while($e=openssl_error_string());\n        return -1;\n    }\n}\n?&gt;\n\n\nHOME            = .\nRANDFILE        = $ENV::HOME/.rnd\n\noid_section     = new_oids\n\n\n[ new_oids ]\n\n\ntsa_policy1 = 1.2.3.4.1\ntsa_policy2 = 1.2.3.4.5.6\ntsa_policy3 = 1.2.3.4.5.7\n\n####################################################################\n[ ca ]\ndefault_ca  = g4CA      \n\n####################################################################\n[ g4CA ]\n\ndir     = /home/g4apps/secure.g4apps.com/generator/certs    \ncerts       = $dir/     \ncrl_dir     = $dir/crl      \ndatabase    = $dir/index.txt    \n\n\nnew_certs_dir   = $dir/newcerts     \n\ncertificate = $dir/CA/g4CA.crt  \nserial      = $dir/serial       \ncrlnumber   = $dir/crlnumber    \n\ncrl     = $dir/CA/g4CA.crl  \nprivate_key = $dir/CA/g4CA.key  \nRANDFILE    = $dir/private/.rand    \n\nx509_extensions = usr_cert      \n\nname_opt    = ca_default        \ncert_opt    = ca_default        \n\n\ndefault_days    = 365           # how long to certify for\ndefault_crl_days= 30            # how long before next CRL\ndefault_md  = default       # use public key default MD\npreserve    = no            # keep passed DN ordering\n\npolicy      = policy_match\n\n\n[ policy_match ]\ncountryName     = match\nstateOrProvinceName = match\norganizationName    = match\norganizationalUnitName  = optional\ncommonName      = supplied\nemailAddress        = optional\n\n[ policy_anything ]\ncountryName     = optional\nstateOrProvinceName = optional\nlocalityName        = optional\norganizationName    = optional\norganizationalUnitName  = optional\ncommonName      = supplied\nemailAddress        = optional\n\n####################################################################\n[ req ]\ndefault_bits        = 2048\ndefault_md      = md5\ndefault_keyfile     = privkey.pem\ndistinguished_name  = req_distinguished_name\nattributes      = req_attributes\nx509_extensions = v3_ca # The extentions to add to the self signed cert\n\nstring_mask = utf8only\n\n[ req_distinguished_name ]\ncountryName         = Country Name (2 letter code)\ncountryName_default     = CA\ncountryName_min         = 2\ncountryName_max         = 2\n\nstateOrProvinceName     = State or Province Name (full name)\nstateOrProvinceName_default = ON\n\nlocalityName            = Locality Name (eg, city)\nlocalityName_default    = Toronto\n\n0.organizationName      = Organization Name (eg, company)\n0.organizationName_default  = G4 Apps\n\n\n\norganizationalUnitName      = Organizational Unit Name (eg, section)\n\ncommonName          = Common Name (eg, your name or your server\\'s hostname)\ncommonName_max          = 64\n\nemailAddress            = Email Address\nemailAddress_default        = lmlane@gmail.com\nemailAddress_max        = 64\n\n\n[ req_attributes ]\nchallengePassword       = A challenge password\nchallengePassword_min       = 4\nchallengePassword_max       = 20\n\nunstructuredName        = An optional company name\n\n[ usr_cert ]\n\nnsComment           = \"OpenSSL Generated Certificate\"\n\nsubjectKeyIdentifier=hash\nauthorityKeyIdentifier=keyid,issuer\n\n\n\n[ v3_req ]\n\n\nbasicConstraints = CA:FALSE\nkeyUsage = nonRepudiation, digitalSignature, keyEncipherment\n\n[ v3_ca ]\n\n\nsubjectKeyIdentifier=hash\n\nauthorityKeyIdentifier=keyid:always,issuer\nbasicConstraints = CA:true\n\n\n[ crl_ext ]\n\nauthorityKeyIdentifier=keyid:always\n\n[ proxy_cert_ext ]\nbasicConstraints=CA:FALSE\n\nnsComment           = \"OpenSSL Generated Certificate\"\n\nsubjectKeyIdentifier=hash\nauthorityKeyIdentifier=keyid,issuer\n\nproxyCertInfo=critical,language:id-ppl-anyLanguage,pathlen:3,policy:foo\n\n####################################################################\n[ tsa ]\n\ndefault_tsa = tsa_config1   \n\n[ tsa_config1 ]\n\ndir             = ./demoCA      \nserial      = $dir/tsaserial    \ncrypto_device   = builtin       \nsigner_cert = $dir/tsacert.pem  \n\ncerts       = $dir/cacert.pem   \nsigner_key  = $dir/private/tsakey.pem \ndefault_policy  = tsa_policy1       \nother_policies  = tsa_policy2, tsa_policy3\ndigests     = md5, sha1     \naccuracy    = secs:1, millisecs:500, microsecs:100  \nclock_precision_digits  = 0 \nordering        = yes   \n\ntsa_name        = yes   \ness_cert_id_chain   = no    \n\n\nstrace php getkeystore.php &amp;&gt; stack.trace\n\n# Solution Code:\n$res = openssl_pkey_new();\nopenssl_pkey_export($res, $privkey);\nvar_dump(openssl_error_string());\nvar_dump($privkey);\n\n\nstring(68) \"error:0E06D06C:configuration file routines:NCONF_get_string:no value\"\nstring(887) \"-----BEGIN RSA PRIVATE KEY-----\nMIICXQIBAAKBgQDdh4FiOEtUZzvTSnlb/pJHjmsS9rOHQ7PU2WOO6ZHxYRIgK1NR\nReY7bBwEsT2ziUpx0b8K2Fx4m+XovzysB/lVrKbrdbHoVtGuJGZjYSXgFlCRTBu+\n+TnAPUBF0LGJfxfVzjOkHzsh02lH3fvzFpFgRZRWs4za+vVzIweeOweYTwIDAQAB\nAoGANZD5iS2BkZQw1COS+tqwtlrKq1g6CwAk8NfsCfeSkaJeRqcTS3iydjXrBHtz\nJwGQnbsRDedJXOSdkE0Ft7dp44lijOAp1ngMDCKbabxVN2Go6b1d743HE0oIhFCC\nDv2B9kf9vzeYy+0/BVCs5i4iPoKXJJTSJrWoDxrFEJWSJIkCQQDwe39bOFHmQlxz\npbfT3DZ8Q311xFo6PewcAf7DTsikoPZANx0GQ41WdZj6/n4QVP4k+TnhZLiJzsH+\np3RUrx8tAkEA69LsgPrQMZ0YjsE2vjRLdJmp1916G1xqSLIVWDUPd9Ns+MA8YKTx\nAQxC3dl3n+w24m7UlCThANlU/+2r0eoi6wJBAKIxGOdEJ/Cdp08UYNRR/Kl4t2A7\nSwNnChylt9awByEJsqwCv9+epe+/Jqt6AzouqK31LXV4AgJn4W1IMWyAJA0CQCp0\n6/2AqnD0PpKc+JUf5yHT9H8Xsb8xUTVLUopx6xoAp5LVUUl5CKbOpU85ss7JAUyc\n9YrCZPv5JNN6379ILwcCQQDDcjtNnhQHukQQQ8iVL9YCrWzyCgplTz3uktueT+Dd\nSDK1bCM4xDehfG3RKu1ZNx80Q0nzmi7FSPJ2md7qSIHc\n-----END RSA PRIVATE KEY-----\n\"\n",
    "resolution": "I tried this on my Mac and a fresh install of CentOS 6.3 and I'm getting the same error. I get my CentOS packages from IUS. It's weird though because even though I'm getting this message, the key is actually being generated. The following code: $res = openssl_pkey_new(); openssl_pkey_export($res, $privkey); var_dump(openssl_error_string()); var_dump($privkey); Gives me the following output: string(68) \"error:0E06D06C:configuration file routines:NCONF_get_string:no value\" string(887) \"-----BEGIN RSA PRIVATE KEY----- MIICXQIBAAKBgQDdh4FiOEtUZzvTSnlb/pJHjmsS9rOHQ7PU2WOO6ZHxYRIgK1NR ReY7bBwEsT2ziUpx0b8K2Fx4m+XovzysB/lVrKbrdbHoVtGuJGZjYSXgFlCRTBu+ +TnAPUBF0LGJfxfVzjOkHzsh02lH3fvzFpFgRZRWs4za+vVzIweeOweYTwIDAQAB AoGANZD5iS2BkZQw1COS+tqwtlrKq1g6CwAk8NfsCfeSkaJeRqcTS3iydjXrBHtz JwGQnbsRDedJXOSdkE0Ft7dp44lijOAp1ngMDCKbabxVN2Go6b1d743HE0oIhFCC Dv2B9kf9vzeYy+0/BVCs5i4iPoKXJJTSJrWoDxrFEJWSJIkCQQDwe39bOFHmQlxz pbfT3DZ8Q311xFo6PewcAf7DTsikoPZANx0GQ41WdZj6/n4QVP4k+TnhZLiJzsH+ p3RUrx8tAkEA69LsgPrQMZ0YjsE2vjRLdJmp1916G1xqSLIVWDUPd9Ns+MA8YKTx AQxC3dl3n+w24m7UlCThANlU/+2r0eoi6wJBAKIxGOdEJ/Cdp08UYNRR/Kl4t2A7 SwNnChylt9awByEJsqwCv9+epe+/Jqt6AzouqK31LXV4AgJn4W1IMWyAJA0CQCp0 6/2AqnD0PpKc+JUf5yHT9H8Xsb8xUTVLUopx6xoAp5LVUUl5CKbOpU85ss7JAUyc 9YrCZPv5JNN6379ILwcCQQDDcjtNnhQHukQQQ8iVL9YCrWzyCgplTz3uktueT+Dd SDK1bCM4xDehfG3RKu1ZNx80Q0nzmi7FSPJ2md7qSIHc -----END RSA PRIVATE KEY----- \" I suspect it being a bug in PHP. Some sort of openssl configuration PHP is getting hung up on. I found a bug report about this on php.net, but it \"started working\" for the user so the bug was closed. As an alternative, you can check out phpseclib, a library purely written in PHP.",
    "severity": "high",
    "tags": [
      "php",
      "openssl",
      "private-key"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "12060865",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 17566,
      "stackoverflow_creation_date": "2012-08-21T18:26:46.523Z"
    },
    "idempotency_key": "stackoverflow-12060865",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "php determine if a variable is an open file handle",
    "body": "i am currently using is_resource()to determine whether a variable is an open file handle. Is this correct or is there an alternative (better) way to do this?",
    "code": "is_resource()\n\n# Solution Code:\nget_resource_type",
    "resolution": "That can give you a lot of false positives, like for example database resources. You should use get_resource_type instead.",
    "severity": "medium",
    "tags": [
      "php"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "12078187",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 6385,
      "stackoverflow_creation_date": "2012-08-22T17:13:36.700Z"
    },
    "idempotency_key": "stackoverflow-12078187",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Django - \"Include\" a block in several templates? Template tag? Something else?",
    "body": "I have a little statistics block that I want to be available in several places: the profile page of a user, and a search page with a list of users. What would be the best way to proceed in repeating this block? I come from a PHP background, and in PHP it would be a simple include with passing some simple arguments. In django, I basically want to be able to call something like : {% stats_block user %} Where user is the object containing all the user info. I was thinking about a simple template tag, but the block is pretty big and I don't want to put eveything in one line in the template tag. Thanks a lot!",
    "code": " {% stats_block user %}\n\n\n# Solution Code:\n{% include \"name_snippet.html\" with person=\"Jane\" greeting=\"Hello\" %}\n\n\n&lt;html&gt;\n...\n    &lt;div id=\"user-block\"&gt;\n        {% if request.user.is_authenticated %}\n            hello {{ request.user }}\n        {% else %}\n            &lt;a href=\"{% url acct_signup %}\"&gt;Sign up!&lt;/a&gt;\n        {% endif %}\n    &lt;/div&gt;\n ...\n    &lt;div id=\"body\"&gt;\n        {% block body %}\n        {% endblock %}\n    &lt;/div&gt;\n ...\n &lt;/html&gt;\n\n\n{% extends 'base.html' %}\n\n{% block body %}\n    Contact use: foo@example.com\n{% endblock %}\n",
    "resolution": "include template tag You can include templates with arguments: {% include \"name_snippet.html\" with person=\"Jane\" greeting=\"Hello\" %} Template inheritance But the best way to repeat a block in all templates, is to have a base template say base.html: <html> ... <div id=\"user-block\"> {% if request.user.is_authenticated %} hello {{ request.user }} {% else %} <a href=\"{% url acct_signup %}\">Sign up!</a> {% endif %} </div> ... <div id=\"body\"> {% block body %} {% endblock %} </div> ... </html> For example, the contact template could be as simple as: {% extends 'base.html' %} {% block body %} Contact use: foo@example.com {% endblock %} Refer to documentation on template inheritance for more. inclusion_tag Finally, another great option is to make an inclusion_tag, which allows to hook some python context processing before actual template inclusion.",
    "severity": "high",
    "tags": [
      "django",
      "block",
      "django-templates"
    ],
    "metadata": {
      "framework": "django",
      "stackoverflow_question_id": "12142891",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 19133,
      "stackoverflow_creation_date": "2012-08-27T13:25:27.607Z"
    },
    "idempotency_key": "stackoverflow-12142891",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android listview disappears after screen rotation",
    "body": "On my layout, I have some buttons tho make some choices and then one button to perform a query to a database. The result of this query is shown in a ListView inside this layout. The problem is if after I perform the query I rotate the screen, the ListView disappears and have to perform the query again. I believe that this is happening because the activity restarts. Following the suggestions here I've added to my activity in the manifest android:configChanges=\"orientation|keyboardHidden\" and in my code added: @Override public void onConfigurationChanged(Configuration newConfig) { super.onConfigurationChanged(newConfig); setContentView(R.layout.mylayout); } But this is not working. Here is the complete code of my activity: public class MyClass extends ListActivity implements OnClickListener, OnCheckedChangeListener { @Override protected void onCreate(Bundle savedInstanceState) { // TODO Auto-generated method stub super.onCreate(savedInstanceState); setContentView(R.layout.mylayout); // Creates the buttons and setOnClickListener and setOnCheckedChangeListener } @Override public void onClick(View v) { // Manages the buttons and their functions @Override public void onCheckedChanged(RadioGroup group, int checkedId) { // See what group in radio group is checked } @Override protected void onListItemClick(ListView l, View v, int position, long id) { // After pressing one button, a query is made and a listview is shown. // This it to handle the user choice after he clicks an item on the listview } @Override public void onConfigurationChanged(Configuration newConfig) { super.onConfigurationChanged(newConfig); setContentView(R.layout.mylayout); } } This is strange because I have some other activity like this: public class AtoZ extends ListActivity { @Override protected void onCreate(Bundle savedInstanceState) { // TODO Auto-generated method stub super.onCreate(savedInstanceState); setContentView(R.layout.atoz); } @Override protected void onListItemClick(ListView l, View v, int position, long id) { // TODO Auto-generated method stub super.onListItemClick(l, v, position, id); } } This also performs a query to the database, shows it on a ListView and then handles the user choice. If I rotate the screen, ListView still shows. What can I do?",
    "code": "    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n      super.onConfigurationChanged(newConfig);\n      setContentView(R.layout.mylayout);\n\n    }\n\n\npublic class MyClass extends ListActivity implements OnClickListener, OnCheckedChangeListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.mylayout);\n\n        // Creates the buttons and setOnClickListener and setOnCheckedChangeListener\n    }\n\n    @Override\n    public void onClick(View v) {\n\n        // Manages the buttons and their functions\n\n    @Override\n    public void onCheckedChanged(RadioGroup group, int checkedId) {\n        // See what group in radio group is checked\n    }\n\n    @Override\n    protected void onListItemClick(ListView l, View v, int position, long id) {\n        // After pressing one button, a query is made and a listview is shown. \n        // This it to handle the user choice after he clicks an item on the listview\n\n    }\n\n    @Override\n    public void onConfigurationChanged(Configuration newConfig) {\n      super.onConfigurationChanged(newConfig);\n      setContentView(R.layout.mylayout);\n\n    }\n}\n\n\npublic class AtoZ extends ListActivity {\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        // TODO Auto-generated method stub\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.atoz);\n\n\n\n    }\n\n    @Override\n    protected void onListItemClick(ListView l, View v, int position, long id) {\n        // TODO Auto-generated method stub\n        super.onListItemClick(l, v, position, id);\n\n    }\n\n}   \n\n\nListView\n\nListView\n\nandroid:configChanges=\"orientation|keyboardHidden\"\n\nListView\n\nListView\n\n# Solution Code:\n&lt;activity\n...\n...\nandroid:configChanges=\"orientation|screenSize|keyboard\"&gt;\n&lt;/activity\n",
    "resolution": "Use configChanges in your activity under manifest file. <activity ... ... android:configChanges=\"orientation|screenSize|keyboard\"> </activity This worked for me.",
    "severity": "high",
    "tags": [
      "android",
      "listview",
      "android-activity"
    ],
    "metadata": {
      "stackoverflow_question_id": "12176179",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 17754,
      "stackoverflow_creation_date": "2012-08-29T10:45:48.993Z"
    },
    "idempotency_key": "stackoverflow-12176179",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to skip text insertion point to the next column using iText?",
    "body": "I'm creating the 3 columns layout with iText java lib. The biggest problem is that, that the text in the first column could be less than in the second column or third or less in the second column than third column. So I need to move the insertion point to the next column. I tried to use nextColumn method which should move insertion point to the next column but it moves all columns to the right side. Maybe anyone had the same issue and know how to do it right? Thanks for answers! The image below shows what I want it. UPDATE: Ok I'll try to rephrase the question. Here is the code how I declare 3 columns: MultiColumnText columnsFooter = new MultiColumnText(210f); columnsFooter.addRegularColumns(document.left() - 10f, document.right(), 0, 3); columnsFooter.setAlignment(Element.ALIGN_CENTER); I have 3 columns with headers and some text in each column. The text depends on how much text the user entered today. If the user filled the text limit is OK because the first column is filled and second text goes to second column (second text starts from second column). But if the user don't fill the text limit on the first column or second column the next starts writing from the column which are not fully filled up. I.e. This is okay because the first and the second columns are fully filled up. This is bad because the first column are not fully filled up and second column text starts from the first column. So I need to add column break before HEADER 2 and 3 to get a good layout structure if the text are not fully filled up.",
    "code": "MultiColumnText columnsFooter = new MultiColumnText(210f);\ncolumnsFooter.addRegularColumns(document.left() - 10f,\n    document.right(), 0, 3);\ncolumnsFooter.setAlignment(Element.ALIGN_CENTER);\n\n\n# Solution Code:\n    import java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport com.itextpdf.text.Document;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.PageSize;\nimport com.itextpdf.text.Paragraph;\nimport com.itextpdf.text.pdf.ColumnText;\nimport com.itextpdf.text.pdf.PdfWriter;\n\n\npublic class ColumnTextExample {\n\n\n    /** Definition of four columns */\n    public static final float[][] COLUMNS = {\n        { 36, 36, 224, 579 } , { 230, 36, 418, 579 },\n        { 424, 36, 612, 579 } , { 618, 36, 806, 579 }\n    };\n\n    public static final String ARTICLE1 = \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\";\n    public static final String ARTICLE2 = ARTICLE1 + \" \" + ARTICLE1 + \" \" + ARTICLE1;\n    public static final String ARTICLE3 = ARTICLE1 + \" \" + ARTICLE1;\npublic static final String[] ARTICLES = { \"HEADER 1\\n\" + ARTICLE1, \"HEADER 2\\n\" + ARTICLE2, \"HEADER 3\\n\" + ARTICLE3, \"HEADER 4\\n\" + ARTICLE1, \"HEADER 5\\n\" + ARTICLE3 };\n\n    public static void main(String[] args) throws IOException, DocumentException {\n        // step 1\n        Document document = new Document(PageSize.A4.rotate());\n        // step 2\n        PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"columns.pdf\"));\n        // step 3\n        document.open();\n        // step 4\n        ColumnText ct = new ColumnText(writer.getDirectContent());\n        int column = 0;\n        ct.setSimpleColumn(\n            COLUMNS[column][0], COLUMNS[column][1],\n            COLUMNS[column][2], COLUMNS[column][3]);\n        int status = ColumnText.START_COLUMN;\n        for (String article : ARTICLES) {\n            ct.addElement(new Paragraph(article));\n            status = ct.go();\n            while (ColumnText.hasMoreText(status)) {\n                column = nextColumn(document, column, ct);\n                status = ct.go();\n            }\n            column = nextColumn(document, column, ct);\n        }\n        // step 5\n        document.close();\n    }\n\n    public static int nextColumn(Document document, int column, ColumnText ct) {\n        column = (column + 1) % 4;\n        if (column == 0)\n            document.newPage();\n        ct.setSimpleColumn(\n                COLUMNS[column][0], COLUMNS[column][1],\n                COLUMNS[column][2], COLUMNS[column][3]);\n        return column;\n    }\n}\n",
    "resolution": "Can you rephrase the question? Because I don't understand it. What is an insertion point? I wrote the book about iText, and I can do pretty much anything I want to do with ColumnText, so it may be in your interest to clarify what you want. The question is still unclear, but the picture says a thousand words. I've made you an example with 4 columns and 5 articles: import java.io.FileOutputStream; import java.io.IOException; import com.itextpdf.text.Document; import com.itextpdf.text.DocumentException; import com.itextpdf.text.PageSize; import com.itextpdf.text.Paragraph; import com.itextpdf.text.pdf.ColumnText; import com.itextpdf.text.pdf.PdfWriter; public class ColumnTextExample { /** Definition of four columns */ public static final float[][] COLUMNS = { { 36, 36, 224, 579 } , { 230, 36, 418, 579 }, { 424, 36, 612, 579 } , { 618, 36, 806, 579 } }; public static final String ARTICLE1 = \"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.\"; public static final String ARTICLE2 = ARTICLE1 + \" \" + ARTICLE1 + \" \" + ARTICLE1; public static final String ARTICLE3 = ARTICLE1 + \" \" + ARTICLE1; public static final String[] ARTICLES = { \"HEADER 1\\n\" + ARTICLE1, \"HEADER 2\\n\" + ARTICLE2, \"HEADER 3\\n\" + ARTICLE3, \"HEADER 4\\n\" + ARTICLE1, \"HEADER 5\\n\" + ARTICLE3 }; public static void main(String[] args) throws IOException, DocumentException { // step 1 Document document = new Document(PageSize.A4.rotate()); // step 2 PdfWriter writer = PdfWriter.getInstance(document, new FileOutputStream(\"columns.pdf\")); // step 3 document.open(); // step 4 ColumnText ct = new ColumnText(writer.getDirectContent()); int column = 0; ct.setSimpleColumn( COLUMNS[column][0], COLUMNS[column][1], COLUMNS[column][2], COLUMNS[column][3]); int status = ColumnText.START_COLUMN; for (String article : ARTICLES) { ct.addElement(new Paragraph(article)); status = ct.go(); while (ColumnText.hasMoreText(status)) { column = nextColumn(document, column, ct); status = ct.go(); } column = nextColumn(document, column, ct); } // step 5 document.close(); } public static int nextColumn(Document document, int column, ColumnText ct) { column = (column + 1) % 4; if (column == 0) document.newPage(); ct.setSimpleColumn( COLUMNS[column][0], COLUMNS[column][1], COLUMNS[column][2], COLUMNS[column][3]); return column; } } The first article fits the first column, leaving half a column open. We skip to the next column for the second article. That doesn't fit the second column: it takes one column and a half. The third article fits the fourth column, but we need to skip to the next page for the fourth article, and so on...",
    "severity": "medium",
    "tags": [
      "java",
      "layout",
      "itext"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "12185423",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1637,
      "stackoverflow_creation_date": "2012-08-29T19:46:20.707Z"
    },
    "idempotency_key": "stackoverflow-12185423",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MVC ASP.NET - Manually authorize someone and persist the authorization via Forms Authentication ",
    "body": "I want the benefits of form authentication in ASP.NET. I want it to persist the authorization for me and such, but there's one thing different about my situation; I want to authenticate against a simple web service (specifically provided by the client). I have my code in place to look at the web place and see if they should be authorized, but how do I set the cookie[?] or authorization flag in ASP.NET that they know the current user is authorized. Basically... if (HttpContext.Current.User.Identity.IsAuthenticated) // we're all good //Other wise... bool success = CheckClientsWebService(string username, string password); if (success) // Somehow tell .NET that they're authorized *Note: This is a fairly simple service that does not deal with groups or roles. Simply checking if a user is okay to view the site.",
    "code": "if (HttpContext.Current.User.Identity.IsAuthenticated)\n// we're all good\n\n//Other wise...\nbool success = CheckClientsWebService(string username, string password);\n\nif (success)\n// Somehow tell .NET that they're authorized\n\n\n# Solution Code:\npublic class SignInViewModel\n{\n    public string Username { get; set; }\n    public string Password { get; set; }\n}\n\n\npublic class SignInController : Controller\n{\n\n    public ActionResult Index()\n    {\n        var model = new SignInViewModel {};\n        return View(model);\n    }\n\n    [HttpPost]\n    public ActionResult Index(SignInViewModel model)\n    {\n        if (model.Username == \"Fred\" &amp;&amp; model.Password == \"Mertz\")\n        {\n            FormsAuthentication.SetAuthCookie(model.Username, false);\n            return RedirectToAction(\"Secure\");\n        }\n        return View(model);\n    }\n\n    [Authorize]\n    public ActionResult Secure(SignInViewModel model)\n    {\n        return View();\n    }\n\n    [Authorize]\n    public ActionResult Logout(SignInViewModel model)\n    {\n        FormsAuthentication.SignOut();\n        return RedirectToAction(\"Index\");\n    }\n\n\n@using (Html.BeginForm()) {\n    &lt;fieldset&gt;\n        &lt;legend&gt;SignInViewModel&lt;/legend&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Username)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Username)\n            @Html.ValidationMessageFor(model =&gt; model.Username)\n        &lt;/div&gt;\n\n        &lt;div class=\"editor-label\"&gt;\n            @Html.LabelFor(model =&gt; model.Password)\n        &lt;/div&gt;\n        &lt;div class=\"editor-field\"&gt;\n            @Html.EditorFor(model =&gt; model.Password)\n            @Html.ValidationMessageFor(model =&gt; model.Password)\n        &lt;/div&gt;\n\n        &lt;p&gt;\n            &lt;input type=\"submit\" value=\"Login\" /&gt;\n        &lt;/p&gt;\n    &lt;/fieldset&gt;\n}\n\n\n&lt;h2&gt;Secure&lt;/h2&gt;\n@Html.ActionLink(\"Logout\", \"Logout\")\n",
    "resolution": "In forms authentication isn't the proof of who you are in th forms authentication cookie.? With that in mind couldn't you create the ticket in a custom login form without having to create a custom provider? I would definitely think you could. Do a quick test and create a forms authentication ticket and see if the out of the box membership provider considers the user authenticated. I was curious-- so here is some code.. Model public class SignInViewModel { public string Username { get; set; } public string Password { get; set; } } Controller public class SignInController : Controller { public ActionResult Index() { var model = new SignInViewModel {}; return View(model); } [HttpPost] public ActionResult Index(SignInViewModel model) { if (model.Username == \"Fred\" && model.Password == \"Mertz\") { FormsAuthentication.SetAuthCookie(model.Username, false); return RedirectToAction(\"Secure\"); } return View(model); } [Authorize] public ActionResult Secure(SignInViewModel model) { return View(); } [Authorize] public ActionResult Logout(SignInViewModel model) { FormsAuthentication.SignOut(); return RedirectToAction(\"Index\"); } Index.cshtml @using (Html.BeginForm()) { <fieldset> <legend>SignInViewModel</legend> <div class=\"editor-label\"> @Html.LabelFor(model => model.Username) </div> <div class=\"editor-field\"> @Html.EditorFor(model => model.Username) @Html.ValidationMessageFor(model => model.Username) </div> <div class=\"editor-label\"> @Html.LabelFor(model => model.Password) </div> <div class=\"editor-field\"> @Html.EditorFor(model => model.Password) @Html.ValidationMessageFor(model => model.Password) </div> <p> <input type=\"submit\" value=\"Login\" /> </p> </fieldset> } Secure.cshtml <h2>Secure</h2> @Html.ActionLink(\"Logout\", \"Logout\")",
    "severity": "high",
    "tags": [
      "asp.net",
      "asp.net-mvc-3",
      "forms-authentication"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "12205229",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 14194,
      "stackoverflow_creation_date": "2012-08-30T20:47:02.203Z"
    },
    "idempotency_key": "stackoverflow-12205229",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Accessing spring bean from logging appender class",
    "body": "I have log4j DailyRollingFileAppender class in which setFile() method I need to check database value to decide which file to used for logging. DailyRollingFileAppender class public void setFileName() { isLoginEnabled = authenticationManager.checkLoginLogging(); } Here 'authenticationManager' is object of class used to make database call using spring dependency injection feature. spring-beans.xml <bean id=\"dailyRollingFileAppender\" class=\"com.common.util.DailyRollingFileAppender\"> <property name=\"authenticationManager\"> <ref bean=\"authenticationManager\"/> </property> </bean> <bean id=\"authenticationManager\" class=\"com.security.impl.AuthenticationManagerImpl\"> <property name=\"userService\"> <ref bean=\"userService\"/> </property> </bean> Now when I start my application log4j gets initiated first and since spring-beans is yet to invoked it throws NullPointerException in method setFileName(). So is there a way I can make call to 'authenticationManager.checkLoginLogging();' from DailyFileAppender class so that when log4j loads it should able to get database value?",
    "code": "DailyRollingFileAppender class \n\npublic void setFileName()\n{\n    isLoginEnabled = authenticationManager.checkLoginLogging();\n}\n\n\nspring-beans.xml\n&lt;bean id=\"dailyRollingFileAppender\" class=\"com.common.util.DailyRollingFileAppender\"&gt;\n &lt;property name=\"authenticationManager\"&gt;\n     &lt;ref bean=\"authenticationManager\"/&gt;\n &lt;/property&gt;\n&lt;/bean&gt;\n\n&lt;bean id=\"authenticationManager\" class=\"com.security.impl.AuthenticationManagerImpl\"&gt;\n    &lt;property name=\"userService\"&gt;\n        &lt;ref bean=\"userService\"/&gt;\n&lt;/property&gt;\n&lt;/bean&gt;\n\n\n# Solution Code:\n@Component\npublic class SslErrorSecurityAppender extends AppenderSkeleton implements ApplicationContextAware {\n\n    private static SecurityLogger securityLogger;\n\n    @Override\n    protected void append(LoggingEvent event) {\n        securityLogger.log(new SslExceptionSecurityEvent(SecurityEventType.AUTHENTICATION_FAILED, event.getThrowableInformation().getThrowable(), \"Unexpected SSL error\"));\n    }\n\n    @Override\n    public boolean requiresLayout() {\n        return false;\n    }\n\n    @Override\n    public synchronized void close() {\n        this.closed = true;\n    }\n\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) {\n        if (applicationContext.getAutowireCapableBeanFactory().getBean(\"securityLogger\") != null) {\n            securityLogger = (SecurityLogger) applicationContext.getAutowireCapableBeanFactory().getBean(\"securityLogger\");\n        }\n    }\n}\n",
    "resolution": "A few years late, but I hope this is of help to someone. I was after similar functionality - I have a custom appender, and i wanted to use an autowired bean to perform some logging using a service we'd built. By making the appender implement the ApplicationContextAware interface, and making the field that i'd normally autowire static, i'm able to inject the spring-controlled bean into the instance of the appender that log4j has instantiated. @Component public class SslErrorSecurityAppender extends AppenderSkeleton implements ApplicationContextAware { private static SecurityLogger securityLogger; @Override protected void append(LoggingEvent event) { securityLogger.log(new SslExceptionSecurityEvent(SecurityEventType.AUTHENTICATION_FAILED, event.getThrowableInformation().getThrowable(), \"Unexpected SSL error\")); } @Override public boolean requiresLayout() { return false; } @Override public synchronized void close() { this.closed = true; } @Override public void setApplicationContext(ApplicationContext applicationContext) { if (applicationContext.getAutowireCapableBeanFactory().getBean(\"securityLogger\") != null) { securityLogger = (SecurityLogger) applicationContext.getAutowireCapableBeanFactory().getBean(\"securityLogger\"); } } }",
    "severity": "medium",
    "tags": [
      "spring",
      "log4j"
    ],
    "metadata": {
      "framework": "spring",
      "stackoverflow_question_id": "12275171",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 5132,
      "stackoverflow_creation_date": "2012-09-05T05:47:52.017Z"
    },
    "idempotency_key": "stackoverflow-12275171",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Continuous function of CountDownTimer",
    "body": "I am making an app with a function to start a Timer. However I am facing a very serious problem. Now suppose I have stared the timer of 10 minutes using CountDownTimer. After 10 minutes it should give me a beep. Now suppose I have pressed the home button thus making an application go on background. CountDownTimer property is that it continues to countDown, thus after 10 minutes I will get a beep. However this happens if the screen time is not out. If the screen time is out and the screen goes blank/black then the timer still continues but at its finish, nothing in the application runs like app is on pause and once i click any button on mobile to make the mobile active, the application starts running in the background again.. I want to stop this and want the app to run even the screen time is out too. How can this be possible.",
    "code": "Timer\n\n10 minutes\n\nCountDownTimer\n\nCountDownTimer\n\nbeep\n\nscreen time is out\n\n# Solution Code:\nPowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE);\n PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, \"Countdown\");\n wl.acquire();\n\n\n wl.release();\n",
    "resolution": "You will have to get a partial wakelock to keep the CPU running , so that your timer continues to run. Otherwise the device goes to sleep. PowerManager pm = (PowerManager) getSystemService(Context.POWER_SERVICE); PowerManager.WakeLock wl = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, \"Countdown\"); wl.acquire(); In finish you can do a release. wl.release();",
    "severity": "low",
    "tags": [
      "java",
      "android",
      "eclipse"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "12293142",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 445,
      "stackoverflow_creation_date": "2012-09-06T04:50:31.287Z"
    },
    "idempotency_key": "stackoverflow-12293142",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MonoTouch - CGImage from Pointer crashes app - iPhone",
    "body": "I have a method which I use to create a single, large bitmap which I then populate with smaller tile images: private CGBitmapContext ExtractWriteableBitmap( RGBPaletteRecord rgbPalette, double dpi, ChartIndexFile indexFile, RasterChartFile chartFile ) { //CGBitmapContext bitmapImage = null; TileRecord tile; // calc the number of tiles in each plane int tileCountX = indexFile.TileIndexRecords.Max(ti => ti.X); int tileCountY = indexFile.TileIndexRecords.Max(ti => ti.Y); // create the big picture int pixelWidth = (tileCountX + 1) * TileRecord.PixelWidth; int pixelHeight = (tileCountY + 1) * TileRecord.PixelHight; int intDPI = Convert.ToInt32(dpi); intDPI = 8; byte[] sourceArray; RectangleF sourceRect; // create the big picture CGBitmapContext bitmapImage = new CGBitmapContext(IntPtr.Zero, pixelWidth, pixelHeight, intDPI, pixelWidth * 4, CGColorSpace.CreateDeviceRGB(), CGImageAlphaInfo.PremultipliedFirst); //copy the tiles into the big picture int index = 0; foreach (TileIndexRecord tileIndexRecord in indexFile.TileIndexRecords) { // get the tile record tile = chartFile.TileRecords[index]; // extract the byte array for the given palette sourceArray = tile.GetBytes(rgbPalette); unsafe { IntPtr unmanagedPointer = Marshal.AllocHGlobal(sourceArray.Length); Marshal.Copy(sourceArray, 0, unmanagedPointer, sourceArray.Length); // Call unmanaged code CGImage image = new CGImage(unmanagedPointer); Marshal.FreeHGlobal(unmanagedPointer); } sourceRect = new RectangleF(0, 0, TileRecord.PixelWidth, TileRecord.PixelHight); bitmapImage.DrawImage(new RectangleF(0,0,128,128),image); // copy the tile image into the big picture //bitmapImage.WritePixels(sourceRect, sourceArray, TileRecord.Stride, (tileIndexRecord.X * TileRecord.PixelWidth), (tileIndexRecord.Y * TileRecord.PixelHight)); // increment the index index++; } return bitmapImage; } The problem I am having is with the line: CGImage image = new CGImage(unmanagedPointer); When this line runs I get the following stack trace: at (wrapper managed-to-native) MonoTouch.CoreGraphics.CGImage.CGImageRetain (intptr) <IL 0x00023, 0xffffffff> at MonoTouch.CoreGraphics.CGImage..ctor (intptr,bool) [0x00013] in /Developer/MonoTouch/Source/monotouch/src/shared/CoreGraphics/CGImage.cs:104 at MonoTouch.CoreGraphics.CGImage..ctor (intptr) <IL 0x00003, 0x0002b> at Jargoon.Data.Arcs.Loader.ExtractWriteableBitmap (Jargoon.Data.Arcs.Records.RGBPaletteRecord,double,Jargoon.Data.Arcs.Raschts.ChartIndexFile,Jargoon.Data.Arcs.Raschts.RasterChartFile) [0x000db] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Loader.cs:587 at Jargoon.Data.Arcs.Loader.GetHiResImage (Jargoon.Data.Arcs.Records.RGBPaletteRecord) [0x00000] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Loader.cs:362 at ARCSViewer.ARCSViewerViewController.ViewDidLoad () [0x0001c] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/ARCSViewerViewController.cs:36 at (wrapper runtime-invoke) object.runtime_invoke_void__this__ (object,intptr,intptr,intptr) <IL 0x0004e, 0xffffffff> at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr) <IL 0x0009f, 0xffffffff> at MonoTouch.UIKit.UIApplication.Main (string[],string,string) [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29 at ARCSViewer.Application.Main (string[]) [0x00000] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Main.cs:17 at (wrapper runtime-invoke) <Module>.runtime_invoke_void_object (object,intptr,intptr,intptr) <IL 0x00050, 0xffffffff> If I set a breakpoint and step through the code, when I get to the problem line the variables have the following states (Note: This error occurs on the first iteration): unmanagedPointer - 0xa25e00 - System.IntPtr sourceArray - {byte[49152]} - byte[] And on further inspection of the variables they appear to be populated correctly. Can anyone explain whats going on here? I'm new to MonoTouch development but I have experience with iOS and Objective-C so if you need more information just let me know. Thanks in advance, Tysin",
    "code": "private CGBitmapContext ExtractWriteableBitmap( RGBPaletteRecord rgbPalette, double dpi, ChartIndexFile indexFile, RasterChartFile chartFile )\n        {\n            //CGBitmapContext bitmapImage = null;\n            TileRecord tile;\n\n            // calc the number of tiles in each plane\n            int tileCountX = indexFile.TileIndexRecords.Max(ti =&gt; ti.X);\n            int tileCountY = indexFile.TileIndexRecords.Max(ti =&gt; ti.Y);\n\n            // create the big picture\n            int pixelWidth = (tileCountX + 1) * TileRecord.PixelWidth;\n            int pixelHeight = (tileCountY + 1) * TileRecord.PixelHight;\n\n            int intDPI = Convert.ToInt32(dpi);\n            intDPI = 8;\n\n            byte[] sourceArray;\n            RectangleF sourceRect;\n\n            // create the big picture \n            CGBitmapContext bitmapImage = new CGBitmapContext(IntPtr.Zero, pixelWidth, pixelHeight, intDPI, pixelWidth * 4, CGColorSpace.CreateDeviceRGB(), CGImageAlphaInfo.PremultipliedFirst);\n\n            //copy the tiles into the big picture\n            int index = 0;\n            foreach (TileIndexRecord tileIndexRecord in indexFile.TileIndexRecords)\n            {\n                // get the tile record\n                tile = chartFile.TileRecords[index];\n\n                // extract the byte array for the given palette\n                sourceArray = tile.GetBytes(rgbPalette);\n\n                unsafe {\n                    IntPtr unmanagedPointer = Marshal.AllocHGlobal(sourceArray.Length);\n                    Marshal.Copy(sourceArray, 0, unmanagedPointer, sourceArray.Length);\n                    // Call unmanaged code\n                    CGImage image = new CGImage(unmanagedPointer);\n\n                    Marshal.FreeHGlobal(unmanagedPointer);\n                }\n\n                sourceRect = new RectangleF(0, 0, TileRecord.PixelWidth, TileRecord.PixelHight); \n\n                bitmapImage.DrawImage(new RectangleF(0,0,128,128),image);\n\n                // copy the tile image into the big picture\n                //bitmapImage.WritePixels(sourceRect, sourceArray, TileRecord.Stride, (tileIndexRecord.X * TileRecord.PixelWidth), (tileIndexRecord.Y * TileRecord.PixelHight));\n\n                // increment the index\n                index++;\n            }\n            return bitmapImage;\n        }\n\n\nCGImage image = new CGImage(unmanagedPointer);\n\n\nat (wrapper managed-to-native) MonoTouch.CoreGraphics.CGImage.CGImageRetain (intptr) &lt;IL 0x00023, 0xffffffff&gt;\n  at MonoTouch.CoreGraphics.CGImage..ctor (intptr,bool) [0x00013] in /Developer/MonoTouch/Source/monotouch/src/shared/CoreGraphics/CGImage.cs:104\n  at MonoTouch.CoreGraphics.CGImage..ctor (intptr) &lt;IL 0x00003, 0x0002b&gt;\n  at Jargoon.Data.Arcs.Loader.ExtractWriteableBitmap (Jargoon.Data.Arcs.Records.RGBPaletteRecord,double,Jargoon.Data.Arcs.Raschts.ChartIndexFile,Jargoon.Data.Arcs.Raschts.RasterChartFile) [0x000db] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Loader.cs:587\n  at Jargoon.Data.Arcs.Loader.GetHiResImage (Jargoon.Data.Arcs.Records.RGBPaletteRecord) [0x00000] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Loader.cs:362\n  at ARCSViewer.ARCSViewerViewController.ViewDidLoad () [0x0001c] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/ARCSViewerViewController.cs:36\n  at (wrapper runtime-invoke) object.runtime_invoke_void__this__ (object,intptr,intptr,intptr) &lt;IL 0x0004e, 0xffffffff&gt;\n  at (wrapper managed-to-native) MonoTouch.UIKit.UIApplication.UIApplicationMain (int,string[],intptr,intptr) &lt;IL 0x0009f, 0xffffffff&gt;\n  at MonoTouch.UIKit.UIApplication.Main (string[],string,string) [0x00042] in /Developer/MonoTouch/Source/monotouch/src/UIKit/UIApplication.cs:29\n  at ARCSViewer.Application.Main (string[]) [0x00000] in /Users/jacknutkins/Desktop/Jargoon/ARCSViewer/ARCSViewer/Main.cs:17\n  at (wrapper runtime-invoke) &lt;Module&gt;.runtime_invoke_void_object (object,intptr,intptr,intptr) &lt;IL 0x00050, 0xffffffff&gt;\n\n\nunmanagedPointer - 0xa25e00 - System.IntPtr\nsourceArray - {byte[49152]} - byte[] \n\n\n# Solution Code:\nusing (var provider = new CGDataProvider (sourceArray)) {\n    using (var image = new CGImage (width, height, bitsPerComponent, bitsPerPixel, bytesPerRow, colorSpace, bitmapFlags, provider, null, false, intent)) {\n        bitmapImage.Draw (new RectangleF(0,0,128,128),image);\n    }\n}\n\n\nCGImage (IntPtr)",
    "resolution": "The CGImage (IntPtr) constructor is for creating a managed wrapper for an existing ObjectiveC CGImage, not for creating it from bitmap data. I believe you want to do something like this: using (var provider = new CGDataProvider (sourceArray)) { using (var image = new CGImage (width, height, bitsPerComponent, bitsPerPixel, bytesPerRow, colorSpace, bitmapFlags, provider, null, false, intent)) { bitmapImage.Draw (new RectangleF(0,0,128,128),image); } }",
    "severity": "low",
    "tags": [
      "c#",
      "ios",
      "pointers",
      "xamarin.ios",
      "cgimage"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "12296153",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 498,
      "stackoverflow_creation_date": "2012-09-06T08:39:41.680Z"
    },
    "idempotency_key": "stackoverflow-12296153",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "JAVA GC : ParNew (promotion failed) , concurrent mode failure",
    "body": "I have seen sudden spike in my application / platform memory utilization.In the GC verbose logs I have seen below : 1285.946: [GC 1285.946: [**ParNew (promotion failed)**: 353920K-353920K(353920K), 0.8003983 secs]1286.747: [CMS1287.338: [CMS-con current-sweep: 7.902/9.624 secs] [Times: user=96.62 sys=2.35, real=9.62 secs] (**concurrent mode failure**): 2531317K->1161025K(2752512K), 24.8330303 secs] 2860005K->1161025K(3106432K), [CMS Perm : 37117K->3 6905K(62368K)], 25.6341706 secs] [Times: user=26.41 sys=0.05, real=25.63 secs] [ POA RootPOA - rid: 17 oid: 00 17 2E 29 23 33 49 34 25 3E opname: ping - process request ] 1312.367: [GC 1312.367: [ParNew: 314624K->30240K(353920K), 0.0188874 secs] 1475649K->1191266K(3106432K), 0.0194380 secs] [Time s: user=0.40 sys=0.00, real=0.02 secs] 1313.249: [GC 1313.249: [ParNew: 344864K->39296K(353920K), 0.0300220 secs] 1505890K->1201198K(3106432K), 0.0305488 secs] ParNew (promotion failed ),concurrent mode failure : I believe the sudden spike in the memory is visible because of GC failure. Explain and How to resolve this.",
    "code": "1285.946: [GC 1285.946: [**ParNew (promotion failed)**: 353920K-353920K(353920K), 0.8003983 secs]1286.747: [CMS1287.338:\n[CMS-con current-sweep: 7.902/9.624 secs] [Times: user=96.62 sys=2.35,\nreal=9.62 secs]  (**concurrent mode failure**):\n2531317K-&gt;1161025K(2752512K), 24.8330303 secs]\n2860005K-&gt;1161025K(3106432K), [CMS Perm : 37117K-&gt;3 6905K(62368K)],\n25.6341706 secs] [Times: user=26.41 sys=0.05, real=25.63 secs] [ POA RootPOA - rid: 17 oid: 00 17 2E 29 23 33 49 34 25 3E  opname: ping -\nprocess request ]\n1312.367: [GC 1312.367: [ParNew: 314624K-&gt;30240K(353920K), 0.0188874 secs] 1475649K-&gt;1191266K(3106432K), 0.0194380 secs] [Time s: user=0.40\nsys=0.00, real=0.02 secs]\n1313.249: [GC 1313.249: [ParNew: 344864K-&gt;39296K(353920K), 0.0300220 secs] 1505890K-&gt;1201198K(3106432K), 0.0305488 secs]\n\n\nParNew (promotion failed ),concurrent mode failure :",
    "severity": "high",
    "tags": [
      "java",
      "jakarta-ee",
      "memory",
      "garbage-collection"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "12323124",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 19409,
      "stackoverflow_creation_date": "2012-09-07T17:58:54.297Z"
    },
    "idempotency_key": "stackoverflow-12323124",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Variadic functions parameters pass-through",
    "body": "Situation: I'm trying to write a simple fmt.Fprintf wrapper which takes a variable number of arguments. This is the code: func Die(format string, args ...interface{}) { str := fmt.Sprintf(format, args) fmt.Fprintf(os.Stderr, \"%v\\n\", str) os.Exit(1) } Problem: When I call it with Die(\"foo\"), I get the following output (instead of \"foo\"): foo%!(EXTRA []interface {}=[]) Why is there \"%!(EXTRA []interface {}=[])\" after the \"foo\"? What is the correct way to create wrappers around fmt.Fprintf?",
    "code": "func Die(format string, args ...interface{}) {\n    str := fmt.Sprintf(format, args)\n    fmt.Fprintf(os.Stderr, \"%v\\n\", str)\n    os.Exit(1)\n}\n\n\nfmt.Fprintf\n\nDie(\"foo\")\n\nfmt.Fprintf\n\n# Solution Code:\nstr := fmt.Sprintf(format, args...)\n\n\n[]interface{}\n\nargs\n\nfmt.Sprintf\n\n[]interface{}\n\nargs\n\n...",
    "resolution": "Variadic functions receive the arguments as a slice of the type. In this case your function receives a []interface{} named args. When you pass that argument to fmt.Sprintf, you are passing it as a single argument of type []interface{}. What you really want is to pass each value in args as a separate argument (the same way you received them). To do this you must use the ... syntax. str := fmt.Sprintf(format, args...) This is also explained in the Go specification here.",
    "severity": "high",
    "tags": [
      "go",
      "variadic-functions"
    ],
    "metadata": {
      "language": "go",
      "stackoverflow_question_id": "12334697",
      "stackoverflow_score": 51,
      "stackoverflow_view_count": 17040,
      "stackoverflow_creation_date": "2012-09-08T21:36:23.040Z"
    },
    "idempotency_key": "stackoverflow-12334697",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "XPath: Default to 'Node A', select 'Node B' instead if 'Node B' is not empty",
    "body": "I need to create an XPath expression that does the following: Returns the element inside of 'NodeA' by default Returns the element inside of 'NodeB' if it is not empty. Here is some sample XML so that my target structure can be clearly seen (I am using MS InfoPath): <?xml version=\"1.0\" encoding=\"UTF-8\"?><?mso-infoPathSolution solutionVersion=\"1.0.0.10\" productVersion=\"14.0.0\" PIVersion=\"1.0.0.0\" href=\"file:///C:\\Documents%20and%20Settings\\Chris\\Local%20Settings\\Application%20Data\\Microsoft\\InfoPath\\Designer3\\9016384cab6148f6\\manifest.xsf\" ?><?mso-application progid=\"InfoPath.Document\" versionProgid=\"InfoPath.Document.3\"?> <my:myFields xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-09-07T14:19:10\" xmlns:xd=\"http://schemas.microsoft.com/office/infopath/2003\" xml:lang=\"en-us\"> <my:NodeASection> <my:NodeA>2012-09-13</my:NodeA> </my:NodeASection> <my:NodeBSection> <my:NodeBGroup> <my:NodeB>2012-09-14</my:NodeB> </my:NodeBGroup> </my:NodeBSection> </my:myFields> This XPath expression can be used to evaluate NodeB for the existence of text: boolean(//my:NodeB[(text())]) I have heard of the \"Becker Method\" but I'm not sure how that applies when both nodes exist. I'm very new to XPath and appreciate any help that can be offered.",
    "code": "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;?mso-infoPathSolution solutionVersion=\"1.0.0.10\" productVersion=\"14.0.0\" PIVersion=\"1.0.0.0\" href=\"file:///C:\\Documents%20and%20Settings\\Chris\\Local%20Settings\\Application%20Data\\Microsoft\\InfoPath\\Designer3\\9016384cab6148f6\\manifest.xsf\" ?&gt;&lt;?mso-application progid=\"InfoPath.Document\" versionProgid=\"InfoPath.Document.3\"?&gt;\n&lt;my:myFields xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:my=\"http://schemas.microsoft.com/office/infopath/2003/myXSD/2012-09-07T14:19:10\" xmlns:xd=\"http://schemas.microsoft.com/office/infopath/2003\" xml:lang=\"en-us\"&gt;\n&lt;my:NodeASection&gt;\n    &lt;my:NodeA&gt;2012-09-13&lt;/my:NodeA&gt;\n&lt;/my:NodeASection&gt;\n    &lt;my:NodeBSection&gt;\n        &lt;my:NodeBGroup&gt;\n            &lt;my:NodeB&gt;2012-09-14&lt;/my:NodeB&gt;\n        &lt;/my:NodeBGroup&gt;\n    &lt;/my:NodeBSection&gt;\n&lt;/my:myFields&gt;\n\n\nboolean(//my:NodeB[(text())])\n\n# Solution Code:\n//my:NodeB[text()] | //my:NodeA[text() and not(//my:NodeB[text()])]\n\n\n//my:NodeB[text()]/* | //my:NodeA[text() and not(//my:NodeB[text()])]/*\n\n\n/*",
    "resolution": "This XPath expression returns NodeB if it exists (and has text content) and NodeA in the other case: //my:NodeB[text()] | //my:NodeA[text() and not(//my:NodeB[text()])] If you want to get all sub-elements you can append /* after the selected node, like this //my:NodeB[text()]/* | //my:NodeA[text() and not(//my:NodeB[text()])]/*",
    "severity": "medium",
    "tags": [
      "xml",
      "xpath",
      "if-statement",
      "infopath"
    ],
    "metadata": {
      "stackoverflow_question_id": "12370362",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 6303,
      "stackoverflow_creation_date": "2012-09-11T13:02:36.807Z"
    },
    "idempotency_key": "stackoverflow-12370362",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "returning xmlhttp responseText from function as return",
    "body": "im new in javascript and php , my goal is :RETURN string from xmlhttp responseText to a function return value.So i can use it with innerText or innerHTML method. the html code : <script> function loadXMLDoc(myurl){ var xmlhttp; if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest();} else{ xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");} xmlhttp.onreadystatechange=function(){ if (xmlhttp.readyState==4 && xmlhttp.status==200){ xmlhttp.responseText;} } xmlhttp.open(\"GET\",myurl,true); xmlhttp.send(); } </script>",
    "code": "&lt;script&gt;\nfunction loadXMLDoc(myurl){\n    var xmlhttp;\n    if (window.XMLHttpRequest){\n        xmlhttp=new XMLHttpRequest();}\n    else{\n        xmlhttp=new ActiveXObject(\"Microsoft.XMLHTTP\");}\n\n     xmlhttp.onreadystatechange=function(){\n         if (xmlhttp.readyState==4 &amp;&amp; xmlhttp.status==200){\n              xmlhttp.responseText;}\n     }\n\n    xmlhttp.open(\"GET\",myurl,true);\n    xmlhttp.send();\n}\n&lt;/script&gt;\n\n\n# Solution Code:\nfunction loadXMLDoc(myurl, cb) \n{\n   // Fallback to Microsoft.XMLHTTP if XMLHttpRequest does not exist.\n   var xhr = (window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\"));\n\n    xhr.onreadystatechange = function()\n    {\n        if (xhr.readyState == 4 &amp;&amp; xhr.status == 200)\n        {\n            if (typeof cb === 'function') cb(xhr.responseText);\n        }\n    }\n\n   xhr.open(\"GET\", myurl, true);\n   xhr.send();\n\n}\n\n\nloadXMLDoc('/foobar.php', function(responseText) {\n    // do something with the responseText here\n});\n\n\nreturn\n\nloadXMLDoc",
    "resolution": "You can't. Neither runs the code syncronous, nor would you return anything to loadXMLDoc but to the anonymous function which is the onreadystatechange handler. Your best shot is to pass a callback function. function loadXMLDoc(myurl, cb) { // Fallback to Microsoft.XMLHTTP if XMLHttpRequest does not exist. var xhr = (window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject(\"Microsoft.XMLHTTP\")); xhr.onreadystatechange = function() { if (xhr.readyState == 4 && xhr.status == 200) { if (typeof cb === 'function') cb(xhr.responseText); } } xhr.open(\"GET\", myurl, true); xhr.send(); } And then call it like loadXMLDoc('/foobar.php', function(responseText) { // do something with the responseText here });",
    "severity": "high",
    "tags": [
      "javascript",
      "ajax",
      "xmlhttprequest",
      "responsetext"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "12421860",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 49314,
      "stackoverflow_creation_date": "2012-09-14T09:37:08.227Z"
    },
    "idempotency_key": "stackoverflow-12421860",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Casting NULL type when updating multiple rows",
    "body": "I have a problem when I try to update many rows at the same time. Here is the table and query I use (simplified for better reading): table CREATE TABLE foo ( pkid integer, x integer, y integer ) query UPDATE foo SET x=t.x, y=t.y FROM (VALUES (50, 50, 1), (100, 120, 2)) AS t(x, y, pkid) WHERE foo.pkid=t.pkid This query works perfectly, but when I try to execute a query where all x or y values are null, I get an error: query with nulls UPDATE foo SET x=t.x, y=t.y FROM (VALUES (null, 20, 1), (null, 50, 2)) AS t(x, y, pkid) WHERE foo.pkid=t.pkid error ERROR: column \"x\" is of type integer but expression is of type text LINE 1: UPDATE foo SET x=t.x FROM The only way to fix that is to change at least one of the values (null, 20, 1) to (null:int, 50, 2) but I can't do that, since I have a function which generates these \"update multiple rows\" query and it doesn't know anything about the column types. What's the best solution here? Is there any better update query for multiple rows? Is there any function or syntax like AS t(x:gettype(foo.x), y:gettype(foo.y), pkid:gettype(foo.pkid))?",
    "code": "CREATE TABLE foo\n(\n    pkid integer,\n    x integer,\n    y integer\n)\n\n\nUPDATE foo SET x=t.x, y=t.y FROM\n(VALUES (50, 50, 1),\n        (100, 120, 2))\nAS t(x, y, pkid) WHERE foo.pkid=t.pkid\n\n\nUPDATE foo SET x=t.x, y=t.y FROM\n(VALUES (null, 20, 1),\n        (null, 50, 2))\nAS t(x, y, pkid) WHERE foo.pkid=t.pkid\n\n\nERROR:  column \"x\" is of type integer but expression is of type text\nLINE 1: UPDATE foo SET x=t.x FROM\n\n\n(null, 20, 1)\n\n(null:int, 50, 2)\n\nAS t(x:gettype(foo.x), y:gettype(foo.y), pkid:gettype(foo.pkid))\n\n# Solution Code:\n(SELECT x, y, pkid  FROM foo LIMIT 0)\n\n\n(TABLE foo LIMIT 0)\n\n\nVALUES\n\nNULL\n\npg_catalog\n\ninformation_schema\n\nLIMIT 0\n\nUNION ALL VALUES\n\nLIMIT 0\n\nVALUES\n\nSELECT\n\ntext\n\ntimestamp\n\ntext\n\njson\n\nLIMIT 0\n\nUNION ALL SELECT\n\nUNION ALL SELECT\n\nVALUES\n\nVALUES\n\nVALUES\n\nNULL\n\nWHERE  f.pkid = t.pkid\n\nOFFSET 1\n\nVALUES\n\n'(1,50,)'::foo\n\nNULL\n\nVALUES\n\nVALUES\n\nUPDATE",
    "resolution": "With a standalone VALUES expression PostgreSQL has no idea what the data types should be. With simple numeric literals the system is happy to assume matching types. But with other input (like NULL) you would need to cast explicitly - as you already have found out. You can query pg_catalog (fast, but PostgreSQL-specific) or the information_schema (slow, but standard SQL) to find out and prepare your statement with appropriate types. Or you can use one of these simple \"tricks\" (I saved the best for last): 0. Select row with LIMIT 0, append rows with UNION ALL VALUES UPDATE foo f SET x = t.x , y = t.y FROM ( (SELECT pkid, x, y FROM foo LIMIT 0) -- parenthesis needed with LIMIT UNION ALL VALUES (1, 20, NULL) -- no type casts here , (2, 50, NULL) ) t -- column names and types are already defined WHERE f.pkid = t.pkid; The first sub-select of the subquery: (SELECT x, y, pkid FROM foo LIMIT 0) gets names and types for the columns, but LIMIT 0 prevents it from adding an actual row. Subsequent rows are coerced to the now well-defined row type - and checked immediately whether they match the type. Should be a subtle additional improvement over your original form. While providing values for all columns of the table this short syntax can be used for the first row: (TABLE foo LIMIT 0) Major limitation: Postgres casts the input literals of the free-standing VALUES expression to a \"best-effort\" type immediately. When it later tries to cast to the given types of the first SELECT, it may already be too late for some types if there is no registered assignment cast between the assumed type and the target type. Examples: text -> timestamp or text -> json. Pro: Minimum overhead. Readable, simple and fast. You only need to know relevant column names of the table. Con: Type resolution can fail for some types. 1. Select row with LIMIT 0, append rows with UNION ALL SELECT UPDATE foo f SET x = t.x , y = t.y FROM ( (SELECT pkid, x, y FROM foo LIMIT 0) -- parenthesis needed with LIMIT UNION ALL SELECT 1, 20, NULL UNION ALL SELECT 2, 50, NULL ) t -- column names and types are already defined WHERE f.pkid = t.pkid; Pro: Like 0., but avoids failing type resolution. Con: UNION ALL SELECT is slower than VALUES expression for long lists of rows, as you found in your test. Verbose syntax per row. 2. VALUES expression with per-column type ... FROM ( VALUES ((SELECT pkid FROM foo LIMIT 0) , (SELECT x FROM foo LIMIT 0) , (SELECT y FROM foo LIMIT 0)) -- get type for each col individually , (1, 20, NULL) , (2, 50, NULL) ) t (pkid, x, y) -- columns names not defined yet, only types. ... Contrary to 0. this avoids premature type resolution. The first row in the VALUES expression is a row of NULL values which defines the type for all subsequent rows. This leading noise row is filtered by WHERE f.pkid = t.pkid later, so it never sees the light of day. For other purposes you can eliminate the added first row with OFFSET 1 in a subquery. Pro: Typically faster than 1. (or even 0.) Short syntax for tables with many columns and only few are relevant. You only need to know relevant column names of the table. Con: Verbose syntax for only few rows Less readable (IMO). 3. VALUES expression with row type UPDATE foo f SET x = (t.r).x -- parenthesis needed to make syntax unambiguous , y = (t.r).y FROM ( VALUES ('(1,20,)'::foo) -- columns need to be in default order of table ,('(2,50,)') -- nothing after the last comma for NULL ) t (r) -- column name for row type WHERE f.pkid = (t.r).pkid; You obviously know the table name. If you also know the number of columns and their order you can work with this. For every table in PostgreSQL a row type is registered automatically. If you match the number of columns in your expression, you can cast to the row type of the table ('(1,50,)'::foo) thereby assigning column types implicitly. Put nothing behind a comma to enter a NULL value. Add a comma for every irrelevant trailing column. In the next step you can access individual columns with the demonstrated syntax. More about Field Selection in the manual. Or you could add a row of NULL values and use uniform syntax for actual data: ... VALUES ((NULL::foo)) -- row of NULL values , ('(1,20,)') -- uniform ROW value syntax for all , ('(2,50,)') ... Pro: Fastest (at least in my tests with few rows and columns). Shortest syntax for few rows or tables where you need all columns. You don't have to spell out columns of the table - all columns automatically have the matching name. Con: Not so well known syntax for field selection from record / row / composite type. You need to know number and position of relevant columns in default order. 4. VALUES expression with decomposed row type Like 3., but with decomposed rows in standard syntax: UPDATE foo f SET x = t.x , y = t.y FROM ( VALUES (('(1,20,)'::foo).*) -- decomposed row of values , (2, 50, NULL) ) t(pkid, x, y) -- arbitrary column names (I made them match) WHERE f.pkid = t.pkid; -- eliminates 1st row with NULL values Or, with a leading row of NULL values again: ... VALUES ((NULL::foo).*) -- row of NULL values , (1, 20, NULL) -- uniform syntax for all , (2, 50, NULL) ... Pros and cons like 3., but with more commonly known syntax. And you need to spell out column names (if you need them). 5. VALUES expression with types fetched from row type Like Unril commented, we can combine the virtues of 2. and 4. to provide only a subset of columns: UPDATE foo f SET ( x, y) = (t.x, t.y) -- short notation, see below FROM ( VALUES ((NULL::foo).pkid, (NULL::foo).x, (NULL::foo).y) -- subset of columns , (1, 20, NULL) , (2, 50, NULL) ) t(pkid, x, y) -- arbitrary column names (I made them match) WHERE f.pkid = t.pkid; Pros and cons like 4., but we can work with any subset of columns and don't have to know the full list. Also displaying short syntax for the UPDATE itself that's convenient for cases with many columns. Related: Bulk update of all columns 4. and 5. are my favorites. db<>fiddle here - demonstrating all",
    "severity": "medium",
    "tags": [
      "sql",
      "postgresql",
      "types",
      "casting",
      "sql-update"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "12426363",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 4269,
      "stackoverflow_creation_date": "2012-09-14T14:15:35.110Z"
    },
    "idempotency_key": "stackoverflow-12426363",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "List of common SQL queries for Open Source databases?",
    "body": "I'm trying to find information about the correct RDBMS SQL queries for open source databases like MySQL, PostgreSQL, SQLite, and others. Are their any pre-assembled lists out there or do I just need to comb the documentation for each database engine (and in some cases guess as to the correct implementation? ALTER TABLE vs CREATE INDEX) For example, so far I have this (partial) list for MySQL: CREATE TABLE `%s` (...); DROP TABLE IF EXISTS `%s` %s; ALTER TABLE `%s` RENAME TO `%s`; ALTER TABLE `%s` ADD COLUMN %s; ALTER TABLE `%s` DROP COLUMN `%s` %s; ALTER TABLE `%s` RENAME COLUMN `%s` to `%s`; ALTER TABLE `%s` ADD CONSTRAINT `%s` FOREIGN KEY (`%s`) REFERENCES `%s` (`%s`) ON DELETE CASCADE ON UPDATE CASCADE; ALTER TABLE `%s` ADD CONSTRAINT `%s` UNIQUE (`%s`); ALTER TABLE `%s` DROP CONSTRAINT `%s` %s; CREATE INDEX `%s` USING BTREE ON `%s` (`%s`); DROP INDEX IF EXISTS `%s` %s;",
    "code": "CREATE TABLE `%s` (...);\nDROP TABLE IF EXISTS `%s` %s;\nALTER TABLE `%s` RENAME TO `%s`;\n\nALTER TABLE `%s` ADD COLUMN %s;\nALTER TABLE `%s` DROP COLUMN `%s` %s;\nALTER TABLE `%s` RENAME COLUMN `%s` to `%s`;\n\nALTER TABLE `%s` ADD CONSTRAINT `%s` FOREIGN KEY (`%s`) REFERENCES `%s` (`%s`) ON DELETE CASCADE ON UPDATE CASCADE;\nALTER TABLE `%s` ADD CONSTRAINT `%s` UNIQUE (`%s`);\nALTER TABLE `%s` DROP CONSTRAINT `%s` %s;\n\nCREATE INDEX `%s` USING BTREE ON `%s` (`%s`);\nDROP INDEX IF EXISTS `%s` %s;\n\n\nALTER TABLE\n\nCREATE INDEX",
    "severity": "low",
    "tags": [
      "mysql",
      "postgresql",
      "relational-database",
      "database-schema",
      "ansi-92"
    ],
    "metadata": {
      "stackoverflow_question_id": "12479290",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 386,
      "stackoverflow_creation_date": "2012-09-18T14:39:51.470Z"
    },
    "idempotency_key": "stackoverflow-12479290",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Junit @BeforeClass and @AfterClass behavior in case of multiple test cases",
    "body": "Folks, Say I have a complicated sub-classed test suite that I run regularly. As a part of this, I am trying to ensure that each test class is executed strictly one after the other, and that Test2's @BeforeClass method will NOT start before Test1's @AfterClass is done. Is this a valid assumption to make? An Example Scenario: Class TestBase has an @BeforeClass and an @AfterClass method. Class T1 derives from TestBase. Class T2 derives from `TestBase. We run T1 and T2 together from Ant / Eclipse. There are some common static objects from TestBase reused between T1 and T2, meaning I have to be totally sure that these are destroyed completely in AfterClass before the next round of BeforeClass start to initialize the same. Can I be sure of this with the basic usage outlined above? I have a strong suspicion that this is not happening, but simplistic tests are not proving the same. Documentation doesn't talk about this either. So I want to ensure that I am not trying to solve a systemic issue that can be solved otherwise.",
    "code": "Test2\n\n@BeforeClass\n\nTest1\n\n@AfterClass\n\nTestBase\n\n@BeforeClass\n\n@AfterClass\n\nT1\n\nTestBase\n\nT2\n\nT1\n\nT2\n\nT1\n\nT2\n\nAfterClass\n\nBeforeClass\n\n# Solution Code:\npublic class UsesExternalResource {\n  public static Server myServer= new Server();\n\n  @ClassRule\n  public static ExternalResource resource= new ExternalResource() {\n    @Override\n    protected void before() throws Throwable {\n      myServer.connect();\n    };\n\n    @Override\n    protected void after() {\n      myServer.disconnect();\n    };\n  };\n}\n\n\nAfterClass\n\nBeforeClass\n\nClassRule\n\nTestBase",
    "resolution": "Excluding parallel execution, JUnit should always run one test class after, i.e T1 before T2 (or the other way around), so your scenario should work. The other thing to be aware of is the order in which the tests are run, which may confuse the issue. See my answer to Has JUnit4 begun supporting ordering of test? Is it intentional?, which explains why the tests may be executed in different orders. I think your best solution would be to use a ClassRule. This allows you to define a class which implements your AfterClass & BeforeClass behaviour. For instance: public class UsesExternalResource { public static Server myServer= new Server(); @ClassRule public static ExternalResource resource= new ExternalResource() { @Override protected void before() throws Throwable { myServer.connect(); }; @Override protected void after() { myServer.disconnect(); }; }; } Using this may remove the need to have static variables, because you can do all of your setup in the ClassRule, everything could be an instance variable in there. You may be able to remove the TestBase parent class altogether.",
    "severity": "medium",
    "tags": [
      "java",
      "junit"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "12485457",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3330,
      "stackoverflow_creation_date": "2012-09-18T21:37:25.007Z"
    },
    "idempotency_key": "stackoverflow-12485457",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is is possible to pipe kernel messages from a specific process to a file",
    "body": "Since it's a Linux question, I'll note I'm using OpenSUSE 12.1 I'm running a kernel module, basically it's a CAN bus simulator, and it prints messages via printk() whenever there is activity on the 'bus'. I'm tracing the messages right now with sudo cat /proc/kmsg, but when I start putting other \"devices\" on the \"bus\" the kmsg traffic is greatly incressed and it's hard to find my messages. Is there anyway to pipe the \"printk\" messages from one specific process to a file? EDIT I see now there are possibilties if I add specific tags to my debug messages, are there any other ways?",
    "code": "printk()\n\nsudo cat /proc/kmsg\n\n# Solution Code:\n#include &lt;linux/module.h&gt;       \n#include &lt;linux/kernel.h&gt;       \n\n#define MODNAME \"[hello]\"\n\nint init_module(void)\n{\n        printk(KERN_WARNING MODNAME \"Hello world 1.\\n\");    \n        return 1;\n}\n\nvoid cleanup_module(void)\n{\n        printk(KERN_ALERT \"Goodbye world 1.\\n\");\n}\n\n\n@version: 3.2\n# $Header: /var/cvsroot/gentoo-x86/app-admin/syslog-ng/files/syslog-ng.conf.gentoo.3.2,v 1.1 2011/01/18 17:44:14 mr_bones_ Exp $\n#\n# Syslog-ng default configuration file for Gentoo Linux\n\noptions {\n        chain_hostnames(no);    \n        stats_freq(43200);\n        mark_freq(3600);\n};\n\nsource src {\n    unix-stream(\"/dev/log\" max-connections(256));\n    internal();\n    file(\"/proc/kmsg\");\n};\n\ndestination messages { file(\"/var/log/messages\"); };\n# output file for ower module\ndestination hello_messages { file(\"/var/log/hello\"); };   \n\n# grep patterns for ower module\nfilter f_hello { match(\"hello\" value(\"MESSAGE\")); };\nfilter f_kernel { facility(kern); };\n\nlog { source(src); destination(messages); };\nlog { source(src); destination(console_all); };\n\n# target for logging    \nlog { source(src); filter(f_hello); filter(f_kernel); destination(hello_messages); };\n",
    "resolution": "yes, you can. All kernel messages can hold syslog-ng daemon. For this daemon you can write custom rules and put all messages from your module to specific file. Take first look at /etc/syslog-ng/syslog-ng.conf update By default, all kernel print and printk functions put messages to kernel ring buffer. Userspace programs can access to this ring buffer thought /proc/kmsg file. Syslog-ng will read data from /proc/kmsg, then, via filter (filter is just special pattern) grep output and put data in different output (in this example it will be just text files). If in output buffer we will find output from kernel module \"hello\", syslog-ng will put messages to /var/log/hello, all other messages will go to /var/log/messages Module source #include <linux/module.h> #include <linux/kernel.h> #define MODNAME \"[hello]\" int init_module(void) { printk(KERN_WARNING MODNAME \"Hello world 1.\\n\"); return 1; } void cleanup_module(void) { printk(KERN_ALERT \"Goodbye world 1.\\n\"); } After insmod insmod hello-1.ko in /var/log/messages you can find: Sep 20 17:46:20 ns1 kernel: [96643.968650] [hello]Hello world 1. ok, lets configure syslog-ng to catch grep log message (by using pattern [hello]) $cat /etc/syslog-ng/syslog-ng.conf @version: 3.2 # $Header: /var/cvsroot/gentoo-x86/app-admin/syslog-ng/files/syslog-ng.conf.gentoo.3.2,v 1.1 2011/01/18 17:44:14 mr_bones_ Exp $ # # Syslog-ng default configuration file for Gentoo Linux options { chain_hostnames(no); stats_freq(43200); mark_freq(3600); }; source src { unix-stream(\"/dev/log\" max-connections(256)); internal(); file(\"/proc/kmsg\"); }; destination messages { file(\"/var/log/messages\"); }; # output file for ower module destination hello_messages { file(\"/var/log/hello\"); }; # grep patterns for ower module filter f_hello { match(\"hello\" value(\"MESSAGE\")); }; filter f_kernel { facility(kern); }; log { source(src); destination(messages); }; log { source(src); destination(console_all); }; # target for logging log { source(src); filter(f_hello); filter(f_kernel); destination(hello_messages); };",
    "severity": "medium",
    "tags": [
      "linux",
      "logging",
      "linux-kernel",
      "pipe"
    ],
    "metadata": {
      "stackoverflow_question_id": "12500273",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3421,
      "stackoverflow_creation_date": "2012-09-19T17:56:04.153Z"
    },
    "idempotency_key": "stackoverflow-12500273",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Yeoman Workflow and Integration with Backend Scripts",
    "body": "So, I've been anticipating Yeoman and it's already out for a week or so now. But after successfully installing it, I've been confused at the workflow and the implementation with backend script (API). Scenario 1 So let's say I don't need all those shiny BBB/Ember/Angular stuff and use Yeoman just for jQuery/H5BP/Modernizr backed with Codeigniter or Sinatra/Rails. Since yeoman server doesn't natively support PHP (I haven't tried Sinatra/Rails), I figure that the workflow is: Front End Development with Yeoman After it's finished, do yeoman build and then use the built dist folder as a base to develop backend (and probably copy the dist folder to another folder for backend implementation (let's say public folder) If I should change CSS/JS, use yeoman again, build and copy the dist folder to public again. So on and on... But using that workflow, that means the directory structure will be something like cool-app/ --app/ --yeoman development stuff --test/ --yeoman development stuff --dist/ --yeoman built stuff .dotfiles package.json Gruntfile.js It's nice and all, but quite a bit different with the CodeIgniter / Rails directory structure. Not to mention there are name difference (is this configurable in Yeoman?), so it's kinda hard to imagine a good workflow developing both Front End and Back End in one go, except using the built result as a base for the backend. Scenario 2 BBB/Ember/Angular. Frankly I've been just testing those stuff, so any tips to implement with backend code is welcome! Though for all I know, yeoman can generate the necessary files for those framework inside app folder, so I figure, the solution of the first scenario will kinda solve the problem for scenario 2 Thanks a lot!",
    "code": "cool-app/\n--app/\n  --yeoman development stuff\n--test/\n  --yeoman development stuff\n--dist/\n  --yeoman built stuff\n.dotfiles\npackage.json\nGruntfile.js\n\n\nyeoman server\n\nyeoman build\n\ndist\n\ndist\n\npublic\n\ndist\n\npublic\n\n# Solution Code:\nrails-app/\n--app/\n  --views/\n    --js/\n      --app/\n      --test/\n      --Gruntfile.js\n--public\n",
    "resolution": "I like using this structure: rails-app/ --app/ --views/ --js/ --app/ --test/ --Gruntfile.js --public Here's how I set it up: rails new rails-app cd rails-app/app/views mkdir js cd js yeoman init ember Then edit Gruntfile.js to change \"output: 'dist'\" to \"output: '../../../public'\" After that, \"yeoman build\" or \"yeoman build:dist\" will output to the Rails /public folder. During dev, you can still use \"yeoman server\" to run yeoman in development mode, so any change you make will automatically be visible in the browser. Yeoman is great!",
    "severity": "medium",
    "tags": [
      "backbone.js",
      "yeoman"
    ],
    "metadata": {
      "stackoverflow_question_id": "12508818",
      "stackoverflow_score": 32,
      "stackoverflow_view_count": 5734,
      "stackoverflow_creation_date": "2012-09-20T08:29:48.927Z"
    },
    "idempotency_key": "stackoverflow-12508818",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "remove all element except from given index number",
    "body": "I have following list and how can I remove with linq all elements from given index number: List<string> a = new List<string>(); a.Add(\"number1\"); a.Add(\"number2\"); a.Add(\"number3\"); How can I remove all element just except element which is index number =2 using linq.",
    "code": "    List&lt;string&gt; a = new List&lt;string&gt;();\n        a.Add(\"number1\");\n        a.Add(\"number2\");\n        a.Add(\"number3\");\n\n\n# Solution Code:\na.RemoveRange(0, 2);\n\n\nvar newList = a.Where((value, index) =&gt; index != 2)\n               .ToList();\n\n\nRemoveRange",
    "resolution": "LINQ isn't about removing things - it's about querying. You can call RemoveRange to remove a range of items from a list though. So: a.RemoveRange(0, 2); will leave just \"number3\". Or you could create a new list as per dasblinkenlight's answer. If you can tell us more about what you're trying to achieve and why you think LINQ is the solution, we may be able to help you more. EDIT: Okay, now we have clearer requirements, you can use LINQ: var newList = a.Where((value, index) => index != 2) .ToList();",
    "severity": "high",
    "tags": [
      "c#",
      "linq"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "12516753",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 10615,
      "stackoverflow_creation_date": "2012-09-20T16:19:27.217Z"
    },
    "idempotency_key": "stackoverflow-12516753",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What to name images for iPhone 5 screen size?",
    "body": "What is the new naming convention for images for the 4-inch retina display? For an image named background.png you add @2x to the name (background@2x.png) to tell iOS to use that one for devices with the retina display. What would the suffix be for iPhone 5's screen size?",
    "code": "background.png\n\nbackground@2x.png\n\n# Solution Code:\n#define isPhone568 ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone &amp;&amp; [UIScreen mainScreen].bounds.size.height == 568)\n#define iPhone568ImageNamed(image) (isPhone568 ? [NSString stringWithFormat:@\"%@-568h.%@\", [image stringByDeletingPathExtension], [image pathExtension]] : image)\n#define iPhone568Image(image) ([UIImage imageNamed:iPhone568ImageNamed(image)])\n\n\nself.view.backgroundColor = [[UIColor alloc] initWithPatternImage:[UIImage imageNamed:iPhone568ImageNamed(@\"mainscreen.png\")]];\n\n\n#define\n\niPhone568ImageNamed",
    "resolution": "You can use my #defines to help you with these images: #define isPhone568 ([[UIDevice currentDevice] userInterfaceIdiom] == UIUserInterfaceIdiomPhone && [UIScreen mainScreen].bounds.size.height == 568) #define iPhone568ImageNamed(image) (isPhone568 ? [NSString stringWithFormat:@\"%@-568h.%@\", [image stringByDeletingPathExtension], [image pathExtension]] : image) #define iPhone568Image(image) ([UIImage imageNamed:iPhone568ImageNamed(image)]) Just give your images the -568h@2x.png notation, and use iPhone568ImageNamed to get a name for standard name or iPhone 5/new iPod. Usage example from the comments: self.view.backgroundColor = [[UIColor alloc] initWithPatternImage:[UIImage imageNamed:iPhone568ImageNamed(@\"mainscreen.png\")]];",
    "severity": "medium",
    "tags": [
      "ios",
      "iphone",
      "cocoa-touch",
      "ios6",
      "ios7"
    ],
    "metadata": {
      "stackoverflow_question_id": "12519110",
      "stackoverflow_score": 29,
      "stackoverflow_view_count": 9808,
      "stackoverflow_creation_date": "2012-09-20T18:58:51.833Z"
    },
    "idempotency_key": "stackoverflow-12519110",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "scikit support to scale features between [0,1] or [-1,1]",
    "body": "scikit-learn's SVM is based on LIBSVM. LIBSVM/SVM requires that the data should be scaled and the recommendation is that a feature value should be in one of the two ranges [0, 1] or [-1, 1]. That is, in the typical matrix, each column is a feature and the scaling is done per column. LIBSVM FAQ suggests a simple scaling to get the features between [0, 1]: x'=(x-min)/(Max-min) Does scikit-learn support this \"simple scaling\"? Are there other recommendations for scaling the features to use with SVM and RBF kernel. Any references? I found a reference article called \"A Practical Guide to Support Vector Classification\" that is based on LIBSVM and they recommend scaling to [0, 1] or [-1, 1].",
    "code": "x'=(x-min)/(Max-min)\n\n\n# Solution Code:\nclf = Pipeline([('scale', Scaler()),\n                ('svm', SVC())])\n\n\nsklearn.preprocessing.MinMaxScaler\n\nsklearn.preprocessing.Scaler\n\nStandardScaler\n\nsklearn.preprocessing.Normalizer\n\nTfidfVectorizer\n\nPipeline",
    "resolution": "Yes, this functionality is included. The exact formula you describe will be in the next release as sklearn.preprocessing.MinMaxScaler. For now, sklearn.preprocessing.Scaler (to be renamed StandardScaler in the next release, but the old name will stay around for backward compat) centers and scales features to have mean 0 and variance 1, which should be good enough for passing data to an SVM learner. Also, sklearn.preprocessing.Normalizer (and the TfidfVectorizer that is used for text classification) normalizes values per sample into the range [0, 1]. This amounts to the length normalization that is common in text classification and information retrieval. You can use a Pipeline object to construct a centering, scaling SVM classifier: clf = Pipeline([('scale', Scaler()), ('svm', SVC())])",
    "severity": "medium",
    "tags": [
      "python",
      "scikit-learn",
      "svm"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "12716834",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6761,
      "stackoverflow_creation_date": "2012-10-03T21:00:57.353Z"
    },
    "idempotency_key": "stackoverflow-12716834",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to read from keyboard when stdin is set to a file in C",
    "body": "I think this is simple, but not for me obviously! I have a console-application. I need to read input from the keyboard, but stdin has been redirected to a file. So how do I create a FILE-Handle that points at the keyboard-stream which i can use with fgets etc.? I found out that ttyname(0) seems to be what i look for in a POSIX-environment, which I don't have here. I'm in a Windows-system with standard Visual Studio compiler. Any ideas? Thank you in advance.",
    "code": "stdin\n\nfgets\n\nttyname(0)\n\n# Solution Code:\nFILE *conin, *conout",
    "resolution": "Pulling from the dim dark days of DOS programming here: try opening \"CON:\" (Console), a reserved word. Hopefully it will open the same way in Windows. The colon may or may not be required. Both \"dir >con:\" and \"dir >con\" still work in command prompt. Also, be sure to use something from the setbuf() family on the output handle to avoid buffering... it's not supposed to buffer terminal I/O, but it never hurts to be sure. Again, not sure, but I suspect opening separate FILE *conin, *conout for output and one for input may help if you seem to have troubles with one handle doing both input and output.",
    "severity": "medium",
    "tags": [
      "c",
      "file",
      "stream",
      "keyboard",
      "stdin"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "12743317",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1689,
      "stackoverflow_creation_date": "2012-10-05T09:24:36.653Z"
    },
    "idempotency_key": "stackoverflow-12743317",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Changing value of select box in Zurb's Foundation via JavaScript",
    "body": "I'm having difficulty changing the value of select box in Zurb's foundation. I'm using the custom forms which just hides the actual select box and uses an unordered list as the select box. My problem is that the usual method of changing the value of select box doesn't work: $('#selectboxID').val('something') The code above assumes that the value of each of the options in the select box is the same with the text: <option value=\"1\">1</option> I also tried: $($('.dropdown ul li')[1]).addClass('current') $($('.dropdown ul li')[0]).removeClass('current') //remove current class from the other one But it doesn't work either.",
    "code": "$('#selectboxID').val('something')\n\n\n&lt;option value=\"1\"&gt;1&lt;/option&gt;\n\n\n$($('.dropdown ul li')[1]).addClass('current') \n\n$($('.dropdown ul li')[0]).removeClass('current') //remove current class from the other one\n\n\n# Solution Code:\n// Change selected option\n$('#selectboxID').val('something');\n// Or use selectedIndex: $(\"#selectboxID\")[0].selectedIndex = 0;\n\n// Fire change event\n$('#selectboxID').trigger('change');\n",
    "resolution": "You have to trigger \"change\" event after changing selected index. Example: // Change selected option $('#selectboxID').val('something'); // Or use selectedIndex: $(\"#selectboxID\")[0].selectedIndex = 0; // Fire change event $('#selectboxID').trigger('change'); Hope this helps",
    "severity": "medium",
    "tags": [
      "javascript",
      "zurb-foundation"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "12811126",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 7391,
      "stackoverflow_creation_date": "2012-10-10T02:28:32.887Z"
    },
    "idempotency_key": "stackoverflow-12811126",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to disable a search filter of a listview in jquery mobile",
    "body": "How to disable a search filter of a listview in jquery mobile. My Code: ul(data-role='listview' ,data-filter=\"false\") li a(href=\"JavaScript:editGroupFormSubmission('#{groupsId[0]}')\") p A li a(href=\"/mfi/api/1.0/client/ci/kycuploading\") p B li a(href=\"/mfi/api/1.0/client/ci/groups/fieldverification\") p C li a(href=\"/mfi/api/1.0/client/ci/groups/cca1\") p D",
    "code": "ul(data-role='listview' ,data-filter=\"false\")\n                  li\n                    a(href=\"JavaScript:editGroupFormSubmission('#{groupsId[0]}')\") \n                         p A\n                  li\n                    a(href=\"/mfi/api/1.0/client/ci/kycuploading\") \n                       p B\n                  li\n                    a(href=\"/mfi/api/1.0/client/ci/groups/fieldverification\") \n                         p C\n                  li\n                    a(href=\"/mfi/api/1.0/client/ci/groups/cca1\") \n                         p D\n",
    "severity": "low",
    "tags": [
      "jquery-mobile"
    ],
    "metadata": {
      "stackoverflow_question_id": "12812398",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 849,
      "stackoverflow_creation_date": "2012-10-10T05:18:23.987Z"
    },
    "idempotency_key": "stackoverflow-12812398",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python: Make last item of array become the first",
    "body": "This is a very simple question, but I haven't seem to be able to find a satisfactory answer for it. What is the best way, in Python, make the last item of a list become the first one \"pushing\" the rest of the list. Something that does: >>> a=[1,2,3,4] >>> a[?????] [4, 1, 2, 3] I know I can always play with len, list concatenation... >>> a=[1,2,3,4] >>> [a[len(a)-1]] + a[0:len(a)-1] [4, 1, 2, 3] But that doesn't look right... \"Pythonic\", if you may Thank you in advance.",
    "code": "&gt;&gt;&gt; a=[1,2,3,4]\n&gt;&gt;&gt; a[?????]\n[4, 1, 2, 3]\n\n\n&gt;&gt;&gt; a=[1,2,3,4]\n&gt;&gt;&gt; [a[len(a)-1]] + a[0:len(a)-1]\n[4, 1, 2, 3]\n\n\nlen\n\n# Solution Code:\na[-1:] + a[:-1]\n\n\n&gt;&gt;&gt; a=[1,2,3,4]\n&gt;&gt;&gt; a[-1:] + a[:-1]\n[4, 1, 2, 3]\n\n\n&gt;&gt;&gt; a[-2:] + a[:-2]\n[3, 4, 1, 2]\n\n\n&gt;&gt;&gt; timeit.timeit('a[-1:] + a[:-1]', 'a=[1,2,3,4]')\n0.59950494766235352\n&gt;&gt;&gt; timeit.timeit('a.insert(0,a.pop(-1))', 'a=[1,2,3,4]')\n0.52790379524230957\n\n\n&gt;&gt;&gt; timeit.timeit('a[-2:] + a[:-2]', 'a=[1,2,3,4]')\n0.58687901496887207\n&gt;&gt;&gt; timeit.timeit('a.insert(0,a.pop(-1));a.insert(0,a.pop(-1))', 'a=[1,2,3,4]')\n1.0615170001983643\n\n\n.insert()\n\n.pop()",
    "resolution": "Slicing is a little smarter than that; you can use negative indices to count from the end: a[-1:] + a[:-1] Demo: >>> a=[1,2,3,4] >>> a[-1:] + a[:-1] [4, 1, 2, 3] This works for an arbitrary number of elements to be moved to the front: >>> a[-2:] + a[:-2] [3, 4, 1, 2] Using slicing like this is comparable in speed to using .insert() + .pop() (on a short list): >>> timeit.timeit('a[-1:] + a[:-1]', 'a=[1,2,3,4]') 0.59950494766235352 >>> timeit.timeit('a.insert(0,a.pop(-1))', 'a=[1,2,3,4]') 0.52790379524230957 but wins hands down if you need to shift more than one element: >>> timeit.timeit('a[-2:] + a[:-2]', 'a=[1,2,3,4]') 0.58687901496887207 >>> timeit.timeit('a.insert(0,a.pop(-1));a.insert(0,a.pop(-1))', 'a=[1,2,3,4]') 1.0615170001983643",
    "severity": "medium",
    "tags": [
      "python",
      "list"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "12845112",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 6460,
      "stackoverflow_creation_date": "2012-10-11T17:23:00.800Z"
    },
    "idempotency_key": "stackoverflow-12845112",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What's the difference between these two statements",
    "body": "What's the difference between these two statements? ob.A::ar[0] = 200; ob.ar[0] = 200; where ob is an object of class A class A { public: int *ar; A() { ar = new int[100]; } };",
    "code": "ob.A::ar[0] = 200;\nob.ar[0] = 200;\n\n\nclass A\n{\n    public:\n        int *ar;\n        A()\n        {\n            ar = new int[100];\n        }\n};\n\n\nob\n\nA\n\n# Solution Code:\nclass A {\npublic:\n  int a;\n}\n\nclass B {\npublic:\n  int a;\n}\n\nclass C : public A, B {\n   void func() {\n      // this objects holds 2 instance variables of name \"a\" inherited from A and B\n      this-&gt;A::a = 1;\n      this-&gt;B::a = 2;\n   }\n\n}\n\n\nobj.Class::member",
    "resolution": "In this case there is no difference. This notation: obj.Class::member is only to solve the ambiguities coming from inheritance: class A { public: int a; } class B { public: int a; } class C : public A, B { void func() { // this objects holds 2 instance variables of name \"a\" inherited from A and B this->A::a = 1; this->B::a = 2; } }",
    "severity": "low",
    "tags": [
      "c++",
      "oop"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "12885901",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 236,
      "stackoverflow_creation_date": "2012-10-14T19:48:59.443Z"
    },
    "idempotency_key": "stackoverflow-12885901",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Passing strings in c# to a static statement",
    "body": "I am trying to create a SQL database in c# by having my program connect to the server. I am having a problem with creating a login screen. The problem is in order to create a login screen. I am trying to pass 2 strings to the connection class and am unable to do so since the statement is static? public class sqlconnect { public String us; public String pas; public SqlConnection myConnection = new SqlConnection(\"user id=\" + (us) + \";\" + \"password=\" + (pas) + \";server=PANDORA;\" + \"Trusted_Connection=yes;\" + \"database=NHS; \" + \"connection timeout=30\"); } ERROR - A field initializer cannot reference the non-static field, method, or property If I try and make \"us\" or \"pas\" static I am unable to pass information from my main class to this one. I would be grateful if someone could point out what I'm doing wrong as I am not an expert at C# I must admit. Thank you.",
    "code": "public class sqlconnect\n{\n    public String us;\n    public String pas;\n\n    public SqlConnection myConnection = new SqlConnection(\"user id=\" + (us) + \";\" +\n                                           \"password=\" + (pas) + \";server=PANDORA;\" +\n                                           \"Trusted_Connection=yes;\" +\n                                           \"database=NHS; \" +\n                                           \"connection timeout=30\");\n}\n\n\nERROR - A field initializer cannot reference the non-static field, method, or property \n\n\n# Solution Code:\n// property\npublic SqlConnection myConnection { get; set; }\n\n// method\npublic SqlConnection GetSqlConnection()\n{\n     if (myConnection == null) \n       myConnection = new SqlConnection(\"user id=\" + us + \";\" +\n                                       \"password=\" + pas + \";server=PANDORA;\" +\n                                       \"Trusted_Connection=yes;\" +\n                                       \"database=NHS; \" +\n                                       \"connection timeout=30\");\n\n     return myConnection;\n}\n",
    "resolution": "// property public SqlConnection myConnection { get; set; } // method public SqlConnection GetSqlConnection() { if (myConnection == null) myConnection = new SqlConnection(\"user id=\" + us + \";\" + \"password=\" + pas + \";server=PANDORA;\" + \"Trusted_Connection=yes;\" + \"database=NHS; \" + \"connection timeout=30\"); return myConnection; }",
    "severity": "low",
    "tags": [
      "c#",
      "winforms"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "12923505",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 169,
      "stackoverflow_creation_date": "2012-10-16T21:13:23.317Z"
    },
    "idempotency_key": "stackoverflow-12923505",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "boost::static_visitor with multiple arguments",
    "body": "typedef boost::variant<int, double> Type; class Append: public boost::static_visitor<> { public: void operator()(int) {} void operator()(double) {} }; Type type(1.2); Visitor visitor; boost::apply_visitor(visitor, type); Is it possible to change the visitor such that it receives extra data as follows: class Append: public boost::static_visitor<> { public: void operator()(int, const std::string&) {} void operator()(double, const std::string&) {} }; This string value changes during the lifetime of the Append object. Passing the string in via the constructor is not an option in this case.",
    "code": "typedef boost::variant&lt;int, double&gt; Type;\nclass Append: public boost::static_visitor&lt;&gt;\n{\npublic:\n    void operator()(int)\n    {}\n\n    void operator()(double)\n    {}\n\n};\n\nType type(1.2);\nVisitor visitor;\nboost::apply_visitor(visitor, type);\n\n\nclass Append: public boost::static_visitor&lt;&gt;\n{\npublic:\n    void operator()(int, const std::string&amp;)\n    {}\n\n    void operator()(double, const std::string&amp;)\n    {}\n};\n\n\n# Solution Code:\n#include &lt;boost/variant.hpp&gt;\ntypedef boost::variant&lt;int, double&gt; Type;\nclass Append: public boost::static_visitor&lt;&gt;\n{\npublic:\n    void operator()(int)\n    {}\n\n    void operator()(double)\n    {}\n    std::string argument;\n};\n\nint main() {\n    Type type(1.2);\n    Append visitor;\n    visitor.argument = \"first value\";\n    boost::apply_visitor(visitor, type);\n    visitor.argument = \"new value\";\n    boost::apply_visitor(visitor, type);\n}\n\n\nthis",
    "resolution": "The \"additional argument\" that gets given to each call is the this pointer. Use it to pass whatever additional information that you need: #include <boost/variant.hpp> typedef boost::variant<int, double> Type; class Append: public boost::static_visitor<> { public: void operator()(int) {} void operator()(double) {} std::string argument; }; int main() { Type type(1.2); Append visitor; visitor.argument = \"first value\"; boost::apply_visitor(visitor, type); visitor.argument = \"new value\"; boost::apply_visitor(visitor, type); }",
    "severity": "medium",
    "tags": [
      "c++",
      "boost",
      "boost-variant"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "12954852",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 6747,
      "stackoverflow_creation_date": "2012-10-18T12:37:23.507Z"
    },
    "idempotency_key": "stackoverflow-12954852",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "regex for date omit one character of month part",
    "body": "It's very strange because it is very simple regex for dd/mm format. The result should be: \"Group 1: 14; Group 2: 12\" but it is \"Group 1: 14; Group 2: 1\". The 2nd group only captured the first character, but omit the second one ('2' in the example). String sDay = \"(?:0?[1-9]|[12][0-9]|3[01])\"; String sMonth = \"(?:0?[1-9]|1[0-2])\"; String sDot = \"[\\\\.]\"; String sSlash = \"[/]\"; String sMinus = \"[\\\\-]\"; String sSeparators = (sDot + \"|\" + sSlash + \"|\" + sMinus); Pattern reDayMonth = Pattern.compile(\"(\" + sDay + \")\" + \"(?:\" + sSeparators + \")\" + \"(\" + sMonth+ \")\"); String s = \"14/12\"; Matcher reMatcher = reDayMonth.matcher(s); boolean found = reMatcher.find(); System.out.println(\"Group 1: \" + reMatcher.group(1) + \"; Group 2: \" + reMatcher.group(2)); I cannot understand why. Could you please help me?",
    "code": "String sDay = \"(?:0?[1-9]|[12][0-9]|3[01])\";\nString sMonth = \"(?:0?[1-9]|1[0-2])\";\nString sDot = \"[\\\\.]\";\nString sSlash = \"[/]\";\nString sMinus = \"[\\\\-]\";\nString sSeparators = (sDot + \"|\" + sSlash + \"|\" + sMinus);\n\nPattern reDayMonth =\n    Pattern.compile(\"(\" + sDay + \")\" + \"(?:\" + sSeparators + \")\" + \"(\" + sMonth+ \")\");\n\nString s = \"14/12\";\nMatcher reMatcher = reDayMonth.matcher(s);\nboolean found = reMatcher.find();\n\nSystem.out.println(\"Group 1: \" + reMatcher.group(1) + \"; Group 2: \" + reMatcher.group(2));\n\n\ndd/mm\n\n\"Group 1: 14; Group 2: 12\"\n\n\"Group 1: 14; Group 2: 1\"\n\n# Solution Code:\n(?:0?[1-9]|1[0-2])\n\n\n(?:1[0-2]|0?[1-9])\n\n\nPattern.compile(\"^(\" + sDay + \")\" + \"(?:\" + sSeparators + \")\" + \"(\" + sMonth+ \")$\");\n\n\n1[0-2]|0?[1-9]\n\n\n0?\n\nday\n\nmonth\n\nday\n\nday\n\nmonth\n\ndd/mm\n\nmm/dd\n\nsDay\n\nsMonth\n\nmonth\n\nday\n\n^\n\n$",
    "resolution": "In your month regex, you're allowing a single-digit to match first and-so it does (and then stops). Try moving the required-two-digit month to check first and then the single digit: (?:0?[1-9]|1[0-2]) should become: (?:1[0-2]|0?[1-9]) UPDATE (reasoning) The reason why the same pattern, leading with 0?, in the day pattern works but doesn't in the month pattern is because you specify that there are characters that have to follow the day pattern - therefore, the entire pattern for the day is processed. In the month pattern, however, there are no characters specified to follow; therefore, it stops upon finding a first match which, in the original pattern, was a single digit. If you were to reverse the input format (i.e. instead of dd/mm you used mm/dd) and simply swapped sDay and sMonth in the compiled regex, you'll actually notice that the month would properly match two numbers and the day would fail instead! One way to resolve the issue is by matching the two-character rule first and then the optional single-character, like my answer suggests. An alternative method would assume/require that your input date is on a line by itself (i.e. the date starts at the beginning of the line and ends at the end of the line with no other text). If this is true, you can use regex's ^ and $ characters to match the beginning and end of the line, respectively: Pattern.compile(\"^(\" + sDay + \")\" + \"(?:\" + sSeparators + \")\" + \"(\" + sMonth+ \")$\"); Doing this, it will evaluate each pattern completely to find the full match and, in this case, you should always match the correct month/day. SITE NOTE (suggestion, not answer-specific though) Per a useful comment/suggestion by @MarkoTopolnik, you don't need to use the non-capturing group around each group (months + days), especially since you immediately wrap them in a capturing group rendering the non-capturing group useless. So, the above pattern could simply become: 1[0-2]|0?[1-9]",
    "severity": "low",
    "tags": [
      "java",
      "regex",
      "date",
      "regex-group"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "13068823",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 370,
      "stackoverflow_creation_date": "2012-10-25T12:40:35.383Z"
    },
    "idempotency_key": "stackoverflow-13068823",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do you make a chef resource optional?",
    "body": "I've got a resource in a chef recipe that I'd like to be optional. That is, when the recipe runs, if the resource fails I want everything else to keep going. I'd still like to know there was a failure with that resource of course, it's just that it's not a critical resource and nothing depends on it, so I'd rather the rest of the run continue. I'm used to working with Puppet where you have to explicitly declare your dependencies, and resources are skipped only when they're dependencies fail instead of one failure causing the whole rest of the file not to run. Not sure why this was closed as not a real question (even after reading the FAQ), but I'll add some example code to illustrate what I'm asking, hopefully someone else can vote to reopen or can answer. I'm using chef to setup a dev environment, and part of that is just cloning some git repos to have in place. Nothing depends on them, and occasionally there's a private repo that some devs don't have access to. If it fails to clone, I'd like the other resources to continue being run. So for the following resources: [\"foo\", \"bar\", \"baz\"].each do |repo| git repo do repository \"git@github.com/example/#{repo}\" reference \"master\" action :sync depth 1 user 'dev' group 'dev' destination \"#{node[:src_dir]}/#{repo}\" end end If the user running this doesn't have permission to clone foo, I'd like foo to fail, but bar and baz to still clone. How is that possible?",
    "code": "[\"foo\", \"bar\", \"baz\"].each do |repo|\n  git repo do\n    repository  \"git@github.com/example/#{repo}\"\n    reference   \"master\"\n    action      :sync\n    depth       1\n    user        'dev'\n    group       'dev'\n    destination \"#{node[:src_dir]}/#{repo}\"\n  end\nend\n\n\n# Solution Code:\nignore_failure true",
    "resolution": "You can set ignore_failure true",
    "severity": "medium",
    "tags": [
      "chef-infra",
      "configuration-management"
    ],
    "metadata": {
      "stackoverflow_question_id": "13186989",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2415,
      "stackoverflow_creation_date": "2012-11-01T23:18:54.587Z"
    },
    "idempotency_key": "stackoverflow-13186989",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Annotation Validation Exception (com.ibm.wsspi.amm.validate.ValidationException)",
    "body": "I got following exception on IBM Websphere Application server 8.5 when I tried to deploy my application on server. I'm using WS 8.5, EJB 3.1, Java EE 6 in my application. [11/1/12 11:06:47:208 PKT] 0000005d annotations E CWWAM0003E: An exception occurred while validating an annotation: com.ibm.wsspi.amm.validate.ValidationException: CWWAM2302E: The class com.xxx.yyy.services.UsersServiceBean is annotated with an invalid @PersistenceContext declaration; no name is specified. com.ibm.wsspi.amm.validate.ValidationException: CWWAM2302E: The class com.xxx.yyy.services.UsersServiceBean is annotated with an invalid @PersistenceContext declaration; no name is specified. at com.ibm.ws.amm.validate.persistence.PersistenceContextValidator.validateClassAnnotation(PersistenceContextValidator.java:86) Below is my Java code. @PersistenceContext(unitName=\"myUnit\") @Stateless(name=\"UsersService\") public class UsersServiceBean implements UsersService {...}",
    "code": "[11/1/12 11:06:47:208 PKT] 0000005d annotations   E   CWWAM0003E: An exception occurred while validating an annotation: com.ibm.wsspi.amm.validate.ValidationException: CWWAM2302E: The class com.xxx.yyy.services.UsersServiceBean is annotated with an invalid @PersistenceContext declaration; no name is specified.\n                             com.ibm.wsspi.amm.validate.ValidationException: CWWAM2302E: The class com.xxx.yyy.services.UsersServiceBean is annotated with an invalid @PersistenceContext declaration; no name is specified.\nat com.ibm.ws.amm.validate.persistence.PersistenceContextValidator.validateClassAnnotation(PersistenceContextValidator.java:86)\n\n\n@PersistenceContext(unitName=\"myUnit\")\n@Stateless(name=\"UsersService\")\npublic class UsersServiceBean implements UsersService {...}\n\n\n# Solution Code:\n@PersistenceUnit\n\nname=\"...\"\n\nEntityManagerFactory\n\nnew InitialContext(\"java:...\")\n\n@PersistenceUnit(...) EntityManagerFactory emf;\n\n@Resource\n\n@PersistenceUnit\n\n@Resource\n\njava:comp\n\njava:comp/env/com.example.ClassName/targetName\n\njava:comp/env",
    "resolution": "In short, when declaring @PersistenceUnit on a class, you must add a name=\"...\" that you can use to look up the EntityManagerFactory with new InitialContext(\"java:...\"). Alternatively, you can declare an @PersistenceUnit(...) EntityManagerFactory emf; field in your class and omit the name. All ref annotations are basically the same as @Resource. Per the commons annotations specification: The name element is the JNDI name of the resource. When the Resource annotation is applied on a field, the default value of the name element is the field name qualified by the class name. When applied on a method, the default is the JavaBeans property name corresponding to the method qualified by the class name. When applied on a class, there is no default and the name MUST be specified. The last sentence is relevant, and it makes sense: using @PersistenceUnit (and all other @Resource-like annotations) has two effects: If you declare the annotation on a field or method, then the container will automatically inject when the instance is created. The reference is inserted into the java:comp namespace using its name. If you declare the annotation on a field or method, the default name is java:comp/env/com.example.ClassName/targetName. If you declare the annotation on a class, then (1) there's no injection, and (2) there's no default name so there's no way to bind into java:comp/env. In that case, the annotation declaration would be pointless, so it's an error.",
    "severity": "medium",
    "tags": [
      "jakarta-ee",
      "ejb",
      "websphere"
    ],
    "metadata": {
      "stackoverflow_question_id": "13189881",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3073,
      "stackoverflow_creation_date": "2012-11-02T05:35:49.347Z"
    },
    "idempotency_key": "stackoverflow-13189881",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Web.config configuration for EF Migrations",
    "body": "I am implementing Code-First Migrations on my project and want to not have to use Add-Migration and Update-Database all the time in the Package Manager Console. I'd like for the updates to the database to happen automatically. For this reason I updated my web.config file to do this. I deleted my database, but for some reason when I fire up the application, it does not create the database. Am I doing something wrong? Here's my web.config <entityFramework> <defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework\" /> <contexts> <context type=\"AuctionService.DataAccess.AuctionContext, AuctionService.DataAccess\"> <databaseInitializer type=\"System.Data.Entity.MigrateDatabaseToLatestVersion`2[[AuctionService.DataAccess.AuctionContext, AuctionService.DataAccess], [AuctionService.DataAccess.Migrations.Configuration, AuctionService.DataAccess]], EntityFramework\"> </databaseInitializer> </context> </contexts> </entityFramework> EDIT My code is in a WCF service and when I debugged this service I got this The server encountered an error processing the request. The exception message is 'Unable to update database to match the current model because there are pending changes and automatic migration is disabled. Either write the pending model changes to a code-based migration or enable automatic migration. Set DbMigrationsConfiguration.AutomaticMigrationsEnabled to true to enable automatic migration.'",
    "code": "&lt;entityFramework&gt;\n    &lt;defaultConnectionFactory type=\"System.Data.Entity.Infrastructure.SqlConnectionFactory, EntityFramework\" /&gt;\n    &lt;contexts&gt;\n      &lt;context type=\"AuctionService.DataAccess.AuctionContext, AuctionService.DataAccess\"&gt;\n        &lt;databaseInitializer type=\"System.Data.Entity.MigrateDatabaseToLatestVersion`2[[AuctionService.DataAccess.AuctionContext, AuctionService.DataAccess], [AuctionService.DataAccess.Migrations.Configuration, AuctionService.DataAccess]], EntityFramework\"&gt;\n        &lt;/databaseInitializer&gt;\n      &lt;/context&gt;\n    &lt;/contexts&gt;\n  &lt;/entityFramework&gt;\n\n\n# Solution Code:\ninternal sealed class Configuration : DbMigrationsConfiguration&lt;AuctionContext&gt;\n{\n    public Configuration()\n    {\n        AutomaticMigrationsEnabled = true;\n        // AutomaticMigrationDataLossAllowed = true; // You may want this also, but be careful.\n    }\n}\n\n\ntrue\n\nAuctionService.DataAccess.Migrations.Configuration\n\ntrue\n\nEnable-Migrations –EnableAutomaticMigrations",
    "resolution": "Try ensuring you have set the AutomaticMigrationsEnabled property to true in the constructor of your AuctionService.DataAccess.Migrations.Configuration class. Once that is going, you may also get an exception if there's potential data loss; you can ignore this by setting the AutomaticMigrationDataLossAllowed property to true. For example: internal sealed class Configuration : DbMigrationsConfiguration<AuctionContext> { public Configuration() { AutomaticMigrationsEnabled = true; // AutomaticMigrationDataLossAllowed = true; // You may want this also, but be careful. } } I'm not sure if you can set this in the .config file (can't find documentation on this). I believe that when you initially set up migrations, you can get the generated Configuration class to have that property set for you by running the command Enable-Migrations –EnableAutomaticMigrations",
    "severity": "medium",
    "tags": [
      "web-config",
      "entity-framework-5",
      "entity-framework-migrations"
    ],
    "metadata": {
      "stackoverflow_question_id": "13213981",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 8150,
      "stackoverflow_creation_date": "2012-11-03T22:09:53.627Z"
    },
    "idempotency_key": "stackoverflow-13213981",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Networking: Difference between Transport layer and Networking Layer",
    "body": "In Internet Model there are four layers: Link -> Networking -> Transport -> Application. I don't really know the difference between networking layer and transport layer. As I read: Transport layer: include congestion control, flow control, reliability ... Networking layer: route data from A to B So, base on above properties, I see that there are some overlaps between those two layers. 1) Networking layer decides to move data from A to B. But, when data has known how to moved from A to B, what does it means for term \"flow control\" \"congestion control\" ... ? How and What does it control when the packet (and byte stream is in packet) has already known to moved across network. 2) Or other example, TCP protocol in Transport layer is ORDERED delivery of a stream. But, TCP doesn't decide how to move data, but Networking layer. So, how can TCP can do ? So, I cannot get in those two terms. Please teach me. Thanks :)",
    "code": "Transport layer: include congestion control, flow control, reliability ...\nNetworking layer: route data from A to B\n\n\n# Solution Code:\n      Sender                          Receiver\n\n\n    -----------                      ------------\n   |           |   virtual link     |            |\n   | Transport | -----------------&gt; | Transport  |\n   |           |                    |            |\n    -----------                      ------------\n         |                                |\n         |                                |\n    -----------                       -----------\n   |           |    virtual link     |           |\n   |  Network  | ------------------&gt; |  Network  |\n   |           |                     |           |\n    -----------                       -----------\n         |                                |\n         |                                |\n    -----------                       -----------\n   |           |                     |           |\n   | Physical  |                     | Physical  |\n   |           |                     |           |\n    -----------                       -----------\n         ↓                                 ↑\n         |____________real link____________|\n",
    "resolution": "These are levels of abstraction. Transport Layer is where the decision to use TCP/UDP is made. Among commonly used protocols in this layer, TCP is reliable, UDP isn't. Depending upon the choice made, the respective headers are attached to your packet. TCP for example just knows about SYN-ACK, Three-way handshake mechanisms, but does not know the address of the remote-endpoint, or the mechanism of getting the packet across the network. Congestion control, Flow control help ensure that the network isn't flooded with packets, by regulating the number of packets being sent. Now, after TCP/UDP header being appended, it moves on to the Network Layer. Till this step, the remote end-point's IP address wasn't a part of the packet at all. It is at this step that the Source & Destination IP addresses are added to the packet. This layer actually knows the remote-endpoint. Sender Receiver ----------- ------------ | | virtual link | | | Transport | -----------------> | Transport | | | | | ----------- ------------ | | | | ----------- ----------- | | virtual link | | | Network | ------------------> | Network | | | | | ----------- ----------- | | | | ----------- ----------- | | | | | Physical | | Physical | | | | | ----------- ----------- ↓ ↑ |____________real link____________| The sender's Transport Layer data, is the exact data received by the receiver's transport layer. As the packet travels down the sender, each layer is adding its own header information, but all of that is removed by the corresponding layer on the receiver. The advantage is that a virtual link is established, like the one shown above, whereas the real link is only in the physical layer.",
    "severity": "high",
    "tags": [
      "network-programming",
      "osi"
    ],
    "metadata": {
      "stackoverflow_question_id": "13333794",
      "stackoverflow_score": 33,
      "stackoverflow_view_count": 63151,
      "stackoverflow_creation_date": "2012-11-11T17:55:08.613Z"
    },
    "idempotency_key": "stackoverflow-13333794",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I get 'puma' to start, automatically, when I run `rails server` (like Thin does)",
    "body": "Normally, when you run rails server it starts Webrick. If you install the 'thin' gem, then 'thin' starts instead. I would like to do the same thing with the 'puma' server. I see that the start command within railties (lib/rails/commands) calls super, but I can't find what the various options for 'super' are. I have also reviewed many references to Rails within 'thin'. I found a Changelog entry entitled \"Added Thin support to script/server. #488 [Bob Klosinski]\" from Oct. of 2008, but that code area has changed significantly since that commit (a93ea88c0623b4f65af98c0eb55924c335bb3ac1). If someone could direct me to the right section of code, that would be very helpful.",
    "code": "rails server\n\nstart\n\n# Solution Code:\nrequire 'rack/handler'\nRack::Handler::WEBrick = Rack::Handler.get(:puma)\n\n\nrails s\n=&gt; Booting Puma\n=&gt; Rails 3.2.12 application starting in development on http://0.0.0.0:3000\n=&gt; Call with -d to detach\n=&gt; Ctrl-C to shutdown server\nConnecting to database specified by database.yml\nPuma 1.6.3 starting...\n* Min threads: 0, max threads: 16\n* Environment: development\n* Listening on tcp://0.0.0.0:3000\n\n\nrails s",
    "resolution": "After some digging, I've found this answer: https://stackoverflow.com/a/14911994/604526 To make Puma the default, paste this code into script/rails above require 'rails/commands': require 'rack/handler' Rack::Handler::WEBrick = Rack::Handler.get(:puma) Puma is the default server now if you use rails s rails s => Booting Puma => Rails 3.2.12 application starting in development on http://0.0.0.0:3000 => Call with -d to detach => Ctrl-C to shutdown server Connecting to database specified by database.yml Puma 1.6.3 starting... * Min threads: 0, max threads: 16 * Environment: development * Listening on tcp://0.0.0.0:3000 Rails 4 With Rails 4 you simply have to add the puma-gem to the Gemfile. (Tested with Rails 4.0.2 and Puma 2.6.0)",
    "severity": "high",
    "tags": [
      "ruby-on-rails",
      "puma"
    ],
    "metadata": {
      "stackoverflow_question_id": "13365940",
      "stackoverflow_score": 31,
      "stackoverflow_view_count": 29739,
      "stackoverflow_creation_date": "2012-11-13T17:48:40.070Z"
    },
    "idempotency_key": "stackoverflow-13365940",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I use single quote inside sql command?",
    "body": "Possible Duplicate: How do I escape a single quote in sqlserver? I got a script below that drop everything on the database from this link. It does error when I execute on this line. SET @statement = ' IF(@type = 'F') or (@type = 'C') or (@type = 'D') or (@type='F') or (@type='K') The reason is because the single quote. I want to know how can I fix this error? /*** drop (pretty much) everything before rebuilding the database ***/ DECLARE OBJECTS CURSOR FOR SELECT so.name, so.type, so.type_desc, p.name AS parentName FROM sys.objects AS so LEFT JOIN sys.objects AS p ON so.parent_object_id = p.object_id WHERE so.schema_id = 1 ORDER BY CASE WHEN so.type = 'F' THEN 0 WHEN so.type = 'TR' THEN 1 WHEN so.type = 'U' THEN 2 WHEN so.type = 'F' THEN 3 ELSE 4 END OPEN OBJECTS DECLARE @name AS nvarchar (MAX) DECLARE @type AS nvarchar (2) DECLARE @type_desc AS nvarchar DECLARE @parentName AS nvarchar (MAX) DECLARE @statement AS nvarchar (MAX) FETCH NEXT FROM OBJECTS INTO @name, @type, @type_desc, @parentName WHILE @@FETCH_STATUS = 0 BEGIN SET @statement = ' IF(@type = ' F ') BEGIN PRINT ' DROPING FK : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') ' SET @statement = ' ALTER TABLE ' + @parentName + ' DROP CONSTRAINT ' + @name EXECUTE(@statement) END ELSE IF (@type = ' TR ') BEGIN PRINT ' DROPING TRIGGER : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') ' SET @statement = ' DROP TRIGGER ' + @name EXECUTE(@statement) END ELSE IF (@type = ' U ') BEGIN PRINT ' DROPING TABLE : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') ' SET @statement = ' DROP TABLE ' + @name EXECUTE(@statement) END ELSE IF (@type = ' FN ') BEGIN PRINT ' DROPING FUNCTION : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') ' SET @statement = ' DROP FUNCTION ' + @name EXECUTE(@statement) END ELSE PRINT ' Didn 't drop object ' + @name + ' of type ' + @type + ' (' + @type_desc + ')' FETCH NEXT FROM OBJECTS INTO @name, @type, @type_desc, @parentName END CLOSE OBJECTS DEALLOCATE OBJECTS",
    "code": "SET @statement = '\nIF(@type = 'F') or (@type = 'C') or (@type = 'D') or (@type='F') or (@type='K')\n\n\n/*** drop (pretty much) everything before rebuilding the database ***/\nDECLARE\n    OBJECTS CURSOR FOR SELECT\n        so.name,\n        so.type,\n        so.type_desc,\n        p.name AS parentName\n    FROM\n        sys.objects AS so\n    LEFT JOIN sys.objects AS p ON so.parent_object_id = p.object_id\n    WHERE\n        so.schema_id = 1\n    ORDER BY\n        CASE\n    WHEN so.type = 'F' THEN\n        0\n    WHEN so.type = 'TR' THEN\n        1\n    WHEN so.type = 'U' THEN\n        2\n    WHEN so.type = 'F' THEN\n        3\n    ELSE\n        4\n    END OPEN OBJECTS DECLARE\n        @name AS nvarchar (MAX) DECLARE\n            @type AS nvarchar (2) DECLARE\n                @type_desc AS nvarchar DECLARE\n                    @parentName AS nvarchar (MAX) DECLARE\n                        @statement AS nvarchar (MAX) FETCH NEXT\n                    FROM\n                        OBJECTS INTO @name,\n                        @type,\n                        @type_desc,\n                        @parentName\n                    WHILE @@FETCH_STATUS = 0\n                    BEGIN\n\n                    SET @statement = '    IF(@type = ' F ')\nBEGIN\nPRINT ' DROPING FK : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') '\nSET @statement = ' ALTER TABLE ' + @parentName + ' DROP CONSTRAINT ' + @name\nEXECUTE(@statement)\nEND\nELSE IF (@type = ' TR ')\nBEGIN\nPRINT ' DROPING TRIGGER : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') '\nSET @statement = ' DROP TRIGGER ' + @name\nEXECUTE(@statement)\nEND\nELSE IF (@type = ' U ')\nBEGIN\nPRINT ' DROPING TABLE : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') '\nSET @statement = ' DROP TABLE ' + @name\nEXECUTE(@statement)\nEND\nELSE IF (@type = ' FN ')\nBEGIN\nPRINT ' DROPING FUNCTION : ' + @name + ' OF type ' + @type + ' (' + @type_desc + ') '\nSET @statement = ' DROP FUNCTION ' + @name\nEXECUTE(@statement)\nEND\nELSE\nPRINT ' Didn 't drop object ' + @name + ' of type ' + @type + ' (' + @type_desc + ')'    FETCH NEXT\n                    FROM\n                        OBJECTS INTO @name,\n                        @type,\n                        @type_desc,\n                        @parentName\n                    END CLOSE OBJECTS DEALLOCATE OBJECTS\n\n\n# Solution Code:\nSET @statement = 'world''s view';\nSET @statement2 = 'world''s view';\n\n\nSET @statement = '\n                IF(@type = ''F'') or (@type = ''C'')  or\n                  (@type = ''D'') or (@type=''F'') or\n                  (@type=''K'')'\n\n-- the strings are all red.\n",
    "resolution": "if you want to use single quote inside a prepared statement, escape it with another single quote, example, SET @statement = 'world''s view'; SET @statement2 = 'world''s view'; from your example above SET @statement = ' IF(@type = ''F'') or (@type = ''C'') or (@type = ''D'') or (@type=''F'') or (@type=''K'')' -- the strings are all red.",
    "severity": "high",
    "tags": [
      "sql",
      "sql-server"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "13391730",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 27094,
      "stackoverflow_creation_date": "2012-11-15T04:50:55.567Z"
    },
    "idempotency_key": "stackoverflow-13391730",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Android VideoView Cannot play video mp4",
    "body": "I used the Android VideoView to play a video file via HTTP. My problem is my phone prompts \"Cannot play video Sorry, this video cannot be played.\" when playing a mp4 file from HTTP. But it is ok when playing another mp4 video file. When used in a newer phone, like Samsung Galaxy S, my program can play both mp4 video file from HTTP successfully. My phone: Samsung GT-S5830 Android version: 2.3.4 Display: 320x480. Video file 1 (OK): Video Codec: H.264 Resolution: 640x360 Others: 16:9, 340kbps, 29.92fps Audio Codec: AAC, 44kHz 96kbps Stereo. Video file 2 (Fail): Video Codec: H.264 Resolution: 640x360 Others: 16:9, 993kbps, 25fps Audio Codec: AAC 44kHz 125kbps Stereo. Below is my code that hardcoded to play the video file 1 successfully. public class VideoPlayActivity extends Activity { VideoView vv; @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); //requestWindowFeature(Window.FEATURE_NO_TITLE); //getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN); vv = new VideoView(this); RelativeLayout.LayoutParams param1 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT); param1.addRule(RelativeLayout.CENTER_IN_PARENT); vv.setOnErrorListener(new OnErrorListener() { public boolean onError(MediaPlayer mp, int what, int extra) { Log.d(\"Dbg\", \"OnErrorListener: onError: \" + what + \", \" + extra); return false; } }); RelativeLayout layout = new RelativeLayout(this); layout.addView(vv, param1); setContentView(layout); playContent(); } private void playContent() { String path = \"http://rmcdn.2mdn.net/MotifFiles/html/1248596/android_1330378998288.mp4\"; vv.setVideoPath(path); vv.requestFocus(); vv.start(); } } The error log when playing video file 2 is as below: 11-19 17:49:30.119: I/VideoView(16860): start() 11-19 17:49:30.139: E/MediaPlayer(16860): error (1, -2147483648) 11-19 17:49:30.149: E/MediaPlayer(16860): Error (1,-2147483648) 11-19 17:49:30.149: D/VideoView(16860): Error: 1,-2147483648 11-19 17:49:30.149: D/Dbg(16860): OnErrorListener: onError: 1, -2147483648 It is noted that I tried to install the MX player and downloaded the both video file into my phone's SD card. The MX player can play both video files successfully. So, can anyone help me to answer the questions below: Why my program cannot play the video file 2 on my phone? How can I play the video file 2 on my phone? Thank you for your advice.",
    "code": "Samsung GT-S5830  \nAndroid version: 2.3.4  \nDisplay: 320x480.\n\nVideo file 1 (OK):  \nVideo Codec: H.264  \nResolution: 640x360  \nOthers: 16:9, 340kbps, 29.92fps  \nAudio Codec: AAC, 44kHz 96kbps Stereo.\n\n\nVideo file 2 (Fail):  \nVideo Codec: H.264  \nResolution: 640x360  \nOthers: 16:9, 993kbps, 25fps  \nAudio Codec: AAC 44kHz 125kbps Stereo.\n\n\npublic class VideoPlayActivity extends Activity {\nVideoView vv;\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    //requestWindowFeature(Window.FEATURE_NO_TITLE);\n    //getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN);\n\n    vv = new VideoView(this);\n    RelativeLayout.LayoutParams param1 = new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.MATCH_PARENT, RelativeLayout.LayoutParams.MATCH_PARENT);\n    param1.addRule(RelativeLayout.CENTER_IN_PARENT);\n    vv.setOnErrorListener(new OnErrorListener() {\n\n        public boolean onError(MediaPlayer mp, int what, int extra) {\n            Log.d(\"Dbg\", \"OnErrorListener: onError: \" + what + \", \" + extra);\n            return false;\n        }\n\n    });\n\n    RelativeLayout layout = new RelativeLayout(this);\n    layout.addView(vv, param1);\n\n    setContentView(layout);\n\n    playContent();\n\n }\n\n private void playContent() {\n    String path = \"http://rmcdn.2mdn.net/MotifFiles/html/1248596/android_1330378998288.mp4\";\n\n    vv.setVideoPath(path);\n    vv.requestFocus();\n    vv.start();\n    }\n}\n\n\n11-19 17:49:30.119: I/VideoView(16860): start()  \n11-19 17:49:30.139: E/MediaPlayer(16860): error (1, -2147483648)  \n11-19 17:49:30.149: E/MediaPlayer(16860): Error (1,-2147483648)  \n11-19 17:49:30.149: D/VideoView(16860): Error: 1,-2147483648  \n11-19 17:49:30.149: D/Dbg(16860): OnErrorListener: onError: 1, -2147483648  \n",
    "severity": "high",
    "tags": [
      "android",
      "video",
      "mp4",
      "android-videoview"
    ],
    "metadata": {
      "stackoverflow_question_id": "13451180",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 23391,
      "stackoverflow_creation_date": "2012-11-19T09:45:19.500Z"
    },
    "idempotency_key": "stackoverflow-13451180",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to find Nth Element , when a click is activated",
    "body": "<p>some text</p> <p>some text</p> <p>some text</p> <p>some text</p> <p>some text</p> <p>some text</p> <p>some text</p> Is there any way to identify that when a mouse is clicked at random. Is there anyway to get nth element of the selected through mouse ? edit: when we click over a paragraph, i am using jquery",
    "code": "  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n  &lt;p&gt;some text&lt;/p&gt;\n\n\n# Solution Code:\nvar $elems = $('p');\n$elems.on('click', function(e) {\n    var indexOfElem = $elems.index(this);\n    console.log(\"Element with index: \" + indexOfElem + \" was clicked.\");\n});\n",
    "resolution": "This logs the index of the paragraph that was clicked. var $elems = $('p'); $elems.on('click', function(e) { var indexOfElem = $elems.index(this); console.log(\"Element with index: \" + indexOfElem + \" was clicked.\"); }); Something like this?",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "html"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "13550079",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1347,
      "stackoverflow_creation_date": "2012-11-25T10:16:30.890Z",
      "stackoverflow_owner": "user708537"
    },
    "idempotency_key": "stackoverflow-13550079",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Click not working after ajax content has loaded",
    "body": "How can I make live('click',function()\" work after an ajax call and returning content with html(data)? After 4 hrs of searching I think I'd better ask because I am getting nowhere. This part is working: $.ajax({ type: \"POST\", url: \"loadAlbum.php\", data: dataString, success: function(data){ $(\".loader\").html(data, {}, function(){ //content is loaded now //need to get the function below working in this part of the content }); }, error : function(data) { } }); }); And I need this one to work in the ajax above: $('.divName as inside loader').live('click',function(){ alert('gotClicked'); var vidItem = $(this).attr('data'); vidItem = vidItem.split('-'); var bookID = vidItem[0]; var state = vidItem[1]; var dataString = 'bookID='+ bookID + '&state=' + state; alert(dataString); });",
    "code": "$.ajax({\n    type: \"POST\",\n    url: \"loadAlbum.php\",\n    data: dataString,\n    success: function(data){\n        $(\".loader\").html(data, {}, function(){ \n        //content is loaded now\n        //need to get the function below working in this part of the content\n        }); \n    },\n    error : function(data) { } \n    });\n});\n\n\n$('.divName as inside loader').live('click',function(){  \n\nalert('gotClicked');\n\n    var vidItem = $(this).attr('data');\n    vidItem = vidItem.split('-'); var bookID = vidItem[0]; var state = vidItem[1];\n    var dataString = 'bookID='+ bookID + '&amp;state=' + state;\n\nalert(dataString); \n\n});\n\n\n# Solution Code:\n$(\"body\").on(\"click\", \"divClass\", function(event){\n    alert('gotClicked');\n});\n\n\n.live()\n\n.on()\n\nlive()\n\non()",
    "resolution": ".live() is deprecated. Use .on() instead. $(\"body\").on(\"click\", \"divClass\", function(event){ alert('gotClicked'); }); Also, just to make sure you're calling the div correctly, it shouldn't be the div name it should be the div class when calling it in that fashion. Also, using live() and on() needs to be applied at a parent level that exists at the document load. If this divName you're using didn't exist when the page loaded itself it can't be bound to. However, if you bind to the body element, then it'll always look for the div when the click occurs.",
    "severity": "high",
    "tags": [
      "jquery",
      "ajax"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "13584971",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 30951,
      "stackoverflow_creation_date": "2012-11-27T13:09:18.157Z"
    },
    "idempotency_key": "stackoverflow-13584971",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "kernel module: Accessing member of structure defined in another module header",
    "body": "I'm trying to write a kernel module but I'm stuck with accessing member of structure defined in another module header. I'll try to explain: Let's say the other module is: <kernel-src>/drivers/xxx/xxx.c|.h in xxx.c there are some exported functions which I'm using in my driver. However I want to access the member m1 from struct s_xxx defined in xxx.h: struct s_xxx { ... int m1; }; Next I have this in /usr/include/linux/yyy.h: struct s_xxx; struct s_yyy { ... struct s_xxx *p_xxx; }; I my driver I've: #include <linux/yyy.h> and I'm successfully using the exported symbols from the xxx driver. But of course if I try to access member from s_xxx the compiler complains: struct s_yyy *p_yyy; ... m = p_yyy->p_xxx->m1; /* error */ xxx.h can't be found in /usr/include/linux/. So far I've found 2 workarounds: 1) to download the kernel sources and include the full path to xxx.h in my module 2) copy/paste the s_xxx definition from xxx.h to my module What is the correct way to do this? (sorry for the long and crappy explanation :@ )",
    "code": "&lt;kernel-src&gt;/drivers/xxx/xxx.c|.h\n\n\nstruct s_xxx {\n    ...\n    int m1;\n};\n\n\nstruct s_xxx;\nstruct s_yyy {\n    ...\n    struct s_xxx *p_xxx;\n};\n\n\n#include &lt;linux/yyy.h&gt;\n\n\nstruct s_yyy *p_yyy;\n...\nm = p_yyy-&gt;p_xxx-&gt;m1; /* error */\n\n\n# Solution Code:\nstruct s_xxx;\nstruct s_yyy {\n    ...\n    struct s_xxx *p_xxx;\n};\n\n\nstruct s_xxx",
    "resolution": "struct s_xxx; struct s_yyy { ... struct s_xxx *p_xxx; }; In absence of xxx.h this means you have a forward declaration of struct s_xxx and you can declare pointers to it, but you can't use its members yet or instantiate one, because its size or members aren't known to the compiler. You need to include the full structure definition by including xxx.h in the compilation unit. If xxx.h is not part of xxx's public interface but you still insist on accessing the internals of the module you face the risk of a catastrophic compatibility break in the future if the internal structure of xxx is changed. It is not advisable to copy the structure definition to your own code because binary compatibility between the structures cannot be guaranteed, unless you have built everything yourself with the same compiler and options.",
    "severity": "medium",
    "tags": [
      "c",
      "linux-kernel",
      "linux-device-driver"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "13590517",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1651,
      "stackoverflow_creation_date": "2012-11-27T18:18:23.267Z"
    },
    "idempotency_key": "stackoverflow-13590517",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Force Smarty to show PHP errors",
    "body": "I've been working with PHP for a while, but fairly new to Smarty. I'm working with Prestashop and I've noticed Smarty seems to eat up all PHP errors - when there's an error in the PHP code, the .tpl file just outputs a blank page. I've been trying but I can't get Smarty to display whatever the PHP code outputs, even if there's an error. PHP error reporting is set to show errors. So, for instance, let's say this is the example.php file: <?php //included classes etc go here, irrelevant for this issue error_reporting(E_ALL ^ E_NOTICE); echo obvious wrong syntax\" ?> This file is connected to example.tpl which fits the output in a template block. Obviously, it should throw an error. How do I make Smarty actually display that error?",
    "code": "&lt;?php\n//included classes etc go here, irrelevant for this issue\n\nerror_reporting(E_ALL ^ E_NOTICE);\n\necho obvious wrong syntax\"\n?&gt;\n\n\n# Solution Code:\n/* Debug only */\n@ini_set('display_errors', 'on');\ndefine('_PS_DEBUG_SQL_', true);\n\n\n$smarty-&gt;debugging = true;\n\n\nconfig/config.inc.php\n\noff\n\non\n\nthemes/debug.tpl\n\nAlways open console\n\nOpen console with URL parameter (SMARTY_DEBUG)\n\n?SMARTY_DEBUG",
    "resolution": "To activate debug mode, go to config/config.inc.php Find the following lines and chage off to on for the first one and set to true the second /* Debug only */ @ini_set('display_errors', 'on'); define('_PS_DEBUG_SQL_', true); This will display PHP and SQL errors (this would probably be enough for you to resolve \"blank page\"). There is also a blog post on prestashop site about p() and d() methods and how to track exceptions To activate templates debug in Prestashop version older than 1.5,go to config/smarty.config.inc.php Find the following line and set it to true $smarty->debugging = true; When you refresh your page, themes/debug.tpl should be rendered. To activate templates debug in Prestashop 1.5+ you can enable Smarty debugging via Admin panel Preferences > Performance > Smarty and set Always open console but console will be opened for everyone ( not good for live site :) ) or set Open console with URL parameter (SMARTY_DEBUG) and add ?SMARTY_DEBUG to the end of your URL to see console Hope this helps.",
    "severity": "high",
    "tags": [
      "php",
      "smarty",
      "prestashop"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "13606400",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 19666,
      "stackoverflow_creation_date": "2012-11-28T13:39:10.577Z"
    },
    "idempotency_key": "stackoverflow-13606400",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Maven build assembly with dependencies",
    "body": "I have standalone java application, which i wanted to package as: myapp.jar. And all dependent jars to be copied to 'alternate folder'. Ideally, i would like to have maven update META-INF file to add all classpath dependencies jars entries into it. for example, if my project is referencing commons.jar, and when i use this plugin to build assembly, it copies all .class files and packages from commons.jar into myappjar-with-dependencies.jar. The problem with maven assembly plugin unjars all dependencies into myappjar-with-dependencies.jar. <plugin> <artifactId>maven-assembly-plugin</artifactId> <version>2.4</version> <configuration> <descriptorRefs> <descriptorRef>jar-with-dependencies</descriptorRef> </descriptorRefs> <archive> <manifest> <mainClass>com.core.App</mainClass> </manifest> </archive> </configuration> <executions> <execution> <id>make-assembly</id> <phase>package</phase> <goals> <goal>single</goal> </goals> </execution>",
    "code": "&lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.core.App&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;make-assembly&lt;/id&gt; \n                    &lt;phase&gt;package&lt;/phase&gt; \n                    &lt;goals&gt;\n                        &lt;goal&gt;single&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n\n\n# Solution Code:\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;com.core.App&lt;/mainClass&gt;\n                        &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                        &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;descriptors&gt;\n                    &lt;descriptor&gt;src/assembly/bin.xml&lt;/descriptor&gt;\n                &lt;/descriptors&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n&lt;assembly\n    xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd\"&gt;\n    &lt;formats&gt;\n        &lt;format&gt;dir&lt;/format&gt;\n    &lt;/formats&gt;\n    &lt;includeBaseDirectory&gt;false&lt;/includeBaseDirectory&gt;\n    &lt;dependencySets&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/&lt;/outputDirectory&gt;\n            &lt;unpack&gt;false&lt;/unpack&gt;\n            &lt;includes&gt;\n                &lt;include&gt;${artifact}&lt;/include&gt;\n            &lt;/includes&gt;\n        &lt;/dependencySet&gt;\n        &lt;dependencySet&gt;\n            &lt;outputDirectory&gt;/lib&lt;/outputDirectory&gt;\n            &lt;unpack&gt;false&lt;/unpack&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;${artifact}&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/dependencySet&gt;\n    &lt;/dependencySets&gt;\n&lt;/assembly&gt;\n\n\nmvn clean package assembly:single\n",
    "resolution": "You can try as <plugin> <groupId>org.apache.maven.plugins</groupId> <artifactId>maven-jar-plugin</artifactId> <configuration> <archive> <manifest> <mainClass>com.core.App</mainClass> <addClasspath>true</addClasspath> <classpathPrefix>lib/</classpathPrefix> </manifest> </archive> </configuration> </plugin> <plugin> <artifactId>maven-assembly-plugin</artifactId> <configuration> <descriptors> <descriptor>src/assembly/bin.xml</descriptor> </descriptors> </configuration> </plugin> src/assembly/bin.xml <assembly xmlns=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd\"> <formats> <format>dir</format> </formats> <includeBaseDirectory>false</includeBaseDirectory> <dependencySets> <dependencySet> <outputDirectory>/</outputDirectory> <unpack>false</unpack> <includes> <include>${artifact}</include> </includes> </dependencySet> <dependencySet> <outputDirectory>/lib</outputDirectory> <unpack>false</unpack> <excludes> <exclude>${artifact}</exclude> </excludes> </dependencySet> </dependencySets> </assembly> Run it as mvn clean package assembly:single Details: http://maven.apache.org/plugins/maven-assembly-plugin/index.html",
    "severity": "high",
    "tags": [
      "java",
      "maven"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "13615634",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 37878,
      "stackoverflow_creation_date": "2012-11-28T22:34:25.097Z"
    },
    "idempotency_key": "stackoverflow-13615634",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Copy to clipboard text output from database",
    "body": "I have a search form that outputs merchant details (each merchant's name, phone, email address) into a table. I'm looking to have a copy button next to each one of these fields so users can click on it and copy it to their clipboard (the text gets highlighted when copied). My users will be browsing with IE9 only. The problem is that there may be more than one set of results, so the script cannot call a specific numbered function like I have done with textarea's below: function highlightmetasearch01() { document.copydata01.text2copy01.select(); document.copydata01.text2copy01.focus(); } function copymetasearch01() { highlightmetasearch01(); textRange = document.copydata01.text2copy01.createTextRange(); textRange.execCommand(\"RemoveFormat\"); textRange.execCommand(\"Copy\"); } function highlightmetasearch02() { document.copydata02.text2copy02.select(); document.copydata02.text2copy02.focus(); } function copymetasearch02() { highlightmetasearch02(); textRange = document.copydata02.text2copy02.createTextRange(); textRange.execCommand(\"RemoveFormat\"); textRange.execCommand(\"Copy\"); } HTML: <textarea name=\"text2copy01\">The first textarea.</textarea> <br /> <button onclick=\"copymetasearch01();return false;\">COPY</button> <textarea name=\"text2copy02\">The second textarea.</textarea> <br /> <button onclick=\"copymetasearch02();return false;\">COPY</button> I was wondering if this would be possible? ... <td><span>Name from DB here</span> <button onclick=\"<!--copy and highlight text within most recent span tag-->\">COPY</button></td> <td><span>Phone from DB here</span> <button onclick=\"<!--copy and highlight text within most recent span tag-->\">COPY</button></td> <td>Other text here that shouldn't be highlighted or copied <span>Email address from DB here</span> <button onclick=\"<!--copy and highlight text within most recent span tag-->\">COPY</button></td> Or is there a more efficient way to approach this?",
    "code": "function highlightmetasearch01() {\n    document.copydata01.text2copy01.select();\n     document.copydata01.text2copy01.focus(); \n}\nfunction copymetasearch01() {\n    highlightmetasearch01();\n    textRange = document.copydata01.text2copy01.createTextRange();\n    textRange.execCommand(\"RemoveFormat\");\n    textRange.execCommand(\"Copy\");\n}\n\nfunction highlightmetasearch02() {\n    document.copydata02.text2copy02.select();\n    document.copydata02.text2copy02.focus(); \n}\nfunction copymetasearch02() {\n    highlightmetasearch02();\n    textRange = document.copydata02.text2copy02.createTextRange();\n    textRange.execCommand(\"RemoveFormat\");\n    textRange.execCommand(\"Copy\");\n}\n\n\n&lt;textarea name=\"text2copy01\"&gt;The first textarea.&lt;/textarea&gt;\n&lt;br /&gt;\n&lt;button onclick=\"copymetasearch01();return false;\"&gt;COPY&lt;/button&gt;\n\n&lt;textarea name=\"text2copy02\"&gt;The second textarea.&lt;/textarea&gt;\n&lt;br /&gt;\n&lt;button onclick=\"copymetasearch02();return false;\"&gt;COPY&lt;/button&gt;\n\n\n&lt;td&gt;&lt;span&gt;Name from DB here&lt;/span&gt; &lt;button onclick=\"&lt;!--copy and highlight text within most recent span tag--&gt;\"&gt;COPY&lt;/button&gt;&lt;/td&gt;\n\n&lt;td&gt;&lt;span&gt;Phone from DB here&lt;/span&gt; &lt;button onclick=\"&lt;!--copy and highlight text within most recent span tag--&gt;\"&gt;COPY&lt;/button&gt;&lt;/td&gt;\n\n&lt;td&gt;Other text here that shouldn't be highlighted or copied &lt;span&gt;Email address from DB here&lt;/span&gt; &lt;button onclick=\"&lt;!--copy and highlight text within most recent span tag--&gt;\"&gt;COPY&lt;/button&gt;&lt;/td&gt;\n",
    "severity": "medium",
    "tags": [
      "javascript"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "13702341",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3676,
      "stackoverflow_creation_date": "2012-12-04T11:56:05.653Z"
    },
    "idempotency_key": "stackoverflow-13702341",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Can Go code generate dll in windows or can C ++/C# call golang code?",
    "body": "Can Go functions be called by C++ or C# code on windows? Does Go support generating dll in Windows?",
    "code": "C++\n\nC#",
    "severity": "high",
    "tags": [
      "go"
    ],
    "metadata": {
      "language": "go",
      "stackoverflow_question_id": "13720425",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 11169,
      "stackoverflow_creation_date": "2012-12-05T09:54:33.917Z"
    },
    "idempotency_key": "stackoverflow-13720425",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Qt5 -porting a simple Qt Quick application to Qt5. help needed",
    "body": "I am trying to port a simple Qt Quick application from Qt4.8 to Qt5.0beta. my initial (Qt4.8) code is similar to what is below: main.cpp will dipsplay a QDeclarativeView in a frameless window with translucent background #include <QtGui/QApplication> #include \"qmlapplicationviewer.h\" #include <QtDeclarative> #include <QDeclarativeContext> Q_DECL_EXPORT int main(int argc, char *argv[]) { QScopedPointer<QApplication> app(createApplication(argc, argv)); QmlApplicationViewer viewer; viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto); viewer.setMainQmlFile(QLatin1String(\"qml/main.qml\")); viewer.setWindowFlags(Qt::FramelessWindowHint); viewer.setAttribute(Qt::WA_TranslucentBackground); viewer.setStyleSheet(\"background:transparent;\"); viewer.setResizeMode(QDeclarativeView::SizeViewToRootObject); viewer.showExpanded(); return app->exec(); } and the main.qml will just display a red rectangle inside another transparent rectangle. import QtQuick 1.1 Rectangle { width: 360 height: 360 color: \"transparent\" Rectangle { x: 125 y: 122 width: 110 height: 116 anchors.centerIn: parent color: \"red\" radius: 27 } Text { color: \"black\" text: qsTr(\"Press me!\") font.pointSize: 14 anchors.centerIn: parent } MouseArea { anchors.fill: parent onClicked: { Qt.quit(); } } } In order to make it compatible with Qt5 few changes were necessary. (I have followed http://qt-project.org/doc/qt-5.0/portingqmlapp.html [qt-project.org] in order not to miss something) Now main.cpp is similar to: #include <QtGui/QGuiApplication> #include \"qtquick2applicationviewer.h\" #include <QtWidgets/QtWidgets> #include <QtWidgets/QLabel> int main(int argc, char *argv[]) { QGuiApplication app(argc, argv); QtQuick2ApplicationViewer viewer; viewer.setMainQmlFile(QStringLiteral(\"qml/main.qml\")); viewer.setWindowFlags(Qt::FramelessWindowHint); viewer.showExpanded(); return app.exec(); } In main.qml only one line was replaced. import QtQuick 2.0 but I am not able to find a way of keeping the transparency setAttribute(Qt::WA_TranslucentBackground); setStyleSheet(\"background:transparent;\"); setAttribute and setStyleSheet were available for a QDeclarativeView (which is a QWidget) but not for QQuickView (which is a QWindow)",
    "code": "#include &lt;QtGui/QApplication&gt;\n#include \"qmlapplicationviewer.h\"\n#include &lt;QtDeclarative&gt;\n#include &lt;QDeclarativeContext&gt;\n\nQ_DECL_EXPORT int main(int argc, char *argv[])\n{\n    QScopedPointer&lt;QApplication&gt; app(createApplication(argc, argv));\n\n    QmlApplicationViewer viewer;\n    viewer.setOrientation(QmlApplicationViewer::ScreenOrientationAuto);\n    viewer.setMainQmlFile(QLatin1String(\"qml/main.qml\"));\n\n    viewer.setWindowFlags(Qt::FramelessWindowHint);\n\n    viewer.setAttribute(Qt::WA_TranslucentBackground);\n    viewer.setStyleSheet(\"background:transparent;\");\n    viewer.setResizeMode(QDeclarativeView::SizeViewToRootObject);\n    viewer.showExpanded();\n\n    return app-&gt;exec();\n}\n\n\nimport QtQuick 1.1\n\nRectangle {\n    width: 360\n    height: 360\n    color: \"transparent\"\n    Rectangle\n    {\n     x: 125\n     y: 122\n        width: 110\n        height: 116\n        anchors.centerIn: parent\n        color: \"red\"\n  radius: 27\n    }\n\n    Text {\n     color: \"black\"\n        text: qsTr(\"Press me!\")\n        font.pointSize: 14\n        anchors.centerIn: parent\n    }\n\n    MouseArea {\n        anchors.fill: parent\n        onClicked: {\n            Qt.quit();\n        }\n    }\n}\n\n\n#include &lt;QtGui/QGuiApplication&gt;\n#include \"qtquick2applicationviewer.h\"\n#include &lt;QtWidgets/QtWidgets&gt;\n#include &lt;QtWidgets/QLabel&gt;\n\nint main(int argc, char *argv[])\n{\n\n    QGuiApplication app(argc, argv);\n    QtQuick2ApplicationViewer viewer;\n    viewer.setMainQmlFile(QStringLiteral(\"qml/main.qml\"));\n    viewer.setWindowFlags(Qt::FramelessWindowHint);\n    viewer.showExpanded();\n\n\n    return app.exec();\n}\n\n\nimport QtQuick 2.0\n\n\nsetAttribute(Qt::WA_TranslucentBackground);\nsetStyleSheet(\"background:transparent;\");\n\n\n# Solution Code:\nQQuickWidget\n\nQt 5.3+",
    "resolution": "Try my QuickWidget, if it helps you: http://code.google.com/p/quickwidget/ Or, even better, use QQuickWidget from Qt 5.3+.",
    "severity": "medium",
    "tags": [
      "qt",
      "qml",
      "qt-quick",
      "qt5"
    ],
    "metadata": {
      "stackoverflow_question_id": "13725644",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4278,
      "stackoverflow_creation_date": "2012-12-05T14:40:02.753Z"
    },
    "idempotency_key": "stackoverflow-13725644",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Access 2003 project on x86 computer to Access 2010 x64",
    "body": "I just want to work on my projects at home but I'm getting some problems as I'm using Access 2010 on a x64 Windows 7 OS while the MDB project has been done with Access 2003 on Windows XP x86. I don't really want to convert the project to be x64 compatible, I would just like it to run in x86 mode on my computer. Actually, I get errors when trying to import those functions: Private Declare Function GetPrivateProfileString Lib \"kernel32\" Alias \"GetPrivateProfileStringA\" (ByVal lpApplicationName As String, ByVal lpKeyName As Any, ByVal lpDefault As String, ByVal lpReturnedString As String, ByVal nSize As Long, ByVal lpFileName As String) As Long Private Declare Function WritePrivateProfileString Lib \"kernel32\" Alias \"WritePrivateProfileStringA\" (ByVal lpApplicationName As String, ByVal lpKeyName As Any, ByVal lpString As Any, ByVal lpFileName As String) As Long Access says it must be updated to support 64 bits OS with some PtrSafe attribute. I don't really know what it does mean, but I know I would like it to work without any code modification but I don't find any option anywhere. Any ideas? Thank you",
    "severity": "low",
    "tags": [
      "vba",
      "ms-access",
      "x86",
      "cross-platform"
    ],
    "metadata": {
      "stackoverflow_question_id": "13733080",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 715,
      "stackoverflow_creation_date": "2012-12-05T21:48:38.540Z"
    },
    "idempotency_key": "stackoverflow-13733080",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "POST request with Android Annotation REST Service",
    "body": "I am using Android Annotation in my project and trying to send POST request through following code, however there is something wrong in following code as I am not getting response as expected: @Rest(rootUrl = \"http://xyz.com\", converters = {GsonHttpMessageConverter.class}) public interface A { @Post(\"/authenticate/email/\") public Object attemptLogin(Map data); } Where data is (key, value) pair. Is there anything I am missing perhaps Do I have to set request-header or data should not be JSON?",
    "code": "@Rest(rootUrl = \"http://xyz.com\", converters = {GsonHttpMessageConverter.class})\npublic interface A {\n\n    @Post(\"/authenticate/email/\")\n    public Object attemptLogin(Map data);\n}\n\n\nPOST\n\ndata\n\n(key, value)\n\nrequest-header\n\ndata\n\n# Solution Code:\n@Post(\"/events\")\nvoid addEvent(Event event);\n\n@Post(\"/events/{id}\")\nvoid addEventById(Event event, long id);\n\n@Post(\"/authenticate/event/\")\nObject authenticateEventData(MultiValueMap data);\n",
    "resolution": "I found the solution from Rest client using Android-Annotations. Like the GET requests, it is extremely simple to send POST requests using Android-Annotations. One difference is that you need to define the parameters that you are going to send as a custom class (e.g. Event class in the example below) or if you want to control this dynamically, then a Map (e.g. a MultiValueMap). The url for the request can still be constructed in a similar fashion using the variables enclosed inside {...} and the response can be handled similarly as in GET requests. @Post(\"/events\") void addEvent(Event event); @Post(\"/events/{id}\") void addEventById(Event event, long id); @Post(\"/authenticate/event/\") Object authenticateEventData(MultiValueMap data);",
    "severity": "medium",
    "tags": [
      "android",
      "spring",
      "rest",
      "android-annotations"
    ],
    "metadata": {
      "framework": "spring",
      "stackoverflow_question_id": "13905047",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4826,
      "stackoverflow_creation_date": "2012-12-16T20:09:30.040Z",
      "stackoverflow_owner": "user760955"
    },
    "idempotency_key": "stackoverflow-13905047",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I change text \"App would like to use your current location?\"",
    "body": "Can we change this text? I have used property purpose of CLLocationManager class. But message did not change. [locationManager setPurpose:@\"Change text message\"]; Any ideas? Thanks,",
    "code": "[locationManager setPurpose:@\"Change text message\"];\n\n\npurpose\n\nCLLocationManager\n\n# Solution Code:\nAvailable in iOS 3.2 and later.\nDeprecated in iOS 6.0.\n\n\nNSLocationUsageDescription\n\n@property(copy, nonatomic)\n\nNSString *purpose Discussion",
    "resolution": "Add a key in your info.plist like: NSLocationUsageDescription and add your string as it's value. iOS 8 and greater They introduced two more keys other than NSLocationUsageDescription NSLocationAlwaysUsageDescription NSLocationWhenInUseUsageDescription iOS 6 or greater NSLocationUsageDescription “Privacy - Location Usage Description” Specifies the reason for accessing the user’s location information. See “NSLocationUsageDescription” for details. iOS 6.0 and later Check this link for reference iOS 3.2 to iOS 5 purpose An application-provided string that describes the reason for using location services. (Deprecated in iOS 6.0.) @property(copy, nonatomic) NSString *purpose Discussion If this property is not nil and the system needs to ask for the user’s consent to use location services, it displays the provided string. You can use this string to explain why your application is using location services. You must set the value of this property prior to starting any location services. Because the string is ultimately displayed to the user, you should always load it from a localized strings file. Availability Available in iOS 3.2 and later. Deprecated in iOS 6.0. Declared In CLLocationManager.h",
    "severity": "medium",
    "tags": [
      "iphone",
      "ios",
      "delegates",
      "cllocationmanager",
      "userlocation"
    ],
    "metadata": {
      "stackoverflow_question_id": "13912634",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 3815,
      "stackoverflow_creation_date": "2012-12-17T10:47:35.707Z"
    },
    "idempotency_key": "stackoverflow-13912634",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Panel scroll vertically",
    "body": "I have a winform app in which I have a panel control. I want to be able to scroll inside the panel and place controls vertically more then the current height of the control and then have a scroll which will help me to see all the controls, how can I achieve that? This is the designer code as well, in case someone wants to take a look at the code: private void InitializeComponent() { this.panel1 = new System.Windows.Forms.Panel(); this.SuspendLayout(); // // panel1 // this.panel1.AutoScroll = true; this.panel1.BackColor = System.Drawing.SystemColors.ControlLightLight; this.panel1.Location = new System.Drawing.Point(12, 12); this.panel1.Name = \"panel1\"; this.panel1.Size = new System.Drawing.Size(267, 365); this.panel1.TabIndex = 0; // // Form2 // this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F); this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font; this.ClientSize = new System.Drawing.Size(456, 410); this.Controls.Add(this.panel1); this.Name = \"Form2\"; this.Text = \"Form2\"; this.ResumeLayout(false); }",
    "code": "private void InitializeComponent()\n{\n  this.panel1 = new System.Windows.Forms.Panel();\n  this.SuspendLayout();\n  // \n  // panel1\n  // \n  this.panel1.AutoScroll = true;           \n  this.panel1.BackColor = System.Drawing.SystemColors.ControlLightLight;\n  this.panel1.Location = new System.Drawing.Point(12, 12);    \n  this.panel1.Name = \"panel1\";\n  this.panel1.Size = new System.Drawing.Size(267, 365);\n  this.panel1.TabIndex = 0;\n  // \n  // Form2\n  // \n  this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);\n  this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;\n  this.ClientSize = new System.Drawing.Size(456, 410);\n  this.Controls.Add(this.panel1);\n  this.Name = \"Form2\";\n  this.Text = \"Form2\";\n  this.ResumeLayout(false);\n}\n\n\n# Solution Code:\npanel1.AutoScrollMinSize = new Size(0, 1200);\n",
    "resolution": "Since you have AutoScroll = true, you shouldn't have to do anything. Any control that you place in the panel that is below the visible boundary will automatically create the appropriate scroll distance in the panel. If you want to manually override that, set AutoScroll = false and set the size of the canvas yourself using the AutoScrollMinSize property, example: panel1.AutoScrollMinSize = new Size(0, 1200); You might want to consider anchoring the panel to the four sides of the form as well, or dock-fill, since it looks like a resizable form. Again, the panel will handle the scrollbar size for you.",
    "severity": "high",
    "tags": [
      "c#",
      "winforms",
      "visual-studio-2010",
      "panel"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "13942895",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 14421,
      "stackoverflow_creation_date": "2012-12-18T22:59:38.647Z"
    },
    "idempotency_key": "stackoverflow-13942895",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Running Selenium test on nUnit not executing scripts",
    "body": "When I was running my tests on C#-visualnUnit it runs successfully but when I was running it on Nunit only and just having the dll on the project it out puts like this: Started ChromeDriver port=49771 version=23.0.1240.0 log=\\chromedriver.log [1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends [1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends [1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends [18104:3564:1220/011849:ERROR:window_impl.cc(55)]Failed to unregister class Chrome_WidgetWin_0. Error = 1412 I was having multithreading here. It works just fine with my vs and visualnUnit. The problem was when I tried to run it in Nunit only. I am declaring IWebdriver driver = new ChromeDriver(); in visualNunit and vs it doesn't spawn any cmd and runs smoothly while with using Nunit it only spawns cmd prompts of its driver and doesn't continues the flow. The system I am running on is: Windows7 64bit.",
    "code": "Started ChromeDriver\nport=49771\nversion=23.0.1240.0\nlog=\\chromedriver.log\n\n[1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends\n[1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends\n[1220/011848:ERROR:ipc_sync_channel.cc(738)] Canceling pending sends\n[18104:3564:1220/011849:ERROR:window_impl.cc(55)]Failed to unregister class Chrome_WidgetWin_0. Error = 1412\n\n\nIWebdriver driver = new ChromeDriver();",
    "severity": "low",
    "tags": [
      "c#",
      "selenium",
      "nunit",
      "webdriver",
      "selenium-webdriver"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "13958892",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 799,
      "stackoverflow_creation_date": "2012-12-19T18:38:20.300Z"
    },
    "idempotency_key": "stackoverflow-13958892",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Connect Android to Health Device via bluetooth",
    "body": "Well im desperately trying to connect my android app to a blood pressure device. I've realized that the amount of examples of this are few . Right now I am stuck at the connection point. It keeps failing with 12-21 18:00:38.796: E/Connection Failed(2207): java.io.IOException: Service discovery failed Im following the steps : 1 - getting the default adapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter(); 2 - getting the device mBluetoothDevice = mBluetoothAdapter.getRemoteDevice(DEVICE_MAC_ADD); 3- creating a socket mBtSocket = device.createInsecureRfcommSocketToServiceRecord( UUID); 4 - Canceling discovery and connect to device mBluetoothAdapter.cancelDiscovery(); mBtSocket.connect(); It fails on the connect method with the exception above. Well im kind of lost trying to know why this happens . Im using the UUID 00001101-0000-1000-8000-00805F9B34FB as referenced in other threads. The bluetooth permissions on the manifest are correct. Can someone give me a little help? Thank you, Pedro Ferreira",
    "code": " 12-21 18:00:38.796: E/Connection Failed(2207): java.io.IOException: Service discovery failed\n\n\nmBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n\nmBluetoothDevice = mBluetoothAdapter.getRemoteDevice(DEVICE_MAC_ADD);\n\n\nmBtSocket = device.createInsecureRfcommSocketToServiceRecord(\n                                UUID);\n\n\nmBluetoothAdapter.cancelDiscovery();\n\nmBtSocket.connect();\n",
    "severity": "medium",
    "tags": [
      "android",
      "exception",
      "bluetooth",
      "mac-address"
    ],
    "metadata": {
      "stackoverflow_question_id": "13995115",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1329,
      "stackoverflow_creation_date": "2012-12-21T18:09:35.427Z"
    },
    "idempotency_key": "stackoverflow-13995115",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "send parameters to actionIndex in Yii controllers",
    "body": "I want to send a sql string for index action in Yii controller? something for example: index.php?r=staff/index&id=1 I tried it and changed actionIndex() to actionIndex($id) but Yii gave me error 400 : Your request is invalid. Is it possible or I have to define another action ?",
    "code": "index.php?r=staff/index&amp;id=1\n\n\nerror 400 : Your request is invalid.\n\n\n# Solution Code:\npublic function actionIndex(){\n\n     $id = $_GET['id'];\n\n}\n",
    "resolution": "no you don't need to do that, receive the id as the normal request parameter inside your action method public function actionIndex(){ $id = $_GET['id']; }",
    "severity": "medium",
    "tags": [
      "yii",
      "action",
      "controllers"
    ],
    "metadata": {
      "stackoverflow_question_id": "14093196",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6187,
      "stackoverflow_creation_date": "2012-12-30T18:07:04.683Z"
    },
    "idempotency_key": "stackoverflow-14093196",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "A shell command for composing a file from chunks of another file",
    "body": "I have a data file and a file containing a list of positions and I want to generate a file from chunks of the data file. Example: $ cat data abcdefghijkl $ cat positions 0,2 5,8 $ cutter positions data abcfghi Is there a (linux) shell command that works like my hypothetical \"cutter\"? The particular format for \"positions\" is not important. We can assume that the chunks specified in \"positions\" are in increasing order and do not overlap. There might be an additional \"cutter\" mode where the positions count lines not bytes. I could implement such a program myself easily but I have the gut feeling that such a program already exist.",
    "code": "$ cat data\nabcdefghijkl\n$ cat positions\n0,2\n5,8\n$ cutter positions data\nabcfghi\n\n\n# Solution Code:\ndata=$(&lt; data)    # read the entire file into a variable\nwhile IFS=, read start stop; do\n    printf \"%s\" \"${data:$start:((stop-start+1))}\"\ndone &lt; positions\necho\n\n\nabcfghi\n\n\n#!/bin/bash\nexec 3&lt;data\nexec 4&lt;positions\npos=0\nwhile IFS=, read start stop &lt;&amp;4; do\n    ((nskip = start - pos))\n    ((nkeep = stop - start + 1))\n    ((pos += nskip + nkeep))\n    ((nskip &gt; 0)) &amp;&amp; read -N $nskip &lt;&amp;3\n    read -N $nkeep &lt;&amp;3\n    printf \"%s\" \"$REPLY\"\ndone\necho\n\n\npositions",
    "resolution": "Just using bash's substring extraction from parameter expansion, and using the positions file format as given: data=$(< data) # read the entire file into a variable while IFS=, read start stop; do printf \"%s\" \"${data:$start:((stop-start+1))}\" done < positions echo outputs abcfghi If your data file spans multiple lines, you will have to take care with the positions file to account for the newline characters. This method does not require you to read the data file into memory: #!/bin/bash exec 3<data exec 4<positions pos=0 while IFS=, read start stop <&4; do ((nskip = start - pos)) ((nkeep = stop - start + 1)) ((pos += nskip + nkeep)) ((nskip > 0)) && read -N $nskip <&3 read -N $nkeep <&3 printf \"%s\" \"$REPLY\" done echo",
    "severity": "low",
    "tags": [
      "linux",
      "bash",
      "shell",
      "unix",
      "scripting"
    ],
    "metadata": {
      "language": "bash",
      "stackoverflow_question_id": "14111700",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 270,
      "stackoverflow_creation_date": "2013-01-01T15:31:58.097Z"
    },
    "idempotency_key": "stackoverflow-14111700",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Location of cognos sdk in cognos installation folder",
    "body": "As per this article, http://www.ibm.com/developerworks/data/library/cognos/development/how_to/page565.html#download the Cognos SDK for cognos 8 is located in folder:<cognos-directory>/sdk This directory is not present in cognos 10. So where is the SDK component located?",
    "code": "&lt;cognos-directory&gt;/sdk",
    "severity": "medium",
    "tags": [
      "sdk",
      "cognos"
    ],
    "metadata": {
      "stackoverflow_question_id": "14165014",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2082,
      "stackoverflow_creation_date": "2013-01-04T21:09:44.673Z"
    },
    "idempotency_key": "stackoverflow-14165014",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "concatenate adjacent strings from a vector",
    "body": "Given qz <- quantile(c(1,2,3,4,5,6,7,8,9,10), c(0.0, 0.2, 0.4, 0.6, 0.8, 1.0)) I want to create a vector of labels from the quantiles. Currently, I do this zlab <- c(paste(paste(sprintf(qz[[1]], fmt='$%.2f'), \"-\"), sprintf(qz[2], fmt='$%.2f')), paste(paste(sprintf(qz[[2]], fmt='$%.2f'), \"-\"), sprintf(qz[3], fmt='$%.2f')),paste(paste(sprintf(qz[[3]], fmt='$%.2f'), \"-\"), sprintf(qz[4], fmt='$%.2f')), paste(paste(sprintf(qz[[4]], fmt='$%.2f'), \"-\"), sprintf(qz[5], fmt='$%.2f')), paste(paste(sprintf(qz[[5]], fmt='$%.2f'), \"-\"), sprintf(qz[6], fmt='$%.2f'))) and get zlab [1] \"$1.00 - $2.80\" \"$2.80 - $4.60\" \"$4.60 - $6.40\" \"$6.40 - $8.20\" \"$8.20 - $10.00\" zlab is formatted exactly correctly and eventually winds up as labels on a plot. But generating zlab is really ugly. Can I do this in a more elegant manner?",
    "code": "qz &lt;- quantile(c(1,2,3,4,5,6,7,8,9,10), c(0.0, 0.2, 0.4, 0.6, 0.8, 1.0))\n\n\nzlab &lt;- c(paste(paste(sprintf(qz[[1]], fmt='$%.2f'), \"-\"), sprintf(qz[2],\nfmt='$%.2f')), paste(paste(sprintf(qz[[2]], fmt='$%.2f'), \"-\"), sprintf(qz[3],\nfmt='$%.2f')),paste(paste(sprintf(qz[[3]], fmt='$%.2f'), \"-\"), sprintf(qz[4],\nfmt='$%.2f')), paste(paste(sprintf(qz[[4]], fmt='$%.2f'), \"-\"), sprintf(qz[5],\nfmt='$%.2f')), paste(paste(sprintf(qz[[5]], fmt='$%.2f'), \"-\"), sprintf(qz[6],\nfmt='$%.2f')))\n\n\nzlab\n[1] \"$1.00 - $2.80\"  \"$2.80 - $4.60\"  \"$4.60 - $6.40\"  \"$6.40 - $8.20\"  \"$8.20 - $10.00\"\n\n\n# Solution Code:\nx &lt;- sprintf(\"$%.2f\", qz)\nx\n## [1] \"$1.00\"  \"$2.80\"  \"$4.60\"  \"$6.40\"  \"$8.20\"  \"$10.00\"\n\npaste(head(x, -1), tail(x, -1), sep=' - ')\n## [1] \"$1.00 - $2.80\"  \"$2.80 - $4.60\"  \"$4.60 - $6.40\"  \"$6.40 - $8.20\"  \"$8.20 - $10.00\"\n\n\nhead\n\ntail",
    "resolution": "head and tail give you the slices of the quantiles that you need to paste. x <- sprintf(\"$%.2f\", qz) x ## [1] \"$1.00\" \"$2.80\" \"$4.60\" \"$6.40\" \"$8.20\" \"$10.00\" paste(head(x, -1), tail(x, -1), sep=' - ') ## [1] \"$1.00 - $2.80\" \"$2.80 - $4.60\" \"$4.60 - $6.40\" \"$6.40 - $8.20\" \"$8.20 - $10.00\"",
    "severity": "low",
    "tags": [
      "r",
      "vector"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "14350872",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 239,
      "stackoverflow_creation_date": "2013-01-16T03:21:58.933Z"
    },
    "idempotency_key": "stackoverflow-14350872",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "how to change the default behaviour of 'WhoDidiT' in cakephp",
    "body": "I am using 'WhoDidiT' in my model to insert user_id. Its working fine. Now i need to insert a different user_id instead of the logged in user_id. Is there any way to insert the different user_id without modifying 'WhoDidiT' var $actsAs = array( 'WhoDidIt'=>array( 'created_by_field'=>'created_by', 'modified_by_field'=>'modified_by' ), );",
    "code": "var $actsAs = array(\n    'WhoDidIt'=&gt;array(\n                     'created_by_field'=&gt;'created_by',\n                     'modified_by_field'=&gt;'modified_by'\n                ),\n\n );\n\n\n# Solution Code:\n$this-&gt;Model-&gt;saveField('created_by',$id);\n",
    "resolution": "After you save, you can update that specific field $this->Model->saveField('created_by',$id); this will do the trick",
    "severity": "low",
    "tags": [
      "cakephp",
      "cakephp-1.3"
    ],
    "metadata": {
      "stackoverflow_question_id": "14436357",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 245,
      "stackoverflow_creation_date": "2013-01-21T10:11:02.520Z"
    },
    "idempotency_key": "stackoverflow-14436357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "calling summary() from within a function does not output anything",
    "body": "Why doesn't this function: test <- function(somebool = FALSE) { mydata<-read.csv(\"mycsvfile.csv\") if(somebool){ print(\"somebool\") summary(mydata) } mydata } outdata<-test(somebool=TRUE) print(\"head\") head(outdata) print the summary within the function call? it does print the \"somebool\" just before it, but not the summary. Thanks a lot for your help.",
    "code": "test &lt;- function(somebool = FALSE) {\n\n        mydata&lt;-read.csv(\"mycsvfile.csv\")\n        if(somebool){\n                print(\"somebool\")\n                summary(mydata)\n        }\n        mydata\n}\n\noutdata&lt;-test(somebool=TRUE)\nprint(\"head\")\nhead(outdata)\n\n\n# Solution Code:\n print(summary(mydata))\n\n\nsummary",
    "resolution": "You're calling the function summary but not printing the result. Just change it to: print(summary(mydata))",
    "severity": "medium",
    "tags": [
      "r"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "14447627",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2760,
      "stackoverflow_creation_date": "2013-01-21T21:34:07.947Z"
    },
    "idempotency_key": "stackoverflow-14447627",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Crypto between Erlang and PHP",
    "body": "Update 5 Switched the question to Security StackExchange - got an answer. https://security.stackexchange.com/questions/30168/aes-cfb-128-decryption-encryption-problem-between-erlang-and-php Update 4 Having solved the problem or so I thought - I tried to get on with the implementation. Turned out it wasn't quite enough. Once we started putting real word data in it all went to hell. An example would be increasing the Plain Text from 1234567812345678 to 12345678123456781234567812345678 In this case the first 128-bit block of the cypertext was the same, but the second was different: PHP: 139 182 94 68 208 173 127 90 14 236 33 230 41 29 210 121 153 57 173 191 237 169 242 222 217 104 116 144 240 175 39 33 Erlang: <<139,182,94,68,208,173,127,90,14,236,33,230,41,29,210,121,147,172, 114,74,61,11,162,5,112,104,102,63,24,78,34,179>> Update 3 - (I though it was) SOLVED (but I was wrong) This answer provided the final clue: Incorrect key size when porting Crypto++ AES encryption to PHP's mcrypt The problem is that the 'cfb' mode in mycrypt doesn't use the right feedback blocksize to emulate aes cfb - you need to use the mode nofb. Update 2 Trying to get AES-CFB-128 to work across both - so I have identified that using mycrypt with a mode of RINJDAEL_128 with a 128 block size and type 'cfb' is the PHP equivalent of crypto:aes_cfb_128/3 in Erlang. So I start to write routines in both languages to prove this. PHP version: <?php // fugly because I don't know enough PHP to write it better // big apologies to any PHP code poets out there, my bad :( function dump($String, $Bin) { echo $String . \" is \" . ord($Bin[0]) . \" \" . ord($Bin[1]) . \" \" . ord($Bin[2]) . \" \" . ord($Bin[3]) . \" \" . ord($Bin[4]) . \" \" . ord($Bin[5]) . \" \" . ord($Bin[6]) . \" \" . ord($Bin[7]) . \" \" . ord($Bin[8]) . \" \" . ord($Bin[9]) . \" \" . ord($Bin[10]) . \" \" . ord($Bin[11]) . \" \" . ord($Bin[12]) . \" \" . ord($Bin[13]) . \" \" . ord($Bin[14]) . \" \" . ord($Bin[15]) . \"\\n\"; } $Key = \"abcdefghabcdefgh\"; $IV = \"12345678abcdefgh\"; $Text = \"1234567812345678\"; $KeySize = strlen($Key) * 8; $IVSize = strlen($IV) * 8; $TextSize = strlen($Text) * 8; $Size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CFB); echo \"Block size is \" . $Size . \" bytes or \" . $Size * 8 . \" bits\\n\"; $Crypt = mcrypt_encrypt(MCRYPT_RIJNDAEL_128, $Key, $Text, MCRYPT_MODE_CFB, $IV); $Decrypt = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $Key, $Crypt, MCRYPT_MODE_CFB, $IV); echo \"Key is \" . $Key . \" with size \" . $KeySize . \"\\n\"; echo \"IV is \" . $IV . \" with size \" . $IVSize . \"\\n\"; echo \"Text is \" . $Text . \" with size \" . $TextSize . \"\\n\"; echo \"Crypt is \" . $Crypt . \"\\n\"; dump(\"Crypt\", $Crypt); echo \"Decrypt is \" . $Decrypt . \"\\n\"; dump(\"Decrypt\", $Decrypt); ?> When I run it I get the PHP output of: Block size is 16 bytes or 128 bits Key is abcdefghabcdefgh with size 128 IV is 12345678abcdefgh with size 128 Text is 1234567812345678 with size 128 Crypt is ��*�b�ls�M�� Crypt is 139 0 188 42 175 98 18 177 108 27 115 189 77 144 127 176 Decrypt is 1234567812345678 Decrypt is 49 50 51 52 53 54 55 56 49 50 51 52 53 54 55 56 The Erlang version is: -module(test_crypto). -export([ test/0 ]). test() -> Key = <<\"abcdefghabcdefgh\">>, IV = <<\"12345678abcdefgh\">>, Text = <<\"1234567812345678\">> , KeySize = bit_size(Key), IVSize = bit_size(IV), TextSize = bit_size(Text), io:format(\"Key is ~p with size ~p~n\", [Key, KeySize]), io:format(\"IV is ~p with size ~p~n\", [IV, IVSize]), io:format(\"Text is ~p with size ~p~n\", [Text, TextSize]), Crypt = crypto:aes_cfb_128_encrypt(Key, IV, Text), io:format(\"Crypt is ~p~n\", [Crypt]), Decrypt = crypto:aes_cfb_128_decrypt(Key, IV, Crypt), io:format(\"Decrypt is ~p~n\", [Decrypt]), ok. And when I run it I get the Erlang output: Key is <<\"abcdefghabcdefgh\">> with size 128 IV is <<\"12345678abcdefgh\">> with size 128 Text is <<\"1234567812345678\">> with size 128 Crypt is <<139,182,94,68,208,173,127,90,14,236,33,230,41,29,210,121>> Decrypt is <<\"1234567812345678\">> So each one does the encrypt/decrypt cycle correctly - but the crypto form is different - I can't use it between Erlang and PHP. I am sure there is some simple explanation - but I am at a loss to understand it. PHP takes strings as inputs - Erlang takes binaries - but it appears that PHP ascii strings are stored as binaries. Is that right or am I missing soemthing? Update 1 I have figured out that the crypto:md5_mac/2 function can be replicated with a php function: function encrypt_term_hex($Key, $Msg) { return hash_hmac(\"md5\", $Msg, $Key); } Original Question I want to share information between two systems, one written in Erlang and one in PHP. The plan is to use a system that already runs between multiple Erlang systems that involves signing an Erlang term with a private key which is shared between the Erlang systems. The Erlang side uses the functions crypto:md5_mac/2 and crypto:aes_cfb_128_encrypt/3 which in turn uses the underlying OpenSSL crypto libraries. The encryption side (in Erlang) is: encrypt_bin(Key0, PlainT0) -> PlainT = extend(PlainT0), Key = crypto:md5_mac(get_server_salt(), Key0), crypto:aes_cfb_128_encrypt(Key, get_salt(), PlainT). What this function does is take a key value pair. It then extends the size of the term to a fixed size, generates a key using md5_mac and a fixed (shared) salt and finally does the encryption - initialising it with another salt vector. So far so good. My task then is to replicate this fn in PHP (and its decrypting twin, of course). The Erlang documentation is good: http://erlang.org/doc/man/crypto.html Trying to figure out exactly how Erlang calls the underlying Crypto libraries is a bit harder - because the source code shows come obscure NIF macros. It appears that PHP implements a library wrapper around OpenSSL so it should be straight forward. Unfortunately I can't make head nor tail of it. For example I look at openssl-encrypt and it states it is not documented: http://php.net/manual/en/function.openssl-encrypt.php Is there anywhere I can get good examples/documenation of how OpenSSL is implemented in PHP? Or how the Erlang NIF loader works? Or both?",
    "code": "&lt;?php\n// fugly because I don't know enough PHP to write it better\n// big apologies to any PHP code poets out there, my bad :(\nfunction dump($String, $Bin) {\necho $String . \" is \" . ord($Bin[0]) . \" \" . ord($Bin[1]) . \" \" . ord($Bin[2]) . \" \" . ord($Bin[3]) . \" \" . ord($Bin[4]) . \" \" . ord($Bin[5]) . \" \" . ord($Bin[6]) . \" \" . ord($Bin[7]) . \" \" . ord($Bin[8]) . \" \" . ord($Bin[9]) . \" \" . ord($Bin[10]) . \" \" . ord($Bin[11]) . \" \" . ord($Bin[12]) . \" \" . ord($Bin[13]) . \" \" . ord($Bin[14]) . \" \" . ord($Bin[15]) . \"\\n\";\n}\n\n$Key  = \"abcdefghabcdefgh\";\n$IV   = \"12345678abcdefgh\";\n$Text = \"1234567812345678\";\n\n$KeySize  = strlen($Key) * 8;\n$IVSize   = strlen($IV) * 8;\n$TextSize = strlen($Text) * 8;\n\n$Size = mcrypt_get_iv_size(MCRYPT_RIJNDAEL_128, MCRYPT_MODE_CFB);\necho \"Block size is \" . $Size . \" bytes or \" . $Size * 8 . \" bits\\n\";\n\n$Crypt = mcrypt_encrypt(MCRYPT_RIJNDAEL_128, $Key, $Text, MCRYPT_MODE_CFB, $IV);\n$Decrypt = mcrypt_decrypt(MCRYPT_RIJNDAEL_128, $Key, $Crypt, MCRYPT_MODE_CFB, $IV);\n\necho \"Key   is   \" . $Key  . \" with size \" . $KeySize  . \"\\n\";\necho \"IV    is   \" . $IV   . \" with size \" . $IVSize   . \"\\n\";\necho \"Text  is   \" . $Text . \" with size \" . $TextSize . \"\\n\";\n\necho \"Crypt is \" . $Crypt  . \"\\n\";\ndump(\"Crypt\", $Crypt);\necho \"Decrypt is \" . $Decrypt . \"\\n\";\ndump(\"Decrypt\", $Decrypt);\n?&gt;\n\n\nBlock size is 16 bytes or 128 bits\nKey   is   abcdefghabcdefgh with size 128\nIV    is   12345678abcdefgh with size 128\nText  is   1234567812345678 with size 128\nCrypt is ��*�b�ls�M��\nCrypt is 139 0 188 42 175 98 18 177 108 27 115 189 77 144 127 176\nDecrypt is 1234567812345678\nDecrypt is 49 50 51 52 53 54 55 56 49 50 51 52 53 54 55 56\n\n\n-module(test_crypto).\n\n-export([\n         test/0\n        ]).\n\ntest() -&gt;\n\n    Key  = &lt;&lt;\"abcdefghabcdefgh\"&gt;&gt;,\n    IV   = &lt;&lt;\"12345678abcdefgh\"&gt;&gt;,\n    Text = &lt;&lt;\"1234567812345678\"&gt;&gt; ,\n\n    KeySize  = bit_size(Key),\n    IVSize   = bit_size(IV),\n    TextSize = bit_size(Text),\n\n    io:format(\"Key  is ~p with size ~p~n\", [Key, KeySize]),\n    io:format(\"IV   is ~p with size ~p~n\", [IV, IVSize]),\n    io:format(\"Text is ~p with size ~p~n\", [Text, TextSize]),\n\n    Crypt = crypto:aes_cfb_128_encrypt(Key, IV, Text),\n    io:format(\"Crypt is ~p~n\", [Crypt]),\n\n    Decrypt = crypto:aes_cfb_128_decrypt(Key, IV, Crypt),\n    io:format(\"Decrypt is ~p~n\", [Decrypt]),\n    ok.\n\n\nKey  is &lt;&lt;\"abcdefghabcdefgh\"&gt;&gt; with size 128\nIV   is &lt;&lt;\"12345678abcdefgh\"&gt;&gt; with size 128\nText is &lt;&lt;\"1234567812345678\"&gt;&gt; with size 128\nCrypt is &lt;&lt;139,182,94,68,208,173,127,90,14,236,33,230,41,29,210,121&gt;&gt;\nDecrypt is &lt;&lt;\"1234567812345678\"&gt;&gt;\n\n\nfunction encrypt_term_hex($Key, $Msg) {\n    return hash_hmac(\"md5\", $Msg, $Key);\n}\n\n\nencrypt_bin(Key0, PlainT0) -&gt;\n    PlainT = extend(PlainT0),\n    Key = crypto:md5_mac(get_server_salt(), Key0),\n    crypto:aes_cfb_128_encrypt(Key, get_salt(), PlainT).\n\n\n1234567812345678\n\n12345678123456781234567812345678\n\n139 182 94 68 208 173 127 90 14 236 33 230 41 29 210 121 153 57 173 191 237 169 242 222 217 104 116 144 240 175 39 33\n\n'cfb'\n\nmycrypt\n\naes cfb\n\nnofb\n\nmycrypt\n\nRINJDAEL_128\n\n'cfb'\n\ncrypto:aes_cfb_128/3\n\ncrypto:md5_mac/2\n\ncrypto:md5_mac/2\n\ncrypto:aes_cfb_128_encrypt/3",
    "severity": "medium",
    "tags": [
      "php",
      "cryptography",
      "erlang",
      "openssl"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "14550195",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2122,
      "stackoverflow_creation_date": "2013-01-27T17:44:29.600Z"
    },
    "idempotency_key": "stackoverflow-14550195",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "pybrain activate() output representation",
    "body": "I build this example using pybrain: from pybrain.tools.shortcuts import buildNetwork from pybrain.datasets import SupervisedDataSet from pybrain.supervised.trainers import BackpropTrainer net = buildNetwork(3, 3, 1) dataSet = SupervisedDataSet(3, 1) dataSet.addSample((0, 0, 0), (0)) dataSet.addSample((1, 1, 1), (0)) dataSet.addSample((1, 0, 0), (1)) dataSet.addSample((0, 1, 0), (1)) dataSet.addSample((0, 0, 1), (1)) trainer = BackpropTrainer(net, dataSet) trainer.trainUntilConvergence() result = net.activate([0, 0, 0]) print result Output is: [ 0.10563189] I don't understand what is output of activate(). Network is trained, I test it for output with one of train samples, so I expect value exactly like in train samples. Input [0, 0, 0] should get output 0. What am I missing here? How do I get valid result? Even more confusing is, that every time I run this code, I get different result. I'm obviously doing something wrong. What is it?",
    "code": "from pybrain.tools.shortcuts import buildNetwork\nfrom pybrain.datasets import SupervisedDataSet\nfrom pybrain.supervised.trainers import BackpropTrainer\n\nnet = buildNetwork(3, 3, 1)\n\ndataSet = SupervisedDataSet(3, 1)\ndataSet.addSample((0, 0, 0), (0))\ndataSet.addSample((1, 1, 1), (0))\ndataSet.addSample((1, 0, 0), (1))\ndataSet.addSample((0, 1, 0), (1))\ndataSet.addSample((0, 0, 1), (1))\n\ntrainer = BackpropTrainer(net, dataSet)\n\ntrainer.trainUntilConvergence()\n\nresult = net.activate([0, 0, 0])\nprint result\n",
    "severity": "medium",
    "tags": [
      "python",
      "pybrain"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "14557103",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2847,
      "stackoverflow_creation_date": "2013-01-28T07:08:33.967Z"
    },
    "idempotency_key": "stackoverflow-14557103",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Not allowed to return a function from a function. How could I?",
    "body": "8.3.5/8 Functions [dcl.fct] says [...] Functions shall not have a return type of type array or function, although they may have a return type of type pointer or reference to such things. [...] Why so explicit of a rule? Is there some syntax that would even allow returning a function as opposed to a function pointer? Am I miss-interpreting the quote? typedef void (*fp)(); void foo(){} fp goo() { return foo; //automatically converted to function pointer }",
    "code": "typedef void (*fp)();\n\nvoid foo(){}\nfp goo()\n{\n    return foo; //automatically converted to function pointer\n}\n\n\n8.3.5/8 Functions [dcl.fct]\n\n# Solution Code:\nvoid foo() { }\n\ntemplate&lt;typename T&gt;\nT f() { return foo; }\n\nint main(){\n    f&lt;decltype(foo)&gt;();\n}\n\n\nCompilation finished with errors:\nsource.cpp:7:5: error: no matching function for call to 'f'\n    f&lt;decltype(foo)&gt;();\n    ^~~~~~~~~~~~~~~~\nsource.cpp:4:3: note: candidate template ignored: substitution failure \n[with T = void ()]: function cannot return function type 'void ()'\nT f() { return foo; }\n~ ^\n1 error generated.\n",
    "resolution": "This is quite a contrived example of a function trying to return a function: void foo() { } template<typename T> T f() { return foo; } int main(){ f<decltype(foo)>(); } This is the error I get from Clang 3.2: Compilation finished with errors: source.cpp:7:5: error: no matching function for call to 'f' f<decltype(foo)>(); ^~~~~~~~~~~~~~~~ source.cpp:4:3: note: candidate template ignored: substitution failure [with T = void ()]: function cannot return function type 'void ()' T f() { return foo; } ~ ^ 1 error generated.",
    "severity": "high",
    "tags": [
      "c++",
      "function",
      "function-pointers",
      "language-lawyer"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "14865174",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 16307,
      "stackoverflow_creation_date": "2013-02-13T23:23:29.000Z"
    },
    "idempotency_key": "stackoverflow-14865174",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the best way to recursively generate all binary strings of length n?",
    "body": "I'm looking for a good (easy to implement, intuitive, etc.) recursive method of generating all binary strings of length n, where 1 <= n <= 35. I would appreciate ideas for a pseudo-code algorithm (no language-specific tricks). LE: okay, I did go overboard with the upper limit. My intention was to avoid solutions that use the binary representation of a counter from 1 to 1 << n.",
    "code": "n\n\n1 &lt;= n &lt;= 35\n\n1\n\n1 &lt;&lt; n",
    "resolution": "Here's an example of recursion in C++. vector<string> answer; void getStrings( string s, int digitsLeft ) { if( digitsLeft == 0 ) // the length of string is n answer.push_back( s ); else { getStrings( s + \"0\", digitsLeft - 1 ); getStrings( s + \"1\", digitsLeft - 1 ); } } getStrings( \"\", n ); // initial call",
    "severity": "high",
    "tags": [
      "algorithm",
      "recursion",
      "language-agnostic",
      "binary"
    ],
    "metadata": {
      "stackoverflow_question_id": "14876564",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 10760,
      "stackoverflow_creation_date": "2013-02-14T14:03:51.850Z"
    },
    "idempotency_key": "stackoverflow-14876564",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "warning this call is not awaited, execution of the current method continues",
    "body": "Just got VS2012 and trying to get a handle on async. Let's say I've got an method that fetches some value from a blocking source. I don't want caller of the method to block. I could write the method to take a callback which is invoked when the value arrives, but since I'm using C# 5, I decide to make the method async so callers don't have to deal with callbacks: // contrived example (edited in response to Servy's comment) public static Task<string> PromptForStringAsync(string prompt) { return Task.Factory.StartNew(() => { Console.Write(prompt); return Console.ReadLine(); }); } Here's an example method that calls it. If PromptForStringAsync wasn't async, this method would require nesting a callback within a callback. With async, I get to write my method in this very natural way: public static async Task GetNameAsync() { string firstname = await PromptForStringAsync(\"Enter your first name: \"); Console.WriteLine(\"Welcome {0}.\", firstname); string lastname = await PromptForStringAsync(\"Enter your last name: \"); Console.WriteLine(\"Name saved as '{0} {1}'.\", firstname, lastname); } So far so good. The problem is when I call GetNameAsync: public static void DoStuff() { GetNameAsync(); MainWorkOfApplicationIDontWantBlocked(); } The whole point of GetNameAsync is that it's asynchronous. I don't want it to block, because I want to get back to the MainWorkOfApplicationIDontWantBlocked ASAP and let GetNameAsync do its thing in the background. However, calling it this way gives me a compiler warning on the GetNameAsync line: Warning 1 Because this call is not awaited, execution of the current method continues before the call is completed. Consider applying the 'await' operator to the result of the call. I'm perfectly aware that \"execution of the current method continues before the call is completed\". That's the point of asynchronous code, right? I prefer my code to compile without warnings, but there's nothing to \"fix\" here because the code is doing exactly what I intend it to do. I can get rid of the warning by storing the return value of GetNameAsync: public static void DoStuff() { var result = GetNameAsync(); // supress warning MainWorkOfApplicationIDontWantBlocked(); } But now I have superfluous code. Visual Studio seems to understand that I was forced to write this unnecessary code, because it suppresses the normal \"value never used\" warning. I can also get rid of the warning by wrapping GetNameAsync in a method that's not async: public static Task GetNameWrapper() { return GetNameAsync(); } But that's even more superfluous code. So I have to write code I don't need or tolerate an unnecessary warning. Is there something about my use of async that's wrong here?",
    "code": "// contrived example (edited in response to Servy's comment)\npublic static Task&lt;string&gt; PromptForStringAsync(string prompt)\n{\n    return Task.Factory.StartNew(() =&gt; {\n        Console.Write(prompt);\n        return Console.ReadLine();\n    });\n}\n\n\npublic static async Task GetNameAsync()\n{\n    string firstname = await PromptForStringAsync(\"Enter your first name: \");\n    Console.WriteLine(\"Welcome {0}.\", firstname);\n\n    string lastname = await PromptForStringAsync(\"Enter your last name: \");\n    Console.WriteLine(\"Name saved as '{0} {1}'.\", firstname, lastname);\n}\n\n\npublic static void DoStuff()\n{\n    GetNameAsync();\n    MainWorkOfApplicationIDontWantBlocked();\n}\n\n\nWarning 1   Because this call is not awaited, execution of the current method continues before the call is completed. Consider applying the 'await' operator to the result of the call.\n\n\npublic static void DoStuff()\n{\n    var result = GetNameAsync(); // supress warning\n    MainWorkOfApplicationIDontWantBlocked();\n}\n\n\n    public static Task GetNameWrapper()\n    {\n        return GetNameAsync();\n    }\n\n\nasync\n\nPromptForStringAsync\n\nGetNameAsync\n\nGetNameAsync\n\nGetNameAsync\n\n# Solution Code:\npublic static async void GetNameAsync()\n{\n    ...\n}\n\n\npublic static async Task&lt;string&gt; GetNameAsync()\n{\n    string firstname = await PromptForStringAsync(\"Enter your first name: \");\n    string lastname = await PromptForStringAsync(\"Enter your last name: \");\n    return firstname + lastname;\n}\n\n\npublic static void DoStuff()\n{\n    Task&lt;string&gt; task = GetNameAsync();\n\n    // Set up a continuation BEFORE MainWorkOfApplicationIDontWantBlocked\n    Task anotherTask = task.ContinueWith(r =&gt; {\n            Console.WriteLine(r.Result);\n        });\n\n    MainWorkOfApplicationIDontWantBlocked();\n\n    // OR wait for the result AFTER\n    string result = task.Result;\n}\n\n\nGetNameAsync\n\nvoid\n\nGetNameAsync\n\nTask&lt;string&gt;",
    "resolution": "If you really don't need the result, you can simply change the GetNameAsync's signature to return void: public static async void GetNameAsync() { ... } Consider to see answer to a related question: What's the difference between returning void and returning a Task? Update If you need the result, you can change the GetNameAsync to return, say, Task<string>: public static async Task<string> GetNameAsync() { string firstname = await PromptForStringAsync(\"Enter your first name: \"); string lastname = await PromptForStringAsync(\"Enter your last name: \"); return firstname + lastname; } And use it as follows: public static void DoStuff() { Task<string> task = GetNameAsync(); // Set up a continuation BEFORE MainWorkOfApplicationIDontWantBlocked Task anotherTask = task.ContinueWith(r => { Console.WriteLine(r.Result); }); MainWorkOfApplicationIDontWantBlocked(); // OR wait for the result AFTER string result = task.Result; }",
    "severity": "high",
    "tags": [
      "c#",
      "async-await"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "14903887",
      "stackoverflow_score": 184,
      "stackoverflow_view_count": 107563,
      "stackoverflow_creation_date": "2013-02-15T21:49:12.527Z"
    },
    "idempotency_key": "stackoverflow-14903887",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Misuse of hamcrest hasItems",
    "body": "I have a list of Integers (current) and I want to check whether this list contains all elements from list expected and not even one element from list notExpected, so code looks like: List<Integer> expected= new ArrayList<Integer>(); expected.add(1); expected.add(2); List<Integer> notExpected = new ArrayList<Integer>(); notExpected.add(3); notExpected.add(4); List<Integer> current = new ArrayList<Integer>(); current.add(1); current.add(2); assertThat(current, not(hasItems(notExpected.toArray(new Integer[expected.size()])))); assertThat(current, (hasItems(expected.toArray(new Integer[expected.size()])))); So long so good. But when I add current.add(3); the test is also green. Do I misused the hamcrest matcher? Btw. for (Integer i : notExpected) assertThat(current, not(hasItem(i))); gives me the correct answer, but I thought that I just can easily use the hamcrest matcher for that. I'm using junit 4.11 and hamcrest 1.3",
    "code": "    List&lt;Integer&gt; expected= new ArrayList&lt;Integer&gt;();\n    expected.add(1);\n    expected.add(2);\n\n    List&lt;Integer&gt; notExpected = new ArrayList&lt;Integer&gt;();\n    notExpected.add(3);\n    notExpected.add(4);\n\n    List&lt;Integer&gt; current = new ArrayList&lt;Integer&gt;();\n    current.add(1);\n    current.add(2);\n\n\n    assertThat(current, not(hasItems(notExpected.toArray(new Integer[expected.size()]))));\n\n    assertThat(current, (hasItems(expected.toArray(new Integer[expected.size()]))));\n\n\n    current.add(3);\n\n\n    for (Integer i : notExpected)\n        assertThat(current, not(hasItem(i)));\n\n\n# Solution Code:\nassertThat(current, not(hasItems(notExpected...)));\n\n\nassertThat(current, everyItem(not(isIn(notExpected))));\n\n\nassertThat(current, everyItem(not(isOneOf(notExpected...))));\n\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n    &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n    &lt;version&gt;1.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n\nhasItems(notExpected...)\n\ncurrent\n\nnotExpected\n\ncurrent\n\ncurrent\n\nnotExpected\n\ncurrent\n\nnotExpected\n\nCoreMatchers\n\nhamcrest-core\n\nhamcrest-library",
    "resolution": "hasItems(notExpected...) would only match current if all elements from notExpected were also in current. So with the line assertThat(current, not(hasItems(notExpected...))); you assert that current doesn't contain all elements from notExpected. One solution to assert that current doesn't contain any elements from notExpected: assertThat(current, everyItem(not(isIn(notExpected)))); and then you don't even have to convert the list to array. This variant maybe a bit more readable, but requires conversion to array: assertThat(current, everyItem(not(isOneOf(notExpected...)))); Note that these matchers are not from CoreMatchers in hamcrest-core, so you will need to add a dependency on hamcrest-library. <dependency> <groupId>org.hamcrest</groupId> <artifactId>hamcrest-library</artifactId> <version>1.3</version> </dependency>",
    "severity": "medium",
    "tags": [
      "java",
      "junit",
      "hamcrest"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "14932363",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 2777,
      "stackoverflow_creation_date": "2013-02-18T08:45:28.567Z"
    },
    "idempotency_key": "stackoverflow-14932363",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "IBM .net driver cannot find db2locale.dll",
    "body": "I'm trying to pull a Git repository of my .net solution over to another folder on the same machine (just to make sure it works). In the project I use that creates IfxConnections, when I try to create a new IfxConnection I get a DllNotFoundException, which is thrown by the IBM Informix driver. The message I receive is \"Unable to load DLL 'db2locale.dll': The specified module could not be found. (Exception from HRESULT: 0x8007007E)\" and the stack trace (reading back to the constructor call) is: at IBM.Data.Informix.UnsafeNativeMethods.IfxInteropAPP.sqloGetNormalizedLangFromLangId(Int16 lcid) at IBM.Data.Informix.UnsafeNativeMethods.IfxLocale.sqloGetNormalizedLangFromLangId(Int16 lcid) at IBM.Data.Informix.IfxResource.GetMsgPath(CultureInfo cultureInfo, String szResFileName) at IBM.Data.Informix.IfxResource..ctor(CultureInfo cultureInfo, String szResFileName, String szMsgPath) at IBM.Data.Informix.IfxResource..ctor(CultureInfo cultureInfo, String szResFileName) at IBM.Data.Informix.IfxResources.GetResource(CultureInfo cultureInfo) at IBM.Data.Informix.IfxResources.GetString(CultureInfo cultureInfo, String stringID) at IBM.Data.Informix.Res.GetString(CultureInfo culture, String name) at IBM.Data.Informix.ODC.InvalidArgument() at IBM.Data.Informix.IfxConnPool.ReplaceConnectionStringParms(IfxConnection connection, String szValue, IfxConnSettings& pSettings, IfxConnSettingsInternal& pSettingsInternal, Boolean bAttach) at IBM.Data.Informix.IfxConnection.set_ConnectionString(String value) at IBM.Data.Informix.IfxConnection..ctor(String connectionString) The thing is, my code/project does not directly reference this dll. My code references IBM.Data.Informix on the local machine path C:\\Program Files\\IBM\\IBM DATA SERVER DRIVER\\bin\\netf40_32\\IBM.Data.Informix.dll, as it does in all of my other projects, and in the repository from which this repository has been cloned. Opening the original project from the repository produces no errors. Can anyone give me some insight into why this error is occurring and what I can do to fix it? As an aside, the IBM Informix driver seems to use a lot of the DB2 connection code in the background to the extent that, in other projects, which use designer-generated datasets, I can only connect to my Informix database using the DB2 connector type. Hence the DB2 tag, even though it's not immediately obvious why this would be DB2-related.",
    "code": "at IBM.Data.Informix.UnsafeNativeMethods.IfxInteropAPP.sqloGetNormalizedLangFromLangId(Int16 lcid)\nat IBM.Data.Informix.UnsafeNativeMethods.IfxLocale.sqloGetNormalizedLangFromLangId(Int16 lcid)\nat IBM.Data.Informix.IfxResource.GetMsgPath(CultureInfo cultureInfo, String szResFileName)\nat IBM.Data.Informix.IfxResource..ctor(CultureInfo cultureInfo, String szResFileName, String szMsgPath)\nat IBM.Data.Informix.IfxResource..ctor(CultureInfo cultureInfo, String szResFileName)\nat IBM.Data.Informix.IfxResources.GetResource(CultureInfo cultureInfo)\nat IBM.Data.Informix.IfxResources.GetString(CultureInfo cultureInfo, String stringID)\nat IBM.Data.Informix.Res.GetString(CultureInfo culture, String name)\nat IBM.Data.Informix.ODC.InvalidArgument()\nat IBM.Data.Informix.IfxConnPool.ReplaceConnectionStringParms(IfxConnection connection, String szValue, IfxConnSettings&amp; pSettings, IfxConnSettingsInternal&amp; pSettingsInternal, Boolean bAttach)\nat IBM.Data.Informix.IfxConnection.set_ConnectionString(String value)\nat IBM.Data.Informix.IfxConnection..ctor(String connectionString)\n\n\nIfxConnection\n\nIfxConnection\n\nDllNotFoundException\n\nIBM.Data.Informix\n\nC:\\Program Files\\IBM\\IBM DATA SERVER DRIVER\\bin\\netf40_32\\IBM.Data.Informix.dll",
    "severity": "medium",
    "tags": [
      ".net",
      "dll",
      "db2",
      "informix"
    ],
    "metadata": {
      "framework": "dotnet",
      "stackoverflow_question_id": "14986247",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2513,
      "stackoverflow_creation_date": "2013-02-20T17:33:17.230Z"
    },
    "idempotency_key": "stackoverflow-14986247",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can I make a function available in every controller in angular?",
    "body": "If I have a utility function foo that I want to be able to call from anywhere inside of my ng-app declaration. Is there someway I can make it globally accessible in my module setup or do I need to add it to the scope in every controller?",
    "code": "foo\n\nng-app\n\n# Solution Code:\n&lt;!doctype html&gt;\n&lt;html ng-app=\"myApp\"&gt;\n&lt;head&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.angularjs.org/1.1.2/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var myApp = angular.module('myApp', []);\n\n    myApp.factory('myService', function() {\n        return {\n            foo: function() {\n                alert(\"I'm foo!\");\n            }\n        };\n    });\n\n    myApp.controller('MainCtrl', ['$scope', 'myService', function($scope, myService) {\n        $scope.callFoo = function() {\n            myService.foo();\n        }\n    }]);\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-controller=\"MainCtrl\"&gt;\n    &lt;button ng-click=\"callFoo()\"&gt;Call foo&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n&lt;!doctype html&gt;\n&lt;html ng-app=\"myApp\"&gt;\n&lt;head&gt;\n    &lt;script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://code.angularjs.org/1.1.2/angular.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var myApp = angular.module('myApp', []);\n\n    myApp.run(function($rootScope) {\n        $rootScope.globalFoo = function() {\n            alert(\"I'm global foo!\");\n        };\n    });\n\n    myApp.controller('MainCtrl', ['$scope', function($scope){\n\n    }]);\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body ng-controller=\"MainCtrl\"&gt;\n    &lt;button ng-click=\"globalFoo()\"&gt;Call global foo&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\nglobalFoo()",
    "resolution": "You basically have two options, either define it as a service, or place it on your root scope. I would suggest that you make a service out of it to avoid polluting the root scope. You create a service and make it available in your controller like this: <!doctype html> <html ng-app=\"myApp\"> <head> <script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"></script> <script src=\"http://code.angularjs.org/1.1.2/angular.min.js\"></script> <script type=\"text/javascript\"> var myApp = angular.module('myApp', []); myApp.factory('myService', function() { return { foo: function() { alert(\"I'm foo!\"); } }; }); myApp.controller('MainCtrl', ['$scope', 'myService', function($scope, myService) { $scope.callFoo = function() { myService.foo(); } }]); </script> </head> <body ng-controller=\"MainCtrl\"> <button ng-click=\"callFoo()\">Call foo</button> </body> </html> If that's not an option for you, you can add it to the root scope like this: <!doctype html> <html ng-app=\"myApp\"> <head> <script src=\"http://code.jquery.com/jquery-1.9.1.min.js\"></script> <script src=\"http://code.angularjs.org/1.1.2/angular.min.js\"></script> <script type=\"text/javascript\"> var myApp = angular.module('myApp', []); myApp.run(function($rootScope) { $rootScope.globalFoo = function() { alert(\"I'm global foo!\"); }; }); myApp.controller('MainCtrl', ['$scope', function($scope){ }]); </script> </head> <body ng-controller=\"MainCtrl\"> <button ng-click=\"globalFoo()\">Call global foo</button> </body> </html> That way, all of your templates can call globalFoo() without having to pass it to the template from the controller.",
    "severity": "high",
    "tags": [
      "angularjs",
      "function",
      "global"
    ],
    "metadata": {
      "stackoverflow_question_id": "15025979",
      "stackoverflow_score": 192,
      "stackoverflow_view_count": 146370,
      "stackoverflow_creation_date": "2013-02-22T14:05:20.307Z"
    },
    "idempotency_key": "stackoverflow-15025979",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Show DIV at mouse cursor on hover of span",
    "body": "I want a DIV to unhide and appear at the mouse cursor when the user hovers over a SPAN or DIV. I made this function but it does not work (jquery is loaded). function ShowHoverDiv(divid){ function(e){ var left = clientX + \"px\"; var top = clientY + \"px\"; $(\"#\"+divid).toggle(150).css(\"top\",top).css(\"left\",left).css(\"position\",\"fixed\"); return false; } } <div id=\"divtoshow\" style=\"display:none\">test</div> <br><br> <span onmouseover=\"ShowHoverDIV('divtoshow')\">Mouse over this</span>",
    "code": "function ShowHoverDiv(divid){\n\n    function(e){\n        var left  = clientX  + \"px\";\n        var top  = clientY  + \"px\";\n        $(\"#\"+divid).toggle(150).css(\"top\",top).css(\"left\",left).css(\"position\",\"fixed\");\n        return false;\n    }\n\n\n}\n\n&lt;div id=\"divtoshow\" style=\"display:none\"&gt;test&lt;/div&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;span onmouseover=\"ShowHoverDIV('divtoshow')\"&gt;Mouse over this&lt;/span&gt;\n",
    "resolution": "You're pretty much there: function hoverdiv(e,divid){ var left = e.clientX + \"px\"; var top = e.clientY + \"px\"; var div = document.getElementById(divid); div.style.left = left; div.style.top = top; $(\"#\"+divid).toggle(); return false; } <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"></script> <div id=\"divtoshow\" style=\"position: fixed;display:none;\">test</div> <br><br> <span onmouseover=\"hoverdiv(event,'divtoshow')\" onmouseout=\"hoverdiv(event,'divtoshow')\">Mouse over this</span>",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "html"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "15158180",
      "stackoverflow_score": 21,
      "stackoverflow_view_count": 70752,
      "stackoverflow_creation_date": "2013-03-01T12:48:33.710Z"
    },
    "idempotency_key": "stackoverflow-15158180",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Normalize objects using linq",
    "body": "I have an IEnumerable<RuleSelection> with these properties: public class RuleSelection{ public int RuleId { get; set;} public int? CriteriaId { get; set; } public int? CriteriaSourceId{ get; set; } } RuleId in RuleSelection is not unique. Can I write a linq query to normalize these into IEnumerable<Rule> which would be: public class Rule{ public int RuleId { get; set; } public IEnumerable<int> Criteria { get; set; } public IEnumerable<int> CriteriaSource { get; set; } } Rule.RuleId would be unique and the properties Criteria and CriteriaSource would include all the CriteriaId's and CriteriaSourceId's for the RuleId respectively.",
    "code": "public class RuleSelection{\n  public int RuleId { get; set;}\n  public int? CriteriaId { get; set; }\n  public int? CriteriaSourceId{ get; set; }\n}\n\n\npublic class Rule{\n  public int RuleId { get; set; }\n  public IEnumerable&lt;int&gt; Criteria { get; set; }\n  public IEnumerable&lt;int&gt; CriteriaSource { get; set; }\n}\n\n\nIEnumerable&lt;RuleSelection&gt;\n\nRuleId\n\nRuleSelection\n\nIEnumerable&lt;Rule&gt;\n\nRule.RuleId\n\nCriteria\n\nCriteriaSource\n\nCriteriaId\n\nCriteriaSourceId\n\nRuleId\n\n# Solution Code:\nvar rules = selections.GroupBy(rs =&gt; rs.RuleId)\n                      .Select(g =&gt; new Rule {\n                                  RuleId = g.Key,\n                                  Criteria = g.Select(rs =&gt; rs.CriteriaId)\n                                              .Where(c =&gt; c != null)\n                                              .Select(c =&gt; c.Value)\n                                              .ToList(),\n                                  CriteriaSource = g.Select(rs =&gt; rs.CriteriaSourceId)\n                                                    .Where(c =&gt; c != null)\n                                                    .Select(c =&gt; c.Value)\n                                                    .ToList(),\n                              });\n",
    "resolution": "It sounds like you want something like: var rules = selections.GroupBy(rs => rs.RuleId) .Select(g => new Rule { RuleId = g.Key, Criteria = g.Select(rs => rs.CriteriaId) .Where(c => c != null) .Select(c => c.Value) .ToList(), CriteriaSource = g.Select(rs => rs.CriteriaSourceId) .Where(c => c != null) .Select(c => c.Value) .ToList(), });",
    "severity": "medium",
    "tags": [
      "c#",
      "linq"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "15259486",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1949,
      "stackoverflow_creation_date": "2013-03-06T22:36:14.150Z"
    },
    "idempotency_key": "stackoverflow-15259486",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "VS 2012 solution and projects - incompatible with VS 2010?",
    "body": "I was under the assumption the solutions and / or C# projects created in VS 2012 could also be opened in VS 2010 (with SP1 applied). But I wasn't able to do so - VS 2010 didn't want to load the solution file, and after I manually \"tweaked\" it, now it complains about the *.csproj project file being incompatible with this current version of VS 2010 ..... What am I missing?",
    "code": "*.csproj\n\n# Solution Code:\nMicrosoft Visual Studio Solution File, Format Version 12.00\n# Visual Studio 2012\n",
    "resolution": "If you create a solution with visual studio 2012 on the top of your solution-file there are the following two lines: Microsoft Visual Studio Solution File, Format Version 12.00 # Visual Studio 2012 You can Replace the Version 12 to 11. And than the solution should work in Visual Studio 2010. I'm not sure if the visual studio 2010 can handle project-files which have target .net-framework 4.5",
    "severity": "high",
    "tags": [
      "visual-studio-2010",
      "visual-studio-2012",
      "compatibility"
    ],
    "metadata": {
      "stackoverflow_question_id": "15310924",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 14263,
      "stackoverflow_creation_date": "2013-03-09T12:56:57.403Z"
    },
    "idempotency_key": "stackoverflow-15310924",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to cut a part of div",
    "body": "I try to give you a broad picture of my problem. Suppose I have a overlay div on my page with z-index: 99;, with background-color: rgba(0,0,0,0.5). Then I want to remove a part of overlay div, for example 100 x 100px in top: 50px; and left: 200px;. By removing I mean that exclude a part of overlay div to make that part visible and remove the background-color from that. How can I do that?",
    "code": "div\n\nz-index: 99;\n\nbackground-color: rgba(0,0,0,0.5)\n\ndiv\n\n100 x 100px\n\ntop: 50px;\n\nleft: 200px;\n\ndiv\n\nbackground-color\n\n# Solution Code:\ndiv\n\noverlay-container\n\n&lt;div&gt;",
    "resolution": "I'm not sure you can remove part of the background like you describe. Instead, your overlay can have a transparent background and it can contain four blue-ish-background divs that form a frame around the hole you want. Here's some code that does this: body {margin: 0; padding: 0} #main {width: 500px; height: 200px; background: yellow;} .overlay {background: rgba(0,0,0,0.5); position:absolute;} #overlay-container { width: 500px; height: 200px; z-index: 99; position: absolute;} #top {width: 100%; height: 50px} #left {top:50px; width: 200px; height: 100px} #right {left: 300px; width: 200px; height: 100px} #bottom {left: -300px; top: 100px; width: 500px; height: 50px} <div id=\"main\"/> <div id=\"overlay-container\"> <div class=\"overlay\" id=\"top\"/> <div class=\"overlay\" id=\"left\"/> <div class=\"overlay\" id=\"right\"/> <div class=\"overlay\" id=\"bottom\"/> </div> You can probably get rid of the overlay-container and simplify things a bit. For the overlay, you could just use a <div> with a transparent background and a translucent border. Here's another example: body { margin: 0; padding: 0; } #background { width:500px; height:200px; background: yellow; } #overlay { border-color: rgba(0,0,0,0.5); border-style: solid; border-top-width: 50px; border-left-width: 200px; border-right-width: 200px; border-bottom-width: 50px; position: absolute; top: 0; width: 100px; height: 100px; z-index: 99; } <body> <div id=\"background\">some content</div> <div id=\"overlay\"></div> </body>",
    "severity": "high",
    "tags": [
      "css"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "15319780",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 14653,
      "stackoverflow_creation_date": "2013-03-10T06:58:12.823Z"
    },
    "idempotency_key": "stackoverflow-15319780",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "asterisk(*) and dot-asterisk(.*) in unix regular expression",
    "body": "I am always finding myself confused with the usage of these two wildcards in UNIX. I understand asterisk can be used only as a quantifier in a regexp, but UNIX allows * in some cases like the ls command whereas in grep it should be used only as a quantifier. Is there some rule out there which will guide me which one of these to use?",
    "code": "*\n\nls\n\ngrep\n\n# Solution Code:\nls *foo*\n\n\nfoo\n\nextglob\n\n*\n\n?\n\ngrep '.*foo.*'\n\n*\n\ngrep\n\nsed\n\nperl\n\n${x/pat/sub}",
    "resolution": "You're talking about two separate kinds of patterns in UNIX, the glob (wildcard) and the regular expression. Globs are typically used when matching filenames. Your shell does wildcard expansion automatically on command arguments, which is how you can write ls *foo* to list all files containing the string foo. Globs are very simple (ignoring extglob): the syntax typically only supports * (any characters) and ? (any one character). Because of the shell's automatic expansion, these can be used anywhere and must be explicitly suppressed to avoid unwanted matching (e.g. writing grep '.*foo.*' to avoid expanding the * in the pattern). On the other hand, we have regular expressions, which are used to pattern-match text. Typically, these are used with specific utilities like grep, sed and perl which understand these patterns, though some shells have contexts which take regex (e.g. Bash's ${x/pat/sub}). Regular expression syntax is much more powerful, which makes it ideal for looking through reams of text for specific patterns.",
    "severity": "medium",
    "tags": [
      "regex",
      "unix"
    ],
    "metadata": {
      "stackoverflow_question_id": "15322362",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 4961,
      "stackoverflow_creation_date": "2013-03-10T12:45:12.340Z"
    },
    "idempotency_key": "stackoverflow-15322362",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Install C# Service on Windows Server (Access Denied)",
    "body": "I created a C# service. Now I want to install that service on Windows Server 2008 R2. I am using the InstallUtil command to install the service. I opened the command prompt as an admin. The service should run as a certain user, therefore I set the account to user on the Service Installer. When I run the command I get an error: An exception occured during the Install phase: System.ComponentModel.Win32Exception: Access Denied. Here is the log file: Installing assembly 'C:\\Service\\MyService.exe'. Affected parameters are: logtoconsole = logfile = C:\\Service\\MyService.InstallLog assemblypath = C:\\Service\\MyService.exe Rolling back assembly 'C:\\Service\\MyService.exe'. Affected parameters are: logtoconsole = logfile = C:\\Service\\MyService.InstallLog assemblypath = C:\\Service\\MyService.exe An exception occurred during the Rollback phase of the System.ServiceProcess.ServiceProcessInstaller installer. System.NullReferenceException: Object reference not set to an instance of an object. An exception occurred during the Rollback phase of the installation. This exception will be ignored and the rollback will continue. However, the machine might not fully revert to its initial state after the rollback is complete. Here is what is displayed on the command prompt: Beginning the Install phase of the installation. See the contents of the log file for the C:\\Service\\MyService.exe assembly's progress. The file is located at C:\\Service\\MyService.InstallLog. Installing assembly 'C:\\Service\\MyService.exe'. Affected parameters are: logtoconsole = logfile = C:\\Service\\MyService.InstallLog assemblypath = C:\\Service\\MyService.exe An exception occurred during the Install phase. System.ComponentModel.Win32Exception: Access Denied at System.ServiceProcess.ServiceProcessInstaller.OpenSecurityPolicy() at System.ServiceProcess.ServiceProcessInstaller.Install(IDictionary stateSaver) at System.Configuration.Install.Installer.Install(IDictionary stateSaver) at System.Configuration.Install.Installer.Install(IDictionary stateSaver) at System.Configuration.Install.AssemblyInstaller.Install(IDictionary savedState) at System.Configuration.Install.Installer.Install(IDictionary stateSaver) at System.Configuration.Install.TransactedInstaller.Install(IDictionary savedState) The Rollback phase of the installation is beginning. See the contents of the log file for the C:\\Service\\MyService.exe assembly's progress. The file is located at C:\\Service\\MyService.InstallLog. Rolling back assembly 'C:\\Service\\MyService.exe'. Affected parameters are: logtoconsole = logfile = C:\\Service\\MyService.InstallLog assemblypath = C:\\Service\\MyService.exe An exception occurred during the Rollback phase of the System.ServiceProcess.Ser viceProcessInstaller installer. System.NullReferenceException: Object reference not set to an instance of an obj ect. An exception occurred during the Rollback phase of the installation. This exception will be ignored and the rollback will continue. However, the machine might not fully revert to its initial state after the rollback is complete. The Rollback phase completed successfully. The transacted install has completed. The installation failed, and the rollback has been performed. Does somebody know what I need to do to install the service?",
    "code": "Installing assembly 'C:\\Service\\MyService.exe'.\nAffected parameters are:\n   logtoconsole = \n   logfile = C:\\Service\\MyService.InstallLog\n   assemblypath = C:\\Service\\MyService.exe\nRolling back assembly 'C:\\Service\\MyService.exe'.\nAffected parameters are:\n   logtoconsole = \n   logfile = C:\\Service\\MyService.InstallLog\n   assemblypath = C:\\Service\\MyService.exe\nAn exception occurred during the Rollback phase of the System.ServiceProcess.ServiceProcessInstaller installer.\nSystem.NullReferenceException: Object reference not set to an instance of an object.\nAn exception occurred during the Rollback phase of the installation. This exception will be     ignored and the rollback will continue. However, the machine might not fully revert to its initial state after the rollback is complete.\n\n\nBeginning the Install phase of the installation.\nSee the contents of the log file for the C:\\Service\\MyService.exe assembly's progress.\nThe file is located at C:\\Service\\MyService.InstallLog.\nInstalling assembly 'C:\\Service\\MyService.exe'.\nAffected parameters are:\n   logtoconsole =\n   logfile = C:\\Service\\MyService.InstallLog\n   assemblypath = C:\\Service\\MyService.exe\n\nAn exception occurred during the Install phase.\nSystem.ComponentModel.Win32Exception: Access Denied\n   at System.ServiceProcess.ServiceProcessInstaller.OpenSecurityPolicy()\n   at System.ServiceProcess.ServiceProcessInstaller.Install(IDictionary stateSaver)\n   at System.Configuration.Install.Installer.Install(IDictionary stateSaver)\n   at System.Configuration.Install.Installer.Install(IDictionary stateSaver)\n   at System.Configuration.Install.AssemblyInstaller.Install(IDictionary savedState)\n   at System.Configuration.Install.Installer.Install(IDictionary stateSaver)\n   at System.Configuration.Install.TransactedInstaller.Install(IDictionary savedState)\n\nThe Rollback phase of the installation is beginning.\nSee the contents of the log file for the C:\\Service\\MyService.exe assembly's progress.\nThe file is located at C:\\Service\\MyService.InstallLog.\nRolling back assembly 'C:\\Service\\MyService.exe'.\nAffected parameters are:\n   logtoconsole =\n   logfile = C:\\Service\\MyService.InstallLog\n   assemblypath = C:\\Service\\MyService.exe\nAn exception occurred during the Rollback phase of the System.ServiceProcess.Ser\nviceProcessInstaller installer.\nSystem.NullReferenceException: Object reference not set to an instance of an obj\nect.\nAn exception occurred during the Rollback phase of the installation. This exception will be ignored and the rollback will continue. However, the machine might not fully revert to its initial state after the rollback is complete.\n\nThe Rollback phase completed successfully.\n\nThe transacted install has completed.\nThe installation failed, and the rollback has been performed.\n\n\nSystem.ComponentModel.Win32Exception: Access Denied",
    "severity": "high",
    "tags": [
      "c#",
      "service"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "15335670",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 29733,
      "stackoverflow_creation_date": "2013-03-11T09:59:55.077Z"
    },
    "idempotency_key": "stackoverflow-15335670",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sending a string via Bluetooth from a PC as client to a mobile as server",
    "body": "I need help by transferring a string from a PC to an Android mobile device via Bluetooth. The Android mobile device should act as a server and displays the string message on the screen of the device. The PC which is the client should send the string to the mobile device. I want the server react on the extracted string (transferred via Bluetooth). That means that on one side the server always has to listen for new strings to arrive, but on the other side still has to be able to react on these messages (e.g. navigate from one menu to another). I tried it by using BlueCove (2.1.1) as BluetoothStack (for which I add the jar from BlueCove as a library to both projects) in combination with an example for a server-client communication that I found here. Updates: Updated code from server thanks to user_CC using a RFComm connection for the server: public class RFCommServer extends Thread{ //based on java.util.UUID private static UUID MY_UUID = UUID.fromString(\"446118f0-8b1e-11e2-9e96-0800200c9a66\"); // The local server socket private BluetoothServerSocket mmServerSocket; // based on android.bluetooth.BluetoothAdapter private BluetoothAdapter mAdapter; private BluetoothDevice remoteDevice; private Activity activity; public RFCommServer(Activity activity) { this.activity = activity; } public void run() { BluetoothSocket socket = null; mAdapter = BluetoothAdapter.getDefaultAdapter(); // Listen to the server socket if we're not connected while (true) { try { // Create a new listening server socket Log.d(this.getName(), \".....Initializing RFCOMM SERVER....\"); // MY_UUID is the UUID you want to use for communication mmServerSocket = mAdapter.listenUsingRfcommWithServiceRecord(\"MyService\", MY_UUID); //mmServerSocket = mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME, MY_UUID); // you can also try using In Secure connection... // This is a blocking call and will only return on a // successful connection or an exception socket = mmServerSocket.accept(); } catch (Exception e) { } try { Log.d(this.getName(), \"Closing Server Socket.....\"); mmServerSocket.close(); InputStream tmpIn = null; OutputStream tmpOut = null; // Get the BluetoothSocket input and output streams tmpIn = socket.getInputStream(); tmpOut = socket.getOutputStream(); DataInputStream mmInStream = new DataInputStream(tmpIn); DataOutputStream mmOutStream = new DataOutputStream(tmpOut); // here you can use the Input Stream to take the string from the client whoever is connecting //similarly use the output stream to send the data to the client RelativeLayout layout = (RelativeLayout) activity.findViewById(R.id.relativeLayout_Layout); TextView text = (TextView) layout.findViewById(R.id.textView_Text); text.setText(mmInStream.toString()); } catch (Exception e) { //catch your exception here } } } Code of the SPP Client from here: /** * A simple SPP client that connects with an SPP server */ public class SampleSPPClient implements DiscoveryListener{ //object used for waiting private static Object lock=new Object(); //vector containing the devices discovered private static Vector vecDevices=new Vector(); private static String connectionURL=null; public static void main(String[] args) throws IOException { SampleSPPClient client=new SampleSPPClient(); //display local device address and name LocalDevice localDevice = LocalDevice.getLocalDevice(); System.out.println(\"Address: \"+localDevice.getBluetoothAddress()); System.out.println(\"Name: \"+localDevice.getFriendlyName()); //find devices DiscoveryAgent agent = localDevice.getDiscoveryAgent(); System.out.println(\"Starting device inquiry...\"); agent.startInquiry(DiscoveryAgent.GIAC, client); try { synchronized(lock){ lock.wait(); } } catch (InterruptedException e) { e.printStackTrace(); } System.out.println(\"Device Inquiry Completed. \"); //print all devices in vecDevices int deviceCount=vecDevices.size(); if(deviceCount <= 0){ System.out.println(\"No Devices Found .\"); System.exit(0); } else{ //print bluetooth device addresses and names in the format [ No. address (name) ] System.out.println(\"Bluetooth Devices: \"); for (int i = 0; i <deviceCount; i++) { RemoteDevice remoteDevice=(RemoteDevice)vecDevices.elementAt(i); System.out.println((i+1)+\". \"+remoteDevice.getBluetoothAddress()+\" (\"+remoteDevice.getFriendlyName(true)+\")\"); } } System.out.print(\"Choose Device index: \"); BufferedReader bReader=new BufferedReader(new InputStreamReader(System.in)); String chosenIndex=bReader.readLine(); int index=Integer.parseInt(chosenIndex.trim()); //check for spp service RemoteDevice remoteDevice=(RemoteDevice)vecDevices.elementAt(index-1); UUID[] uuidSet = new UUID[1]; uuidSet[0]=new UUID(\"446118f08b1e11e29e960800200c9a66\", false); System.out.println(\"\\nSearching for service...\"); agent.searchServices(null,uuidSet,remoteDevice,client); try { synchronized(lock){ lock.wait(); } } catch (InterruptedException e) { e.printStackTrace(); } if(connectionURL==null){ System.out.println(\"Device does not support Simple SPP Service.\"); System.exit(0); } //connect to the server and send a line of text StreamConnection streamConnection=(StreamConnection)Connector.open(connectionURL); //send string OutputStream outStream=streamConnection.openOutputStream(); PrintWriter pWriter=new PrintWriter(new OutputStreamWriter(outStream)); pWriter.write(\"Test String from SPP Client\\r\\n\"); pWriter.flush(); //read response InputStream inStream=streamConnection.openInputStream(); BufferedReader bReader2=new BufferedReader(new InputStreamReader(inStream)); String lineRead=bReader2.readLine(); System.out.println(lineRead); }//main //methods of DiscoveryListener public void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) { //add the device to the vector if(!vecDevices.contains(btDevice)){ vecDevices.addElement(btDevice); } } //implement this method since services are not being discovered public void servicesDiscovered(int transID, ServiceRecord[] servRecord) { if(servRecord!=null && servRecord.length>0){ connectionURL=servRecord[0].getConnectionURL(0,false); } synchronized(lock){ lock.notify(); } } //implement this method since services are not being discovered public void serviceSearchCompleted(int transID, int respCode) { synchronized(lock){ lock.notify(); } } public void inquiryCompleted(int discType) { synchronized(lock){ lock.notify(); } }//end method } For testing I use a Galaxy Nexus (GT-I9250) with the latest Android API. Thanks to user_CC, the client and server now runs without an exception. But sadly the client is not able to connect to the server (see the screenshot below). It is because the connectionURL is never set (thus it jumps in here if(connectionURL==null) by default. How can I change the client code, so that I actually can connect it with the server? I need a proper connectionURL in the following line: StreamConnection streamConnection=(StreamConnection)Connector.open(connectionURL) So far I only found out that I somehow need to get the ServiceRecord, sadly this is also not described in the example code from here.",
    "code": "public class RFCommServer extends Thread{\n\n//based on java.util.UUID\nprivate static UUID MY_UUID = UUID.fromString(\"446118f0-8b1e-11e2-9e96-0800200c9a66\");\n\n// The local server socket\nprivate BluetoothServerSocket mmServerSocket;\n\n// based on android.bluetooth.BluetoothAdapter\nprivate BluetoothAdapter mAdapter;\nprivate BluetoothDevice remoteDevice;\n\nprivate Activity activity;\n\npublic RFCommServer(Activity activity) {\n    this.activity = activity;\n}\n\npublic void run() {\n    BluetoothSocket socket = null;\n    mAdapter = BluetoothAdapter.getDefaultAdapter();        \n\n    // Listen to the server socket if we're not connected\n    while (true) {\n\n        try {\n            // Create a new listening server socket\n            Log.d(this.getName(), \".....Initializing RFCOMM SERVER....\");\n\n            // MY_UUID is the UUID you want to use for communication\n            mmServerSocket = mAdapter.listenUsingRfcommWithServiceRecord(\"MyService\", MY_UUID);\n            //mmServerSocket = mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME, MY_UUID); // you can also try using In Secure connection...\n\n            // This is a blocking call and will only return on a\n            // successful connection or an exception\n            socket = mmServerSocket.accept();\n\n        } catch (Exception e) {\n\n        }\n\n        try {\n            Log.d(this.getName(), \"Closing Server Socket.....\");\n            mmServerSocket.close();\n\n            InputStream tmpIn = null;\n            OutputStream tmpOut = null;\n\n            // Get the BluetoothSocket input and output streams\n\n            tmpIn = socket.getInputStream();\n            tmpOut = socket.getOutputStream();\n\n            DataInputStream mmInStream = new DataInputStream(tmpIn);\n            DataOutputStream mmOutStream = new DataOutputStream(tmpOut);\n\n            // here you can use the Input Stream to take the string from the client whoever is connecting\n            //similarly use the output stream to send the data to the client\n\n            RelativeLayout layout = (RelativeLayout) activity.findViewById(R.id.relativeLayout_Layout);\n            TextView text = (TextView) layout.findViewById(R.id.textView_Text);\n\n            text.setText(mmInStream.toString());\n        } catch (Exception e) {\n            //catch your exception here\n        }\n    }\n}\n\n\n/**\n* A simple SPP client that connects with an SPP server\n*/\npublic class SampleSPPClient implements DiscoveryListener{\n\n//object used for waiting\nprivate static Object lock=new Object();\n\n//vector containing the devices discovered\nprivate static Vector vecDevices=new Vector();\n\nprivate static String connectionURL=null;\n\npublic static void main(String[] args) throws IOException {\n\n    SampleSPPClient client=new SampleSPPClient();\n\n    //display local device address and name\n    LocalDevice localDevice = LocalDevice.getLocalDevice();\n    System.out.println(\"Address: \"+localDevice.getBluetoothAddress());\n    System.out.println(\"Name: \"+localDevice.getFriendlyName());\n\n    //find devices\n    DiscoveryAgent agent = localDevice.getDiscoveryAgent();\n\n    System.out.println(\"Starting device inquiry...\");\n    agent.startInquiry(DiscoveryAgent.GIAC, client);\n\n    try {\n        synchronized(lock){\n            lock.wait();\n        }\n    }\n    catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n\n    System.out.println(\"Device Inquiry Completed. \");\n\n    //print all devices in vecDevices\n    int deviceCount=vecDevices.size();\n\n    if(deviceCount &lt;= 0){\n        System.out.println(\"No Devices Found .\");\n        System.exit(0);\n    }\n    else{\n        //print bluetooth device addresses and names in the format [ No. address (name) ]\n        System.out.println(\"Bluetooth Devices: \");\n        for (int i = 0; i &lt;deviceCount; i++) {\n            RemoteDevice remoteDevice=(RemoteDevice)vecDevices.elementAt(i);\n            System.out.println((i+1)+\". \"+remoteDevice.getBluetoothAddress()+\" (\"+remoteDevice.getFriendlyName(true)+\")\");\n        }\n    }\n\n    System.out.print(\"Choose Device index: \");\n    BufferedReader bReader=new BufferedReader(new InputStreamReader(System.in));\n\n    String chosenIndex=bReader.readLine();\n    int index=Integer.parseInt(chosenIndex.trim());\n\n    //check for spp service\n    RemoteDevice remoteDevice=(RemoteDevice)vecDevices.elementAt(index-1);\n    UUID[] uuidSet = new UUID[1];\n    uuidSet[0]=new UUID(\"446118f08b1e11e29e960800200c9a66\", false);\n\n    System.out.println(\"\\nSearching for service...\");\n    agent.searchServices(null,uuidSet,remoteDevice,client);\n\n    try {\n        synchronized(lock){\n            lock.wait();\n        }\n    }\n    catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    if(connectionURL==null){\n        System.out.println(\"Device does not support Simple SPP Service.\");\n        System.exit(0);\n    }\n\n    //connect to the server and send a line of text\n    StreamConnection streamConnection=(StreamConnection)Connector.open(connectionURL);\n\n    //send string\n    OutputStream outStream=streamConnection.openOutputStream();\n    PrintWriter pWriter=new PrintWriter(new OutputStreamWriter(outStream));\n    pWriter.write(\"Test String from SPP Client\\r\\n\");\n    pWriter.flush();\n\n\n    //read response\n    InputStream inStream=streamConnection.openInputStream();\n    BufferedReader bReader2=new BufferedReader(new InputStreamReader(inStream));\n    String lineRead=bReader2.readLine();\n    System.out.println(lineRead);\n\n\n}//main\n\n//methods of DiscoveryListener\npublic void deviceDiscovered(RemoteDevice btDevice, DeviceClass cod) {\n    //add the device to the vector\n    if(!vecDevices.contains(btDevice)){\n        vecDevices.addElement(btDevice);\n    }\n}\n\n//implement this method since services are not being discovered\npublic void servicesDiscovered(int transID, ServiceRecord[] servRecord) {\n    if(servRecord!=null &amp;&amp; servRecord.length&gt;0){\n        connectionURL=servRecord[0].getConnectionURL(0,false);\n    }\n    synchronized(lock){\n        lock.notify();\n    }\n}\n\n//implement this method since services are not being discovered\npublic void serviceSearchCompleted(int transID, int respCode) {\n    synchronized(lock){\n        lock.notify();\n    }\n}\n\n\npublic void inquiryCompleted(int discType) {\n    synchronized(lock){\n        lock.notify();\n    }\n\n}//end method\n\n}\n\n\nStreamConnection streamConnection=(StreamConnection)Connector.open(connectionURL)\n\n\nRFComm\n\nconnectionURL\n\nif(connectionURL==null)\n\nconnectionURL\n\nServiceRecord\n\n# Solution Code:\n    private class AcceptThread extends Thread {\n    // The local server socket\n    private BluetoothServerSocket mmServerSocket;\n\n    public AcceptThread() {\n    }\n\n    public void run() {         \n        BluetoothSocket socket = null;\n\n                    BluetoothAdapter mAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        // Listen to the server socket if we're not connected\n        while (true) {\n\n            try {\n                // Create a new listening server socket\n                Log.d(TAG, \".....Initializing RFCOMM SERVER....\");\n\n                // MY_UUID is the UUID you want to use for communication\n                mmServerSocket = mAdapter.listenUsingRfcommWithServiceRecord(NAME, MY_UUID);                    \n                //mmServerSocket = mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME, MY_UUID);  you can also try using In Secure connection...\n\n                // This is a blocking call and will only return on a\n                // successful connection or an exception                    \n                socket = mmServerSocket.accept();                   \n\n            } catch (Exception e) {\n\n            }\n\n            try {\n                Log.d(TAG, \"Closing Server Socket.....\";                    \n                mmServerSocket.close();\n\n\n\n                InputStream tmpIn = null;\n                OutputStream tmpOut = null;\n\n                // Get the BluetoothSocket input and output streams\n\n                tmpIn = socket.getInputStream();\n                tmpOut = socket.getOutputStream();\n\n\n                mmInStream = new DataInputStream(tmpIn);\n                mmOutStream = new DataOutputStream(tmpOut); \n\n                // here you can use the Input Stream to take the string from the client whoever is connecting\n                //similarly use the output stream to send the data to the client\n            } catch (Exception e) {\n                //catch your exception here\n            }\n\n        }\n    }\n\n}\n\n\n   uuidSet2[0] = new UUID(\"446118f08b1e11e29e960800200c9a66\", false);\n\n\n    UUID MY_UUID = UUID.fromString(\"446118f0-8b1e-11e2-9e96-0800200c9a66\");\n",
    "resolution": "You will need to use the RFComm APIS to make the communication work I have managed to define a class which is a Thread and will be acting as a server and listening for client connections. I have also placed some comments for you to understand. private class AcceptThread extends Thread { // The local server socket private BluetoothServerSocket mmServerSocket; public AcceptThread() { } public void run() { BluetoothSocket socket = null; BluetoothAdapter mAdapter = BluetoothAdapter.getDefaultAdapter(); // Listen to the server socket if we're not connected while (true) { try { // Create a new listening server socket Log.d(TAG, \".....Initializing RFCOMM SERVER....\"); // MY_UUID is the UUID you want to use for communication mmServerSocket = mAdapter.listenUsingRfcommWithServiceRecord(NAME, MY_UUID); //mmServerSocket = mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME, MY_UUID); you can also try using In Secure connection... // This is a blocking call and will only return on a // successful connection or an exception socket = mmServerSocket.accept(); } catch (Exception e) { } try { Log.d(TAG, \"Closing Server Socket.....\"; mmServerSocket.close(); InputStream tmpIn = null; OutputStream tmpOut = null; // Get the BluetoothSocket input and output streams tmpIn = socket.getInputStream(); tmpOut = socket.getOutputStream(); mmInStream = new DataInputStream(tmpIn); mmOutStream = new DataOutputStream(tmpOut); // here you can use the Input Stream to take the string from the client whoever is connecting //similarly use the output stream to send the data to the client } catch (Exception e) { //catch your exception here } } } } I hope this helps For your another question: Declaring javax.bluetooth.UUID on Client side (PC) UUID class should be from javax.bluetooth.UUID uuidSet2[0] = new UUID(\"446118f08b1e11e29e960800200c9a66\", false); Declaring java.util.UUID at Server Side (Android) UUID MY_UUID = UUID.fromString(\"446118f0-8b1e-11e2-9e96-0800200c9a66\");",
    "severity": "high",
    "tags": [
      "java",
      "android",
      "bluetooth",
      "client-server",
      "bluecove"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "15343369",
      "stackoverflow_score": 22,
      "stackoverflow_view_count": 72557,
      "stackoverflow_creation_date": "2013-03-11T16:13:19.140Z"
    },
    "idempotency_key": "stackoverflow-15343369",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot put a google maps GMSMapView in a subview of main main view?",
    "body": "I'm struggling with this problem! I want to add a google maps GMSMapView into a UIView that is only a portion of the main UIView of my ViewController. It should be simple... I created with the storyboard a UIView of the size I want and put it in the main UIView. Snippet from Interface file: @interface MapViewController : UIViewController <CLLocationManagerDelegate> @property(nonatomic) IBOutlet GMSMapView *mapView; With the mapView linked with this UIView inside the main UIView. What I do in the implementation: @synthesize mapView = _mapView; - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view. GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-33.8683 longitude:151.2086 zoom:10]; _mapView = [GMSMapView mapWithFrame:_mapView.bounds camera:camera]; _mapView.myLocationEnabled = YES; } This should work, shouldn't it? What I get is that my internal UIView is empty. If I instantiate a map following google's starting guide Google Map Integration Document, it works but it assigns the map to the MAIN UIView and thats a different thing. I tried even changing the class of my mapView in the storyboard from UIView to GMSMapView. The map is showed in the inner view but it is initialized in a strange way making The system throwing an error saying \"Failed to make complete frame buffer\" and slowing down a lot the loading of the view (it takes 2-3 seconds on the simulator) The map not responding in any camera change done in the viewDidLoad method. Any suggestions? I read some posts here on StackOverflow but couldn't find a valid solution :(",
    "code": "@interface MapViewController : UIViewController &lt;CLLocationManagerDelegate&gt;\n\n@property(nonatomic) IBOutlet GMSMapView *mapView;\n\n\n@synthesize mapView = _mapView;\n\n- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-33.8683\n                                                            longitude:151.2086\n                                                                 zoom:10];\n    _mapView = [GMSMapView mapWithFrame:_mapView.bounds camera:camera];\n    _mapView.myLocationEnabled = YES;\n\n}\n\n\nGMSMapView\n\nUIView\n\nUIView\n\nViewController\n\nUIView\n\nUIView\n\nUIView\n\nUIView\n\nUIView\n\nGMSMapView\n\nviewDidLoad\n\n# Solution Code:\n@interface GPViewController : UIViewController\n@property (strong, nonatomic) IBOutlet GMSMapView *map1;\n@property (strong, nonatomic) IBOutlet UIView *plainViewOnXIBHoldsMap3;\n@end\n\n\n- (void)viewDidLoad{\n    [super viewDidLoad];\n    GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-33.0\n                                                        longitude:151.20\n                                                             zoom:6];\n\n    /* Option 1. view on XIB is class GSMMapView */\n    self.map1.camera = camera;\n\n    /* Option 2. add a map as a subview */\n    GMSMapView *map2 = [GMSMapView mapWithFrame:CGRectMake(0, 0, 100, 100) camera:camera];\n    [self.view addSubview:map2];\n\n    /* Option 3. add a map to a subview already on the XIB */\n    GMSMapView *map3 = [GMSMapView mapWithFrame:self.plainViewOnXIBHoldsMap3.bounds camera:camera];\n    [self.plainViewOnXIBHoldsMap addSubview:map3];\n}\n",
    "resolution": "Based on other answers, here are three ways that actually work. Put a view on the XIB and change its class to GMSMapView in XIB builder. See *map1 below. Or... Code it all. Add the map as a subview of the main view. See *map2 below. Or... Add the map as a subview of another subview already in the XIB with an outlet. *map3 below. .h @interface GPViewController : UIViewController @property (strong, nonatomic) IBOutlet GMSMapView *map1; @property (strong, nonatomic) IBOutlet UIView *plainViewOnXIBHoldsMap3; @end .m - (void)viewDidLoad{ [super viewDidLoad]; GMSCameraPosition *camera = [GMSCameraPosition cameraWithLatitude:-33.0 longitude:151.20 zoom:6]; /* Option 1. view on XIB is class GSMMapView */ self.map1.camera = camera; /* Option 2. add a map as a subview */ GMSMapView *map2 = [GMSMapView mapWithFrame:CGRectMake(0, 0, 100, 100) camera:camera]; [self.view addSubview:map2]; /* Option 3. add a map to a subview already on the XIB */ GMSMapView *map3 = [GMSMapView mapWithFrame:self.plainViewOnXIBHoldsMap3.bounds camera:camera]; [self.plainViewOnXIBHoldsMap addSubview:map3]; }",
    "severity": "high",
    "tags": [
      "ios",
      "uiview",
      "subview",
      "google-maps-sdk-ios"
    ],
    "metadata": {
      "stackoverflow_question_id": "15417811",
      "stackoverflow_score": 42,
      "stackoverflow_view_count": 37241,
      "stackoverflow_creation_date": "2013-03-14T18:51:45.453Z"
    },
    "idempotency_key": "stackoverflow-15417811",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "WCF Services and Object Constructors",
    "body": "I am just learning WCF services. I have a method that returns an object I created called GPSPosition. A GPS Position object has a Latitude and a Longitude. The object should never really exist without these properties.. So, I want to have the constructor accept the Lat and Long floats. So when the object is created, the values are set, and can never be invalid (Unset). But, it's an object of my WCF service. Can as WCF service object, that my calling application uses, have a constructor? If I var position = new GpsPosition{ lat=1, lon=1 }; in my calling code, will the constructor work? Can you have constructors in WCF classes? I thought they are shared among different languages - so if the service is used by Java, for example, I'm unsure how the constructor will fire. The object structure is shared to the calling app, no? Can you fire .net code in the constructor (And getter and setter methods, for that case)? And if the constructor isn't usable - is there a way to ensure my object is never invalid? (Must have valid lat/long values between -180 and +180)?",
    "code": "var position = new GpsPosition{ lat=1, lon=1 };\n\n# Solution Code:\n[DataContract]\npublic class GpsPosition\n{\n    private float _lat;\n    private float _lon;\n    private bool _latWasSet;\n    private bool _lonWasSet;\n\n    public GpsPosition(float lat, float lon)\n    {\n        _lat = lat;\n        _lon = lon;\n    }\n\n    [DataMember]\n    public float lat\n    {\n        get { return _lat; }\n        private set\n        {\n            _lat = value;\n            _latWasSet = true;\n        }\n    }\n\n    [DataMember]\n    public float lon\n    {\n        get { return _lon; }\n        private set\n        {\n            _lon = value;\n            _lonWasSet = true;\n        }\n    }\n\n    [OnDeserialized]\n    void OnDeserialized(StreamingContext ctx)\n    {\n        if (!_latWasSet || _!lonWasSet ||\n            _lat &lt; -90 || _lat &gt; 90 ||\n            _lon &lt; -180 || _lon &gt; 180)\n        {\n            throw new InvalidOperationException(\"Required property is missing\");\n        }\n    }\n}\n\n\nGpsPosition\n\n[DataContract]",
    "resolution": "The answer will depend on which serialization model your type GpsPosition uses. The two most common ones used in WCF are POCO (plain-old CLR object) and [DataContract]. In the former, the object must have a parameter-less constructor, which goes against your requirement (that the values need to be set once). In the latter, the object constructor is not invoked - instead an uninitialized instance of the type is created, and its members are set via deserialization. So constructors are not an alternative to validate the objects coming from the wire. What you need to validate the object, instead of the constructor, is a serialization callback, which is invoked when the deserialization is complete. The WCF serializer will call them when the deserialization is done, and there you can check whether the object was properly initialized, and throw an exception otherwise. This blog post has more details on serialization callbacks, and the code below shows one possible implementation for your scenario. [DataContract] public class GpsPosition { private float _lat; private float _lon; private bool _latWasSet; private bool _lonWasSet; public GpsPosition(float lat, float lon) { _lat = lat; _lon = lon; } [DataMember] public float lat { get { return _lat; } private set { _lat = value; _latWasSet = true; } } [DataMember] public float lon { get { return _lon; } private set { _lon = value; _lonWasSet = true; } } [OnDeserialized] void OnDeserialized(StreamingContext ctx) { if (!_latWasSet || _!lonWasSet || _lat < -90 || _lat > 90 || _lon < -180 || _lon > 180) { throw new InvalidOperationException(\"Required property is missing\"); } } }",
    "severity": "medium",
    "tags": [
      "c#",
      "wcf",
      "serialization"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "15571902",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6551,
      "stackoverflow_creation_date": "2013-03-22T13:45:17.533Z"
    },
    "idempotency_key": "stackoverflow-15571902",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to use multiple languages in one view in CodeIgniter?",
    "body": "E.g. I will load the languages like (btw. I think only the first of these two, English will be loaded other ignored): $this->lang->load('module_messages', 'english'); $this->lang->load('module_messages', 'czech'); But I can use only something like this: echo $this->lang->line('language_key'); THis is not working: echo $this->lang->line('language_key', 'english'); Any idea how to echo both language translations at the same time in the same view like: echo $this->lang->line('language_key', 'english'); echo $this->lang->line('language_key', 'czech'); How to achieve such thing?",
    "code": "$this-&gt;lang-&gt;load('module_messages', 'english');\n$this-&gt;lang-&gt;load('module_messages', 'czech');\n\n\necho $this-&gt;lang-&gt;line('language_key');\n\n\necho $this-&gt;lang-&gt;line('language_key', 'english');\n\n\necho $this-&gt;lang-&gt;line('language_key', 'english');\necho $this-&gt;lang-&gt;line('language_key', 'czech');\n\n\n# Solution Code:\n$this-&gt;lang-&gt;load('en_module_messages', 'english');\n$this-&gt;lang-&gt;load('cs_module_messages', 'czech');\n\necho $this-&gt;lang-&gt;line('en_language_key');\necho $this-&gt;lang-&gt;line('cs_language_key');\n",
    "resolution": "Unfortunately there is currently no way to do such a thing as the keys are loaded for one language file. It's just not typical to load multiple files. However, there is a way around it and that is to use a prefix like so: $this->lang->load('en_module_messages', 'english'); $this->lang->load('cs_module_messages', 'czech'); echo $this->lang->line('en_language_key'); echo $this->lang->line('cs_language_key'); If you name the language files and keys the same they will course conflict. So we add an ISO language prefix to the language files and to the line keys. So that both languages are kept separated allowing you to use them both at the same time.",
    "severity": "medium",
    "tags": [
      "php",
      "codeigniter"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "15646716",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3104,
      "stackoverflow_creation_date": "2013-03-26T20:26:23.213Z"
    },
    "idempotency_key": "stackoverflow-15646716",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Issue in Cutting Multiple clips from a Movie with mp4parser Library",
    "body": "I am using mp4parser Library for cutting multiple clips from a recored video. It is working fine If I cut one part from the video. But when I try to cutt multiple clips from video only 1st clip is proper cut. Other are of just 0 or 1 second. Following is the My Code: import android.app.ProgressDialog; import android.content.Context; import android.os.Handler; import android.os.Message; import android.util.Log; import android.widget.Toast; import com.coremedia.iso.IsoFile; import com.coremedia.iso.boxes.TimeToSampleBox; import com.googlecode.mp4parser.authoring.Movie; import com.googlecode.mp4parser.authoring.Track; import com.googlecode.mp4parser.authoring.builder.DefaultMp4Builder; import com.googlecode.mp4parser.authoring.container.mp4.MovieCreator; import com.googlecode.mp4parser.authoring.tracks.CroppedTrack; import java.io.File; import java.io.FileInputStream; import java.io.FileNotFoundException; import java.io.FileOutputStream; import java.io.IOException; import java.nio.channels.FileChannel; import java.text.SimpleDateFormat; import java.util.ArrayList; import java.util.Arrays; import java.util.Date; import java.util.LinkedList; import java.util.List; import java.util.concurrent.ExecutorService; import java.util.concurrent.Executors; import uk.org.humanfocus.hfi.Beans.TrimPoint; import uk.org.humanfocus.hfi.Utils.Constants; import uk.org.humanfocus.hfi.Utils.SimpleThreadFactory; import uk.org.humanfocus.hfi.Utils.Ut; /** * Shortens/Crops a track */ public class ShortenExample { private static final String TAG = \"ShortenExample\"; private final Context mCxt; private ExecutorService mThreadExecutor = null; private SimpleInvalidationHandler mHandler; private ProgressDialog mProgressDialog; String filePath; ArrayList<TrimPoint> mTrimPoints; int videoLength; ArrayList<String> trimVideos; private class SimpleInvalidationHandler extends Handler { @Override public void handleMessage(final Message msg) { switch (msg.what) { case R.id.shorten: mProgressDialog.dismiss(); if (msg.arg1 == 0) Toast.makeText(mCxt, mCxt.getString(R.string.message_error) + \" \" + (String) msg.obj, Toast.LENGTH_LONG).show(); else Toast.makeText(mCxt, mCxt.getString(R.string.message_shortened) + \" \" + (String) msg.obj, Toast.LENGTH_LONG).show(); break; } } } public ShortenExample(Context context) { mCxt = context; mHandler = new SimpleInvalidationHandler(); //mProgressDialog = new ProgressDialog(mCxt); //mProgressDialog.setMessage(\"Wait Saving..\"); //mProgressDialog.setCancelable(false); } public void shorten(String filePath,ArrayList<TrimPoint> trimPoints, int endTime) { trimVideos = new ArrayList<String>(); this.filePath = filePath; this.videoLength = endTime; this.mTrimPoints = trimPoints; Log.d(Constants.TAG,\"End Time: \"+endTime+\" Trim Points: \"+mTrimPoints.size()); for (int i=0;i<trimPoints.size();i++){ TrimPoint point = trimPoints.get(i); int start=0; int end = 0; if(point.getTime()-5<0){ start = 0; }else{ start = point.getTime()-5; } if(point.getTime()+5>videoLength){ end = videoLength-1; }else { end = point.getTime() + 5; } Log.d(Constants.TAG,\"Clip: \"+start+\" : \"+end); doShorten(start,end); } Log.d(Constants.TAG,\"Done: \"+trimVideos.size()); } private void doShorten(final int _startTime, final int _endTime) { //mProgressDialog = Ut.ShowWaitDialog(mCxt, 0); //mProgressDialog.show(); if(mThreadExecutor == null) mThreadExecutor = Executors.newSingleThreadExecutor(new SimpleThreadFactory(\"doShorten\")); //this.mThreadExecutor.execute(new Runnable() { // public void run() { try { File folder = Ut.getTestMp4ParserVideosDir(mCxt); //File folder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM),\"HFVideos\"+File.separator+\"TEMP\"); //Log.d(Constants.TAG, folder.toString()); if (!folder.exists()) { Log.d(TAG, \"failed to create directory\"); } //Movie movie = new MovieCreator().build(new RandomAccessFile(\"/home/sannies/suckerpunch-distantplanet_h1080p/suckerpunch-distantplanet_h1080p.mov\", \"r\").getChannel()); // Movie movie = MovieCreator.build(new FileInputStream(\"/home/sannies/CSI.S13E02.HDTV.x264-LOL.mp4\").getChannel()); Movie movie = MovieCreator.build(new FileInputStream(new File(filePath)).getChannel()); //Log.d(Constants.TAG,\"Movie: \"+movie.toString()); List<Track> tracks = movie.getTracks(); movie.setTracks(new LinkedList<Track>()); // remove all tracks we will create new tracks from the old double startTime = _startTime; double endTime = _endTime;//(double) getDuration(tracks.get(0)) / tracks.get(0).getTrackMetaData().getTimescale(); boolean timeCorrected = false; // Here we try to find a track that has sync samples. Since we can only start decoding // at such a sample we SHOULD make sure that the start of the new fragment is exactly // such a frame for (Track track : tracks) { if (track.getSyncSamples() != null && track.getSyncSamples().length > 0) { if (timeCorrected) { // This exception here could be a false positive in case we have multiple tracks // with sync samples at exactly the same positions. E.g. a single movie containing // multiple qualities of the same video (Microsoft Smooth Streaming file) throw new RuntimeException(\"The startTime has already been corrected by another track with SyncSample. Not Supported.\"); } startTime = correctTimeToSyncSample(track, startTime, false); endTime = correctTimeToSyncSample(track, endTime, true); timeCorrected = true; } } for (Track track : tracks) { long currentSample = 0; double currentTime = 0; long startSample = -1; long endSample = -1; for (int i = 0; i < track.getDecodingTimeEntries().size(); i++) { TimeToSampleBox.Entry entry = track.getDecodingTimeEntries().get(i); for (int j = 0; j < entry.getCount(); j++) { // entry.getDelta() is the amount of time the current sample covers. if (currentTime <= startTime) { // current sample is still before the new starttime startSample = currentSample; } if (currentTime <= endTime) { // current sample is after the new start time and still before the new endtime endSample = currentSample; } else { // current sample is after the end of the cropped video break; } currentTime += (double) entry.getDelta() / (double) track.getTrackMetaData().getTimescale(); currentSample++; } } movie.addTrack(new CroppedTrack(track, startSample, endSample)); } long start1 = System.currentTimeMillis(); IsoFile out = new DefaultMp4Builder().build(movie); long start2 = System.currentTimeMillis(); // FileOutputStream fos = new FileOutputStream(String.format(\"output-%f-%f.mp4\", startTime, endTime)); String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date()); String filename = folder.getPath() + File.separator + String.format(\"TMP4_APP_OUT-%f-%f\", startTime, endTime) + \"_\" + timeStamp + \".mp4\"; trimVideos.add(filename); FileOutputStream fos = new FileOutputStream(filename); FileChannel fc = fos.getChannel(); out.getBox(fc); fc.close(); fos.close(); long start3 = System.currentTimeMillis(); System.err.println(\"Building IsoFile took : \" + (start2 - start1) + \"ms\"); System.err.println(\"Writing IsoFile took : \" + (start3 - start2) + \"ms\"); System.err.println(\"Writing IsoFile speed : \" + (new File(String.format(\"TMP4_APP_OUT-%f-%f\", startTime, endTime)).length() / (start3 - start2) / 1000) + \"MB/s\"); Message.obtain(mHandler, R.id.shorten, 1, 0, filename).sendToTarget(); } catch (FileNotFoundException e) { Message.obtain(mHandler, R.id.shorten, 0, 0, e.getMessage()).sendToTarget(); e.printStackTrace(); } catch (IOException e) { Message.obtain(mHandler, R.id.shorten, 0, 0, e.getMessage()).sendToTarget(); e.printStackTrace(); } //mProgressDialog.dismiss(); // } //}); } protected static long getDuration(Track track) { long duration = 0; for (TimeToSampleBox.Entry entry : track.getDecodingTimeEntries()) { duration += entry.getCount() * entry.getDelta(); } return duration; } private static double correctTimeToSyncSample(Track track, double cutHere, boolean next) { double[] timeOfSyncSamples = new double[track.getSyncSamples().length]; long currentSample = 0; double currentTime = 0; for (int i = 0; i < track.getDecodingTimeEntries().size(); i++) { TimeToSampleBox.Entry entry = track.getDecodingTimeEntries().get(i); for (int j = 0; j < entry.getCount(); j++) { if (Arrays.binarySearch(track.getSyncSamples(), currentSample + 1) >= 0) { // samples always start with 1 but we start with zero therefore +1 timeOfSyncSamples[Arrays.binarySearch(track.getSyncSamples(), currentSample + 1)] = currentTime; } currentTime += (double) entry.getDelta() / (double) track.getTrackMetaData().getTimescale(); currentSample++; } } double previous = 0; for (double timeOfSyncSample : timeOfSyncSamples) { if (timeOfSyncSample > cutHere) { if (next) { return timeOfSyncSample; } else { return previous; } } previous = timeOfSyncSample; } return timeOfSyncSamples[timeOfSyncSamples.length - 1]; } }",
    "code": "import android.app.ProgressDialog;\nimport android.content.Context;\nimport android.os.Handler;\nimport android.os.Message;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport com.coremedia.iso.IsoFile;\nimport com.coremedia.iso.boxes.TimeToSampleBox;\nimport com.googlecode.mp4parser.authoring.Movie;\nimport com.googlecode.mp4parser.authoring.Track;\nimport com.googlecode.mp4parser.authoring.builder.DefaultMp4Builder;\nimport com.googlecode.mp4parser.authoring.container.mp4.MovieCreator;\nimport com.googlecode.mp4parser.authoring.tracks.CroppedTrack;\n\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.nio.channels.FileChannel;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Date;\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\nimport uk.org.humanfocus.hfi.Beans.TrimPoint;\nimport uk.org.humanfocus.hfi.Utils.Constants;\nimport uk.org.humanfocus.hfi.Utils.SimpleThreadFactory;\nimport uk.org.humanfocus.hfi.Utils.Ut;\n\n/**\n * Shortens/Crops a track\n */\npublic class ShortenExample {\n\n    private static final String TAG = \"ShortenExample\";\n    private final Context mCxt;\n    private ExecutorService mThreadExecutor = null;\n    private SimpleInvalidationHandler mHandler;\n    private ProgressDialog mProgressDialog;\n    String filePath;\n    ArrayList&lt;TrimPoint&gt; mTrimPoints;\n    int videoLength;\n    ArrayList&lt;String&gt; trimVideos;\n    private class SimpleInvalidationHandler extends Handler {\n\n        @Override\n        public void handleMessage(final Message msg) {\n            switch (msg.what) {\n            case R.id.shorten:\n                mProgressDialog.dismiss();\n\n                if (msg.arg1 == 0)\n                    Toast.makeText(mCxt,\n                            mCxt.getString(R.string.message_error) + \" \" + (String) msg.obj,\n                            Toast.LENGTH_LONG).show();\n                else\n                    Toast.makeText(mCxt,\n                            mCxt.getString(R.string.message_shortened) + \" \" + (String) msg.obj,\n                            Toast.LENGTH_LONG).show();\n                break;\n            }\n        }\n    }\n\n    public ShortenExample(Context context) {\n        mCxt = context;\n        mHandler = new SimpleInvalidationHandler();\n        //mProgressDialog = new ProgressDialog(mCxt);\n        //mProgressDialog.setMessage(\"Wait Saving..\");\n        //mProgressDialog.setCancelable(false);\n    }\n\n    public void shorten(String filePath,ArrayList&lt;TrimPoint&gt; trimPoints, int endTime) {\n        trimVideos = new ArrayList&lt;String&gt;();\n        this.filePath = filePath;\n        this.videoLength = endTime;\n        this.mTrimPoints = trimPoints;\n        Log.d(Constants.TAG,\"End Time: \"+endTime+\" Trim Points: \"+mTrimPoints.size());\n        for (int i=0;i&lt;trimPoints.size();i++){\n            TrimPoint point = trimPoints.get(i);\n            int start=0;\n            int end = 0;\n            if(point.getTime()-5&lt;0){\n                start = 0;\n            }else{\n                start = point.getTime()-5;\n            }\n\n            if(point.getTime()+5&gt;videoLength){\n                end = videoLength-1;\n            }else {\n                end = point.getTime() + 5;\n            }\n            Log.d(Constants.TAG,\"Clip: \"+start+\" : \"+end);\n            doShorten(start,end);   \n        }\n        Log.d(Constants.TAG,\"Done: \"+trimVideos.size());\n    }\n\n    private void doShorten(final int _startTime, final int _endTime) {\n        //mProgressDialog = Ut.ShowWaitDialog(mCxt, 0);\n\n        //mProgressDialog.show();\n\n\n        if(mThreadExecutor == null)\n            mThreadExecutor = Executors.newSingleThreadExecutor(new SimpleThreadFactory(\"doShorten\"));\n\n        //this.mThreadExecutor.execute(new Runnable() {\n        //  public void run() {\n                try {\n                    File folder = Ut.getTestMp4ParserVideosDir(mCxt);\n                    //File folder = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DCIM),\"HFVideos\"+File.separator+\"TEMP\");\n                    //Log.d(Constants.TAG, folder.toString());\n                    if (!folder.exists()) {\n                        Log.d(TAG, \"failed to create directory\");\n                    }\n\n                    //Movie movie = new MovieCreator().build(new RandomAccessFile(\"/home/sannies/suckerpunch-distantplanet_h1080p/suckerpunch-distantplanet_h1080p.mov\", \"r\").getChannel());\n//                  Movie movie = MovieCreator.build(new FileInputStream(\"/home/sannies/CSI.S13E02.HDTV.x264-LOL.mp4\").getChannel());\n                    Movie movie = MovieCreator.build(new FileInputStream(new File(filePath)).getChannel());\n                    //Log.d(Constants.TAG,\"Movie: \"+movie.toString());\n                    List&lt;Track&gt; tracks = movie.getTracks();\n                    movie.setTracks(new LinkedList&lt;Track&gt;());\n                    // remove all tracks we will create new tracks from the old\n\n                    double startTime = _startTime;\n                    double endTime = _endTime;//(double) getDuration(tracks.get(0)) / tracks.get(0).getTrackMetaData().getTimescale();\n\n                    boolean timeCorrected = false;\n\n                    // Here we try to find a track that has sync samples. Since we can only start decoding\n                    // at such a sample we SHOULD make sure that the start of the new fragment is exactly\n                    // such a frame\n                    for (Track track : tracks) {\n                        if (track.getSyncSamples() != null &amp;&amp; track.getSyncSamples().length &gt; 0) {\n                            if (timeCorrected) {\n                                // This exception here could be a false positive in case we have multiple tracks\n                                // with sync samples at exactly the same positions. E.g. a single movie containing\n                                // multiple qualities of the same video (Microsoft Smooth Streaming file)\n\n                                throw new RuntimeException(\"The startTime has already been corrected by another track with SyncSample. Not Supported.\");\n                            }\n                            startTime = correctTimeToSyncSample(track, startTime, false);\n                            endTime = correctTimeToSyncSample(track, endTime, true);\n                            timeCorrected = true;\n                        }\n                    }\n\n                    for (Track track : tracks) {\n                        long currentSample = 0;\n                        double currentTime = 0;\n                        long startSample = -1;\n                        long endSample = -1;\n\n                        for (int i = 0; i &lt; track.getDecodingTimeEntries().size(); i++) {\n                            TimeToSampleBox.Entry entry = track.getDecodingTimeEntries().get(i);\n                            for (int j = 0; j &lt; entry.getCount(); j++) {\n                                // entry.getDelta() is the amount of time the current sample covers.\n\n                                if (currentTime &lt;= startTime) {\n                                    // current sample is still before the new starttime\n                                    startSample = currentSample;\n                                }\n                                if (currentTime &lt;= endTime) {\n                                    // current sample is after the new start time and still before the new endtime\n                                    endSample = currentSample;\n                                } else {\n                                    // current sample is after the end of the cropped video\n                                    break;\n                                }\n                                currentTime += (double) entry.getDelta() / (double) track.getTrackMetaData().getTimescale();\n                                currentSample++;\n                            }\n                        }\n                        movie.addTrack(new CroppedTrack(track, startSample, endSample));\n                    }\n                    long start1 = System.currentTimeMillis();\n                    IsoFile out = new DefaultMp4Builder().build(movie);\n                    long start2 = System.currentTimeMillis();\n\n//                  FileOutputStream fos = new FileOutputStream(String.format(\"output-%f-%f.mp4\", startTime, endTime));\n                    String timeStamp = new SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(new Date());\n                    String filename = folder.getPath() + File.separator + String.format(\"TMP4_APP_OUT-%f-%f\", startTime, endTime) + \"_\" + timeStamp + \".mp4\";\n                    trimVideos.add(filename);\n                    FileOutputStream fos = new FileOutputStream(filename);\n\n                    FileChannel fc = fos.getChannel();\n                    out.getBox(fc);\n                    fc.close();\n                    fos.close();\n                    long start3 = System.currentTimeMillis();\n                    System.err.println(\"Building IsoFile took : \" + (start2 - start1) + \"ms\");\n                    System.err.println(\"Writing IsoFile took  : \" + (start3 - start2) + \"ms\");\n                    System.err.println(\"Writing IsoFile speed : \" + (new File(String.format(\"TMP4_APP_OUT-%f-%f\", startTime, endTime)).length() / (start3 - start2) / 1000) + \"MB/s\");\n\n                    Message.obtain(mHandler, R.id.shorten, 1, 0, filename).sendToTarget();\n                } catch (FileNotFoundException e) {\n                    Message.obtain(mHandler, R.id.shorten, 0, 0, e.getMessage()).sendToTarget();\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    Message.obtain(mHandler, R.id.shorten, 0, 0, e.getMessage()).sendToTarget();\n                    e.printStackTrace();\n                }\n                //mProgressDialog.dismiss();\n        //  }\n        //});\n\n    }\n\n    protected static long getDuration(Track track) {\n        long duration = 0;\n        for (TimeToSampleBox.Entry entry : track.getDecodingTimeEntries()) {\n            duration += entry.getCount() * entry.getDelta();\n        }\n        return duration;\n    }\n\n    private static double correctTimeToSyncSample(Track track, double cutHere, boolean next) {\n        double[] timeOfSyncSamples = new double[track.getSyncSamples().length];\n        long currentSample = 0;\n        double currentTime = 0;\n        for (int i = 0; i &lt; track.getDecodingTimeEntries().size(); i++) {\n            TimeToSampleBox.Entry entry = track.getDecodingTimeEntries().get(i);\n            for (int j = 0; j &lt; entry.getCount(); j++) {\n                if (Arrays.binarySearch(track.getSyncSamples(), currentSample + 1) &gt;= 0) {\n                    // samples always start with 1 but we start with zero therefore +1\n                    timeOfSyncSamples[Arrays.binarySearch(track.getSyncSamples(), currentSample + 1)] = currentTime;\n                }\n                currentTime += (double) entry.getDelta() / (double) track.getTrackMetaData().getTimescale();\n                currentSample++;\n            }\n        }\n        double previous = 0;\n        for (double timeOfSyncSample : timeOfSyncSamples) {\n            if (timeOfSyncSample &gt; cutHere) {\n                if (next) {\n                    return timeOfSyncSample;\n                } else {\n                    return previous;\n                }\n            }\n            previous = timeOfSyncSample;\n        }\n        return timeOfSyncSamples[timeOfSyncSamples.length - 1];\n    }\n\n\n}\n",
    "severity": "medium",
    "tags": [
      "android",
      "mp4parser"
    ],
    "metadata": {
      "stackoverflow_question_id": "15656158",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2899,
      "stackoverflow_creation_date": "2013-03-27T10:05:21.450Z"
    },
    "idempotency_key": "stackoverflow-15656158",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Change background-image size in javascript",
    "body": "I have been attempting to put a repeating background image on a website, with the basic CSS background-image: url('url_here'); background-attachment: fixed; background-repeat: repeat; however, id like to be able to change the size of the image im using on refresh, using javascript. CSS has the function background-size: 300px; but unfortunately the COM style object doesnt - see here for what it can do for backgrounds. This leaves me with one option: using an HTML image that repeats itself, that i can then edit with the COM style object. So, boiled down, my question is: is there a way to repeat an HTML image that is NOT a background image? Any help is greatly appreciatted.",
    "code": "background-image: url('url_here');\nbackground-attachment: fixed;\nbackground-repeat: repeat;\n\n\nbackground-size: 300px;\n\n\n# Solution Code:\ndocument.getElementById(\"el_id\").style.backgroundSize = \"100px 100px\";\n",
    "resolution": "Actually, you CAN affect the background size in javascript like so: document.getElementById(\"el_id\").style.backgroundSize = \"100px 100px\"; Check out this fiddle: http://jsfiddle.net/Lph2W/. The CSS sets the background image size to 200px X 200px, then the JS updates it to 100px X 100px.",
    "severity": "high",
    "tags": [
      "javascript",
      "html",
      "css"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "15755992",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 37775,
      "stackoverflow_creation_date": "2013-04-02T04:18:41.320Z"
    },
    "idempotency_key": "stackoverflow-15755992",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PHP: Long strings, json_encode, var_dump and echo",
    "body": "I noticed that the application I was developing was breaking, I managed to narrow it down to this problem (I have set up a test case for it): ini_set(\"display_errors\", \"1\"); error_reporting(E_ALL); error_log(\"[test] Memory limit: \" . ini_get('memory_limit')); error_log(\"[test] Max Execution Time: \" . ini_get('max_execution_time')); $testArray = array(\"abcdefghijklmnotuv..... 786998 characters later...ijklmEND\"); $json = json_encode($testArray); var_dump($json); // echo($json); error_log(\"[test] Memory: \".memory_get_usage().\"B\"); When I var_dump the variable $json, I get the correct output: string(786998) \"[\"abcdefghijklm....ijklmEND\"]\" When I echo the variable $json, you can very briefly see something appear on the screen but then it disappears, the end response seems to be NULL. If I repeat the above with a string instead of an array the same thing happens. If I repeat the above with a string AND omit the json_encode step everything behaves as expected, the results of var_dump and echo are correct. During the entire process there are no errors output in the error log, my memory limits and max execution times are also okay: [test] Memory limit: 256M [test] Max Execution Time: 30 [test] Memory: 2134296B Any ideas? A little information on my application: In a nutshell there are two servers. Server A sends a HTTP request to server B, server B processes the request and sends the response back to server A. The response is always a JSON encoded array. If one of the values of the array in the response is too long server A receives a NULL response.",
    "code": "ini_set(\"display_errors\", \"1\");\nerror_reporting(E_ALL);\n\nerror_log(\"[test] Memory limit: \" . ini_get('memory_limit'));\nerror_log(\"[test] Max Execution Time: \" . ini_get('max_execution_time'));\n\n$testArray = array(\"abcdefghijklmnotuv..... 786998 characters later...ijklmEND\");\n$json = json_encode($testArray);\n\nvar_dump($json);\n// echo($json);\n\nerror_log(\"[test] Memory: \".memory_get_usage().\"B\");\n\n\nstring(786998) \"[\"abcdefghijklm....ijklmEND\"]\"\n\n\n[test] Memory limit: 256M\n[test] Max Execution Time: 30\n[test] Memory: 2134296B\n\n\n# Solution Code:\nClientBootstrap cb = new ClientBootstrap(cf);\n\ncb.getPipeline().addLast(\"codec\", new HttpClientCodec());\ncb.getPipeline().addLast(\"chunkaggregator\", new HttpChunkAggregator(1048576));\ncb.getPipeline().addLast(\"inflater\", new HttpContentDecompressor());\ncb.getPipeline().addLast(\"handler\", new OutboundHandler());\n",
    "resolution": "It turns out the problem wasn't to do with server B, it was server A. Server A is implemented in Java using the Netty API. The HTTP response was too long and it was being chunked and I didn't have a HttpChunkAggregator in my pipeline, once I added it in everything was fine. ClientBootstrap cb = new ClientBootstrap(cf); cb.getPipeline().addLast(\"codec\", new HttpClientCodec()); cb.getPipeline().addLast(\"chunkaggregator\", new HttpChunkAggregator(1048576)); cb.getPipeline().addLast(\"inflater\", new HttpContentDecompressor()); cb.getPipeline().addLast(\"handler\", new OutboundHandler()); I did check the browser source externally and the code was there, thank you for your comments they did lead me in the right direction!",
    "severity": "medium",
    "tags": [
      "php",
      "echo",
      "json",
      "var-dump"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "15876099",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1395,
      "stackoverflow_creation_date": "2013-04-08T09:50:14.423Z"
    },
    "idempotency_key": "stackoverflow-15876099",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Issue parent() in jQuery",
    "body": "Imagine some HTML code : <div class=\"container\"> <div class=\"first\"> <a class=\"result\"> </a> </div> <div class=\"second\"> <a class=\"result\"> </a> </div> </div> and $(\"a.result:first\").parent().select('a'); As I think it must return a in div.first, right? Because when I do this logic in CsQuery it's return a in div.first and div.second.",
    "code": "&lt;div class=\"container\"&gt;  \n   &lt;div class=\"first\"&gt;\n     &lt;a class=\"result\"&gt; &lt;/a&gt; \n   &lt;/div&gt;\n\n   &lt;div class=\"second\"&gt;\n      &lt;a class=\"result\"&gt; &lt;/a&gt; \n  &lt;/div&gt;\n&lt;/div&gt;\n\n\n$(\"a.result:first\").parent().select('a');\n\n\n# Solution Code:\n$(\"a.result:first\")   // will return a in div.first\n\n\n.parent().select('a')",
    "resolution": "This would be sufficient : $(\"a.result:first\") // will return a in div.first .parent().select('a') seem's to be unnecessary. Fiddle",
    "severity": "low",
    "tags": [
      "jquery",
      "asp.net",
      "html",
      "csquery"
    ],
    "metadata": {
      "language": "html",
      "framework": "jquery",
      "stackoverflow_question_id": "15913741",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 103,
      "stackoverflow_creation_date": "2013-04-09T22:32:48.087Z"
    },
    "idempotency_key": "stackoverflow-15913741",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "RemoveDuplicates gives 1004 error",
    "body": "I want to remove duplicates from my selection, but this line gives me a 1004 error: ActiveSheet.Range(\"B3\", Range(\"B3\").End(xlDown)).RemoveDuplicates Columns:=2, Header:=xlNo How do I fix this?",
    "code": "ActiveSheet.Range(\"B3\", Range(\"B3\").End(xlDown)).RemoveDuplicates Columns:=2, Header:=xlNo\n\n\n# Solution Code:\nActiveSheet.Range(range(\"B3\"), Range(\"B3\").End(xlDown)).RemoveDuplicates Columns:=1, Header:=xlNo\n\n\nActiveSheet.Range(range(\"B3\"), Range(\"C3\").End(xlDown)).RemoveDuplicates Columns:=2, Header:=xlNo\n",
    "resolution": "Change your line into: ActiveSheet.Range(range(\"B3\"), Range(\"B3\").End(xlDown)).RemoveDuplicates Columns:=1, Header:=xlNo or,if you really have 2 columns into: ActiveSheet.Range(range(\"B3\"), Range(\"C3\").End(xlDown)).RemoveDuplicates Columns:=2, Header:=xlNo",
    "severity": "high",
    "tags": [
      "excel",
      "vba",
      "duplicates"
    ],
    "metadata": {
      "stackoverflow_question_id": "15929896",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 18310,
      "stackoverflow_creation_date": "2013-04-10T15:17:56.560Z"
    },
    "idempotency_key": "stackoverflow-15929896",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Can not join ev loop thread since it is hanging in epoll_wait()",
    "body": "I'm using async hiredis with libev. mLoopThread is used here for ev loop thread, basically mLoopThread is calling ev_loop(). when main thread tries to destruct async hiredis instance, it calls ev_unloop to try to make ev_loop() exit. The code looks as below. But this is not working. backtrace shows mLoopThread is hanging in epoll_wait(), and main thread is hanging in mLoopThread->join(). How to exit ev loop thread? Thanks. ~async_redis() { ev_unloop(mLoop, EVBREAK_ALL); if (mLoopThread && mLoopThread->joinable()) { mLoopThread->join(); } }",
    "code": "~async_redis() {\n    ev_unloop(mLoop, EVBREAK_ALL);\n    if (mLoopThread &amp;&amp; mLoopThread-&gt;joinable()) {\n        mLoopThread-&gt;join();\n    }\n}\n",
    "severity": "low",
    "tags": [
      "asynchronous",
      "redis",
      "epoll",
      "libev",
      "hiredis"
    ],
    "metadata": {
      "stackoverflow_question_id": "15955594",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 645,
      "stackoverflow_creation_date": "2013-04-11T17:55:39.190Z"
    },
    "idempotency_key": "stackoverflow-15955594",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Gtkmm scroll_event do not work when a button is pressed",
    "body": "I have an Gtk::EventBox with two events connected: button_press_event and scroll_event. All the two events work fine, but when I hold down a mouse button, the scroll event is not emitted. I have implement in my class the two functions bool on_button_press_event (GdkEventButton *e) and bool on_scroll_event (GdkEventScroll *e). This two functions return false to propagate the event further. Im using gtkmm3. How can I solve this problem? An example of code to reproduce the problem: #include <gtkmm.h> #include <iostream> class MyWindow : public Gtk::Window { Gtk::EventBox event_box; Gtk::ScrolledWindow scrolled; public: bool on_button_press_event(GdkEventButton *b) { std::cout << \"button press\" << std::endl; return false; } bool on_scroll_event(GdkEventScroll *e) { std::cout << \"scrollEvent\" << std::endl; return false; } MyWindow () { add(scrolled); scrolled.add(event_box); set_default_size(640, 480); show_all(); } }; int main(int argc, char** argv) { Gtk::Main kit(argc, argv); MyWindow window; kit.run(window); return 0; }",
    "code": "#include &lt;gtkmm.h&gt;\n#include &lt;iostream&gt;\n\nclass MyWindow : public Gtk::Window\n{\n  Gtk::EventBox event_box;\n  Gtk::ScrolledWindow scrolled;\npublic:\n  bool on_button_press_event(GdkEventButton *b)\n  {\n    std::cout &lt;&lt; \"button press\" &lt;&lt; std::endl;\n    return false;\n  }\n\n  bool on_scroll_event(GdkEventScroll *e)\n  {\n    std::cout &lt;&lt; \"scrollEvent\" &lt;&lt; std::endl;\n    return false;\n  }\n\n  MyWindow ()\n  {\n    add(scrolled);\n    scrolled.add(event_box);\n    set_default_size(640, 480);\n    show_all();\n  }\n};\n\nint main(int argc, char** argv)\n{\n  Gtk::Main kit(argc, argv);\n  MyWindow window;\n  kit.run(window);\n  return 0;\n}\n\n\nbool on_button_press_event (GdkEventButton *e)\n\nbool on_scroll_event (GdkEventScroll *e)\n\nfalse\n\n# Solution Code:\n#include &lt;gtkmm.h&gt;\n#include &lt;iostream&gt;\n\nclass MyWindow : public Gtk::Window\n{\n  Gtk::EventBox event_box;\n\n  bool event_box_button_press(GdkEventButton *b)\n  {\n    std::cout &lt;&lt; \"button press\" &lt;&lt; std::endl;\n    return false;\n  }\n\n  bool event_box_scroll(GdkEventScroll *e)\n  {\n    std::cout &lt;&lt; \"scrollEvent\" &lt;&lt; std::endl;\n    return false;\n  }\n\npublic:\n  MyWindow ()\n  {\n    event_box.add_events(Gdk::BUTTON_MOTION_MASK);\n    event_box.add_events(Gdk::SCROLL_MASK);\n\n    event_box.signal_button_press_event().connect(\n        sigc::mem_fun(*this, &amp;MyWindow::event_box_button_press));\n    event_box.signal_scroll_event().connect(\n        sigc::mem_fun(*this, &amp;MyWindow::event_box_scroll));\n\n    add(event_box);\n\n    set_default_size(640, 480);\n    show_all();\n  }\n};\n\nint main(int argc, char** argv)\n{\n  Gtk::Main kit(argc, argv);\n  MyWindow window;\n  kit.run(window);\n  return 0;\n}\n\n\nsigc::mem_fun",
    "resolution": "The example code you show has two problems. First, you say \"I have an Gtk::EventBox with two events connected.\" But in your example you connect to MyWindow's events, and leave the EventBox's events unconnected. An EventBox allows you to receive events, but you still have to explicitly say which events you want to receive. This is the corrected code: #include <gtkmm.h> #include <iostream> class MyWindow : public Gtk::Window { Gtk::EventBox event_box; bool event_box_button_press(GdkEventButton *b) { std::cout << \"button press\" << std::endl; return false; } bool event_box_scroll(GdkEventScroll *e) { std::cout << \"scrollEvent\" << std::endl; return false; } public: MyWindow () { event_box.add_events(Gdk::BUTTON_MOTION_MASK); event_box.add_events(Gdk::SCROLL_MASK); event_box.signal_button_press_event().connect( sigc::mem_fun(*this, &MyWindow::event_box_button_press)); event_box.signal_scroll_event().connect( sigc::mem_fun(*this, &MyWindow::event_box_scroll)); add(event_box); set_default_size(640, 480); show_all(); } }; int main(int argc, char** argv) { Gtk::Main kit(argc, argv); MyWindow window; kit.run(window); return 0; } Some notes on this code: I've omitted the ScrolledWindow, as that is irrelevant to the example. You don't need it to catch scroll events. You can add it back if you actually need a scrolled window for your application. The code would probably be neater if you derive a custom EventBox with the behavior you need. I didn't do this to stay closer to your original code. See this documentation for information on connecting signals and the sigc::mem_fun stuff.",
    "severity": "medium",
    "tags": [
      "c++",
      "events",
      "gtk",
      "signals",
      "gtkmm"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "16119911",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1520,
      "stackoverflow_creation_date": "2013-04-20T11:40:46.240Z"
    },
    "idempotency_key": "stackoverflow-16119911",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "PHP AWS SDK throwing unknown error",
    "body": "I have been working with amazon S3 for media storage for a e-commerce site but I ran into this error and have no idea how to fix it: Use of undefined constant CURLE_COULDNT_RESOLVE_HOST - assumed 'CURLE_COULDNT_RESOLVE_HOST' Its coming from CurlBackoffStrategy witch is, as the documentation states: Strategy used to retry when certain cURL error codes are encountered. I'm assuming this is software incompatibility some were but I'm no sure where to look. This code dose work on my local test environment but when the server gets it, it just fails. I have updated PHP and, curl to the same as my test environment but to no avail. If anyone has any idea on what this error message means or a direction to point me in would be greatly appreciated.",
    "code": "Use of undefined constant CURLE_COULDNT_RESOLVE_HOST - assumed 'CURLE_COULDNT_RESOLVE_HOST'\n",
    "severity": "medium",
    "tags": [
      "php",
      "curl",
      "amazon-web-services",
      "amazon-s3"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "16153960",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 5241,
      "stackoverflow_creation_date": "2013-04-22T18:19:27.547Z"
    },
    "idempotency_key": "stackoverflow-16153960",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "po command in Xcode does not generate output",
    "body": "At some point during my work, Xcode's po and p commands stopped working. No matter what I enter, it doesn't generate output: (gdb) po self (gdb) po [self name] (gdb) po [UITableView class] (gdb) po @\"Hello\" (gdb) p indexPath.row (gdb) print indexPath.row (gdb) po fjkldsjflksdjklwjfkljfkldsjflk (gdb) When I enter any of these commands, the command line just goes to the next line, where it prints the blue (gdb), but no output. I tried the following steps: Restart Xcode, restart my Macbook Tried while debugging in the simulator as well as on a iOS device Switched to LLDB and restarted Re-installed Xcode The other debugging tools in Xcode seem to work okay: Breakpoints, step-by-step execution, the Auto variable examination window etc. Any ideas? EDIT: Doesn't work even after a re-install of Xcode.",
    "code": "(gdb) po self\n(gdb) po [self name]\n(gdb) po [UITableView class]\n(gdb) po @\"Hello\"\n(gdb) p indexPath.row\n(gdb) print indexPath.row\n(gdb) po fjkldsjflksdjklwjfkljfkldsjflk\n(gdb)\n\n\npo\n\np\n\n(gdb)",
    "severity": "high",
    "tags": [
      "ios",
      "xcode",
      "gdb",
      "lldb"
    ],
    "metadata": {
      "stackoverflow_question_id": "16287299",
      "stackoverflow_score": 62,
      "stackoverflow_view_count": 18711,
      "stackoverflow_creation_date": "2013-04-29T20:07:18.333Z"
    },
    "idempotency_key": "stackoverflow-16287299",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Mysql adding user for remote access",
    "body": "I created user user@'%' with password 'password. But I can not connect with: mysql_connect('localhost:3306', 'user', 'password'); When I created user user@'localhost', I was able to connect. Why? Doesn't '%' mean from ANY host?",
    "code": "mysql_connect('localhost:3306', 'user', 'password');\n\n\nuser@'%'\n\npassword 'password\n\nuser@'localhost'\n\n# Solution Code:\n#Replace xxx with your IP Address \nbind-address        = xxx.xxx.xxx.xxx\n\n\nCREATE USER 'myuser'@'localhost' IDENTIFIED BY 'mypass';\nCREATE USER 'myuser'@'%' IDENTIFIED BY 'mypass';\n\n\nGRANT ALL ON *.* TO 'myuser'@'localhost';\nGRANT ALL ON *.* TO 'myuser'@'%';\nFLUSH PRIVILEGES;\n",
    "resolution": "In order to connect remotely, you have to have MySQL bind port 3306 to your machine's IP address in my.cnf. Then you have to have created the user in both localhost and '%' wildcard and grant permissions on all DB's as such . See below: my.cnf (my.ini on windows) #Replace xxx with your IP Address bind-address = xxx.xxx.xxx.xxx Then: CREATE USER 'myuser'@'localhost' IDENTIFIED BY 'mypass'; CREATE USER 'myuser'@'%' IDENTIFIED BY 'mypass'; Then: GRANT ALL ON *.* TO 'myuser'@'localhost'; GRANT ALL ON *.* TO 'myuser'@'%'; FLUSH PRIVILEGES; Depending on your OS, you may have to open port 3306 to allow remote connections.",
    "severity": "high",
    "tags": [
      "mysql",
      "remote-access"
    ],
    "metadata": {
      "stackoverflow_question_id": "16287559",
      "stackoverflow_score": 200,
      "stackoverflow_view_count": 527667,
      "stackoverflow_creation_date": "2013-04-29T20:24:16.047Z"
    },
    "idempotency_key": "stackoverflow-16287559",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Redis SET fails when value has spaces",
    "body": "I just fired up Redis and am playing around with it. The following works fine: SET billybob \"hello\" +OK However, the following fails: SET billybob \"hey how are you\" -ERR syntax error I thought SET worked for any key/value, and presumably a value can be any string... but not a string with spaces? What's the story here?",
    "code": "SET billybob \"hello\"\n+OK\n\n\nSET billybob \"hey how are you\"\n-ERR syntax error\n\n\n# Solution Code:\n$ redis-cli --version\nredis-cli 2.8.3\n\n$ redis-cli SET billybob \"hey how are you\"\nOK\n\n$ redis-cli GET billybob\n\"hey how are you\"\n\n\n$ echo \"hey how are you\"\nhey how are you\n\n$ echo \"hey how are you\" | redis-cli --pipe SET billybob\nAll data transferred. Waiting for the last reply...\nERR unknown command 'hey'\nLast reply received from server.\nerrors: 1, replies: 1\n\n$ echo \"hey how are you\" | redis-cli -x SET billybob\nOK\n$ redis-cli GET billybob\n\"hey how are you\\n\"\n",
    "resolution": "Maybe it is version related. This here works: $ redis-cli --version redis-cli 2.8.3 $ redis-cli SET billybob \"hey how are you\" OK $ redis-cli GET billybob \"hey how are you\" @jm3 Use the '-x' command line option for the redis-cli instead. Beware that it will add a \"\\n\" at the end of your string: $ echo \"hey how are you\" hey how are you $ echo \"hey how are you\" | redis-cli --pipe SET billybob All data transferred. Waiting for the last reply... ERR unknown command 'hey' Last reply received from server. errors: 1, replies: 1 $ echo \"hey how are you\" | redis-cli -x SET billybob OK $ redis-cli GET billybob \"hey how are you\\n\" HTH bernie",
    "severity": "high",
    "tags": [
      "string",
      "redis",
      "space"
    ],
    "metadata": {
      "stackoverflow_question_id": "16392150",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 10908,
      "stackoverflow_creation_date": "2013-05-06T04:50:39.843Z"
    },
    "idempotency_key": "stackoverflow-16392150",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "{ctor} is not a member of <BaseClass>",
    "body": "I Have a baseclass, called GLObject, with the following header: class GLObject{ public: GLObject(float width = 0.0, float height = 0.0, float depth = 0.0, float xPos= 0.0, float yPos = 0.0, float zPos =0.0, float xRot =0.0, float yRot = 0.0, float zRot = 0.0); ... //Other methods etc }; And a CPP: GLObject::GLObject(float width, float height, float depth, float xPos, float yPos, float zPos, float xRot, float yRot, float zRot){ this->xPos = xPos; this->yPos = yPos; this->zPos = zPos; this->xRot = xRot; this->yRot = yRot; this->zRot = zRot; this->width = width; this->height = height; this->depth = depth; } Next up I have a derived class: Header: class GLOColPiramid : public GLObject { public: GLOColPiramid(float width, float height, float depth, float xPos = 0.0, float yPos = 0.0, float zPos = 0.0, float xRot = 0.0, float yRot = 0.0, float zRot = 0.0); ... }; cpp file GLOColPiramid::GLOColPiramid(float width, float height, float depth, float xPos, float yPos, float zPos, float xRot, float yRot, float zRot) : GLObject::GLObject(width, height, depth, xPos,yPos,zPos,xRot,yRot,zRot) { } This gives me an error: glocolpiramid.cpp:4: error: C2039: '{ctor}' : is not a member of 'GLObject' why? I am using Qt 4.8.4 with the MSVC2010 32 bit compiler",
    "code": "class GLObject{\n    public:\n        GLObject(float width = 0.0, float height = 0.0, float depth = 0.0, \n                 float xPos= 0.0, float yPos = 0.0, float zPos =0.0, \n                 float xRot =0.0, float yRot = 0.0, float zRot = 0.0);\n    ... //Other methods etc\n};\n\n\nGLObject::GLObject(float width, float height, float depth, \n                    float xPos, float yPos, float zPos, \n                    float xRot, float yRot, float zRot){\n    this-&gt;xPos = xPos;\n    this-&gt;yPos = yPos;\n    this-&gt;zPos = zPos;\n    this-&gt;xRot = xRot;\n    this-&gt;yRot = yRot;\n    this-&gt;zRot = zRot;\n    this-&gt;width = width;\n    this-&gt;height = height;\n    this-&gt;depth = depth;\n}\n\n\nclass GLOColPiramid : public GLObject\n{\npublic:\n    GLOColPiramid(float width, float height, float depth, float xPos = 0.0, float yPos = 0.0, float zPos = 0.0, float xRot = 0.0, float yRot = 0.0, float zRot = 0.0);\n    ...\n};\n\n\nGLOColPiramid::GLOColPiramid(float width, float height, float depth, float xPos, float yPos, float zPos, float xRot, float yRot, float zRot) : GLObject::GLObject(width, height, depth, xPos,yPos,zPos,xRot,yRot,zRot)\n{\n\n}\n\n\n# Solution Code:\nGLOColPiramid::GLOColPiramid( .... ) : GLObject::GLObject( .... )\n                                       ^^^^^^^^^^\n\n\nGLObject::\n\nGLObject::GLObject\n\n.cpp\n\nGLOColPiramid",
    "resolution": "Try to remove GLObject:: from GLObject::GLObject in the declaration. In .cpp file which contains implementation of GLOColPiramid: GLOColPiramid::GLOColPiramid( .... ) : GLObject::GLObject( .... ) ^^^^^^^^^^ It's legal in C++ but test it, maybe MSVC2010 has problem with it.",
    "severity": "medium",
    "tags": [
      "c++",
      "inheritance",
      "constructor"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "16461265",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3675,
      "stackoverflow_creation_date": "2013-05-09T11:59:19.930Z"
    },
    "idempotency_key": "stackoverflow-16461265",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Simulate C# Lambda methods in Javascript",
    "body": "I would like to simulate the C# Any() method, which can be used to determine whether if a collection has any matching objects based on a lambda expression. I used jQuery's $.grep to make things easier: Array.prototype.any = function (expr) { if (typeof jQuery === 'undefined') throw new ReferenceError('jQuery not loaded'); return $.grep(this, function (x, i) { return eval(expr); }).length > 0; }; var foo = [{ a: 1, b: 2 }, { a:1, b: 3 }]; console.log(foo.any('x.a === 1')); //true console.log(foo.any('x.a === 2')); //false I know that eval() is bad practice for obvious reasons. But is it ok in this case, since I won't use this with anything related to some user inputs? Can this be done without eval()? I can't figure out a way to pass an expression to the function without evaluating it. http://jsfiddle.net/dgGvN/",
    "code": "Array.prototype.any = function (expr) {\n\n    if (typeof jQuery === 'undefined')\n        throw new ReferenceError('jQuery not loaded');\n\n    return $.grep(this, function (x, i) {\n        return eval(expr);\n    }).length &gt; 0;\n\n};\n\nvar foo = [{ a: 1, b: 2 }, { a:1, b: 3 }];\n\nconsole.log(foo.any('x.a === 1')); //true\nconsole.log(foo.any('x.a === 2')); //false\n\n\neval()\n\neval()\n\n# Solution Code:\n[{ a: 1, b: 2 }, { a:1, b: 3 }].some(function(x) { return x.a === 1; }); // true\n[{ a: 1, b: 2 }, { a:1, b: 3 }].some(function(x) { return x.a === 2; }); // false\n",
    "resolution": "I suggest you take a good look at JS closures. In particular, what you did there can be done natively in JS by using the Array.some method: [{ a: 1, b: 2 }, { a:1, b: 3 }].some(function(x) { return x.a === 1; }); // true [{ a: 1, b: 2 }, { a:1, b: 3 }].some(function(x) { return x.a === 2; }); // false edit: in this case we're not really using closures but rather plain simple anonymous functions...",
    "severity": "low",
    "tags": [
      "javascript",
      "jquery"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "16545109",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 309,
      "stackoverflow_creation_date": "2013-05-14T13:53:13.943Z"
    },
    "idempotency_key": "stackoverflow-16545109",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "how to set row number in sybase query",
    "body": "I have a select statemnt which will return results say 1000 using join with some 3 to 4 tables. My requirement is to have identity column in the resultset . Can anyone help me on this. ex : Result : id name -- ---- 001 xxx 002 yyy 003 zzz My requirment : Rowid id name 1 -- ---- 2 001 xxx 3 002 yyy 4 003 zzz Like Row_number in sql , do we have anything here in sybase",
    "code": "Result :\nid   name \n--   ----\n001   xxx\n002   yyy\n003   zzz\n\nMy requirment :\nRowid   id   name \n 1      --   ----\n 2       001   xxx \n 3       002   yyy\n 4       003   zzz\n\n\n# Solution Code:\n select Rowid = identity(8), id, name      \n into #temtab\n from tab\n\n select Rowid, id, name\n from #temtab\n\n\nrow_number",
    "resolution": "In sybase there isn't row_number or something like that. Maybe temporary tables with identity column will help you? Consider below example please. select Rowid = identity(8), id, name into #temtab from tab select Rowid, id, name from #temtab",
    "severity": "high",
    "tags": [
      "sybase",
      "sap-ase"
    ],
    "metadata": {
      "stackoverflow_question_id": "16608469",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 45539,
      "stackoverflow_creation_date": "2013-05-17T11:59:37.513Z"
    },
    "idempotency_key": "stackoverflow-16608469",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why do these folds stop at the head/tail?",
    "body": "I'm reading learnyouahaskell.com and currently investigating folds. In the book there are these examples: maximum' :: (Ord a) => [a] -> a maximum' = foldr1 (\\x acc -> if x > acc then x else acc) reverse' :: [a] -> [a] reverse' = foldl (\\acc x -> x : acc) [] product' :: (Num a) => [a] -> a product' = foldr1 (*) filter' :: (a -> Bool) -> [a] -> [a] filter' p = foldr (\\x acc -> if p x then x : acc else acc) [] head' :: [a] -> a head' = foldr1 (\\x _ -> x) last' :: [a] -> a last' = foldl1 (\\_ x -> x) I understand all of them except head' and tail'. It is my understanding that the binary function should be applied to the accumulator and each element in the list in turn, and thus go through all the list. Why does this stop to the head (or tail, respectively)? I understand _ (underscore) means \"whatever\" or \"I don't care\" but how does that stop going through all the list?",
    "code": "maximum' :: (Ord a) =&gt; [a] -&gt; a  \nmaximum' = foldr1 (\\x acc -&gt; if x &gt; acc then x else acc)  \n\nreverse' :: [a] -&gt; [a]  \nreverse' = foldl (\\acc x -&gt; x : acc) []  \n\nproduct' :: (Num a) =&gt; [a] -&gt; a  \nproduct' = foldr1 (*)  \n\nfilter' :: (a -&gt; Bool) -&gt; [a] -&gt; [a]  \nfilter' p = foldr (\\x acc -&gt; if p x then x : acc else acc) []  \n\nhead' :: [a] -&gt; a  \nhead' = foldr1 (\\x _ -&gt; x)  \n\nlast' :: [a] -&gt; a  \nlast' = foldl1 (\\_ x -&gt; x) \n\n\nhead'\n\ntail'\n\n_\n\n# Solution Code:\nfoldr1 :: (a -&gt; a -&gt; a) -&gt; [a]       -&gt; a\nfoldr1    f                [x]       =  x\nfoldr1    f                (x : xs)  =  f x (foldr1 f xs)\n\n\nhead' :: [a] -&gt; a  \nhead' =  foldr1 (\\x _ -&gt; x)\n\n\nhead' [2, 3, 5]\n\n\nfoldr1 (\\x _ -&gt; x) [2, 3, 5]\n\n\n(\\x _ -&gt; x) 2 (foldr1 (\\x _ -&gt; x) (3 : 5 : [])\n\n\n2\n\n\nfoldr1\n\nhead'\n\n[2, 3, 5]\n\nhead'\n\n[2, 3, 5]\n\n(2 : 3 : 5 : [])\n\nfoldr1\n\n2\n\nx\n\nfoldr1 (\\x _ -&gt; x) (3 : 5 : [])\n\n_\n\nx\n\n2\n\nfoldr1 (\\x _ -&gt; x) (3 : 5 : [])",
    "resolution": "Let's have a look at the definition of foldr1 first: foldr1 :: (a -> a -> a) -> [a] -> a foldr1 f [x] = x foldr1 f (x : xs) = f x (foldr1 f xs) Then, consider a call of your function head', head' :: [a] -> a head' = foldr1 (\\x _ -> x) to a list, say, [2, 3, 5]: head' [2, 3, 5] Now, filling in the right hand-side of head' gives foldr1 (\\x _ -> x) [2, 3, 5] Recall that [2, 3, 5] is syntactic sugar for (2 : 3 : 5 : []). So, the second case of the definition of foldr1 applies and we yield (\\x _ -> x) 2 (foldr1 (\\x _ -> x) (3 : 5 : []) Now, reducing the applications results in 2 getting bound to x and foldr1 (\\x _ -> x) (3 : 5 : []) getting bound to the ignored parameter _. What is left is the right-hand side of the lambda-abstraction with x replaced by 2: 2 Note that lazy evaluation makes that the ignored argument foldr1 (\\x _ -> x) (3 : 5 : []) is left unevaluated and so—and this hopefully answers your question—the recursion stops before we have processed the remainder of the list.",
    "severity": "low",
    "tags": [
      "function",
      "haskell",
      "functional-programming",
      "fold"
    ],
    "metadata": {
      "stackoverflow_question_id": "16678440",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 402,
      "stackoverflow_creation_date": "2013-05-21T19:59:09.547Z"
    },
    "idempotency_key": "stackoverflow-16678440",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to jump to a specific iteration of a loop when debugging?",
    "body": "In Xcode, if I have a for loop that either has a hardcoded limit (i.e. only goes up to 100), is it possible to jump to a specific iteration of the loop? For example, say I have the following loop: for(int i = 0; i < 100; ++i) { [someObject doSomething]; } If I put a breakpoint before the for loop declaration line, can I somehow go to the 42nd iteration of the loop?",
    "code": "for(int i = 0; i &lt; 100; ++i) {\n\n    [someObject doSomething];\n}\n\n\n# Solution Code:\ni == 50\n\ni\n\n50\n\ni",
    "resolution": "One way is to set a breakpoint inside the loop, then do a right click on it and select Edit Breakpoint... In the field called Condition you can write something like i == 50 which means it will stop the first time i equals to 50 Second way is to set a breakpoint before entering the loop, run the program, place your cursor above the i-Variable and change its value in the third field of the yellow pop-up",
    "severity": "medium",
    "tags": [
      "objective-c",
      "xcode",
      "debugging",
      "loops",
      "iteration"
    ],
    "metadata": {
      "stackoverflow_question_id": "16764774",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 4230,
      "stackoverflow_creation_date": "2013-05-26T23:56:16.933Z"
    },
    "idempotency_key": "stackoverflow-16764774",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "A* can't find path in AI game",
    "body": "I want to ask an assignment question. I know some people hesitate to give answers for this kind of questions, but believe me, I have spent a lot of time on this assignment and have tried everything I could. So please help if you could. The question is a rogue-like AI game in a grid format, one of the test cases is a map like the following: ~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~ ~~ g** d *~~ ~~ ** * * ~~ ~~ ** *** ~~ ~~ ** d ~~ ~~ ** < ~~ ~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~ g=gold, d=dynamite, ~=water, *=wall, < is our agent, facing left. The rules are that the agent cannot move into the water nor the wall. It can only move to an empty square or to a d square to pick up a dynamite. It can then blast a wall with the dynamite. Once the dynamite is used, it can't be used again. The ultimate goal is to find the gold and pick it up. Agent can only move up and down or left and right. No diagonal moves. Due to the text formatting, there may appear some extra spaces between the walls in the diagonal direction, but there aren't any. So far I've used Depth First Search to explore the map. (This example map is quite small, there are some that are big). I've also used A* search to plan for paths, with manhattan distance as the heuristics. What's tricky about this map is that, A* search can't find a path to the goal, and the only solution is to first pick up the dynamite near the agent, and then blast the second wall to the right of the gold, then go right to pick up the second dynamite, and then go back to blast the last wall to the right of the gold, and then get the gold. I'm stuck with the following issues: A* search only gives me a path to the goal if it finds one. It doesn't give a \"almost-there\" path. I can use A* to search for the path either for the gold or the dynamite, but not both at the same time. It seems that, in this case, I need to search the best path for getting the dynamite first and then the gold, in one routine. That sounds tooo hard..Please tell me if that is the wrong direction. If anyone has any suggestions or good advice, please enlighten me. I haven't slept for two days... Thanks for reading. [EDITED 30/05] Well, I managed to use a trick to solve the above map. Basically search backwards from the gold, and assume if the first level neighbouring walls are clear and see if the agent can move there and also can pick up any dynamite from there. if both, then it's a through path. But, looking at the following maps, I'm speechless.....can anyone help? A. ~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~ ~g*** *** ~~ ~*** d**~~ ~** *d~~ ~* ^ *~~ ~** **~~ ~d** **d~~ ~ d** **d ~~ ~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~ B. ~~~~~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~~~~~ ~~ ~~ ~~ ^ ~~ ~~ *** ~~ ~~ ***** ~~ ~~ ***g*** ~~ ~~ ******** ~~ ~~ ***dd*** ~~ ~~ *****d** ~~ ~~ ***d*d** ~~ ~~ ******d* ~~ ~~ ******** ~~ ~~ ******** ~~ ~~ d*d**d* ~~ ~~ **d** ~~ ~~ *** ~~ ~~ * ~~ ~~ ~~ ~~~~~~~~~~~~~~~~~~~~~~ ~~~~~~~~~~~~~~~~~~~~~~ Can anyone shed some light?, appreciated...",
    "code": "~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~\n~~   g**   d *~~\n~~   ** *   * ~~\n~~   **  ***  ~~\n~~   **  d    ~~\n~~   **    &lt;  ~~\n~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~\n\n\n~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~\n~g***       *** ~~\n~***         d**~~\n~**           *d~~\n~*      ^      *~~\n~**           **~~\n~d**         **d~~\n~ d**       **d ~~\n~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~\n\n\n~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~~~~~\n~~                  ~~\n~~     ^            ~~\n~~    ***           ~~\n~~   *****          ~~\n~~  ***g***         ~~\n~~  ********        ~~\n~~   ***dd***       ~~\n~~    *****d**      ~~\n~~     ***d*d**     ~~\n~~      ******d*    ~~\n~~       ********   ~~\n~~        ********  ~~\n~~         d*d**d*  ~~\n~~          **d**   ~~\n~~           ***    ~~\n~~            *     ~~\n~~                  ~~\n~~~~~~~~~~~~~~~~~~~~~~\n~~~~~~~~~~~~~~~~~~~~~~\n",
    "severity": "low",
    "tags": [
      "artificial-intelligence",
      "a-star"
    ],
    "metadata": {
      "stackoverflow_question_id": "16779706",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 223,
      "stackoverflow_creation_date": "2013-05-27T19:51:36.840Z"
    },
    "idempotency_key": "stackoverflow-16779706",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Ignore error in executing SQL Script",
    "body": "How can I make my code ignore the error while executing SQL Script file? If there is an error while executing the sql script file, then I want this method to just ignore it and continue to run the sql script file. Currently, if I put try-catch block inside this method, the error gets caught as an exception and the execution of the SQL script file stops after the error has been caught. I want the execution to continue even if there is an error in the SQL Server. How can I achieve this? My code is below. private void RunSQLScript() { // file is already defined as a SQL Script file string script = file.OpenText().ReadToEnd(); SqlConnection conn = new SqlConnection(ConnectionString); // split script on GO command IEnumerable<string> commandStrings = Regex.Split(script, @\"^\\s*GO\\s*$\", RegexOptions.Multiline | RegexOptions.IgnoreCase); conn.Open(); foreach (string commandString in commandStrings) { if (commandString.Trim() != \"\") { new SqlCommand(commandString, conn).ExecuteNonQuery(); } } conn.Close(); }",
    "code": "private void RunSQLScript()\n{        \n  // file is already defined as a SQL Script file\n\n  string script = file.OpenText().ReadToEnd();\n\n  SqlConnection conn = new SqlConnection(ConnectionString);\n\n  // split script on GO command\n  IEnumerable&lt;string&gt; commandStrings = Regex.Split(script, @\"^\\s*GO\\s*$\", RegexOptions.Multiline | RegexOptions.IgnoreCase);\n\n  conn.Open();\n\n  foreach (string commandString in commandStrings)\n  {\n    if (commandString.Trim() != \"\")\n       {\n          new SqlCommand(commandString, conn).ExecuteNonQuery();\n       }\n  }\n\n  conn.Close();\n\n}\n",
    "severity": "medium",
    "tags": [
      "c#",
      "sql",
      "sql-server",
      "sql-scripts"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "16795240",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3464,
      "stackoverflow_creation_date": "2013-05-28T14:56:56.210Z"
    },
    "idempotency_key": "stackoverflow-16795240",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Request for example: Recurrent neural network for predicting next value in a sequence",
    "body": "Can anyone give me a practicale example of a recurrent neural network in (pybrain) python in order to predict the next value of a sequence ? (I've read the pybrain documentation and there is no clear example for it I think.) I also found this question. But I fail to see how it works in a more general case. So therefore I'm asking if anyone here could work out a clear example of how to predict the next value of a sequence in pybrain, with a recurrent neural network. To give an example. Say for example we have a sequence of numbers in the range [1,7]. First run (So first example): 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6 Second run (So second example): 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6 Third run (So third example): 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7 and so on. Now given for example the start of a new sequence: 1 3 5 7 2 4 6 7 1 3 what is/are the next value(s) This question might seem lazy, but I think there lacks a good and decent example of how to do this with pybrain. Additionally: How can this be done if more than 1 feature is present: Example: Say for example we have several sequences (each sequence having 2 features) in the range [1,7]. First run (So first example): feature1: 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6 feature2: 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7 Second run (So second example): feature1: 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6 feature2: 1 2 3 7 2 3 4 6 2 3 5 6 7 2 4 7 1 3 3 5 6 Third run (So third example): feature1: 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7 feature2: 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6 and so on. Now given for example the start of a new sequences: feature 1: 1 3 5 7 2 4 6 7 1 3 feature 2: 1 2 3 7 2 3 4 6 2 4 what is/are the next value(s) Feel free to use your own example as long it is similar to these examples and has some in depth explanation.",
    "code": "First run (So first example): 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6\n\nSecond run (So second example): 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6\n\nThird run (So third example): 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7\n\nand so on.\n\n\nFirst run (So first example): feature1: 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6\n                              feature2: 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7\n\n\nSecond run (So second example): feature1: 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6\n                                feature2: 1 2 3 7 2 3 4 6 2 3 5 6 7 2 4 7 1 3 3 5 6    \n\nThird run (So third example): feature1: 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7\n                              feature2: 1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6\n\nand so on.\n\n\n                                            feature 1: 1 3 5 7 2 4 6 7 1 3\n\n                                            feature 2: 1 2 3 7 2 3 4 6 2 4\n\n\n# Solution Code:\nfrom pybrain.tools.shortcuts import buildNetwork\nfrom pybrain.supervised.trainers import BackpropTrainer\nfrom pybrain.datasets import SupervisedDataSet,UnsupervisedDataSet\nfrom pybrain.structure import LinearLayer\nds = SupervisedDataSet(21, 21)\nds.addSample(map(int,'1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6'.split()),map(int,'1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6'.split()))\nds.addSample(map(int,'1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6'.split()),map(int,'1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split()))\nnet = buildNetwork(21, 20, 21, outclass=LinearLayer,bias=True, recurrent=True)\ntrainer = BackpropTrainer(net, ds)\ntrainer.trainEpochs(100)\nts = UnsupervisedDataSet(21,)\nts.addSample(map(int,'1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split()))\n[ int(round(i)) for i in net.activateOnDataset(ts)[0]]\n\n\nfrom pybrain.tools.shortcuts import buildNetwork\nfrom pybrain.supervised.trainers import BackpropTrainer\nfrom pybrain.datasets import SupervisedDataSet,UnsupervisedDataSet\nfrom pybrain.structure import LinearLayer\nds = SupervisedDataSet(10, 11)\nz = map(int,'1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split())\nobsLen = 10\npredLen = 11\nfor i in xrange(len(z)):\n  if i+(obsLen-1)+predLen &lt; len(z):\n    ds.addSample([z[d] for d in range(i,i+obsLen)],[z[d] for d in range(i+1,i+1+predLen)])\n\nnet = buildNetwork(10, 20, 11, outclass=LinearLayer,bias=True, recurrent=True)\ntrainer = BackpropTrainer(net, ds)\ntrainer.trainEpochs(100)\nts = UnsupervisedDataSet(10,)\nts.addSample(map(int,'1 3 5 7 2 4 6 7 1 3'.split()))\n[ int(round(i)) for i in net.activateOnDataset(ts)[0]]\n\n\n=&gt;  [1, 2, 5, 6, 2, 4, 5, 6, 1, 2, 5, 6, 7, 1, 4, 6, 1, 2, 2, 3, 6]\n\n=&gt;  [3, 5, 6, 2, 4, 5, 6, 1, 2, 5, 6]",
    "resolution": "Issam Laradji's worked for me to predict sequence of sequences, except my version of pybrain required a tuple for the UnserpervisedDataSet object: from pybrain.tools.shortcuts import buildNetwork from pybrain.supervised.trainers import BackpropTrainer from pybrain.datasets import SupervisedDataSet,UnsupervisedDataSet from pybrain.structure import LinearLayer ds = SupervisedDataSet(21, 21) ds.addSample(map(int,'1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6'.split()),map(int,'1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6'.split())) ds.addSample(map(int,'1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6'.split()),map(int,'1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split())) net = buildNetwork(21, 20, 21, outclass=LinearLayer,bias=True, recurrent=True) trainer = BackpropTrainer(net, ds) trainer.trainEpochs(100) ts = UnsupervisedDataSet(21,) ts.addSample(map(int,'1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split())) [ int(round(i)) for i in net.activateOnDataset(ts)[0]] gives: => [1, 2, 5, 6, 2, 4, 5, 6, 1, 2, 5, 6, 7, 1, 4, 6, 1, 2, 2, 3, 6] To predict smaller sequences, just train it up as such, either as sub sequences or as overlapping sequences (overlapping shown here): from pybrain.tools.shortcuts import buildNetwork from pybrain.supervised.trainers import BackpropTrainer from pybrain.datasets import SupervisedDataSet,UnsupervisedDataSet from pybrain.structure import LinearLayer ds = SupervisedDataSet(10, 11) z = map(int,'1 2 4 6 2 3 4 5 1 3 5 6 7 1 4 7 1 2 3 5 6 1 2 5 6 2 4 4 5 1 2 5 6 7 1 4 6 1 2 3 3 6 1 3 5 7 2 4 6 7 1 3 5 6 7 1 4 6 1 2 2 3 7'.split()) obsLen = 10 predLen = 11 for i in xrange(len(z)): if i+(obsLen-1)+predLen < len(z): ds.addSample([z[d] for d in range(i,i+obsLen)],[z[d] for d in range(i+1,i+1+predLen)]) net = buildNetwork(10, 20, 11, outclass=LinearLayer,bias=True, recurrent=True) trainer = BackpropTrainer(net, ds) trainer.trainEpochs(100) ts = UnsupervisedDataSet(10,) ts.addSample(map(int,'1 3 5 7 2 4 6 7 1 3'.split())) [ int(round(i)) for i in net.activateOnDataset(ts)[0]] gives: => [3, 5, 6, 2, 4, 5, 6, 1, 2, 5, 6] Not too good...",
    "severity": "high",
    "tags": [
      "python",
      "machine-learning",
      "neural-network",
      "time-series",
      "pybrain"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "16830946",
      "stackoverflow_score": 29,
      "stackoverflow_view_count": 14257,
      "stackoverflow_creation_date": "2013-05-30T08:04:51.587Z"
    },
    "idempotency_key": "stackoverflow-16830946",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to place an html element at the cursor position in Ckeditor?",
    "body": "I have such difficulties to succeed in placing an html element I am drag/dropping in my Ckeditor. So far, I have just been able to place it at the very end of my content with \"setData\". But I want to place it at the position I am in my cursor. I mean, instead of doing this : <p>My content with <span>spans</span>, <a>links</a>, etc.</p><span>The html I am drag/droping</span> I want to do this : <p>My content with <span>spans</span>, <span>The html I am drag/droping</span>, <a>links</a>, etc.</p> Right now, my code is looking like this : CKEDITOR.instances['myContent'].insertHtml(' <span>The html I am drag/droping</span>'); I have tried insertText but it never worked. I have then tried insertHtml but it worked only in IE. Do you have any idea of how to fix it ? That would be a great help ! Thanks.",
    "code": "&lt;p&gt;My content with &lt;span&gt;spans&lt;/span&gt;, &lt;a&gt;links&lt;/a&gt;, etc.&lt;/p&gt;&lt;span&gt;The html I am drag/droping&lt;/span&gt;\n\n\n&lt;p&gt;My content with &lt;span&gt;spans&lt;/span&gt;, &lt;span&gt;The html I am drag/droping&lt;/span&gt;, &lt;a&gt;links&lt;/a&gt;, etc.&lt;/p&gt;\n\n\nCKEDITOR.instances['myContent'].insertHtml(' &lt;span&gt;The html I am drag/droping&lt;/span&gt;');\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "ckeditor",
      "position",
      "text-cursor",
      "inserthtml"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "16832262",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2852,
      "stackoverflow_creation_date": "2013-05-30T09:19:32.797Z"
    },
    "idempotency_key": "stackoverflow-16832262",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "WPF : How to inherit from a base(or default) style in an ItemContainerStyle",
    "body": "I'm having trouble inheriting from a default style in an ItemContainerStyle of a TabControl. The aim to inherit from the theme style and only changing a few properties. If I write this XAML code, the default TabItem Style is used, but not the theme one. Do you have any idea why? <TabControl> <TabControl.Resources> <Style TargetType=\"Button\" BasedOn=\"{StaticResource {x:Type Button}}\"> <Setter Property=\"Background\" Value=\"DarkBlue\"/> </Style> </TabControl.Resources> <TabControl.ItemContainerStyle> <Style TargetType=\"TabItem\" BasedOn=\"{StaticResource {x:Type TabItem}}\"> <Setter Property=\"Background\" Value=\"Blue\"/> <Setter Property=\"Foreground\" Value=\"Red\"/> </Style> </TabControl.ItemContainerStyle> <TabItem Header=\"Tab 1\"/> <TabItem Header=\"Tab 2\"/> <TabItem Header=\"Tab 3\"/> <TabItem Header=\"Tab 4\"/> </TabControl> PS : Doing the same for a Button, in the Resources, works great. How come it does not with the TabItem Style? Something to do with the ItemContainerStyle? PS2 : My theme style (default style) is stored in the application resources. Thanks EDIT 1 You can find the example project on my dropbox : https://dl.dropboxusercontent.com/u/61987557/InheritDefaultStyle.zip",
    "code": "&lt;TabControl&gt;\n\n    &lt;TabControl.Resources&gt;\n        &lt;Style TargetType=\"Button\" BasedOn=\"{StaticResource {x:Type Button}}\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"DarkBlue\"/&gt;\n        &lt;/Style&gt;\n    &lt;/TabControl.Resources&gt;\n\n    &lt;TabControl.ItemContainerStyle&gt;\n        &lt;Style TargetType=\"TabItem\" BasedOn=\"{StaticResource {x:Type TabItem}}\"&gt;\n            &lt;Setter Property=\"Background\" Value=\"Blue\"/&gt;\n            &lt;Setter Property=\"Foreground\" Value=\"Red\"/&gt;\n        &lt;/Style&gt;\n    &lt;/TabControl.ItemContainerStyle&gt;\n\n    &lt;TabItem Header=\"Tab 1\"/&gt;\n    &lt;TabItem Header=\"Tab 2\"/&gt;\n    &lt;TabItem Header=\"Tab 3\"/&gt;\n    &lt;TabItem Header=\"Tab 4\"/&gt;\n\n&lt;/TabControl&gt;\n",
    "severity": "medium",
    "tags": [
      "wpf",
      "styles",
      "inheritance",
      "itemcontainerstyle"
    ],
    "metadata": {
      "stackoverflow_question_id": "16835997",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1848,
      "stackoverflow_creation_date": "2013-05-30T12:20:34.173Z"
    },
    "idempotency_key": "stackoverflow-16835997",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to search for multiple texts in a string, using java script?",
    "body": "I have a string, an array of words to be searched for: strng = \"I have been working here since last six months\" text = [\"since\", \"till\", \"until\"] result = \"since\" I want to search for every word in array, in strng and when any of it is found in the strng, it must be assigned to result. how to do it? I am using .search() for searching a single word, but how to search for multiple words? please help. I am a Newbie.",
    "code": "strng = \"I have been working here since last six months\"\ntext = [\"since\", \"till\", \"until\"]\nresult = \"since\"\n\n\nstrng\n\n.search()\n\n# Solution Code:\nstrng.match(/since|till|until/) // returns [\"since\"]\n",
    "resolution": "You can either loop over your array of keywords or use a regular expression. The former is simple, the latter is more elegant ;-) Your regex should be something like \"/since|till|until/\", but I'm not 100% sure right now. You should research a bit about regexes if you're planning to use them, here's a starter: http://www.w3schools.com/js/js_obj_regexp.asp EDIT: Just tried it and refreshed my memory. The simplest solution is using .match(), not search(). It's boils down to a one-liner then: strng.match(/since|till|until/) // returns [\"since\"] Using .match() gives you an array with all occurrences of your pattern, in this case the first and only match is the first element of that array.",
    "severity": "high",
    "tags": [
      "arrays",
      "string",
      "javascript"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "16851094",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 25530,
      "stackoverflow_creation_date": "2013-05-31T06:34:26.503Z"
    },
    "idempotency_key": "stackoverflow-16851094",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "String variable as import module specifier",
    "body": "I have tried the following: >> modname = 'sys' >> import modname Traceback (most recent call last): File \"<console>\", line 1, in <module> ImportError: No module named modname Why does import not recognize 'sys' as the name of the module to be imported?",
    "code": "&gt;&gt; modname = 'sys'\n&gt;&gt; import modname\nTraceback (most recent call last):\n  File \"&lt;console&gt;\", line 1, in &lt;module&gt;\nImportError: No module named modname\n\n\n# Solution Code:\n&gt;&gt;&gt; import importlib\n&gt;&gt;&gt; mod = importlib.import_module('sys')\n&gt;&gt;&gt; mod\n&lt;module 'sys' (built-in)&gt;\n\n\nimportlib",
    "resolution": "use importlib module if you want to import a module based on a string. >>> import importlib >>> mod = importlib.import_module('sys') >>> mod <module 'sys' (built-in)>",
    "severity": "low",
    "tags": [
      "python",
      "import",
      "importerror"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "16914944",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 125,
      "stackoverflow_creation_date": "2013-06-04T10:01:42.313Z"
    },
    "idempotency_key": "stackoverflow-16914944",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Find most frequent line in file in bash",
    "body": "Suppose I have a file similar to as follows: Abigail 85 Kaylee 25 Kaylee 25 kaylee Brooklyn Kaylee 25 kaylee 25 I would like to find the most repeated line, the output must be just the line. I've tried sort list | uniq -c but I need clean output, just the most repeated line (in this example Kaylee 25).",
    "code": "Abigail 85\nKaylee 25\nKaylee 25\nkaylee\nBrooklyn\nKaylee 25\nkaylee 25\n\n\nsort list | uniq -c\n\n\nKaylee 25\n\n# Solution Code:\n$ sort zlist | uniq -c | sort -r | head -1|  xargs | cut -d\" \" -f2-\n\nKaylee 25\n",
    "resolution": "Kaizen ~ $ sort zlist | uniq -c | sort -r | head -1| xargs | cut -d\" \" -f2- Kaylee 25 does this help ?",
    "severity": "medium",
    "tags": [
      "bash",
      "lines"
    ],
    "metadata": {
      "language": "bash",
      "stackoverflow_question_id": "16922357",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 5356,
      "stackoverflow_creation_date": "2013-06-04T15:57:37.247Z"
    },
    "idempotency_key": "stackoverflow-16922357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Django combine DetailView and FormView",
    "body": "I have a view where I need to display information about a certain model instance hence I use a DetailView. I also need that same view to handle a regular form (not a model form), both displaying the form on GET and validating it on POST. To do that, I am trying to use a FormView however the combination of both view clases does not work: class FooView(FormView, DetailView): # configs here In GET (for simplicity of the question I will only show the issue with GET since POST has a different issue), it does not work because the form never gets added to the context. The reason has to do with method resolution order for that class: >>> inspect.getmro(FooView) (FooView, django.views.generic.edit.FormView, django.views.generic.detail.DetailView, django.views.generic.detail.SingleObjectTemplateResponseMixin, django.views.generic.base.TemplateResponseMixin, django.views.generic.edit.BaseFormView, django.views.generic.edit.FormMixin, django.views.generic.detail.BaseDetailView, django.views.generic.detail.SingleObjectMixin, django.views.generic.base.ContextMixin, django.views.generic.edit.ProcessFormView, django.views.generic.base.View, object) Within the request, Django has to get the form and add it to the context. That happens in ProcessFormView.get: def get(self, request, *args, **kwargs): \"\"\" Handles GET requests and instantiates a blank version of the form. \"\"\" form_class = self.get_form_class() form = self.get_form(form_class) return self.render_to_response(self.get_context_data(form=form)) However the first class with the MRO which has get defined is BaseDetailView: def get(self, request, *args, **kwargs): self.object = self.get_object() context = self.get_context_data(object=self.object) return self.render_to_response(context) As you can see the BaseDetailView.get never calls super hence the ProcessFormView.get will never be called hence the the form will not be added to the context. This can be fixed by creating a mixin view where all these nuances for GET and POST can be taken care of however I do not feel it is a clean solution. My question: is there any way of accomplishing what I want with Django's default CBV implementation without creating any mixins?",
    "code": "class FooView(FormView, DetailView):\n    # configs here\n\n\n&gt;&gt;&gt; inspect.getmro(FooView)\n(FooView,\n django.views.generic.edit.FormView,\n django.views.generic.detail.DetailView,\n django.views.generic.detail.SingleObjectTemplateResponseMixin,\n django.views.generic.base.TemplateResponseMixin,\n django.views.generic.edit.BaseFormView,\n django.views.generic.edit.FormMixin,\n django.views.generic.detail.BaseDetailView,\n django.views.generic.detail.SingleObjectMixin,\n django.views.generic.base.ContextMixin,\n django.views.generic.edit.ProcessFormView,\n django.views.generic.base.View,\n object)\n\n\ndef get(self, request, *args, **kwargs):\n    \"\"\"\n    Handles GET requests and instantiates a blank version of the form.\n    \"\"\"\n    form_class = self.get_form_class()\n    form = self.get_form(form_class)\n    return self.render_to_response(self.get_context_data(form=form))\n\n\ndef get(self, request, *args, **kwargs):\n    self.object = self.get_object()\n    context = self.get_context_data(object=self.object)\n    return self.render_to_response(context)\n\n\nDetailView\n\nGET\n\nPOST\n\nFormView\n\nGET\n\nGET\n\nPOST\n\nProcessFormView.get\n\nget\n\nBaseDetailView\n\nBaseDetailView.get\n\nsuper\n\nProcessFormView.get\n\nGET\n\nPOST\n\n# Solution Code:\nclass MyDetailView(DetailView):\n    model = MyModel\n    template_name = 'my_detail_view.html'\n\n    def get_context_data(self, **kwargs):\n        context = super(MyDetailView, self).get_context_data(**kwargs)\n        context['form'] = MyFormClass\n        return context\n\nclass MyFormView(FormView):\n    form_class = MyFormClass\n    success_url = 'go/here/if/all/works'\n\n\n&lt;!-- some representation of the MyModel object --&gt;\n\n&lt;form method=\"post\" action=\"{% url \"my_form_view_url\" %}\"&gt;\n\n{{ form }}\n\n&lt;/form&gt;\n\n\n# ...\nurl('^my_model/(?P&lt;pk&gt;\\d+)/$', MyDetailView.as_view(), name='my_detail_view_url'),\nurl('^my_form/$', require_POST(MyFormView.as_view()), name='my_form_view_url'),\n# ...\n\n\nDetailView\n\nFormView\n\naction\n\nFormView\n\nviews.py\n\nmy_detail_view.html\n\nurls.py\n\nrequire_POST\n\nMyFormView\n\nGET",
    "resolution": "One solution would be to use mixins, as per limelights' comment above. Another approach is to have two separate views, one a DetailView and the other a FormView. Then, in the template for the former, display the same form you're using in the latter, except that you won't leave the action attribute empty -- instead, set it to the url for the FormView. Something along the lines of this (please beware of any errors as I'm writing this without any testing): In views.py: class MyDetailView(DetailView): model = MyModel template_name = 'my_detail_view.html' def get_context_data(self, **kwargs): context = super(MyDetailView, self).get_context_data(**kwargs) context['form'] = MyFormClass return context class MyFormView(FormView): form_class = MyFormClass success_url = 'go/here/if/all/works' In my_detail_view.html: <!-- some representation of the MyModel object --> <form method=\"post\" action=\"{% url \"my_form_view_url\" %}\"> {{ form }} </form> In urls.py: # ... url('^my_model/(?P<pk>\\d+)/$', MyDetailView.as_view(), name='my_detail_view_url'), url('^my_form/$', require_POST(MyFormView.as_view()), name='my_form_view_url'), # ... Note that the require_POST decorator is optional, in the case that you don't want the MyFormView to be accessible by GET and want it only to be processed when the form is submitted.",
    "severity": "high",
    "tags": [
      "django",
      "django-class-based-views"
    ],
    "metadata": {
      "framework": "django",
      "stackoverflow_question_id": "16931901",
      "stackoverflow_score": 24,
      "stackoverflow_view_count": 29919,
      "stackoverflow_creation_date": "2013-06-05T05:03:19.550Z"
    },
    "idempotency_key": "stackoverflow-16931901",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get Nancy Request Information",
    "body": "I just started looking at Nancy and I was using a Sinatra Video (what Nancy is based on) from Tekpub, to see what it could do. One of the things demonstrated in the video was outputting the request information back to the browser (request method, request path, etc...). When I use ASP.Net Web Forms I can get to that information in the Request object, but I didn't see anything in the documentation that showed me how to do this in Nancy. I know there is a Headers field in the Nancy.Request object, but it didn't give me all the information I was looking for. Below is the original Sinatra Code that I want to convert to C# and Nancy: class HelloWorld def call(env) out = \"\" env.keys.each {|key| out+=\"#{key}=#{env[key]}\"} [\"200\",{\"Content-Type\" => \"text/plain\"}, out] end end run HelloWorld.new",
    "code": "class HelloWorld\n     def call(env)\n          out = \"\"\n          env.keys.each {|key| out+=\"#{key}=#{env[key]}\"}\n          [\"200\",{\"Content-Type\" =&gt; \"text/plain\"}, out]\n     end\n end\n\n run HelloWorld.new\n\n\n# Solution Code:\nGet[\"/test\"] = _ =&gt;\n{\n    var responseThing = new\n    {\n        this.Request.Headers,\n        this.Request.Query,\n        this.Request.Form,\n        this.Request.Session,\n        this.Request.Method,\n        this.Request.Url,\n        this.Request.Path\n    };\n\n    return Response.AsJson(responseThing);\n};\n\n\n{\n   \"Form\":{\n\n   },\n   \"Headers\":[\n      {\n         \"Key\":\"Cache-Control\",\n         \"Value\":[\n            \"max-age=0\"\n         ]\n      },\n      {\n         \"Key\":\"Connection\",\n         \"Value\":[\n            \"keep-alive\"\n         ]\n      },\n      {\n         \"Key\":\"Accept\",\n         \"Value\":[\n            \"text/html;q=1\",\n            \"application/xhtml+xml;q=1\",\n            \"application/xml;q=0.9\",\n            \"*/*;q=0.8\"\n         ]\n      },\n      {\n         \"Key\":\"Accept-Encoding\",\n         \"Value\":[\n            \"gzip,deflate,sdch\"\n         ]\n      },\n      {\n         \"Key\":\"Accept-Language\",\n         \"Value\":[\n            \"en-US,en;q=0.8\"\n         ]\n      },\n      {\n         \"Key\":\"Host\",\n         \"Value\":[\n            \"localhost:2234\"\n         ]\n      },\n      {\n         \"Key\":\"User-Agent\",\n         \"Value\":[\n            \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36\"\n         ]\n      }\n   ],\n   \"Method\":\"GET\",\n   \"Path\":\"/test\",\n   \"Query\":{\n      \"23423\":\"fweew\"\n   },\n   \"Session\":[\n\n   ],\n   \"Url\":{\n      \"BasePath\":null,\n      \"Fragment\":\"\",\n      \"HostName\":\"localhost:2234\",\n      \"IsSecure\":false,\n      \"Path\":\"/test\",\n      \"Port\":null,\n      \"Query\":\"23423=fweew\",\n      \"Scheme\":\"http\",\n      \"SiteBase\":\"http://localhost:2234\"\n   }\n}\n",
    "resolution": "You mean something like this? Get[\"/test\"] = _ => { var responseThing = new { this.Request.Headers, this.Request.Query, this.Request.Form, this.Request.Session, this.Request.Method, this.Request.Url, this.Request.Path }; return Response.AsJson(responseThing); }; This would give you an output like: { \"Form\":{ }, \"Headers\":[ { \"Key\":\"Cache-Control\", \"Value\":[ \"max-age=0\" ] }, { \"Key\":\"Connection\", \"Value\":[ \"keep-alive\" ] }, { \"Key\":\"Accept\", \"Value\":[ \"text/html;q=1\", \"application/xhtml+xml;q=1\", \"application/xml;q=0.9\", \"*/*;q=0.8\" ] }, { \"Key\":\"Accept-Encoding\", \"Value\":[ \"gzip,deflate,sdch\" ] }, { \"Key\":\"Accept-Language\", \"Value\":[ \"en-US,en;q=0.8\" ] }, { \"Key\":\"Host\", \"Value\":[ \"localhost:2234\" ] }, { \"Key\":\"User-Agent\", \"Value\":[ \"Mozilla/5.0 (Windows NT 6.2; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.29 Safari/537.36\" ] } ], \"Method\":\"GET\", \"Path\":\"/test\", \"Query\":{ \"23423\":\"fweew\" }, \"Session\":[ ], \"Url\":{ \"BasePath\":null, \"Fragment\":\"\", \"HostName\":\"localhost:2234\", \"IsSecure\":false, \"Path\":\"/test\", \"Port\":null, \"Query\":\"23423=fweew\", \"Scheme\":\"http\", \"SiteBase\":\"http://localhost:2234\" } } You can also get the Owin Environment Variables as described in the wiki here https://github.com/NancyFx/Nancy/wiki/Hosting-nancy-with-owin#accessing-owin-environment-variables",
    "severity": "high",
    "tags": [
      "c#",
      "sinatra",
      "nancy"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "17002179",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 12034,
      "stackoverflow_creation_date": "2013-06-08T17:46:22.930Z"
    },
    "idempotency_key": "stackoverflow-17002179",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Azure automatic build failed",
    "body": "I have recently created project on visualstudio.com, and enabled continuous build on azure. I created web api project, and created some models and api controllers. Then I deployed it online and it was cool for a good while. Then I updated all dependencies through NuGet. Build went fine on local and also app worked on my local machine. Then I checked in to tfs, and automatic deploying kicked in, with build error. It says: C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets (74): The \"EnsureBindingRedirects\" task could not be loaded from the assembly C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.Tasks.dll. Could not load file or assembly 'file:///C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.Tasks.dll' or one of its dependencies. The system cannot find the file specified. Confirm that the <UsingTask> declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask. On my local machine build I get warning for Tests project D:\\Programming\\Projects\\HitchStop\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets(220,5): warning : Project must install nuget package Microsoft.Bcl. On local I use .NET 4.5, MVC4, Entity framework 5.0...",
    "code": "C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets (74): The \"EnsureBindingRedirects\" task could not be loaded from the assembly C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.Tasks.dll. Could not load file or assembly 'file:///C:\\a\\src\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.Tasks.dll' or one of its dependencies. The system cannot find the file specified. Confirm that the &lt;UsingTask&gt; declaration is correct, that the assembly and all its dependencies are available, and that the task contains a public class that implements Microsoft.Build.Framework.ITask.\n\nD:\\Programming\\Projects\\HitchStop\\HitchStopApi\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets(220,5): warning : Project must install nuget package Microsoft.Bcl.\n\n# Solution Code:\n&lt;Import Project=\"..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets\" /&gt;\n\n\n&lt;Import Project=\"..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets\" Condition=\"Exists('..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets')\" /&gt;\n",
    "resolution": "This is somewhat of a bug and is logged in several places. Bcl.Build isn't a project required to build on TFS, so you simply need to tell TFS not to include it if it doesn't exist. To do this, open up your .csproj file (for each project that references Bcl.Build) and change the following: <Import Project=\"..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets\" /> to add a condition: <Import Project=\"..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets\" Condition=\"Exists('..\\packages\\Microsoft.Bcl.Build.1.0.6\\tools\\Microsoft.Bcl.Build.targets')\" /> Note: If you update Bcl.Build via Nuget, it will also update your project file and the following will need to be done again. Create a second copy of this and comment it out if you don't want to lose it every update/have a reference. Related References (same issue, different manifestation): http://social.msdn.microsoft.com/Forums/en-US/TFService/thread/7bd2e96b-552a-4897-881c-4b3682ff835e https://connect.microsoft.com/VisualStudio/feedback/details/788981/microsoft-bcl-build-targets-causes-project-loading-to-fail https://nuget.codeplex.com/workitem/3135 Update: Microsoft wrote an official blog on this. While the above does work in some situations, its not a guarantee. Microsoft and the NuGet team are working together on a solution, but in the meantime have provided 3 (better?) workaround options: http://blogs.msdn.com/b/dotnet/archive/2013/06/12/nuget-package-restore-issues.aspx Stop using package restore and check-in all package files Explicitly run package restore before building the project Check-in the .targets files",
    "severity": "medium",
    "tags": [
      "c#",
      "azure",
      "build",
      "tfs",
      "asp.net-web-api"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "17011078",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 5831,
      "stackoverflow_creation_date": "2013-06-09T15:19:45.980Z"
    },
    "idempotency_key": "stackoverflow-17011078",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is a moved-from shared_ptr guaranteed to be emptied?",
    "body": "Consider the following code: struct Bar { std::shared_ptr<int> MemberFunction() { return std::move(m_memberVariable); } std::shared_ptr<int> m_memberVariable; }; Is it guaranteed that the std::move from a shared_ptr<T> will actually remove the reference in the member variable? Or should I copy, clear and return copy to guarantee this* Clearly in the case of unique_ptr<T> it does the right thing (it cannot possibly not do) but does the standard guarantee that a std::moved from shared_ptr releases its reference? [when it is a member variable, static or global, locals don't matter as they go out of scope] *possibly \"swap and return\" is better than \"copy, clear and return\".",
    "code": "struct Bar\n{\n    std::shared_ptr&lt;int&gt; MemberFunction()\n    {\n        return std::move(m_memberVariable);\n    }\n\n    std::shared_ptr&lt;int&gt; m_memberVariable;\n};\n\n\nstd::move\n\nshared_ptr&lt;T&gt;\n\nunique_ptr&lt;T&gt;\n\nstd::move\n\nshared_ptr\n\n# Solution Code:\nshared_ptr(shared_ptr&amp;&amp; r) noexcept;\n\ntemplate&lt;class Y&gt; shared_ptr(shared_ptr&lt;Y&gt;&amp;&amp; r) noexcept;\n\nshared_ptr\n\nr\n\n*this\n\nr\n\nr\n\nr.get() == 0",
    "resolution": "You do indeed have that guarantee. From 20.7.2.2.1/21-22: shared_ptr(shared_ptr&& r) noexcept; template<class Y> shared_ptr(shared_ptr<Y>&& r) noexcept; Effects: Move-constructs a shared_ptr instance from r. Postconditions: *this shall contain the old value of r. r shall be empty. r.get() == 0.",
    "severity": "medium",
    "tags": [
      "c++",
      "c++11",
      "move",
      "shared-ptr"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "17148335",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 415,
      "stackoverflow_creation_date": "2013-06-17T13:13:10.643Z"
    },
    "idempotency_key": "stackoverflow-17148335",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Open perf.data in Kcachegrind",
    "body": "I read somewhere that it is possible to convert perf.data (output from linux perf record profiling tool) to a format that kcachegrind can parse/plot, however I didn't find an application capable of doing this convertion and neither does kcachegrind opens perf.data. Is this possible: use kcachegrind to see perf output? Which tool can I use?",
    "code": "perf.data\n\nperf record\n\nperf.data",
    "severity": "medium",
    "tags": [
      "linux",
      "performance",
      "profiling",
      "valgrind",
      "perf"
    ],
    "metadata": {
      "stackoverflow_question_id": "17223481",
      "stackoverflow_score": 21,
      "stackoverflow_view_count": 4729,
      "stackoverflow_creation_date": "2013-06-20T20:47:57.083Z"
    },
    "idempotency_key": "stackoverflow-17223481",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to find all <li>'s within a specific <ul> class?",
    "body": "Environment: Beautiful Soup 4 Python 2.7.5 Logic: 'find_all' <li> instances that are within a <ul> with a class of my_class eg: <ul class='my_class'> <li>thing one</li> <li>thing two</li> </ul> Clarification: Just get the 'text' between the <li> tags. Python Code: (The find_all below is not correct, I am just putting it in context) from bs4 import BeautifulSoup, Comment import re # open original file fo = open('file.php', 'r') # convert to string fo_string = fo.read() # close original file fo.close() # create beautiful soup object from fo_string bs_fo_string = BeautifulSoup(fo_string, \"lxml\") # get rid of html comments my_comments = bs_fo_string.findAll(text=lambda text:isinstance(text, Comment)) [my_comment.extract() for my_comment in my_comments] my_li_list = bs_fo_string.find_all('ul', 'my_class') print my_li_list",
    "code": "&lt;ul class='my_class'&gt;\n&lt;li&gt;thing one&lt;/li&gt;\n&lt;li&gt;thing two&lt;/li&gt;\n&lt;/ul&gt;\n\n\nfrom bs4 import BeautifulSoup, Comment\nimport re\n\n# open original file\nfo = open('file.php', 'r')\n# convert to string\nfo_string = fo.read()\n# close original file\nfo.close()\n# create beautiful soup object from fo_string\nbs_fo_string = BeautifulSoup(fo_string, \"lxml\")\n# get rid of html comments\nmy_comments = bs_fo_string.findAll(text=lambda text:isinstance(text, Comment))\n[my_comment.extract() for my_comment in my_comments]\n\nmy_li_list = bs_fo_string.find_all('ul', 'my_class')\n\nprint my_li_list\n\n\n&lt;li&gt;\n\n&lt;ul&gt;\n\nmy_class\n\n&lt;li&gt;\n\n# Solution Code:\n&gt;&gt;&gt; html = \"\"\"&lt;ul class='my_class'&gt;\n... &lt;li&gt;thing one&lt;/li&gt;\n... &lt;li&gt;thing two&lt;/li&gt;\n... &lt;/ul&gt;\"\"\"\n&gt;&gt;&gt; from bs4 import BeautifulSoup as BS\n&gt;&gt;&gt; soup = BS(html)\n&gt;&gt;&gt; for ultag in soup.find_all('ul', {'class': 'my_class'}):\n...     for litag in ultag.find_all('li'):\n...             print litag.text\n... \nthing one\nthing two\n\n\nsoup.find_all('ul', {'class': 'my_class'})\n\nul\n\nmy_class\n\nli\n\nul",
    "resolution": "This? >>> html = \"\"\"<ul class='my_class'> ... <li>thing one</li> ... <li>thing two</li> ... </ul>\"\"\" >>> from bs4 import BeautifulSoup as BS >>> soup = BS(html) >>> for ultag in soup.find_all('ul', {'class': 'my_class'}): ... for litag in ultag.find_all('li'): ... print litag.text ... thing one thing two Explanation: soup.find_all('ul', {'class': 'my_class'}) finds all the ul tags with a class of my_class. We then find all the li tags in those ul tags, and print the content of the tag.",
    "severity": "high",
    "tags": [
      "python",
      "python-2.7",
      "beautifulsoup"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "17246963",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 39741,
      "stackoverflow_creation_date": "2013-06-22T03:05:56.227Z"
    },
    "idempotency_key": "stackoverflow-17246963",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Triggering a PopupMenu with buttons inside a ListView item",
    "body": "Types of Menu Let me start by outlining the distinction between Contextual Menus and Popup Menus (taken from here): A PopupMenu is a modal menu anchored to a View A contextual menu [I'm talking specifically about floating context menus] offers actions that affect a specific item or context frame in the UI. You can provide a context menu for any view, but they are most often used for items in a ListView, GridView, or other view collections in which the user can perform direct actions on each item. As guidance, the docs distinguish between their uses: - PopupMenu: \"Providing an overflow-style menu for actions that relate to specific content (such as Gmail's email headers...\" - ContextualMenu: \"For actions that affect selected content...\" I'm after the visual look and interaction of the PopupMenu. My setup (and goal) I have a ListView where each item has a button on the right. -------------------- | Item 1 [ ]| -------------------- -------------------- | Item ... [ ]| -------------------- -------------------- | Item n [ ]| -------------------- while retaining the onItemClick for each ListItem, I'd like to leverage the button to trigger a PopupMenu. The actions in the PopupMenu are listed in my_menu.xml, so the only difference between each instance of the menu is the item that it was clicked for. What I've tried I've tried overriding getView() in my ListAdapter to add an OnClickListener for each button, as per this post. The result was inconsistent; not all the clicks were registering (perhaps due to recycling - I haven't tried this fix yet) but in general the approach seemed squiffy, considering the ease of specifying a context menu for a listview. I've also tried adding a contextual menu, which was dead easy, except that it's only triggered when the list item is long-pressed. Is the getView() method the way to go or is there something easier? In my listview, I've a mini overflow button for each item, similar to each track in playlist for Play Music. They display a PopupMenu for each item there, when you click on the overflow button. Long-press does nothing. I'd like that but not sure how? The menu page only elaborates how to enable a popup menu for individual views. registerForContextMenu(ListView lv) is the only thing I've seen that I can apply to an entire ListView, but that seems to only work on long-presses of the entire list. Is there a way to hook that event to a click of a specific view in a list item (whilst still maintaining the list item click for the rest of the list item)? I've tried setting an onClickListener in getView() as described here but it feels squiffy for PopupMenu, and not all clicks were registering every time (it was consistently inconsistent). Update - with getView() overridden again When I create the StacksCursorAdapter, I pass an instance of StackViewFragment which is stored as a field (so it can be assigned to views as the click listener). ViewHolder is a class with public final ImageView miniOverflow StacksCursorAdapter (extends SimpleCursorAdapter): @Override public View getView(int position, View convertView, ViewGroup parent) { View row = super.getView(position, convertView, parent); ViewHolder holder = (ViewHolder) row.getTag(); if (holder == null) { holder = new ViewHolder(row); row.setTag(holder); } holder.miniOverflow.setTag(R.id.tag_stack_position, position); holder.miniOverflow.setOnClickListener(listener); return row; } StackViewFragment (extends ListFragment, implements View.OnClickListener): @Override public void onClick(View v) { Log.d(TAG, \"mini overflow clicked\"); Log.d(TAG, \"position:::::\" + v.getTag(R.id.tag_stack_position)); PopupMenu popup = new PopupMenu(getActivity(), v); MenuInflater inflater = popup.getMenuInflater(); inflater.inflate(R.menu.menu_stackview_listitem, popup.getMenu()); popup.show(); } stack_list_item.xml: <?xml version=\"1.0\" encoding=\"utf-8\"?> <!-- a single row item for a Stacks listview --> <RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:layout_width=\"match_parent\" android:layout_height=\"48dp\" android:descendantFocusability=\"blocksDescendants\" > ... <other views> ... <ImageView android:id=\"@+id/moreoverflow_btn\" android:focusable=\"false\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" android:layout_centerVertical=\"true\" android:alpha=\"0.4\" android:scaleType=\"fitCenter\" android:src=\"@drawable/ic_menu_moreoverflow_black\" android:layout_alignParentRight=\"true\" /> </RelativeLayout> The issue at this junction is that I have to click several times occasionally to get the click to register (on the button). This is without scrolling, so it's not related to view recycling. Concluding (solution by eskimoapps.com marked as correct) So there was no issue with the multiple clicks except that my touch target was not in the place I was expecting - the image asset I was using for the mini overflow is weighted to the right (such that the three dots are near the right edge of the touch target) meaning that I was just missing it half the time (facepalm). Overriding getView() as I showed above seems to work fine, and in fact, getView() can be modified even further, by setting the OnClickListener only if it's needed (but definitely, updating the tag needs to be done for every view, not just the newly created ones): @Override public View getView(int position, View convertView, ViewGroup parent) { View row = super.getView(position, convertView, parent); ViewHolder holder = (ViewHolder) row.getTag(); if (holder == null) { holder = new ViewHolder(row); row.setTag(holder); holder.miniOverflow.setOnClickListener(listener); } holder.miniOverflow.setTag(R.id.tag_stack_position, position); return row; }",
    "code": "--------------------\n| Item 1        [ ]|\n--------------------\n--------------------\n| Item ...      [ ]|\n--------------------\n--------------------\n| Item n        [ ]|\n--------------------\n\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View row = super.getView(position, convertView, parent);\n    ViewHolder holder = (ViewHolder) row.getTag();\n\n    if (holder == null) {\n        holder = new ViewHolder(row);\n        row.setTag(holder);\n    }\n    holder.miniOverflow.setTag(R.id.tag_stack_position, position);\n    holder.miniOverflow.setOnClickListener(listener);\n\n    return row;\n}\n\n\n@Override\npublic void onClick(View v) {\n    Log.d(TAG, \"mini overflow clicked\");\n    Log.d(TAG, \"position:::::\" + v.getTag(R.id.tag_stack_position));\n\n    PopupMenu popup = new PopupMenu(getActivity(), v);\n    MenuInflater inflater = popup.getMenuInflater();\n    inflater.inflate(R.menu.menu_stackview_listitem, popup.getMenu());\n    popup.show();\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!-- a single row item for a Stacks listview --&gt;\n&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"48dp\"\n        android:descendantFocusability=\"blocksDescendants\"\n        &gt;\n\n    ...\n    &lt;other views&gt;\n    ...\n\n\n    &lt;ImageView\n            android:id=\"@+id/moreoverflow_btn\"\n            android:focusable=\"false\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_centerVertical=\"true\"\n            android:alpha=\"0.4\"\n            android:scaleType=\"fitCenter\"\n            android:src=\"@drawable/ic_menu_moreoverflow_black\"\n            android:layout_alignParentRight=\"true\"\n            /&gt;\n&lt;/RelativeLayout&gt;\n\n\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    View row = super.getView(position, convertView, parent);\n    ViewHolder holder = (ViewHolder) row.getTag();\n\n    if (holder == null) {\n        holder = new ViewHolder(row);\n        row.setTag(holder);\n        holder.miniOverflow.setOnClickListener(listener);\n    }\n    holder.miniOverflow.setTag(R.id.tag_stack_position, position);\n\n    return row;\n}\n\n\nonItemClick\n\nPopupMenu\n\nPopupMenu\n\nmy_menu.xml\n\ngetView()\n\nListAdapter\n\nOnClickListener\n\ngetView()\n\nregisterForContextMenu(ListView lv)\n\nonClickListener\n\ngetView()\n\nViewHolder\n\npublic final ImageView miniOverflow\n\ngetView()\n\ngetView()\n\n# Solution Code:\n@Override\npublic View getView(int position, View convertView, ViewGroup parent) {\n    if (convertView == null) {\n        convertView = createView(parent);\n    }\n\n    updateView((GalleryItemView) convertView, position);\n\n    return convertView;\n}\n\nprivate View createView(ViewGroup parent) {\n    LayoutInflater inflater = LayoutInflater.from(parent.getContext());\n\n    return inflater.inflate(R.layout.gallery_item_view, null, false);\n}\n\nprivate void updateView(GalleryItemView view, int position) {\n    GalleryElement item = getItem(position);\n\n    view.updateWith(position, item, listener);\n}\n\n\npublic class GalleryItemView extends ImageView {\n\n    public GalleryItemView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    void updateWith(int position, final GalleryElement item, final GalleryAdapter.GalleryItemListener listener) {\n        if (position % 2 == 0) {\n            setBackgroundColor(getColor(android.R.color.holo_orange_dark));\n        } else {\n            setBackgroundColor(getColor(android.R.color.holo_orange_light));\n        }\n\n        setOnClickListener(new OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                listener.onGalleryItemClicked(item.id);\n            }\n        });\n    }\n\n    @ColorInt\n    private int getColor(@ColorRes int colorRes) {\n        return getResources().getColor(colorRes);\n    }\n\n}\n",
    "resolution": "If I wanted to do this today, I'd use the HolderView pattern. The HolderView pattern requires a custom view/viewgroup (a class extending the View/Viewgroup that is the root of your list/grid item layout, with the 3 standard view constructors). The general idea is that the adapter is not responsible for updating the contents of the view directly; instead, it will give the view all the necessary information to update itself: @Override public View getView(int position, View convertView, ViewGroup parent) { if (convertView == null) { convertView = createView(parent); } updateView((GalleryItemView) convertView, position); return convertView; } private View createView(ViewGroup parent) { LayoutInflater inflater = LayoutInflater.from(parent.getContext()); return inflater.inflate(R.layout.gallery_item_view, null, false); } private void updateView(GalleryItemView view, int position) { GalleryElement item = getItem(position); view.updateWith(position, item, listener); } In my view: public class GalleryItemView extends ImageView { public GalleryItemView(Context context, AttributeSet attrs) { super(context, attrs); } void updateWith(int position, final GalleryElement item, final GalleryAdapter.GalleryItemListener listener) { if (position % 2 == 0) { setBackgroundColor(getColor(android.R.color.holo_orange_dark)); } else { setBackgroundColor(getColor(android.R.color.holo_orange_light)); } setOnClickListener(new OnClickListener() { @Override public void onClick(View v) { listener.onGalleryItemClicked(item.id); } }); } @ColorInt private int getColor(@ColorRes int colorRes) { return getResources().getColor(colorRes); } }",
    "severity": "medium",
    "tags": [
      "android",
      "listview",
      "android-contextmenu"
    ],
    "metadata": {
      "stackoverflow_question_id": "17394867",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 8309,
      "stackoverflow_creation_date": "2013-06-30T21:08:57.577Z"
    },
    "idempotency_key": "stackoverflow-17394867",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "IOS 6.1 with ARC Class from XIB does not get Deallocated, UIClassSwapper",
    "body": "Have an interesting issue where there is a class that is referenced in an XIB layout (subclass of UIScrollView) and is not being de-allocated according to Instruments / Allocations and does not break in it's dealloc routine. Let's call it Sclass1. There is a using class (let's call it Uclass) that has the XIB file and the outlet. @property (nonatomic, weak) IBOutlet Sclass1* sclass1; This is hooked properly to the XIB file layout. Sclass1 is property allocated when the XIB for Uclass is loaded. Uclass does get deallocated and then recreated from time to time and thus we have another instance of Sclass1, but Sclass1 never goes away and can't find another reference to it. Drill down in Instruments shows the one Malloc and that is it. fyi, the class gets started with [UIClassSwapper initWithCoder:]",
    "code": "@property (nonatomic, weak) IBOutlet Sclass1* sclass1;\n\n\n[UIClassSwapper initWithCoder:]\n\n\n# Solution Code:\nweak\n\nUIView\n\nsuperview\n\nsubviews\n\nsuperview\n\nSClass\n\nremoveFromSuperview\n\nSClass1\n\nSClass1\n\nself\n\nself\n\n__weak\n\n__weak",
    "resolution": "If an object doesn't get deallocated under ARC, it means a strong reference to it exists. Since your property is weak the object must be owned strongly by something other than the Uclass object (Otherwise it would get deallocated immediately after the XIB has loaded). In the code you've provided it isn't clear what the actual strong owner of this object is, but I assume it could be one (or more) of the following: Since the object's class is a UIView subclass, it may be (strongly) referenced by its superview if added as one of subviews. This happens automatically when a XIB file is loaded. If the superview doesn't get deallocated neither will the SClass object. You can remove this ownership by calling removeFromSuperview A strong ownership cycle (retain-cycle) exists somewhere among ivars of the SClass1 object (i.e. one of the strongly-owned instance variables have a strong reference back to its owner - the SClass1). Beware that any block using self directly also keeps a strong reference. Having a strong reference to the block then often leads to a retain-cycle. Save self to a __weak var and pass that to the block instead unless you have a good reason not to. A manually created strong reference exists by e.g. adding the object to a container or saving the pointer to a non-__weak variable. Try finding and removing these strong ownerships. Only after all of them are removed the object can be deallocated.",
    "severity": "medium",
    "tags": [
      "ios",
      "automatic-ref-counting",
      "xib"
    ],
    "metadata": {
      "stackoverflow_question_id": "17408090",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 1775,
      "stackoverflow_creation_date": "2013-07-01T15:23:25.187Z"
    },
    "idempotency_key": "stackoverflow-17408090",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What's the best way to preload all types of images?",
    "body": "I want to preload all images on my page. My page has some images used directly as links, i.e. as img tags within an a tag, as well as some images which are in the background-image property of some spans. What's the best way to preload them all? I notice that a lot of the preload scripts seem to assume that the images will be loaded within image tags. For example, I've implemented this script: http://www.javascriptkit.com/javatutors/preloadimagesplus.shtml But it doesn't make a difference on my page where certain spans when hovered over should have a new background. There's still a pause on my page when the user hovers over an element, before the right images background shows up. Edit I know about using sprites, my question is asking for a solution apart from sprites.",
    "code": "img\n\na\n\nbackground-image",
    "severity": "low",
    "tags": [
      "javascript",
      "html",
      "css",
      "image",
      "pagespeed"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "17449007",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 344,
      "stackoverflow_creation_date": "2013-07-03T13:13:09.633Z"
    },
    "idempotency_key": "stackoverflow-17449007",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Transpose some columns to rows using pivot with SQL",
    "body": "MS SQL Server 2012 I have a table called indexrows name displayname propertyvalue abc $row1 agg abc $row2 spx abc $row3 qqq def $row1 spx def $row2 qqq I would like to transpose these results to look like this. name $row1 $row2 $row3 abc agg spx qqq def spx qqq I tried the following query without success. I get this error Msg 156, Level 15, State 1, Line 10 Incorrect syntax near the keyword 'for'. select * from ( select name,propertyvalue, displayname from indexrows ) a PIVOT ( propertyvalue for [displayname] in ('$row1', '$row2', '$row3') ) as pivot Any help is appreciated.",
    "code": "name    displayname propertyvalue\nabc      $row1        agg\nabc      $row2        spx\nabc      $row3        qqq\ndef      $row1        spx\ndef      $row2        qqq\n\n\nname    $row1   $row2   $row3\nabc      agg    spx    qqq\ndef      spx    qqq \n\n\nselect * \nfrom (\nselect \nname,propertyvalue, displayname\nfrom indexrows\n) a\nPIVOT \n(\npropertyvalue\nfor [displayname] in ('$row1', '$row2', '$row3')\n) as pivot\n\n\n# Solution Code:\nselect * \nfrom \n(\n  select name, propertyvalue, displayname\n  from indexrows\n) a\npivot\n(\n  max(propertyvalue)\n  for [displayname] in ([$row1], [$row2], [$row3])\n) piv;\n\n\npropertyvalue\n\n$row1\n\nas pivot",
    "resolution": "There are a few things are wrong with your query. First, you are missing an aggregate function on your PIVOT. You need an aggregate around propertyvalue. Second, you need to surround the $row1, etc with square brackets not single quotes. Third, I would use a different alias for the as pivot As a result the code will be: select * from ( select name, propertyvalue, displayname from indexrows ) a pivot ( max(propertyvalue) for [displayname] in ([$row1], [$row2], [$row3]) ) piv; See SQL Fiddle with Demo",
    "severity": "high",
    "tags": [
      "sql",
      "pivot",
      "sql-server-2012",
      "transpose"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "17458894",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 45551,
      "stackoverflow_creation_date": "2013-07-03T22:06:54.803Z"
    },
    "idempotency_key": "stackoverflow-17458894",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "foreach and special variable $_ not behaving as expected",
    "body": "I'm learning Perl and wrote a small script to open perl files and remove the comments # Will remove this comment my $name = \"\"; # Will not remove this comment #!/usr/bin/perl -w <- wont remove this special comment The name of files to be edited are passed as arguments via terminal die \"You need to a give atleast one file-name as an arguement\\n\" unless (@ARGV); foreach (@ARGV) { $^I = \"\"; (-w && open FILE, $_) || die \"Oops: $!\"; /^\\s*#[^!]/ || print while(<>); close FILE; print \"Done! Please see file: $_\\n\"; } Now when I ran it via Terminal: perl removeComments file1.pl file2.pl file3.pl I got the output: Done! Please see file: This script is working EXACTLY as I'm expecting but Issue 1 : Why $_ didn't print the name of the file? Issue 2 : Since the loop runs for 3 times, why Done! Please see file: was printed only once? How you would write this script in as few lines as possible? Please comment on my code as well, if you have time. Thank you.",
    "code": "die \"You need to a give atleast one file-name as an arguement\\n\" unless (@ARGV);\n\nforeach (@ARGV) {\n    $^I = \"\";\n    (-w &amp;&amp; open FILE, $_) || die \"Oops: $!\";\n    /^\\s*#[^!]/ || print while(&lt;&gt;);\n    close FILE;\n    print \"Done! Please see file: $_\\n\";\n}\n\n\n# Will remove this comment\n\nmy $name = \"\"; # Will not remove this comment\n\n#!/usr/bin/perl -w\n\nperl removeComments file1.pl file2.pl file3.pl\n\nDone! Please see file:\n\n$_\n\nDone! Please see file:\n\n# Solution Code:\n$^I = \"\";\n/^\\s*#[^!]/ || print while(&lt;&gt;);\n\n\nopen\n\n@ARGV\n\nforeach\n\nwhile(&lt;FILE&gt;)\n\n&lt;&gt;",
    "resolution": "The while stores the lines read by the diamond operator <> into $_, so you're writing over the variable that stores the file name. On the other hand, you open the file with open but don't actually use the handle to read; it uses the empty diamond operator instead. The empty diamond operator makes an implicit loop over files in @ARGV, removing file names as it goes, so the foreach runs only once. To fix the second issue you could use while(<FILE>), or rewrite the loop to take advantage of the implicit loop in <> and write the entire program as: $^I = \"\"; /^\\s*#[^!]/ || print while(<>);",
    "severity": "low",
    "tags": [
      "perl"
    ],
    "metadata": {
      "language": "perl",
      "stackoverflow_question_id": "17463357",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 336,
      "stackoverflow_creation_date": "2013-07-04T06:35:19.087Z"
    },
    "idempotency_key": "stackoverflow-17463357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MagicalRecord replacement for saveNestedContexts?",
    "body": "I ran into some issues with data not persisting with MagicalRecord and it turned out that using saveNestedContexts solved the problem. However according to the documentation, that method is being deprecated. What's the new practice for storing nested objects with MagicalRecord?",
    "code": "saveNestedContexts\n\n# Solution Code:\n- (void) saveToPersistenStoreAndWait;\n- (void) saveToPersistenStoreCompletion:^(BOOL success, NSError *error)completion;\n- (void) saveOnlySelfAndWait;\n- (void) saveOnlySelfCompletion:^(BOOL success, NSError *error)completion;\n",
    "resolution": "Use one of these methods: - (void) saveToPersistenStoreAndWait; - (void) saveToPersistenStoreCompletion:^(BOOL success, NSError *error)completion; - (void) saveOnlySelfAndWait; - (void) saveOnlySelfCompletion:^(BOOL success, NSError *error)completion; These methods are present in the MagicalRecord.h header file.",
    "severity": "low",
    "tags": [
      "ios",
      "core-data",
      "ios6",
      "magicalrecord"
    ],
    "metadata": {
      "stackoverflow_question_id": "17494745",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 464,
      "stackoverflow_creation_date": "2013-07-05T18:14:42.133Z"
    },
    "idempotency_key": "stackoverflow-17494745",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to display horizontal p:selectOneRadio pimefaces",
    "body": "i do this the radio button is diplying vertical, I want to display vertically. <p:selectOneRadio id=\"operation\" value=\"#{tradingMobileBean.selectedOperation}\"> <f:selectItems value=\"#{tradingMobileBean.listOperation}\" /> <p:ajax event=\"change\" process=\"@this\" listener=\"#{tradingMobileBean.operationChangeListner()}\" update=\"stockname\" /> </p:selectOneRadio>",
    "code": "&lt;p:selectOneRadio id=\"operation\" value=\"#{tradingMobileBean.selectedOperation}\"&gt;\n                        &lt;f:selectItems value=\"#{tradingMobileBean.listOperation}\" /&gt;\n                        &lt;p:ajax event=\"change\" process=\"@this\" listener=\"#{tradingMobileBean.operationChangeListner()}\" update=\"stockname\" /&gt;\n &lt;/p:selectOneRadio&gt;\n\n\n# Solution Code:\n&lt;p:selectOneRadio layout=\"pageDirection\" id=\"operation\" value=\"#{tradingMobileBean.selectedOperation}\"&gt;\n     &lt;f:selectItems value=\"#{tradingMobileBean.listOperation}\" /&gt;\n     &lt;p:ajax event=\"change\" process=\"@this\" listener=\"#{tradingMobileBean.operationChangeListner()}\" update=\"stockname\" /&gt;\n&lt;/p:selectOneRadio&gt;\n\n\npageDirection\n\nlineDirection",
    "resolution": "Add layout attribute with value pageDirection which will give the vertical layout. The default value is lineDirection which gives you the horizontal layout. <p:selectOneRadio layout=\"pageDirection\" id=\"operation\" value=\"#{tradingMobileBean.selectedOperation}\"> <f:selectItems value=\"#{tradingMobileBean.listOperation}\" /> <p:ajax event=\"change\" process=\"@this\" listener=\"#{tradingMobileBean.operationChangeListner()}\" update=\"stockname\" /> </p:selectOneRadio>",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "jsf",
      "jakarta-ee",
      "primefaces"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "17537157",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 9205,
      "stackoverflow_creation_date": "2013-07-08T22:39:47.730Z",
      "stackoverflow_owner": "user2461568"
    },
    "idempotency_key": "stackoverflow-17537157",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Meteor Animation",
    "body": "I am trying to implement an animation where an item animates to the left after it gets selected. The following code works. But only about 80% of the time. JS //myItem Template.myItem.rendered = function(){ if(Session.get(\"selected_item\") === this.data._id){ $(this.firstNode).addClass(\"selected\"); } else { $(this.firstNode).removeClass(\"selected\"); } }; Template.myItem.events({ \"click .myItem\": function(evt, template){ Session.set(\"selected_item\", this._id); } }); //myItemList Template.myItemList.helpers({ items: function(){ return Items.find(); } }); Templates <template name=\"myItem\"> <div class=\"myItem\">{{name}}</div> </template> <template name=\"myItemList\"> {{#each items}} {{> myItem}} {{/each}} </template> CSS .myItem { transition: all 200ms 0ms ease-in; } .selected { left: -20px; } I also tried to wrap the code into a Meteor.defer() to make sure that really everything is ready to do the animation. Template.myItem.rendered = function(){ Meteor.defer(function() { if(Session.get(\"selected_item\") === this.data._id){ $(this.firstNode).addClass(\"selected\"); } else { $(this.firstNode).removeClass(\"selected\"); } }); }; But that results in this kind of error: Exception from defer callback: TypeError {} It would be great to see any ideas how to make the animation work every time. UPDATE Krab got the right answer. The exception was coming from the this reference. I want to add some details. So here are two working versions on how to do the animation: with Meteor.defer() Template.myItem.rendered = function(){ var instance = this; if(Session.get(\"selected_item\") === this.data._id){ Meteor.defer(function() { $(instance.firstNode).addClass(\"selected\"); //use \"instance\" instead of \"this\" }); } }; (We don't actually need the else block here because meteor will remove the selected class if it redraws the item.) or with $().animate() Template.myItem.rendered = function(){ if(Session.get(\"selected_item\") === this.data._id){ $(this.firstNode).animate({ left: \"-20px\" }, 300); } }; If you use the jQuery approach you need to remove the CSS code. .myItem { transition: all 200ms 0ms ease-in; } .selected { left: -20px; }",
    "code": "//myItem\nTemplate.myItem.rendered = function(){\n  if(Session.get(\"selected_item\") === this.data._id){\n    $(this.firstNode).addClass(\"selected\");\n  } else {\n    $(this.firstNode).removeClass(\"selected\");\n  }\n};\n\nTemplate.myItem.events({\n  \"click .myItem\": function(evt, template){\n    Session.set(\"selected_item\", this._id);\n  }\n});\n\n\n//myItemList\nTemplate.myItemList.helpers({\n  items: function(){\n    return Items.find();\n  }\n});\n\n\n&lt;template name=\"myItem\"&gt;\n  &lt;div class=\"myItem\"&gt;{{name}}&lt;/div&gt;\n&lt;/template&gt;\n\n&lt;template name=\"myItemList\"&gt;\n  {{#each items}}\n    {{&gt; myItem}}\n  {{/each}}\n&lt;/template&gt;\n\n\n.myItem { transition: all 200ms 0ms ease-in; }\n.selected { left: -20px; }\n\n\nTemplate.myItem.rendered = function(){\n  Meteor.defer(function() {\n    if(Session.get(\"selected_item\") === this.data._id){\n      $(this.firstNode).addClass(\"selected\");\n    } else {\n      $(this.firstNode).removeClass(\"selected\");\n    }\n  });\n};\n\n\nException from defer callback: TypeError {}\n\n\nTemplate.myItem.rendered = function(){\n  var instance = this;\n  if(Session.get(\"selected_item\") === this.data._id){\n    Meteor.defer(function() {  \n      $(instance.firstNode).addClass(\"selected\"); //use \"instance\" instead of \"this\"\n    });\n  }\n};\n\n\nTemplate.myItem.rendered = function(){\n  if(Session.get(\"selected_item\") === this.data._id){\n    $(this.firstNode).animate({\n      left: \"-20px\"\n    }, 300);\n  }\n};\n\n\n.myItem { transition: all 200ms 0ms ease-in; }\n.selected { left: -20px; }\n\n\nMeteor.defer()\n\nthis\n\nMeteor.defer()\n\nselected\n\n$().animate()\n\n# Solution Code:\nTemplate.myItem.rendered = function(){\n  var self = this;\n  Meteor.defer(function() {\n    if(Session.get(\"selected_item\") === self.data._id){\n      $(self.firstNode).addClass(\"selected\");\n    } else {\n      $(self.firstNode).removeClass(\"selected\");\n    }\n  });\n};\n\n\nthis",
    "resolution": "try this, because this pointer in defer callback isn't the same as if the code is executed directly in rendered callback Template.myItem.rendered = function(){ var self = this; Meteor.defer(function() { if(Session.get(\"selected_item\") === self.data._id){ $(self.firstNode).addClass(\"selected\"); } else { $(self.firstNode).removeClass(\"selected\"); } }); };",
    "severity": "medium",
    "tags": [
      "javascript",
      "css",
      "exception",
      "animation",
      "meteor"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "17719059",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1611,
      "stackoverflow_creation_date": "2013-07-18T09:03:49.087Z"
    },
    "idempotency_key": "stackoverflow-17719059",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "D3 - How to bind the same data to multiple object?",
    "body": "I am trying to draw multiple shapes using the same data in a selection, so let's say I have: myData = [ { shape: 'rect', attr: { width: 100, height: 100, x: 100, y:100 } } , { shape: 'circle', attr: {cx, cy, etc...} } ] node.selectAll('*').data([myData]); myData.obj.forEach(function(obj) { // Append different shapes based on data var shape = node.enter().append(obj.shape); Object.keys(obj.attrs).forEach(function(attr) { // Bind attrs to shapes based on data shape.attr(attr, obj.attrs[attr]); }); }); Here node is a 'g' element, myData is a single data object. My goal is to modify the child shapes inside the g based on myData, so later if I bind another myData and call this function again, they can be updated. But I believe somehow myData is only bound to the first appended shape. Is there a way to easily bind the same data to multiple shapes?",
    "code": "myData = [\n    { \n        shape: 'rect',\n        attr: { width: 100, height: 100, x: 100, y:100 }\n    } , {\n        shape: 'circle',\n        attr: {cx, cy, etc...}\n    }\n]\n\nnode.selectAll('*').data([myData]);\n\nmyData.obj.forEach(function(obj) {\n    // Append different shapes based on data\n    var shape = node.enter().append(obj.shape);\n    Object.keys(obj.attrs).forEach(function(attr) {\n        // Bind attrs to shapes based on data\n        shape.attr(attr, obj.attrs[attr]);\n    });\n});\n\n\n# Solution Code:\n.datum()\n\nd3.selectAll('div').datum({foo: 'bar'})\n\n{foo: 'bar'}\n\n&lt;div&gt;...&lt;/div&gt;\n\nselection.datum([value])\n\nvalue\n\nvalue",
    "resolution": "Perhaps, what you want here is the .datum() function in d3. One of it's specific use-cases is to bind the same datum to multiple DOM elments (i.e. bind one datum to an entire d3 selection). For example, d3.selectAll('div').datum({foo: 'bar'}) would bind the same object {foo: 'bar'} to all of the <div>...</div> elements currently existing on the document. Quoting directly from https://github.com/mbostock/d3/wiki/Selections#datum selection.datum([value])...If value is specified, sets the element's bound data to the specified value on all selected elements. If value is a constant, all elements are given the same data [sic] (Somewhat ironically, he refers to the constant datum as \"data\" in the explanation of the .datum() function!) However, this is a literal answer to your question; there may be a more design-oriented answer to your question which might explain the \"conventional\" d3-way of handling your overall objective... In which case, you should probably consult some tutorials like http://mbostock.github.io/d3/tutorial/circle.html",
    "severity": "medium",
    "tags": [
      "data-binding",
      "d3.js"
    ],
    "metadata": {
      "stackoverflow_question_id": "17731263",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4244,
      "stackoverflow_creation_date": "2013-07-18T18:29:07.767Z"
    },
    "idempotency_key": "stackoverflow-17731263",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Override setter for `var` inherited from trait",
    "body": "How in Scala I can override setter for var defined in base trait? This code seems doesn't work for me: trait A { var value: Int = _ } class B extends A { def value_(newValue: Int) = { value = newValue //other logic } }",
    "code": "trait A {\n  var value: Int = _\n}\n\n\nclass B extends A {\n  def value_(newValue: Int) = { \n    value = newValue\n    //other logic \n  }\n}\n\n\nvar\n\n# Solution Code:\ntrait A { var value: Int }\nclass B extends A {\n  def value = 5\n  def value_=(v: Int) { println(s\"You like $v, but I like 5.\") }\n}\n\n\nvar\n\nvar\n\nvar\n\nvar\n\nvar",
    "resolution": "You can't override a var with anything other than another var. You can implement a var with a getter/setter pair, but not override one. So this works: trait A { var value: Int } class B extends A { def value = 5 def value_=(v: Int) { println(s\"You like $v, but I like 5.\") } } If you can't modify the trait, you're in a bit of a bind--it's part of the API of the trait, effectively, that you can't perform input validation on the value. (It's arguably a bug or at least inconsistent that it works this way; if you have a var it makes some sense to make sure it is just a var for optimization reasons. But then if the trait doesn't implement it itself, why should that matter?)",
    "severity": "low",
    "tags": [
      "scala"
    ],
    "metadata": {
      "language": "scala",
      "stackoverflow_question_id": "17767055",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 210,
      "stackoverflow_creation_date": "2013-07-20T21:51:12.297Z"
    },
    "idempotency_key": "stackoverflow-17767055",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Refer to Backbone view's child element",
    "body": "Having just rendered a view like so: render: function() { this.$el.html(this.template(this.model.toJSON())); return this; }, How can I refer to one of the template's child elements and apply a jQuery function to it?",
    "code": "render: function() {\n    this.$el.html(this.template(this.model.toJSON()));\n    return this;\n},\n\n\n# Solution Code:\nthis.$('.child_element_of_my_view_template')\n\n\n$\n\n$el\n\n$el\n\nrender",
    "resolution": "Backbone Views expose a dollar $ function that will use jQuery under the covers, but within the context of the view itself. this.$('.child_element_of_my_view_template') This will work even if the view is detached ($el not in DOM) but will obiouvsly only work by the time the element you want to select exists within the view (appended to $el). This means that you can safely use it after the first line of your render function.",
    "severity": "medium",
    "tags": [
      "javascript",
      "backbone.js",
      "underscore.js"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "17767595",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4334,
      "stackoverflow_creation_date": "2013-07-20T23:12:05.247Z"
    },
    "idempotency_key": "stackoverflow-17767595",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "TraceListener in OWIN Self Hosting",
    "body": "I am using Microsoft.Owin.Hosting to host the following, very simple web app. Here is the call to start it: WebApp.Start<PushServerStartup>(\"http://localhost:8080/events\"); Here is the startup class I am using: public class PushServerStartup { public void Configuration(IAppBuilder app) { app.MapHubs(); } } I am running this inside a console application that does a lot of other things including routing trace writing to certain files etc. But all of a sudden (when activating the OWIN hosting) I am seeing trace messages written to the console that are normally routed somewhere else. Obviously there are some trace listeners active in the OWIN hosting framework. How can I switch them off?",
    "code": "Microsoft.Owin.Hosting\n\n# Solution Code:\nITraceOutputFactory",
    "resolution": "I found a solution myself. After studying the Katana source code it seems like you need to register your own ITraceOutputFactory instance to overrule the default trace listener (which is writing to the console). Here is the new start call: var dummyFactory = new DummyFactory(); var provider = ServicesFactory.Create( defaultServiceProvider => defaultServiceProvider.AddInstance<ITraceOutputFactory>(dummyFactory)); using (WebApp.Start<Startup>(provider, new StartOptions(\"http://localhost:8090\"))) { Console.ReadLine(); } And here is a dummy trace factory (maybe not the best solution but you can replace it with something serving your purpose a little better): public class DummyFactory : ITraceOutputFactory { public TextWriter Create(string outputFile) { return TextWriter.Null; } }",
    "severity": "medium",
    "tags": [
      "c#",
      "owin"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "17948363",
      "stackoverflow_score": 22,
      "stackoverflow_view_count": 5855,
      "stackoverflow_creation_date": "2013-07-30T13:26:40.303Z"
    },
    "idempotency_key": "stackoverflow-17948363",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "use-cases for BigInt versus BigInteger in Clojure",
    "body": "I'm looking for guidance on when to use Clojure BigInt versus Java BigInteger in Clojure. Both work just fine, and I am assuming that the main reason to use BigInt is to take advantage of operators like + and =, which have to be accessed via the Java instance methods .add and .equals, for instance. But there are few operators, such as isProbablePrime, that I can only access from BigInteger. It seems pretty easy to shift from BigInt to BigInteger or vice versa, but the presence of both makes the use-cases unclear for me. My knee-jerk reaction is just to stick with BigInteger in the absence of clear criteria since some of the suggested usages seem not to work. From clojuredocs here: user=> (def x (bigint 97)) user=> (.isProbablePrime x 1) IllegalArgumentException No matching method found: isProbablePrime for class clojure.lang.BigInt clojure.lang.Reflector.invokeMatchingMethod (Reflector.java:53)",
    "code": "user=&gt; (def x (bigint 97))\nuser=&gt; (.isProbablePrime x 1)\nIllegalArgumentException No matching method found: isProbablePrime for class     \nclojure.lang.BigInt  clojure.lang.Reflector.invokeMatchingMethod (Reflector.java:53)\n\n\n+\n\n=\n\n.add\n\n.equals\n\nisProbablePrime\n\n# Solution Code:\nBigInt\n\nBigInteger\n\n.hashCode\n\nLong\n\nBigInt\n\n.isProbablePrime",
    "resolution": "In \"Clojure Programming\" by C. Emerick et. al., p.428, there is a sidebar topic, \"Why Does Clojure Have Its Own BigInt Class When Java Already Provides One in BigInteger?\" They note two reasons to prefer BigInt to Java's BigInteger. First, the latter's .hashCode implementation is inconsistent with that of Long (the same number expressed in each type gives a different hash value). This is generally not what you want when comparing equivalent values in e.g. hash maps. The other reason is that BigInts are optimized to use primitive types when possible, so performance should be better for many cases. I would use Clojure's numeric types unless you have a good reason not to (your use of .isProbablePrime suggests you might have a good enough reason).",
    "severity": "medium",
    "tags": [
      "clojure"
    ],
    "metadata": {
      "stackoverflow_question_id": "18021902",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 2896,
      "stackoverflow_creation_date": "2013-08-02T16:29:24.560Z"
    },
    "idempotency_key": "stackoverflow-18021902",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Scroll to specific div on page load",
    "body": "I'm trying to figure out how to get the page automatically scroll to a specific div when the page has loaded. I have tried using the jQuery scroll function, but can't get it to work correctly. Any suggestions? Following is what I have tried so far: jQuery(function() { jQuery(window).scrollTop(jQuery('.container').offset().top); });",
    "code": "jQuery(function() {\n    jQuery(window).scrollTop(jQuery('.container').offset().top);\n});\n\n\ndiv\n\n# Solution Code:\n$(document).ready(function () {\n    // Handler for .ready() called.\n    $('html, body').animate({\n        scrollTop: $('#what').offset().top\n    }, 'slow');\n});\n\n\n.animate()\n\nwhat",
    "resolution": "You can do this using the .animate() method: $(document).ready(function () { // Handler for .ready() called. $('html, body').animate({ scrollTop: $('#what').offset().top }, 'slow'); }); This will smooth scroll to the div with ID what FIDDLE",
    "severity": "high",
    "tags": [
      "jquery",
      "html",
      "scroll"
    ],
    "metadata": {
      "language": "html",
      "framework": "jquery",
      "stackoverflow_question_id": "18103534",
      "stackoverflow_score": 33,
      "stackoverflow_view_count": 134306,
      "stackoverflow_creation_date": "2013-08-07T12:34:52.787Z"
    },
    "idempotency_key": "stackoverflow-18103534",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Plus One Button not working in Android",
    "body": "I need add +1 button to my android app. I try describe my problem: I installed google-play-services through SDK Manager I copied file google-play-services.jar to libs folder which is placed in my project. I don't use Eclipse but I use Android Studio for building of my project, therefore I have to manually write my gradle file to linkig google play services library. I put dependency to my gradle file compile files('libs/google-play-services.jar') I used all relevant things for integrate +1 button according those sites: https://developers.google.com/+/mobile/android/getting-started https://developers.google.com/+/mobile/android/recommend First problem is Rendering problem and is occured in develope layout of my app. Android Studio writes me in design builder in design mode: \"Rendering Problems: following classes could not be instantiated: com.google.android.gms.plus.PlusOneButton ...\", but in text mode is no problem. Second problem is when I build my project and run him on my mobile device with Android 2.3.1. Compilation is successful but when it is running on my mobile device applicatin turns off it suddenly. I suspect that all problem is in non correct installation or make dependecy to google play services libs. I don't now how make it correctly.",
    "code": "compile files('libs/google-play-services.jar')",
    "severity": "medium",
    "tags": [
      "android",
      "google-play-services",
      "google-plus-one"
    ],
    "metadata": {
      "stackoverflow_question_id": "18160852",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1095,
      "stackoverflow_creation_date": "2013-08-10T10:07:56.153Z"
    },
    "idempotency_key": "stackoverflow-18160852",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "box-shadow on bootstrap 3 container",
    "body": "I'm building a little website using bootstrap. The base structure looks like this: <!DOCTYPE html> <html> <head> <link href=\"http://netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css\" rel=\"stylesheet\"> <style tpye=\"text/css\"> .row { height: 100px; background-color: green; } .container { margin-top: 50px; box-shadow: 0 0 10px 10px black; /*THIS does not work as expected*/ } </style> </head> <body> <div class=\"container\"> <div class=\"row\">one</div> <div class=\"row\">two</div> <div class=\"row\">three</div> </div> </body> </html> See it in action: http://jsfiddle.net/ZDCjq/ Now I want the whole site to have a dropshadow on all 4 sides. The problem is, that the bootstrap grid makes use of negative margins and this makes the rows overlap the shadow. Is there a way to accomplish this while leaving all bootstrap functionality intact? EDIT: The expected result is this: https://i.sstatic.net/JddoL.png EDIT: this problem was only present until bootstrap 3 rc2. the final bootstrap 3 makes the workaround below obsolete.",
    "code": "&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;link href=\"http://netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n    &lt;style tpye=\"text/css\"&gt;\n        .row {\n            height: 100px;\n            background-color: green;\n        }\n\n        .container {\n            margin-top: 50px;\n            box-shadow: 0 0 10px 10px black; /*THIS does not work as expected*/\n        }\n    &lt;/style&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"row\"&gt;one&lt;/div&gt;\n        &lt;div class=\"row\"&gt;two&lt;/div&gt;\n        &lt;div class=\"row\"&gt;three&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n\n# Solution Code:\n     @import url(\"http://netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css\");\n\n.row {\n    height: 100px;\n    background-color: green;\n}\n.container {\n    margin-top: 50px;\n    box-shadow: 0 0 30px black;\n    padding:0 15px 0 15px;\n}\n\n\n\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"row\"&gt;one&lt;/div&gt;\n        &lt;div class=\"row\"&gt;two&lt;/div&gt;\n        &lt;div class=\"row\"&gt;three&lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n",
    "resolution": "http://jsfiddle.net/Y93TX/2/ @import url(\"http://netdna.bootstrapcdn.com/bootstrap/3.0.0-wip/css/bootstrap.min.css\"); .row { height: 100px; background-color: green; } .container { margin-top: 50px; box-shadow: 0 0 30px black; padding:0 15px 0 15px; } <div class=\"container\"> <div class=\"row\">one</div> <div class=\"row\">two</div> <div class=\"row\">three</div> </div> </body>",
    "severity": "high",
    "tags": [
      "html",
      "css",
      "twitter-bootstrap",
      "grid",
      "shadow"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "18262972",
      "stackoverflow_score": 25,
      "stackoverflow_view_count": 152418,
      "stackoverflow_creation_date": "2013-08-15T22:30:40.643Z"
    },
    "idempotency_key": "stackoverflow-18262972",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Formatting Floating point number in java upto 3 precison of decimal",
    "body": "I have a variable type float.I wanted to print it upto 3 precision of decimal including trailing zeros. Example : 2.5 >> 2.500 1.2 >> 1.200 1.3782 >> 1.378 2 >> 2.000 I am trying it by using DecimalFormat _numberFormat= new DecimalFormat(\"#0.000\"); Float.parseFloat(_numberFormat.format(2.5)) But it is not converting 2.5 >> 2.500. Am I doing something wrong.. Please help..",
    "code": "DecimalFormat _numberFormat= new DecimalFormat(\"#0.000\");\nFloat.parseFloat(_numberFormat.format(2.5))\n\n\n# Solution Code:\nDecimalFormat _numberFormat= new DecimalFormat(\"#0.000\");\n_numberFormat.format(2.5)\n\n\nFloat.parseFloat\n\n_numberFormat.format(2.5)\n\n2.500\n\nFloat.parseFloat",
    "resolution": "Here is mistake Float.parseFloat this is converting back to 2.5 Output of _numberFormat.format(2.5) is 2.500 But this Float.parseFloat makes it back to 2.5 So your code must be DecimalFormat _numberFormat= new DecimalFormat(\"#0.000\"); _numberFormat.format(2.5)",
    "severity": "high",
    "tags": [
      "java",
      "floating-point-precision"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "18525410",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 12836,
      "stackoverflow_creation_date": "2013-08-30T05:12:49.333Z"
    },
    "idempotency_key": "stackoverflow-18525410",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to vertically align both image and text side by side in a div",
    "body": "I have seen the answer the answer to ''Vertical Align in a Div \" and followed the Adam's answer. My problem is to how to have both image and text side by side and the text being at the middle of the image. My JSFiddle My tried code CSS .outerContainer { display: table; width: 100%; /* width of parent */ height:200px; overflow: hidden; border:1px solid green; } .outerContainer .innerContainer { display: table-cell; vertical-align: middle; width: 100%; margin: 0 auto; } HTML <div class=\"outerContainer\"> <div class=\"innerContainer\"> <div > <img src='http://icons.iconarchive.com/icons/danleech/simple/512/facebook-icon.png' height=50px width=50px> <p style='display:inline-block;font-size:10px;'>Some Text</p> </div> </div> </div> My problem is to get that 'Some Text' side and at the middle of the image **NOTE:**I know I shouldn't use inline-block here. But I don't know how to get it.",
    "code": ".outerContainer {\n    display: table;\n    width: 100%; /* width of parent */\n    height:200px;\n    overflow: hidden;\n    border:1px solid green;\n}\n.outerContainer .innerContainer {\n    display: table-cell;\n    vertical-align: middle;\n    width: 100%;\n    margin: 0 auto;\n}\n\n\n&lt;div class=\"outerContainer\"&gt;\n          &lt;div class=\"innerContainer\"&gt;\n            &lt;div &gt;\n             &lt;img src='http://icons.iconarchive.com/icons/danleech/simple/512/facebook-icon.png' height=50px width=50px&gt;\n                &lt;p style='display:inline-block;font-size:10px;'&gt;Some Text&lt;/p&gt;\n\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n\n\n# Solution Code:\n&lt;img src='http://icons.iconarchive.com/icons/danleech/simple/512/facebook-icon.png' height=\"50\" width=\"50\" style=\"vertical-align:middle;\"&gt;\n",
    "resolution": "The img is supposed to have the vertical align property. <img src='http://icons.iconarchive.com/icons/danleech/simple/512/facebook-icon.png' height=\"50\" width=\"50\" style=\"vertical-align:middle;\">",
    "severity": "high",
    "tags": [
      "html",
      "css"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "18612052",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 15350,
      "stackoverflow_creation_date": "2013-09-04T11:02:38.577Z"
    },
    "idempotency_key": "stackoverflow-18612052",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Socket.IO and IE8 - jsonp-polling connections always failing",
    "body": "Worth noting: the following is being done cross domain via https. I honestly do not think this is the issue as everything works just fine in IE10, Chrome, and FF. My guess is that it may be an XDomainRequest object variance in IE8? Not sure though. The sendLoginRequest method below is the method called first. All the other supporting code is provided below as well. This is all very simple, but not sure why IE8 fails as it does. function WrappedSocket(data, session_string) { var clientSocket = io.connect('https://xxxxxxxx/socketio', { query: \"session=\" + encodeURIComponent(session_string), transports: ['jsonp-polling'] }); clientSocket.socket.on(\"connect\", function () { console.log(\"CONNECT_SUCCEED\"); }); clientSocket.socket.on(\"connect_failed\", function () { console.log(\"CONNECT_FAILED\"); }); clientSocket.socket.on(\"reconnect_failed\", function () { console.log(\"RECONNECT_FAILED\"); }); clientSocket.socket.on(\"error\", function (eobj) { console.log(\"Socket error \" + eobj); }); console.log(\"Made a socket that is talking\"); } var my_socket; function set_up_socket(data, sessionString) { setSession(data.responseText); my_socket = new WrappedSocket(data, sessionString); my_socket.socket.emit(\"message\", \"Howdy!\"); } function sendLoginRequest(loginCode, nextRequest) { var xhr = createCORSRequest('POST', 'https://xxxxx/login', false); var sessionString = 'xxxx'; if (\"withCredentials\" in xhr) { xhr.addEventListener(\"load\", function () { set_up_socket(this, sessionString); }, false); } else { xhr.onload = function () { set_up_socket(this, sessionString); }; } xhr.send(); } function createCORSRequest(method, url, onload) { xhrObj = new XMLHttpRequest(); if (\"withCredentials\" in xhrObj) { // Check if the XMLHttpRequest object has a \"withCredentials\" property. // \"withCredentials\" only exists on XMLHTTPRequest2 objects. if (onload) { xhrObj.addEventListener(\"load\", onload, false); } xhrObj.open(method, url, true); xhrObj.withCredentials = true; } else if (typeof XDomainRequest != \"undefined\") { // Otherwise, check if XDomainRequest. // XDomainRequest only exists in IE, and is IE's way of making CORS requests. xhrObj = new XDomainRequest(); xhrObj.open(method, url); if (onload) { xhrObj.onload = onload; } } else { // Otherwise, CORS is not supported by the browser. xhrObj = null; } return xhrObj; } Errors I am seeing in both console and Fiddler Polling is in fact occurring, but the same failures keep occur on each poll: LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object LOG:CONNECT_FAILED 'f.parentNode' is null or not an object 'f.parentNode' is null or not an object ............ (you get the idea, this happens over and over as it polls.) Again, you can see each request firing through one after another, all 200 responses from the server but all results in CONNECT_FAILED and JS errors from the socket.io.js file. Lastly, here is the code from the socket.io.js file on the client that is breaking with the errors seen above in the console screen shot (\"f.parentNode is null or not an object\"). I understand the object is null, what I don't get is WHY it is null. ........ if (this.isXDomain() && !io.util.ua.hasCORS) { var insertAt = document.getElementsByTagName('script')[0] , script = document.createElement('script'); script.src = url + '&jsonp=' + io.j.length; insertAt.parentNode.insertBefore(script, insertAt); io.j.push(function (data) { complete(data); script.parentNode.removeChild(script); // *** BREAKS HERE!! *** }); .........",
    "code": "function WrappedSocket(data, session_string) {\n    var clientSocket = io.connect('https://xxxxxxxx/socketio', { query: \"session=\" +       encodeURIComponent(session_string), transports: ['jsonp-polling'] });\n    clientSocket.socket.on(\"connect\", function () { console.log(\"CONNECT_SUCCEED\"); });\n    clientSocket.socket.on(\"connect_failed\", function () { console.log(\"CONNECT_FAILED\");    });\n    clientSocket.socket.on(\"reconnect_failed\", function () {    console.log(\"RECONNECT_FAILED\"); });\n    clientSocket.socket.on(\"error\", function (eobj) { console.log(\"Socket error \" + eobj);    });\n    console.log(\"Made a socket that is talking\");\n}\n\nvar my_socket;\n\n\nfunction set_up_socket(data, sessionString) {\n    setSession(data.responseText);\n    my_socket = new WrappedSocket(data, sessionString);\n    my_socket.socket.emit(\"message\", \"Howdy!\");\n}\n\nfunction sendLoginRequest(loginCode, nextRequest) {\n    var xhr = createCORSRequest('POST', 'https://xxxxx/login', false);\n    var sessionString = 'xxxx';\n\n    if (\"withCredentials\" in xhr) {\n        xhr.addEventListener(\"load\", function () {\n            set_up_socket(this, sessionString);\n        }, false);\n    }\n    else {\n        xhr.onload = function () {\n            set_up_socket(this, sessionString);\n        };\n    }\n\n    xhr.send();\n    }\n\nfunction createCORSRequest(method, url, onload) {\n    xhrObj = new XMLHttpRequest();\n    if (\"withCredentials\" in xhrObj) {\n        // Check if the XMLHttpRequest object has a \"withCredentials\" property.\n        // \"withCredentials\" only exists on XMLHTTPRequest2 objects. \n        if (onload) {\n            xhrObj.addEventListener(\"load\", onload, false);\n        }\n        xhrObj.open(method, url, true);\n        xhrObj.withCredentials = true;\n    } else if (typeof XDomainRequest != \"undefined\") {\n        // Otherwise, check if XDomainRequest.\n        // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n\n        xhrObj = new XDomainRequest();\n        xhrObj.open(method, url);\n        if (onload) {\n            xhrObj.onload = onload;\n        }\n    } else {\n        // Otherwise, CORS is not supported by the browser.\n        xhrObj = null;\n    }\n    return xhrObj;\n    }\n\n\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\nLOG:CONNECT_FAILED\n'f.parentNode' is null or not an object\n'f.parentNode' is null or not an object\n\n\n........\n\nif (this.isXDomain() &amp;&amp; !io.util.ua.hasCORS) {\n  var insertAt = document.getElementsByTagName('script')[0]\n    , script = document.createElement('script');\n\n  script.src = url + '&amp;jsonp=' + io.j.length;\n  insertAt.parentNode.insertBefore(script, insertAt);\n\n  io.j.push(function (data) {\n      complete(data);\n      script.parentNode.removeChild(script);  // *** BREAKS HERE!! ***\n  });\n\n.........\n\n\nsendLoginRequest\n\n# Solution Code:\nxhr.onload=function () {\n        set_up_socket(this, sessionString);\n    };\n\n\nif(typeof xhr.addEventListener === undefined)\n{\n    xhr.onload=function () {\n        set_up_socket(this, sessionString);\n    };\n}\n\n\n.addEventListener()\n\nXMLHttpRequest()\n\nXDomainRequest()",
    "resolution": "As per this answer, I don't believe IE8 supports the .addEventListener() method for the XMLHttpRequest() object or the XDomainRequest() (or most others, it appears to have been added later). Try rewriting that portion of your code to: xhr.onload=function () { set_up_socket(this, sessionString); }; If you want to keep the same syntax for other modern browsers, you could back fill by wrapping it in a conditional: if(typeof xhr.addEventListener === undefined) { xhr.onload=function () { set_up_socket(this, sessionString); }; } Don't know if it will solve the problem, but may help. MDN says \"More recent browsers, including Firefox, also support listening to the XMLHttpRequest events via standard addEventListener APIs in addition to setting on* properties to a handler function.\". Again, I'm not sure because they don't say which browsers, and when, but best I can tell IE8 does not support it.",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "sockets",
      "internet-explorer-8",
      "socket.io"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "18637953",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1459,
      "stackoverflow_creation_date": "2013-09-05T13:40:00.850Z"
    },
    "idempotency_key": "stackoverflow-18637953",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Date Converter using WPF",
    "body": "public class DateTimeConverter : IValueConverter { #region IValueConverter Members public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture) { if (values != null) { DateTime test = (DateTime) value ; string date = test.ToString(\"d/M/yyyy\"); return (date); } return string.Empty; } public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture) { throw new NotImplementedException(); } #endregion } I made this converter to get the current time once the date is selected from the DatePicker. In string Date I get the value that was selected from the DatePicker, but I can't seem to only get the date. The format that is coming into the Value property is 9/24/2013 12:00:00, but I would like it to be 9/24/2013. I have already asked a similar question at datetime converter WPF, but none of the provided answers worked. I get the same error: Specified cast is not valid.",
    "code": "public class DateTimeConverter : IValueConverter\n{\n    #region IValueConverter Members\n\n    public object Convert(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n    {\n        if (values != null)\n        {\n            DateTime test = (DateTime) value ;\n            string date = test.ToString(\"d/M/yyyy\");\n            return (date);\n        }\n        return string.Empty;\n    }\n\n    public object ConvertBack(object value, Type targetType, object parameter, System.Globalization.CultureInfo culture)\n    {\n        throw new NotImplementedException();\n    }\n\n    #endregion\n}\n\n\n# Solution Code:\n&lt;TextBlock Text=\"{Binding Date, StringFormat={}{0:MM/dd/yyyy}}\" /&gt;\n\n\n&lt;DataGrid AutoGenerateColumns=\"False\" ItemsSource=\"{Binding TestList}\"&gt;\n            &lt;DataGrid.Columns&gt;\n            &lt;DataGridTemplateColumn Header=\"Start\"&gt;\n            &lt;DataGridTemplateColumn.CellTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;TextBlock Text=\"{Binding Start, StringFormat=d}\" FontFamily=\"Verdana\" /&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellTemplate&gt;\n            &lt;DataGridTemplateColumn.CellEditingTemplate&gt;\n                &lt;DataTemplate&gt;\n                    &lt;DatePicker SelectedDate=\"{Binding Start}\" FontFamily=\"Verdana\"  &gt;\n                        &lt;DatePicker.CalendarStyle&gt;\n                            &lt;Style TargetType=\"Calendar\"&gt;\n                                &lt;Setter Property=\"DisplayMode\" Value=\"Month\"/&gt;\n                            &lt;/Style&gt;\n                        &lt;/DatePicker.CalendarStyle&gt;\n                    &lt;/DatePicker&gt;\n                &lt;/DataTemplate&gt;\n            &lt;/DataGridTemplateColumn.CellEditingTemplate&gt;\n        &lt;/DataGridTemplateColumn&gt;\n            &lt;/DataGrid.Columns&gt;\n        &lt;/DataGrid&gt;\n\n\n    public class TestData\n    {\n        DateTime start;\n        public DateTime Start\n        {\n            get { return start; }\n            set { start = value; }\n        }\n\n    }\n\n\npublic List&lt;TestData&gt; TestList { get; set; }\n\n\nStringFormat",
    "resolution": "You dont need a converter for doing this. You can use the StringFormat in binding itself to format your selected datetime to show just date in mm/dd/yyyy format. <TextBlock Text=\"{Binding Date, StringFormat={}{0:MM/dd/yyyy}}\" /> I tested with this code and it is working fine. XAML: <DataGrid AutoGenerateColumns=\"False\" ItemsSource=\"{Binding TestList}\"> <DataGrid.Columns> <DataGridTemplateColumn Header=\"Start\"> <DataGridTemplateColumn.CellTemplate> <DataTemplate> <TextBlock Text=\"{Binding Start, StringFormat=d}\" FontFamily=\"Verdana\" /> </DataTemplate> </DataGridTemplateColumn.CellTemplate> <DataGridTemplateColumn.CellEditingTemplate> <DataTemplate> <DatePicker SelectedDate=\"{Binding Start}\" FontFamily=\"Verdana\" > <DatePicker.CalendarStyle> <Style TargetType=\"Calendar\"> <Setter Property=\"DisplayMode\" Value=\"Month\"/> </Style> </DatePicker.CalendarStyle> </DatePicker> </DataTemplate> </DataGridTemplateColumn.CellEditingTemplate> </DataGridTemplateColumn> </DataGrid.Columns> </DataGrid> Model: public class TestData { DateTime start; public DateTime Start { get { return start; } set { start = value; } } } ViewModel has list of TestData to be bound to DataGrid: public List<TestData> TestList { get; set; }",
    "severity": "high",
    "tags": [
      "c#",
      "wpf",
      "wpf-controls",
      "wpfdatagrid"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "18662870",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 17276,
      "stackoverflow_creation_date": "2013-09-06T16:58:36.177Z"
    },
    "idempotency_key": "stackoverflow-18662870",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Solve error javax.mail.AuthenticationFailedException",
    "body": "I'm not familiar with this function to send mail in java. I'm getting an error while sending email to reset a password. Hope you can give me a solution. Below is my code: public synchronized static boolean sendMailAdvance(String emailTo, String subject, String body) { String host = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-ADDRESS\"); String userName = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-USERNAME\"); String password = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-PASSWORD\"); String port = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-PORT\"); String starttls = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-STARTTLS\"); String socketFactoryClass = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-SOCKET-CLASS\"); String fallback = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-ALLOW-FALLBACK\"); try { java.util.Properties props = null; props = System.getProperties(); props.put(\"mail.smtp.user\", userName); props.put(\"mail.smtp.host\", host); props.put(\"mail.smtp.auth\", \"true\"); props.put(\"mail.smtp.debug\", \"true\"); if(!\"\".equals(port)) { props.put(\"mail.smtp.port\", port); props.put(\"mail.smtp.socketFactory.port\", port); } if(!\"\".equals(starttls)) props.put(\"mail.smtp.starttls.enable\",starttls); if(!\"\".equals(socketFactoryClass)) props.put(\"mail.smtp.socketFactory.class\",socketFactoryClass); if(!\"\".equals(fallback)) props.put(\"mail.smtp.socketFactory.fallback\", fallback); Session session = Session.getDefaultInstance(props, null); session.setDebug(true); MimeMessage msg = new MimeMessage(session); msg.setFrom(new InternetAddress(userName)); msg.setSubject(subject); msg.setText(body, \"ISO-8859-1\"); msg.setSentDate(new Date()); msg.setHeader(\"content-Type\", \"text/html;charset=\\\"ISO-8859-1\\\"\"); msg.addRecipient(Message.RecipientType.TO, new InternetAddress(emailTo)); msg.saveChanges(); Transport transport = session.getTransport(\"smtp\"); transport.connect(host, userName, password); transport.sendMessage(msg, msg.getAllRecipients()); transport.close(); return true; } catch (Exception mex) { mex.printStackTrace(); return false; } } Throws the following error: DEBUG: setDebug: JavaMail version 1.4.1ea-SNAPSHOT DEBUG: getProvider() returning javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc] DEBUG SMTP: useEhlo true, useAuth true DEBUG SMTP: trying to connect to host \"smtp.gmail.com\", port 465, isSSL false 220 mx.google.com ESMTP m4sm5929870pbg.38 - gsmtp DEBUG SMTP: connected to host \"smtp.gmail.com\", port: 465 EHLO fatin 250-mx.google.com at your service, [175.139.198.14] 250-SIZE 35882577 250-8BITMIME 250-AUTH LOGIN PLAIN XOAUTH XOAUTH2 PLAIN-CLIENTTOKEN 250-ENHANCEDSTATUSCODES 250 CHUNKING DEBUG SMTP: Found extension \"SIZE\", arg \"35882577\" DEBUG SMTP: Found extension \"8BITMIME\", arg \"\" DEBUG SMTP: Found extension \"AUTH\", arg \"LOGIN PLAIN XOAUTH XOAUTH2 PLAIN-CLIENTTOKEN\" DEBUG SMTP: Found extension \"ENHANCEDSTATUSCODES\", arg \"\" DEBUG SMTP: Found extension \"CHUNKING\", arg \"\" DEBUG SMTP: Attempt to authenticate AUTH LOGIN 334 VXNlcm5hbWU6 YWNjb3VudEBibG9vbWluZy5jb20ubXk= 334 UGFzc3dvcmQ6 Ymxvb21pbmc= 535-5.7.8 Username and Password not accepted. Learn more at 535 5.7.8 http://support.google.com/mail/bin/answer.py?answer=14257 m4sm5929870pbg.38 - gsmtp [STDOUT] javax.mail.AuthenticationFailedException [STDOUT] at javax.mail.Service.connect(Service.java:319) [STDOUT] at javax.mail.Service.connect(Service.java:169) [STDOUT] at com.vlee.util.mail.SendMail.sendMailAdvance(SendMail.java:283) [STDOUT] at com.vlee.servlet.ecommerce.DoMemberLogin.fnSendPwd(DoMemberLogin.java:251) [STDOUT] at com.vlee.servlet.ecommerce.DoMemberLogin.doPost(DoMemberLogin.java:72)",
    "code": "public synchronized static boolean sendMailAdvance(String emailTo, String subject, String body)\n{\n    String host = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-ADDRESS\");\n    String userName = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-USERNAME\");\n    String password = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-PASSWORD\");\n    String port = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-PORT\");\n    String starttls = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-STARTTLS\");\n    String socketFactoryClass = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-SOCKET-CLASS\");\n    String fallback = AppConfigManager.getProperty(\"SENDER-EMAIL-SMTP-ALLOW-FALLBACK\");                         \n\n    try\n    {\n        java.util.Properties props = null;\n        props = System.getProperties();\n        props.put(\"mail.smtp.user\", userName);\n        props.put(\"mail.smtp.host\", host);\n        props.put(\"mail.smtp.auth\", \"true\");\n        props.put(\"mail.smtp.debug\", \"true\");\n\n        if(!\"\".equals(port))\n        {\n            props.put(\"mail.smtp.port\", port);\n            props.put(\"mail.smtp.socketFactory.port\", port);\n        }\n\n        if(!\"\".equals(starttls))\n            props.put(\"mail.smtp.starttls.enable\",starttls);\n\n        if(!\"\".equals(socketFactoryClass))                   \n            props.put(\"mail.smtp.socketFactory.class\",socketFactoryClass);\n\n        if(!\"\".equals(fallback))\n            props.put(\"mail.smtp.socketFactory.fallback\", fallback);\n\n        Session session = Session.getDefaultInstance(props, null);\n        session.setDebug(true);\n\n        MimeMessage msg = new MimeMessage(session);\n        msg.setFrom(new InternetAddress(userName));\n        msg.setSubject(subject);                \n        msg.setText(body, \"ISO-8859-1\");\n        msg.setSentDate(new Date());\n        msg.setHeader(\"content-Type\", \"text/html;charset=\\\"ISO-8859-1\\\"\");\n        msg.addRecipient(Message.RecipientType.TO, new InternetAddress(emailTo));\n        msg.saveChanges();\n\n        Transport transport = session.getTransport(\"smtp\");\n        transport.connect(host, userName, password);\n        transport.sendMessage(msg, msg.getAllRecipients());\n        transport.close();\n            return true;\n    }\n    catch (Exception mex)\n    {\n        mex.printStackTrace();\n        return false;\n    }\n}\n\n\nDEBUG: getProvider() returning   javax.mail.Provider[TRANSPORT,smtp,com.sun.mail.smtp.SMTPTransport,Sun Microsystems, Inc]\n\n\n# Solution Code:\nSession session = Session.getInstance(props, new javax.mail.Authenticator() {\n    protected PasswordAuthentication getPasswordAuthentication() {\n        return new PasswordAuthentication(userName, password);\n    }\n});\n\n\n587",
    "resolution": "You should change the port to 587, I tested your code and it's working fine If error still happens, please change session variable to code below: Session session = Session.getInstance(props, new javax.mail.Authenticator() { protected PasswordAuthentication getPasswordAuthentication() { return new PasswordAuthentication(userName, password); } });",
    "severity": "high",
    "tags": [
      "java",
      "jakarta-mail"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "18778240",
      "stackoverflow_score": 44,
      "stackoverflow_view_count": 236646,
      "stackoverflow_creation_date": "2013-09-13T04:17:49.660Z"
    },
    "idempotency_key": "stackoverflow-18778240",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What's the purpose of HTTP PUT?",
    "body": "Why do we have method 'PUT' in AJAX and where is it most used? Example: $.ajax({ url: 'script.php', type: 'PUT', success: function(response) { //... } }); Why didn't the author simply use GET/POST instead?",
    "code": "$.ajax({\n    url: 'script.php',\n    type: 'PUT',\n    success: function(response) {\n        //...\n    }\n});\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "html",
      "ajax"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "18811843",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 2240,
      "stackoverflow_creation_date": "2013-09-15T11:27:57.567Z"
    },
    "idempotency_key": "stackoverflow-18811843",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to fill missing dates by groups in a table in sql",
    "body": "I want to know how to use loops to fill in missing dates with value zero based on the start/end dates by groups in sql so that i have consecutive time series in each group. I have two questions. how to loop for each group? How to use start/end dates for each group to dynamically fill in missing dates? My input and expected output are listed as below. Input: I have a table A like date value grp_no 8/06/12 1 1 8/08/12 1 1 8/09/12 0 1 8/07/12 2 2 8/08/12 1 2 8/12/12 3 2 Also I have a table B which can be used to left join with A to fill in missing dates. date ... 8/05/12 8/06/12 8/07/12 8/08/12 8/09/12 8/10/12 8/11/12 8/12/12 8/13/12 ... How can I use A and B to generate the following output in sql? Output: date value grp_no 8/06/12 1 1 8/07/12 0 1 8/08/12 1 1 8/09/12 0 1 8/07/12 2 2 8/08/12 1 2 8/09/12 0 2 8/10/12 0 2 8/11/12 0 2 8/12/12 3 2 Please send me your code and suggestion. Thank you so much in advance!!!",
    "code": "date     value      grp_no\n8/06/12    1         1\n8/08/12    1         1\n8/09/12    0         1\n8/07/12    2         2\n8/08/12    1         2\n8/12/12    3         2\n\n\ndate\n...\n8/05/12\n8/06/12\n8/07/12\n8/08/12\n8/09/12\n8/10/12\n8/11/12\n8/12/12\n8/13/12\n...\n\n\ndate     value      grp_no\n8/06/12    1         1  \n8/07/12    0         1\n8/08/12    1         1\n8/09/12    0         1\n8/07/12    2         2\n8/08/12    1         2\n8/09/12    0         2\n8/10/12    0         2\n8/11/12    0         2\n8/12/12    3         2\n\n\n# Solution Code:\nSELECT p.date, COALESCE(a.value, 0) value, p.grp_no\n  FROM\n(\n  SELECT grp_no, date\n    FROM\n  (\n    SELECT grp_no, MIN(date) min_date, MAX(date) max_date\n      FROM tableA\n     GROUP BY grp_no\n  ) q CROSS JOIN tableb b \n   WHERE b.date BETWEEN q.min_date AND q.max_date\n) p LEFT JOIN TableA a\n    ON p.grp_no = a.grp_no \n   AND p.date = a.date\n\n\nTableB\n\nTableA\n\nvalue\n\n0\n\nTableA",
    "resolution": "You can do it like this without loops SELECT p.date, COALESCE(a.value, 0) value, p.grp_no FROM ( SELECT grp_no, date FROM ( SELECT grp_no, MIN(date) min_date, MAX(date) max_date FROM tableA GROUP BY grp_no ) q CROSS JOIN tableb b WHERE b.date BETWEEN q.min_date AND q.max_date ) p LEFT JOIN TableA a ON p.grp_no = a.grp_no AND p.date = a.date The innermost subquery grabs min and max dates per group. Then cross join with TableB produces all possible dates within the min-max range per group. And finally outer select uses outer join with TableA and fills value column with 0 for dates that are missing in TableA. Output: | DATE | VALUE | GRP_NO | |------------|-------|--------| | 2012-08-06 | 1 | 1 | | 2012-08-07 | 0 | 1 | | 2012-08-08 | 1 | 1 | | 2012-08-09 | 0 | 1 | | 2012-08-07 | 2 | 2 | | 2012-08-08 | 1 | 2 | | 2012-08-09 | 0 | 2 | | 2012-08-10 | 0 | 2 | | 2012-08-11 | 0 | 2 | | 2012-08-12 | 3 | 2 | Here is SQLFiddle demo",
    "severity": "high",
    "tags": [
      "sql",
      "date",
      "loops"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "19075098",
      "stackoverflow_score": 31,
      "stackoverflow_view_count": 52307,
      "stackoverflow_creation_date": "2013-09-29T06:20:44.443Z"
    },
    "idempotency_key": "stackoverflow-19075098",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "YouTube API v3 with OAuth2: update and delete fail with \"Insufficient Permission\" error",
    "body": "I am trying to update and delete videos using the YouTube API v3 with OAuth2 for authentication via the google-api-client (0.6.4) Ruby gem. However, when I attempt to execute either of these two actions, I see the following error message: Google::APIClient::ClientError: Insufficient Permission Here's the odd thing: Using the exact same authentication procedure as with update and delete, I can insert (upload) successfully, no problem! So, I do not believe this is a problem with my authentication setup, but somewhere else in my code. My read-write scope is always the same across any of these actions: https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload And according to the API documentation, that space-delimited set of scopes should cover insert, update and delete actions. My client_id, client_secret, refresh_token are always the same for all these actions too -- so, that can't be the problem either, can it? Note that my program automatically obtains a new access_token when it expires, so, again, I do not believe that is where the problem lies. To compare, here is what my insert (upload) code looks like (this works): # Auth stuff, then... @client.execute!( :api_method => @youtube.videos.insert, :body_object => body, :media => Google::APIClient::UploadIO.new(file_path, 'video/*'), :parameters => { 'uploadType' => 'multipart', :part => body.keys.join(','), } ) And here is what my delete code looks like (this fails): # Auth stuff, then... @client.execute!( :api_method => @youtube.videos.delete, :parameters => { 'id' => youtube_id, } ) What am I missing? Unfortunately, the YouTube API documentation for delete does not provide any examples, so I've got nothing to compare against. Please let me know if there is further information that I can provide to make my question clearer.",
    "code": "Google::APIClient::ClientError: Insufficient Permission\n\n\nhttps://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload\n\n\n# Auth stuff, then...\n@client.execute!(\n  :api_method =&gt; @youtube.videos.insert,\n  :body_object =&gt; body,\n  :media =&gt; Google::APIClient::UploadIO.new(file_path, 'video/*'),\n  :parameters =&gt; {\n    'uploadType' =&gt; 'multipart',\n    :part =&gt; body.keys.join(','),\n  }\n)\n\n\n# Auth stuff, then...\n@client.execute!(\n  :api_method =&gt; @youtube.videos.delete,\n  :parameters =&gt; {\n    'id' =&gt; youtube_id,\n  }\n)\n\n\nupdate\n\ndelete\n\ngoogle-api-client (0.6.4)\n\nupdate\n\ndelete\n\ninsert\n\nscope\n\ninsert\n\nupdate\n\ndelete\n\nclient_id\n\nclient_secret\n\nrefresh_token\n\naccess_token\n\ninsert\n\ndelete\n\n# Solution Code:\nhttps://accounts.google.com/o/oauth2/auth\n  ?client_id={client_id}\n  &amp;redirect_uri={redirect_uri}\n  &amp;scope={space separated scopes}\n  &amp;response_type=code\n  &amp;access_type=offline\n\n\nhttps://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload\n\n\nhttps://accounts.google.com/o/oauth2/token\n  ?code={authorization_code}\n  &amp;client_id={client_id}\n  &amp;client_secret={client_secret}\n  &amp;redirect_uri={redirect_uri}\n  &amp;grant_type=authorization_code\n\n\n$ curl https://accounts.google.com/o/oauth2/token -d \"code=...\"\n\n\nrefresh_token\n\nClient ID\n\nClient secret\n\nRedirect URI\n\nlocalhost\n\nclient_id\n\nredirect_uri\n\nscope\n\nscope\n\nhttps://www.googleapis.com/auth/youtube.upload\n\nrefresh_token\n\nrefresh_token",
    "resolution": "I'm fairly sure all 11 views of this question (as of this writing) are me, but I'm going to post an answer just in case it helps someone in the future: There was no problem with my code itself. The problem was when I initially created my refresh_token for this account. For the uninitiated, the YouTube Data API (v3) does not support \"service accounts,\" which, elsewhere in the Google API ecosystem, are the way you would normally accomplish setting up an OAuth2 auth'd client when the only client is yourself. The workaround is something you have to do by hand. Take the steps below: First, go to the Google \"API Console.\" There, under \"API Access,\" you need to \"Create a client ID\" for an \"installed application.\" This will give you a Client ID, a Client secret and a Redirect URI (you'll want the non-localhost one). Write these down. Next, you need to manually obtain an authorization code by visiting a URL like the following in your favorite web browser, while logged in to the same account you just created the client ID for: https://accounts.google.com/o/oauth2/auth ?client_id={client_id} &redirect_uri={redirect_uri} &scope={space separated scopes} &response_type=code &access_type=offline Of course, you need to enter the client_id, redirect_uri and scope query parameters. In my case, this is where I went wrong. When I did this manual step, I should have put the scope param as: https://www.googleapis.com/auth/youtube https://www.googleapis.com/auth/youtube.upload But instead I just did https://www.googleapis.com/auth/youtube.upload, which is insufficient to update/delete videos! Last, you need to obtain a refresh_token, by taking a URL like this: https://accounts.google.com/o/oauth2/token ?code={authorization_code} &client_id={client_id} &client_secret={client_secret} &redirect_uri={redirect_uri} &grant_type=authorization_code And curl'ing it with a command like: $ curl https://accounts.google.com/o/oauth2/token -d \"code=...\" This will return a JSON response that contains your refresh_token, which you then use when authorizing your request programmatically through the Google API.",
    "severity": "medium",
    "tags": [
      "ruby",
      "api",
      "youtube",
      "youtube-api",
      "google-api-ruby-client"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "19126857",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 4529,
      "stackoverflow_creation_date": "2013-10-01T22:10:53.920Z"
    },
    "idempotency_key": "stackoverflow-19126857",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "List of characters which needs to be escaped in a linux shell command",
    "body": "In Linux and other OS, file can contain characters like (,),[,],<space>, etc. in their names. Whenever I try to use any of these files in my bash command like cat, ls, etc. I am required to escape them like below : filename abc(10-oct).txt cat abc(10-oct).txt wont work. If I precede \"(\" and \")\" characters with \"\\\" character like cat abc\\(10-oct\\).txt This works I am trying to automate some of Linux shell commands via Java program.And I am not sure of what all characters I must take care of and escape them. If someone may point to a resource where I can get an entire list of characters, it would be a great help. Many Thanks",
    "code": "filename abc(10-oct).txt\ncat abc(10-oct).txt wont work.\n\n\ncat abc\\(10-oct\\).txt\n\n\n(,),[,],&lt;space&gt;,\n\n\"(\"\n\n\")\"\n\n\"\\\"\n\n# Solution Code:\n'filename'",
    "resolution": "You can use Single Quote 'filename' which will escape everything needs to be escaped in shell mode",
    "severity": "high",
    "tags": [
      "java",
      "regex",
      "bash"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "19177076",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 11746,
      "stackoverflow_creation_date": "2013-10-04T08:53:18.373Z"
    },
    "idempotency_key": "stackoverflow-19177076",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cross-browser HTML5 Drag and Drop JSON DataTransfer fails",
    "body": "I came to notice that for some reason it is not possible to transfer data from chrome to firefox or viceversa through a draggable object when the mime is set to application/json. See demo here: http://jsfiddle.net/n7N9p/4/ (Open that link in both, chrome and firefox and try dragging the JSON draggable from one browser to the other). With that I have tested dragging the draggable in different scenarios: From CHROME to CHROME via text works. From CHROME to CHROME via application/json works. From CHROME to CHROME INCOGNITO via text works. From CHROME to CHROME INCOGNITO via application/json works. From FIREFOX to FIREFOX via text works. From FIREFOX to FIREFOX via application/json works. From FIREFOX to FIREFOX PRIVATE WINDOW via text works. From FIREFOX to FIREFOX PRIVATE WINDOW via application/json works. From CHROME to FIREFOX via text works. From CHROME to FIREFOX via application/json does not work. From FIREFOX to CHROME via text works. From FIREFOX to CHROME via application/json does not work. Why does (only) 10 and 12 fail? Is this a bug or security feature? If it is a security feature, then why is it insecure? How come 3, 4, 7 and 8 are not considered insecure? Why does it always work with the mime set to text?",
    "code": "application/json\n\ntext\n\n# Solution Code:\napplication/json\n\nsetData\n\ndataTransfer",
    "resolution": "Why does (only) 10 and 12 fail? application/json can be serialized to text if the browser knows the source How come 3, 4, 7 and 8 are not considered insecure? The data is transferred from client to client, not client to server Why does it always work with the mime set to text? The setData method of the dataTransfer object accepts text and dataURLs References HTML5 Drag and Drop in IE10 PPB2 Draggable attribute | property Example of the setData Method",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "cross-browser",
      "xss",
      "html5-draggable"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "19362416",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1829,
      "stackoverflow_creation_date": "2013-10-14T14:21:16.137Z"
    },
    "idempotency_key": "stackoverflow-19362416",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "NSFetchedResultsController attempting to insert nil object",
    "body": "Edit 7: Here's my save method. It's pretty boilerplate. The DEBUG_LOG() macros are only executed if it's a debug build. - (void)saveManagedObjectContext:(NSManagedObjectContext *)moc { if ([moc hasChanges]) { DEBUG_LOG(@\"Saving managed object context %@\", moc); NSError *error; BOOL success = [moc save:&error]; if (!success || error) { DEBUG_LOG(@\"ERROR: Couldn't save to managed object context %@: %@\", moc, error.localizedDescription); } DEBUG_LOG(@\"Finished saving managed object context %@\", moc); } else { DEBUG_LOG(@\"Managed object context %@ had no changes\", moc); } } Edit 6: iOS 8 is here and this problem is back. Lucky me. Previously I had narrowed the problem down to using estimatedRowHeight on table views (btw, I never fully fixed the problem. I just stopped using estimatedRowHeight). Now I'm seeing this problem again under different circumstances. I tracked it down to a commit from a few days ago when I made my nav/tab bars translucent. This included disabling 'Adjust Scroll View Insets' in storyboard and checking the boxes to have my views display under top bars and bottom bars. There's a series of steps I need to do to make it happen, but I can reproduce it every time with my storyboard configured that way. If I revert that commit it no longer happens. While I say, \"it no longer happens,\" what I really think is that this is just making it less likely to happen. This bug is an absolute b****. My gut reaction now is that this is an iOS bug. I just don't know what I can do to turn this into a bug report. It's madness. Edit 5: If you want to read the entirety of my misery, please continue all the way through this post. If you're running into this problem and you just want some help, here's something to look into. My last edit noted that when I used a basic table view cell, everything worked fine. My next course of action was going to be to try from scratch building a new custom cell piece by piece and seeing where it messed up. For the hell of it, I re-enabled my old custom cell code and it worked just fine. Uhhh? Oh wait, I still have estimatedHeightForRowAtIndexPath commented out. When I removed those comments and enabled estimatedHeightForRowAtIndexPath, it got crappy again. Interesting. I looked up that method in the API doc, and it mentioned something about a constant called UITableViewAutomaticDimension. The value I was estimating was really just one of the common cell heights, so it wouldn't hurt to switch to that constant. After switching to that constant it's working properly. No weird exceptions/graphical glitches to report. Original post I have a pretty standard iPhone app that fetches data from a web service in the background and displays data in a table view. The background updating work has its own managed object context configured for NSPrivateQueueConcurrencyType. My table view's fetched results controller has its own managed object context configured for NSMainQueueConcurrencyType. When the background context parses new data it passes that data to the main context via mergeChangesFromContextDidSaveNotification. Sometimes during the merge, my app hits an exception here... Thread 1, Queue : com.apple.main-thread #0 0x3ac1b6a0 in objc_exception_throw () #1 0x308575ac in -[__NSArrayM insertObject:atIndex:] () #2 0x33354306 in __46-[UITableView _updateWithItems:updateSupport:]_block_invoke687 () #3 0x330d88d2 in +[UIView(UIViewAnimationWithBlocks) _setupAnimationWithDuration:delay:view:options:factory:animations:start:animationStateGenerator:completion:] () #4 0x330ef7e4 in +[UIView(UIViewAnimationWithBlocks) animateWithDuration:delay:options:animations:completion:] () #5 0x3329e908 in -[UITableView _updateWithItems:updateSupport:] () #6 0x332766c6 in -[UITableView _endCellAnimationsWithContext:] () #7 0x0005ae72 in -[ICLocalShowsTableViewController controllerDidChangeContent:] at ICLocalShowsTableViewController.m:475 #8 0x3069976c in -[NSFetchedResultsController(PrivateMethods) _managedObjectContextDidChange:] () #9 0x308dfe78 in __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ () #10 0x30853b80 in _CFXNotificationPost () #11 0x3123a054 in -[NSNotificationCenter postNotificationName:object:userInfo:] () #12 0x306987a2 in -[NSManagedObjectContext(_NSInternalNotificationHandling) _postObjectsDidChangeNotificationWithUserInfo:] () #13 0x306f952a in -[NSManagedObjectContext _mergeChangesFromDidSaveDictionary:usingObjectIDs:] () #14 0x306f9734 in -[NSManagedObjectContext mergeChangesFromContextDidSaveNotification:] () #15 0x0006b5be in __65-[ICManagedObjectContexts backgroundManagedObjectContextDidSave:]_block_invoke at ICManagedObjectContexts.m:133 #16 0x306f9854 in developerSubmittedBlockToNSManagedObjectContextPerform () #17 0x3b1000ee in _dispatch_client_callout () #18 0x3b1029a8 in _dispatch_main_queue_callback_4CF () #19 0x308e85b8 in __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ () #20 0x308e6e84 in __CFRunLoopRun () #21 0x30851540 in CFRunLoopRunSpecific () #22 0x30851322 in CFRunLoopRunInMode () #23 0x355812ea in GSEventRunModal () #24 0x331081e4 in UIApplicationMain () #25 0x000554f4 in main at main.m:16 Here's the exception I see... CoreData: error: Serious application error. An exception was caught from the delegate of NSFetchedResultsController during a call to -controllerDidChangeContent:. *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil with userInfo (null) My app is actually hitting the exception in controllerDidChangeContent, at my call to endUpdates. I'm basically seeing the same thing as this (NSFetchedResultsController attempting to insert nil object?), but I've got more info and case a that's reproducible. All of my merge events are inserts. During the merge, there doesn't seem to be any pending inserts, deletes, or updates on the background context. I was initially using performBlockAndWait all over the place until I learned about the difference between performBlock and performBlockAndWait from the WWDC video. I switched to performBlock, and that made it a little bit better. Initially I approached this as a threading issue, diverged into the possibility of it being a weird memory problem caused by not fully understanding blocks, and now I'm back to it being a race condition. It seems like there's just one piece that I'm missing. There are two ways it doesn't happen... (1) Register for the context will save notification, nil out the FRC delegate when I get it, and set the delegate back after the merge. This isn't far from not using an FRC at all, so this really isn't an option for a workaround. (2) Do things that block the main thread long enough, so the race condition doesn't happen. For example, when I add a lot of debug log messages to my table view delegate, that slows it down enough for it not to happen. Here are what I believe to be the important pieces of code (I've shortened certain spots to shrink this already large post). After various points during scrolling, the view controller will request more data by calling a function that has this in it... AFJSONRequestOperation *operation = [AFJSONRequestOperation JSONRequestOperationWithRequest:request success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) { // Parsing happens on MOC background queue [backgroundMOC performBlock:^ { [self parseJSON:JSON]; // Handle everything else on the main thread [mainMOC performBlock:^ { if (completion) { // Remove activitiy indicators and such from the main thread } }]; }]; } failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) { [[NSOperationQueue mainQueue] performBlock:^ { if (completion) { // Remove activitiy indicators and such from the main thread } // Show an alert view saying that the request failed }]; } ]; [operation setCacheResponseBlock:^NSCachedURLResponse *(NSURLConnection *connection, NSCachedURLResponse *cachedResponse) { return nil; }]; [_operationQueue addOperation:operation]; For the most part, parseJSON doesn't really have anything interesting in it... - (void)parseJSON:(NSDictionary *)json { NSError *error; NSArray *idExistsResults; NSNumber *eventId; NSFetchRequest *idExistsFetchRequest; LastFMEvent *event; NSManagedObjectModel *model = backgroundMOC.persistentStoreCoordinator.managedObjectModel; for (NSDictionary *jsonEvent in jsonEvents) { eventId = [NSNumber numberWithInt:[jsonEvent[@\"id\"] intValue]]; idExistsFetchRequest = [model fetchRequestFromTemplateWithName:kGetEventByIDFetchRequest substitutionVariables:@{@\"eventID\" : eventId}]; idExistsResults = [backgroundMOC executeFetchRequest:idExistsFetchRequest error:&error]; // Here I check for errors - omitted that part if ([idExistsResults count] == 0) { // Add a new event event = [NSEntityDescription insertNewObjectForEntityForName:[LastFMEvent entityName] inManagedObjectContext:backgroundMOC]; [event populateWithJSON:jsonEvent]; } else if ([idExistsResults count] == 1) { // Get here if I knew about the event already, so I update a few fields } } [self.mocManager saveManagedObjectContext:backgroundMOC]; } The implementation for save and merge are where it might get interesting. Save expects to be called from within the appropriate performBlock already, so it doesn't do anything with the performBlock. - (void)saveManagedObjectContext:(NSManagedObjectContext *)moc { if ([moc hasChanges]) { NSError *error; BOOL success = [moc save:&error]; if (!success || error) { NSLog(@\"ERROR: Couldn't save to managed object context %@: %@\", moc, error.localizedDescription); } } } Upon saving, the merge notification gets triggered. I'm only merging from background to main, so I pretty much just want to know if I can inline the merge call or if I need to do it inside of performBlock. - (void)backgroundManagedObjectContextDidSave:(NSNotification *)notification { if (![NSThread isMainThread]) { [mainMOC performBlock:^ { [self.mainMOC mergeChangesFromContextDidSaveNotification:notification]; }]; } else { [mainMOC mergeChangesFromContextDidSaveNotification:notification]; } } My fetched results controller delegate methods are pretty boiler plate stuff... - (void)controller:(NSFetchedResultsController *)controller didChangeObject:(id)anObject atIndexPath:(NSIndexPath *)indexPath forChangeType:(NSFetchedResultsChangeType)type newIndexPath:(NSIndexPath *)newIndexPath { UITableView *tableView = self.tableView; switch (type) { case NSFetchedResultsChangeInsert: [tableView insertRowsAtIndexPaths:@[newIndexPath] withRowAnimation:UITableViewRowAnimationAutomatic]; break; case NSFetchedResultsChangeDelete: [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationAutomatic]; break; case NSFetchedResultsChangeUpdate: [self configureCell:(ICLocalShowsTableViewCell *)[tableView cellForRowAtIndexPath:indexPath] atIndexPath:indexPath]; break; case NSFetchedResultsChangeMove: [tableView deleteRowsAtIndexPaths:@[indexPath] withRowAnimation:UITableViewRowAnimationAutomatic]; [tableView insertRowsAtIndexPaths:@[newIndexPath] withRowAnimation:UITableViewRowAnimationAutomatic]; break; } } - (void)controller:(NSFetchedResultsController *)controller didChangeSection:(id )sectionInfo atIndex:(NSUInteger)sectionIndex forChangeType:(NSFetchedResultsChangeType)type { switch(type) { case NSFetchedResultsChangeInsert: [self.tableView insertSections:[NSIndexSet indexSetWithIndex:sectionIndex] withRowAnimation:UITableViewRowAnimationAutomatic]; break; case NSFetchedResultsChangeDelete: [self.tableView deleteSections:[NSIndexSet indexSetWithIndex:sectionIndex] withRowAnimation:UITableViewRowAnimationAutomatic]; break; } } - (void)controllerWillChangeContent:(NSFetchedResultsController *)controller { [self.tableView beginUpdates]; } - (void)controllerDidChangeContent:(NSFetchedResultsController *)controller { [self.tableView endUpdates]; } One other piece of code that might be of interest. I'm using autolayout for my table view cells, and the new estimatedHeightForRowAtIndexPath API for dynamic cell height. What this means is that during the call to [self.tableView endUpdates], the last step actually reaches down into some managed objects, whereas the other calls for number of sections/rows only need to know counts from the FRC. - (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath { NSAssert([NSThread isMainThread], @\"\"); LastFMEvent *event = [self.fetchedResultsController objectAtIndexPath:indexPath]; if (!_offscreenLayoutCell) { _offscreenLayoutCell = [self.tableView dequeueReusableCellWithIdentifier:kLocalShowsCellIdentifier]; } [_offscreenLayoutCell configureWithLastFMEvent:event]; [_offscreenLayoutCell setNeedsLayout]; [_offscreenLayoutCell layoutIfNeeded]; CGSize cellSize = [_offscreenLayoutCell.contentView systemLayoutSizeFittingSize:UILayoutFittingCompressedSize]; return cellSize.height; } Been stuck on this for almost a week now. Learned a ton in the process, but geez I'm ready to move on. Any suggestions would be greatly appreciated. Edit I put together a pretty big debug log to try to tell the story of what's going on with the udpates. I'm seeing something really strange. I'm updating the table with 50 rows at a time, so I'll only include the interesting part of my debug output. Every time a cell gets configured I'm printing out what the title was for the cell that I just dequeued as well as what the new title will be. When I hit the last cell in the table view, I make a query to the web service for more data. This output is related to the final update before I hit the exception... // Lots of output was here that I omitted configure cell at sect 5 row 18 WAS Suphala NOW Keller Williams configure cell at sect 5 row 19 WAS Advocate Of Wordz NOW Gates configure cell at sect 5 row 20 WAS Emanuel and the Fear NOW Beats Antique configure cell at sect 5 row 21 WAS The Julie Ruin NOW Ashrae Fax // At this point I hit the end of the table and query for more data - for some reason row 18 gets configured again. Possibly no big deal. configure cell at sect 5 row 18 WAS Keller Williams NOW Keller Williams configure cell at sect 5 row 22 WAS Old Wounds NOW Kurt Vile JSON size 100479 Starting JSON parsing page 3 of 15. total events 709. events per page 50. current low idx 100 next trigger idx 149 // Parsing data finished, saving background context Saving managed object context <NSManagedObjectContext: 0x17e912f0> Background context will save Finished saving managed object context <NSManagedObjectContext: 0x17e912f0> Merging background context into main context JSON parsing finished ** controllerWillChangeContent called ** ** BEGIN UPDATES triggered ** inserting SECTION 6 inserting SECTION 7 inserting SECTION 8 inserting ROW sect 5 row 17 inserting ROW sect 5 row 22 inserting ROW sect 5 row 25 inserting ROW sect 5 row 26 inserting ROW sect 5 row 27 inserting ROW sect 5 row 28 inserting ROW sect 5 row 29 // A bunch more rows added here that I omitted ** controllerDidChangeContent called ** // This configure cell happens before the endUpdates call has completed configure cell at sect 5 row 18 WAS Conflict NOW Conflict In the final update it's attempting to insert at s5 r17, but I already had a cell at that row. It also attempts to insert at s5 r22, but I also already had a cell at that row. Lastly it inserts a row at s5 r25, which actually is a new row. It seems to me as though considering r17 and r22 as inserts is leaving a gap in the table. Shouldn't the previous cells at those indexes have events to be moved to r23 and r24? My fetched results controller is using a sort descriptor that sorts by date and start time. Maybe the existing events that were at r17 and r22 aren't getting move events because there weren't any changes related to their NSManagedObjects. Essentially, they are required to move because of my sort descriptor for events earlier than them and not because their data changed. Edit 2: Looks like those inserts do just trigger the existing cells to shift down :( Edit 3: Things I tried today... Made AFNetworking success block waits for the merge to complete before it returns Made cellForRowAtIndexPath return a stale cell (essentially dequeue it and return it right away) if the fetched results controller is in the middle of beginUpdates/endUpdates. Thinking that extra random cellForRowAtIndexPath that gets called during the update may have been doing weird things. Removing the background context altogether. This is interesting. If I do all of the UI updates AND JSON parsing on the main context, it still happens. Edit 4: Now it's getting interesting. I tried removing random components in my table view such as the refresh control. Also tried getting rid of my use of estimatedHeightForRowAtIndexPath, which meant just supplying a static row height instead of using autolayout to determine dynamic row height. Both of those turned up nothing. I also tried getting rid of my custom cell entirely, and just using a basic table view cell. That worked. I tried a basic table view cell with subtitle. That worked. I tried a basic table view cell with subtitle and image. That worked. The top of my stack trace being near all of those animation related items is starting to make more sense. It's looking like this is auto-layout related.",
    "code": "- (void)saveManagedObjectContext:(NSManagedObjectContext *)moc\n{\n    if ([moc hasChanges]) {\n        DEBUG_LOG(@\"Saving managed object context %@\", moc);\n        NSError *error;\n        BOOL success = [moc save:&amp;error];\n        if (!success || error) {\n            DEBUG_LOG(@\"ERROR: Couldn't save to managed object context %@: %@\",\n                  moc, error.localizedDescription);\n        }\n        DEBUG_LOG(@\"Finished saving managed object context %@\", moc);\n    } else {\n        DEBUG_LOG(@\"Managed object context %@ had no changes\", moc);\n    }\n}\n\n\nThread 1, Queue : com.apple.main-thread\n#0  0x3ac1b6a0 in objc_exception_throw ()\n#1  0x308575ac in -[__NSArrayM insertObject:atIndex:] ()\n#2  0x33354306 in __46-[UITableView _updateWithItems:updateSupport:]_block_invoke687 ()\n#3  0x330d88d2 in +[UIView(UIViewAnimationWithBlocks)     _setupAnimationWithDuration:delay:view:options:factory:animations:start:animationStateGenerator:completion:] ()\n#4  0x330ef7e4 in +[UIView(UIViewAnimationWithBlocks) animateWithDuration:delay:options:animations:completion:] ()\n#5  0x3329e908 in -[UITableView _updateWithItems:updateSupport:] ()\n#6  0x332766c6 in -[UITableView _endCellAnimationsWithContext:] ()\n#7  0x0005ae72 in -[ICLocalShowsTableViewController controllerDidChangeContent:] at ICLocalShowsTableViewController.m:475\n#8  0x3069976c in -[NSFetchedResultsController(PrivateMethods) _managedObjectContextDidChange:] ()\n#9  0x308dfe78 in __CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ ()\n#10 0x30853b80 in _CFXNotificationPost ()\n#11 0x3123a054 in -[NSNotificationCenter postNotificationName:object:userInfo:] ()\n#12 0x306987a2 in -[NSManagedObjectContext(_NSInternalNotificationHandling) _postObjectsDidChangeNotificationWithUserInfo:] ()\n#13 0x306f952a in -[NSManagedObjectContext _mergeChangesFromDidSaveDictionary:usingObjectIDs:] ()\n#14 0x306f9734 in -[NSManagedObjectContext mergeChangesFromContextDidSaveNotification:] ()\n#15 0x0006b5be in __65-[ICManagedObjectContexts backgroundManagedObjectContextDidSave:]_block_invoke at ICManagedObjectContexts.m:133\n#16 0x306f9854 in developerSubmittedBlockToNSManagedObjectContextPerform ()\n#17 0x3b1000ee in _dispatch_client_callout ()\n#18 0x3b1029a8 in _dispatch_main_queue_callback_4CF ()\n#19 0x308e85b8 in __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ ()\n#20 0x308e6e84 in __CFRunLoopRun ()\n#21 0x30851540 in CFRunLoopRunSpecific ()\n#22 0x30851322 in CFRunLoopRunInMode ()\n#23 0x355812ea in GSEventRunModal ()\n#24 0x331081e4 in UIApplicationMain ()\n#25 0x000554f4 in main at main.m:16\n\n\nCoreData: error: Serious application error.  An exception was caught from the delegate of NSFetchedResultsController during a call to -controllerDidChangeContent:.  *** -[__NSArrayM insertObject:atIndex:]: object cannot be nil with userInfo (null)\n\n\nAFJSONRequestOperation *operation =\n    [AFJSONRequestOperation JSONRequestOperationWithRequest:request\n        success:^(NSURLRequest *request, NSHTTPURLResponse *response, id JSON) {\n            // Parsing happens on MOC background queue\n            [backgroundMOC performBlock:^ {\n                [self parseJSON:JSON];\n\n                // Handle everything else on the main thread\n                [mainMOC performBlock:^ {\n                    if (completion) {\n                        // Remove activitiy indicators and such from the main thread\n                    }\n                }];\n            }];\n        }\n\n        failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error, id JSON) {\n            [[NSOperationQueue mainQueue] performBlock:^ {\n                if (completion) {\n                    // Remove activitiy indicators and such from the main thread\n                }\n                // Show an alert view saying that the request failed\n            }];\n        }\n     ];\n\n[operation setCacheResponseBlock:^NSCachedURLResponse *(NSURLConnection *connection, NSCachedURLResponse *cachedResponse) {\n    return nil;\n}];\n\n[_operationQueue addOperation:operation];\n\n\n- (void)parseJSON:(NSDictionary *)json\n{       \n    NSError *error;\n    NSArray *idExistsResults;\n    NSNumber *eventId;\n    NSFetchRequest *idExistsFetchRequest;\n    LastFMEvent *event;\n    NSManagedObjectModel *model = backgroundMOC.persistentStoreCoordinator.managedObjectModel;\n    for (NSDictionary *jsonEvent in jsonEvents) {\n        eventId = [NSNumber numberWithInt:[jsonEvent[@\"id\"] intValue]];\n        idExistsFetchRequest = [model fetchRequestFromTemplateWithName:kGetEventByIDFetchRequest substitutionVariables:@{@\"eventID\" : eventId}];\n        idExistsResults  = [backgroundMOC executeFetchRequest:idExistsFetchRequest error:&amp;error];\n        // Here I check for errors - omitted that part\n\n        if ([idExistsResults count] == 0) {\n            // Add a new event\n            event = [NSEntityDescription insertNewObjectForEntityForName:[LastFMEvent entityName] inManagedObjectContext:backgroundMOC];\n            [event populateWithJSON:jsonEvent];\n        } else if ([idExistsResults count] == 1) {\n            // Get here if I knew about the event already, so I update a few fields\n        }\n    }\n    [self.mocManager saveManagedObjectContext:backgroundMOC];\n}\n\n\n- (void)saveManagedObjectContext:(NSManagedObjectContext *)moc\n{\n    if ([moc hasChanges]) {\n        NSError *error;\n        BOOL success = [moc save:&amp;error];\n        if (!success || error) {\n            NSLog(@\"ERROR: Couldn't save to managed object context %@: %@\",\n                  moc, error.localizedDescription);\n        }\n    }\n}\n\n\n- (void)backgroundManagedObjectContextDidSave:(NSNotification *)notification\n{\n    if (![NSThread isMainThread]) {\n        [mainMOC performBlock:^ {\n            [self.mainMOC mergeChangesFromContextDidSaveNotification:notification];\n        }];\n    } else {\n        [mainMOC mergeChangesFromContextDidSaveNotification:notification];\n    }\n}\n\n\n- (void)controller:(NSFetchedResultsController *)controller\n   didChangeObject:(id)anObject\n       atIndexPath:(NSIndexPath *)indexPath\n     forChangeType:(NSFetchedResultsChangeType)type\n      newIndexPath:(NSIndexPath *)newIndexPath\n{\n    UITableView *tableView = self.tableView;\n\n    switch (type) {\n\n        case NSFetchedResultsChangeInsert:\n            [tableView insertRowsAtIndexPaths:@[newIndexPath]\n                             withRowAnimation:UITableViewRowAnimationAutomatic];\n            break;\n        case NSFetchedResultsChangeDelete:\n            [tableView deleteRowsAtIndexPaths:@[indexPath]\n                             withRowAnimation:UITableViewRowAnimationAutomatic];\n            break;\n        case NSFetchedResultsChangeUpdate:\n            [self configureCell:(ICLocalShowsTableViewCell *)[tableView cellForRowAtIndexPath:indexPath]\n                          atIndexPath:indexPath];\n            break;\n        case NSFetchedResultsChangeMove:\n            [tableView deleteRowsAtIndexPaths:@[indexPath]\n                             withRowAnimation:UITableViewRowAnimationAutomatic];\n            [tableView insertRowsAtIndexPaths:@[newIndexPath]\n                             withRowAnimation:UITableViewRowAnimationAutomatic];\n            break;\n    }\n}\n\n- (void)controller:(NSFetchedResultsController *)controller\n  didChangeSection:(id )sectionInfo\n           atIndex:(NSUInteger)sectionIndex\n     forChangeType:(NSFetchedResultsChangeType)type\n{\n    switch(type) {\n\n        case NSFetchedResultsChangeInsert:\n            [self.tableView insertSections:[NSIndexSet indexSetWithIndex:sectionIndex]\n                          withRowAnimation:UITableViewRowAnimationAutomatic];\n            break;\n\n        case NSFetchedResultsChangeDelete:\n            [self.tableView deleteSections:[NSIndexSet indexSetWithIndex:sectionIndex]\n                          withRowAnimation:UITableViewRowAnimationAutomatic];\n            break;\n    }\n}\n\n- (void)controllerWillChangeContent:(NSFetchedResultsController *)controller\n{\n    [self.tableView beginUpdates];\n}\n\n- (void)controllerDidChangeContent:(NSFetchedResultsController *)controller\n{\n    [self.tableView endUpdates];\n}\n\n\n- (CGFloat)tableView:(UITableView *)tableView heightForRowAtIndexPath:(NSIndexPath *)indexPath\n{\n    NSAssert([NSThread isMainThread], @\"\");\n    LastFMEvent *event = [self.fetchedResultsController objectAtIndexPath:indexPath];\n\n    if (!_offscreenLayoutCell) {\n        _offscreenLayoutCell = [self.tableView dequeueReusableCellWithIdentifier:kLocalShowsCellIdentifier];\n    }\n\n    [_offscreenLayoutCell configureWithLastFMEvent:event];\n    [_offscreenLayoutCell setNeedsLayout];\n    [_offscreenLayoutCell layoutIfNeeded];\n\n    CGSize cellSize = [_offscreenLayoutCell.contentView systemLayoutSizeFittingSize:UILayoutFittingCompressedSize];\n    return cellSize.height;\n}\n\n\n// Lots of output was here that I omitted\n\nconfigure cell at sect 5 row 18 WAS Suphala NOW Keller Williams\nconfigure cell at sect 5 row 19 WAS Advocate Of Wordz NOW Gates\nconfigure cell at sect 5 row 20 WAS Emanuel and the Fear NOW Beats Antique\nconfigure cell at sect 5 row 21 WAS The Julie Ruin NOW Ashrae Fax\n\n// At this point I hit the end of the table and query for more data - for some reason row 18 gets configured again. Possibly no big deal.\n\nconfigure cell at sect 5 row 18 WAS Keller Williams NOW Keller Williams\nconfigure cell at sect 5 row 22 WAS Old Wounds NOW Kurt Vile\n\nJSON size 100479\nStarting JSON parsing\npage 3 of 15. total events 709. events per page 50. current low idx 100 next trigger idx 149\n\n// Parsing data finished, saving background context\n\nSaving managed object context &lt;NSManagedObjectContext: 0x17e912f0&gt;\nBackground context will save\nFinished saving managed object context &lt;NSManagedObjectContext: 0x17e912f0&gt;\nMerging background context into main context\nJSON parsing finished\n\n** controllerWillChangeContent called **\n** BEGIN UPDATES triggered **\n\ninserting SECTION 6\ninserting SECTION 7\ninserting SECTION 8\ninserting ROW sect 5 row 17\ninserting ROW sect 5 row 22\ninserting ROW sect 5 row 25\ninserting ROW sect 5 row 26\ninserting ROW sect 5 row 27\ninserting ROW sect 5 row 28\ninserting ROW sect 5 row 29\n\n// A bunch more rows added here that I omitted\n\n** controllerDidChangeContent called **\n\n// This configure cell happens before the endUpdates call has completed\n\nconfigure cell at sect 5 row 18 WAS Conflict NOW Conflict\n\n\nestimatedHeightForRowAtIndexPath\n\nestimatedHeightForRowAtIndexPath\n\nUITableViewAutomaticDimension\n\nmergeChangesFromContextDidSaveNotification\n\n# Solution Code:\ncontrollerDidChangeContent:\n\ninsertObject:atIndex\n\nNSManagedObject\n\nperformBlock:\n\nperformBlockAndWait:\n\n-com.apple.CoreData.ConcurrencyDebug 1",
    "resolution": "From an Apple Technical Support Engineer: To protect the integrity of the datastore, Core Data catches some exceptions that happen during its operations. Sometimes this means that if Core Data calls your code through a delegate method, Core Data may end up catching exceptions your code threw. Multi-threading errors are the most common cause of mysterious Core Data issues. In this case, Core Data caught an exception through your controllerDidChangeContent: method, caused by trying to use insertObject:atIndex. The most likely fix is to ensure that all your NSManagedObject code is encapsulated inside performBlock: or performBlockAndWait: calls. In iOS 8 and OSX Yosemite, Core Data gains the ability to detect and report violations of its concurrency model. It works by throwing an exception whenever your app accesses a managed object context or managed object from the wrong dispatch queue. You enable the assertions by passing -com.apple.CoreData.ConcurrencyDebug 1 to your app on the command line via Xcodeʼs Scheme Editor. Ole Begemann has a great writeup of the new feature.",
    "severity": "medium",
    "tags": [
      "ios",
      "objective-c",
      "uitableview",
      "core-data",
      "nsfetchedresultscontroller"
    ],
    "metadata": {
      "stackoverflow_question_id": "19462645",
      "stackoverflow_score": 25,
      "stackoverflow_view_count": 2918,
      "stackoverflow_creation_date": "2013-10-19T05:17:13.920Z"
    },
    "idempotency_key": "stackoverflow-19462645",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Where is neo4j-server.properties on Windows?",
    "body": "On Windows, where is neo4j-server.properties as described in this documentation? http://docs.neo4j.org/chunked/stable/security-server.html I can't find it anywhere, and creating it myself in places that seem reasonable have no effect. I'd like to be able to access the server from a remote IP other than localhost. Thanks. Update Neo4j is installed at C:\\Program Files\\Neo4j Community\\bin\\neo4j-community.exe I've created the file at C:\\Program Files\\Neo4j Community\\conf\\neo4j-server.properties Here's the complete contents: org.neo4j.server.webserver.port=7474 #allow any client to connect org.neo4j.server.webserver.address=0.0.0.0 However, the settings don't seem to take effect. Am I missing something?",
    "code": "org.neo4j.server.webserver.port=7474\n\n#allow any client to connect\norg.neo4j.server.webserver.address=0.0.0.0\n\n\nneo4j-server.properties\n\nlocalhost\n\nC:\\Program Files\\Neo4j Community\\bin\\neo4j-community.exe\n\nC:\\Program Files\\Neo4j Community\\conf\\neo4j-server.properties\n\n# Solution Code:\nconf\n\nconf\n\nbin\n\nbin",
    "resolution": "Ok I think I know what's going on: You installed 1.9.4 stable via the new simplified Windows Installer? If so: That seems to be a very limited 'dev' installer. It has a simple MSI, it has a simple GUI to let you select the database, and then you do everything from the web console. This is a departure from previous methods of installing on Windows. I tried it out, and I abandoned it because I need full control of the configuration. The conf files, normally found in a conf folder parallel to the bin folder, are not installed with this installer. If you want the traditional installer, grab the enterprise download. That said: I wouldn't waste time on the 1.9.x branch unless you're running in production. If you're still in dev/test, I'd go straight to 2.0 (milestone 6 is now available). You'll get Labels (reason enough to switch), updated Cypher engine, and lots of other improvements. Also: the 2.0 installer is still a traditional configuration, complete with conf folder, where you can make all the configuration changes you need to make. EDIT The download link for the zip version is now back, so you can choose either the exe or zip version of installation. This means you can install 1.9.4 just like before, and have full access to all the configuration files. EDIT 2 After a bit of email exchange w/someone at Neo Technology, I found out that, for this particular installer, everything needed is bundled into a single JAR file. if you look in the bin folder after installing, you'll see these files: If you search the JAR file (via 7zip or something similar), you'll find the default server configuration file: I suspect you could place the neo4j-server.properties file into the JAR file here as well (though I haven't tried).",
    "severity": "high",
    "tags": [
      "neo4j"
    ],
    "metadata": {
      "stackoverflow_question_id": "19520507",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 11519,
      "stackoverflow_creation_date": "2013-10-22T14:21:33.740Z"
    },
    "idempotency_key": "stackoverflow-19520507",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Trying to sort excel range by two columns using c#",
    "body": "I have a range in excel that I need to sort by two columns. The data will always range from Column A to Column AA and I need to first sort it by column A (which is a date column, so oldest to newest), then by column F (numeric column, smallest to highest). The number of rows will vary. Here is what I've got so far, keep in mind I'm relatively new to c#. Excel.Worksheet JobDataSheet = new Excel.Worksheet(); foreach (Excel.Worksheet tmpSheet in Globals.ThisAddIn.Application.ActiveWorkbook.Sheets) { if (tmpSheet.Name == \"Job Labour\" || tmpSheet.Name == \"Job Materials\" || tmpSheet.Name == \"Job Cost Report\") { tmpSheet.Delete(); } if (tmpSheet.Name == \"Job Cost\") JobDataSheet = tmpSheet; } int MyCount = JobDataSheet.UsedRange.Rows.Count; //Sort Collection by Date & Ref Line Excel.Range tempRange = JobDataSheet.get_Range(\"A2:A\" + MyCount); Excel.Range tempRange2 = JobDataSheet.get_Range(\"F2:F\" + MyCount); JobDataSheet.Sort.SortFields.Clear(); JobDataSheet.Sort.SortFields.Add(tempRange // First Key ,Excel.XlSortOn.xlSortOnValues ,Excel.XlSortOrder.xlAscending ,Type.Missing ,Excel.XlSortDataOption.xlSortNormal); JobDataSheet.Sort.SortFields.Add(tempRange2 // Second Key , Excel.XlSortOn.xlSortOnValues , Excel.XlSortOrder.xlAscending , Type.Missing , Excel.XlSortDataOption.xlSortNormal); JobDataSheet.Sort.SetRange(JobDataSheet.get_Range(\"A1:AA\" + MyCount)); JobDataSheet.Sort.Header = Excel.XlYesNoGuess.xlYes; JobDataSheet.Sort.MatchCase = false; JobDataSheet.Sort.Orientation = Excel.XlSortOrientation.xlSortRows; JobDataSheet.Sort.SortMethod = Excel.XlSortMethod.xlPinYin; JobDataSheet.Sort.Apply(); At the JobDataSheet.Sort.Apply(); line excel throws \"The sort reference is not valid. Make sure that it's within the data you want to sort, and the first Sort By box isn't in the same or blank.\"",
    "code": "         Excel.Worksheet JobDataSheet = new Excel.Worksheet();\n\n         foreach (Excel.Worksheet tmpSheet in Globals.ThisAddIn.Application.ActiveWorkbook.Sheets)\n         {\n             if (tmpSheet.Name == \"Job Labour\" || tmpSheet.Name == \"Job Materials\" || tmpSheet.Name == \"Job Cost Report\")\n             {\n                 tmpSheet.Delete();\n             }\n             if (tmpSheet.Name == \"Job Cost\")\n                 JobDataSheet = tmpSheet;\n         }\n\n\n         int MyCount = JobDataSheet.UsedRange.Rows.Count;\n\n          //Sort Collection by Date &amp; Ref Line\n         Excel.Range tempRange = JobDataSheet.get_Range(\"A2:A\" + MyCount);\n         Excel.Range tempRange2 = JobDataSheet.get_Range(\"F2:F\" + MyCount);\n\n         JobDataSheet.Sort.SortFields.Clear();\n         JobDataSheet.Sort.SortFields.Add(tempRange // First Key\n                                           ,Excel.XlSortOn.xlSortOnValues\n                                           ,Excel.XlSortOrder.xlAscending\n                                           ,Type.Missing\n                                           ,Excel.XlSortDataOption.xlSortNormal);\n         JobDataSheet.Sort.SortFields.Add(tempRange2 // Second Key\n                                           , Excel.XlSortOn.xlSortOnValues\n                                           , Excel.XlSortOrder.xlAscending\n                                           , Type.Missing\n                                           , Excel.XlSortDataOption.xlSortNormal);\n\n         JobDataSheet.Sort.SetRange(JobDataSheet.get_Range(\"A1:AA\" + MyCount));\n         JobDataSheet.Sort.Header = Excel.XlYesNoGuess.xlYes;\n         JobDataSheet.Sort.MatchCase = false;\n         JobDataSheet.Sort.Orientation = Excel.XlSortOrientation.xlSortRows;\n         JobDataSheet.Sort.SortMethod = Excel.XlSortMethod.xlPinYin;\n         JobDataSheet.Sort.Apply();\n\n\nJobDataSheet.Sort.Apply();\n\n\"The sort reference is not valid. Make sure that it's within the data you want to sort, and the first Sort By box isn't in the same or blank.\"\n\n# Solution Code:\nprivate void SortExcel()\n{\n    //Set up\n    Excel.Application oXL;\n    Excel._Workbook oWB;\n    Excel._Worksheet oSheet;\n    Excel.Range oRng;\n    Excel.Range oLastAACell;\n    Excel.Range oFirstACell;\n\n    //Start Excel and get Application object.\n    oXL = new Excel.Application();\n    oXL.Visible = true;\n\n    //Get a new workbook.;\n    oWB = (Excel._Workbook)(oXL.Workbooks.Open(@\"C:\\Book.Xlsx\"));\n\n    //Get Sheet Object\n    oSheet = (Excel.Worksheet)oWB.Worksheets[\"Sheet1\"];\n\n    //Get complete last Row in Sheet (Not last used just last)     \n    int intRows = oSheet.Rows.Count;\n\n    //Get the last cell in Column AA\n    oLastAACell = (Excel.Range)oSheet.Cells[intRows, 27];\n\n    //Move courser up to the last cell in AA that is not blank\n    oLastAACell = oLastAACell.End[Excel.XlDirection.xlUp];\n\n    //Get First Cell of Data (A2)\n    oFirstACell = (Excel.Range)oSheet.Cells[2, 1];\n\n    //Get Entire Range of Data\n    oRng = (Excel.Range)oSheet.Range[oFirstACell, oLastAACell];\n\n    //Sort the range based on First Columns And 6th (in this case A and F)\n    oRng.Sort(oRng.Columns[1, Type.Missing],Excel.XlSortOrder.xlAscending, // the first sort key Column 1 for Range\n              oRng.Columns[6, Type.Missing],Type.Missing, Excel.XlSortOrder.xlAscending,// second sort key Column 6 of the range\n              Type.Missing, Excel.XlSortOrder.xlAscending,  // third sort key nothing, but it wants one\n              Excel.XlYesNoGuess.xlGuess, Type.Missing, Type.Missing, \n              Excel.XlSortOrientation.xlSortColumns, Excel.XlSortMethod.xlPinYin,   \n              Excel.XlSortDataOption.xlSortNormal,\n              Excel.XlSortDataOption.xlSortNormal, \n              Excel.XlSortDataOption.xlSortNormal);\n    }\n",
    "resolution": "This is what works for me: private void SortExcel() { //Set up Excel.Application oXL; Excel._Workbook oWB; Excel._Worksheet oSheet; Excel.Range oRng; Excel.Range oLastAACell; Excel.Range oFirstACell; //Start Excel and get Application object. oXL = new Excel.Application(); oXL.Visible = true; //Get a new workbook.; oWB = (Excel._Workbook)(oXL.Workbooks.Open(@\"C:\\Book.Xlsx\")); //Get Sheet Object oSheet = (Excel.Worksheet)oWB.Worksheets[\"Sheet1\"]; //Get complete last Row in Sheet (Not last used just last) int intRows = oSheet.Rows.Count; //Get the last cell in Column AA oLastAACell = (Excel.Range)oSheet.Cells[intRows, 27]; //Move courser up to the last cell in AA that is not blank oLastAACell = oLastAACell.End[Excel.XlDirection.xlUp]; //Get First Cell of Data (A2) oFirstACell = (Excel.Range)oSheet.Cells[2, 1]; //Get Entire Range of Data oRng = (Excel.Range)oSheet.Range[oFirstACell, oLastAACell]; //Sort the range based on First Columns And 6th (in this case A and F) oRng.Sort(oRng.Columns[1, Type.Missing],Excel.XlSortOrder.xlAscending, // the first sort key Column 1 for Range oRng.Columns[6, Type.Missing],Type.Missing, Excel.XlSortOrder.xlAscending,// second sort key Column 6 of the range Type.Missing, Excel.XlSortOrder.xlAscending, // third sort key nothing, but it wants one Excel.XlYesNoGuess.xlGuess, Type.Missing, Type.Missing, Excel.XlSortOrientation.xlSortColumns, Excel.XlSortMethod.xlPinYin, Excel.XlSortDataOption.xlSortNormal, Excel.XlSortDataOption.xlSortNormal, Excel.XlSortDataOption.xlSortNormal); }",
    "severity": "high",
    "tags": [
      "c#",
      "excel",
      "sorting"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "19529436",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 12358,
      "stackoverflow_creation_date": "2013-10-22T22:21:00.330Z"
    },
    "idempotency_key": "stackoverflow-19529436",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "matplotlib: Using append_axes multiple times",
    "body": "I'm new to matplotlib, so I do not have strong enough command of the language to know if I'm going about this the right way, but I've been searching for the answer for a while now, and I just cannot find anything one way or the other on this. I know how to use matplotlib's append_axes locator function to append histograms alongside 2D plots, e.g.: axMain= fig1.add_subplot(111) cax = plt.contourf(xl,y1,z1) divider = make_axes_locatable(axMain) axHisty = divider.append_axes(\"right\", 1.2, pad=0.1, sharey=axMain) axHisty.plot(x,y) and I also know how to append a colorbar in a similar manner: divider = make_axes_locatable(axMain) ax_cb = divider.new_horizontal(size='5%', pad=0.3) fig1.add_axes(ax_cb) fig1.colorbar(cax, cax=ax_cb) What I am not clear on is how to do both in the same subplot without the two appended figures overlapping. To be clear, I want the histogram to have the same yaxis ticks and height as the axContour, and I want the colorbar to have the same height as axContour. ImageGrid doesn't seem to be quite what I want because I do not want to fix the size of my plot. It would better for me if I could add/remove these figure \"embellishments\" interactively, but maybe that is not possible...Let me know!",
    "code": "axMain= fig1.add_subplot(111)\ncax = plt.contourf(xl,y1,z1)\ndivider = make_axes_locatable(axMain)\naxHisty = divider.append_axes(\"right\", 1.2, pad=0.1, sharey=axMain)\naxHisty.plot(x,y)\n\n\ndivider = make_axes_locatable(axMain)\nax_cb = divider.new_horizontal(size='5%', pad=0.3)\nfig1.add_axes(ax_cb)\nfig1.colorbar(cax, cax=ax_cb)\n\n\naxContour\n\naxContour\n\n# Solution Code:\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport matplotlib.gridspec as grd\nfrom numpy.random import rand\n\n# add axes\nfig1 = plt.figure(1)\ngs = grd.GridSpec(1, 3, width_ratios=[5,1, 1], wspace=0.3)\naxMain = plt.subplot(gs[0])\naxHisty = plt.subplot(gs[1])\nax_cb = plt.subplot(gs[2])\n\n# some things to plot\nx = [1,2,3,4]\ny = [1,2,3,4]\nx1 = [1,2,3,4]\ny1 = [1,2,3,4]\nz1 = rand(4,4)\n\n# make plots\nh = axMain.contourf(x1,y1,z1)\naxHisty.plot(x,y)\ncb = plt.colorbar(h, cax = ax_cb)\n\nplt.show()\n\n\ndivider.append_axes(\"right\", 1.2, pad=0.1, sharey=axMain)\n\ngridspec",
    "resolution": "You are already fixing the size of your plot with divider.append_axes(\"right\", 1.2, pad=0.1, sharey=axMain). 1.2 is the size of the new axis. Below is a way of plotting three axes using gridspec. import matplotlib.pyplot as plt import numpy as np import matplotlib.gridspec as grd from numpy.random import rand # add axes fig1 = plt.figure(1) gs = grd.GridSpec(1, 3, width_ratios=[5,1, 1], wspace=0.3) axMain = plt.subplot(gs[0]) axHisty = plt.subplot(gs[1]) ax_cb = plt.subplot(gs[2]) # some things to plot x = [1,2,3,4] y = [1,2,3,4] x1 = [1,2,3,4] y1 = [1,2,3,4] z1 = rand(4,4) # make plots h = axMain.contourf(x1,y1,z1) axHisty.plot(x,y) cb = plt.colorbar(h, cax = ax_cb) plt.show()",
    "severity": "medium",
    "tags": [
      "matplotlib",
      "divider",
      "colorbar"
    ],
    "metadata": {
      "stackoverflow_question_id": "19552781",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 6276,
      "stackoverflow_creation_date": "2013-10-23T21:37:15.830Z"
    },
    "idempotency_key": "stackoverflow-19552781",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "@ManagedProperty annotation returns null instead of injecting the property",
    "body": "In one sentence: the @ManagedProperty annotation does return null instead of injecting the property. The details: there are two classes: @ManagedBean(name=\"authFilter\") @SessionScoped public class AuthFilter implements Filter { @ManagedProperty(\"#{loginBean}\") private LoginBean loginBean; public void setLoginBean(LoginBean loginBean) { this.loginBean = loginBean; } ... } and @ManagedBean(name=\"loginBean\") @SessionScoped public class LoginBean { ... } Now, AFAIK the the @ManagedProperty annotation and the setter should be enough for the property to be injected, or at least the other questions here and BalusC's blog suggest this, but it still always remains null. It is also interesting and probably is related to this issue, that I get warnings for these classes that they are already have been registered as a managed bean, even though they only have been registered via the faces-config.xml or with the annotataions. ( Tried them booth, separately, no difference.) If none of them is present, then the WARNINGs disappear, but the @ManagedProperty does not work ofc. WARNING: JSF1074: Managed bean named 'confListBean' has already been registered. Replacing existing managed bean class type <projectname>.web.authFilter with <projectname>.web.authFilter. So the questions would be: What else is required for a @ManagedProperty to be injected what I am not doing? What possibly can 'overregister' these managed beans besides the @notations and faces-config.xml? Is there a trace for the process which collects the managed beans I could check?",
    "code": "@ManagedBean(name=\"authFilter\")\n@SessionScoped\npublic class AuthFilter implements Filter {\n    @ManagedProperty(\"#{loginBean}\")\n    private LoginBean loginBean;\n    public void setLoginBean(LoginBean loginBean) {\n        this.loginBean = loginBean;\n    }\n    ...\n}\n\n\n@ManagedBean(name=\"loginBean\")\n@SessionScoped\npublic class LoginBean  {\n    ...\n}\n\n\nWARNING: JSF1074: Managed bean named 'confListBean' has already been registered. Replacing existing managed bean class type &lt;projectname&gt;.web.authFilter with &lt;projectname&gt;.web.authFilter.\n\n\n@ManagedProperty\n\nnull\n\n@ManagedProperty\n\nnull\n\nfaces-config.xml\n\n@ManagedProperty\n\n@ManagedProperty\n\n@notations\n\nfaces-config.xml\n\n# Solution Code:\n@ManagedBean(name=\"loginBean\", eager=true)\n",
    "resolution": "When defining the loginBean, make sure you set the eager flag to true. @ManagedBean(name=\"loginBean\", eager=true) This will ensure that the loginBean is created, even if it is not referenced from a GUI element.",
    "severity": "medium",
    "tags": [
      "jsf-2",
      "annotations",
      "managed-bean"
    ],
    "metadata": {
      "stackoverflow_question_id": "19577574",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7403,
      "stackoverflow_creation_date": "2013-10-24T22:04:52.783Z"
    },
    "idempotency_key": "stackoverflow-19577574",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "MySQL - Execute stored procedure asynchronously",
    "body": "Question How can I execute a stored procedure in MySQL, asynchronously? I want to be able to call my procedure and have it silently run in the background, without the caller having to wait for it to finish. Research I've looked at making an EVENT; however, that appears to only have a time scheduled trigger. I'd prefer to only execute the procedure upon a manual trigger, versus having it constantly running in the background. More Details The program that would call the procedure is written in Python. I'm open to a Python solution, provided that I don't have to add any \"big\" modules (I don't want to install another ORM, as I already use peewee).",
    "code": "EVENT",
    "severity": "medium",
    "tags": [
      "python",
      "mysql",
      "sql",
      "stored-procedures"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "19667956",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1172,
      "stackoverflow_creation_date": "2013-10-29T20:00:08.537Z"
    },
    "idempotency_key": "stackoverflow-19667956",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How should I structure my git-svn workflow to avoid \"revision1 is merged into revision2, but does not have git-svn metadata\"",
    "body": "I am using git-svn in my workplace since our current version control server is subversion and switching completely to git does not seem to be on the horizon for now (*cry*) My workflow is as follows I have the following branches master tracks remotes/trunk local/0.4 tracks remotes/0.4 work is my development branch for the master branch work-0.4 is my development branch for the local/0.4 branch I work in my work branches, then I merge to master and local/0.4 using git merge --no-ff <branchname> After that I check in to svn via git svn dcommit and I use svn.pushmergeinfo=true to update the svn:mergeinfo properties so my colleagues won't get angry with me messing up that metadata for them :) However, I just had the following problem which stumps me. I had done two commits on the work-0.4 branch, then I merged these to my local/0.4 branch with git merge --no-ff work-0.4. After this, I did git svn dcommit and recieved the following message Committing to https://svn-server ... e138050f6ebd2f2ca99cbefc5e48acae412e1f86 is merged into revision f5f2345e8e5fc64 20423bdc00397b5853b3759c4, but does not have git-svn metadata. Either dcommit the branch or use a local cherry-pick, FF merge, or rebase instead of an explicit merge commit. After some rebasing and reset'ing of branches I managed to push everything to svn, but my solution entailed doing a rebase of my local/0.4 branch to the work-0.4 branch which in turn meant that I did not get to squash my two git-commits into one svn-commit :/ I feel that I'm probably doing something wrong with my workflow here, and it might be related to svn.pushmergeinfo. The docs for svn.pushmergeinfo says config key: svn.pushmergeinfo + This option will cause git-svn to attempt to automatically populate the svn:mergeinfo property in the SVN repository when possible. Currently, this can only be done when dcommitting non-fast-forward merges where all parents but the first have already been pushed into SVN. and to be honest, I'm not quite sure that I understand that correctly? Am I doing something weird here that makes svn.pushmergeinfo not work correctly? How should I structure my workflow to optimally work with git-svn correctly (setting proper mergeinfos etc)?",
    "code": "git merge --no-ff &lt;branchname&gt;\n\n\ngit svn dcommit\n\n\nsvn.pushmergeinfo=true \n\n\nCommitting to https://svn-server ...\ne138050f6ebd2f2ca99cbefc5e48acae412e1f86 is merged into revision f5f2345e8e5fc64\n20423bdc00397b5853b3759c4, but does not have git-svn metadata. Either dcommit the\nbranch or use a local cherry-pick, FF merge, or rebase instead of \nan explicit merge commit.\n\n\nconfig key: svn.pushmergeinfo\n+\nThis option will cause git-svn to attempt to automatically populate the\nsvn:mergeinfo property in the SVN repository when possible. Currently, this can\nonly be done when dcommitting non-fast-forward merges where all parents but the\nfirst have already been pushed into SVN.\n",
    "severity": "low",
    "tags": [
      "version-control",
      "git-svn"
    ],
    "metadata": {
      "stackoverflow_question_id": "19725045",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 245,
      "stackoverflow_creation_date": "2013-11-01T10:35:05.997Z"
    },
    "idempotency_key": "stackoverflow-19725045",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Query MySQL with BIT_AND operator",
    "body": "Im have a database which saves user preferences in binary. Chips = 1; Pizza = 2; Chinese = 4; For example, if a user likes chips, then their preference will be 1. If they like pizza, their preference will be 2. If the like both, their preference will be 3. If they like chinese and chips, but not pizza, then their preference will be 5. I need to create a mysql query where I can select all users who DO NOT like Pizza. I have attempted to solve this problem, but Im finding a lack of docs for using bit and in a where clause: Logically, this makes sense to me, but this is not right: SELECT * FROM `User` WHERE BIT_AND(preferences,2) != 2;",
    "code": "Chips = 1;\nPizza = 2;\nChinese = 4;\n\n\nSELECT * FROM `User` WHERE BIT_AND(preferences,2) != 2;\n\n\n# Solution Code:\nSELECT * FROM `User` \nWHERE preferences &amp; 2 = 0\n",
    "resolution": "SELECT * FROM `User` WHERE preferences & 2 = 0 Source SQLFiddle demo",
    "severity": "medium",
    "tags": [
      "mysql",
      "bit-manipulation",
      "where-clause"
    ],
    "metadata": {
      "stackoverflow_question_id": "19772150",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3548,
      "stackoverflow_creation_date": "2013-11-04T16:22:02.217Z"
    },
    "idempotency_key": "stackoverflow-19772150",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can I use the id of an HTML element as a variable in JavaScript?",
    "body": "Accidentally, I noticed I could use the id of an HTML element in JavaScript code. So instead of this: var myCanvas = document.getElementById('myCanvas'); myCanvas.width = '600'; myCanvas.height = '400'; I could simply not even have the first line, because the variable myCanvas apparently already exists! myCanvas.width = '600'; myCanvas.height = '400'; This is nice, but can I rely on it? Is this normal behavior that I can expect in all modern browsers? I don't care about any browsers before IE9.",
    "code": "var myCanvas = document.getElementById('myCanvas');\nmyCanvas.width = '600';\nmyCanvas.height = '400';\n\n\nmyCanvas.width = '600';\nmyCanvas.height = '400';\n\n\nid\n\nmyCanvas\n\n# Solution Code:\nvar myCanvas = document.getElementById(\"&lt;%=myCanvas.ClientID%&gt;\");\n",
    "resolution": "You can rely on it. But if the language running the site is ASP.NET, it is safer to use the ClientID. If the ID of the control changes, your code will adapt. e.g. For Javascript running over ASP.NET var myCanvas = document.getElementById(\"<%=myCanvas.ClientID%>\");",
    "severity": "medium",
    "tags": [
      "javascript",
      "html"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "19776533",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 3570,
      "stackoverflow_creation_date": "2013-11-04T20:29:10.430Z"
    },
    "idempotency_key": "stackoverflow-19776533",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Stack level too deep while registering on Devise",
    "body": "I am currently getting an error while registering with devise. When I press submit on the sign up form, I am redirected to /users with this error: SystemStackError in Devise::RegistrationsController#create stack level too deep Rails.root: /Users/user/Desktop/Programming/Rails/Site Request Parameters: {\"utf8\"=>\"✓\", \"authenticity_token\"=>\"VTOUFUYrYxUD0sJpdCz5Mpn6Dvyf7CVqUjj5oDSIqf8=\", \"user\"=>{\"email\"=>\"example@gmail.com\", \"password\"=>\"[FILTERED]\", \"password_confirmation\"=>\"[FILTERED]\"}, \"commit\"=>\"Sign up\"} I have read other people having similar problems, but none of their solutions have worked. Here is what I had tried: Running a migration, and checking for infinite recursion in routes.rb Gems: gem 'pg' gem 'forem', :github => \"radar/forem\", :branch => \"rails4\" gem 'forem-bootstrap', :github => \"radar/forem-bootstrap\", :branch => \"master\" gem 'devise', '3.0.0' gem 'kaminari' gem 'friendly_id', github: \"FriendlyId/friendly_id\" gem 'cancan' gem \"therubyracer\" gem \"less-rails\" gem \"twitter-bootstrap-rails\" gem 'twitter-bootstrap-rails' gem 'rails_12factor', group: :production",
    "code": "{\"utf8\"=&gt;\"✓\",\n \"authenticity_token\"=&gt;\"VTOUFUYrYxUD0sJpdCz5Mpn6Dvyf7CVqUjj5oDSIqf8=\",\n \"user\"=&gt;{\"email\"=&gt;\"example@gmail.com\",\n \"password\"=&gt;\"[FILTERED]\",\n \"password_confirmation\"=&gt;\"[FILTERED]\"},\n \"commit\"=&gt;\"Sign up\"}\n\n\ngem 'pg'\n\ngem 'forem', :github =&gt; \"radar/forem\", :branch =&gt; \"rails4\"\ngem 'forem-bootstrap', :github =&gt; \"radar/forem-bootstrap\", :branch =&gt; \"master\"\n\ngem 'devise', '3.0.0'\ngem 'kaminari'\ngem 'friendly_id', github: \"FriendlyId/friendly_id\"\ngem 'cancan'\n\ngem \"therubyracer\"\ngem \"less-rails\"\ngem \"twitter-bootstrap-rails\"\n\n\ngem 'twitter-bootstrap-rails'\n\ngem 'rails_12factor', group: :production\n",
    "severity": "low",
    "tags": [
      "twitter-bootstrap",
      "devise",
      "ruby-on-rails-4",
      "cancan",
      "forem"
    ],
    "metadata": {
      "stackoverflow_question_id": "19882510",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 433,
      "stackoverflow_creation_date": "2013-11-09T20:10:56.877Z"
    },
    "idempotency_key": "stackoverflow-19882510",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "(Duplicated) Difference between 'public int x;' and 'public int x { get; set; }",
    "body": "What is the difference, if any, between public int x; and public int x { get; set; } ?",
    "code": "public int x;\n\n\npublic int x { get; set; }\n\n\n# Solution Code:\nprivate int _x;\npublic int X\n{\n    get\n    {\n        return _x;\n    }\n    set\n    {\n        _x = value;\n    }\n}\n\n\n_x",
    "resolution": "The first one is called a field. The second one is a property, in this case an auto-implemented property. Properties act like fields but use a getter and a setter function to retrive and set the value. Another way of writing the above property is as follows: private int _x; public int X { get { return _x; } set { _x = value; } } The variable _x in this case is called a backing field. With an auto-implemented property you can't access the backing field or customize code in the getter/setter, but if you don't need to than it's shorter and more succinct. As a rule in C# most of the time any public member should be exposed as a property instead of a field.",
    "severity": "medium",
    "tags": [
      "c#",
      "properties",
      "duplicates"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "19882595",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 3102,
      "stackoverflow_creation_date": "2013-11-09T20:19:32.307Z"
    },
    "idempotency_key": "stackoverflow-19882595",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Ensuring a static member of a class is constructed",
    "body": "Consider the following code #include <iostream> using namespace std; struct Printer{ Printer(){ std::cout << \"Created\\n\"; } }; template<class Derived> struct InitPrinter{ static Printer p; }; template<class Derived> Printer InitPrinter<Derived>::p; struct MyClass:InitPrinter<MyClass>{ MyClass(){} }; // Uncomment line below to print out created //auto& p = MyClass::p; int main() { return 0; } I expected that this would print out \"Created\", however, it does not print out anything (tested with MSVC and with ideone gcc c++11). Is this a compiler implementation issue, or is this behavior supported by the standard? If the commented out line is uncommented then it prints out as expected. Is there any way to the static Printer p to be instantiated without requiring either changes to MyClass or extra statements like the auto& p = MyClass::p? The reason I am interested in this is I am looking to have create a templated base class, that will run some code at startup when it is derived from.",
    "code": "#include &lt;iostream&gt;\nusing namespace std;\n\nstruct Printer{\n    Printer(){\n        std::cout &lt;&lt; \"Created\\n\";\n    }\n};\n\ntemplate&lt;class Derived&gt;\nstruct InitPrinter{\n    static Printer p;\n};\n\ntemplate&lt;class Derived&gt;\nPrinter InitPrinter&lt;Derived&gt;::p;\n\n\nstruct MyClass:InitPrinter&lt;MyClass&gt;{\n     MyClass(){}\n\n};\n\n// Uncomment line below to print out created\n//auto&amp; p = MyClass::p;\n\nint main() {\n    return 0;\n}\n\n\nstatic Printer p\n\nauto&amp; p = MyClass::p",
    "severity": "low",
    "tags": [
      "c++",
      "c++11",
      "static"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "19964575",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 193,
      "stackoverflow_creation_date": "2013-11-13T21:19:34.657Z"
    },
    "idempotency_key": "stackoverflow-19964575",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Seeking large file in c++ on windows",
    "body": "I'm writing a small utility to parse xfs filesystem on windows. For small size image <5GB my utility is working fine: I'm able to list all files and directories. But when I try to parse large xfs image > 30GB. It is giving wrong results. I'm using _fseeki64 and _ftelli64 for seeking and fread for reading particular block. One of thing I've notice is that _fseeki64 is not wroking properly. Below is my seek function which seek to particular group number and block number. int FileSystemReadXFS::SeekToGroupBlock(uint16_t grpNum, uint64_t blockNum) { int error = -1; //Seek to beginning if(_fseeki64(m_fileSystemInfo.fp, (__int64)0, SEEK_SET) != 0) { PRINT_SEEK_ERROR; goto BAILOUT; } __int64 currPtr = 0; //Seek to destination group if(grpNum > 0) { if(_fseeki64(m_fileSystemInfo.fp, (__int64)(grpNum*m_fileSystemInfo.SizeOfBlockGroup*m_fileSystemInfo.BlockSize), SEEK_SET)) { PRINT_SEEK_ERROR; goto BAILOUT; } currPtr = _ftelli64(m_fileSystemInfo.fp); } //Seek to destination block in group if(blockNum > 0) { if(_fseeki64(m_fileSystemInfo.fp, (__int64)(blockNum*m_fileSystemInfo.BlockSize), SEEK_CUR)) { PRINT_SEEK_ERROR; goto BAILOUT; } currPtr = _ftelli64(m_fileSystemInfo.fp); } error = 0; BAILOUT: return error; } However the above function is taking me to wrong postion. For example when I want to seek to group number = 2 with m_fileSystemInfo.SizeOfBlockGroup = 2043982 and m_fileSystemInfo.BlockSize = 4096. I'm expecting currPrt = 2043982*4096*2 = 16744300544 (0x3E609C000), But _ftelli64 is returning (0xE609C000). Please suggest what could be going wrong. Also please advice what is the best way to deal with large files on windows in c++. Update:: I found that the seekOffset is getting limited to 8154365952 (0x1e609c000) instead of actual value of 16744300544 (0x3e609c000) inspite of me using __int64. So. _int64 seekOff = (_int64)(grpNum*m_fileSystemInfo.SizeOfBlockGroup*m_fileSystemInfo.BlockSize) = 2*2043982*4096 is giving 8154365952 instead of 16744300544. I'm not sure what could the reason as everything is in __int64.",
    "code": "int FileSystemReadXFS::SeekToGroupBlock(uint16_t grpNum, uint64_t blockNum)\n    {\n        int error = -1;\n        //Seek to beginning\n        if(_fseeki64(m_fileSystemInfo.fp, (__int64)0, SEEK_SET) != 0)\n        {\n            PRINT_SEEK_ERROR;\n            goto BAILOUT;\n        }\n        __int64 currPtr = 0;\n        //Seek to destination group\n        if(grpNum &gt; 0)\n        {\n            if(_fseeki64(m_fileSystemInfo.fp, (__int64)(grpNum*m_fileSystemInfo.SizeOfBlockGroup*m_fileSystemInfo.BlockSize), SEEK_SET))\n            {\n                PRINT_SEEK_ERROR;\n                    goto BAILOUT;\n            }\n             currPtr = _ftelli64(m_fileSystemInfo.fp);\n        }\n\n\n        //Seek to destination block in group\n        if(blockNum &gt; 0)\n        {\n            if(_fseeki64(m_fileSystemInfo.fp, (__int64)(blockNum*m_fileSystemInfo.BlockSize), SEEK_CUR))\n            {\n                PRINT_SEEK_ERROR;\n                goto BAILOUT;\n            }\n            currPtr = _ftelli64(m_fileSystemInfo.fp);\n        }\n        error = 0;\nBAILOUT:\n        return error;\n    }\n\n\n# Solution Code:\n__int64 grpNum = 2;\n__int64 sizeOfBlockGroup = 2043982;\n__int64 blockSize = 4096;\n__int64 seekOffSet = grpNum*sizeOfBlockGroup*blockSize;\n",
    "resolution": "Apparently the problem was with calculation of seek offset. It was generating integer overflow. Hence I have to convert everything to __int64 even-though I'm working on 64 bits application. I was thinking compiler might be able to do this for me. __int64 grpNum = 2; __int64 sizeOfBlockGroup = 2043982; __int64 blockSize = 4096; __int64 seekOffSet = grpNum*sizeOfBlockGroup*blockSize; which works fine with _fseeki64 and __ftelli64.",
    "severity": "medium",
    "tags": [
      "c++",
      "visual-studio-2010",
      "winapi",
      "xfs"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "19999126",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1397,
      "stackoverflow_creation_date": "2013-11-15T10:40:43.673Z"
    },
    "idempotency_key": "stackoverflow-19999126",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Windows 7 Default Printer Not Detected",
    "body": "I have an application that uses an old reporting library (ReportPro). On Windows 7 64, it sometimes fails to find the default printer. I did some digging and found the problem in the windows registry. ReportPro determines the available printers via the GetProfileString windows API. It gets a list of available printers from here: HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Devices It gets the default printer from here: HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows\\Device What I'm seeing in the windows registry is the the list of printers will show the name and the network port we are using as: HP LaserJet 5200 Series PCL 5 on Ne03: Microsoft XPS Document Writer on Ne01: HP Officejet Pro K8600 Series on Ne02: Phaser 8860-2 PS on Ne00: CutePDF Writer on CPW2: On some systems the value of the default printer string is different. It would be something like: HP LaserJet 5200 Series PCL 5 on Ne01: In particular the NExx number is different in the default printer value compared to the list of printers. The report package fails to find a default printer as it uses the printer name and the NExx number in the comparison. Why would the NExx values be different and how do I make sure the values \"stick\"? The solution I have found for the moment is to set a different printer as default and then choose the correct default printer. That seems to resolve the problem temporarily but it is not permanent. This problems seems to be Win7 only. Several of the XP machines have never had this problem in the last 8 years.",
    "code": "HKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Devices\n\n\nHKEY_CURRENT_USER\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Windows\\Device\n\n\nHP LaserJet 5200 Series PCL 5 on Ne03:\nMicrosoft XPS Document Writer on Ne01:\nHP Officejet Pro K8600 Series on Ne02:\nPhaser 8860-2 PS on Ne00:\nCutePDF Writer on CPW2:\n",
    "severity": "medium",
    "tags": [
      "windows",
      "delphi",
      "printing"
    ],
    "metadata": {
      "stackoverflow_question_id": "20004365",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2710,
      "stackoverflow_creation_date": "2013-11-15T15:20:30.473Z"
    },
    "idempotency_key": "stackoverflow-20004365",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android SQLite Query - To Search the words which starts with any digit",
    "body": "I am newbie to the android development. Can please any one let me know what is the query syntax to find out all the words which starts with any digit. I had using the following syntax but it not works for me: select * from TableName where ColumnName like '[0-9]%'; Please help me. Thanks in advance...:)",
    "code": "select * from TableName where ColumnName like '[0-9]%';\n\n\n# Solution Code:\n... WHERE ColumnName GLOB '[0-9]*';\n\n\nglob\n\nlike\n\nregexp",
    "resolution": "Use glob to get slightly more expressive power than with like, without needing to resort to regexp user functions: ... WHERE ColumnName GLOB '[0-9]*';",
    "severity": "medium",
    "tags": [
      "android",
      "android-sqlite"
    ],
    "metadata": {
      "stackoverflow_question_id": "20064584",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1369,
      "stackoverflow_creation_date": "2013-11-19T06:21:39.700Z"
    },
    "idempotency_key": "stackoverflow-20064584",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to avoid NullPointerExceptions from boxed type arithmetic in Java?",
    "body": "Given the following: Integer var1 = null; Integer var2 = 4; Integer result = var1 + var2; // throws NullPointerException The requirement for my use case is that result should be null whenever either operand is null (and the same applies for other operators). I know I can use an if statement to do this but is there a smarter way?",
    "code": "Integer var1 = null;\nInteger var2 = 4;\nInteger result = var1 + var2; // throws NullPointerException\n\n\nresult\n\nnull\n\nnull\n\nif\n\n# Solution Code:\nOptional\n\nnull",
    "resolution": "The best way is not to use Boxed types for normal arithmetic operations. Use primitive types instead. Only if you are using them in the collections somewhere you should resort to Boxed types. EDIT: Incorporating the suggestion from @Ingo there is a good utility class Optional in Guava, which explains on how to avoid nulls. Now use of this class makes it explicit that the value can be null.",
    "severity": "high",
    "tags": [
      "java",
      "null",
      "nullpointerexception",
      "operators"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "20117074",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 11740,
      "stackoverflow_creation_date": "2013-11-21T09:31:04.353Z"
    },
    "idempotency_key": "stackoverflow-20117074",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to set a value to Unbound Column cell ? (SetRowCellValue) Grinview Winforms Devexpress",
    "body": "I can able to set value to Bounded Column from Db. Using this code int c = a + b; gridView1.SetRowCellValue(gridView1.FocusedRowHandle, gridView1.Columns[\"boundcolumn\"], c); But I want to Set the this c value to Unbound Column. this code not working to Unbound Column. How to set value to Unbound Coulmn ?",
    "code": "int c = a + b;\n\n\ngridView1.SetRowCellValue(gridView1.FocusedRowHandle, gridView1.Columns[\"boundcolumn\"], c);\n\n# Solution Code:\nSetRowCellValue\n\nCustomUnboundColumnData\n\ne.IsSetData\n\nCustomUnboundColumnData\n\ne.IsGetData",
    "resolution": "Unbound column get its values using the GridView's CustomUnboundColumnData event handler. Unbound column values are not preserved by the grid, they are passed to this event handler so that a developer can catch this moment and save it. Please refer to the SetRowCellValue and Unbound Column. ticket which is also devoted to this issue. Update Please note the following. Unbound columns are intended to allow the grid to manipulate with data (group, sort, calc summary and so on) which is not the part of the gridControl's DataSource. It means that data for an unbound column should be stored by a developer himself in any external storage. When the SetRowCellValue method is called, the CustomUnboundColumnData event is raised with the e.IsSetData attribute equal to true. In this case, the developer MUST save this data somewhere and then return it within the CustomUnboundColumnData event when the e.IsGetData equal to true. I do not see the code where you save the value. So, you defenetely need to add this code. I hope this makes sense.",
    "severity": "high",
    "tags": [
      "c#",
      "winforms",
      "gridview",
      "devexpress"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "20137808",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 14392,
      "stackoverflow_creation_date": "2013-11-22T05:41:28.110Z"
    },
    "idempotency_key": "stackoverflow-20137808",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Select2 - input field without dropdown",
    "body": "I'm working with select2 and I have a input field where I want to providde search terms. As you can see I have a dropdown where I can select or type my own text. My jquery code: function createQuestionTags(data){ $(\".question\").select2({ createSearchChoice: function (term, data) { if ($(data).filter(function () { return this.text.localeCompare(term) === 0; }).length === 0) { return { id: term, text: term }; } }, data: data, placeholder: \"Enter Question\", allowClear:true }); } How can I set that it is just an input field where you can type and not with a dropdownlist?",
    "code": "function createQuestionTags(data){\n  $(\".question\").select2({\n    createSearchChoice: function (term, data) {\n        if ($(data).filter(function () {\n            return this.text.localeCompare(term) === 0;\n        }).length === 0) {\n            return {\n                id: term,\n                text: term\n            };\n        }\n    },\n    data: data,\n    placeholder: \"Enter Question\",\n    allowClear:true\n  });\n}\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "jquery-select2"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "20143034",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 7975,
      "stackoverflow_creation_date": "2013-11-22T10:49:47.633Z"
    },
    "idempotency_key": "stackoverflow-20143034",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "array_push() in function scope not affecting variable in global scope",
    "body": "I have array_push() inside of a function and need to run it inside a foreach() filling the new array. Unfortunately I can't see why this does not work. $mylist = array('house', 'apple', 'key', 'car'); $mailarray = array(); foreach ($mylist as $key) { online($key, $mailarray); } function online($thekey, $mailarray) { array_push($mailarray, $thekey); } print_r($mailarray); This is a sample function, it has more functionality and that's why I need to maintain the idea.",
    "code": "$mylist = array('house', 'apple', 'key', 'car');\n$mailarray = array();\n\nforeach ($mylist as $key) {\n    online($key, $mailarray);\n}\n\nfunction online($thekey, $mailarray) {\n    array_push($mailarray, $thekey);\n\n}\nprint_r($mailarray);\n\n\n# Solution Code:\nfunction online($thekey, &amp;$mailarray) {\n    $mailarray[] = $thekey;\n}\n\n\narray_push",
    "resolution": "PHP treats arrays as a sort of “value type” by default (copy on write). You can pass it by reference: function online($thekey, &$mailarray) { $mailarray[] = $thekey; } See also the signature of array_push.",
    "severity": "high",
    "tags": [
      "php",
      "function",
      "scope"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "20169327",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 16146,
      "stackoverflow_creation_date": "2013-11-23T23:42:51.380Z"
    },
    "idempotency_key": "stackoverflow-20169327",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "vagrant up: config.ssh.timeout",
    "body": "I do not understand why I cannot \"vagrant up\" anymore after I run some provisioning scripts (I use ansible). [default] Waiting for machine to boot. This may take a few minutes... Timed out while waiting for the machine to boot. This means that Vagrant was unable to communicate with the guest machine within the configured (\"config.ssh.timeout\" value) time period. This can mean a number of things. If you're using a custom box, make sure that networking is properly working and you're able to connect to the machine. It is a common problem that networking isn't setup properly in these boxes. Verify that authentication configurations are also setup properly, as well. If the box appears to be booting properly, you may want to increase the timeout (\"config.ssh.timeout\") value. What can be broken? What is vagrant trying to do when running vagrant up? Connecting with the default user, i.e. \"vagrant\" ? Obviously it is related to SSH. Yes I pushed some SSH keys but I do not think I changed the vagrant user at all so \"vagrant up\" should still work right? I also changed a little bit the /etc/sudoers file but I tried without modifying it and it does not seem to work anyway... Well, I am running out of ideas.. Thanks.",
    "code": "[default] Waiting for machine to boot. This may take a few minutes...\nTimed out while waiting for the machine to boot. This means that\nVagrant was unable to communicate with the guest machine within\nthe configured (\"config.ssh.timeout\" value) time period. This can\nmean a number of things.\n\nIf you're using a custom box, make sure that networking is properly\nworking and you're able to connect to the machine. It is a common\nproblem that networking isn't setup properly in these boxes.\nVerify that authentication configurations are also setup properly,\nas well.\n\nIf the box appears to be booting properly, you may want to increase\nthe timeout (\"config.ssh.timeout\") value.\n\n\n# Solution Code:\nvbox.gui\n\nVagrantfile\n\nvagrant ssh\n\nVAGRANT_LOG=debug vagrant up",
    "resolution": "My 2 cents Set vbox.gui to true in your Vagrantfile, this will help you to see if the box is booted correctly. It cloud get stuck during the boot process, however, vagrant is expecting an exit code from it, it timed out and you get what you saw. After seeing the error message, run vagrant ssh and see what you get. NOTE: you may need to enable debug to see more info: VAGRANT_LOG=debug vagrant up BTW: make sure your vagrant (1.3.5) + VirtualBox (4.3.2) stays current.",
    "severity": "high",
    "tags": [
      "ssh",
      "vagrant"
    ],
    "metadata": {
      "stackoverflow_question_id": "20184896",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 11144,
      "stackoverflow_creation_date": "2013-11-25T04:43:30.573Z"
    },
    "idempotency_key": "stackoverflow-20184896",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cordova Android Plugin: config.xml overwritten by cordova prepare?",
    "body": "I'm developing a Cordova plugin for the Android platform. As described here, I edited the platforms/android/res/xml/config.xml file to include the plugin's class mapping. It all works perfectly fine except that every time I run cordova prepare android this file get's overwritten saying: Generating config.xml from defaults for platform \"android\" So, I have to undo the change every time which is very annoying. Is there a way to tell cordova not to do that or insert the class mapping somewhere else?",
    "code": "Generating config.xml from defaults for platform \"android\"\n\n\nplatforms/android/res/xml/config.xml\n\ncordova prepare android\n\n# Solution Code:\nPLUGIN_NAME\\\n src\\\n  PLATFORM_NAME\\\n   PLAFORM_SPECIFIC_FILES\n www\\\n  PLUGIN_JS_FILE\n plugin.xml\n\n\nBackgroundAPI\\\n plugin.xml\n src\\\n  android\\\n   BackgroundAPI.java\n  ios\\\n   BackgroundAPI.h\n   BackgroundAPI.m\n www\\\n  BackgroundAPI.js\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;plugin xmlns=\"http://apache.org/cordova/ns/plugins/1.0\"\n    id=\"com.dawsonloudon.backgroundapi\"\n    version=\"1.0.0\"&gt;\n    &lt;name&gt;backgroundapi&lt;/name&gt;\n    &lt;description&gt;run external api calls on a background thread&lt;/description&gt;\n    &lt;license&gt;MIT&lt;/license&gt;\n\n    &lt;js-module src=\"www/BackgroundAPI.js\" name=\"BackgroundAPI\"&gt;\n        &lt;clobbers target=\"BackgroundAPI\" /&gt;\n    &lt;/js-module&gt;\n\n    &lt;platform name=\"ios\"&gt;\n        &lt;config-file target=\"config.xml\" parent=\"/*\"&gt;\n            &lt;feature name=\"BackgroundAPI\"&gt;\n                &lt;param name=\"ios-package\" value=\"BackgroundAPI\" /&gt;\n            &lt;/feature&gt;\n        &lt;/config-file&gt;\n\n        &lt;header-file src=\"src/ios/BackgroundAPI.h\" /&gt;\n        &lt;source-file src=\"src/ios/BackgroundAPI.m\" /&gt;\n    &lt;/platform&gt;\n\n    &lt;platform name=\"android\"&gt;\n        &lt;config-file target=\"res/xml/config.xml\" parent=\"/*\"&gt;\n            &lt;feature name=\"BackgroundAPI\" &gt;\n                &lt;param name=\"android-package\" value=\"com.dawsonloudon.backgroundapi.BackgroundAPI\"/&gt;\n            &lt;/feature&gt;\n        &lt;/config-file&gt;\n\n        &lt;config-file target=\"AndroidManifest.xml\" parent=\"/*\"&gt;\n            &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n        &lt;/config-file&gt;\n        &lt;source-file src=\"src/android/BackgroundAPI.java\" target-dir=\"src/com/dawsonloudon/backgroundapi\" /&gt;\n    &lt;/platform&gt;\n\n&lt;/plugin&gt;\n\n\ncordova plugin add /PATH/TO/YOUR/PLUGIN\n",
    "resolution": "You will want to create a plugin package and install it to fix this issue. A plugin package has a plugin.xml file, a JS file and your native code stored in this structure: PLUGIN_NAME\\ src\\ PLATFORM_NAME\\ PLAFORM_SPECIFIC_FILES www\\ PLUGIN_JS_FILE plugin.xml EXAMPLE: BackgroundAPI\\ plugin.xml src\\ android\\ BackgroundAPI.java ios\\ BackgroundAPI.h BackgroundAPI.m www\\ BackgroundAPI.js In your plugin.xml you define the items that will be placed into config.xml when the plugin is installed. This make sure your code is not removed each time run the build or prepare command. Example: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <plugin xmlns=\"http://apache.org/cordova/ns/plugins/1.0\" id=\"com.dawsonloudon.backgroundapi\" version=\"1.0.0\"> <name>backgroundapi</name> <description>run external api calls on a background thread</description> <license>MIT</license> <js-module src=\"www/BackgroundAPI.js\" name=\"BackgroundAPI\"> <clobbers target=\"BackgroundAPI\" /> </js-module> <platform name=\"ios\"> <config-file target=\"config.xml\" parent=\"/*\"> <feature name=\"BackgroundAPI\"> <param name=\"ios-package\" value=\"BackgroundAPI\" /> </feature> </config-file> <header-file src=\"src/ios/BackgroundAPI.h\" /> <source-file src=\"src/ios/BackgroundAPI.m\" /> </platform> <platform name=\"android\"> <config-file target=\"res/xml/config.xml\" parent=\"/*\"> <feature name=\"BackgroundAPI\" > <param name=\"android-package\" value=\"com.dawsonloudon.backgroundapi.BackgroundAPI\"/> </feature> </config-file> <config-file target=\"AndroidManifest.xml\" parent=\"/*\"> <uses-permission android:name=\"android.permission.INTERNET\" /> </config-file> <source-file src=\"src/android/BackgroundAPI.java\" target-dir=\"src/com/dawsonloudon/backgroundapi\" /> </platform> </plugin> Once you have this all built out in a separate directory from your project, go to your project directory and run: cordova plugin add /PATH/TO/YOUR/PLUGIN Now that the plugin is installed, you will have a plugins folder in your project and all of your config.xml edits will always be present. To edit your plugin, you make changes to the JS file in /plugins/PLUGIN_NAME/www To edit the native code, browse to /platforms/PLATFORM/ and find your native code. Everytime you build or prepare, your JS file will be rewritten to the platform specific paths from the plugins directory, but your native code is only written to the /platforms/ paths once when the plugin is installed. I advise that once your plugin is complete, you should collect all of your plugin specific files and copy them back to your plugin package directory so you can use them again in future projects (or post them for open sourcing for others to use).",
    "severity": "high",
    "tags": [
      "android",
      "cordova"
    ],
    "metadata": {
      "stackoverflow_question_id": "20283265",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 17754,
      "stackoverflow_creation_date": "2013-11-29T10:12:10.040Z"
    },
    "idempotency_key": "stackoverflow-20283265",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "iBeacon cannot be found by iPhone 4S",
    "body": "I am encountering a weird problem involving an iPhone 4S. I am developing an application that uses iBeacons. The following code is what is running on an iPad mini, iPhone 5s and iPhone 4s, but only the iPad and the 5S are able to respond when they encounter the iBeacon, and the 4S doesn't do anything. - (void)viewDidLoad { [super viewDidLoad]; // Do any additional setup after loading the view. //start ibeacon monitoring mode self.locationManager = [[CLLocationManager alloc] init]; self.locationManager.delegate = self; self.peripheralManager = [[CBPeripheralManager alloc] initWithDelegate:self queue:nil]; [self enableMonitoring]; } - (void)enableMonitoring { [self initRegion]; [self locationManager:self.locationManager didStartMonitoringForRegion:self.beaconRegion]; } - (void)locationManager:(CLLocationManager *)manager didStartMonitoringForRegion:(CLRegion *)region { [self.locationManager startRangingBeaconsInRegion:self.beaconRegion]; } - (void) initRegion { self.beaconRegion = [[CLBeaconRegion alloc] initWithProximityUUID:[[NSUUID alloc] initWithUUIDString:UUID] identifier:@\"iBeacon\"]; [self.locationManager startMonitoringForRegion:self.beaconRegion]; hasAlerted = NO; } - (void)locationManager:(CLLocationManager *)manager didEnterRegion:(CLRegion *)region { ST_UNUSED(manager); ST_UNUSED(region); NSLog(@\"Beacon Found\"); [self.locationManager startRangingBeaconsInRegion:self.beaconRegion]; } - (void)locationManager:(CLLocationManager *)manager didExitRegion:(CLRegion *)region { ST_UNUSED(manager); ST_UNUSED(region); NSLog(@\"Left Region\"); [self.locationManager stopRangingBeaconsInRegion:self.beaconRegion]; } - (void)locationManager:(CLLocationManager *)manager didRangeBeacons:(NSArray *)beacons inRegion:(CLBeaconRegion *)region { ST_UNUSED(manager); ST_UNUSED(region); CLBeacon *beacon = [beacons lastObject]; // stuff gets done here } The 4S can broadcast iBeacons without a problem, and the other 2 can find them. I have done the [CLLocationManager isMonitoringAvailableForClass:[CLBeacon class]] and [CLLocationManager isRangingAvailable] tests on the 4S, and they don't fail. Can anyone enlighten me if this is only a problem with our 4S, or it's a 4S problem in general?",
    "code": "- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    // Do any additional setup after loading the view.\n\n    //start ibeacon monitoring mode\n    self.locationManager = [[CLLocationManager alloc] init];\n    self.locationManager.delegate = self;\n    self.peripheralManager = [[CBPeripheralManager alloc] initWithDelegate:self queue:nil];\n    [self enableMonitoring];\n}\n\n- (void)enableMonitoring\n{\n    [self initRegion];\n    [self locationManager:self.locationManager didStartMonitoringForRegion:self.beaconRegion];\n}\n\n- (void)locationManager:(CLLocationManager *)manager didStartMonitoringForRegion:(CLRegion *)region\n{\n    [self.locationManager startRangingBeaconsInRegion:self.beaconRegion];\n}\n\n- (void) initRegion\n{\n    self.beaconRegion = [[CLBeaconRegion alloc] initWithProximityUUID:[[NSUUID alloc] initWithUUIDString:UUID]\n                                                           identifier:@\"iBeacon\"];\n    [self.locationManager startMonitoringForRegion:self.beaconRegion];\n    hasAlerted = NO;\n}\n\n- (void)locationManager:(CLLocationManager *)manager didEnterRegion:(CLRegion *)region {\n    ST_UNUSED(manager);\n    ST_UNUSED(region);\n    NSLog(@\"Beacon Found\");\n    [self.locationManager startRangingBeaconsInRegion:self.beaconRegion];\n}\n\n- (void)locationManager:(CLLocationManager *)manager didExitRegion:(CLRegion *)region {\n    ST_UNUSED(manager);\n    ST_UNUSED(region);\n    NSLog(@\"Left Region\");\n    [self.locationManager stopRangingBeaconsInRegion:self.beaconRegion];\n}\n\n- (void)locationManager:(CLLocationManager *)manager didRangeBeacons:(NSArray *)beacons inRegion:(CLBeaconRegion *)region {\n    ST_UNUSED(manager);\n    ST_UNUSED(region);\n    CLBeacon *beacon = [beacons lastObject];\n\n    // stuff gets done here\n\n}\n\n\n[CLLocationManager isMonitoringAvailableForClass:[CLBeacon class]]\n\n[CLLocationManager isRangingAvailable]\n\n# Solution Code:\n[locationManager startRangingBeaconsInRegion:beaconRegion];\n",
    "resolution": "I don't think you have a defective unit, because I had the exact same problem! Same code worked great on 5S, but did not find beacons using 4S. Turns out (it appears) that the 4S BLE stack works a little differently than the 5S. The way I wrote my code, I did not start ranging for the beacon until \"locationManager didDetermineState forRegion\" was called and I determined that I was actually inside the beacon region. This works great on iPhone 5S and you aren't ranging for no good reason. But on a 4S you never get the callback! But, if you start ranging earlier by putting: [locationManager startRangingBeaconsInRegion:beaconRegion]; inside the \"locationManager didStartMonitoringForRegion\" callback, it works like a champ!",
    "severity": "medium",
    "tags": [
      "iphone",
      "ios7",
      "ibeacon"
    ],
    "metadata": {
      "stackoverflow_question_id": "20328499",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2717,
      "stackoverflow_creation_date": "2013-12-02T12:34:35.353Z"
    },
    "idempotency_key": "stackoverflow-20328499",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How does youtube calculate the unique 11 digit code for each video",
    "body": "Youtube seems to have a unique 11 digit code for each video. the code includes 1-9,A-Z,a-z, and some symbols like +_* etc. How would they calculate this unique code for each video? I am working on something where I'd like to assign a unique code to each record so hence the question. My questions/concerns are: If they make it on-the-fly (when videos are submitted) then they'd have to check whether the code prepared for the video already exists or not? That would be an expensive operation across huge dataset like theirs. Would they run a batch job sort of thing every night or every month that creates unique codes and stash them in the DB. Then as the video is submitted it just takes a code and marks it off as \"used\" Would it make sense to take the auto-generated and auto-incremented ID column for each record in the DB and then somehow convert that unique ID column to an 11 digit code? My goal is to: create a unique code for a record in the table. The user can share the url with that unique code with anyone. When someone comes in via the unique code. Then their \"coming in\" gets tied to the original user who shared the url with unique code.",
    "code": "1-9,A-Z,a-z\n\n+_*\n\nID\n\nID",
    "severity": "medium",
    "tags": [
      "java",
      "algorithm",
      "youtube"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "20481714",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 3074,
      "stackoverflow_creation_date": "2013-12-09T21:59:58.390Z"
    },
    "idempotency_key": "stackoverflow-20481714",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Two instances of the same Python module?",
    "body": "I created a Python module with a single function that just prints 'a!'. I opened up the Python interpreter and imported the module in 2 different syntaxes >>> import a >>> from a import func >>> func() a! >>> a.func() a! At this point I changed func to print something else, then evaluates again >>> func() a! >>> a.func() a! This is expected of course as the module was not reloaded. Then I reloaded the module and expected both functions to update, however: >>> reload(a) <module 'a' from 'a.py'> >>> a.func() aasd! >>> func() a! Only a.func seems to update. I always thought that Python keeps only a single instance of the same module, but now there appears to be two. I did further testing in order to verify my claim, and added a print statement at top level of the module, then restarted the interpreter and imported again: >>> import a module imported >>> import a >>> from a import func This confuses me even more as I expected to see 'module imported' twice. The third experiment that I did was the global variable experiment: >>> import a module imported >>> from a import GLOBAL_VAR >>> GLOBAL_VAR = 5 >>> a.GLOBAL_VAR 1 >>> GLOBAL_VAR 5 >>> GLOBAL_VAR is a.GLOBAL_VAR False So there's a single instance of the module, but different instances of the objects inside? How is it possible to implement Gevent's monkey patching with such behaviour?",
    "code": "&gt;&gt;&gt; import a\n&gt;&gt;&gt; from a import func\n&gt;&gt;&gt; func()\na!\n&gt;&gt;&gt; a.func()\na!\n\n\n&gt;&gt;&gt; func()\na!\n&gt;&gt;&gt; a.func()\na!\n\n\n&gt;&gt;&gt; reload(a)\n&lt;module 'a' from 'a.py'&gt;\n&gt;&gt;&gt; a.func()\naasd!\n&gt;&gt;&gt; func()\na!\n\n\n&gt;&gt;&gt; import a\nmodule imported\n&gt;&gt;&gt; import a\n&gt;&gt;&gt; from a import func\n\n\n&gt;&gt;&gt; import a\nmodule imported\n&gt;&gt;&gt; from a import GLOBAL_VAR\n&gt;&gt;&gt; GLOBAL_VAR = 5\n&gt;&gt;&gt; a.GLOBAL_VAR\n1\n&gt;&gt;&gt; GLOBAL_VAR\n5\n&gt;&gt;&gt; GLOBAL_VAR is a.GLOBAL_VAR\nFalse\n\n\n# Solution Code:\nx = SomeObject()\nx.y = 1\na = x.y\nx.y = 2\nprint(a) #a is still 1, not 2\n\n\nimport module\nname = module.name\n\n\nfrom module import name\n\nname\n\nmodule\n\nname\n\nsys.modules\n\nprint",
    "resolution": "A module, once it's imported, is just another python object. So seeing the following example, your results should not surprise you at all: x = SomeObject() x.y = 1 a = x.y x.y = 2 print(a) #a is still 1, not 2 When you do from module import name, a variable name is created in the current namespace which holds a reference to the imported thing (be it a package/module/class/whatever). It's syntactic sugar for the following: import module name = module.name Now, when you reload module, you obviously don't update the reference name holds. Concerning your second experiment, a module is cached in sys.modules after the import; subsequent imports will take advantage of the cache. Thus all code that is directly at the module level, like your print, will only get executed on the first import.",
    "severity": "medium",
    "tags": [
      "python",
      "python-2.7",
      "python-module",
      "python-internals"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "20605799",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 6492,
      "stackoverflow_creation_date": "2013-12-16T07:49:20.057Z"
    },
    "idempotency_key": "stackoverflow-20605799",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What are the pros and cons of passing *all* javascript variables (even undefined) as function arguments?",
    "body": "Let's take the Google Analytics Universal script as premise of the practice I am looking to clarify, validate and/or expand on: <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga'); </script> Google has chosen to pass all variables as arguments instead of declaring them with var. The clear benefit in this case, is to minify the code to a maximum (avoiding the var keyword in scope and the = character repeats) with a and m being undefined... While it is common to pass an existing variable as argument, or an object into scope, passing undefined variables as argument to skip declaring them is quite unusual. I am interesting in knowing whether there are known caveats with that approach. Particularly: Does this use more or less memory, or is it equivalent to declared vars in the function scope? Does it make any difference in regard to the garbage collector, and how so? And does an increased or extensive amount of passed arguments to a function have any downsides in terms of performance? Additional Notes: Please, NO GUESS ANSWER. I am not interested in opinion based answers. Also the question is not about passing object scope as already answered at: https://stackoverflow.com/a/4665324/1647538. So please don't answer for that particular aspect. I am only looking for verifiable fact-based answers from javascript seasoned experts or browser implementors, with extensive knowledge of javascript compilers, and how garbage collectors work.",
    "code": "&lt;script&gt;\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');\n&lt;/script&gt;\n\n\nvar\n\nvar\n\n=\n\na\n\nm",
    "severity": "low",
    "tags": [
      "javascript",
      "performance",
      "function",
      "minify"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "20673056",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 360,
      "stackoverflow_creation_date": "2013-12-19T03:40:57.807Z"
    },
    "idempotency_key": "stackoverflow-20673056",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get MAX value from a TOP number of records",
    "body": "I have the following MS SQL Query select top 10 RegisterTime from orderNotifications order by RegisterTime asc How can I get the max RegisterTime of that query ? I have tried this select max(RegisterTime) in ( select top 10 RegisterTime from orderNotifications order by RegisterTime asc ) But I am getting Msg 156, Level 15, State 1, Line 1 Incorrect syntax near the keyword 'in'. Msg 156, Level 15, State 1, Line 4 Incorrect syntax near the keyword 'order'.",
    "code": "select top 10 RegisterTime\nfrom  orderNotifications\norder by RegisterTime asc\n\n\nselect max(RegisterTime) in (\n    select top 10 RegisterTime\n    from  orderNotifications\n    order by RegisterTime asc\n)\n\n\nRegisterTime\n\n# Solution Code:\nSELECT MAX(RegisterTime)\nFROM (SELECT TOP 10 RegisterTime\n      FROM orderNotifications\n      ORDER BY RegisterTime\n      )sub\n\n\nTOP 10",
    "resolution": "Make your TOP 10 query a subquery: SELECT MAX(RegisterTime) FROM (SELECT TOP 10 RegisterTime FROM orderNotifications ORDER BY RegisterTime )sub",
    "severity": "low",
    "tags": [
      "sql",
      "sql-server"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "20691189",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 172,
      "stackoverflow_creation_date": "2013-12-19T20:36:13.087Z"
    },
    "idempotency_key": "stackoverflow-20691189",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why doesn't Numpy allow chaining of conditional indexing?",
    "body": "I'm trying to index one array based on the contents of another like so: import numpy as np a = np.random.randint(0,100,10) b = np.linspace(0,100,10) print a[b<75] This works fine, but what I really want to do is index based on two conditions, like this: print a[25<b<75] But this yields the following error: ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all() Thanks for any help!",
    "code": "import numpy as np\n\na = np.random.randint(0,100,10)\nb = np.linspace(0,100,10)\n\nprint a[b&lt;75]\n\n\nprint a[25&lt;b&lt;75]\n\n\n# Solution Code:\nx &lt; y and y &lt;= z\n\n[a bool ndarray] and [a bool ndarray]\n\nand\n\nb==True\n\n(b &gt; 25) &amp; (b &lt; 75)",
    "resolution": "From the Python docs: Comparisons can be chained arbitrarily, e.g., x < y <= z is equivalent to x < y and y <= z But Numpy arrays do not fit the pattern x < y and y <= z, because it means [a bool ndarray] and [a bool ndarray], and this requires that on both sides of the and the numpy ndarrays would have a bool value for the entire array (e.g., b==True), which is not defined. Therefore, you have to use the binary bitwise operations on arrays for an element-wise \"and\": (b > 25) & (b < 75).",
    "severity": "medium",
    "tags": [
      "python",
      "numpy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "20731233",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1005,
      "stackoverflow_creation_date": "2013-12-22T16:00:26.360Z"
    },
    "idempotency_key": "stackoverflow-20731233",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Execution failed app:processDebugResources Android Studio",
    "body": "I'm using bitbucket so I can work with other developer but it seems that we can't get it to work flawlessly. I got this error after pulling the changes from him: Execution failed for task ':app:processDebugResources'. > com.android.ide.common.internal.LoggedErrorException: Failed to run command: E:\\Program Files (x86)\\Android\\android-sdk\\build-tools\\19.0.0\\aapt.exe package -f --no-crunch -I E:\\Program Files (x86)\\Android\\android-sdk\\platforms\\android-19\\android.jar -M E:\\Documents\\smart-my-job1\\app\\build\\manifests\\debug\\AndroidManifest.xml -S E:\\Documents\\smart-my-job1\\app\\build\\res\\all\\debug -A E:\\Documents\\smart-my-job1\\app\\build\\assets\\debug -m -J E:\\Documents\\smart-my-job1\\app\\build\\source\\r\\debug -F E:\\Documents\\smart-my-job1\\app\\build\\libs\\app-debug.ap_ --debug-mode --custom-package com.smartmyjob Error Code: -1073741819",
    "code": "Execution failed for task ':app:processDebugResources'.\n&gt; com.android.ide.common.internal.LoggedErrorException: Failed to run command:\n    E:\\Program Files (x86)\\Android\\android-sdk\\build-tools\\19.0.0\\aapt.exe package -f --no-crunch -I E:\\Program Files (x86)\\Android\\android-sdk\\platforms\\android-19\\android.jar -M E:\\Documents\\smart-my-job1\\app\\build\\manifests\\debug\\AndroidManifest.xml -S E:\\Documents\\smart-my-job1\\app\\build\\res\\all\\debug -A E:\\Documents\\smart-my-job1\\app\\build\\assets\\debug -m -J E:\\Documents\\smart-my-job1\\app\\build\\source\\r\\debug -F E:\\Documents\\smart-my-job1\\app\\build\\libs\\app-debug.ap_ --debug-mode --custom-package com.smartmyjob\nError Code:\n    -1073741819\n\n\n# Solution Code:\nbuildToolsVersion \"21.0.1\"\n\n\napp/build.gradle",
    "resolution": "For me it helped to change the version of buildTools to: buildToolsVersion \"21.0.1\" You will find this setting inside the file app/build.gradle.",
    "severity": "high",
    "tags": [
      "android",
      "android-studio",
      "bitbucket"
    ],
    "metadata": {
      "stackoverflow_question_id": "20737200",
      "stackoverflow_score": 138,
      "stackoverflow_view_count": 532950,
      "stackoverflow_creation_date": "2013-12-23T04:57:09.327Z"
    },
    "idempotency_key": "stackoverflow-20737200",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Allow users to include class without including headers used for privates",
    "body": "Sorry for the long and confusing title. I have a class header file like this #pragma once #include <thread> #include <boost/asio.hpp> #include <another3rdpartylib/doodads.h> class A { public: A(); Method1(); Method2(); private: std::thread thread; boost::asio::socket socket; another3dpartylib::doodad gizmo; } Now the users of the class don't and shouldn't care about the private parts. How can I allow the users to include the class without dragging <thread>, <boost/asio.hpp> and <another3rdpartylib/doodads.h>? Technically the only thing the users should care about is sizeof(A). Am I mistaken?",
    "code": "#pragma once\n#include &lt;thread&gt;\n#include &lt;boost/asio.hpp&gt;\n#include &lt;another3rdpartylib/doodads.h&gt;\n\nclass A {\npublic:\n  A();\n  Method1();\n  Method2();\nprivate:\n  std::thread thread;\n  boost::asio::socket socket;\n  another3dpartylib::doodad gizmo;\n}\n\n\n&lt;thread&gt;\n\n&lt;boost/asio.hpp&gt;\n\n&lt;another3rdpartylib/doodads.h&gt;\n\nsizeof(A)\n\n# Solution Code:\nclass fast_stack\n{\npublic:\n    void push( float );\n    float pop();\n};\n\n\n//stack_inferno.hpp\n\n#include &lt;thread&gt;\n#include &lt;Boost/ASIO&gt;\n... More monters here\n\nclass fast_stack_infernal_implementation\n{\n   std::thread* _mptr_thread_lcl;\n   float******* _suicide_cache_memory_pool;\n   ... etc etc\n\n   void push( float elem )\n   {\n        //Please don't see this code, it could hurt your eyes\n   }\n\n   float pop()\n   {\n        // Same as above\n   }\n};\n\n\n\n//fast_stack.hpp (Revisited)\n\nclass fast_stack_infernal_implementation; //Note the forward declaration. \n\nclass fast_stack\n{\npublic:\n    void push( float );\n    float pop();\n\nprivate:\n    std::unique_ptr&lt;fast_stack_infernal_implementation&gt; implm;\n};\n\n\n\n//fast_stack.cpp\n\n#include \"stack_inferno.hpp\" //Tah daah!\n\n\nfast_stack::fast_stack() : impl( new fast_stack_infernal_implementation() )\n{\n}\n\nvoid fast_stack::push( float elem )\n{\n     implm-&gt;push( elem );\n}\n\nfloat fast_stack::push()\n{\n     return implm-&gt;pop();\n}\n",
    "resolution": "The common way in C++ to split the interface and implementation of a class is to use the Pointer To Implementation (PIMPL) Idiom. The PIMPL idiom encapsulates the implementation of a class by storing a reference/pointer to a class which is in charge of doing the things, only offering the user a class, the interface, which only acts as a wrapper of the implementation class. For example: Consider a library which implements a extremely fast stack for floating-point operations. The interface of the container is very simple: class fast_stack { public: void push( float ); float pop(); }; But as this library implements a extremely fast stack, its implementation is based on extremely complicated libraries, inline assembly, brainfuck interoperability etc. The user of that library only want's a stack, not a horrible bunch of code, libraries, and dependencies. How we could hide all of that scream and only provide him a simple and clean interface? Thats where the PIMPL kicks in: //stack_inferno.hpp #include <thread> #include <Boost/ASIO> ... More monters here class fast_stack_infernal_implementation { std::thread* _mptr_thread_lcl; float******* _suicide_cache_memory_pool; ... etc etc void push( float elem ) { //Please don't see this code, it could hurt your eyes } float pop() { // Same as above } }; //fast_stack.hpp (Revisited) class fast_stack_infernal_implementation; //Note the forward declaration. class fast_stack { public: void push( float ); float pop(); private: std::unique_ptr<fast_stack_infernal_implementation> implm; }; //fast_stack.cpp #include \"stack_inferno.hpp\" //Tah daah! fast_stack::fast_stack() : impl( new fast_stack_infernal_implementation() ) { } void fast_stack::push( float elem ) { implm->push( elem ); } float fast_stack::push() { return implm->pop(); } As you can see, the PIMPL idiom has many advantages: Hides the complexity of an implementation to the user, and provides only the interface. The user header file (The interface header file) does not include the implementation header, so a change on the implementation does not result in a recompilation of the hole library, and the user code. This is a very important point for a library, because changes on the library not always breaks the user code.",
    "severity": "low",
    "tags": [
      "c++",
      "c++11"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "20804621",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 349,
      "stackoverflow_creation_date": "2013-12-27T16:59:54.240Z"
    },
    "idempotency_key": "stackoverflow-20804621",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Looking for macro converting decimal value into its hex representation",
    "body": "In one of my projects I'm defining the current version as a decimal value, which looks something like that: #define MINOR_VERSION 13 In order to be able to output the version when asked for it, I need to get the hex representation into a string. Currently I'm working with sprintf(), which basically looks like this: char buffer[3]; sprintf(buffer, \"%2x\", MINOR_VERSION); // output buffer This has a couple of drawbacks, one of which is the increased code size as sprintf() needs to be included. Furthermore the value gets calculated during runtime, which is wasted effort anyway. Both of these issues are critical to me, as I'm working with microcontrollers here. Maybe I'm missing the totally obvious, but I can't come up with a nice and clean macro doing the conversion for me. In principle I need a way to convert 13 into its hex representation (2 digits, without the typically preceding 0x) 0d during compilation. What would you suggest?",
    "code": "#define MINOR_VERSION 13\n\n\nchar buffer[3];\nsprintf(buffer, \"%2x\", MINOR_VERSION);\n// output buffer\n\n\n13\n\n0d\n\n# Solution Code:\n#include &lt;stdio.h&gt;\n\n#define VERSION 0xd\n#define STRINGIFY(x) #x\n#define TOSTRING(x) STRINGIFY(x)\n\nint main() {\n  printf(\"hello \" TOSTRING(VERSION) \"\\n\");\n  printf(\"%d\\n\", VERSION);\n}\n",
    "resolution": "Flip the problem around, and define the version as a hexadecimal. When you need to use it as a string, use the answer from here to convert it to a string. Then you can do things like this: #include <stdio.h> #define VERSION 0xd #define STRINGIFY(x) #x #define TOSTRING(x) STRINGIFY(x) int main() { printf(\"hello \" TOSTRING(VERSION) \"\\n\"); printf(\"%d\\n\", VERSION); }",
    "severity": "medium",
    "tags": [
      "c",
      "macros",
      "hex",
      "decimal"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "20831922",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 6922,
      "stackoverflow_creation_date": "2013-12-30T00:59:58.307Z"
    },
    "idempotency_key": "stackoverflow-20831922",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the difference between an App and Application in c#.net?",
    "body": "Is there any difference between App and Application in c#? I am trying to use App.current.Resources in control library which is loaded in main WPF application. But it is not possible in a straight way, but at the same time it is allowing me to use Application.current.Resources Could anyone help me to understand the basic differences between these two. Is there any flaw on using Application.Current.Resources instead of App.current.Resources?",
    "code": "App\n\nApplication\n\nApp.current.Resources\n\nWPF\n\nApplication.current.Resources\n\nApplication.Current.Resources\n\nApp.current.Resources\n\n# Solution Code:\npublic partial class App : Application\n\n\nApplication.Current.Resources//Accessing current through base class\nApp.Current.Resources//Accessing current through derived class\n\n\nApp\n\nApplication\n\nCurrent\n\nApplication",
    "resolution": "App is the default class name for your Application. It will be defined in your project by autogenerated code as follows. public partial class App : Application So indeed both are same, You're accessing static Current property defined in Application class only. Application.Current.Resources//Accessing current through base class App.Current.Resources//Accessing current through derived class",
    "severity": "medium",
    "tags": [
      "c#",
      ".net",
      "wpf"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "20877490",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 2265,
      "stackoverflow_creation_date": "2014-01-02T06:25:32.917Z"
    },
    "idempotency_key": "stackoverflow-20877490",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to spyOn a value property (rather than a method) with Jasmine",
    "body": "Jasmine's spyOn is good to change a method's behavior, but is there any way to change a value property (rather than a method) for an object? the code could be like below: spyOn(myObj, 'valueA').andReturn(1); expect(myObj.valueA).toBe(1);",
    "code": "spyOn(myObj, 'valueA').andReturn(1);\nexpect(myObj.valueA).toBe(1);\n\n\nspyOn\n\n# Solution Code:\nconst spy = spyOnProperty(myObj, 'myGetterName', 'get'); // to stub and return nothing. Just spy and stub.\nconst spy = spyOnProperty(myObj, 'myGetterName', 'get').and.returnValue(1); // to stub and return 1 or any value as needed.\nconst spy = spyOnProperty(myObj, 'myGetterName', 'get').and.callThrough(); // Call the real thing.\n\n\nconst spy = spyOnProperty(myObj, 'valueA', 'get').andReturn(1);\nexpect(myObj.valueA).toBe(1);\nexpect(spy).toHaveBeenCalled();\n\n\nconst spy = spyOnProperty(myObj, 'myGetterName', 'get');\n\nget myGetterName() {}\n\nget\n\nset\n\nspyOn",
    "resolution": "In February 2017, they merged a PR adding this feature, they released in April 2017. so to spy on getters/setters you use: const spy = spyOnProperty(myObj, 'myGetterName', 'get'); where myObj is your instance, 'myGetterName' is the name of that one defined in your class as get myGetterName() {} and the third param is the type get or set. You can use the same assertions that you already use with the spies created with spyOn. So you can for example: const spy = spyOnProperty(myObj, 'myGetterName', 'get'); // to stub and return nothing. Just spy and stub. const spy = spyOnProperty(myObj, 'myGetterName', 'get').and.returnValue(1); // to stub and return 1 or any value as needed. const spy = spyOnProperty(myObj, 'myGetterName', 'get').and.callThrough(); // Call the real thing. Here's the line in the github source code where this method is available if you are interested. https://github.com/jasmine/jasmine/blob/7f8f2b5e7a7af70d7f6b629331eb6fe0a7cb9279/src/core/requireInterface.js#L199 And the spyOnProperty method is here Answering the original question, with jasmine 2.6.1, you would: const spy = spyOnProperty(myObj, 'valueA', 'get').andReturn(1); expect(myObj.valueA).toBe(1); expect(spy).toHaveBeenCalled();",
    "severity": "high",
    "tags": [
      "javascript",
      "unit-testing",
      "mocking",
      "jasmine"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "20879990",
      "stackoverflow_score": 151,
      "stackoverflow_view_count": 212381,
      "stackoverflow_creation_date": "2014-01-02T09:38:19.737Z"
    },
    "idempotency_key": "stackoverflow-20879990",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Rotating a rectangle-shaped Polygon around it's center. (Java)",
    "body": "I have this code to draw a rectangle (Polygon object), and then draw another rectangle which is the original one, rotated 90 degrees, using the rotation matrix. public class DrawingPanel extends JPanel{ public void paintComponent(Graphics g){ super.paintComponent(g); Graphics2D g2d = (Graphics2D) g; Point p1,p2,p3,p4; p1 = new Point(50,50); p2 = new Point(200,50); p3 = new Point(200,100); p4 = new Point(50,100); int[] x = {(int) p1.getX(), (int) p2.getX(), (int)p3.getX(), (int) p4.getX()}; int[] y = {(int) p1.getY(), (int) p2.getY(), (int)p3.getY(), (int) p4.getY()}; Polygon poly = new Polygon(x, y, x.length); g2d.draw(poly); p1.setLocation(p1.getX() * Math.cos(Math.toRadians(90)) - p1.getY() * Math.sin(Math.toRadians(90)), p1.getX() * Math.sin(Math.toRadians(90)) + p1.getY() * Math.cos(Math.toRadians(90))); p2.setLocation(p2.getX() * Math.cos(Math.toRadians(90)) - p2.getY() * Math.sin(Math.toRadians(90)), p2.getX() * Math.sin(Math.toRadians(90)) + p2.getY() * Math.cos(Math.toRadians(90))); p3.setLocation(p3.getX() * Math.cos(Math.toRadians(90)) - p3.getY() * Math.sin(Math.toRadians(90)), p3.getX() * Math.sin(Math.toRadians(90)) + p3.getY() * Math.cos(Math.toRadians(90))); p4.setLocation(p4.getX() * Math.cos(Math.toRadians(90)) - p4.getY() * Math.sin(Math.toRadians(90)), p4.getX() * Math.sin(Math.toRadians(90)) + p4.getY() * Math.cos(Math.toRadians(90))); int[] x2 = {(int) p1.getX(), (int) p2.getX(), (int)p3.getX(), (int) p4.getX()}; int[] y2 = {(int) p1.getY(), (int) p2.getY(), (int)p3.getY(), (int) p4.getY()}; Polygon poly2 = new Polygon(x2, y2, x2.length); g2d.draw(poly2); } } Currently, the second rectangle doesn't show up. When I asked about this in a different question, someone answered that that's because it draws outside the screen. I asked how to rotate the rectangle around it's center, so the new drawing will appear in the screen, and he answered but I didn't really understand how to implement what he said in the code (tried different things that didn't work). Could you show me exactly in the code, how to rotate the rectangle around it's center? (Of course this isn't actual rotating of an object. It's making a rotated-duplicate of an object). Help would be appreciated. Thanks",
    "code": "public class DrawingPanel extends JPanel{\n\n    public void paintComponent(Graphics g){\n\n        super.paintComponent(g);\n        Graphics2D g2d = (Graphics2D) g;\n\n        Point p1,p2,p3,p4;\n        p1 = new Point(50,50);\n        p2 = new Point(200,50);\n        p3 = new Point(200,100);\n        p4 = new Point(50,100);\n\n        int[] x = {(int) p1.getX(), (int) p2.getX(), (int)p3.getX(), (int) p4.getX()};\n        int[] y = {(int) p1.getY(), (int) p2.getY(), (int)p3.getY(), (int) p4.getY()};\n\n        Polygon poly = new Polygon(x, y, x.length);\n        g2d.draw(poly);\n\n        p1.setLocation(p1.getX() * Math.cos(Math.toRadians(90)) - p1.getY() * Math.sin(Math.toRadians(90)),\n                p1.getX() * Math.sin(Math.toRadians(90)) + p1.getY() * Math.cos(Math.toRadians(90)));\n        p2.setLocation(p2.getX() * Math.cos(Math.toRadians(90)) - p2.getY() * Math.sin(Math.toRadians(90)),\n                p2.getX() * Math.sin(Math.toRadians(90)) + p2.getY() * Math.cos(Math.toRadians(90)));\n        p3.setLocation(p3.getX() * Math.cos(Math.toRadians(90)) - p3.getY() * Math.sin(Math.toRadians(90)),\n                p3.getX() * Math.sin(Math.toRadians(90)) + p3.getY() * Math.cos(Math.toRadians(90)));\n        p4.setLocation(p4.getX() * Math.cos(Math.toRadians(90)) - p4.getY() * Math.sin(Math.toRadians(90)),\n                p4.getX() * Math.sin(Math.toRadians(90)) + p4.getY() * Math.cos(Math.toRadians(90)));\n\n        int[] x2 = {(int) p1.getX(), (int) p2.getX(), (int)p3.getX(), (int) p4.getX()};\n        int[] y2 = {(int) p1.getY(), (int) p2.getY(), (int)p3.getY(), (int) p4.getY()};\n\n        Polygon poly2 = new Polygon(x2, y2, x2.length);\n        g2d.draw(poly2);\n\n    }\n\n}\n\n\n# Solution Code:\n//TRANSLATE TO ORIGIN\ndouble x1 = p1.getX() - center.x;\ndouble y1 = p1.getY() - center.y;\n\n//APPLY ROTATION\ndouble temp_x1 = x1 * Math.cos(angle) - y1 * Math.sin(angle));\ndouble temp_y1 = x1 * Math.sin(angle) + y1 * Math.cos(angle));\n\n//TRANSLATE BACK\np1.setLocation(temp_x1 + center.x, temp_y1 + center.y);\n\n\np1: (2, 2)\np2: (3, 2)\np3: (3, 3)\np4: (2, 3)\n\n\ncenter: (2.5, 2.5)\nx1 = 3 - 2.5 = 0.5\ny1 = 2 - 2.5 = -0.5\n\n\nnew_p1: (-0.5, -0.5)\nnew_p2: (0.5, -0.5)\nnew_p3: (0.5, 0.5)\nnew_p4: (-0.5, 0.5)\n\n\ncenter.x\n\ncenter.y\n\n(0,0)\n\n(0,0)\n\np2",
    "resolution": "Since you are trying to rotate around the rectangle's center, first you need to translate the rectangle to the origin, then apply the rotation and finally translate back. See the following code (adapted to your case) from this answer in another post. //TRANSLATE TO ORIGIN double x1 = p1.getX() - center.x; double y1 = p1.getY() - center.y; //APPLY ROTATION double temp_x1 = x1 * Math.cos(angle) - y1 * Math.sin(angle)); double temp_y1 = x1 * Math.sin(angle) + y1 * Math.cos(angle)); //TRANSLATE BACK p1.setLocation(temp_x1 + center.x, temp_y1 + center.y); You have to do this for each point. Also you will need to find the center of the rectangle center.x and center.y. Explanation When you directly apply the rotation, you are rotating it around the origin (0,0) (you can easily see this when you change the angle rotation in your code). If you want to rotate around the center of the rectangle, you have to follow the steps described above. Translate the shape (rectangle) to origin, this can be accomplished by substracting the center components to the point's components. Apply rotation to the translated points around the origin (0,0). Translate back each point to the original position, by adding the center components (the ones you substracted in the first step). Edit 1: Let's say we have a Rectangle (Square) which vertex are: p1: (2, 2) p2: (3, 2) p3: (3, 3) p4: (2, 3) For point p2: In first step: center: (2.5, 2.5) x1 = 3 - 2.5 = 0.5 y1 = 2 - 2.5 = -0.5 Doing this for each point: new_p1: (-0.5, -0.5) new_p2: (0.5, -0.5) new_p3: (0.5, 0.5) new_p4: (-0.5, 0.5) Then you apply the rotation... Edit 2: I hope it gets clearer with this image, sorry if I'm bad with Paint.",
    "severity": "high",
    "tags": [
      "java",
      "swing",
      "matrix",
      "rotation",
      "polygon"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "20936429",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 17874,
      "stackoverflow_creation_date": "2014-01-05T17:04:08.890Z"
    },
    "idempotency_key": "stackoverflow-20936429",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "gitlab doesn't send mails (queue still growing)",
    "body": "I do setup my second GitLab Server. I love that tool :) But I actually got an problem, wich I had in first setup too, but was able to fix it. Today I'am not. I'am searching now for hours. GitLab is running. Thats good. I can create an new User. Thats good. But the Mail won't be send. That's actually not so good. in \"GITLABURL/admin/background_jobs\" sidekiq is \"inactiv\" and the default-queue has an size of \"2\". Two entrys like: Sidekiq::Extensions::DelayedMailer [\"---\\n- !ruby/class 'Notify'\\n- :new_user_email\\n- - 9\\n - XYZ\\n\"] I actually did an manually call to sendmail, for sending an mail. That succeed. application.log, sidekiq.log, production.log, mail.log, mail.info, mail.warn, mail.err and exims mainlog got no infos. Where can I search to find the problem? I read about running sudo -u git bundle exec rake environment resque:work QUEUE=* RAILS_ENV=production BACKGROUND=yes manually, but that doesnt work rake aborted! Don't know how to build task 'resque:default' Please, if someone got any ideas, write me. Thanks :)",
    "code": "Sidekiq::Extensions::DelayedMailer   [\"---\\n- !ruby/class 'Notify'\\n- :new_user_email\\n- - 9\\n - XYZ\\n\"]\n\n\nsudo -u git bundle exec rake environment resque:work QUEUE=* RAILS_ENV=production BACKGROUND=yes\n\n\nrake aborted!\nDon't know how to build task 'resque:default'\n\n\n# Solution Code:\nbundle exec sidekiq -q post_receive,mailer,system_hook,project_web_hook,common,default,gitlab_shell\n\n\nsudo /etc/init.d/gitlab start",
    "resolution": "GitLab changed from Resque to Sidekiq for processing background jobs in 4.1. You can run Sidekiq manually like so: bundle exec sidekiq -q post_receive,mailer,system_hook,project_web_hook,common,default,gitlab_shell Sidekiq should be started automatically with the GitLab web application if you're using the init scripts, which should be installed as part of the installation process. If you did, check the output of sudo /etc/init.d/gitlab start to see why it's not starting properly.",
    "severity": "medium",
    "tags": [
      "git",
      "email",
      "gitlab"
    ],
    "metadata": {
      "stackoverflow_question_id": "20970711",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1411,
      "stackoverflow_creation_date": "2014-01-07T11:41:05.407Z"
    },
    "idempotency_key": "stackoverflow-20970711",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "sql linked server join query",
    "body": "I am having issues running any query on joining a local DB with a DB from a linked server. My query: SELECT [LocalDatabase].[dbo].[Record].[Project_ID], [LinkedServer].[Reporting].[dbo].[Active].[Name] FROM [LocalDatabase].[dbo].[Record] inner join [LinkedServer].[Reporting].[dbo].[Active] ON [LocalDatabase].[dbo].[Record].[Project_ID] = [LinkedServer].[Reporting].[dbo].[Active].[Delivery_Number] The errors: Msg 4104, Level 16, State 1, Line 9 The multi-part identifier \"LinkedServer.Reporting.dbo.Active.Delivery_Number\" could not be bound. Msg 4104, Level 16, State 1, Line 5 The multi-part identifier \"LinkedServer.Reporting.dbo.Active.Name\" could not be bound. I am guessing my syntax is incorrect but I am unable to fix it. Can someone please suggest a solution? If there is a better solution for me to run a select query on 2 databases which are on different servers, please mention it.",
    "code": "SELECT \n\n        [LocalDatabase].[dbo].[Record].[Project_ID],\n        [LinkedServer].[Reporting].[dbo].[Active].[Name]\n\n        FROM [LocalDatabase].[dbo].[Record] inner join \n             [LinkedServer].[Reporting].[dbo].[Active] ON\n             [LocalDatabase].[dbo].[Record].[Project_ID] = [LinkedServer].[Reporting].[dbo].[Active].[Delivery_Number]\n\n\nMsg 4104, Level 16, State 1, Line 9\nThe multi-part identifier \"LinkedServer.Reporting.dbo.Active.Delivery_Number\" could not be bound.\nMsg 4104, Level 16, State 1, Line 5\nThe multi-part identifier \"LinkedServer.Reporting.dbo.Active.Name\" could not be bound.\n\n\n# Solution Code:\nSELECT r.[Project_ID], a.[Name]\nFROM [LocalDatabase].[dbo].[Record] r inner join \n     [LinkedServer].[Reporting].[dbo].[Active] a\n     ON r.[Project_ID] = a.[Delivery_Number];\n",
    "resolution": "Try writing this using table aliases: SELECT r.[Project_ID], a.[Name] FROM [LocalDatabase].[dbo].[Record] r inner join [LinkedServer].[Reporting].[dbo].[Active] a ON r.[Project_ID] = a.[Delivery_Number];",
    "severity": "high",
    "tags": [
      "sql",
      "sql-server-2008",
      "linked-server"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "21137592",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 38402,
      "stackoverflow_creation_date": "2014-01-15T12:34:36.173Z"
    },
    "idempotency_key": "stackoverflow-21137592",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Create date histogram chart with google histogram",
    "body": "How to create Google Histogram Chart [1] that works with dates? I've placed sample code (with working number and non-working date examples): http://jsfiddle.net/Qquse/417/ and code below [2] [1] https://developers.google.com/chart/interactive/docs/gallery/histogram [2] google.load(\"visualization\", \"1\", { packages: [\"corechart\"] }); google.setOnLoadCallback(drawChart); function str_to_utcdate(d) { return new Date(d.substr(0, 4), d.substr(5, 2) - 1, d.substr(9, 2)); } function drawChart() { var data = google.visualization.arrayToDataTable([ ['item', 'date'], ['a', str_to_utcdate('2001-07-01')], ['b', str_to_utcdate('2001-07-01')], ['c', str_to_utcdate('2001-07-01')], ]); var chart = new google.visualization.Histogram(document.getElementById('chart_div1')); chart.draw(data); var data = google.visualization.arrayToDataTable([ ['item', 'date'], ['a', 10], ['b', 20], ['c', 30], ]); var chart = new google.visualization.Histogram(document.getElementById('chart_div2')); chart.draw(data); }",
    "code": "google.load(\"visualization\", \"1\", {\n    packages: [\"corechart\"]\n});\ngoogle.setOnLoadCallback(drawChart);\n\nfunction str_to_utcdate(d) {\n    return new Date(d.substr(0, 4), d.substr(5, 2) - 1, d.substr(9, 2));\n}\n\nfunction drawChart() {\n    var data = google.visualization.arrayToDataTable([\n        ['item', 'date'],\n        ['a', str_to_utcdate('2001-07-01')],\n        ['b', str_to_utcdate('2001-07-01')],\n        ['c', str_to_utcdate('2001-07-01')], ]);\n\n    var chart = new google.visualization.Histogram(document.getElementById('chart_div1'));\n    chart.draw(data);\n\n    var data = google.visualization.arrayToDataTable([\n        ['item', 'date'],\n        ['a', 10],\n        ['b', 20],\n        ['c', 30], ]);\n\n    var chart = new google.visualization.Histogram(document.getElementById('chart_div2'));\n    chart.draw(data);\n\n}\n\n\n# Solution Code:\nconst keyword = 'date';\nconst options = {\n      // ...\n      hAxis: {\n        format: `'${keyword}'#`\n      },\n}\n\n\nlet labels = Array.from(document.querySelectorAll('#chart svg g:nth-of-type(3) g:nth-of-type(3) g text'));\n\n\nlabels = labels.filter(g =&gt; g.innerHTML.startsWith(keyword));\n\n\nlabels.forEach(g =&gt; {\n\n    const date = new Date(+g.substring(keyword.length));\n    // you can apply any format method you wish\n\n    // .toLocaleDateString()\n    g.innerHTML = date.toLocaleDateString();\n\n    // moment.js\n    g.innerHTML = moment(date).format('DD/MM/YYYY HH:MM');\n\n});\n\n\nconst keyword = 'date';\nconst options = {\n      // ...\n      hAxis: {\n        format: `'${keyword}'#`\n      },\n}\n\n// ... chart setup\n\nsetInterval(() =&gt; {\n    let labels = Array.from(document.querySelectorAll('#chart svg g:nth-of-type(3) g:nth-of-type(3) g text'));\n    labels = labels.filter(g =&gt; g.innerHTML.startsWith(keyword));\n    labels.forEach(g =&gt; {\n        const date = new Date(+g.substring(keyword.length));\n        g.innerHTML = date.toLocaleDateString();\n    });\n}, 100);\n\n\n#chart\n\ninnerHTML",
    "resolution": "5 years now and Histograms still don't support dates. Since I ain't got time and I need my stuff done, I made a workaround (so ugly it hurts) but works. First, I defined a format just to put a keyword at the start of each label. In my case, since I have only one chart in my page, I just used the keyword 'date'. const keyword = 'date'; const options = { // ... hAxis: { format: `'${keyword}'#` }, } If you have multiple charts in your page and you want them to behave differently, you might want to define different keyword to each one. Now, using query selector, I selected all the label elements that are of my interest let labels = Array.from(document.querySelectorAll('#chart svg g:nth-of-type(3) g:nth-of-type(3) g text')); In my case, my chart was set in a DIV with id 'chart'. If you're using any other id, just replace #chart with your id; Then I will filter only the labels which start with my keyword 'date' labels = labels.filter(g => g.innerHTML.startsWith(keyword)); With that, I replace the innerHTML of each element to the date format I wish. labels.forEach(g => { const date = new Date(+g.substring(keyword.length)); // you can apply any format method you wish // .toLocaleDateString() g.innerHTML = date.toLocaleDateString(); // moment.js g.innerHTML = moment(date).format('DD/MM/YYYY HH:MM'); }); Also, I'm using interactive charts, so the labels refresh on each user interaction. Therefore, I put everything inside an interval, and the final result is as follows: const keyword = 'date'; const options = { // ... hAxis: { format: `'${keyword}'#` }, } // ... chart setup setInterval(() => { let labels = Array.from(document.querySelectorAll('#chart svg g:nth-of-type(3) g:nth-of-type(3) g text')); labels = labels.filter(g => g.innerHTML.startsWith(keyword)); labels.forEach(g => { const date = new Date(+g.substring(keyword.length)); g.innerHTML = date.toLocaleDateString(); }); }, 100); Use this answer with caution. Using query selectors to modify third party generated content is very unsafe because it relies on the hope that the third-party developers won't modify the way the content is generated.",
    "severity": "medium",
    "tags": [
      "javascript",
      "google-visualization",
      "histogram"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "21327803",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4249,
      "stackoverflow_creation_date": "2014-01-24T08:26:55.040Z"
    },
    "idempotency_key": "stackoverflow-21327803",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "App Widget in Android with network connection",
    "body": "I am trying to develop an AppWidget with network data. So far I have an application (up and running) with a custom AsyncTaskLoader (gets URL gives parsed data) to loaders inside my fragments. There is no cache or db to save that data. My best practice will be to use some of the existing network+parsing classes-functionalities if this is possible. Searching through many examples and tutorials I either found simple offline widgets or other with content providers and observer. None of them use network connection. Can I have a widget which gets data from online json and not content resolver / provider? Any such example or guide will be really helpful! My app supports 2.0 and above. From my research I found that I have to implement 2 widgets Android 3+ and lower. Is there any other simpler way to avoid double coding? Thanks in advance!",
    "code": "AsyncTaskLoader",
    "severity": "low",
    "tags": [
      "android",
      "android-appwidget"
    ],
    "metadata": {
      "stackoverflow_question_id": "21393494",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 583,
      "stackoverflow_creation_date": "2014-01-27T22:59:07.040Z"
    },
    "idempotency_key": "stackoverflow-21393494",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Chrome extension unable to get data from a server after switch to https due to Origin Control",
    "body": "I've been battling with Chromium, jQuery and AJAX. My extension takes some resources from some sites using ajax, then parse the results and store it somewhere. One of those sites decided to do the jump to https. Neat. I just have to change the http for https, and fix any problem I hit down the road. No joy. I use the following ajax method to get the stuff (is the smallest unit I could reproduce): $.ajax({ url: \"https://reader.japanzai.com/search/\", type: 'POST', data: { 'search': \"onna\" }, beforeSend: function (xhr) { xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\"); }, headers: { 'Access-Control-Allow-Origin': '*' }}) Lets ignore for a while that I've set the headers twice, since just using one don't work either and throw the result: OPTIONS https://reader.japanzai.com/search/ No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'chrome-extension://nhjloagockgobfpopemejpgjjechcpfd' is therefore not allowed access. jquery.js:5 x.support.cors.e.crossDomain.send jquery.js:5 x.extend.ajax jquery.js:5 (anonymous function) VM4000:2 InjectedScript._evaluateOn VM3770:581 InjectedScript._evaluateAndWrap VM3770:540 InjectedScript.evaluate VM3770:459 XMLHttpRequest cannot load https://reader.japanzai.com/search/. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'chrome-extension://nhjloagockgobfpopemejpgjjechcpfd' is therefore not allowed access. lab.html:1 As you can see, it says that the request header is not present, which is true following the http request: Request URL:https://reader.japanzai.com/search/ Request Method:OPTIONS Status Code:200 OK Request Headersview parsed OPTIONS https://reader.japanzai.com/search/ HTTP/1.1 origin: chrome-extension://nhjloagockgobfpopemejpgjjechcpfd access-control-request-method: POST dnt: 1 accept-encoding: gzip,deflate,sdch host: reader.japanzai.com accept-language: es,en-US;q=0.8,en;q=0.6 method: OPTIONS user-agent: Mozilla/5.0 (X11; Linux i686 (x86_64)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36 accept: */* url: /search/ scheme: https version: HTTP/1.1 access-control-request-headers: access-control-allow-origin, accept, content-type Response: HTTP/1.1 200 OK cache-control: post-check=0, pre-check=0, max-age=0 content-encoding: gzip content-type: text/html date: Thu, 13 Feb 2014 22:58:03 GMT expires: Sat, 01 Jan 2000 00:00:01 GMT last-modified: Thu, 13 Feb 2014 22:58:03 GMT pragma: no-cache server: nginx/1.5.8 set-cookie: ci_session=U3Q14aq8Q7W4KVifDyLi7%2B3lppr%2FS4BNmW1kD9t60H7dz73M5KMs1jgBo8ZrilKoswn63PvCl1sOldPs1RCl6NdiP1VZeekoMTISyQenQZU0F8yUC0odw6WuMUE5I%2FY%2Bfvddv2YH06b2pxyyNBDZnNn%2BLnLzPrRYBXHuAjFbTyucX%2FMLUUM2cwKLzaK3ILKPhxy8FXW%2FI%2F9EPPbwo%2B8nmbPwOeqDfpDdu61F5yzUU8KjfUo7MwwFIXyGWtqbjbF3PCKNZrY%2F3Cj77DgCpcCbTTKZ%2BVzrdw16oGVDg1dP8lQgSof89rLNqUlQSj60tCVzZ27oPNh9OvvTNJ92tYkTHDukG4dyv21yM4M3PACZ%2FKVNP0i2UWHbBujADPSsrGJhJxPzBsuRDLcPtDcBtuaXA4LLMoGoYW6SxYk%2BseltMvk%3D; expires=Fri, 14-Feb-2014 00:58:03 GMT; path=/ set-cookie: ci_session=tQT8qmNRnMRN2Oj3moCdZg9VNEEsPxi3t88g2SpYQxahFr%2FpiEpQFzsO2mLTp1bPlsGLmqQGnMUiuwFpLYNIneNHtU%2BoKkVOcnR8ZKxPd0FDrkW%2BqT0N2IIsV%2BC%2FXQX%2BZUkLg1E4iP6u%2F0%2Fjk1t%2BAwcwhoC0M3zODuEKv1l9JMFo%2B1g4%2BhIOp%2FHTzBnlMvE2KjanXJR55F3DOHdyi4MvQb1vzgWEZTTAfhZ3bkQPkKe41ZCJYQTw%2FrDfry8n2h43UKPc1IF4tWp%2BKh0yhux%2FsBn84meT3xR%2Bpba9ffeZObrQyVomKlmJg9oRkKvlhR4MlNsiIeIZEvtP52ns0X1uF%2B7Pg6RpcMihe1u2S0%2Fbz5wm75vQ6tyykmFp5qfnoDgXB6J7RmbBQy4GTOFEA2zqN3V6QXT71cSn%2B1ARd9GtNMA%3D; expires=Fri, 14-Feb-2014 00:58:03 GMT; path=/ status: 200 OK strict-transport-security: max-age=31536000 vary: Accept-Encoding version: HTTP/1.1 x-powered-by: PHP/5.4.4-14+deb7u7 So, I'm missing something obvious here or there's just no way to do this?",
    "code": "$.ajax({\n        url: \"https://reader.japanzai.com/search/\",\n        type: 'POST',\n        data: {\n            'search': \"onna\"\n        },\n        beforeSend: function (xhr) {\n            xhr.setRequestHeader(\"Access-Control-Allow-Origin\", \"*\");\n        },\n        headers: {\n            'Access-Control-Allow-Origin': '*'\n        }})\n\n\nOPTIONS https://reader.japanzai.com/search/ No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'chrome-extension://nhjloagockgobfpopemejpgjjechcpfd' is therefore not allowed access. jquery.js:5\nx.support.cors.e.crossDomain.send jquery.js:5\nx.extend.ajax jquery.js:5\n(anonymous function) VM4000:2\nInjectedScript._evaluateOn VM3770:581\nInjectedScript._evaluateAndWrap VM3770:540\nInjectedScript.evaluate VM3770:459\nXMLHttpRequest cannot load https://reader.japanzai.com/search/. No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'chrome-extension://nhjloagockgobfpopemejpgjjechcpfd' is therefore not allowed access. lab.html:1\n\n\nRequest URL:https://reader.japanzai.com/search/\nRequest Method:OPTIONS\nStatus Code:200 OK\nRequest Headersview parsed\nOPTIONS https://reader.japanzai.com/search/ HTTP/1.1\norigin: chrome-extension://nhjloagockgobfpopemejpgjjechcpfd\naccess-control-request-method: POST\ndnt: 1\naccept-encoding: gzip,deflate,sdch\nhost: reader.japanzai.com\naccept-language: es,en-US;q=0.8,en;q=0.6\nmethod: OPTIONS\nuser-agent: Mozilla/5.0 (X11; Linux i686 (x86_64)) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/31.0.1650.63 Safari/537.36\naccept: */*\nurl: /search/\nscheme: https\nversion: HTTP/1.1\naccess-control-request-headers: access-control-allow-origin, accept, content-type\n\n\nHTTP/1.1 200 OK\ncache-control: post-check=0, pre-check=0, max-age=0\ncontent-encoding: gzip\ncontent-type: text/html\ndate: Thu, 13 Feb 2014 22:58:03 GMT\nexpires: Sat, 01 Jan 2000 00:00:01 GMT\nlast-modified: Thu, 13 Feb 2014 22:58:03 GMT\npragma: no-cache\nserver: nginx/1.5.8\nset-cookie: ci_session=U3Q14aq8Q7W4KVifDyLi7%2B3lppr%2FS4BNmW1kD9t60H7dz73M5KMs1jgBo8ZrilKoswn63PvCl1sOldPs1RCl6NdiP1VZeekoMTISyQenQZU0F8yUC0odw6WuMUE5I%2FY%2Bfvddv2YH06b2pxyyNBDZnNn%2BLnLzPrRYBXHuAjFbTyucX%2FMLUUM2cwKLzaK3ILKPhxy8FXW%2FI%2F9EPPbwo%2B8nmbPwOeqDfpDdu61F5yzUU8KjfUo7MwwFIXyGWtqbjbF3PCKNZrY%2F3Cj77DgCpcCbTTKZ%2BVzrdw16oGVDg1dP8lQgSof89rLNqUlQSj60tCVzZ27oPNh9OvvTNJ92tYkTHDukG4dyv21yM4M3PACZ%2FKVNP0i2UWHbBujADPSsrGJhJxPzBsuRDLcPtDcBtuaXA4LLMoGoYW6SxYk%2BseltMvk%3D; expires=Fri, 14-Feb-2014 00:58:03 GMT; path=/\nset-cookie: ci_session=tQT8qmNRnMRN2Oj3moCdZg9VNEEsPxi3t88g2SpYQxahFr%2FpiEpQFzsO2mLTp1bPlsGLmqQGnMUiuwFpLYNIneNHtU%2BoKkVOcnR8ZKxPd0FDrkW%2BqT0N2IIsV%2BC%2FXQX%2BZUkLg1E4iP6u%2F0%2Fjk1t%2BAwcwhoC0M3zODuEKv1l9JMFo%2B1g4%2BhIOp%2FHTzBnlMvE2KjanXJR55F3DOHdyi4MvQb1vzgWEZTTAfhZ3bkQPkKe41ZCJYQTw%2FrDfry8n2h43UKPc1IF4tWp%2BKh0yhux%2FsBn84meT3xR%2Bpba9ffeZObrQyVomKlmJg9oRkKvlhR4MlNsiIeIZEvtP52ns0X1uF%2B7Pg6RpcMihe1u2S0%2Fbz5wm75vQ6tyykmFp5qfnoDgXB6J7RmbBQy4GTOFEA2zqN3V6QXT71cSn%2B1ARd9GtNMA%3D; expires=Fri, 14-Feb-2014 00:58:03 GMT; path=/\nstatus: 200 OK\nstrict-transport-security: max-age=31536000\nvary: Accept-Encoding\nversion: HTTP/1.1\nx-powered-by: PHP/5.4.4-14+deb7u7\n\n\n# Solution Code:\n  \"permissions\" : [\n    \"tabs\",\n    \"*://*/*\",\n    \"https://ssl10.ovh.net/*\",\n    \"unlimited_storage\",\n    \"clipboardWrite\",\n\n\n\"*://*/*\"",
    "resolution": "I followed abraham advice and added the site to the permissions field in the manifest. It worked, the only bad thing is that if another site decides to move to https I need to release a new version, so this is what I ended doing: \"permissions\" : [ \"tabs\", \"*://*/*\", \"https://ssl10.ovh.net/*\", \"unlimited_storage\", \"clipboardWrite\", The important part here is \"*://*/*\" which includes anything from http and https.",
    "severity": "high",
    "tags": [
      "ajax",
      "google-chrome-extension"
    ],
    "metadata": {
      "stackoverflow_question_id": "21767538",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 13041,
      "stackoverflow_creation_date": "2014-02-13T23:08:07.000Z"
    },
    "idempotency_key": "stackoverflow-21767538",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unable to receive form data in controller in spring mvc",
    "body": "I am new to spring mvc framework and I am facing an issue in getting the values from the view in controller. Please find below the code. Here is the jsp: <form:form action=\"envDetails\" method=\"POST\" commandName=\"enviromentForm\"> <c:forEach items=\"${enviromentForm.environments}\" varStatus=\"i\" var=\"env\"> Name of Environment<c:out value=\"${(i.index)+1}\"/>: <form:input path=\"environments[${i.index}].name\" type=\"text\"/> <br> Path of Environment<c:out value=\"${(i.index)+1}\"/> : <form:input path=\"environments[${i.index}].path\" type=\"text\"/> <br><br> </c:forEach> <input class=\"submitStyle\" type=\"submit\" value=\"SUBMIT\" /> </form:form> This is my controller: @RequestMapping(value=\"envDetails\",method=RequestMethod.GET) public ModelAndView setBackingForm(HttpServletRequest request) { EnviromentForm envf=new EnviromentForm(); envf.setProjectName(\"Test\"); for(int i=0;i<2;i++) { envf.add(new Enviroment()); } return new ModelAndView(\"envDetails\",\"enviromentForm\",envf); } @RequestMapping(value = \"envDetails\", method = RequestMethod.POST) public ModelAndView viewFolderInput( @ModelAttribute(\"enviromentForm\") EnviromentForm enviromentForm,BindingResult binding,WebRequest request, SessionStatus status) { ***//here I am not receiving the values in enviromentForm*** } This is EnviromentForm class: public class EnviromentForm { private String projectName; private List<Enviroment> environments; public EnviromentForm() { environments = new ArrayList<>(); } public EnviromentForm(String projectName, List<Enviroment> environments) { this.projectName = projectName; this.environments = new ArrayList<>(); this.environments.addAll(environments); } //getter setter public void add(Enviroment env) { this.environments.add(env); } } and this is Enviroment class: public class Enviroment { private String name; private String path; //getter setter } Any help is much appreciated.",
    "code": "&lt;form:form action=\"envDetails\" method=\"POST\" commandName=\"enviromentForm\"&gt;\n&lt;c:forEach items=\"${enviromentForm.environments}\" varStatus=\"i\" var=\"env\"&gt;\n        Name of Environment&lt;c:out value=\"${(i.index)+1}\"/&gt;:\n       &lt;form:input path=\"environments[${i.index}].name\" type=\"text\"/&gt;\n       &lt;br&gt;\n       Path of Environment&lt;c:out value=\"${(i.index)+1}\"/&gt;  :\n       &lt;form:input path=\"environments[${i.index}].path\" type=\"text\"/&gt;\n       &lt;br&gt;&lt;br&gt;\n&lt;/c:forEach&gt;\n&lt;input class=\"submitStyle\" type=\"submit\" value=\"SUBMIT\" /&gt;\n&lt;/form:form&gt;\n\n\n@RequestMapping(value=\"envDetails\",method=RequestMethod.GET)\npublic ModelAndView setBackingForm(HttpServletRequest request) {\n    EnviromentForm envf=new EnviromentForm();\n    envf.setProjectName(\"Test\");\n    for(int i=0;i&lt;2;i++) {\n        envf.add(new Enviroment());\n    }\n    return new ModelAndView(\"envDetails\",\"enviromentForm\",envf);\n}\n\n@RequestMapping(value = \"envDetails\", method = RequestMethod.POST)\npublic ModelAndView viewFolderInput(\n        @ModelAttribute(\"enviromentForm\") EnviromentForm enviromentForm,BindingResult binding,WebRequest request, SessionStatus status) {\n\n    ***//here I am not receiving the values in enviromentForm***\n}\n\n\npublic class EnviromentForm {\n\nprivate String projectName;\nprivate List&lt;Enviroment&gt; environments;\n\npublic EnviromentForm() {\n    environments = new ArrayList&lt;&gt;();\n}\n\npublic EnviromentForm(String projectName, List&lt;Enviroment&gt; environments) {\n    this.projectName = projectName;\n    this.environments = new ArrayList&lt;&gt;();\n    this.environments.addAll(environments);\n}\n\n//getter setter\n\npublic void add(Enviroment env) {\n    this.environments.add(env);\n}\n\n}\n\n\npublic class Enviroment {\nprivate String name;\nprivate String path;\n\n//getter setter\n\n}\n\n\n# Solution Code:\n&lt;input id=\"environments0.path\" name=\"environments0.path\" value=\"\" type=\"text\"&gt;\n\n\n&lt;input name=\"environments[${i.index}].name\" type=\"text\"/&gt;\n\n\n&lt;form:input&gt;\n\nname\n\n[]\n\ninput\n\n3.2.5.RELEASE\n\n3.0.1.RELEASE\n\ninput\n\nSpring 3.0.1\n\npath\n\nname",
    "resolution": "The main issue is that Spring MVC 3.0.1 renders the <form:input> tag in the HTML as: <input id=\"environments0.path\" name=\"environments0.path\" value=\"\" type=\"text\"> Notice the name attribute is missing the brackets ([]), which makes it compliant with the HTML specification, but breaks your data binding. There are two ways to resolve this issue, upgrading Spring or using a regular input tag. I would recommend upgrading Spring. Upgrading Spring The first resolution is to upgrade the projects Spring libraries. I found the version 3.2.5.RELEASE sent the parameters across the wire as follows: which corrected the parameters from the 3.0.1.RELEASE as depicted below: Using a Regular HTML Input The other fix is to use a regular HTML input tag to create the form controls and their name attributes. This will eliminate the modifications Spring 3.0.1 is making to the path attribute (which eventually renders as the name attribute). <input name=\"environments[${i.index}].name\" type=\"text\"/>",
    "severity": "medium",
    "tags": [
      "java",
      "spring",
      "spring-mvc",
      "jstl"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "21904308",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3922,
      "stackoverflow_creation_date": "2014-02-20T09:59:46.907Z"
    },
    "idempotency_key": "stackoverflow-21904308",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Design reason behind setupUi()",
    "body": "I'd like to know why, in your opinion, Qt engineers decided to put the setupUi() method in every generated form. (for those who do not know how Qt works: setupUi() is a method which allocates in dynamic memory every button, texbox, widget which is inside the form. Every element's reference is stored inside a pointer member variable which is not even initialized to nullptr and it is placed under a public: access modifier, so that also looks like a somewhat dangerous situation until you actually call setupUi()) In my newby opinion, that totally violates RAII principle, because that means any Ui_Whatever class is actually not constructed by its constructor call: constructor just allocates the class itself, but it is unusable till we call Ui_Whatever::setupUi(). Which could be the design reason behind the choose of having: an empty compiler-generated default-constructor a method which do the real construction (I'm asking 'cause I can't figure out myself any valid reason at all) Thanks in advance!!",
    "code": "setupUi()\n\nsetupUi()\n\nnullptr\n\npublic:\n\nsetupUi()\n\nUi_Whatever::setupUi()\n\n# Solution Code:\ntemplate&lt;typename UiClass&gt; class QtRaiiWrapper : public UiClass\n{\npublic:\n    QtRaiiWrapper(QMainWindow *MainWindow)\n    {\n        setupUi(MainWindow);\n    }\n};\n\n...\n\n#include \"ui_Main.h\"\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n    ...\nprivate:\n    // Ui_MainWindow m_Ui; // no RAII\n    QtRaiiWrapper&lt;Ui_MainWindow&gt; m_Ui; // RAII\n};\n\n\nuic",
    "resolution": "I agree, that it totally violates RAII principles. But I found a fairly easy workaround for that: template<typename UiClass> class QtRaiiWrapper : public UiClass { public: QtRaiiWrapper(QMainWindow *MainWindow) { setupUi(MainWindow); } }; ... #include \"ui_Main.h\" class MainWindow : public QMainWindow { Q_OBJECT ... private: // Ui_MainWindow m_Ui; // no RAII QtRaiiWrapper<Ui_MainWindow> m_Ui; // RAII }; (It might need some improvements, but this is the basic idea and works for me pretty well.) Some more discussion on the topic: Qt's choice of implementing the initialization via setupUi does not only lack RAII for this component, it can also make RAII impossible for other parts of your program, which is double bad. In my case, another object used the value of an GUI-Element for initialization (this way I could define the initial value in QtDesigner, rather than using a fake value there and overwriting it upon startup), but could not use RAII for that, because the GUI would only be initialized inside the body of the constructor of my MainWindow. Therefore I disagree with Kuba Ober, you have not full control of when exactly you want the GUI to be initialized, as you can only do it inside the constructor body and not the initialization list (and following RAII, the initialization list is the place where perhaps most of all the initialization should happen). But luckily, C++ is awesome and we can write a workaround for that (as posted above). I also think this is far better than changing the way uic because as soon as other people try to compile your Code they will see a big surprise.",
    "severity": "medium",
    "tags": [
      "c++",
      "qt",
      "raii"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "21909775",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1368,
      "stackoverflow_creation_date": "2014-02-20T13:49:08.587Z"
    },
    "idempotency_key": "stackoverflow-21909775",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQL: Select all values from one table in a join while not knowing all column names?",
    "body": "Hello there I wonder if the following is possible (in MySQL): There is a simple query joining two tables: SELECT * FROM `contact_attending_appointment` AS tcon,`contact` AS tget WHERE tcon.appointment_id = 2 AND tget.id = tcon.contact_id; This query will return the values of both tables - tcon and tget - joined together. However, I want only to have the columns of ONE table. Basically in SQL you achieve it like this: SELECT col_1,col_2,...,col_n FROM ... Or you get all the columns with SELECT * FROM ... However I would like to have something like (as I do not know the columns of tget by their names) SELECT [* from tget] FROM ... Is there a general solution for this or is this not possible?",
    "code": "SELECT * FROM `contact_attending_appointment` AS tcon,`contact` AS tget WHERE tcon.appointment_id = 2 AND tget.id = tcon.contact_id;\n\n\nSELECT col_1,col_2,...,col_n FROM ...\n\n\nSELECT * FROM ...\n\n\nSELECT [* from tget] FROM ...\n\n\n# Solution Code:\nSELECT tget.* FROM contact AS tget ...\n",
    "resolution": "SELECT tget.* FROM contact AS tget ...",
    "severity": "high",
    "tags": [
      "mysql",
      "sql"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "21971734",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 15427,
      "stackoverflow_creation_date": "2014-02-23T17:30:13.967Z"
    },
    "idempotency_key": "stackoverflow-21971734",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "validating input age with moment.js",
    "body": "I'm using Moment.js to validate age is over 18 years old. My code: function validate(date){ var eighteenYearsAgo = moment().subtract(\"years\", 18); var birthday = moment(date); if (!birthday.isValid()) { return \"invalid date\"; } else if (eighteenYearsAgo.isAfter(birthday)) { return \"okay, you're good\"; } else { return \"sorry, no\"; } } I got a input <input type=\"text\" name\"SocialSecurityNumber\"> How can i attach this script to the input so it validates age, everytime somone leaves the input field? (blur)",
    "code": "function validate(date){\nvar eighteenYearsAgo = moment().subtract(\"years\", 18);\nvar birthday = moment(date);\n\nif (!birthday.isValid()) {\n    return \"invalid date\";    \n}\nelse if (eighteenYearsAgo.isAfter(birthday)) {\n    return \"okay, you're good\";    \n}\nelse {\n    return \"sorry, no\";    \n}\n\n\n&lt;input type=\"text\" name\"SocialSecurityNumber\"&gt;\n\n\n# Solution Code:\n&lt;input type=\"text\" name=\"SocialSecurityNumber\" onblur=\"return validate(this.value);\" /&gt;\n\n\n$.validator.addMethod(\"minage\", function(value,element,argument){\n  var age = moment(value);\n  var now = moment();\n  return this.optional(element) || now.diff(age,'years') &gt;= argument;\n}, $.format(\"Applicant must be at least {0} years old.\")); \n",
    "resolution": "<input type=\"text\" name=\"SocialSecurityNumber\" onblur=\"return validate(this.value);\" /> Personally, I use jquery validator and made this method: $.validator.addMethod(\"minage\", function(value,element,argument){ var age = moment(value); var now = moment(); return this.optional(element) || now.diff(age,'years') >= argument; }, $.format(\"Applicant must be at least {0} years old.\"));",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "html",
      "momentjs"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "22039799",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3838,
      "stackoverflow_creation_date": "2014-02-26T11:20:59.853Z"
    },
    "idempotency_key": "stackoverflow-22039799",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Java JCE cannot authenticate provider BC in jarsplice created jar",
    "body": "I am working on a game and I am using the Slick2D library. I am also using bouncycastle for encryption. Then I use jarsplice to package everything together in a nice executable. And it runs fine until it needs to encrypt something. It gives me a java.lang.SecurityException: JCE cannot authenticate the provider BC And I am using a signed jarfile (http://www.bouncycastle.org/download/bcprov-jdk15on-150.jar) Here is the stack trace java.lang.SecurityException: JCE cannot authenticate the provider BC at javax.crypto.Cipher.getInstance(Cipher.java:642) at javax.crypto.Cipher.getInstance(Cipher.java:580) at net.matrixstudios.zenerith.networking.ZenerithLogin.encryptLogin(ZenerithLogin.java:159) at net.matrixstudios.zenerith.networking.ZenerithLogin.<init>(ZenerithLogin.java:112) at net.matrixstudios.zenerith.MultiplayerMenu$1.performAction(MultiplayerMenu.java:90) at net.matrixstudios.zenerith.gui.menu.MenuGameState.clickButton(MenuGameState.java:83) at net.matrixstudios.zenerith.gui.menu.MenuGameState.checkForButtonClicks(MenuGameState.java:75) at net.matrixstudios.zenerith.gui.menu.MenuGameState.update(MenuGameState.java:51) at net.matrixstudios.zenerith.gui.menu.AbstractGameState.update(AbstractGameState.java:47) at org.newdawn.slick.state.StateBasedGame.update(StateBasedGame.java:266) at org.newdawn.slick.GameContainer.updateAndRender(GameContainer.java:663) at org.newdawn.slick.AppGameContainer.gameLoop(AppGameContainer.java:411) at org.newdawn.slick.AppGameContainer.start(AppGameContainer.java:321) at net.matrixstudios.zenerith.gui.Window.<init>(Window.java:28) at net.matrixstudios.Main.main(Main.java:28) Caused by: java.util.jar.JarException: file:/C:/Users/M4trixSh4d0w/Desktop/Zenerith_Alpha.0.2.1.5.jar has unsigned entries - org/bouncycastle/LICENSE.class at javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:462) at javax.crypto.JarVerifier.verifyJars(JarVerifier.java:322) at javax.crypto.JarVerifier.verify(JarVerifier.java:250) at javax.crypto.JceSecurity.verifyProviderJar(JceSecurity.java:161) at javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:187) at javax.crypto.Cipher.getInstance(Cipher.java:638) ... 14 more So how do I authenticate the jarfile to run? This is a standalone executable jarfile.",
    "code": " java.lang.SecurityException: JCE cannot authenticate the provider BC\n    at javax.crypto.Cipher.getInstance(Cipher.java:642)\n    at javax.crypto.Cipher.getInstance(Cipher.java:580)\n    at net.matrixstudios.zenerith.networking.ZenerithLogin.encryptLogin(ZenerithLogin.java:159)\n    at net.matrixstudios.zenerith.networking.ZenerithLogin.&lt;init&gt;(ZenerithLogin.java:112)\n    at net.matrixstudios.zenerith.MultiplayerMenu$1.performAction(MultiplayerMenu.java:90)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.clickButton(MenuGameState.java:83)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.checkForButtonClicks(MenuGameState.java:75)\n    at net.matrixstudios.zenerith.gui.menu.MenuGameState.update(MenuGameState.java:51)\n    at net.matrixstudios.zenerith.gui.menu.AbstractGameState.update(AbstractGameState.java:47)\n    at org.newdawn.slick.state.StateBasedGame.update(StateBasedGame.java:266)\n    at org.newdawn.slick.GameContainer.updateAndRender(GameContainer.java:663)\n    at org.newdawn.slick.AppGameContainer.gameLoop(AppGameContainer.java:411)\n    at org.newdawn.slick.AppGameContainer.start(AppGameContainer.java:321)\n    at net.matrixstudios.zenerith.gui.Window.&lt;init&gt;(Window.java:28)\n    at net.matrixstudios.Main.main(Main.java:28)\nCaused by: java.util.jar.JarException: file:/C:/Users/M4trixSh4d0w/Desktop/Zenerith_Alpha.0.2.1.5.jar has unsigned entries - org/bouncycastle/LICENSE.class\n    at javax.crypto.JarVerifier.verifySingleJar(JarVerifier.java:462)\n    at javax.crypto.JarVerifier.verifyJars(JarVerifier.java:322)\n    at javax.crypto.JarVerifier.verify(JarVerifier.java:250)\n    at javax.crypto.JceSecurity.verifyProviderJar(JceSecurity.java:161)\n    at javax.crypto.JceSecurity.getVerificationResult(JceSecurity.java:187)\n    at javax.crypto.Cipher.getInstance(Cipher.java:638)\n    ... 14 more\n\n\njava.lang.SecurityException: JCE cannot authenticate the provider BC",
    "severity": "high",
    "tags": [
      "java",
      "securityexception"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "22160780",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 17790,
      "stackoverflow_creation_date": "2014-03-04T00:55:47.880Z"
    },
    "idempotency_key": "stackoverflow-22160780",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "android webview catch bad url",
    "body": "In my app I have receive URLs as string from a web-service and load it to a WebView. mainContentText = (WebView) findViewById(R.id.mainContentText); mainContentText.getSettings().setJavaScriptEnabled(true); mainContentText.setWebViewClient(new CustomWebClient()); mainContentText.loadUrl(url); private class CustomWebClient extends WebViewClient{ private static final String TAG = \"WebWiewActivity\"; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) { Log.d(TAG, \"loading: \" + url); return false; } @Override public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) { super.onReceivedError(view, errorCode, description, failingUrl); Log.e(TAG, String.format(\"*ERROR* Code: %d Desc: %s URL: %s\", errorCode, description, failingUrl)); } } When tested a situation when the URL is not good (a random string, url = \"abc\") I just receive a default error page, but nothing at onReceivedError and not shouldOverrideUrlLoading callbacks and no exceptions How can I catch such situation?",
    "code": "mainContentText = (WebView) findViewById(R.id.mainContentText); \nmainContentText.getSettings().setJavaScriptEnabled(true);\nmainContentText.setWebViewClient(new CustomWebClient());\n\nmainContentText.loadUrl(url);\n\nprivate class CustomWebClient extends WebViewClient{\n\n        private static final String TAG = \"WebWiewActivity\";\n\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            Log.d(TAG, \"loading: \" + url);\n            return false;\n        }\n\n        @Override\n        public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n            super.onReceivedError(view, errorCode, description, failingUrl);\n            Log.e(TAG, String.format(\"*ERROR*  Code: %d  Desc: %s  URL: %s\", errorCode, description, failingUrl));\n        }\n    }\n\n\nurl = \"abc\"\n\nonReceivedError\n\nshouldOverrideUrlLoading\n\n# Solution Code:\nprivate class CustomWebClient extends WebViewClient {\n\n    private static final String TAG = \"WebWiewActivity\";\n\n    @Override\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n        Log.d(TAG, \"loading: \" + url);\n        return false;\n    }\n\n    @Override\n    public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) {\n        super.onReceivedError(view, errorCode, description, failingUrl);\n\n        *************************************\n        // do error handling\n        *************************************\n    }\n\n    @Override\n    public void onPageFinished(String url) {\n        // url validation\n        if (!Patterns.WEB_URL.matcher(url).matches()) {\n            *************************************\n            // do error handling\n            *************************************\n        }\n    }\n}\n",
    "resolution": "I faced the same problem, i solved it like below: private class CustomWebClient extends WebViewClient { private static final String TAG = \"WebWiewActivity\"; @Override public boolean shouldOverrideUrlLoading(WebView view, String url) { Log.d(TAG, \"loading: \" + url); return false; } @Override public void onReceivedError(WebView view, int errorCode, String description, String failingUrl) { super.onReceivedError(view, errorCode, description, failingUrl); ************************************* // do error handling ************************************* } @Override public void onPageFinished(String url) { // url validation if (!Patterns.WEB_URL.matcher(url).matches()) { ************************************* // do error handling ************************************* } } } I added some logic in onPageFinished(String url) method to check whether the url is valid, and you can catch the exception when the URL is not good (a random string, url = \"abc\").",
    "severity": "medium",
    "tags": [
      "android",
      "webview"
    ],
    "metadata": {
      "stackoverflow_question_id": "22282742",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 2091,
      "stackoverflow_creation_date": "2014-03-09T13:22:51.207Z"
    },
    "idempotency_key": "stackoverflow-22282742",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot modify the return value of Dictionary because it is not a variable",
    "body": "Have such error: Cannot modify the return value of 'System.Collections.Generic.Dictionary.this[string]' because it is not a variable.` My code: Dictionary<string, lim> urlsLimited = new Dictionary<string, lim>(); struct lim { public int min; public int max; } void main () { .... foreach (KeyValuePair<string, lim> pair in urlsLimited) { string like = od.LikeDiscussions(pair.Key); if (like == \"Like\") { lock (locker) { urlsLimited[pair.Key].min++; // error } } } .... } How to iterate urlsLimited[pair.Key].min++?",
    "code": "Dictionary&lt;string, lim&gt; urlsLimited = new Dictionary&lt;string, lim&gt;();\nstruct lim\n{\n    public int min;\n    public int max;\n}\nvoid main ()\n{\n    ....\n    foreach (KeyValuePair&lt;string, lim&gt; pair in urlsLimited)\n    {\n        string like = od.LikeDiscussions(pair.Key);\n        if (like == \"Like\")\n        {\n            lock (locker)\n            {\n                urlsLimited[pair.Key].min++; // error\n\n            }\n        }\n    }\n    ....\n}\n\n\n# Solution Code:\nforeach (KeyValuePair&lt;string, lim&gt; pair in urlsLimited)\n{\n    string like = od.LikeDiscussions(pair.Key);\n    if (like == \"Like\")\n    {\n        lock (locker)\n        {\n            lim val = pair.Value;\n            val.min++;\n            urlsLimited[pair.Key] = val;\n        }\n    }\n}\n",
    "resolution": "You will need to assign the value to a local variable, perform the increment, then set it back to the dictionary. foreach (KeyValuePair<string, lim> pair in urlsLimited) { string like = od.LikeDiscussions(pair.Key); if (like == \"Like\") { lock (locker) { lim val = pair.Value; val.min++; urlsLimited[pair.Key] = val; } } } For a good explanation, refer to Jon Skeet's answer on a related question: https://stackoverflow.com/a/6255368/1149773.",
    "severity": "medium",
    "tags": [
      "c#"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "22336665",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 9509,
      "stackoverflow_creation_date": "2014-03-11T21:08:38.800Z"
    },
    "idempotency_key": "stackoverflow-22336665",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Any built-in Linux methods for AXI-burst type devices?",
    "body": "I need to communicate with an FPGA device based on an AXI-burst interface. What are the ways to access such a device through Linux without involving a DMA? Burst is an intrinsic property of the AXI standard, which should typically be triggered automatically when large amounts of data are being transferred. And the bigger problem is the FPGA is designed so as to respond only to burst-type requests over the AXI bus. So this causes serious issues on Linux when the application tries sequential copy. I have already tried memcpy and it doesn't work.",
    "code": "memcpy\n\n# Solution Code:\n/* shareable device: S=b0 TEX=b000 AP=b11, C=b0, B=b1 = 0xC06*/\nXil_SetTlbAttributes(COMPONENT_BASE_ADDRESS, 0xC06);\n\n\nEncoding Bits   Cache Attribute\n  C   B\n  0   0         Non-cacheable\n  0   1         Write-back, write-allocate\n  1   0         Write-through, no write-allocate\n  1   1         Write-back, no write-allocate\n",
    "resolution": "You need to set up the MMU to inform the hardware of the capabilities of your component. You also need to ensure that the entire interconnect supports bursts and isn't doing any conversions (which can happen if there's any ambiguity about your component's capabilities when the interconnect is generated). To set up the MMU you perform a call like this: /* shareable device: S=b0 TEX=b000 AP=b11, C=b0, B=b1 = 0xC06*/ Xil_SetTlbAttributes(COMPONENT_BASE_ADDRESS, 0xC06); attributes are defined as follows (from Zynq Technical Reference Manual): Encoding Bits Cache Attribute C B 0 0 Non-cacheable 0 1 Write-back, write-allocate 1 0 Write-through, no write-allocate 1 1 Write-back, no write-allocate So the above line would set the region to write-back, write allocate, which may give you burst access on write. See also Xilinx AR#47406 and this forum post.",
    "severity": "medium",
    "tags": [
      "linux",
      "arm",
      "fpga",
      "dma",
      "amba"
    ],
    "metadata": {
      "stackoverflow_question_id": "22373717",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2855,
      "stackoverflow_creation_date": "2014-03-13T09:06:18.493Z"
    },
    "idempotency_key": "stackoverflow-22373717",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Best design pattern to control permissions on a \"per object per user\" basis with ServiceStack?",
    "body": "I know that ServiceStack provides a RequiredRole attribute to control permissions, however, this does not fully work for my use case. I have a website with a lot of user-generated content. Users can only edit documents they have explicit permissions to. Permissions are controlled per object or group of the object. So, if a user is an admin of a group then they can edit all documents managed by that group. What is the best design pattern to control access to a request on a per object per user basis? I want to approach this with as DRY a methodology as possible as it will affect 95% of all my API endpoints. Also, can this be integrated with FluentValidation and return appropriate HTTP responses? Many thanks, Richard.",
    "code": "per object per user\n\n# Solution Code:\nObjectType\n\nnull\n\nRequirePermission\n\nDocumentRequest\n\nDocument\n\nObjectId\n\nId\n\nRequirePermission\n\n[ObjectId]\n\nUserId == null",
    "resolution": "I use per object permissions in my ServiceStack applications. Effectively this is an Access-Control-List (ACL). I have created a Working Self Hosted Console Example which you can fork on GitHub. ACL pattern: I use the database structure shown in the diagram below, whereby resources in my database such as documents, files, contacts etc (any resource I want to protect) are all given an ObjectType id. The permissions table contains rules that apply to specific users, specific groups, specific objects and specific object types, and is flexible to accept them in combinations, where a null value will be treated like a wildcard. Securing the service and routes: I find the easiest way to handle them is to use a request filter attribute. With my solution I simply add a couple of attributes to my request route declaration: [RequirePermission(ObjectType.Document)] [Route(\"/Documents/{Id}\", \"GET\")] public class DocumentRequest : IReturn<string> { [ObjectId] public int Id { get; set; } } [Authenticate] public class DocumentService : Service { public string Get(DocumentRequest request) { // We have permission to access this document } } I have a filter attribute call RequirePermission, this will perform the check to see that the current user requesting the DTO DocumentRequest has access to the Document object whose ObjectId is given by the property Id. That's all there is to wiring up the checking on my routes, so it's very DRY. The RequirePermission request filter attribute: The job of testing for permission is done in the filter attribute, before reaching the service's action method. It has the lowest priority which means it will run before validation filters. This method will get the active session, a custom session type (details below), which provides the active user's Id and the group Ids they are permitted to access. It will also determine the objectId if any from the request. It determines the object id by examining the request DTO's properties to find the value having the [ObjectId] attribute. With that information it will query the permission source to find the most appropriate permission. public class RequirePermissionAttribute : Attribute, IHasRequestFilter { readonly int objectType; public RequirePermissionAttribute(int objectType) { // Set the object type this.objectType = objectType; } IHasRequestFilter IHasRequestFilter.Copy() { return this; } public void RequestFilter(IRequest req, IResponse res, object requestDto) { // Get the active user's session var session = req.GetSession() as MyServiceUserSession; if(session == null || session.UserAuthId == 0) throw HttpError.Unauthorized(\"You do not have a valid session\"); // Determine the Id of the requested object, if applicable int? objectId = null; var property = requestDto.GetType().GetPublicProperties().FirstOrDefault(p=>Attribute.IsDefined(p, typeof(ObjectIdAttribute))); if(property != null) objectId = property.GetValue(requestDto,null) as int?; // You will want to use your database here instead to the Mock database I'm using // So resolve it from the container // var db = HostContext.TryResolve<IDbConnectionFactory>().OpenDbConnection()); // You will need to write the equivalent 'hasPermission' query with your provider // Get the most appropriate permission // The orderby clause ensures that priority is given to object specific permissions first, belonging to the user, then to groups having the permission // descending selects int value over null var hasPermission = session.IsAdministrator || (from p in Db.Permissions where p.ObjectType == objectType && ((p.ObjectId == objectId || p.ObjectId == null) && (p.UserId == session.UserAuthId || p.UserId == null) && (session.Groups.Contains(p.GroupId) || p.GroupId == null)) orderby p.ObjectId descending, p.UserId descending, p.Permitted, p.GroupId descending select p.Permitted).FirstOrDefault(); if(!hasPermission) throw new HttpError(System.Net.HttpStatusCode.Forbidden, \"Forbidden\", \"You do not have permission to access the requested object\"); } public int Priority { get { return int.MinValue; } } } Permission Priority: When the permissions are read from the permission table, the highest priority permission is used to determine if they have access. The more specific the permission entry is, the higher the priority it has when the results are ordered. Permissions matching the current user have greater priority than general permissions for all users i.e where UserId == null. Similarly a permission for the specifically requested object has higher priority than the general permission for that object type. User specific permissions take precedence over group permissions. This means, that a user can be granted access by a group permission but be denied access at user level, or vice versa. Where the user belongs to a group that allows them access to a resource and to another group that denies them access, then the user will have access. The default rule is to deny access. Implementation: In my example code above I have used this linq query to determine if the user has permission. The example uses a mocked database, and you will need to substitute it with your own provider. session.IsAdministrator || (from p in Db.Permissions where p.ObjectType == objectType && ((p.ObjectId == objectId || p.ObjectId == null) && (p.UserId == session.UserAuthId || p.UserId == null) && (session.Groups.Contains(p.GroupId) || p.GroupId == null)) orderby p.ObjectId descending, p.UserId descending, p.Permitted, p.GroupId descending select p.Permitted).FirstOrDefault(); Custom Session: I have used a custom session object to store the group memberships, these are looked up and added to the session when the user is authenticated. // Custom session handles adding group membership information to our session public class MyServiceUserSession : AuthUserSession { public int?[] Groups { get; set; } public bool IsAdministrator { get; set; } // The int value of our UserId is converted to a string!?! :( by ServiceStack, we want an int public new int UserAuthId { get { return base.UserAuthId == null ? 0 : int.Parse(base.UserAuthId); } set { base.UserAuthId = value.ToString(); } } // Helper method to convert the int[] to int?[] // Groups needs to allow for null in Contains method check in permissions // Never set a member of Groups to null static T?[] ConvertArray<T>(T[] array) where T : struct { T?[] nullableArray = new T?[array.Length]; for(int i = 0; i < array.Length; i++) nullableArray[i] = array[i]; return nullableArray; } public override void OnAuthenticated(IServiceBase authService, ServiceStack.Auth.IAuthSession session, ServiceStack.Auth.IAuthTokens tokens, System.Collections.Generic.Dictionary<string, string> authInfo) { // Determine UserId from the Username that is in the session var userId = Db.Users.Where(u => u.Username == session.UserName).Select(u => u.Id).First(); // Determine the Group Memberships of the User using the UserId var groups = Db.GroupMembers.Where(g => g.UserId == userId).Select(g => g.GroupId).ToArray(); IsAdministrator = groups.Contains(1); // Set IsAdministrator (where 1 is the Id of the Administrator Group) Groups = ConvertArray<int>(groups); base.OnAuthenticated(authService, this, tokens, authInfo); } } I hope you find this example useful. Let me know if anything is unclear. Fluent Validation: Also, can this be integrated with FluentValidation and return appropriate HTTP responses? You shouldn't try and do this in the validation handler, because it is not validation. Checking if you have permission is a verification process. If you require to check something against a specific value in a datasource you are no longer performing validation. See this other answer of mine which also covers this.",
    "severity": "high",
    "tags": [
      "design-patterns",
      "permissions",
      "servicestack"
    ],
    "metadata": {
      "stackoverflow_question_id": "22375880",
      "stackoverflow_score": 35,
      "stackoverflow_view_count": 28916,
      "stackoverflow_creation_date": "2014-03-13T10:36:00.107Z"
    },
    "idempotency_key": "stackoverflow-22375880",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to access a data file in a plugin generator?",
    "body": "I'd like to access a data file I have in the _data folder and use this in a plugin generator, but I'm not sure how. I have: site.data.projects.each do |project| ... end But when I try to compile it tells me \"undefined method 'projects' for Hash(...) NoMethodError. What is the correct syntax?",
    "code": "site.data.projects.each do |project|\n  ...\nend\n\n\n# Solution Code:\nsite.data['projects'].each do |project|\n  ...\nend\n\n\n_data",
    "resolution": "If you post what your _data file looks like I can give you a better answer, but try: site.data['projects'].each do |project| ... end",
    "severity": "low",
    "tags": [
      "plugins",
      "jekyll"
    ],
    "metadata": {
      "stackoverflow_question_id": "22518468",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 515,
      "stackoverflow_creation_date": "2014-03-19T21:28:07.243Z"
    },
    "idempotency_key": "stackoverflow-22518468",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is MSVCRT's implementation of fprintf() thread safe?",
    "body": "It seems that glibc's implementation of fprintf() is thread-safe, but is that so for Microsoft's CRT, as well? By thread-safe, I don't mean just crashing, but also that if multiple threads (in the same process) call fprintf(), the texts will not be mixed. That is, for example, if thread A calls fprintf(stdout, \"aaaa\"); and thread B calls fprintf(stdout, \"bbbb\"); it's guaranteed not to mix to become aabbaabb. Is there such a guarantee?",
    "code": "fprintf()\n\nfprintf(stdout, \"aaaa\");\n\nfprintf(stdout, \"bbbb\");\n\naabbaabb\n\n# Solution Code:\n_CRT_DISABLE_PERFCRIT_LOCKS\n\n_lock_file\n\n_unlock_file",
    "resolution": "Yes. In the multithreaded runtime libraries, every stream has an associated lock. This lock is acquired at the beginning of any call to a printf function and not released until just before that printf function returns. This behavior is required by C11 (there was no concept of \"threads\" in standard C until C11). C11 §7.21.2/7-8 states: Each stream has an associated lock that is used to prevent data races when multiple threads of execution access a stream, and to restrict the interleaving of stream operations performed by multiple threads. Only one thread may hold this lock at a time. The lock is reentrant: a single thread may hold the lock multiple times at a given time. All functions that read, write, position, or query the position of a stream lock the stream before accessing it. They release the lock associated with the stream when the access is complete. Visual C++ does not fully support C11, but it does conform to this requirement. A couple of other Visual C++-specific comments: As long as you are not defining _CRT_DISABLE_PERFCRIT_LOCKS (which only works with the statically-linked runtime libraries, libcmt.lib and friends) or using the _nolock-suffixed functions, then most operations on a single stream are atomic. If you require atomicity across multiple operations on a stream, you can acquire the lock for a file yourself by acquiring and releasing the stream lock yourself using _lock_file and _unlock_file.",
    "severity": "medium",
    "tags": [
      "c",
      "multithreading",
      "printf",
      "msvcrt"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "22539282",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 2915,
      "stackoverflow_creation_date": "2014-03-20T16:28:41.420Z"
    },
    "idempotency_key": "stackoverflow-22539282",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Visual Studio 2012 - Unit Test Error",
    "body": "I am using Visual Studio 2012 and I'm having the following error :\"Error 'hw02.World' does not contain a constructor that takes 2 arguments. I'm trying to create unit test for my class: class World : IWorld { public World(int width, int height) { Width = width; Height = height; world = new IBuilding[width, height]; } } The test which creates the error: [TestClass] public class UnitTest1 { [TestMethod] public void TestMethod1() { var world = new World(5, 5); // this line creates the error: 'hw02.World' does not contain a constructor that takes 2 arguments } } Thanks for any help",
    "code": "InternalsVisibleTo\n\nclass World\n\npublic class World\n\nInternalsVisibleTo\n\nWorld",
    "resolution": "World is a Internal class (does not have a Public keyword at the class level), if your unit test isn't in the same assembly and if there is no InternalsVisibleTo relationship between these assemblies, your unit test will not see any public constructor and thus complain that there is no constructor with two arguments (from the perspective of the Test assembly this is true). See the documentation on Default Visibility. Either make the class World a public class World or add an InternalsVisibleTo attribute to the assembly that contains the World class.",
    "severity": "low",
    "tags": [
      "c#",
      "unit-testing",
      "visual-studio-2012"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "22644357",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 180,
      "stackoverflow_creation_date": "2014-03-25T19:22:10.527Z"
    },
    "idempotency_key": "stackoverflow-22644357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to seed timestamps on laravel 4.1?",
    "body": "Good day, I was having an error \"Object of class DateTime could not be converted to string\" when Im trying to seed my database. here is my migration code: public function up() { Schema::create('tblinventory', function(Blueprint $table) { $table->increments('id'); $table->integer('itemId'); $table->enum('status', array('active','inactive'))->default(null)->nullable(); $table->float('purchasePrice'); $table->float('sellingPrice'); $table->date('expirationDate'); $table->float('ReceivedQuantity'); $table->float('soldQuantity'); $table->timestamps(); }); } and my seeder: <?php class InventoryTableSeeder extends Seeder { public function run() { // Uncomment the below to wipe the table clean before populating DB::table('tblinventory')->truncate(); $insert = [ [ 'itemId' => '1', 'status' => 'inactive', 'ReceivedQuantity'=>'100', 'SoldQuantity'=>'93', 'sellingPrice'=>'4.5', 'purchasePrice'=>'3.5', 'created_at' => new DateTime, 'expirationDate'=>date('2015-02-22') ], [ 'itemId' => '1', 'status' => 'inactive', 'ReceivedQuantity'=>'300', 'SoldQuantity'=>'300', 'sellingPrice'=>'4.75', 'purchasePrice'=>'3.65', 'expirationDate'=>date('2015-02-22') ], [ 'itemId' => '2', 'status' => 'inactive', 'ReceivedQuantity'=>'100', 'SoldQuantity'=>'93', 'sellingPrice'=>'3.5', 'purchasePrice'=>'2.5', 'expirationDate'=>date('2014-07-22') ], [ 'itemId' => '3', 'status' => 'inactive', 'ReceivedQuantity'=>'100', 'SoldQuantity'=>'93', 'sellingPrice'=>'12.5', 'purchasePrice'=>'10.5', 'expirationDate'=>date('2017-01-02') ], [ 'itemId' => '3', 'status' => 'inactive', 'ReceivedQuantity'=>'100', 'SoldQuantity'=>'100', 'sellingPrice'=>'14.5', 'purchasePrice'=>'13.5', 'expirationDate'=>date('2017-07-22') ], [ 'itemId' => '4', 'status' => 'inactive', 'ReceivedQuantity'=>'100', 'SoldQuantity'=>'93', 'sellingPrice'=>'24.5', 'purchasePrice'=>'23.5', 'expirationDate'=>date('2015-07-22') ] ]; DB::table('tblinventory')->insert($insert); // Uncomment the below to run the seeder // DB::table('inventories')->insert($inventories); } } I get the error when I put 'created_at'=> new DateTime. How can I fix this? thank you!",
    "code": "    public function up()\n{\n    Schema::create('tblinventory', function(Blueprint $table) {\n        $table-&gt;increments('id');\n        $table-&gt;integer('itemId');\n        $table-&gt;enum('status', array('active','inactive'))-&gt;default(null)-&gt;nullable();\n        $table-&gt;float('purchasePrice');\n        $table-&gt;float('sellingPrice');\n        $table-&gt;date('expirationDate');\n        $table-&gt;float('ReceivedQuantity');\n        $table-&gt;float('soldQuantity');\n        $table-&gt;timestamps();\n    });\n}\n\n\n&lt;?php\n\nclass InventoryTableSeeder extends Seeder {\n\npublic function run()\n{\n    // Uncomment the below to wipe the table clean before populating\n    DB::table('tblinventory')-&gt;truncate();\n\n    $insert = [\n        [\n        'itemId' =&gt; '1', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'100',\n        'SoldQuantity'=&gt;'93',\n        'sellingPrice'=&gt;'4.5',\n        'purchasePrice'=&gt;'3.5',\n        'created_at' =&gt; new DateTime,\n        'expirationDate'=&gt;date('2015-02-22')\n        ],\n        [\n        'itemId' =&gt; '1', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'300',\n        'SoldQuantity'=&gt;'300',\n        'sellingPrice'=&gt;'4.75',\n        'purchasePrice'=&gt;'3.65',\n        'expirationDate'=&gt;date('2015-02-22')\n        ],\n        [\n        'itemId' =&gt; '2', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'100',\n        'SoldQuantity'=&gt;'93',\n        'sellingPrice'=&gt;'3.5',\n        'purchasePrice'=&gt;'2.5',\n        'expirationDate'=&gt;date('2014-07-22')\n        ],\n        [\n        'itemId' =&gt; '3', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'100',\n        'SoldQuantity'=&gt;'93',\n        'sellingPrice'=&gt;'12.5',\n        'purchasePrice'=&gt;'10.5',\n        'expirationDate'=&gt;date('2017-01-02')\n        ],\n        [\n        'itemId' =&gt; '3', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'100',\n        'SoldQuantity'=&gt;'100',\n        'sellingPrice'=&gt;'14.5',\n        'purchasePrice'=&gt;'13.5',\n        'expirationDate'=&gt;date('2017-07-22')\n        ],\n        [\n        'itemId' =&gt; '4', \n        'status' =&gt; 'inactive',\n        'ReceivedQuantity'=&gt;'100',\n        'SoldQuantity'=&gt;'93',\n        'sellingPrice'=&gt;'24.5',\n        'purchasePrice'=&gt;'23.5',\n        'expirationDate'=&gt;date('2015-07-22')\n        ]\n\n    ];\n\n    DB::table('tblinventory')-&gt;insert($insert);\n    // Uncomment the below to run the seeder\n    // DB::table('inventories')-&gt;insert($inventories);\n}\n\n}\n\n\n'created_at'=&gt; new DateTime\n\n# Solution Code:\n'expirationDate' =&gt; \\Carbon\\Carbon::createFromDate(2014,07,22)-&gt;toDateTimeString()\n\n\n'created_at' =&gt; \\Carbon\\Carbon::now()-&gt;toDateTimeString()\n",
    "resolution": "Try to create your dates using Carbon (Laravel uses it internally): 'expirationDate' => \\Carbon\\Carbon::createFromDate(2014,07,22)->toDateTimeString() or 'created_at' => \\Carbon\\Carbon::now()->toDateTimeString()",
    "severity": "medium",
    "tags": [
      "laravel",
      "laravel-4"
    ],
    "metadata": {
      "framework": "laravel",
      "stackoverflow_question_id": "22738729",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 9995,
      "stackoverflow_creation_date": "2014-03-30T00:24:17.770Z"
    },
    "idempotency_key": "stackoverflow-22738729",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Require file only if it exists",
    "body": "Perhaps there's a better way to do this. I want to be able to load some routes dynamically. I was planning on having static routes in routes.rb, and custom routes in custom_routes.rb. Then at the bottom of routes.rb, I would do: CustomRoutes.create if defined?(CustomRoutes) In order for this to work I have to require custom_routes.rb only if the file exists, but how? custom_routes.rb class CustomRoutes def self.create MyApplication.routes.draw do #...more routes here end end end",
    "code": "CustomRoutes.create if defined?(CustomRoutes)\n\n\nclass CustomRoutes\n  def self.create\n    MyApplication.routes.draw do\n      #...more routes here\n    end\n  end\nend\n\n\nroutes.rb\n\ncustom_routes.rb\n\nroutes.rb\n\ncustom_routes.rb\n\n# Solution Code:\nrequire 'custom_routes' if File.exists?('custom_routes.rb')\n\n\nrequire 'custom_routes' if File.exists?(File.join(Rails.root, 'lib', 'custom_routes.rb'))\n",
    "resolution": "You can do: require 'custom_routes' if File.exists?('custom_routes.rb') Although you might want to add some path information: require 'custom_routes' if File.exists?(File.join(Rails.root, 'lib', 'custom_routes.rb'))",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "ruby-on-rails-3.2",
      "ruby-1.8.7"
    ],
    "metadata": {
      "stackoverflow_question_id": "22792698",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3371,
      "stackoverflow_creation_date": "2014-04-01T17:24:12.360Z"
    },
    "idempotency_key": "stackoverflow-22792698",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is res.partner?",
    "body": "I am new to openerp I came across res.partner but I couldn't understand what it does and what all functionalities it provides,so if anyone could explain it to me I would be grateful.",
    "code": "openerp\n\nres.partner\n\n# Solution Code:\nres.partner",
    "resolution": "To clarify. res.partner is an ORM Model. An ORM model describes a class of objects in the database and provides a series of ORM methods to allow you to manage them in code (create, write, unlink etc). To get the database table, unless there is a specific _table override, just convert the periods to underscores so the table in the database is res_partner. As with any \"res.\" model, you get res.partner as part of the core of OpenERP rather than any additional model such as accounting or sales. But to answer a wider question, what is res.partner for in OpenERP? Assuming OpenERP 7, res.partner contains information about any entities you have a relationship with. This includes: Customers - you have a res.partner entry for each customer plus a res.partner entry for each contact person or address (invoice to, deliver to) you set up for that customer. Suppliers - same as customers. In fact, the only difference between the two is a boolean field on res.partner to say if they are a customer or supplier. Users - each user allowed to log in to your OpenERP instance has a related res.partner to store address details. Companies - each company you set up in OpenERP assuming you are using multi-company has a related res.parter to store address details.",
    "severity": "high",
    "tags": [
      "odoo"
    ],
    "metadata": {
      "stackoverflow_question_id": "22927605",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 12810,
      "stackoverflow_creation_date": "2014-04-08T04:32:16.810Z"
    },
    "idempotency_key": "stackoverflow-22927605",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I negate the parameter for AngularJS ng-if directive?",
    "body": "Quick Example: There is a routed parameter (/Home/:isLoggedIn) that equates to true or false. (/Demo/#/Home/false) and a controller property this.loggedIn = this.routeParams.loggedIn; I have a view (Home.html) that has two elements, each with an ng-if attribute. <div ng-if=\"home.loggedIn\"> Logged In! </div> <div ng-if=\"!home.loggedIn\"> Not Logged In... </div> If I navigate to /Demo/#/Home/true then the first element displays and the second does not. If I navigate to /Demo/#/Home/false then the first element does not display NOR does the second one. I would expect the !home.loggedIn parameter evaluate to true when the value of loggedIn is, in fact, false. Any advice here?",
    "code": "&lt;div ng-if=\"home.loggedIn\"&gt;\n    Logged In!\n&lt;/div&gt;\n&lt;div ng-if=\"!home.loggedIn\"&gt;\n    Not Logged In...\n&lt;/div&gt;\n\n\n# Solution Code:\n// Change that:\nthis.loggedIn = this.routeParams.loggedIn;\n\n// To this:\nthis.loggedIn = this.routeParams.loggedIn === 'true';\n\n\nfunction toBoolean(value) {\n  if (typeof value === 'function') {\n    value = true;\n  } else if (value &amp;&amp; value.length !== 0) {\n    var v = lowercase(\"\" + value);\n    value = !(v == 'f' || v == '0' || v == 'false' || v == 'no' || v == 'n' || v == '[]');\n  } else {\n    value = false;\n  }\n  return value;\n}\n\n\nrouteParams.loggedIn\n\nloggedIn\n\nngIf\n\ntoBoolean()\n\ntoBoolean()\n\nfalse\n\ntrue\n\nngIf\n\nloggedIn === 'true'\n\nhome.loggedIn\n\ntoBoolean()\n\ntoBoolean('true')\n\n!home.loggedIn\n\n!'true'\n\ntoBoolean()\n\ntoBoolean(false)\n\nloggedIn === 'false'\n\nhome.loggedIn\n\ntoBoolean()\n\ntoBoolean('false')\n\n!home.loggedIn\n\n!'false'\n\ntoBoolean()\n\ntoBoolean(false)",
    "resolution": "It is quite obvious that he problem has its root to the fact that routeParams.loggedIn is a string. So the solution is quite obvious: // Change that: this.loggedIn = this.routeParams.loggedIn; // To this: this.loggedIn = this.routeParams.loggedIn === 'true'; But why the weird behaviour ? Why work not showing anything when loggedIn is 'false' ? Well, here is why: The ngIf directive uses the following toBoolean() function to convert its value to boolean: function toBoolean(value) { if (typeof value === 'function') { value = true; } else if (value && value.length !== 0) { var v = lowercase(\"\" + value); value = !(v == 'f' || v == '0' || v == 'false' || v == 'no' || v == 'n' || v == '[]'); } else { value = false; } return value; } If a string is passed to toBoolean() it converts it to lowercase and checks (among other things) if it equals 'false' (in which case it returns false). This is different than the default JavaScript implementation which interprets any non-empty string as true when casting to boolean. So, let's examine the two cases for both ngIfs: loggedIn === 'true' ngIf1 evaluates home.loggedIn --> 'true' (string) ngIf1 passes this value through toBoolean() toBoolean('true') returns true (because it sees a string that can't match with any string considered falsy) ngIf1 renders its content ngIf2 evaluates !home.loggedIn <=> !'true' --> false (boolean) (this happens because any non-empty string happens to evaluate to true) ngIf2 passes this value through toBoolean() toBoolean(false) returns false ngIf2 does not render its content loggedIn === 'false' ngIf1 evaluates home.loggedIn --> 'false' (string) ngIf1 passes this value through toBoolean() toBoolean('false') returns false (because it sees a string that is considered falsy ngIf1 does not render its content ngIf2 evaluates !home.loggedIn <=> !'false' --> false (boolean) (this happens because any non-empty string happens to evaluate to true) ngIf2 passes this value through toBoolean() toBoolean(false) returns false ngIf2 does not render its content So, this explains the \"weird\" behaviour (hopefully in an understandable way).",
    "severity": "high",
    "tags": [
      "javascript",
      "angularjs",
      "angular-ng-if"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "22967847",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 27135,
      "stackoverflow_creation_date": "2014-04-09T15:54:35.920Z"
    },
    "idempotency_key": "stackoverflow-22967847",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I access my Window object properties from C++ while using QQmlApplicationEngine?",
    "body": "I've been trying to learn QtQuick for GUI creation, but I've been having a hard time understanding how to interact with QML objects from the C++ part of my test program. Here's my simple QML file: import QtQuick 2.2 import QtQuick.Window 2.1 Window { id: mainWindow visible: true width: 800 height: 800 color: \"#FFFF0000\" MouseArea { anchors.fill: parent onClicked: Qt.quit() } Rectangle { id: testRect width: 100 height: 100 anchors.centerIn: parent color: \"#FF0000FF\" } } Here's the basic C++ file that came with it (auto-generated by QtCreator): #include <QGuiApplication> #include <QQmlApplicationEngine> int main(int argc, char *argv[]) { QGuiApplication app(argc, argv); QQmlApplicationEngine engine; engine.load(QUrl(QStringLiteral(\"qrc:///main.qml\"))); return app.exec(); } My issue is that I have no idea how to gain access to my 'Window' QML object, and as a result, I'm unable to alter any of its properties or the properties of its children! This part of the QtQuick documentation shows two methods of accessing QML objects from within C++ code, but neither of them seem to apply to this 'QQmlApplicationEngine' loading scheme.. I've also seen people use things like 'QApplicationViewer' and 'QDeclaritiveView', but I can't seem to find those in the official documentation at all.. I'm getting really frustrated with QtQuick; the 'simplicity' of QML seems to be lost in a sea of conflicting documentation and convoluted interface between C++ and QML. Is there anyway for me to access my QML objects while using the QQmlApplicationEngine method? I've tried using 'QuickView', but it doesn't seem to work well with Window QML objects..? Is QQmlApplicationEngine only useful for QML-only applications in a single file? So far, every piece of documentation and tutorial I've read has shown something different.. Any help or clarification would be appreciated. Ideally I'd like to know how to access and modify QML objects (like 'mainWindow', 'testRect', and other objects in other files) via my C++ code.",
    "code": "import QtQuick 2.2\nimport QtQuick.Window 2.1\n\nWindow {\n    id: mainWindow\n    visible: true\n    width: 800\n    height: 800\n    color: \"#FFFF0000\"\n\n    MouseArea {\n        anchors.fill: parent\n        onClicked: Qt.quit()\n    }\n\n    Rectangle {\n        id: testRect\n        width: 100\n        height: 100\n        anchors.centerIn: parent\n        color: \"#FF0000FF\"\n    }\n}\n\n\n#include &lt;QGuiApplication&gt;\n#include &lt;QQmlApplicationEngine&gt;\n\nint main(int argc, char *argv[])\n{\n    QGuiApplication app(argc, argv);\n\n    QQmlApplicationEngine engine;\n    engine.load(QUrl(QStringLiteral(\"qrc:///main.qml\")));\n\n    return app.exec();\n}\n\n\n# Solution Code:\n#include &lt;QGuiApplication&gt;\n#include &lt;QQmlApplicationEngine&gt;\n#include &lt;QDebug&gt;\n\nint main(int argc, char *argv[])\n{\n    QGuiApplication app(argc, argv);\n\n    QQmlApplicationEngine engine;\n    engine.load(QUrl(QStringLiteral(\"qrc:///main.qml\")));\n\n    // Step 1: get access to the root object\n    QObject *rootObject = engine.rootObjects().first();\n    QObject *qmlObject = rootObject-&gt;findChild&lt;QObject*&gt;(\"mainWindow\");\n\n    // Step 2a: set or get the desired property value for the root object\n    rootObject-&gt;setProperty(\"visible\", true);\n    qDebug() &lt;&lt; rootObject-&gt;property(\"visible\");\n\n    // Step 2b: set or get the desired property value for any qml object\n    qmlObject-&gt;setProperty(\"visible\", true);\n    qDebug() &lt;&lt; qmlObject-&gt;property(\"visible\");\n\n    return app.exec();\n}\n\n\nimport QtQuick 2.2\nimport QtQuick.Window 2.1\n\nWindow {\n    id: mainWindow\n    objectName: \"mainWindow\"\n    ...\n}\n\n\nQQuickView\n\nQQmlApplicationEngine\n\nobjectName",
    "resolution": "Turning my comment into a proper answer: this is usually done by two methods: Get the root object of your QML scene through a view if you use QQuickView or just the QQmlApplicationEngine directly. This next step can be omitted for root objects, but for \"qml objects\" in general, you will need to have the objectName property set and then you can find any children with the following method: QList QObject::findChildren(const QString & name = QString(), Qt::FindChildOptions options = Qt::FindChildrenRecursively) const C++ side #include <QGuiApplication> #include <QQmlApplicationEngine> #include <QDebug> int main(int argc, char *argv[]) { QGuiApplication app(argc, argv); QQmlApplicationEngine engine; engine.load(QUrl(QStringLiteral(\"qrc:///main.qml\"))); // Step 1: get access to the root object QObject *rootObject = engine.rootObjects().first(); QObject *qmlObject = rootObject->findChild<QObject*>(\"mainWindow\"); // Step 2a: set or get the desired property value for the root object rootObject->setProperty(\"visible\", true); qDebug() << rootObject->property(\"visible\"); // Step 2b: set or get the desired property value for any qml object qmlObject->setProperty(\"visible\", true); qDebug() << qmlObject->property(\"visible\"); return app.exec(); } See the documentation for property set and get in the official documentation: bool QObject::setProperty(const char * name, const QVariant & value) and QVariant QObject::property(const char * name) const Good, we are now more or less done on the C++ side. QML Side You will also need to have the objectName property of your qml objects set if you wish to access more than just the root item as follows: import QtQuick 2.2 import QtQuick.Window 2.1 Window { id: mainWindow objectName: \"mainWindow\" ... } This can be similarly done for any QML object. The key is \"objectName\" in here. You could omit that for the root object as the C++ side gets the root object directly, but since you are referring to QML objects in your question, I assume that you would like to solve it in general. Once you wish to do the same for any QML object, i.e. including children, you will need to use the objectName property.",
    "severity": "high",
    "tags": [
      "c++",
      "qt",
      "user-interface",
      "qml",
      "qtquick2"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "23177839",
      "stackoverflow_score": 42,
      "stackoverflow_view_count": 26563,
      "stackoverflow_creation_date": "2014-04-20T02:38:01.160Z"
    },
    "idempotency_key": "stackoverflow-23177839",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "MVC WebApi CamelCasingPropertyNames Not working on BadRequest",
    "body": "I have the following in the WebApiConfig.cs file and it works for good request var jsonFormatter = config.Formatters.JsonFormatter; jsonFormatter.SerializerSettings.ContractResolver = new CamelCasePropertyNamesContractResolver(); The top lines in my controller are public async Task<IHttpActionResult> ForgotPassword(ForgotPasswordBindingModel model) { if (!ModelState.IsValid) { return BadRequest(ModelState); } } The following is my Model being passed into the controller public class ForgotPasswordBindingModel { [Required] [Display(Name = \"User name\")] public string UserName { get; set; } [EmailAddress] [Display(Name = \"Email\")] public string Email { get; set; } } When my model is serialized back to the client UserName and Email are not camelcased properly Object {message: \"The request is invalid.\", modelState: Object} message: \"The request is invalid.\" modelState: Object model.Email: Array[1] 0: \"The Email field is not a valid e-mail address.\" The object itself ModelState seems to be camel cased properly and when the request succeeds the resulting object is done properly, however the properties of the modelState for the badrequest do not seem to be camelcased right. modelState.model.email should have to my understanding a lower cased 'E' for email. I thought the Config setting took care of this but it's not. Anyone have any ideas why modelstate is not correctly camelcased when it's serialized back?",
    "code": "var jsonFormatter = config.Formatters.JsonFormatter;\njsonFormatter.SerializerSettings.ContractResolver = new CamelCasePropertyNamesContractResolver();\n\n\npublic async Task&lt;IHttpActionResult&gt; ForgotPassword(ForgotPasswordBindingModel model)\n{\n    if (!ModelState.IsValid)\n    {\n        return BadRequest(ModelState);\n    }\n}\n\n\npublic class ForgotPasswordBindingModel\n{\n    [Required]\n    [Display(Name = \"User name\")]\n    public string UserName { get; set; }\n\n    [EmailAddress]\n    [Display(Name = \"Email\")]\n    public string Email { get; set; }\n}\n\n\nObject {message: \"The request is invalid.\", modelState: Object}\nmessage: \"The request is invalid.\"\nmodelState: Object\nmodel.Email: Array[1]\n0: \"The Email field is not a valid e-mail address.\"\n\n\nModelState",
    "severity": "low",
    "tags": [
      "asp.net-web-api",
      "asp.net-web-api2"
    ],
    "metadata": {
      "stackoverflow_question_id": "23571645",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 402,
      "stackoverflow_creation_date": "2014-05-09T18:29:20.873Z"
    },
    "idempotency_key": "stackoverflow-23571645",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Three.JS Orbit Controls - enabling and disabling without position jumping",
    "body": "I am creating a geometry manipulation prototype with Three.JS. I am using OrbitControls.JS to manipulate the camera and am having trouble enabling and disabling the controls. Here is my demo: http://moczys.com/webGL/Prototype_V02-05.html The idea is that when you hover over a vertex of the Tetrahedron, a grey sphere appears. By clicking on the sphere, you bring up a vertex manipulation handle. Then by clicking an dragging on an arrow, you can move the vertex in that direction. You should then be able to click away from the geometry to get out of this mode. The problem occurs when you click away. If you click & drag after moving the vertex, the camera goes a little crazy. Depending on how far away from the original point you are, the OrbitControls will spin the camera a distance in that direction. This is just a really jarring/confusing action that really impacts the usability, so I'd like to fix it, but can't seem to locate the problem. I think that it is recording the initial position in the OrbitControls.js, and then keeping that until they are re-enabled... however I haven't been able to figure out where. This occurs somewhere in the MouseUp, MouseDown, and MouseMove event handlers. I was hoping this might be interesting to someone who might know more about the operation of OrbitControls than I do. And here is my clicking/dragging event handler code: function onDocumentMouseMove( event ) { // the following line would stop any other event handler from firing // (such as the mouse's TrackballControls) //event.preventDefault(); // update the mouse variable mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1; if(MOUSEDOWN&&editMode==2) { var vector = new THREE.Vector3( mouse.x, mouse.y, 0.5 ); projector.unprojectVector( vector, camera ); var raycaster = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() ); //lastPoint = vertexIntersects[0].object; var instance = vertexTargets.indexOf(lastPoint); if(vertexEdit==1){ var intersects = raycaster.intersectObject(XYplane); vertexTargets[instance].position.x=intersects[0].point.x; targetList[0].geometry.vertices[instance].x=intersects[0].point.x; //console.log(\"x = \"+intersects[0].point.x); } else if(vertexEdit==2){ var intersects = raycaster.intersectObject(XYplane); vertexTargets[instance].position.y=intersects[0].point.y; targetList[0].geometry.vertices[instance].y=intersects[0].point.y; //console.log(\"y = \"+intersects[0].point.y); } else if(vertexEdit==3){ var intersects = raycaster.intersectObject(YZplane); vertexTargets[instance].position.z=intersects[0].point.z; targetList[0].geometry.vertices[instance].z=intersects[0].point.z; //console.log(\"z = \"+intersects[0].point.z); } setAxisPosition(vertexTargets[instance].position.clone()); var geom = targetList[0].geometry; geom.computeCentroids(); geom.computeFaceNormals(); geom.computeVertexNormals(); geom.verticesNeedUpdate = true; geom.normalsNeedUpdate = true; updatePanels(targetList[0]); } } function onDocumentMouseDown( event ) { // the following line would stop any other event handler from firing // (such as the mouse's TrackballControls) // event.preventDefault(); //console.log(\"Click.\"); MOUSEDOWN = true; // update the mouse variable mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1; checkSelection(); if(editMode==2){ controls.enabled = false; controls.rotate = false; } else{ controls.enabled = true; controls.rotate = true; } } function onDocumentMouseUp( event ) { //event.preventDefault(); if (editMode!=2){ controls.enabled = true; controls.rotate = true; } MOUSEDOWN = false; if(editMode==2){ //editMode=1; //updateVertexTargets(targetList[0].geometry); } } I'd love to hear any suggestions that people might have, thanks!",
    "code": "    function onDocumentMouseMove( event ) \n{\n// the following line would stop any other event handler from firing\n// (such as the mouse's TrackballControls)\n//event.preventDefault();\n\n// update the mouse variable\nmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\nmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n\nif(MOUSEDOWN&amp;&amp;editMode==2)\n{\n    var vector = new THREE.Vector3( mouse.x, mouse.y, 0.5 );\n    projector.unprojectVector( vector, camera );\n\n    var raycaster = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() );\n    //lastPoint = vertexIntersects[0].object;\n    var instance = vertexTargets.indexOf(lastPoint);\n    if(vertexEdit==1){\n        var intersects = raycaster.intersectObject(XYplane);\n\n        vertexTargets[instance].position.x=intersects[0].point.x;\n        targetList[0].geometry.vertices[instance].x=intersects[0].point.x;\n        //console.log(\"x = \"+intersects[0].point.x);\n    }\n    else if(vertexEdit==2){\n        var intersects = raycaster.intersectObject(XYplane);\n        vertexTargets[instance].position.y=intersects[0].point.y;\n        targetList[0].geometry.vertices[instance].y=intersects[0].point.y;\n        //console.log(\"y = \"+intersects[0].point.y);\n    }\n    else if(vertexEdit==3){\n        var intersects = raycaster.intersectObject(YZplane);\n        vertexTargets[instance].position.z=intersects[0].point.z;\n        targetList[0].geometry.vertices[instance].z=intersects[0].point.z;\n        //console.log(\"z = \"+intersects[0].point.z);\n    }\n    setAxisPosition(vertexTargets[instance].position.clone());\n    var geom = targetList[0].geometry;\n    geom.computeCentroids();\n    geom.computeFaceNormals();\n    geom.computeVertexNormals();\n    geom.verticesNeedUpdate = true;\n    geom.normalsNeedUpdate = true;\n    updatePanels(targetList[0]);\n\n    }\n}\n\n\nfunction onDocumentMouseDown( event ) \n{\n// the following line would stop any other event handler from firing\n// (such as the mouse's TrackballControls)\n// event.preventDefault();\n\n//console.log(\"Click.\");\nMOUSEDOWN = true;\n// update the mouse variable\nmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\nmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n\ncheckSelection();   \nif(editMode==2){\n    controls.enabled = false;\n    controls.rotate = false;\n}\nelse{\n    controls.enabled = true;\n    controls.rotate = true;\n}\n\n}\n\nfunction onDocumentMouseUp( event ) \n{\n//event.preventDefault();\nif (editMode!=2){\n   controls.enabled = true;\n   controls.rotate = true;\n}\nMOUSEDOWN = false;\nif(editMode==2){\n    //editMode=1;\n    //updateVertexTargets(targetList[0].geometry);\n}\n\n}\n\n\n# Solution Code:\nfunction onDocumentMouseMove( event ) \n{\n// the following line would stop any other event handler from firing\n// (such as the mouse's TrackballControls)\n//event.preventDefault();\n\n// update the mouse variable\nmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\nmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n\n\nif(MOUSEDOWN&amp;&amp;editMode==2)\n{\n// Added to stop rotation while moving a vertex with the arrow handles\n    controls.noRotate = true;\n\n    var vector = new THREE.Vector3( mouse.x, mouse.y, 0.5 );\n    projector.unprojectVector( vector, camera );\n\n    var raycaster = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() );\n    //lastPoint = vertexIntersects[0].object;\n    var instance = vertexTargets.indexOf(lastPoint);\n    if(vertexEdit==1){\n        var intersects = raycaster.intersectObject(XYplane);\n\n        vertexTargets[instance].position.x=intersects[0].point.x;\n        targetList[0].geometry.vertices[instance].x=intersects[0].point.x;\n        //console.log(\"x = \"+intersects[0].point.x);\n    }\n    else if(vertexEdit==2){\n        var intersects = raycaster.intersectObject(XYplane);\n        vertexTargets[instance].position.y=intersects[0].point.y;\n        targetList[0].geometry.vertices[instance].y=intersects[0].point.y;\n        //console.log(\"y = \"+intersects[0].point.y);\n    }\n    else if(vertexEdit==3){\n        var intersects = raycaster.intersectObject(YZplane);\n        vertexTargets[instance].position.z=intersects[0].point.z;\n        targetList[0].geometry.vertices[instance].z=intersects[0].point.z;\n        //console.log(\"z = \"+intersects[0].point.z);\n    }\n    setAxisPosition(vertexTargets[instance].position.clone());\n    var geom = targetList[0].geometry;\n    geom.computeCentroids();\n    geom.computeFaceNormals();\n    geom.computeVertexNormals();\n    geom.verticesNeedUpdate = true;\n    geom.normalsNeedUpdate = true;\n    updatePanels(targetList[0]);\n\n}\n}\n\n\nfunction onDocumentMouseDown( event ) \n{\n// the following line would stop any other event handler from firing\n// (such as the mouse's TrackballControls)\n// event.preventDefault();\n\n//console.log(\"Click.\");\nMOUSEDOWN = true;\n// update the mouse variable\nmouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\nmouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\n\ncheckSelection();   \nif(editMode==2){\n    //controls.enabled = false;\n    //controls.rotate = false;\n\n// Added here to disable rotation when the arrow handles are active\n    controls.noRotate = true;\n}\nelse{\n    //controls.enabled = true;\n    //controls.rotate = true;\n\n// Added here to enable rotation all other times\n    controls.noRotate = false;\n}\n\n}\n\nfunction onDocumentMouseUp( event ) \n{\n//event.preventDefault();\nif (editMode!=2){\n    //controls.enabled = true;\n    //controls.rotate = true;\n}\nMOUSEDOWN = false;\n\n// add here to enable rotation whenever the mouse button is lifted\ncontrols.noRotate = false;\n\n}\n\n\nnoRotate\n\nenableRotate",
    "resolution": "UPDATE Q1 2019 noRotate is now deprecated, use enableRotate instead. I figured it out! After looking closer at OrbitControls.JS, there is a \"noRotate\" flag that can be set that returns out of the rotate function, completely eliminating the creation of a start vector like I was talking about above. Here is the working demo: http://moczys.com/webGL/Prototype_V02-05-2.html And here is the code with changes commented: function onDocumentMouseMove( event ) { // the following line would stop any other event handler from firing // (such as the mouse's TrackballControls) //event.preventDefault(); // update the mouse variable mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1; if(MOUSEDOWN&&editMode==2) { // Added to stop rotation while moving a vertex with the arrow handles controls.noRotate = true; var vector = new THREE.Vector3( mouse.x, mouse.y, 0.5 ); projector.unprojectVector( vector, camera ); var raycaster = new THREE.Raycaster( camera.position, vector.sub( camera.position ).normalize() ); //lastPoint = vertexIntersects[0].object; var instance = vertexTargets.indexOf(lastPoint); if(vertexEdit==1){ var intersects = raycaster.intersectObject(XYplane); vertexTargets[instance].position.x=intersects[0].point.x; targetList[0].geometry.vertices[instance].x=intersects[0].point.x; //console.log(\"x = \"+intersects[0].point.x); } else if(vertexEdit==2){ var intersects = raycaster.intersectObject(XYplane); vertexTargets[instance].position.y=intersects[0].point.y; targetList[0].geometry.vertices[instance].y=intersects[0].point.y; //console.log(\"y = \"+intersects[0].point.y); } else if(vertexEdit==3){ var intersects = raycaster.intersectObject(YZplane); vertexTargets[instance].position.z=intersects[0].point.z; targetList[0].geometry.vertices[instance].z=intersects[0].point.z; //console.log(\"z = \"+intersects[0].point.z); } setAxisPosition(vertexTargets[instance].position.clone()); var geom = targetList[0].geometry; geom.computeCentroids(); geom.computeFaceNormals(); geom.computeVertexNormals(); geom.verticesNeedUpdate = true; geom.normalsNeedUpdate = true; updatePanels(targetList[0]); } } function onDocumentMouseDown( event ) { // the following line would stop any other event handler from firing // (such as the mouse's TrackballControls) // event.preventDefault(); //console.log(\"Click.\"); MOUSEDOWN = true; // update the mouse variable mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1; mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1; checkSelection(); if(editMode==2){ //controls.enabled = false; //controls.rotate = false; // Added here to disable rotation when the arrow handles are active controls.noRotate = true; } else{ //controls.enabled = true; //controls.rotate = true; // Added here to enable rotation all other times controls.noRotate = false; } } function onDocumentMouseUp( event ) { //event.preventDefault(); if (editMode!=2){ //controls.enabled = true; //controls.rotate = true; } MOUSEDOWN = false; // add here to enable rotation whenever the mouse button is lifted controls.noRotate = false; } Hope somebody finds this useful!",
    "severity": "high",
    "tags": [
      "javascript",
      "three.js"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "23596249",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 15415,
      "stackoverflow_creation_date": "2014-05-11T18:18:11.793Z"
    },
    "idempotency_key": "stackoverflow-23596249",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "mongodump with replica set with oplog throws error: \"oplog mode is only supported on full dumps\"",
    "body": "I have a replica set with 3 members. Each one is running mongod 2.4.8 on Linux. I am using MMS agent to monitor the health of my replicaset/hosts and all appears ok. I am using mongodump to backup my dbs & can do a successful dump if I don't use the --oplog switch, like this: mongodump -v --db \"mydb\" --out /backups However, as I am backing up live db's I want to use the --oplog switch. So I have modified my command to include the --oplog switch and specify my replica set in the --hosts switch: mongodump -v --oplog --host myrepset/m1:27017,m2:27017,m3:27017 --db \"mydb\" --out /backup However, this command fails with this error: oplog mode is only supported on full dumps This is apparently the same error that would be thrown when trying to use the --oplog switch on a single instance. I have read the mongo tutorials & reference pages, but don't understand what I am doing wrong. http://docs.mongodb.org/manual/reference/program/mongodump/ Any help much appreciated.",
    "code": "mongodump -v --db \"mydb\" --out /backups\n\nmongodump -v --oplog --host myrepset/m1:27017,m2:27017,m3:27017 --db \"mydb\" --out /backup\n\n# Solution Code:\n--db \"mydb\"",
    "resolution": "The --oplog option for mongodump is for full dumps, not for those specifying an individual database. In order to run it you'll need to remove the --db \"mydb\" from the mongodump command.",
    "severity": "medium",
    "tags": [
      "mongodb",
      "mongodump"
    ],
    "metadata": {
      "stackoverflow_question_id": "23682867",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 5389,
      "stackoverflow_creation_date": "2014-05-15T15:39:59.220Z"
    },
    "idempotency_key": "stackoverflow-23682867",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MongoDB - Querying performance for over 10 million records",
    "body": "First of all: I already read a lot of post according to MongoDB query performance, but I didn't find any good solution. Inside the collection, the document structure looks like: { \"_id\" : ObjectId(\"535c4f1984af556ae798d629\"), \"point\" : [ -4.372925494081455, 41.367710205649544 ], \"location\" : [ { \"x\" : -7.87297955453618, \"y\" : 73.3680160842939 }, { \"x\" : -5.87287143362673, \"y\" : 73.3674043270052 } ], \"timestamp\" : NumberLong(\"1781389600000\") } My collection already has an index: db.collection.ensureIndex({timestamp:-1}) Query looks like: db.collection.find({ \"timestamp\" : { \"$gte\" : 1380520800000 , \"$lte\" : 1380546000000}}) Despite of this, the response time is too high, about 20 - 30 seconds (this time depends on the specified query params) Any help is useful! Thanks in advance. EDIT: I changed the find params, replacing these by real data. The above query takes 46 seconds, and this is the information given by explain() function: { \"cursor\" : \"BtreeCursor timestamp_1\", \"isMultiKey\" : false, \"n\" : 124494, \"nscannedObjects\" : 124494, \"nscanned\" : 124494, \"nscannedObjectsAllPlans\" : 124494, \"nscannedAllPlans\" : 124494, \"scanAndOrder\" : false, \"indexOnly\" : false, \"nYields\" : 45, \"nChunkSkips\" : 0, \"millis\" : 46338, \"indexBounds\" : { \"timestamp\" : [ [ 1380520800000, 1380558200000 ] ] }, \"server\" : \"ip-XXXXXXXX:27017\" }",
    "code": "nscanned\n\nn\n\nnext\n\nprevious\n\n.limit(n)\n\n.skip(n)",
    "resolution": "The explain-output couldn't be more ideal. You found 124,494 documents via index (nscanned) and they all were valid results, so they all were returned (n). It still wasn't an index-only query, because the bounds weren't exact values found in specific documents. The reason why this query is a bit slow could be the huge amount of data it returned. All the documents you found must be read from hard-drive (when the collection is cold), scanned, serialized, sent to the client via network and deserialized by the client. Do you really need that much data for your use-case? When the answer is yes, does responsiveness really matter? I do not know what kind of application you actually want to create, but I am wildly guessing that yours is one of three use-cases: You want to show all that data in form of some kind of report. That would mean the output would be a huge list the user has to scroll through. In that case I would recommend to use pagination. Only load as much data as fits on one screen and provide next and previous buttons. MongoDB pagination can be done with the cursor methods .limit(n) and .skip(n). The above, but it is some kind of offline-report the user can download and then examine with all kinds of data-mining tools. In that case the initial load-time would be acceptable, because the user will spend some time with the data they received. You don't want to show all of that raw-data to the user but process it and present it in some kind of aggregated way, like a statistic or a diagram. In that case you could likely do all that work already on the database with the aggregation framework.",
    "severity": "high",
    "tags": [
      "mongodb",
      "performance",
      "indexing",
      "nosql"
    ],
    "metadata": {
      "stackoverflow_question_id": "23778620",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 22606,
      "stackoverflow_creation_date": "2014-05-21T09:02:32.727Z"
    },
    "idempotency_key": "stackoverflow-23778620",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PDO fetch one column from table into 1-dimensional array",
    "body": "I'm fairly new to PDO and getting them to work with MySQL. I seem to be getting on alright with inserting new data and retriving single results however this I am stuck with. I have a table that is made up of ingredients, I'm trying to make all the ingredients into a single array. I've run the query directly into SQL and it shows me all the results, yet with PDO I can not get this with the just a fetch. When I use the fetchAll approach as below it gives me all the results but in a multidimensional array rather than just an array. Is there a seperate fetch method or do I have to create a loop which adds the results into $a[]? $ingredient_q = \"SELECT `ingredient_name` FROM `ingredients` \"; $ingredient_stmt = $pdo->query($ingredient_q); $ingredient_stmt ->setFetchMode(PDO::FETCH_ASSOC); $a = $ingredient_stmt->fetchAll(); Things I've tried: $a = $ingredient_stmt->fetchAll(); // Returns a multidimensional array (not what I want) $a = $ingredient_stmt->fetch(); // Returns one single result (the first entry) $a[] = $ingredient_stmt->fetch(); // Returns one single result but in a multidimensional array. Any help will be greatly appreciated.",
    "code": "$ingredient_q = \"SELECT\n        `ingredient_name`\n         FROM\n            `ingredients`\n        \";\n\n$ingredient_stmt = $pdo-&gt;query($ingredient_q);\n\n$ingredient_stmt -&gt;setFetchMode(PDO::FETCH_ASSOC);\n\n$a = $ingredient_stmt-&gt;fetchAll();\n\n\n$a = $ingredient_stmt-&gt;fetchAll(); // Returns a multidimensional array (not what I want)\n$a = $ingredient_stmt-&gt;fetch(); // Returns one single result (the first entry)\n$a[] = $ingredient_stmt-&gt;fetch(); // Returns one single result but in a multidimensional array.\n\n\nfetch\n\nfetchAll\n\nfetch\n\n$a[]\n\n# Solution Code:\n&lt;?php\n$sql = \"SELECT `ingredient_name` FROM `ingredients`\";\n$ingredients = $pdo-&gt;query($sql)-&gt;fetchAll(PDO::FETCH_COLUMN);\n",
    "resolution": "<?php $sql = \"SELECT `ingredient_name` FROM `ingredients`\"; $ingredients = $pdo->query($sql)->fetchAll(PDO::FETCH_COLUMN);",
    "severity": "high",
    "tags": [
      "php",
      "mysql",
      "arrays",
      "pdo"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "23898565",
      "stackoverflow_score": 30,
      "stackoverflow_view_count": 28210,
      "stackoverflow_creation_date": "2014-05-27T20:43:00.363Z"
    },
    "idempotency_key": "stackoverflow-23898565",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Webview css3 animation not working properly",
    "body": "In my app I use CSS3 animation in webview. All animations work properly but when I change top and scale animation same time page flickers annoyingly. I open the hmtl in Chrome browser , it worked also properlery. CSS Code .container { position: relative; -webkit-perspective: 1000; -webkit-backface-visibility: hidden; -webkit-animation: animationFrames ease-in 5s; -webkit-animation-iteration-count: 1; -webkit-transform-origin: ; -webkit-animation-fill-mode:forwards; /*Chrome 16+, Safari 4+*/ -webkit-transform: translate3d(0, 0, 0); } @-webkit-keyframes animationFrames { 0% { left:0px; top:0px; -webkit-transform: rotate(0deg) scaleX(1) scaleY(1) skewX(0deg) skewY(0deg) ; } 100%{ top:-1052px; left:45px; -webkit-transform: rotate(0deg) scaleX(4.0) scaleY(4.0); } } HTML Code <div id=\"container\"> <img id=\"leftDoor\" src=\"leftDoor.png\" style=\"position:absolute;\"/> <img id=\"rightDoor\" src=\"rightDoor.png\"style=\"position:absolute;\" /> <img id=\"bak\" src=\"background.png\" style=\"position:absolute;\" /> <p id=\"textOf\" onclick=\"openDoors()\">Giriş</p> </div> Javascript function openDoors(){ $(\"#leftDoor\").toggleClass(\"leftDoor\"); $(\"#rightDoor\").toggleClass(\"rightDoor\"); $(\"#background\").toggleClass(\"background\"); $(\"#container\").toggleClass(\"container\"); } Android webview settings webview.setVerticalScrollBarEnabled(false); webview.getSettings().setJavaScriptEnabled(true); webview.getSettings().setBuiltInZoomControls(true); webview.getSettings().setDisplayZoomControls(false); webview.getSettings().setUseWideViewPort(true); webview.getSettings().setLoadWithOverviewMode(true); webview.getSettings().setAllowFileAccess(true); webview.getSettings().setAllowContentAccess(true); webview.addJavascriptInterface(new ReaderJavascriptHandler(this), \"OkutusJS\"); webview.getSettings().setPluginState(WebSettings.PluginState.OFF); webview.getSettings().setAppCacheEnabled(false); webview.setScrollBarStyle(CustomWebview.SCROLLBARS_OUTSIDE_OVERLAY); webview.setScrollbarFadingEnabled(false); // webview.getSettings().setLayoutAlgorithm(LayoutAlgorithm.SINGLE_COLUMN); webview.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE); webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR); webview.setWebChromeClient(new WebChromeClient()); webview.setWebViewClient(new WebViewClient()); webview.setOnTouchListener(new WebviewOnTouch(readPager,pageGestureDetector)); // webview.getSettings().setNeedInitialFocus(false); webview.getSettings().setRenderPriority(RenderPriority.HIGH); webview.setInitialScale(1); webview.setOnLongClickListener(new View.OnLongClickListener() { public boolean onLongClick(View v) { // return true; return false; } }); The video of problem is http://youtu.be/ihq0-4egDHs , Complete html page http://cembora.com/sample.html NOTE: My application is hardware accelerated;",
    "code": "  .container { \n            position: relative;\n        -webkit-perspective: 1000;\n        -webkit-backface-visibility: hidden;\n        -webkit-animation: animationFrames ease-in 5s;\n        -webkit-animation-iteration-count: 1;\n        -webkit-transform-origin: ;\n        -webkit-animation-fill-mode:forwards; /*Chrome 16+, Safari 4+*/  \n        -webkit-transform: translate3d(0, 0, 0); \n }\n@-webkit-keyframes animationFrames {\n  0% {\n    left:0px;\n    top:0px; \n    -webkit-transform:  rotate(0deg) scaleX(1) scaleY(1) skewX(0deg) skewY(0deg) ;\n  }\n\n  100%{\n      top:-1052px; \n    left:45px;\n    -webkit-transform:  rotate(0deg) scaleX(4.0) scaleY(4.0);\n  }\n}\n\n\n&lt;div id=\"container\"&gt;\n    &lt;img id=\"leftDoor\" src=\"leftDoor.png\" style=\"position:absolute;\"/&gt;\n    &lt;img id=\"rightDoor\" src=\"rightDoor.png\"style=\"position:absolute;\" /&gt;\n    &lt;img id=\"bak\" src=\"background.png\"  style=\"position:absolute;\" /&gt;\n    &lt;p id=\"textOf\" onclick=\"openDoors()\"&gt;Giriş&lt;/p&gt;\n&lt;/div&gt;\n\n\nfunction openDoors(){  \n        $(\"#leftDoor\").toggleClass(\"leftDoor\");\n        $(\"#rightDoor\").toggleClass(\"rightDoor\");\n        $(\"#background\").toggleClass(\"background\");\n        $(\"#container\").toggleClass(\"container\");\n    }\n\n\nwebview.setVerticalScrollBarEnabled(false);\n\n        webview.getSettings().setJavaScriptEnabled(true);\n\n        webview.getSettings().setBuiltInZoomControls(true);\n        webview.getSettings().setDisplayZoomControls(false);\n\n        webview.getSettings().setUseWideViewPort(true);\n        webview.getSettings().setLoadWithOverviewMode(true);\n\n        webview.getSettings().setAllowFileAccess(true);\n        webview.getSettings().setAllowContentAccess(true); \n        webview.addJavascriptInterface(new ReaderJavascriptHandler(this), \"OkutusJS\");\n\n        webview.getSettings().setPluginState(WebSettings.PluginState.OFF);\n        webview.getSettings().setAppCacheEnabled(false);\n\n        webview.setScrollBarStyle(CustomWebview.SCROLLBARS_OUTSIDE_OVERLAY);\n        webview.setScrollbarFadingEnabled(false);\n\n        // webview.getSettings().setLayoutAlgorithm(LayoutAlgorithm.SINGLE_COLUMN);\n\n        webview.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);\n        webview.getSettings().setDefaultZoom(WebSettings.ZoomDensity.FAR);\n\n        webview.setWebChromeClient(new WebChromeClient()); \n        webview.setWebViewClient(new WebViewClient());\n\n        webview.setOnTouchListener(new WebviewOnTouch(readPager,pageGestureDetector)); \n\n        // webview.getSettings().setNeedInitialFocus(false);\n        webview.getSettings().setRenderPriority(RenderPriority.HIGH);\n        webview.setInitialScale(1);\n\n        webview.setOnLongClickListener(new View.OnLongClickListener() {\n            public boolean onLongClick(View v) {\n                // return true;\n                return false; \n            }\n        });\n",
    "severity": "medium",
    "tags": [
      "android",
      "html",
      "css",
      "android-webview",
      "css-animations"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "24009425",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2996,
      "stackoverflow_creation_date": "2014-06-03T07:29:48.927Z"
    },
    "idempotency_key": "stackoverflow-24009425",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why does dladdr return a path to the executable on position independent code on arm-linux?",
    "body": "I've been running into a problem with dladdr in some of my code that I've cross-compiled for arm-linux using Emdebian's g++-4.7 cross compiler for armhf. The problem seems to be that if the function pointer you pass to dladdr is a function that is also called within the executable, dli_fname will return the path to the executable instead of the shared library that the symbol comes from. Example compiled via: /usr/bin/arm-linux-gnueabihf-g++-4.7 main.cpp -o main -ldl -fPIC #include <dlfcn.h> #include <iostream> #include <stdio.h> #include <string> std::string findLibName(void* funcPtr) { Dl_info info; if (dladdr(funcPtr,&info) != 0) { return std::string(info.dli_fname); } else { return \"\"; } } int main() { printf(\"printf comes from %s\\n\",findLibName((void*)printf).c_str()); return 0; } Result: printf comes from ./main If I change the body of main() to be int main() { std::cout<<\"printf comes from \"<<findLibName((void*)printf)<<\"\\n\"; return 0; } Result: printf comes from /lib/arm-linux-gnueabihf/libc.so.6 I've noticed that if the function whose function pointer you pass to dladdr is called within the executable, an entry along the lines of Relocation section '.rel.plt' at offset 0x63c contains 14 entries: Offset Info Type Sym.Value Sym. Name 00010be8 00000d16 R_ARM_JUMP_SLOT 00008730 printf is created in the .rel.plt section of the executable and it appears that dladdr is finding this address of printf from the PLT rather than the correct address from libc.so.6 that it would find through the GOT. The dladdr man page suggests that compiling the code to be position independent should fix this but that doesn't seem to be the case with this compiler. For reference, the same code shown above works as expected on x86_64 Linux with g++-4.7.",
    "code": "#include &lt;dlfcn.h&gt;\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string&gt;\n\nstd::string findLibName(void* funcPtr) {\n  Dl_info info;\n  if (dladdr(funcPtr,&amp;info) != 0) {\n    return std::string(info.dli_fname);\n  } else {\n    return \"\"; \n  }   \n}\n\nint main() {    \n  printf(\"printf comes from %s\\n\",findLibName((void*)printf).c_str());\n  return 0;\n}\n\n\nint main() {    \n  std::cout&lt;&lt;\"printf comes from \"&lt;&lt;findLibName((void*)printf)&lt;&lt;\"\\n\";\n  return 0;\n}\n\n\nRelocation section '.rel.plt' at offset 0x63c contains 14 entries:\nOffset     Info    Type            Sym.Value  Sym. Name\n00010be8  00000d16 R_ARM_JUMP_SLOT   00008730   printf\n",
    "severity": "medium",
    "tags": [
      "c++",
      "c",
      "arm",
      "fpic",
      "dladdr"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "24045131",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1720,
      "stackoverflow_creation_date": "2014-06-04T18:40:43.157Z"
    },
    "idempotency_key": "stackoverflow-24045131",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "SSL certificate in Advanced REST Client for Chrome",
    "body": "Recently, 2-SSL verification was added to the server I'm working with. Up until now I've used Advanced REST Client for server's REST API (mostly GET calls). Since the SSL change, I'm getting 0 NO REPONSE ERROR: How can I add SSL certificates to my GET calls? (I do have the .cnf & cacert + cakey files)",
    "code": "0 NO REPONSE ERROR",
    "severity": "high",
    "tags": [
      "rest",
      "ssl"
    ],
    "metadata": {
      "stackoverflow_question_id": "24056028",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 25769,
      "stackoverflow_creation_date": "2014-06-05T09:08:33.383Z"
    },
    "idempotency_key": "stackoverflow-24056028",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "InetAddress.getByName intermittently fails with System error",
    "body": "I have some code that uses InetAddress.getByName . Intermittently I get a UnknownHostException: java.net.UnknownHostException: google.com: System error at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901) at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293) at java.net.InetAddress.getAllByName0(InetAddress.java:1246) at java.net.InetAddress.getAllByName(InetAddress.java:1162) at java.net.InetAddress.getAllByName(InetAddress.java:1098) at java.net.InetAddress.getByName(InetAddress.java:1048) Performing nslookup google.com works, and the failure itself only happens occasionally. What could be causing this?",
    "code": "java.net.UnknownHostException: google.com: System error\n    at java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\n    at java.net.InetAddress$1.lookupAllHostAddr(InetAddress.java:901)\n    at java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1293)\n    at java.net.InetAddress.getAllByName0(InetAddress.java:1246)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1162)\n    at java.net.InetAddress.getAllByName(InetAddress.java:1098)\n    at java.net.InetAddress.getByName(InetAddress.java:1048)\n\n\nInetAddress.getByName\n\nUnknownHostException\n\nnslookup google.com",
    "severity": "medium",
    "tags": [
      "java",
      "nslookup"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "24110639",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1680,
      "stackoverflow_creation_date": "2014-06-08T20:43:19.590Z"
    },
    "idempotency_key": "stackoverflow-24110639",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "codeigniter get_where() function",
    "body": "I am using active record on an old codeigniter installation and I am running into problems executing multiple queries using the get_where function. for instance the following code $this->db->get_Where('activation', array('email'=>'test@yahoo.com')); echo $this->db->last_query(); $this->db->get_Where('users', array('email'=>'test@yahoo.com')); echo $this->db->last_query(); the first query generates SELECT * FROM (`activation`) WHERE `email` = 'test@yahoo.com' the second one throws me for a loop and generates SELECT * FROM (`activation`, `users`) WHERE `email` = 'test@yahoo.com' AND `email` = 'test@yahoo.com' Am i supposed to be clearing something?",
    "code": "$this-&gt;db-&gt;get_Where('activation', array('email'=&gt;'test@yahoo.com'));\necho $this-&gt;db-&gt;last_query();\n$this-&gt;db-&gt;get_Where('users', array('email'=&gt;'test@yahoo.com'));\necho $this-&gt;db-&gt;last_query();\n\n\nSELECT * FROM (`activation`) WHERE `email` = 'test@yahoo.com'\n\n\nSELECT * FROM (`activation`, `users`)\nWHERE `email` = 'test@yahoo.com' AND `email` = 'test@yahoo.com'\n\n\n# Solution Code:\n$this-&gt;db-&gt;get_Where('activation', array('email'=&gt;'test@yahoo.com'))-&gt;row();\n",
    "resolution": "$this->db->get_Where('activation', array('email'=>'test@yahoo.com'))->row();",
    "severity": "high",
    "tags": [
      "php",
      "codeigniter"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "24174889",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 30509,
      "stackoverflow_creation_date": "2014-06-12T00:49:23.780Z"
    },
    "idempotency_key": "stackoverflow-24174889",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How does QSignalMapper work?",
    "body": "After my post here : Associate signal and slot to a qcheckbox create dynamically I need to associate : • The signal clicked() when I click on a qCheckBox to my function cliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox) To do so, I have to use QSignalMapper, after two hours of trying to understand how it works, I can't have a good result, here's the code I make, this is obviously wrong : QSignalMapper *m_sigmapper = new QSignalMapper(this); QObject::connect(pCheckBox, SIGNAL(mapped(QTableWidget*,int, QCheckBox*)), pCheckBox, SIGNAL(clicked())); QObject::connect(this, SIGNAL(clicked()), this, SLOT(cliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox))); m_sigmapper->setMapping(pCheckBox, (monTab,ligne, pCheckBox)); QObject::connect(m_sigmapper, SIGNAL(clicked()),this, SLOT(cliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox))); Can you explain to me, how QSignalMapper works ? I don't really understand what to associate with :(",
    "code": " QSignalMapper *m_sigmapper = new QSignalMapper(this);\n QObject::connect(pCheckBox, SIGNAL(mapped(QTableWidget*,int, QCheckBox*)), pCheckBox, SIGNAL(clicked()));\n QObject::connect(this, SIGNAL(clicked()), this, SLOT(cliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox)));\n\n m_sigmapper-&gt;setMapping(pCheckBox, (monTab,ligne, pCheckBox));\n QObject::connect(m_sigmapper, SIGNAL(clicked()),this, SLOT(cliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox)));\n\n\nclicked()\n\nqCheckBox\n\ncliqueCheckBox(QTableWidget *monTab, int ligne, QCheckBox *pCheckBox)\n\nQSignalMapper\n\nQSignalMapper\n\n# Solution Code:\nQSignalMapper * mapper = new QSignalMapper(this);\nQObject::connect(mapper,SIGNAL(mapped(QWidget *)),this,SLOT(mySlot(QWidget *)));\n\n\nQPushButton * but = new QPushButton(this);\n\nQObject::connect(but, SIGNAL(clicked()),mapper,SLOT(map()));\nmapper-&gt;setMapping(but, but);\n\n\nQSignalMapper\n\nclicked()\n\nmap()\n\nQSignalMapper\n\nclicked()\n\nmapped(QWidget *)\n\nmapped(QWidget *)",
    "resolution": "QSignalMapper class collects a set of parameterless signals, and re-emits them with integer, string or widget parameters corresponding to the object that sent the signal. So you can have one like: QSignalMapper * mapper = new QSignalMapper(this); QObject::connect(mapper,SIGNAL(mapped(QWidget *)),this,SLOT(mySlot(QWidget *))); For each of your buttons you can connect the clicked() signal to the map() slot of QSignalMapper and add a mapping using setMapping so that when clicked() is signaled from a button, the signal mapped(QWidget *) is emitted: QPushButton * but = new QPushButton(this); QObject::connect(but, SIGNAL(clicked()),mapper,SLOT(map())); mapper->setMapping(but, but); This way whenever you click a button, the mapped(QWidget *) signal of the mapper is emitted containing the widget as a parameter.",
    "severity": "high",
    "tags": [
      "c++",
      "qt",
      "qt-signals",
      "slot",
      "qsignalmapper"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "24260394",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 21367,
      "stackoverflow_creation_date": "2014-06-17T09:37:33.493Z"
    },
    "idempotency_key": "stackoverflow-24260394",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to extend Django Group and still use in Django User",
    "body": "I am looking to extend the functionality of Django's group, so I can have extra properties on the Group such as a url for the Group's homepage. Something like this: class Organization(Group): url = models.CharField(max_length=100) However when using this organization and adding it to a user (by using org.user_set.add(user)) I have no way of accessing the url field from the User. When I do user.groups.all() it shows the user is in a Group (not Organization) with the same name I set on my organization org. So how I do I add functionality to Group but keep it accessible from my user info?",
    "code": "class Organization(Group):\n  url = models.CharField(max_length=100)\n\n\norg.user_set.add(user)\n\nuser.groups.all()\n\norg\n\n# Solution Code:\nclass GroupProfile(models.Model):\n    group = models.OneToOneField('auth.Group', unique=True)\n    url = models.CharField(max_length=100)\n\n\nGroup.add_to_class('url', models.CharField(max_length=100))\n\n\nsouth",
    "resolution": "You have two option; 1) New model; class GroupProfile(models.Model): group = models.OneToOneField('auth.Group', unique=True) url = models.CharField(max_length=100) 2) Monkey Patch; Group.add_to_class('url', models.CharField(max_length=100)) In second option you have to use app like south for db migration.",
    "severity": "medium",
    "tags": [
      "python",
      "django",
      "django-models"
    ],
    "metadata": {
      "language": "python",
      "framework": "django",
      "stackoverflow_question_id": "24294832",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4824,
      "stackoverflow_creation_date": "2014-06-18T20:51:48.200Z"
    },
    "idempotency_key": "stackoverflow-24294832",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "S3 set mime type on upload",
    "body": "I've looked at a number of questions on SO, and tried the solution below. Unfortunately it's not working. I'm trying to upload images to S3 using putObject and the AWS PHP SDK, along with a laravel implementation of the class and the intervention image class. So I have: $s3->putObject(array( 'Bucket' => 'xxxx', 'Key' => 'xxxx', 'Body' => $img->encode(null, $output['quality']), 'ACL' => 'public-read', array('params' => array('ContentType' => $img->mime())) )); The problem I'm having is that content type is always set to: binary/octet-stream How can I set to to the mime type of my uploaded image?",
    "code": "$s3-&gt;putObject(array(\n                'Bucket' =&gt; 'xxxx', \n                'Key' =&gt; 'xxxx',\n                'Body' =&gt; $img-&gt;encode(null, $output['quality']),\n                'ACL' =&gt; 'public-read',\n                array('params' =&gt; array('ContentType' =&gt; $img-&gt;mime()))\n            ));\n\n\nbinary/octet-stream\n\n\n# Solution Code:\n$img-&gt;mime()\n\n$img-&gt;getMimeType()",
    "resolution": "Replace $img->mime() with $img->getMimeType()",
    "severity": "medium",
    "tags": [
      "php",
      "amazon-web-services",
      "amazon-s3",
      "laravel-4"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "24326027",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2798,
      "stackoverflow_creation_date": "2014-06-20T11:15:19.707Z"
    },
    "idempotency_key": "stackoverflow-24326027",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unexpected method call while using PowerMock- EasyMock",
    "body": "My problem seems to be with some misconception with mocking. The code for test. public class CallHandler { private SqlSessionFactory sessionFactory; public CallHandler() { String resource = \"mybatis/mybatis-config.xml\"; Reader reader; try { reader = Resources.getResourceAsReader(resource); sessionFactory = new SqlSessionFactoryBuilder().build(reader); } catch (IOException e) { e.printStackTrace(); } } public String handleRequest(Call call) { // Some Implementation } } The test class // I have excluded few unnecessary classes from @PrepareForTest for the post. @RunWith(PowerMockRunner.class) @PrepareForTest({SqlSessionFactoryBuilder.class, Resources.class, SqlSessionFactory.class, SqlSession.class}) public class TestCase0 extends TestCase{ private SqlSessionFactory mockedSessionFactory = PowerMock.createMock(SqlSessionFactory.class); private SqlSession mockedSession = PowerMock.createMock(SqlSession.class); private CallMapper mockedMapper = PowerMock.createMock(CallMapper.class); private SqlSessionFactoryBuilder mockedSqlSessionFactoryBuilder= PowerMock.createMock(SqlSessionFactoryBuilder.class); // Others @Before public void setUp() { } @Test public void test0 () throws Exception { mockStatic(CallMapper.class); mockStatic(SqlSessionFactoryBuilder.class); mockStatic(Resources.class); expect(Resources.getResourceAsReader(\"mybatis/mybatis-config.xml\")).andReturn(mockedReader); expectNew(SqlSessionFactoryBuilder.class).andReturn(mockedSqlSessionFactoryBuilder); expect(mockedSqlSessionFactoryBuilder.build(mockedReader)).andReturn(mockedSessionFactory); expect(mockedSessionFactory.openSession()).andReturn(mockedSession); // Few more expectations replayAll(); assertThat(RESULT0).isEqualTo((new CallHandler()).handleRequest(call)); verifyAll(); } } This mocking of call of build on the new SqlSessionFactoryBuilder does not seem to be taking effect because of which the original build() is being called and hence the error. The stack trace java.lang.AssertionError: Unexpected method call Reader.close(); at org.easymock.internal.MockInvocationHandler.invoke(MockInvocationHandler.java:44) at org.powermock.api.easymock.internal.invocationcontrol.EasyMockMethodInvocationControl.invoke(EasyMockMethodInvocationControl.java:91) at org.powermock.core.MockGateway.doMethodCall(MockGateway.java:105) at org.powermock.core.MockGateway.methodCall(MockGateway.java:168) at org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:58) at org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:38) at com.kwench.integration.ivr.CallHandler.<init>(CallHandler.java:48) at in.kwench.integration.ivr.TestCase0.test0(TestCase0.java:131) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:606) at org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310) at org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:88) at org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282) at org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:86) at org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120) at org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:33) at org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:45) at org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118) at org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:104) at org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53) at org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53) at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)",
    "code": "public class CallHandler {\n    private SqlSessionFactory sessionFactory;\n    public CallHandler() {\n        String resource = \"mybatis/mybatis-config.xml\";\n        Reader reader;\n        try {\n            reader = Resources.getResourceAsReader(resource);\n            sessionFactory = new SqlSessionFactoryBuilder().build(reader);\n        }\n        catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public String handleRequest(Call call) {\n        // Some Implementation\n    }\n}\n\n\n// I have excluded few unnecessary classes from @PrepareForTest for the post.\n\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({SqlSessionFactoryBuilder.class, Resources.class, SqlSessionFactory.class, SqlSession.class})\npublic class TestCase0 extends TestCase{\n    private SqlSessionFactory mockedSessionFactory = PowerMock.createMock(SqlSessionFactory.class);\n    private SqlSession mockedSession = PowerMock.createMock(SqlSession.class);\n    private CallMapper mockedMapper = PowerMock.createMock(CallMapper.class);\n    private SqlSessionFactoryBuilder mockedSqlSessionFactoryBuilder= PowerMock.createMock(SqlSessionFactoryBuilder.class);\n    // Others\n\n    @Before\n    public void setUp() {\n    }\n\n    @Test\n    public void test0 () throws Exception {\n        mockStatic(CallMapper.class);\n        mockStatic(SqlSessionFactoryBuilder.class);\n        mockStatic(Resources.class);\n        expect(Resources.getResourceAsReader(\"mybatis/mybatis-config.xml\")).andReturn(mockedReader);      expectNew(SqlSessionFactoryBuilder.class).andReturn(mockedSqlSessionFactoryBuilder);  expect(mockedSqlSessionFactoryBuilder.build(mockedReader)).andReturn(mockedSessionFactory);\n        expect(mockedSessionFactory.openSession()).andReturn(mockedSession);\n        // Few more expectations\n        replayAll();\n        assertThat(RESULT0).isEqualTo((new CallHandler()).handleRequest(call));\n        verifyAll();\n    }\n}\n\n\njava.lang.AssertionError: \nUnexpected method call Reader.close();\nat org.easymock.internal.MockInvocationHandler.invoke(MockInvocationHandler.java:44)\nat org.powermock.api.easymock.internal.invocationcontrol.EasyMockMethodInvocationControl.invoke(EasyMockMethodInvocationControl.java:91)\nat org.powermock.core.MockGateway.doMethodCall(MockGateway.java:105)\nat org.powermock.core.MockGateway.methodCall(MockGateway.java:168)\nat org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:58)\nat org.apache.ibatis.session.SqlSessionFactoryBuilder.build(SqlSessionFactoryBuilder.java:38)\nat com.kwench.integration.ivr.CallHandler.&lt;init&gt;(CallHandler.java:48)\nat in.kwench.integration.ivr.TestCase0.test0(TestCase0.java:131)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.junit.internal.runners.TestMethod.invoke(TestMethod.java:68)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:310)\nat org.junit.internal.runners.MethodRoadie$2.run(MethodRoadie.java:88)\nat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:294)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:127)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:282)\nat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:86)\nat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:49)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:207)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:146)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:120)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:33)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:45)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:118)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:104)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:53)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)\n\n\nSqlSessionFactoryBuilder\n\nbuild()\n\n# Solution Code:\n@RunWith(PowerMockRunner.class)\n@PrepareForTest({CallHandler.class, SqlSessionFactoryBuilder.class, Resources.class})\npublic class CallHandlerTest {\n\n    private static final String RESULT0 = \"\";\n\n    @Test\n    public void test0 () throws Exception {\n        final Reader mockedReader = EasyMock.createMock(Reader.class);\n        final SqlSessionFactoryBuilder mockedSqlSessionFactoryBuilder = EasyMock.createMock(SqlSessionFactoryBuilder.class);\n        final SqlSessionFactory mockedSessionFactory = EasyMock.createMock(SqlSessionFactory.class);\n\n        PowerMock.mockStatic(SqlSessionFactoryBuilder.class);\n        PowerMock.mockStatic(Resources.class);\n\n        PowerMock.expectNew(SqlSessionFactoryBuilder.class).andReturn(mockedSqlSessionFactoryBuilder);\n        EasyMock.expect(Resources.getResourceAsReader(\"mybatis/mybatis-config.xml\")).andReturn(mockedReader);\n        EasyMock.expect(mockedSqlSessionFactoryBuilder.build(mockedReader)).andReturn(mockedSessionFactory);\n\n        PowerMock.replayAll();\n        assertThat(RESULT0).isEqualTo((new CallHandler()).handleRequest(new Call()));\n        PowerMock.verifyAll();\n    }\n}\n\n\nSqlSessionFactoryBuilder",
    "resolution": "Without the full example of the code you're testing and the test class itself, it's difficult to say where you issues could be arising. Having said that, I'm guessing your issue is that you haven't prepared the classes with the static methods. These need to be provided in the @PrepareForTest annotation at the start of your test class. The documentation for PowerMock provides the following tips for mocking static methods. I'm guessing you've missed out point 2. Here is the source for this documentation Mocking static methods Quick summary Use the @RunWith(PowerMockRunner.class) annotation at the class-level of the test case. Use the @PrepareForTest(ClassThatContainsStaticMethod.class) annotation at the class-level of the test case. Use PowerMock.mockStatic(ClassThatContainsStaticMethod.class) to mock all methods of this class. Use PowerMock.replay(ClassThatContainsStaticMethod.class) to change the class to replay mode. Use PowerMock.verify(ClassThatContainsStaticMethod.class) to change the class to verify mode. You are also mocking the constructor call for SqlSessionFactoryBuilder so you'll need to consider the tips for that too. Here is the documentation for this Mock construction of new objects Quick summary Use the @RunWith(PowerMockRunner.class) annotation at the class-level of the test case. Use the @PrepareForTest(ClassThatCreatesTheNewInstance.class) annotation at the class-level of the test case. Use PowerMock.createMock(NewInstanceClass.class) to create a mock object of the class that should be constructed (let's call it mockObject). Use PowerMock.expectNew(NewInstanceClass.class).andReturn(mockObject) to expect a new construction of an object of type NewInstanceClass.class but instead return the mock object. Use PowerMock.replay(mockObject, NewInstanceClass.class) to change the mock object and class to replay mode, alternatively use the PowerMock.replayAll() method. Use PowerMock.verify(mockObject, NewInstanceClass.class) to change the mock object and class to verify mode, alternatively use the PowerMock.verifyAll() method. With those tips in mind, I produced the following test method for the method you provided that you are trying to test. This test passes fine. @RunWith(PowerMockRunner.class) @PrepareForTest({CallHandler.class, SqlSessionFactoryBuilder.class, Resources.class}) public class CallHandlerTest { private static final String RESULT0 = \"\"; @Test public void test0 () throws Exception { final Reader mockedReader = EasyMock.createMock(Reader.class); final SqlSessionFactoryBuilder mockedSqlSessionFactoryBuilder = EasyMock.createMock(SqlSessionFactoryBuilder.class); final SqlSessionFactory mockedSessionFactory = EasyMock.createMock(SqlSessionFactory.class); PowerMock.mockStatic(SqlSessionFactoryBuilder.class); PowerMock.mockStatic(Resources.class); PowerMock.expectNew(SqlSessionFactoryBuilder.class).andReturn(mockedSqlSessionFactoryBuilder); EasyMock.expect(Resources.getResourceAsReader(\"mybatis/mybatis-config.xml\")).andReturn(mockedReader); EasyMock.expect(mockedSqlSessionFactoryBuilder.build(mockedReader)).andReturn(mockedSessionFactory); PowerMock.replayAll(); assertThat(RESULT0).isEqualTo((new CallHandler()).handleRequest(new Call())); PowerMock.verifyAll(); } }",
    "severity": "medium",
    "tags": [
      "java",
      "mocking",
      "easymock",
      "powermock"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "24361495",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8644,
      "stackoverflow_creation_date": "2014-06-23T08:29:39.017Z"
    },
    "idempotency_key": "stackoverflow-24361495",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Could this templated syntax be improved?",
    "body": "I have this template method: template <class SomeLhs, class SomeRhs, ResultType (SomeLhs::*callback)(SomeRhs&)> void Add() { struct Local { static ResultType Trampoline(BaseLhs& lhs, BaseRhs& rhs) { return (static_cast<SomeLhs&>(lhs).*callback)(static_cast<SomeRhs&>(rhs)); } }; _back_end.template Add<SomeLhs,SomeRhs>(&Local::Trampoline); } Currently I'm calling it like this: tracker.Add<Quad, Multi, &Quad::track>(); tracker.Add<Quad, Singl, &Quad::track>(); tracker.Add<Sext, Multi, &Sext::track>(); ... It is working fine, but I don't like to have to repeat two times the name of class SomeLhs. Is there a way to avoid that? For people who may have recognized it: yes, this is related to the BasicFastDispatcher of Alexandrescu, in particular I'm writing a front end to operate with member functions.",
    "code": "template &lt;class SomeLhs, class SomeRhs, \n          ResultType (SomeLhs::*callback)(SomeRhs&amp;)&gt;\nvoid Add() {\n  struct Local {\n    static ResultType Trampoline(BaseLhs&amp; lhs, BaseRhs&amp; rhs) {\n      return (static_cast&lt;SomeLhs&amp;&gt;(lhs).*callback)(static_cast&lt;SomeRhs&amp;&gt;(rhs));\n    }\n  };\n  _back_end.template Add&lt;SomeLhs,SomeRhs&gt;(&amp;Local::Trampoline);\n}\n\n\ntracker.Add&lt;Quad, Multi, &amp;Quad::track&gt;();\ntracker.Add&lt;Quad, Singl, &amp;Quad::track&gt;();\ntracker.Add&lt;Sext, Multi, &amp;Sext::track&gt;();\n...\n\n\nSomeLhs\n\n# Solution Code:\ntemplate &lt;class SomeLhs, class SomeRhs&gt;\nvoid Add(ResultType (SomeLhs::*callback)(SomeRhs&amp;)) {\n  ...\n}\n// nice syntax:\ntracker.Add(&amp;Sext::track);\n// But ugly for overloaded functions, a cast is needed.\n// p.s. not sure this is exactly the right syntax without compiling it.\ntracker.Add((ResultType (Quad::*)(Multi&amp;) &amp;Quad::track);\n\n\n#define TMFN_ARGS(C, M, P1) C, P1, &amp;C::M\ntracker.Add&lt;TMFN_ARGS(Quad, track, Multi)&gt;();\n\n\ntemplate &lt;typename C, typename P1&gt;\nvoid AddTrack() {\n   Add&lt;C, P1, &amp;C::track&gt;();\n}\ntracker.AddTrack&lt;Quad, Multi&gt;();\n",
    "resolution": "I don't think it can't be improved particularly, which is unfortunate as I'd love to find a way to do this. Template type deduction is only possible for function template arguments and you need to pass in the non-type member function pointer at compile time in order for it to be treated as a name rather than a varying quantity. Which means having to specify all the args. i.e. you can do this: template <class SomeLhs, class SomeRhs> void Add(ResultType (SomeLhs::*callback)(SomeRhs&)) { ... } // nice syntax: tracker.Add(&Sext::track); // But ugly for overloaded functions, a cast is needed. // p.s. not sure this is exactly the right syntax without compiling it. tracker.Add((ResultType (Quad::*)(Multi&) &Quad::track); But then you have an actual pointer that cannot subsequently be used as a template parameter. The only thing I think you could do is to use a macro, though it is arguable if it really improves syntax here. I'd say it probably adds an unnecessary level of obfuscation. e.g. #define TMFN_ARGS(C, M, P1) C, P1, &C::M tracker.Add<TMFN_ARGS(Quad, track, Multi)>(); EDIT: However, if the name of the function is Always 'track', you could do something along the following lines: template <typename C, typename P1> void AddTrack() { Add<C, P1, &C::track>(); } tracker.AddTrack<Quad, Multi>();",
    "severity": "low",
    "tags": [
      "c++",
      "templates",
      "c++11",
      "methods"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "24450509",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 264,
      "stackoverflow_creation_date": "2014-06-27T11:17:09.233Z"
    },
    "idempotency_key": "stackoverflow-24450509",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python io module's TextIOWrapper or BuffereRWPair functions are not playing nicely with pySerial",
    "body": "I'm writing a serial adapter for some scientific hardware whose command set uses UTF-8 character encodings. All responses from the hardware are terminated with a carriage return (u'\\r'). I would like to able to use pySerial's readline() function with an EOL character specified, so I have this setup, ala this thread: import serial import io ser = serial.Serial(port='COM10', baudrate=128000) sio = io.TextIOWrapper(io.BufferedRWPair(ser, ser, 1), encoding='utf-8', newline=u'\\r') ser.open() # these commands move to coordintes (25000, 0, 25000) cmd = 'M\\x80\\x1a\\x06\\x00\\x00\\x00\\x00\\x00\\x80\\x1a\\x06\\x00' ucmd = u'M\\x80\\x1a\\x06\\x00\\x00\\x00\\x00\\x00\\x80\\x1a\\x06\\x00' #this works ser.write(cmd) print sio.readline() #this does not sio.write(ucmd) sio.flush() print sio.readline() Strangely, the first command string (non-unicode using pySerial directly) elicits the correct behavior from the hardware. The second (unicode via Python's io module) causes it to move erratically and then hang. Why would this be? Sending unicode command strings to the hardware does work IF the command string is only a couple of a characters. Once you start sending bytes with hex(ord(byte)) values > 0x7F (outside ASCII range), then you start running intro trouble. I can work around this problem without too much trouble, but would like to know what is going on. Thanks!",
    "code": "import serial\nimport io\n\nser = serial.Serial(port='COM10', baudrate=128000)\nsio = io.TextIOWrapper(io.BufferedRWPair(ser, ser, 1), encoding='utf-8', newline=u'\\r')\n\nser.open()\n\n# these commands move to coordintes (25000, 0, 25000)\ncmd = 'M\\x80\\x1a\\x06\\x00\\x00\\x00\\x00\\x00\\x80\\x1a\\x06\\x00'\nucmd = u'M\\x80\\x1a\\x06\\x00\\x00\\x00\\x00\\x00\\x80\\x1a\\x06\\x00'\n\n#this works\nser.write(cmd)\nprint sio.readline()\n\n#this does not\nsio.write(ucmd)\nsio.flush()\nprint sio.readline()\n\n\nreadline()\n\nhex(ord(byte))\n\n# Solution Code:\nser\n\nserial",
    "resolution": "From io docs: BufferedRWPair does not attempt to synchronize accesses to its underlying raw streams. You should not pass it the same object as reader and writer; use BufferedRandom instead. I'm guessing that's your problem, as you are passing same object ser as reader and writer. BufferendRandom doesn't look like it quite fits the bill either. So is your problem with serial that it hangs waiting for the EOL?",
    "severity": "medium",
    "tags": [
      "python",
      "io",
      "pyserial",
      "python-unicode"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "24498048",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3056,
      "stackoverflow_creation_date": "2014-06-30T19:59:39.657Z"
    },
    "idempotency_key": "stackoverflow-24498048",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "File access denied?",
    "body": "So I have this JFileChooser: JOptionPane.showMessageDialog(null, \"Navigate into the folder you would like to use for this application's files.\"); final JFileChooser fcs = new JFileChooser(); int responses = fcs.showOpenDialog(fcs); if (responses == JFileChooser.APPROVE_OPTION){ dir = fcs.getCurrentDirectory().toString(); }else{ System.exit(1); } and when I try to write to dir it says java.io.FileNotFoundException: *Insert path here* (Access is denied) And it does that no matter what directory I use, even if it's something like documents or desktop. All I'm trying to do is make a file called maze.txt, and even if I don't use a file chooser and give it a directory in the code it gives me the same error. What's happening? It worked and stopped working all of the sudden after I used mkdir(); In another program...",
    "code": "JOptionPane.showMessageDialog(null, \"Navigate into the folder you would like to use for this application's files.\");\nfinal JFileChooser fcs = new JFileChooser();\nint responses = fcs.showOpenDialog(fcs);\nif (responses == JFileChooser.APPROVE_OPTION){\n    dir = fcs.getCurrentDirectory().toString();\n}else{\n    System.exit(1);\n}\n\n\njava.io.FileNotFoundException: *Insert path here* (Access is denied)\n",
    "severity": "low",
    "tags": [
      "java"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "24519208",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 218,
      "stackoverflow_creation_date": "2014-07-01T21:00:56.080Z"
    },
    "idempotency_key": "stackoverflow-24519208",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android ACTION_MEDIA_SCANNER_SCAN_FILE not showing image until reboot?",
    "body": "I am currently developing an Android Application where users take pictures which are stored in External Memory on the device then I am trying to also get the Gallery to scan the file to add the new media to the Gallery however this does not seem to update until the device reboots. The code I am using is as follows: Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE); File f = new File(mCurrentPhotoPath); Log.v(\"INFO\", mCurrentPhotoPath.toString()); Uri contentUri = Uri.fromFile(f); mediaScanIntent.setData(contentUri); this.sendBroadcast(mediaScanIntent); After taking a picture with my app I can verify it exists using a file manager app on the device and also Logging the file path it appears to be correct before passing it to Media Scanner file:/storage/emulated/0/Pictures/JPEG_20140712_163043_1418054327.jpg Thanks Aaron",
    "code": "    Intent mediaScanIntent = new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE);\n    File f = new File(mCurrentPhotoPath);\n    Log.v(\"INFO\", mCurrentPhotoPath.toString());\n    Uri contentUri = Uri.fromFile(f);\n    mediaScanIntent.setData(contentUri);\n    this.sendBroadcast(mediaScanIntent);\n\n\nfile:/storage/emulated/0/Pictures/JPEG_20140712_163043_1418054327.jpg\n\n\n# Solution Code:\nphotoFile = createImageFile();\nmCurrentPhotoPath = photoFile.getAbsolutePath();\n",
    "resolution": "I managed to solve this. The issue was due to, where I setup the mCurrentPhotoPath. So I updated the code to use photoFile = createImageFile(); mCurrentPhotoPath = photoFile.getAbsolutePath();",
    "severity": "high",
    "tags": [
      "android",
      "android-intent",
      "android-mediascanner"
    ],
    "metadata": {
      "stackoverflow_question_id": "24714475",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 14371,
      "stackoverflow_creation_date": "2014-07-12T15:34:18.657Z"
    },
    "idempotency_key": "stackoverflow-24714475",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "jQuery Promise for Ajax call",
    "body": "I think/hope I am missing something regarding the promise programming paradigm. I run the following code on jQuery because I want to get the data from URL_1 and then (on success) to get the data2 from URL_2. The other variables come the the context surrounding this piece of code. However, what I get is the data of the URL_1 twice!! .ajax({ url: URL_1, type: \"GET\", async: false, cache: false }).then(function (data) { myObj = process(otherObj, data, URL_1); return $.ajax({ url: URL_2, type: \"GET\", async: false, cache: false }); }).done(function (data2) { myObj2 = process_more(data2, URL_2, someObj); myCounter--; if (myCounter== 0) { console.log(\"%%%% COMPLETE %%%%\"); } }); Thank you in advance for your time!! Pan",
    "code": ".ajax({\n    url: URL_1,\n    type: \"GET\",\n    async: false,\n    cache: false\n}).then(function (data) {\n    myObj = process(otherObj, data, URL_1);\n    return $.ajax({\n        url: URL_2,\n        type: \"GET\",\n        async: false,\n        cache: false\n    });\n}).done(function (data2) {\n    myObj2 = process_more(data2, URL_2, someObj);\n    myCounter--;\n    if (myCounter== 0) {\n        console.log(\"%%%% COMPLETE %%%%\");\n    }\n});\n\n\n# Solution Code:\nasync:false",
    "resolution": "As it turns out, the code works just fine as long as the jQuery version is greater than 1.8 (which I knew but hadn't noticed that I was using the last version). I replaced jQuery with the latest version and everything is working as expected. However @Bergi is right about async:false being useless or even cause problems. In earlier versions of jQuery the promise/deferred model is \"broken\" and is not working as expected/should w.r.t. the original promise model ( https://www.promisejs.org/ ). See also: http://api.jquery.com/deferred.then/",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "ajax",
      "promise",
      "jquery-1.7"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "24887211",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3321,
      "stackoverflow_creation_date": "2014-07-22T12:17:45.713Z"
    },
    "idempotency_key": "stackoverflow-24887211",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Filtering a wav file using python",
    "body": "So i recently successfully built a system which will record, plot, and playback an audio wav file entirely with python. Now, I'm trying to put some filtering and audio mixing in between the when i record and when i start plotting and outputting the file to the speakers. However, i have no idea where to start. Right now I'm to read in a the intial wav file, apply a low pass filter, and then re-pack the newly filtered data into a new wav file. Here is the code i used to plot the initial data once i recorded it. import matplotlib.pyplot as plt import numpy as np import wave import sys spf = wave.open('wavfile.wav','r') #Extract Raw Audio from Wav File signal = spf.readframes(-1) signal = np.fromstring(signal, 'Int16') plt.figure(1) plt.title('Signal Wave...') plt.plot(signal) And here is some code i used to generate a test audio file of a single tone: import numpy as np import wave import struct freq = 440.0 data_size = 40000 fname = \"High_A.wav\" frate = 11025.0 amp = 64000.0 sine_list_x = [] for x in range(data_size): sine_list_x.append(np.sin(2*np.pi*freq*(x/frate))) wav_file = wave.open(fname, \"w\") nchannels = 1 sampwidth = 2 framerate = int(frate) nframes = data_size comptype = \"NONE\" compname = \"not compressed\" wav_file.setparams((nchannels, sampwidth, framerate, nframes, comptype, compname)) for s in sine_list_x: wav_file.writeframes(struct.pack('h', int(s*amp/2))) wav_file.close() I'm not really sure how to apply said audio filter and repack it, though. Any help and/or advice you could offer would be greatly appreciated.",
    "code": "import matplotlib.pyplot as plt\nimport numpy as np\nimport wave\nimport sys\n\nspf = wave.open('wavfile.wav','r')\n\n#Extract Raw Audio from Wav File\nsignal = spf.readframes(-1)\nsignal = np.fromstring(signal, 'Int16')\n\nplt.figure(1)\nplt.title('Signal Wave...')\nplt.plot(signal)\n\n\nimport numpy as np\nimport wave\nimport struct\n\nfreq = 440.0\ndata_size = 40000\nfname = \"High_A.wav\"\nfrate = 11025.0  \namp = 64000.0    \n\nsine_list_x = []\nfor x in range(data_size):\n    sine_list_x.append(np.sin(2*np.pi*freq*(x/frate)))\n\nwav_file = wave.open(fname, \"w\")\n\nnchannels = 1\nsampwidth = 2\nframerate = int(frate)\nnframes = data_size\ncomptype = \"NONE\"\ncompname = \"not compressed\"\n\nwav_file.setparams((nchannels, sampwidth, framerate, nframes,\ncomptype, compname))\n\nfor s in sine_list_x:\n    wav_file.writeframes(struct.pack('h', int(s*amp/2)))\n\nwav_file.close()\n\n\n# Solution Code:\ndef running_mean(x, windowSize):\n   cumsum = numpy.cumsum(numpy.insert(x, 0, 0)) \n   return (cumsum[windowSize:] - cumsum[:-windowSize]) / windowSize \n\nfiltered = running_mean(signal, N)\n\n\nwin = numpy.ones(N)\nwin *= 1.0/N\nfiltered = scipy.signal.lfilter(win, [1], signal).astype(channels.dtype)\n\n\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport wave\nimport sys\nimport math\nimport contextlib\n\nfname = 'test.wav'\noutname = 'filtered.wav'\n\ncutOffFrequency = 400.0\n\n# from http://stackoverflow.com/questions/13728392/moving-average-or-running-mean\ndef running_mean(x, windowSize):\n  cumsum = np.cumsum(np.insert(x, 0, 0)) \n  return (cumsum[windowSize:] - cumsum[:-windowSize]) / windowSize\n\n# from http://stackoverflow.com/questions/2226853/interpreting-wav-data/2227174#2227174\ndef interpret_wav(raw_bytes, n_frames, n_channels, sample_width, interleaved = True):\n\n    if sample_width == 1:\n        dtype = np.uint8 # unsigned char\n    elif sample_width == 2:\n        dtype = np.int16 # signed 2-byte short\n    else:\n        raise ValueError(\"Only supports 8 and 16 bit audio formats.\")\n\n    channels = np.fromstring(raw_bytes, dtype=dtype)\n\n    if interleaved:\n        # channels are interleaved, i.e. sample N of channel M follows sample N of channel M-1 in raw data\n        channels.shape = (n_frames, n_channels)\n        channels = channels.T\n    else:\n        # channels are not interleaved. All samples from channel M occur before all samples from channel M-1\n        channels.shape = (n_channels, n_frames)\n\n    return channels\n\nwith contextlib.closing(wave.open(fname,'rb')) as spf:\n    sampleRate = spf.getframerate()\n    ampWidth = spf.getsampwidth()\n    nChannels = spf.getnchannels()\n    nFrames = spf.getnframes()\n\n    # Extract Raw Audio from multi-channel Wav File\n    signal = spf.readframes(nFrames*nChannels)\n    spf.close()\n    channels = interpret_wav(signal, nFrames, nChannels, ampWidth, True)\n\n    # get window size\n    # from http://dsp.stackexchange.com/questions/9966/what-is-the-cut-off-frequency-of-a-moving-average-filter\n    freqRatio = (cutOffFrequency/sampleRate)\n    N = int(math.sqrt(0.196196 + freqRatio**2)/freqRatio)\n\n    # Use moviung average (only on first channel)\n    filtered = running_mean(channels[0], N).astype(channels.dtype)\n\n    wav_file = wave.open(outname, \"w\")\n    wav_file.setparams((1, ampWidth, sampleRate, nFrames, spf.getcomptype(), spf.getcompname()))\n    wav_file.writeframes(filtered.tobytes('C'))\n    wav_file.close()\n",
    "resolution": "First step : What kind of audio filter do you need ? Choose the filtered band Low-pass Filter : remove highest frequency from your audio signal High-pass Filter : remove lowest frequencies from your audio signal Band-pass Filter : remove both highest and lowest frequencies from your audio signal For the following steps, i assume you need a Low-pass Filter. Choose your cutoff frequency The Cutoff frequency is the frequency where your signal will be attenuated by -3dB. Your example signal is 440Hz, so let's choose a Cutoff frequency of 400Hz. Then your 440Hz-signal is attenuated (more than -3dB), by the Low-pass 400Hz filter. Choose your filter type According to this other stackoverflow answer Filter design is beyond the scope of Stack Overflow - that's a DSP problem, not a programming problem. Filter design is covered by any DSP textbook - go to your library. I like Proakis and Manolakis' Digital Signal Processing. (Ifeachor and Jervis' Digital Signal Processing isn't bad either.) To go inside a simple example, I suggest to use a moving average filter (for a simple low-pass filter). See Moving average Mathematically, a moving average is a type of convolution and so it can be viewed as an example of a low-pass filter used in signal processing This Moving average Low-pass Filter is a basic filter, and it is quite easy to use and to understand. The parameter of the moving average is the window length. The relationship between moving average window length and Cutoff frequency needs little bit mathematics and is explained here The code will be import math sampleRate = 11025.0 cutOffFrequency = 400.0 freqRatio = cutOffFrequency / sampleRate N = int(math.sqrt(0.196201 + freqRatio**2) / freqRatio) So, in the example, the window length will be 12 Second step : coding the filter Hand-made moving average see specific discussion on how to create a moving average in python Solution from Alleo is def running_mean(x, windowSize): cumsum = numpy.cumsum(numpy.insert(x, 0, 0)) return (cumsum[windowSize:] - cumsum[:-windowSize]) / windowSize filtered = running_mean(signal, N) Using lfilter Alternatively, as suggested by dpwilson, we can also use lfilter win = numpy.ones(N) win *= 1.0/N filtered = scipy.signal.lfilter(win, [1], signal).astype(channels.dtype) Third step : Let's Put It All Together import matplotlib.pyplot as plt import numpy as np import wave import sys import math import contextlib fname = 'test.wav' outname = 'filtered.wav' cutOffFrequency = 400.0 # from http://stackoverflow.com/questions/13728392/moving-average-or-running-mean def running_mean(x, windowSize): cumsum = np.cumsum(np.insert(x, 0, 0)) return (cumsum[windowSize:] - cumsum[:-windowSize]) / windowSize # from http://stackoverflow.com/questions/2226853/interpreting-wav-data/2227174#2227174 def interpret_wav(raw_bytes, n_frames, n_channels, sample_width, interleaved = True): if sample_width == 1: dtype = np.uint8 # unsigned char elif sample_width == 2: dtype = np.int16 # signed 2-byte short else: raise ValueError(\"Only supports 8 and 16 bit audio formats.\") channels = np.fromstring(raw_bytes, dtype=dtype) if interleaved: # channels are interleaved, i.e. sample N of channel M follows sample N of channel M-1 in raw data channels.shape = (n_frames, n_channels) channels = channels.T else: # channels are not interleaved. All samples from channel M occur before all samples from channel M-1 channels.shape = (n_channels, n_frames) return channels with contextlib.closing(wave.open(fname,'rb')) as spf: sampleRate = spf.getframerate() ampWidth = spf.getsampwidth() nChannels = spf.getnchannels() nFrames = spf.getnframes() # Extract Raw Audio from multi-channel Wav File signal = spf.readframes(nFrames*nChannels) spf.close() channels = interpret_wav(signal, nFrames, nChannels, ampWidth, True) # get window size # from http://dsp.stackexchange.com/questions/9966/what-is-the-cut-off-frequency-of-a-moving-average-filter freqRatio = (cutOffFrequency/sampleRate) N = int(math.sqrt(0.196196 + freqRatio**2)/freqRatio) # Use moviung average (only on first channel) filtered = running_mean(channels[0], N).astype(channels.dtype) wav_file = wave.open(outname, \"w\") wav_file.setparams((1, ampWidth, sampleRate, nFrames, spf.getcomptype(), spf.getcompname())) wav_file.writeframes(filtered.tobytes('C')) wav_file.close()",
    "severity": "high",
    "tags": [
      "python",
      "audio",
      "filtering",
      "wav"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "24920346",
      "stackoverflow_score": 20,
      "stackoverflow_view_count": 58132,
      "stackoverflow_creation_date": "2014-07-23T20:29:08.847Z"
    },
    "idempotency_key": "stackoverflow-24920346",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Vim keeps changing expandtab",
    "body": "Sometimes Vim keeps changing my expandtab settings. I want spaces always for specific file types but sometimes, when I insert a new line, it gives me a tab instead. verb set expandtab? Tells me nonexpandtab was set in this file: set autoindent set expandtab set shiftwidth=4 set numberwidth=4 set softtabstop=4 set smartindent autocmd FileType ruby,php,vim,jade,erb,css,scss,html,coffee,javascript setlocal expandtab sw=2 sts=2 au FileType xml exe \":silent 1,$!XMLLINT_INDENT=' ' xmllint --format --recover - 2>/dev/null\" set backspace=indent,eol,start \" Command to set how many spaces command! -nargs=1 SetSpace call s:SetSpace(<f-args>) function! s:SetSpace(space) setlocal expandtab sta let &sw = a:space let &sts = a:space endfunction Where exactly did it set noexpandtab ? Update I notice that this problem happens when I enter a new line and if the line happens to be indented as 8 spaces then Vim converts to a tab. How to fix this?",
    "code": "verb set expandtab?\n\n\nset autoindent\nset expandtab\nset shiftwidth=4\nset numberwidth=4\nset softtabstop=4\nset smartindent\nautocmd FileType ruby,php,vim,jade,erb,css,scss,html,coffee,javascript setlocal expandtab sw=2 sts=2\nau FileType xml exe \":silent 1,$!XMLLINT_INDENT='    ' xmllint --format --recover - 2&gt;/dev/null\"\nset backspace=indent,eol,start\n\n\" Command to set how many spaces\ncommand! -nargs=1 SetSpace call s:SetSpace(&lt;f-args&gt;)\nfunction! s:SetSpace(space)\n  setlocal expandtab sta\n  let &amp;sw = a:space\n  let &amp;sts = a:space\nendfunction\n\n\nexpandtab\n\nnonexpandtab\n\nset noexpandtab\n\n# Solution Code:\n:verbose set\n\nvim -V20vimlog\n\nvimlog",
    "resolution": "The :verbose set unfortunately doesn't capture all instances, so it may give no or a wrong answer. Alternatively, you can capture a full log of a Vim session with vim -V20vimlog. After quitting Vim, examine the vimlog log file for suspect commands.",
    "severity": "low",
    "tags": [
      "vim"
    ],
    "metadata": {
      "stackoverflow_question_id": "24922404",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 520,
      "stackoverflow_creation_date": "2014-07-23T22:54:33.650Z"
    },
    "idempotency_key": "stackoverflow-24922404",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I check if my subject raises an exception?",
    "body": "I'm currently creating an object in subject and need to test if this raises an exception. The following code illustrates what I'm trying to achieve: describe MyClass do describe '#initialize' do subject { MyClass.new } it { is_expected.not_to raise_error(Some::Error) } end end I have a feeling I'm going about this the wrong way. What is the preferred way to set the subject to a new object, without creating the object twice? Update My problem was two-fold. Firstly, this syntax does not work: it { is_expected.not_to raise_error } Using expect inside an it block does, however (as pointed out by Jimmy Cuadra): it 'does not raise an error' do expect { subject }.not_to raise_error end I am not well enough acquainted with RSpec to tell you why this is. Secondly, since RSpec 3.0.0.beta1, it is longer possible to use raise_error with a specific error class. The following, therefore, is invalid: expect { subject }.to raise_error(Some::Error) For more information, see Rspec 3.0.0.beta1 changelog Consider deprecating `expect { }.not_to raise_error(SpecificErrorClass)` #231 Remove expect {}.not_to raise_error(SomeSpecificClass) #294",
    "code": "describe MyClass do\n  describe '#initialize' do\n    subject { MyClass.new }\n\n    it { is_expected.not_to raise_error(Some::Error) }\n  end\nend\n\n\nit { is_expected.not_to raise_error }\n\n\nit 'does not raise an error' do\n  expect { subject }.not_to raise_error\nend\n\n\nexpect { subject }.to raise_error(Some::Error)\n\n\nsubject\n\nsubject\n\nexpect\n\nit\n\nraise_error\n\n# Solution Code:\ndescribe MyClass do\n  it \"doesn't raise an exception when instantiated\" do\n    expect { subject }.not_to raise_error\n  end\nend \n",
    "resolution": "If I'm understanding correctly, you're trying to test if instantiating a class causes an exception. You would just do this: describe MyClass do it \"doesn't raise an exception when instantiated\" do expect { subject }.not_to raise_error end end",
    "severity": "medium",
    "tags": [
      "ruby",
      "rspec",
      "rspec3"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "24983923",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 6782,
      "stackoverflow_creation_date": "2014-07-27T18:02:49.783Z"
    },
    "idempotency_key": "stackoverflow-24983923",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Vaadin Maven Plugin tries to compile subversion directory as a theme",
    "body": "I have an example project created using - mvn archetype:generate -DarchetypeGroupId=com.vaadin \\ -DarchetypeArtifactId=vaadin-archetype-application \\ -DarchetypeVersion=7.2.5 -Dpackaging=war \\ -DgroupId=com.Example -DartifactId=ProjectA During the maven compilation, the compile-theme goal tries to compile the subversion directory. [INFO] --- vaadin-maven-plugin:7.2.5:compile-theme (default) @ UIEngine --- [INFO] Updating theme VAADIN/themes/bootstrap [INFO] Theme \"VAADIN/themes/bootstrap\" compiled [INFO] Updating theme VAADIN/themes/.svn [ERROR] /home/gpn/workspace/ProjectA/src/main/webapp/VAADIN/themes/.svn/styles.scss could not be read! [INFO] Theme \"VAADIN/themes/.svn\" compiled Is there any method to tell maven to ignore .svn directory or to compile only certain themes? Thanks and Best Regards, GPN",
    "code": "mvn archetype:generate -DarchetypeGroupId=com.vaadin \\\n    -DarchetypeArtifactId=vaadin-archetype-application \\\n    -DarchetypeVersion=7.2.5 -Dpackaging=war \\\n    -DgroupId=com.Example -DartifactId=ProjectA\n\n\n[INFO] --- vaadin-maven-plugin:7.2.5:compile-theme (default) @ UIEngine ---\n[INFO] Updating theme VAADIN/themes/bootstrap\n[INFO] Theme \"VAADIN/themes/bootstrap\" compiled\n[INFO] Updating theme VAADIN/themes/.svn\n[ERROR] /home/gpn/workspace/ProjectA/src/main/webapp/VAADIN/themes/.svn/styles.scss could not be read!\n[INFO] Theme \"VAADIN/themes/.svn\" compiled\n\n\n# Solution Code:\n&lt;theme&gt;bootstrap&lt;/theme&gt;",
    "resolution": "Add <theme>bootstrap</theme> to the configuration of the vaadin-maven-plugin in your pom.xml. After that the plugin will only compile the given theme.",
    "severity": "medium",
    "tags": [
      "vaadin",
      "vaadin7"
    ],
    "metadata": {
      "stackoverflow_question_id": "24990751",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1047,
      "stackoverflow_creation_date": "2014-07-28T07:54:32.777Z"
    },
    "idempotency_key": "stackoverflow-24990751",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Mobile version do not work on a WebView",
    "body": "I'm showing a WebView in an Activity but instead of showing the mobile version of the site is showing the desktop version. If I open the same URL with Android browser it shows the mobile version but not in my WebView. I have already checked the usual solutions for similar problems: Setting User-Agent: Android WebView Not Loading Mobile Site Enabling javascript: Force mobile version of website for WebView I guess there is something different in the server I'm accessing. A sample URL is: http://www.marca.com/2014/07/30/futbol/futbol_internacional/1406714623.html My code is here: @Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); Bundle b = getIntent().getExtras(); String url = b.getString(\"url\"); LinearLayout layout = new LinearLayout(this); theWebView = new WebView(this); layout.addView(theWebView); setContentView(layout); String newUA= \"Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1\"; theWebView.getSettings().setJavaScriptEnabled(true); theWebView.getSettings().setUserAgentString(newUA); theWebView.getSettings().setUseWideViewPort(true); theWebView.setWebViewClient(new WebViewClient()); if (url!=null){ theWebView.loadUrl(url); } } I would appreciate any help.",
    "code": "@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Bundle b = getIntent().getExtras();\n    String url = b.getString(\"url\");\n\n    LinearLayout layout = new LinearLayout(this);\n    theWebView = new WebView(this);\n    layout.addView(theWebView);\n    setContentView(layout);\n\n    String newUA= \"Mozilla/5.0 (Linux; U; Android 2.2; en-us; Nexus One Build/FRF91) AppleWebKit/533.1 (KHTML, like Gecko) Version/4.0 Mobile Safari/533.1\";\n    theWebView.getSettings().setJavaScriptEnabled(true);\n    theWebView.getSettings().setUserAgentString(newUA);\n    theWebView.getSettings().setUseWideViewPort(true);\n\n    theWebView.setWebViewClient(new WebViewClient());\n\n    if (url!=null){\n        theWebView.loadUrl(url);\n    }\n}\n",
    "severity": "low",
    "tags": [
      "java",
      "android",
      "mobile",
      "android-webview"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "25039674",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 341,
      "stackoverflow_creation_date": "2014-07-30T14:37:58.603Z"
    },
    "idempotency_key": "stackoverflow-25039674",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Custom Signals Scrapy",
    "body": "How would one go about implementing a custom signal in scrapy? My project implements a scoring system. Depending on the score of an item it is either accepted or rejected. I would like to be able to signal ITEM_ACCEPTED and ITEM_REJECTED to collect stats about the crawl. I was looking at the source, https://github.com/scrapy/scrapy/blob/master/scrapy/signals.py - but it was unclear to me what is going on here. Any clarification on how to send this signal would also be helpful. Any advice is appreciated! Edit: I found this on scrapy docs: http://doc.scrapy.org/en/latest/topics/api.html#module-scrapy.signalmanager One of my spiders: from Scrapers.extensions import signals #my custom signals def parse(self, response): manager = SignalManager(self) manager.send_catch_log(signals.ITEM_ACCEPTED) manager.send_catch_log(signals.ITEM_REJECTED) my extension: from Scrapers.extensions import signals as custom @classmethod def from_crawler(cls, crawler): o = cls(crawler.stats) crawler.signals.connect(o.spider_closed, signal=signals.spider_closed) crawler.signals.connect(o.spider_error, signal=signals.spider_error) crawler.signals.connect(o.item_scraped, signal=signals.item_scraped) crawler.signals.connect(o.item_accepted, signal=custom.ITEM_ACCEPTED) crawler.signals.connect(o.item_rejected, signal=custom.ITEM_REJECTED) return o def item_accepted(self): print \"it worked -- accepted\" def item_rejected(self): print \"it worked -- rejected\" signals ITEM_ACCEPTED = object() ITEM_REJECTED = object()",
    "code": "from Scrapers.extensions import signals #my custom signals\n\ndef parse(self, response):\n    manager = SignalManager(self)\n    manager.send_catch_log(signals.ITEM_ACCEPTED)\n    manager.send_catch_log(signals.ITEM_REJECTED)\n\n\nfrom Scrapers.extensions import signals as custom\n\n@classmethod\ndef from_crawler(cls, crawler):\n    o = cls(crawler.stats)\n    crawler.signals.connect(o.spider_closed, signal=signals.spider_closed)\n    crawler.signals.connect(o.spider_error, signal=signals.spider_error)\n    crawler.signals.connect(o.item_scraped, signal=signals.item_scraped)\n    crawler.signals.connect(o.item_accepted, signal=custom.ITEM_ACCEPTED)\n    crawler.signals.connect(o.item_rejected, signal=custom.ITEM_REJECTED)\n    return o\n\ndef item_accepted(self):\n    print \"it worked -- accepted\"\n\ndef item_rejected(self):\n    print \"it worked -- rejected\"\n\n\nITEM_ACCEPTED = object()\nITEM_REJECTED = object()\n\n\n# Solution Code:\nmanager = SignalManager(self)\n\n\nmanager = self.crawler.signals\n",
    "resolution": "You were instancing a new signal manager instead of using Crawler's one so replacing this line: manager = SignalManager(self) You can use this to get the actual signal manager: manager = self.crawler.signals It worked for me",
    "severity": "medium",
    "tags": [
      "python",
      "python-2.7",
      "signals",
      "scrapy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "25169897",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2714,
      "stackoverflow_creation_date": "2014-08-06T20:47:08.200Z"
    },
    "idempotency_key": "stackoverflow-25169897",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Regex to extract US zip codes but not faux codes",
    "body": "Using the XML package and XPath to scrape addresses from websites, I sometimes can get only a string that has embedded in it the zip code I want. It is straightforward to extract the zip code, but sometimes there are other five-digit strings that show up. Here are some variations on the problem in a df. zips <- data.frame(id = seq(1, 5), address = c(\"Company, 18540 Main Ave., City, ST 12345\", \"Company 18540 Main Ave. City ST 12345-0000\", \"Company 18540 Main Ave. City State 12345\", \"Company, 18540 Main Ave., City, ST 12345 USA\", \"Company, One Main Ave Suite 18540, City, ST 12345\")) The R statement to extract zip codes (both 5 digit and plus 4 digits) is below, but it is tricked by the faux zip codes of the street number and the suite number (and there may be other possibilities in other address strings). regmatches(zips$address, gregexpr(\"\\\\d{5}([-]?\\\\d{4})?\", zips$address, perl = TRUE)) An answer to a previous SO question suggested that a \"regex will return the last consecutive five digit string. It uses a negative look-ahead to ensure the absence of 5-digit strings after the one being returned.\" Extracting a zip code from an address string \\b\\d{5}\\b(?!.*\\b\\d{5}\\b) But that question and answer deals with PHP and offers an if loop with preg_matches()` I am not familiar with those languages and tools, but the idea might be right. My question: what R code will find real zip codes and ignore false lookalikes?",
    "code": "zips &lt;- data.frame(id = seq(1, 5), address = c(\"Company, 18540 Main Ave., City, ST 12345\", \"Company 18540 Main Ave. City ST 12345-0000\", \"Company 18540 Main Ave. City State 12345\", \"Company, 18540 Main Ave., City, ST 12345 USA\", \"Company, One Main Ave Suite 18540, City, ST 12345\")) \n\n\nregmatches(zips$address, gregexpr(\"\\\\d{5}([-]?\\\\d{4})?\", zips$address, perl = TRUE))\n\n\n\\b\\d{5}\\b(?!.*\\b\\d{5}\\b)\n\n\n# Solution Code:\nzips &lt;- data.frame(id = seq(1, 5), address = c(\"Company, 18540 Main Ave., City, ST 12345\", \"Company 18540 Main Ave. City ST 12345-0000\", \"Company 18540 Main Ave. City State 12345\", \"Company, 18540 Main Ave., City, ST 12345 USA\", \"Company, One Main Ave Suite 18540, City, ST 12345\")) \nregmatches(zips$address,\n           gregexpr('[0-9]{5}(-[0-9]{4})?(?!.*[0-9]{5}(-[0-9]{4})?)', zips$address, perl = TRUE))\n\n# [[1]]\n# [1] \"12345\"\n# \n# [[2]]\n# [1] \"12345-0000\"\n# \n# [[3]]\n# [1] \"12345\"\n# \n# [[4]]\n# [1] \"12345\"\n# \n# [[5]]\n# [1] \"12345\"\n\n\npattern(?!.*pattern)\n\npattern\n\n(?! )\n\n.*\n\npattern\n\n[0-9]{5}(-[0-9]{4})?\n\n[0-9]\n\n{5}\n\n?\n\n(-[0-9]{4})\n\ngregexpr\n\nregmatches",
    "resolution": "This is my first regex answer (I am still learning) so hopefully I don't say anything wrong to lead you in the wrong direction. Basically, this regex looks for, as you hinted in your question, the last string that looks like a zip code which is not followed by a string that looks like a zip code the basic syntax is pattern(?!.*pattern) which says to match pattern only if it is not followed (a negative look-ahead assertion, syntax: (?! )) by anything .* and pattern so we can replace pattern with what you are interested in finding: [0-9]{5}(-[0-9]{4})? that is, a digit string [0-9] of exactly 5 characters {5} (which may optionally be followed ? by another group defined as a hyphen and another digit string of length four (-[0-9]{4}) put it all together with gregexpr to search for the matches and regmatches to interpret the results for me, I get: zips <- data.frame(id = seq(1, 5), address = c(\"Company, 18540 Main Ave., City, ST 12345\", \"Company 18540 Main Ave. City ST 12345-0000\", \"Company 18540 Main Ave. City State 12345\", \"Company, 18540 Main Ave., City, ST 12345 USA\", \"Company, One Main Ave Suite 18540, City, ST 12345\")) regmatches(zips$address, gregexpr('[0-9]{5}(-[0-9]{4})?(?!.*[0-9]{5}(-[0-9]{4})?)', zips$address, perl = TRUE)) # [[1]] # [1] \"12345\" # # [[2]] # [1] \"12345-0000\" # # [[3]] # [1] \"12345\" # # [[4]] # [1] \"12345\" # # [[5]] # [1] \"12345\"",
    "severity": "medium",
    "tags": [
      "regex",
      "r",
      "string"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "25180752",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2874,
      "stackoverflow_creation_date": "2014-08-07T10:57:59.313Z"
    },
    "idempotency_key": "stackoverflow-25180752",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Cannot change version or build number in Xcode",
    "body": "I'm trying to change the version and build number in iOS project in Xcode (under Targets->General->Identity), but for some reason no matter what I type, my typing is removed and the value won't change. Is this not the correct place to modify this value? Going to Targets->General->Info allows me to change the value, but doesn't remember the change after I navigate away from the screen.",
    "code": "Targets-&gt;General-&gt;Identity\n\nTargets-&gt;General-&gt;Info",
    "severity": "high",
    "tags": [
      "ios",
      "xcode",
      "xcode5",
      "version"
    ],
    "metadata": {
      "stackoverflow_question_id": "25184582",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 11453,
      "stackoverflow_creation_date": "2014-08-07T14:02:44.647Z"
    },
    "idempotency_key": "stackoverflow-25184582",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I open maximized internet explorer?",
    "body": "I have to open maximized internet explorer using C#. I have tried the following: try { var IE = new SHDocVw.InternetExplorer(); object URL = \"http://localhost/client.html\"; IE.ToolBar = 0; IE.StatusBar = true; IE.MenuBar = true; IE.AddressBar = true; IE.Width = System.Windows.Forms.SystemInformation.VirtualScreen.Width; IE.Height = System.Windows.Forms.SystemInformation.VirtualScreen.Height; IE.Visible = true; IE.Navigate2(ref URL); ieOpened = true; break; } catch (Exception) { } I can open with different sizes, but I couldn't find how to open maximized IE. I have checked the msdn, there is no property to for maximize. Please give me some suggestions. PS: I am developing C# console application, .Net4.5, and VS2012",
    "code": "try\n{\n    var IE = new SHDocVw.InternetExplorer();\n    object URL = \"http://localhost/client.html\";\n\n    IE.ToolBar = 0;\n    IE.StatusBar = true;\n    IE.MenuBar = true;\n    IE.AddressBar = true;\n    IE.Width = System.Windows.Forms.SystemInformation.VirtualScreen.Width;\n    IE.Height = System.Windows.Forms.SystemInformation.VirtualScreen.Height;\n\n    IE.Visible = true;\n\n    IE.Navigate2(ref URL);\n    ieOpened = true;\n\n    break;\n}\ncatch (Exception)\n{\n\n}\n\n\n# Solution Code:\nProcessStartInfo startInfo = new ProcessStartInfo(\"IExplore.exe\");\nstartInfo.WindowStyle = ProcessWindowStyle.Maximized;\nstartInfo.Arguments = \"www.google.com\";\n\nProcess.Start(startInfo);\n",
    "resolution": "I would use the process method. You could start any executable and It has a property which starts your process maximized ProcessStartInfo startInfo = new ProcessStartInfo(\"IExplore.exe\"); startInfo.WindowStyle = ProcessWindowStyle.Maximized; startInfo.Arguments = \"www.google.com\"; Process.Start(startInfo);",
    "severity": "medium",
    "tags": [
      "c#",
      "internet-explorer",
      "shdocvw"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "25283517",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 6002,
      "stackoverflow_creation_date": "2014-08-13T10:13:05.510Z"
    },
    "idempotency_key": "stackoverflow-25283517",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "VideoBrush is not supported in a windows phone project",
    "body": "I am using VS2013 to write a windows phone camera app. In xaml file, an error says was not found. Does anyone know what assembly reference do I need to add? The references I have are .NET for Windows Store Apps Microsoft.Phone Microsoft.Xna.Framework PresentationCore PresentationFramework Windows Phone 8.1 The namespaces I use are: using System; using System.Collections.Generic; using System.IO; using System.Linq; using System.Runtime.InteropServices.WindowsRuntime; using Windows.Foundation; using Windows.Foundation.Collections; using Windows.UI.Xaml; using Windows.UI.Xaml.Controls; using Windows.UI.Xaml.Controls.Primitives; using Windows.UI.Xaml.Data; using Windows.UI.Xaml.Input; using Windows.UI.Xaml.Media; using Windows.UI.Xaml.Navigation; using Microsoft.Devices; using Microsoft.Xna.Framework.Media; Thank you!",
    "code": "using System;\nusing System.Collections.Generic;\nusing System.IO;\nusing System.Linq;\nusing System.Runtime.InteropServices.WindowsRuntime;\nusing Windows.Foundation;\nusing Windows.Foundation.Collections;\nusing Windows.UI.Xaml;\nusing Windows.UI.Xaml.Controls;\nusing Windows.UI.Xaml.Controls.Primitives;\nusing Windows.UI.Xaml.Data;\nusing Windows.UI.Xaml.Input;\nusing Windows.UI.Xaml.Media;\nusing Windows.UI.Xaml.Navigation;\nusing Microsoft.Devices;\nusing Microsoft.Xna.Framework.Media;\n",
    "severity": "low",
    "tags": [
      "c#",
      "wpf",
      "xaml",
      "windows-phone-8"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "25293941",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 639,
      "stackoverflow_creation_date": "2014-08-13T18:50:17.263Z"
    },
    "idempotency_key": "stackoverflow-25293941",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Wordpress taxonomy template not working",
    "body": "I created a custom wordpress taxonomy, which relates to the post type \"portfolio\". I created a taxonomy.php template file. But when I am trying to view posts in this taxonomy, a blank page opens. The log is empty. How do I fix it? The portfolio post type was created with the following code: add_action( 'init', 'create_post_type' ); function create_post_type() { register_post_type( 'portfolio', array( 'labels' => array( 'name' => __( 'Портфолио' ), 'singular_name' => __( 'Работа' ), 'add_new' => 'Добавить работу', 'add_new_item' => 'Добавить новую работу', 'edit_item' => 'Редактировать работу' ), 'public' => true, 'supports' => array('title', 'editor'), 'exclude_from_search' => false, 'taxonomies' => array('portfolio_categories') ) ); } And the portfolio_categories taxonomy was created with the following code: add_action( 'init', 'create_portfolio_taxonomies', 0 ); function create_portfolio_taxonomies(){ $labels = array( 'name' => _x( 'Категории работ', 'taxonomy general name' ), 'singular_name' => _x( 'Категория работы', 'taxonomy singular name' ), 'search_items' => __( 'Поиск по категориям' ), 'all_items' => __( 'Все категории' ), 'parent_item' => __( 'Родительская категория' ), 'parent_item_colon' => __( 'Родительская категория:' ), 'edit_item' => __( 'Редактировать категорию' ), 'update_item' => __( 'Обновить категорию' ), 'add_new_item' => __( 'Добавить новую категорию' ), 'new_item_name' => __( 'Новое имя категории' ), 'menu_name' => __( 'Категории работ' ) ); register_taxonomy('portfolio_categories', array('portfolio'), array( 'hierarchical' => true, 'labels' => $labels, 'show_ui' => true, 'query_var' => 'portfolio_categories', 'rewrite' => array( 'slug' => 'portfolio_categories' ) )); }",
    "code": "add_action( 'init', 'create_post_type' );\n\nfunction create_post_type() {\n    register_post_type( 'portfolio',\n            array(\n                    'labels' =&gt; array(\n                            'name' =&gt; __( 'Портфолио' ),\n                            'singular_name' =&gt; __( 'Работа' ),\n                            'add_new' =&gt; 'Добавить работу',\n                            'add_new_item' =&gt; 'Добавить новую работу',\n                            'edit_item' =&gt; 'Редактировать работу'\n                    ),\n                    'public' =&gt; true,\n                    'supports' =&gt; array('title', 'editor'),\n                    'exclude_from_search' =&gt; false,\n                    'taxonomies' =&gt; array('portfolio_categories')\n            )\n    );\n} \n\n\nadd_action( 'init', 'create_portfolio_taxonomies', 0 );\nfunction create_portfolio_taxonomies(){\n    $labels = array(\n            'name' =&gt; _x( 'Категории работ', 'taxonomy general name' ),\n            'singular_name' =&gt; _x( 'Категория работы', 'taxonomy singular name' ),\n            'search_items' =&gt;  __( 'Поиск по категориям' ),\n            'all_items' =&gt; __( 'Все категории' ),\n            'parent_item' =&gt; __( 'Родительская категория' ),\n            'parent_item_colon' =&gt; __( 'Родительская категория:' ),\n            'edit_item' =&gt; __( 'Редактировать категорию' ),\n            'update_item' =&gt; __( 'Обновить категорию' ),\n            'add_new_item' =&gt; __( 'Добавить новую категорию' ),\n            'new_item_name' =&gt; __( 'Новое имя категории' ),\n            'menu_name' =&gt; __( 'Категории работ' )\n    );\n\nregister_taxonomy('portfolio_categories', array('portfolio'), array(\n        'hierarchical' =&gt; true,\n        'labels' =&gt; $labels,\n        'show_ui' =&gt; true,\n        'query_var' =&gt; 'portfolio_categories',\n        'rewrite' =&gt; array( 'slug' =&gt; 'portfolio_categories' )\n));\n}\n\n\n# Solution Code:\ntaxonomy-{yourtaxonomy}-{yourslug}.php\n\n\ntaxonomy-{yourtaxonomy}.php\n",
    "resolution": "you have to create template in your theme like taxonomy-{yourtaxonomy}-{yourslug}.php OR taxonomy-{yourtaxonomy}.php if not works for you than Go to Settings -> Permalinks And under Common Settings, let’s use Post name. Then click ‘Save Changes",
    "severity": "medium",
    "tags": [
      "php",
      "wordpress"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "25364652",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 9320,
      "stackoverflow_creation_date": "2014-08-18T13:33:47.933Z"
    },
    "idempotency_key": "stackoverflow-25364652",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to compose writeFile with Either data type?",
    "body": "I have a function that accepts some arguments and returns IO (Either String String), say testEither :: Int -> IO (Either String String) testEither 0 = return (Left \"we got an error\") testEither _ = return (Right \"everything is ok\") (Real function fetches some stuff from real world and might fail) I want to send output from that function to writeFile fileName. Expected behavior: if I bind testEither 0 to writeFile \"test.txt\", I fail with Left ..., and if I call it with testEither 1, I get everything is ok in file test.txt. I guess the type of the whole expression should be something like IO (Either String ()), but I may be wrong.",
    "code": "testEither :: Int -&gt; IO (Either String String)\ntestEither 0 = return (Left \"we got an error\")\ntestEither _ = return (Right \"everything is ok\")\n\n\nIO (Either String String)\n\nwriteFile fileName\n\ntestEither 0\n\nwriteFile \"test.txt\"\n\nLeft ...\n\ntestEither 1\n\neverything is ok\n\ntest.txt\n\nIO (Either String ())\n\n# Solution Code:\nimport Control.Monad.Error\n\ntestEither :: Int -&gt; IO (Either String String)\ntestEither 0 = return (Left \"we got an error\")\ntestEither _ = return (Right \"everything is ok\")\n\nmain = runErrorT $ do\n    result &lt;- ErrorT $ testEither 0\n    lift $ writeFile \"test.txt\" result\n\n\nIO\n\nErrorT\n\nExceptT\n\nmtl",
    "resolution": "You can use the ErrorT1 monad transformer to give you pure error handling on top of the IO monad: import Control.Monad.Error testEither :: Int -> IO (Either String String) testEither 0 = return (Left \"we got an error\") testEither _ = return (Right \"everything is ok\") main = runErrorT $ do result <- ErrorT $ testEither 0 lift $ writeFile \"test.txt\" result 1 ErrorT appears to have been replaced with ExceptT in the newest version of mtl, but the functionality should be similar.",
    "severity": "low",
    "tags": [
      "haskell"
    ],
    "metadata": {
      "stackoverflow_question_id": "25488530",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 302,
      "stackoverflow_creation_date": "2014-08-25T14:46:14.067Z"
    },
    "idempotency_key": "stackoverflow-25488530",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I use Spring Boot auto-configured beans in XML configuration files?",
    "body": "I'd like to take advantage of some of the Spring Boot auto-configured beans in XML configuration files, but I keep running into exceptions and errors when I try to do so. For example, if I have data-related libraries on my class path, Spring Boot will auto-configure a DataSource object which I can autowire into my own beans and classes, like so: @Configuration @ImportResource(\"classpath:xmlconfig.xml\") public class Config { // This works!! @Autowired private DataSource dataSource; @Bean public ClassThatRequiresADataSource() { ClassThatRequiresADataSource foo = new ClassThatRequiresADataSource(); foo.setDataSource(dataSource); return foo; } } However, if I try to do the same in an XML configuration file, I will get an exception. I have been bootstrapping the XML config file by added an @ImportResource(\"classpath:xmlconfig.xml\") to my main configuration class. Here's an example of what I'm talking about... Inside xmlconfig.xml: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> <!-- THIS DOES NOT WORK! --> <bean id=\"anotherClassThatRequiresADataSource\" class=\"my.package.AnotherClassThatRequiresADataSource\"> <property name=\"dataSource\" ref=\"dataSource\"/> </bean> </beans> The above will give an exception when running the Spring Boot app, despite dataSource being a valid, auto-configured Bean name. I've also tried this with the auto-configured ConnectionFactory (with ActiveMQ on the class path) and EntityManagerFactory with Hibernate & JPA on the class path, and none of this works. Basically, what I'm asking is: what is the equivalent to autowiring Spring Boot auto-configured beans into an XML configuration file? Here's my main Spring Boot entry point is just the standard class listed in all the docs: @Configuration @ComponentScan @EnableAutoConfiguration public class Application { public static void main(String[] args) throws Exception { SpringApplication.run(Application.class, args); } } I'm mainly using this in a Spring Integration application, where Java Configuration isn't well supported yet and the core of the framework is XML config based, but I'd like to use the Spring Boot auto-configured DataSource and ConnectionFactory beans in some of the integration elements. EDIT: The answer provided by @AdilF works for the dataSource bean, but a similar configuration does not work for the connectionFactory bean. Please see the following GitHub project for demo code that illustrates this: https://github.com/ccampo133/autoconfig-test/tree/master If anybody could figure out how to properly wire the connectionFactory bean, I would greatly appreciate it. Here's most of the code illustrating this: Application.java @Configuration @ComponentScan @EnableAutoConfiguration public class Application { public static void main(String[] args) { SpringApplication.run(Application.class, args); } } Config.java @Configuration @ImportResource(\"classpath:/resources/config.xml\") public class Config { } FooService.java @Service public class FooService { final private Logger logger = LoggerFactory.getLogger(FooService.class); @Autowired private DataSource dataSource; @Autowired private ConnectionFactory connectionFactory; @Autowired private EntityManagerFactory entityManagerFactory; @PostConstruct public void init() { Assert.notNull(dataSource, \"dataSource is null!\"); logger.info(\"dataSource not null\"); Assert.notNull(connectionFactory, \"connectionFactory is null!\"); logger.info(\"connectionFactory not null\"); Assert.notNull(entityManagerFactory, \"entityManagerFactory is null!\"); logger.info(\"entityManagerFactory is not null\"); } } BarService.java public class BarService { final private Logger logger = LoggerFactory.getLogger(BarService.class); private DataSource dataSource; private ConnectionFactory connectionFactory; private EntityManagerFactory entityManagerFactory; public void setDataSource(DataSource dataSource) { this.dataSource = dataSource; } public void setConnectionFactory(ConnectionFactory connectionFactory) { this.connectionFactory = connectionFactory; } public void setEntityManagerFactory(final EntityManagerFactory entityManagerFactory) { this.entityManagerFactory = entityManagerFactory; } @PostConstruct public void init() { Assert.notNull(dataSource, \"dataSource is null!\"); logger.info(\"dataSource not null\"); Assert.notNull(connectionFactory, \"connectionFactory is null!\"); logger.info(\"connectionFactory not null\"); Assert.notNull(entityManagerFactory, \"entityManagerFactory is null!\"); logger.info(\"entityManagerFactory is not null\"); } } config.xml <?xml version=\"1.0\" encoding=\"UTF-8\"?> <beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> <bean id=\"barService\" class=\"app.service.BarService\"> <!-- THIS WORKS! --> <property name=\"dataSource\" ref=\"dataSource\"/> <!-- THIS DOESN'T WORK! --> <property name=\"connectionFactory\" ref=\"connectionFactory\"/> <property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"/> </bean> </beans> build.gradle buildscript { ext { junitVersion = \"4.11\" springBootVersion = \"1.1.5.RELEASE\" springIntegrationVersion = \"4.0.3.RELEASE\" activeMqVersion = \"5.7.0\" } repositories { mavenCentral() } dependencies { classpath \"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\" } } apply plugin: \"java\" apply plugin: \"eclipse\" apply plugin: \"idea\" apply plugin: \"spring-boot\" configurations { providedRuntime } jar { baseName = \"autoconfig-test\" version = \"0.0.1-SNAPSHOT\" } repositories { mavenCentral() maven { url \"http://repo.spring.io/libs-milestone/\" } } dependencies { // Spring Boot starters compile \"org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}\" compile \"org.springframework.boot:spring-boot-starter-integration:${springBootVersion}\" compile \"org.springframework.integration:spring-integration-jms:${springIntegrationVersion}\" // ActiveMQ compile \"org.apache.activemq:activemq-core:${activeMqVersion}\" // Persistence runtime \"com.h2database:h2\" // Test testCompile \"junit:junit:${junitVersion}\" }",
    "code": "@Configuration\n@ImportResource(\"classpath:xmlconfig.xml\")\npublic class Config {\n\n    // This works!!\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public ClassThatRequiresADataSource() {\n        ClassThatRequiresADataSource foo = new ClassThatRequiresADataSource();\n        foo.setDataSource(dataSource);\n        return foo;\n    }\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;!-- THIS DOES NOT WORK! --&gt;\n    &lt;bean id=\"anotherClassThatRequiresADataSource\" class=\"my.package.AnotherClassThatRequiresADataSource\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n\n\n@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Application {\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\n\n@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n\n\n@Configuration\n@ImportResource(\"classpath:/resources/config.xml\")\npublic class Config { }\n\n\n@Service\npublic class FooService {\n\n    final private Logger logger = LoggerFactory.getLogger(FooService.class);\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Autowired\n    private ConnectionFactory connectionFactory;\n\n    @Autowired\n    private EntityManagerFactory entityManagerFactory;\n\n    @PostConstruct\n    public void init() {\n        Assert.notNull(dataSource, \"dataSource is null!\");\n        logger.info(\"dataSource not null\");\n\n        Assert.notNull(connectionFactory, \"connectionFactory is null!\");\n        logger.info(\"connectionFactory not null\");\n\n        Assert.notNull(entityManagerFactory, \"entityManagerFactory is null!\");\n        logger.info(\"entityManagerFactory is not null\");\n    }\n}\n\n\npublic class BarService {\n\n    final private Logger logger = LoggerFactory.getLogger(BarService.class);\n\n    private DataSource dataSource;\n\n    private ConnectionFactory connectionFactory;\n\n    private EntityManagerFactory entityManagerFactory;\n\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    public void setConnectionFactory(ConnectionFactory connectionFactory) {\n        this.connectionFactory = connectionFactory;\n    }\n\n    public void setEntityManagerFactory(final EntityManagerFactory entityManagerFactory) {\n        this.entityManagerFactory = entityManagerFactory;\n    }\n\n    @PostConstruct\n    public void init() {\n        Assert.notNull(dataSource, \"dataSource is null!\");\n        logger.info(\"dataSource not null\");\n\n        Assert.notNull(connectionFactory, \"connectionFactory is null!\");\n        logger.info(\"connectionFactory not null\");\n\n        Assert.notNull(entityManagerFactory, \"entityManagerFactory is null!\");\n        logger.info(\"entityManagerFactory is not null\");\n    }\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"barService\" class=\"app.service.BarService\"&gt;\n        &lt;!-- THIS WORKS! --&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n\n        &lt;!-- THIS DOESN'T WORK! --&gt;\n        &lt;property name=\"connectionFactory\" ref=\"connectionFactory\"/&gt;\n        &lt;property name=\"entityManagerFactory\" ref=\"entityManagerFactory\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n\n\nbuildscript {\n    ext {\n        junitVersion = \"4.11\"\n        springBootVersion = \"1.1.5.RELEASE\"\n        springIntegrationVersion = \"4.0.3.RELEASE\"\n        activeMqVersion = \"5.7.0\"\n    }\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\"\n    }\n}\n\napply plugin: \"java\"\napply plugin: \"eclipse\"\napply plugin: \"idea\"\napply plugin: \"spring-boot\"\n\nconfigurations {\n    providedRuntime\n}\n\njar {\n    baseName = \"autoconfig-test\"\n    version = \"0.0.1-SNAPSHOT\"\n}\n\nrepositories {\n    mavenCentral()\n    maven { url \"http://repo.spring.io/libs-milestone/\" }\n}\n\ndependencies {\n    // Spring Boot starters\n    compile \"org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}\"\n    compile \"org.springframework.boot:spring-boot-starter-integration:${springBootVersion}\"\n    compile \"org.springframework.integration:spring-integration-jms:${springIntegrationVersion}\"\n\n    // ActiveMQ\n    compile \"org.apache.activemq:activemq-core:${activeMqVersion}\"\n\n    // Persistence\n    runtime \"com.h2database:h2\"\n\n    // Test\n    testCompile \"junit:junit:${junitVersion}\"\n}\n\n\nDataSource\n\n@ImportResource(\"classpath:xmlconfig.xml\")\n\nxmlconfig.xml\n\ndataSource\n\nConnectionFactory\n\nEntityManagerFactory\n\nDataSource\n\nConnectionFactory\n\ndataSource\n\nconnectionFactory\n\nconnectionFactory\n\n# Solution Code:\npackage app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.util.Assert;\n\nimport javax.sql.DataSource;\n\npublic class Application {\n\n    public static void main(String[] args) {\n        ConfigurableApplicationContext context = SpringApplication.run(Config.class);\n        DataSource dataSource = context.getBean(\"dataSource\", DataSource.class);\n        Assert.notNull(dataSource);\n    }\n\n}\n\n\npackage app;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.context.annotation.*;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\nimport javax.sql.DataSource;\n\n@Configuration\n@EnableAutoConfiguration\n@EnableJpaRepositories\n@ComponentScan\n@ImportResource(\"classpath:config.xml\")\npublic class Config {\n\n    @Autowired\n    private DataSource dataSource;\n\n}\n\n\npackage app.service;\n\nimport org.springframework.util.Assert;\nimport javax.annotation.PostConstruct;\nimport javax.sql.DataSource;\n\npublic class BarService {\n\n    private DataSource dataSource;\n\n    public void setDataSource(DataSource dataSource) {\n        this.dataSource = dataSource;\n    }\n\n    @PostConstruct\n    public void init() {\n        Assert.notNull(dataSource);\n    }\n}\n\n\npackage app.service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.util.Assert;\n\nimport javax.annotation.PostConstruct;\nimport javax.sql.DataSource;\n\n@Service\npublic class FooService {\n\n    @Autowired\n    DataSource dataSource;\n\n    @PostConstruct\n    public void init() {\n        Assert.notNull(dataSource);\n    }\n\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt;\n\n    &lt;bean id=\"barService\" class=\"app.service.BarService\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n",
    "resolution": "The following sample code worked for me. Main Application package app; import org.springframework.boot.SpringApplication; import org.springframework.context.ConfigurableApplicationContext; import org.springframework.util.Assert; import javax.sql.DataSource; public class Application { public static void main(String[] args) { ConfigurableApplicationContext context = SpringApplication.run(Config.class); DataSource dataSource = context.getBean(\"dataSource\", DataSource.class); Assert.notNull(dataSource); } } Spring Java Config package app; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.boot.autoconfigure.EnableAutoConfiguration; import org.springframework.context.annotation.*; import org.springframework.data.jpa.repository.config.EnableJpaRepositories; import javax.sql.DataSource; @Configuration @EnableAutoConfiguration @EnableJpaRepositories @ComponentScan @ImportResource(\"classpath:config.xml\") public class Config { @Autowired private DataSource dataSource; } BarService package app.service; import org.springframework.util.Assert; import javax.annotation.PostConstruct; import javax.sql.DataSource; public class BarService { private DataSource dataSource; public void setDataSource(DataSource dataSource) { this.dataSource = dataSource; } @PostConstruct public void init() { Assert.notNull(dataSource); } } FooService package app.service; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.stereotype.Service; import org.springframework.util.Assert; import javax.annotation.PostConstruct; import javax.sql.DataSource; @Service public class FooService { @Autowired DataSource dataSource; @PostConstruct public void init() { Assert.notNull(dataSource); } } config.xml <?xml version=\"1.0\" encoding=\"UTF-8\"?> <beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"> <bean id=\"barService\" class=\"app.service.BarService\"> <property name=\"dataSource\" ref=\"dataSource\"/> </bean> </beans>",
    "severity": "high",
    "tags": [
      "spring",
      "spring-integration",
      "spring-boot"
    ],
    "metadata": {
      "framework": "spring",
      "stackoverflow_question_id": "25495629",
      "stackoverflow_score": 19,
      "stackoverflow_view_count": 58374,
      "stackoverflow_creation_date": "2014-08-25T23:03:06.857Z"
    },
    "idempotency_key": "stackoverflow-25495629",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "StdDeserializer for abstract class and it's subtypes",
    "body": "Let there be an abstract class A with a property a and three non-abstract subclasses B, C and D. B has no additional property, C contains the property c and D contains both properties c and d. I would like to subclass StdDeserializer for the abstract class A to be able to decide based on the existence of properties to be deserialized which subclass to choose. I did that with some Jackson release from Codehaus before and it was working fine using the following implementation: class AbstractADeserializer extends StdDeserializer<A> { AbstractADeserializer () { super(A.class); } @Override public A deserialize(JsonParser jp, DeserializationContext ctxt) throws IOException, JsonProcessingException { ObjectMapper mapper = (ObjectMapper) jp.getCodec(); ObjectNode root = (ObjectNode) mapper.readTree(jp); Class<? extends A> requestClass = null; // root.getFieldNames() is an iterator over all field names JsonNode cValue = root.findValue(\"c\"); JsonNode dValue = root.findValue(\"d\"); /* * Check for existence of required fields and choose the * corresponding request class. */ logger.debug(Boolean.toString(c != null)); logger.debug(Boolean.toString(d != null)); if(c != null && d == null) { logger.debug(\"Found C\"); requestClass = C.class; } else if(c != null && d != null) { logger.debug(\"Found D\"); requestClass = D.class; } else { logger.debug(\"Found B\"); requestClass = B.class; } return mapper.readValue(root, requestClass); } } This worked fine but after migration to Jackson 2.4 from FasterXML ObjectMapper does not allow ObjectNode as a parameter for it's readValue method. When I modified the code to use return mapper.readValue(jp, requestClass); I always get com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input at [Source: org.apache.catalina.connector.CoyoteInputStream@1286ec89; line: 1, column: 559] at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148) at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:3095) at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:3009) at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:1637) What alternatives do you see the flexible determine the class of a given input without needing to deserialize the object manually? To me it looks complicated to clone the JsonParser to avoid the exhaustion of it's input source.",
    "code": "class AbstractADeserializer extends StdDeserializer&lt;A&gt; {\n    AbstractADeserializer () {\n        super(A.class);\n    }\n\n    @Override\n    public A deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        ObjectMapper mapper = (ObjectMapper) jp.getCodec();\n        ObjectNode root = (ObjectNode) mapper.readTree(jp);\n        Class&lt;? extends A&gt; requestClass = null;\n\n        // root.getFieldNames() is an iterator over all field names\n        JsonNode cValue = root.findValue(\"c\");\n        JsonNode dValue = root.findValue(\"d\");\n\n        /*\n         * Check for existence of required fields and choose the\n         * corresponding request class.\n         */\n        logger.debug(Boolean.toString(c != null));\n        logger.debug(Boolean.toString(d != null));\n\n        if(c != null &amp;&amp; d == null) {\n            logger.debug(\"Found C\");\n            requestClass = C.class;\n        } else if(c != null &amp;&amp; d != null) {\n            logger.debug(\"Found D\");\n            requestClass = D.class;\n        } else {\n            logger.debug(\"Found B\");\n            requestClass = B.class;\n        }\n\n        return mapper.readValue(root, requestClass);\n    }\n}\n\n\n    com.fasterxml.jackson.databind.JsonMappingException: No content to map due to end-of-input\n     at [Source: org.apache.catalina.connector.CoyoteInputStream@1286ec89; line: 1, column: 559]\n        at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:148)\n        at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:3095)\n        at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:3009)\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:1637)\n\n\nreadValue\n\n# Solution Code:\nmapper.readValue(jp, requestClass)\n\nmapper.treeToValue(root, requestClass)",
    "resolution": "Just ran into similar issues, and for me it was all fixed by replacing mapper.readValue(jp, requestClass) with mapper.treeToValue(root, requestClass)",
    "severity": "medium",
    "tags": [
      "java",
      "json",
      "jackson"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "25503005",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3477,
      "stackoverflow_creation_date": "2014-08-26T09:59:05.310Z"
    },
    "idempotency_key": "stackoverflow-25503005",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to write Java for loops to avoid repeatedly computing the upper bound",
    "body": "I generally write for (int i = 0, n = someMethod(); i < n; i++) in preference to for (int i = 0; i < someMethod(); i++) to avoid someMethod() being computed repeatedly. However I'm never really sure when I need to do this. How clever is Java at recognising methods that will give the same result every time and only need to be executed once at the beginning of a loop?",
    "code": "for (int i = 0, n = someMethod(); i &lt; n; i++)\n\n\nfor (int i = 0; i &lt; someMethod(); i++)\n\n\nsomeMethod()\n\n# Solution Code:\nint[] arr = new int[ 10 ];\nfor( int i = 0; i &lt; arr.length; i++ ) {\n    //...\n}\n\n\nList&lt; String &gt; list = Arrays.asList( new String[] { ... } );\nfor( int i = 0; i &lt; list.size(); i++ ) {\n    //...\n}\n\n\nfinal int",
    "resolution": "The JIT, as far as I can tell, will only detect this if it's a fairly simple inlineable method. That being said it's very easy for a programmer to detect these cases and is a hard problem for a JIT compiler to detect. Preferably you should use final int to cache results from large methods, as the JIT can very easily detect that value can't change and can even remove array access checks to speed up loops. Something like int[] arr = new int[ 10 ]; for( int i = 0; i < arr.length; i++ ) { //... } or List< String > list = Arrays.asList( new String[] { ... } ); for( int i = 0; i < list.size(); i++ ) { //... } can probably be very easily optimized by the JIT. Other loops that call large or complicated methods can't easily be proven to always return the same value, but methods like size() probably could be inlined or even removed completely. Finally with for-each loops on arrays. They are decayed to the first loop I posted in the case of arrays, and can also easily be optimized to produce the quickest loop. Although for-each loops on non-arrays, I prefer to avoid when it comes to quick loops, as they decay into Iterator loops and not the second loop I posted. That is not true for LinkedList because an Iterator is faster than using get() due to O( n ) traversal. This is all speculation on what the JIT could do to optimize a loop. It's important to know that the JIT will only optimize something it can prove will not change the resulting effects. Keeping things simple will make the JIT's job much easier. Like using the final keyword. Using final on values or on methods allows the JIT to easily prove that won't change and can inline like crazy. That's the JIT's most important optimization, inlining. Make that job easy and the JIT will help you out in a big way. Here is a link discussing loop optimizations where the JIT can't always optimize a loop if it can't prove it's optimization won't change anything.",
    "severity": "medium",
    "tags": [
      "java",
      "optimization",
      "jit"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "25540087",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1065,
      "stackoverflow_creation_date": "2014-08-28T03:07:45.333Z"
    },
    "idempotency_key": "stackoverflow-25540087",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Symfony2 doctrine:schema:update with multiple Entity Managers",
    "body": "I have two database connections in config.yml and two entity managers. Each are tied to a bundle. The issue that I'm having is running unit tests, which start by creating a blank db and loading in data. It's creating both databases but i'm getting both sets of tables in each database, instead of one set of entities in one db and one in the other. Since two db connections isn't incredibly common, I'm having trouble finding some help on this. doctrine: dbal: default_connection: default ... connections: default: (conectioninfo) seconddb: (connectioninfo) orm: default_entity_manager: default auto_generate_proxy_classes: \"%kernel.debug%\" entity_managers: default: connection: default mappings: MycompanyCoreBundle: ~ seconddb: connection: seconddb mappings: MycomanySecondBundle: ~ When running unit tests, the lines I have are: php app/console doctrine:database:drop --force --env=test --connection=default php app/console doctrine:database:create --env=test --connection=default php app/console doctrine:schema:drop --force --no-interaction --env=test --em=default php app/console doctrine:schema:update --force --no-interaction --env=test --em=default php app/console doctrine:database:drop --force --env=test --connection=seconddb php app/console doctrine:database:create --env=test --connection=seconddb php app/console doctrine:schema:drop --force --no-interaction --env=test --em=seconddb php app/console doctrine:schema:update --force --no-interaction --env=test --em=seconddb When running all this, the output is Successfully deleted cache entries. Dropping database schema... Database schema dropped successfully! Updating database schema... Database schema updated successfully! \"91\" queries were executed The problem is that those 91 queries are a combination of both Entity folders in the two bundles. I'm missing somewhere to point them separately so they go into their respective databases.",
    "code": "doctrine:\n    dbal:\n        default_connection: default\n ...\n    connections:\n         default:\n         (conectioninfo)\n         seconddb:\n         (connectioninfo)\n\n\n orm:\n    default_entity_manager: default\n    auto_generate_proxy_classes: \"%kernel.debug%\"\n    entity_managers:\n    default:\n        connection: default\n        mappings:\n           MycompanyCoreBundle: ~\n    seconddb:\n        connection: seconddb\n        mappings:\n           MycomanySecondBundle: ~\n\n\nphp app/console doctrine:database:drop --force --env=test --connection=default \nphp app/console doctrine:database:create --env=test --connection=default\nphp app/console doctrine:schema:drop --force --no-interaction --env=test --em=default\nphp app/console doctrine:schema:update --force --no-interaction --env=test --em=default\n\nphp app/console doctrine:database:drop --force --env=test --connection=seconddb\nphp app/console doctrine:database:create --env=test --connection=seconddb\nphp app/console doctrine:schema:drop --force --no-interaction --env=test --em=seconddb\nphp app/console doctrine:schema:update --force --no-interaction --env=test --em=seconddb\n\n\nSuccessfully deleted cache entries.\nDropping database schema...\nDatabase schema dropped successfully!\nUpdating database schema...\nDatabase schema updated successfully! \"91\" queries were executed\n\n\n# Solution Code:\n$this-&gt;skipIf( $this-&gt;connection-&gt;getDatabase() != 'dbone', 'Skipping database.' );\n\n\n$this-&gt;skipIf( $this-&gt;connection-&gt;getDatabase() != 'dbtwo', 'Skipping database.' );\n\n\ndoctrine:migrations:migrate --em=\"default\"\ndoctrine:migrations:migrate --em=\"orm\"\n",
    "resolution": "I found the answer to this eventually. There isn't a way to specify a database for a Migration, so you basically have to run Migration twice on EM and then test for the db connection. Within each migration file, you put in a line to ignore it if it's not the correct one. Thus, some files have $this->skipIf( $this->connection->getDatabase() != 'dbone', 'Skipping database.' ); and others have $this->skipIf( $this->connection->getDatabase() != 'dbtwo', 'Skipping database.' ); Then when you run these commands: doctrine:migrations:migrate --em=\"default\" doctrine:migrations:migrate --em=\"orm\" Both will cycle through all your migration files but the ones that don't apply to that situation will be ignored.",
    "severity": "medium",
    "tags": [
      "symfony"
    ],
    "metadata": {
      "stackoverflow_question_id": "25690948",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3337,
      "stackoverflow_creation_date": "2014-09-05T17:18:47.807Z"
    },
    "idempotency_key": "stackoverflow-25690948",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "yii redirect not working",
    "body": "In Yii framework $this->redirect function not working. class TplUserNavigation extends CWidget{ public function run() { if(isset(Yii::app()->user->id) && Yii::app()->user->getState('userType') == 'User'){ $users = Users::model()->findByAttributes(array('id'=>Yii::app()->user->id)); $this->render('webroot.themes.'.Yii::app()->theme->name.'.views.layouts.tpl_navigation', array('users'=>$users)); }else{ $this->redirect('site/index'); } }",
    "code": "class TplUserNavigation extends CWidget{\n\npublic function run()\n    {\n        if(isset(Yii::app()-&gt;user-&gt;id) &amp;&amp; Yii::app()-&gt;user-&gt;getState('userType') == 'User'){\n         $users = Users::model()-&gt;findByAttributes(array('id'=&gt;Yii::app()-&gt;user-&gt;id));\n         $this-&gt;render('webroot.themes.'.Yii::app()-&gt;theme-&gt;name.'.views.layouts.tpl_navigation', array('users'=&gt;$users));\n        }else{\n          $this-&gt;redirect('site/index'); \n    }\n}\n\n\n$this-&gt;redirect\n\n# Solution Code:\n$this-&gt;redirect(\"site/index\"); \n\n\n$this-&gt;redirect(Yii::app()-&gt;homeUrl);\n\n\n$this-&gt;owner-&gt;redirect(array(\"site/index\"));\n",
    "resolution": "Try: $this->redirect(\"site/index\"); or if you want to redirect to home page: $this->redirect(Yii::app()->homeUrl); From CWidget try: $this->owner->redirect(array(\"site/index\")); Read more here about redirect from widget.",
    "severity": "medium",
    "tags": [
      "php",
      "yii",
      "http-redirect"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "25883567",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3963,
      "stackoverflow_creation_date": "2014-09-17T06:18:39.153Z"
    },
    "idempotency_key": "stackoverflow-25883567",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use single quote in string inspection",
    "body": "I have the following program: args = [\"a\", \"b\"] cmd_args = args.map{|x| x.inspect} str = cmd_args.join(' ') puts str The output is: \"a\" \"b\" I expect the output to be like the following (sub-string quoted with ' instead of \"): 'a' 'b' I don't want to do a gsub after string inspect because, in my real system, substring might contain \". For example: args = ['a\"c', \"b\"] cmd_args = args.map{|x| x.inspect.gsub('\"', '\\'')} str = cmd_args.join(' ') puts str will output: 'a\\'c' 'b' The \" between a and c is wrongly replaced. My expected output is: 'a\"c' 'b' How can I make string inspect to quote strings with ' instead of \"?",
    "code": "args = [\"a\", \"b\"]\ncmd_args = args.map{|x| x.inspect}\nstr =  cmd_args.join(' ')\nputs str\n\n\n\"a\" \"b\"\n\n\n'a' 'b'\n\n\nargs = ['a\"c', \"b\"]\ncmd_args = args.map{|x| x.inspect.gsub('\"', '\\'')}\nstr =  cmd_args.join(' ')\nputs str\n\n\n'a\\'c' 'b'\n\n\n'a\"c' 'b'\n\n\n'\n\n\"\n\ngsub\n\ninspect\n\n\"\n\n\"\n\n'\n\n\"\n\n# Solution Code:\ns = 'a\"c'.inspect\ns[0] = s[-1] = \"'\"\nputs s.gsub(\"\\\\\\\"\", \"\\\"\") #=&gt; 'a\"c'\n",
    "resolution": "s = 'a\"c'.inspect s[0] = s[-1] = \"'\" puts s.gsub(\"\\\\\\\"\", \"\\\"\") #=> 'a\"c'",
    "severity": "low",
    "tags": [
      "ruby"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "25902561",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 892,
      "stackoverflow_creation_date": "2014-09-18T00:55:47.260Z"
    },
    "idempotency_key": "stackoverflow-25902561",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Bootstrap mixed grid layout",
    "body": "I would like to define a layout which looks like this on large displays: .----------------------------. | | B | | A |____________________| | | | | | | | | | | | C | | | | |_______|____________________| \"A\" should be fixed width, while \"B\" and \"C\" should dynamically expand to fully cover the remaining available width (i.e. should not be maximized and leave an empty margin on large displays - I think this is the fluid layout). Now, upon decreasing the screen width below a specific amount, I would like to these 3 blocks rearranged to be under each other in the order of A, B, C, with all 3 utilizing the full available width. Can you help me with this please? So far I have the following setup: <div class=\"container-fluid\"> <div class=\"col-md-2\">A</div> <div class=\"col-md-10\">B</div> <div class=\"col-md-10\">C</div> </div> This looks fine in full width, but when decreasing the width, it starts to shrink also \"A\" in width which I do not want. If I add a fixed width to \"A\", it collapses B & C under A too early when decreasing the width - I would like B & C to decrease dynamically, unlike A - I think specifying a width messes up fully the layout. Here is a JSBin.",
    "code": ".----------------------------.\n|       |        B           |\n|  A    |____________________|\n|       |                    |\n|       |                    |\n|       |                    |\n|       |        C           |\n|       |                    |\n|_______|____________________|\n\n\n&lt;div class=\"container-fluid\"&gt;\n    &lt;div class=\"col-md-2\"&gt;A&lt;/div&gt;\n    &lt;div class=\"col-md-10\"&gt;B&lt;/div&gt;\n    &lt;div class=\"col-md-10\"&gt;C&lt;/div&gt;\n&lt;/div&gt;\n\n\n# Solution Code:\n&lt;div class=\"aside\"&gt;\nA\n&lt;/div&gt;\n&lt;div class=\"main\"&gt;\n   &lt;div class=\"col-xs-12\"&gt;\n     &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-xs-12 b\"&gt;B&lt;/div&gt;  \n       &lt;/div&gt;\n     &lt;div class=\"row\"&gt;\n        &lt;div class=\"col-xs-12 c\"&gt;C&lt;/div&gt;  \n       &lt;/div&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n\n\n@media screen and (min-width: 600px){\n   html, body{\n      height:100%; \n   }\n  .aside{\n    height:100%;\n    width:200px;\n    float:left;\n  }\n  .main{   \n      z-index: -1;\n      position:absolute;\n      background:cyan;\n      width:100%;\n      padding-left: 200px;\n      float:left;\n      height:100%;\n    }\n\n}\n\n\n@media screen and (min-width: 600px) { \n    html,\n    body {\n        height: 100%\n    }\n    .aside {\n        height: 100%;\n        width: 200px;\n        float: left;\n        margin-right: -200px;\n    }\n    .main {\n        background: cyan;\n        width: 100%;\n        padding-left: 200px;\n        float: left;\n        height: 100%;\n        position: relative;\n        z-index: -1;\n    }\n}\n\n\n200px\n\nmin-width 600px\n\nposition:absolute\n\nmargin-left\n\n.aside",
    "resolution": "Here is something : In collaboration with @Christina (see comments) Exemple with fixed column at 200px and min-width 600px : Bootply : http://www.bootply.com/olRbQrHoWQ HTML : <div class=\"aside\"> A </div> <div class=\"main\"> <div class=\"col-xs-12\"> <div class=\"row\"> <div class=\"col-xs-12 b\">B</div> </div> <div class=\"row\"> <div class=\"col-xs-12 c\">C</div> </div> </div> </div> CSS : @media screen and (min-width: 600px){ html, body{ height:100%; } .aside{ height:100%; width:200px; float:left; } .main{ z-index: -1; position:absolute; background:cyan; width:100%; padding-left: 200px; float:left; height:100%; } } Updated : position:absolute is not usefull, and margin-left on .aside is better Bootply : http://www.bootply.com/7Y9t8B1oAY CSS: @media screen and (min-width: 600px) { html, body { height: 100% } .aside { height: 100%; width: 200px; float: left; margin-right: -200px; } .main { background: cyan; width: 100%; padding-left: 200px; float: left; height: 100%; position: relative; z-index: -1; } }",
    "severity": "medium",
    "tags": [
      "css",
      "twitter-bootstrap",
      "twitter-bootstrap-3"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "25915622",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1218,
      "stackoverflow_creation_date": "2014-09-18T14:35:38.280Z"
    },
    "idempotency_key": "stackoverflow-25915622",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Implementing 3DSecure in InAppBrowser",
    "body": "I'm currently writing an app which use 3DS (3DSecure) but I can't make it work on my mobile device (currently testing on Android). When I get the Bank URL, I window.open this, post in it, it redirects to the 3DSecured web page, I can authenticate, but I just can't close the inAppBrowser at the end of the process. Here is the popup the user clicks : function showPopup3ds($ionicPopup, $scope, $window) { var myPopup = $ionicPopup.show({ title: 'Paiement sécurisé', subTitle: 'Confirmez votre transaction grâce au 3D Secure fourni par votre établissement bancaire.', scope: $scope, buttons: [{ text: '<b>Continuer</b>', type: 'button-positive', onTap: function(e) { // creating the 'formresult' window with custom features prior to submitting the form ref = $window.open($scope.p3ds.threeDSEncodedPareq, 'formresult', 'toolbar=0,scrollbars=0'); // <form id=\"redirectForm\" name=\"redirectForm\" target=\"formresult\" action=\"{{p3ds.threeDSAcsUrl | trusted }}\" method=\"POST\" class=\"hide\"> document.forms['redirectForm'].submit(); e.preventDefault(); } }] }); } And then, juste after : showPopup3ds($ionicPopup, $scope, $window); socket.on(result.veResPAReqInfo.threeDSRequestId, function(data) { console.log(ref); ref.close(); showPopupResult($ionicPopup, $scope, data.success); }) But I can't close it, or listen to any event because de page is redirected. It's not like a new tab or new window, it's a redirection. I feel a bit desperate, I wish I could open a chrome tab or any other. Wish you can help me. Kai23 Edit: here is how I did : In my view ( payment_details.html ), I have the current form : <form id=\"redirectForm\" name=\"redirectForm\" target=\"hidden_iframe\" action=\"{{p3ds.threeDSAcsUrl | trusted }}\" method=\"POST\" class=\"hide\"> <input type=\"hidden\" id=\"PaReq\" name=\"PaReq\" value=\"{{p3ds.threeDSEncodedPareq}}\"> <input type=\"hidden\" id=\"TermUrl\" name=\"TermUrl\" value=\"{{p3ds.TermUrl}}\"> <input type=\"hidden\" id=\"MD\" name=\"MD\" value=\"{{p3ds.MD}}\"> </form> And I have an ionic modal view like this one : <ion-modal-view> <ion-header-bar> <h1 class=\"title\">Paiement sécurisé 3-D Secure</h1> <button class=\"button button-dark\" ng-click=\"hide_modal(modal)\">Fermer</button> </ion-header-bar> <ion-content scroll=\"true\" overflow-scroll=\"true\" class=\"has-header padding\"> <iframe name=\"hidden_iframe\" style=\"width:100%;height:100%\"></iframe> </ion-content> </ion-modal-view> Finally, in my PaymentController, I do something like this : $scope.p3ds.threeDSAcsUrl = result. $scope.p3ds.threeDSEncodedPareq = result. $scope.p3ds.TermUrl = api_url + '/retour-banque?token=' + $window.sessionStorage[' $scope.p3ds.MD = result.id; var myPopup = $ionicPopup.show({ title: 'Paiement sécurisé', subTitle: 'Confirmez votre transaction grâce au 3D Secure fourni par votre établissement bancaire.', scope: $scope, buttons: [{ text: '<b>Continuer</b>', type: 'button-positive', onTap: function(e) { $ionicModal.fromTemplateUrl('templates/payment/popup/modal_3DS.html', { scope: $scope, animation: 'slide-in-up' }).then(function(modal) { $scope.modal = modal; $scope.modal.show(); document.forms['redirectForm'].submit(); }); } }] }); Server side, here is how it looks like (I use nodejs, and cheated a lot) // Once the transaction is complete res.ok(\"<p>Votre transaction a bien été enregistrée ! Revenez sur votre compte Payname en cliquant sur « fermer »\"); // English : res.ok(\"<p>Transaction succeeded. Come back to your Payname account using the close button\"); Which would be, in PHP die(\"...\") Hope it helps,",
    "code": "function showPopup3ds($ionicPopup, $scope, $window) {\n    var myPopup = $ionicPopup.show({\n        title: 'Paiement sécurisé',\n        subTitle: 'Confirmez votre transaction grâce au 3D Secure fourni par votre établissement bancaire.',\n        scope: $scope,\n        buttons: [{\n            text: '&lt;b&gt;Continuer&lt;/b&gt;',\n            type: 'button-positive',\n            onTap: function(e) {\n                // creating the 'formresult' window with custom features prior to submitting the form\n                ref = $window.open($scope.p3ds.threeDSEncodedPareq, 'formresult', 'toolbar=0,scrollbars=0');\n\n                // &lt;form id=\"redirectForm\" name=\"redirectForm\" target=\"formresult\" action=\"{{p3ds.threeDSAcsUrl | trusted }}\" method=\"POST\" class=\"hide\"&gt; \n                document.forms['redirectForm'].submit();\n                e.preventDefault();\n            }\n        }]\n    });\n}\n\n\nshowPopup3ds($ionicPopup, $scope, $window);\nsocket.on(result.veResPAReqInfo.threeDSRequestId, function(data) {\n    console.log(ref);\n    ref.close();\n    showPopupResult($ionicPopup, $scope, data.success);\n})\n\n\n&lt;form id=\"redirectForm\" name=\"redirectForm\" target=\"hidden_iframe\" action=\"{{p3ds.threeDSAcsUrl | trusted }}\" method=\"POST\" class=\"hide\"&gt; \n    &lt;input type=\"hidden\" id=\"PaReq\" name=\"PaReq\" value=\"{{p3ds.threeDSEncodedPareq}}\"&gt; \n    &lt;input type=\"hidden\" id=\"TermUrl\" name=\"TermUrl\" value=\"{{p3ds.TermUrl}}\"&gt; \n    &lt;input type=\"hidden\" id=\"MD\" name=\"MD\" value=\"{{p3ds.MD}}\"&gt; \n&lt;/form&gt;\n\n\n&lt;ion-modal-view&gt;\n    &lt;ion-header-bar&gt;\n        &lt;h1 class=\"title\"&gt;Paiement sécurisé 3-D Secure&lt;/h1&gt;\n        &lt;button class=\"button button-dark\" ng-click=\"hide_modal(modal)\"&gt;Fermer&lt;/button&gt;\n    &lt;/ion-header-bar&gt;\n    &lt;ion-content  scroll=\"true\" overflow-scroll=\"true\" class=\"has-header padding\"&gt;\n        &lt;iframe name=\"hidden_iframe\" style=\"width:100%;height:100%\"&gt;&lt;/iframe&gt;\n    &lt;/ion-content&gt;\n&lt;/ion-modal-view&gt;\n\n\n$scope.p3ds.threeDSAcsUrl = result.\n$scope.p3ds.threeDSEncodedPareq = result.\n$scope.p3ds.TermUrl = api_url + '/retour-banque?token=' + $window.sessionStorage['\n$scope.p3ds.MD = result.id;\n\nvar myPopup = $ionicPopup.show({\n    title: 'Paiement sécurisé',\n    subTitle: 'Confirmez votre transaction grâce au 3D Secure fourni par votre établissement bancaire.',\n    scope: $scope,\n    buttons: [{\n        text: '&lt;b&gt;Continuer&lt;/b&gt;',\n        type: 'button-positive',\n        onTap: function(e) {\n            $ionicModal.fromTemplateUrl('templates/payment/popup/modal_3DS.html', {\n                scope: $scope,\n                animation: 'slide-in-up'\n            }).then(function(modal) {\n                $scope.modal = modal;\n                $scope.modal.show();\n                document.forms['redirectForm'].submit();\n            });\n        }\n    }]\n});\n\n\n// Once the transaction is complete\nres.ok(\"&lt;p&gt;Votre transaction a bien été enregistrée ! Revenez sur votre compte Payname en cliquant sur « fermer »\");\n\n// English : res.ok(\"&lt;p&gt;Transaction succeeded. Come back to your Payname account using the close button\");\n\n\ndie(\"...\")\n",
    "severity": "low",
    "tags": [
      "javascript",
      "angularjs",
      "cordova",
      "ionic-framework"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "25933740",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 991,
      "stackoverflow_creation_date": "2014-09-19T12:16:09.320Z"
    },
    "idempotency_key": "stackoverflow-25933740",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Wikipedia disambiguation error",
    "body": "I have recently been using the wikipedia module to determine a random wikipedia page. I have been doing this with a very large list of words, and the random.choice() module as so: words=open(\"words.txt\",\"r\") words=words.read() words=words.split() text=random.choice(words) string=random.choice(wikipedia.search(text)) p = wikipedia.page(string) The system appears to most often work, but will occasionally choke out the error: Traceback (most recent call last): File \"/home/will/google4.py\", line 25, in <module> p = wikipedia.page(string) File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 276, in page return WikipediaPage(title, redirect=redirect, preload=preload) File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 299, in __init__ self.__load(redirect=redirect, preload=preload) File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 393, in __load raise DisambiguationError(getattr(self, 'title', page['title']), may_refer_to) DisambiguationError: \"The Scarf\" may refer to: The Scarf (film) The Scarf (opera) Scarf (disambiguation) Arthur Stewart King Scarf Is there anyway by which I can bypass this?",
    "code": "words=open(\"words.txt\",\"r\")\nwords=words.read()\n\nwords=words.split()    \n\ntext=random.choice(words)\n\nstring=random.choice(wikipedia.search(text))\n\np = wikipedia.page(string)\n\n\nTraceback (most recent call last):\n  File \"/home/will/google4.py\", line 25, in &lt;module&gt;\n    p = wikipedia.page(string)\n  File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 276, in page\n    return WikipediaPage(title, redirect=redirect, preload=preload)\n  File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 299, in __init__\n    self.__load(redirect=redirect, preload=preload)\n  File \"/usr/local/lib/python2.7/dist-packages/wikipedia/wikipedia.py\", line 393, in __load\n    raise DisambiguationError(getattr(self, 'title', page['title']), may_refer_to)\nDisambiguationError: \"The Scarf\" may refer to: \nThe Scarf (film)\nThe Scarf (opera)\nScarf (disambiguation)\nArthur Stewart King Scarf  \n\n\n# Solution Code:\ntry:\n    p = wikipedia.page(string)\nexcept wikipedia.DisambiguationError as e:\n    s = random.choice(e.options)\n    p = wikipedia.page(s)\n\n\nDisambiguationError",
    "resolution": "You could catch the DisambiguationError and chose one of these pages randomly. try: p = wikipedia.page(string) except wikipedia.DisambiguationError as e: s = random.choice(e.options) p = wikipedia.page(s) see here: http://wikipedia.readthedocs.io/en/latest/quickstart.html",
    "severity": "high",
    "tags": [
      "python",
      "wikipedia-api",
      "traceback"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "25946692",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 11516,
      "stackoverflow_creation_date": "2014-09-20T08:11:33.527Z"
    },
    "idempotency_key": "stackoverflow-25946692",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Assigning implementation of a generic interface to a property",
    "body": "I have an interface public interface IStrategy<T> where T : BaseModel { T GetModel(Guid userId); } and a concrete class inheriting the interface specifying that it should be a ConcreteModel public class ConcreteStrategy: IStrategy<ConcreteModel> { ConcreteModel GetModel(Guid userId) { ... } } Now in the following method I can pass a new instance of ConcreteStrategy and everything works public class Manager { public TModel GetContentModel<TModel>(IStrategy<TModel> strategy, Guid userId) where TModel : ModelBase { return strategy.GetContentModel(userId); } } But if I try to assign it to a property like this I get an error public class Strategies { public static IStrategy<ModelBase> MyStrategy { get; set; } } Strategies.MyStrategy = new ConcreteStrategy(); Is there a way I can achieve this in C# ? I want to be able to make a factory method that encapsulates the logic for which strategy to use and just return an instance of some type of strategy class (like ConcreteStrategy). The error I am getting is: Cannot implicitly convert type IStrategy<ModelBase> to IStrategy<ConcreteModel>",
    "code": "public interface IStrategy&lt;T&gt; where T : BaseModel\n{\n    T GetModel(Guid userId);\n}\n\n\n public class ConcreteStrategy: IStrategy&lt;ConcreteModel&gt;\n {\n     ConcreteModel GetModel(Guid userId) { ... }\n }\n\n\n public class Manager\n {\n    public TModel GetContentModel&lt;TModel&gt;(IStrategy&lt;TModel&gt; strategy, Guid userId)\n        where TModel : ModelBase\n    {\n        return strategy.GetContentModel(userId);\n    }\n }\n\n\npublic class Strategies\n{\n    public static IStrategy&lt;ModelBase&gt; MyStrategy { get; set; }\n}\n\nStrategies.MyStrategy = new ConcreteStrategy();\n\n\nConcreteModel\n\nConcreteStrategy\n\nConcreteStrategy\n\nIStrategy&lt;ModelBase&gt;\n\nIStrategy&lt;ConcreteModel&gt;\n\n# Solution Code:\npublic interface IStrategy&lt;out T&gt; where T : BaseModel\n\n\nT",
    "resolution": "You need to make your interface covariant: public interface IStrategy<out T> where T : BaseModel Note that it will work only if T only appears in an output position in the interface (which is the case in the code you have shown, but I don't know if it's your real code).",
    "severity": "low",
    "tags": [
      "c#",
      ".net",
      "generics"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "26063381",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 86,
      "stackoverflow_creation_date": "2014-09-26T15:44:33.040Z"
    },
    "idempotency_key": "stackoverflow-26063381",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to return from main function via a nested function in nodejs using callbacks?",
    "body": "I am trying to write a validation function, that validates my request headers. It returns true if all headers are ok and false if there is something wrong. I execute this function for every (almost) request. The problem is, I don't know how to return the main function in case I use callbacks and setting any flags does not work, due to some issues with variable scope. Everything was good when I was working without callbacks, I just used underscore to query my JSONs. Now I use NeDB and bound to callbacks I cannot get the job done. I tried to use a global \"res\" variable but the problem is, when I assign the value of parameter \"cnt\" (0 if token not found, 1 if there is a token) to \"res\", then the value of \"res\" is always 1 iteration behind \"cnt\": i.e.: request1 (valid): cnt = 1; res = undefined; request2 (valid): cnt = 1; res = 1; request3 (invalid): cnt = 0; res = 1; request4 (valid): cnt = 1; res = 0; All I want to do is to return the main function with true if \"cnt\" = 1 and false if \"cnt\" = 0, either with help of a global variable or using another method. function validateHeaders(request) { if (request.headers.username && request.headers.deviceid) { if (...) { function getResult(callback) { db.tokens.count({... }, function (err, cnt) { if (err) { console.log(err); } else { callback(cnt); } }); } getResult(function (cnt) { res = cnt; console.log({ count: cnt }); }); console.log({ result: res }); } else { return false; } } else { return false; } }",
    "code": "request1 (valid): cnt = 1; res = undefined;\nrequest2 (valid): cnt = 1; res = 1;\nrequest3 (invalid): cnt = 0; res = 1;\nrequest4 (valid): cnt = 1; res = 0;\n\n\nfunction validateHeaders(request) {\n    if (request.headers.username &amp;&amp; request.headers.deviceid) {\n\n        if (...) {\n            function getResult(callback) {\n                db.tokens.count({...\n                }, function (err, cnt) {\n                    if (err) {\n                        console.log(err);\n                    } else {\n                        callback(cnt);\n                    }\n                });\n            }\n\n            getResult(function (cnt) {\n                res = cnt;\n                console.log({\n                    count: cnt\n                });\n            });\n\n            console.log({\n                result: res\n            });\n        } else {\n            return false;\n        }\n    } else {\n        return false;\n    }\n}\n\n\n# Solution Code:\nfunction validateHeaders(request, cb) {\n  if (request.headers.username &amp;&amp; request.headers.deviceid) {\n    if (...) {\n      db.tokens.count({\n        // ...\n      }, function (err, cnt) {\n        if (err) {\n          cb(err);\n        } else {\n          cb(null, cnt === 1);\n        }\n      });\n      return;\n    }\n  }\n  cb(null, false);\n}\n\n\nvalidateHeaders(req, function(err, success) {\n  if (err) throw err; // TODO: improve error handling\n  console.log(success);\n});\n",
    "resolution": "You can't return a meaningful value like that from a function that performs asynchronous, non-blocking operations inside. What you need to do instead is pass in a callback: function validateHeaders(request, cb) { if (request.headers.username && request.headers.deviceid) { if (...) { db.tokens.count({ // ... }, function (err, cnt) { if (err) { cb(err); } else { cb(null, cnt === 1); } }); return; } } cb(null, false); } Then use it like: validateHeaders(req, function(err, success) { if (err) throw err; // TODO: improve error handling console.log(success); });",
    "severity": "medium",
    "tags": [
      "node.js",
      "callback"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "26144406",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3333,
      "stackoverflow_creation_date": "2014-10-01T15:02:17.873Z"
    },
    "idempotency_key": "stackoverflow-26144406",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "sklearn: How to speed up a vectorizer (eg Tfidfvectorizer)",
    "body": "After thoroughly profiling my program, I have been able to pinpoint that it is being slowed down by the vectorizer. I am working on text data, and two lines of simple tfidf unigram vectorization is taking up 99.2% of the total time the code takes to execute. Here is a runnable example (this will download a 3mb training file to your disk, omit the urllib parts to run on your own sample): ##################################### # Loading Data ##################################### import urllib from sklearn.feature_extraction.text import TfidfVectorizer import nltk.stem raw = urllib.urlopen(\"https://s3.amazonaws.com/hr-testcases/597/assets/trainingdata.txt\").read() file = open(\"to_delete.txt\",\"w\").write(raw) ### def extract_training(): f = open(\"to_delete.txt\") N = int(f.readline()) X = [] y = [] for i in xrange(N): line = f.readline() label,text = int(line[0]), line[2:] X.append(text) y.append(label) return X,y X_train, y_train = extract_training() ############################################# # Extending Tfidf to have only stemmed features ############################################# english_stemmer = nltk.stem.SnowballStemmer('english') class StemmedTfidfVectorizer(TfidfVectorizer): def build_analyzer(self): analyzer = super(TfidfVectorizer, self).build_analyzer() return lambda doc: (english_stemmer.stem(w) for w in analyzer(doc)) tfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1)) ############################################# # Line below takes 6-7 seconds on my machine ############################################# Xv = tfidf.fit_transform(X_train) I tried converting the list X_train into an np.array but there was no difference in performance.",
    "code": "#####################################\n# Loading Data\n#####################################\nimport urllib\nfrom sklearn.feature_extraction.text import TfidfVectorizer\nimport nltk.stem  \nraw = urllib.urlopen(\"https://s3.amazonaws.com/hr-testcases/597/assets/trainingdata.txt\").read()\nfile = open(\"to_delete.txt\",\"w\").write(raw)\n###\ndef extract_training():\n    f = open(\"to_delete.txt\")\n    N = int(f.readline())\n    X = []\n    y = []\n    for i in xrange(N):\n        line  = f.readline()\n        label,text =  int(line[0]), line[2:]\n        X.append(text)\n        y.append(label)\n    return X,y\nX_train, y_train =  extract_training()    \n#############################################\n# Extending Tfidf to have only stemmed features\n#############################################\nenglish_stemmer = nltk.stem.SnowballStemmer('english')\n\nclass StemmedTfidfVectorizer(TfidfVectorizer):\n    def build_analyzer(self):\n        analyzer = super(TfidfVectorizer, self).build_analyzer()\n        return lambda doc: (english_stemmer.stem(w) for w in analyzer(doc))\n\ntfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1))\n#############################################\n# Line below takes 6-7 seconds on my machine\n#############################################\nXv = tfidf.fit_transform(X_train) \n\n\nX_train\n\n# Solution Code:\n&gt;&gt;&gt; tfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1))\n&gt;&gt;&gt; %timeit tfidf.fit_transform(X_train)\n1 loops, best of 3: 4.89 s per loop\n&gt;&gt;&gt; tfidf = TfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1))\n&gt;&gt;&gt; %timeit tfidf.fit_transform(X_train)\n1 loops, best of 3: 415 ms per loop\n\n\n&gt;&gt;&gt; import Stemmer\n&gt;&gt;&gt; english_stemmer = Stemmer.Stemmer('en')\n&gt;&gt;&gt; class StemmedTfidfVectorizer(TfidfVectorizer):\n...     def build_analyzer(self):\n...         analyzer = super(TfidfVectorizer, self).build_analyzer()\n...         return lambda doc: english_stemmer.stemWords(analyzer(doc))\n...     \n&gt;&gt;&gt; tfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1))\n&gt;&gt;&gt; %timeit tfidf.fit_transform(X_train)\n1 loops, best of 3: 650 ms per loop\n",
    "resolution": "Unsurprisingly, it's NLTK that is slow: >>> tfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1)) >>> %timeit tfidf.fit_transform(X_train) 1 loops, best of 3: 4.89 s per loop >>> tfidf = TfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1)) >>> %timeit tfidf.fit_transform(X_train) 1 loops, best of 3: 415 ms per loop You can speed this up by using a smarter implementation of the Snowball stemmer, e.g., PyStemmer: >>> import Stemmer >>> english_stemmer = Stemmer.Stemmer('en') >>> class StemmedTfidfVectorizer(TfidfVectorizer): ... def build_analyzer(self): ... analyzer = super(TfidfVectorizer, self).build_analyzer() ... return lambda doc: english_stemmer.stemWords(analyzer(doc)) ... >>> tfidf = StemmedTfidfVectorizer(min_df=1, stop_words='english', analyzer='word', ngram_range=(1,1)) >>> %timeit tfidf.fit_transform(X_train) 1 loops, best of 3: 650 ms per loop NLTK is a teaching toolkit. It's slow by design, because it's optimized for readability.",
    "severity": "high",
    "tags": [
      "python",
      "scikit-learn",
      "nltk"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "26195699",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 12666,
      "stackoverflow_creation_date": "2014-10-04T18:12:34.933Z"
    },
    "idempotency_key": "stackoverflow-26195699",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "JMS Serializer: Dynamically change the name of a virtual property at run time",
    "body": "I use JMS Serializer Bundle and Symfony2. I am using VirtualProperties. currently, I set the name of a property using the SerializedName annotation. /** * @JMS\\VirtualProperty() * @JMS\\SerializedName(\"SOME_NAME\") */ public function getSomething() { return $this->something } Is it possible to set the serialized name dynamically inside the function? Or is it possible to dynamically influence the name using Post/Pre serialization events? Thanks!",
    "code": " /**\n * @JMS\\VirtualProperty()\n * @JMS\\SerializedName(\"SOME_NAME\")\n */\npublic function getSomething()\n{\n    return $this-&gt;something\n}\n",
    "severity": "medium",
    "tags": [
      "symfony",
      "jmsserializerbundle",
      "jms-serializer"
    ],
    "metadata": {
      "stackoverflow_question_id": "26335437",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 5698,
      "stackoverflow_creation_date": "2014-10-13T08:09:07.767Z"
    },
    "idempotency_key": "stackoverflow-26335437",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "numpy's interp function - how to find a value of x for a given value of y?",
    "body": "So I have an array of values of x (in increasing order) and the corresponding y values. Numpy's interp function takes in the X value, and the x and y arrays. How do I get the value of X for a given value of Y?? Eg if y = 0, x = ?. Cheers! code: j = (((1840/(2*pi))**0.5)*exp(phi)) - 1.0 #y axis, phi is a 1-D array t = linspace(0, 40, 100) #x axis a = interp(<x-value>,t,j) # this gives me the corresponding y value! So what should I do to get the x value for a given y value!!",
    "code": "j = (((1840/(2*pi))**0.5)*exp(phi)) - 1.0 #y axis, phi is a 1-D array\nt = linspace(0, 40, 100) #x axis\na = interp(&lt;x-value&gt;,t,j) # this gives me the corresponding y value! \n\n\n# Solution Code:\nnp.all(np.diff(x) &gt; 0)\nnp.all(np.diff(y) &gt; 0)\n\n\ny_interp = np.interp(x_interp, x, y)\n\ny_interp = f(x_interp)\n\ny = f(x)\n\nx_value = np.interp(y_value, x, y)\n\nx_value = interp(y_value, j, t)",
    "resolution": "y_interp = np.interp(x_interp, x, y) yields an interpolation of the function y_interp = f(x_interp) based on a previous interpolation y = f(x), where x.size = y.size, x_interp.size = y_interp.size. If you want x as a function of y, you have to construct the inverse function. As @NPE indicated, you have to make sure that x and y are always increasing. An easy way to check this is to use np.all(np.diff(x) > 0) np.all(np.diff(y) > 0) Now finding the inverse function is actually very simple: you have to reverse the roles of x and y (since we deal with interpolations). With my notations: x_value = np.interp(y_value, x, y). With your notations: x_value = interp(y_value, j, t)",
    "severity": "high",
    "tags": [
      "python",
      "arrays",
      "numpy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "26439107",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 22782,
      "stackoverflow_creation_date": "2014-10-18T11:12:21.260Z"
    },
    "idempotency_key": "stackoverflow-26439107",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Fast, optimized UTF8 encode decode",
    "body": "Do you know the fastest way to encode and decode UTF8 with some extra information? Here's the interesting cases that occur to me: Serialization I just want to encode an opaque buffer with no validation so I can decode again later. The fastest would be to use the underlying memory buffer and somehow unsafely coerce it from Text to ByteString without touching the contents. Probably ASCII I guess that 99% of the time my UTF8 is actually ASCII so it makes sense to do a first pass to confirm this and only further processing if it's found not to be true. Probably not ASCII Converse of the previous. Probably short A single key in JSON or a database that I guess will be 1 to 20 characters. Would be silly pay some upfront cost like vectorized SIMD approach. Probably long An HTML document. It's worth it pay some upfront cost for the highest throughput. There's some more variants that are similar like if encoding JSON or URL and you think there's probably no escape characters. I'm asking this question under the [Haskell] tag since Haskell's strong typing makes some techniques that would be easy in, say, C hard to implement. Also, there may be some special GHC tricks like using SSE4 instructions on an Intel platform that would be interesting. But this is more of a UTF8 issue in general and good ideas would be helpful to any language. Update After some research I propose to implement encode and decode for serialization purposes like so: myEncode :: Text -> ByteString myEncode = unsafeCoerce myDecode :: ByteString -> Text myDecode = unsafeCoerce This is a great idea if you enjoy segfault ...",
    "code": "myEncode :: Text -&gt; ByteString\nmyEncode = unsafeCoerce\nmyDecode :: ByteString -&gt; Text\nmyDecode = unsafeCoerce\n\n\nencode\n\ndecode\n\n# Solution Code:\nfromUnicode :: Converter -&gt; Text -&gt; ByteString\ntoUnicode :: Converter -&gt; ByteString -&gt; Text\n\n\ntext-icu\n\ntext-icu\n\nunsafeCoerce",
    "resolution": "This question implicates a sprawling range of issues. I'm going to interpret it as \"In Haskell, how should I convert between Unicode and other character encodings?\" In Haskell, the recommended way to convert to and from Unicode is with the functions in text-icu, which provides some basic functions: fromUnicode :: Converter -> Text -> ByteString toUnicode :: Converter -> ByteString -> Text text-icu is a binding to the International Components for Unicode libraries, which does the heavy lifting for, among other things, encoding and decoding to non-Unicode character sets. Its website gives documentation on conversion in general and some specific information on how its converter implementations operate. Note that different character sets require somewhat different coverter implementations. ICU can also attempt to automatically detect the character set of an input. \"This is, at best, an imprecise operation using statistics and heuristics.\" No other implementation could \"fix\" that characteristic. The Haskell bindings do not expose that functionality as I write; see #8. I don't know of any character set conversion procedures written in native Haskell. As the ICU documentation indicates, there is a lot of complexity; after all, this is a rich area of international computing history. Performance As the ICU FAQ laconically notes, \"Most of the time, the memory throughput of the hard drive and RAM is the main performance constraint.\" Although that comment is not specifically about conversions, I'd expect it to be broadly the case here as well. Is your experience otherwise? unsafeCoerce is not appropriate here.",
    "severity": "medium",
    "tags": [
      "haskell",
      "unicode",
      "encoding",
      "utf-8",
      "ghc"
    ],
    "metadata": {
      "stackoverflow_question_id": "26575110",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1132,
      "stackoverflow_creation_date": "2014-10-26T16:19:52.963Z"
    },
    "idempotency_key": "stackoverflow-26575110",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQLAlchemy How to map single column of one-to-one relationship using declarative",
    "body": "This is related to this question converting to declarative method and column property, which has never been answered. We are trying to set up a Flask-SQLAlchemy project on an existing schema (one we cannot change), and decided on the declarative syntax so that we can organize the classes into multiple files in a sane way for maintenance. This works for most of our relationships except for something that we call, for lack of a better term, attribute tables. These are one-to-one leaf tables off some primary object, and typically contain some kind of controlled vocabulary for the attribute. The goal in the ORM is to map all of these (of which there are many) types of tables as if they were properties of the primary table. Here is an SQA example with two tables: class MarkerType(db.Model): __tablename__=\"mrk_types\" _marker_type_key = db.Column(db.Integer,primary_key=True) name = db.Column(db.String()) class Marker(db.Model): __tablename__=\"mrk_marker\" _marker_key=db.Column(db.Integer,primary_key=True) _marker_type_key=db.Column(db.Integer()) We want to access MarkerType.name as if we were saying Marker.markertype, or in a query as Marker.markertype=='thing'. The only way I could manage that is with a column_property in the Marker class, like so: markertype = db.column_property( db.select([MarkerType.name]). where(MarkerType._marker_type_key==_marker_type_key) ) However, I cannot seem to find how to do this in a declarative way, and maybe that way does not exist. Is there a sane way I can achieve this without having to worry about my imports, or even worse the order of my classes? Since we have hundreds of tables to map, I can see this being a maintenance nightmare if we have to worry about class and import order. If all of this is totally impossible, wishful thinking, what is a better approach to mapping these tables?",
    "code": "class MarkerType(db.Model):\n    __tablename__=\"mrk_types\"\n    _marker_type_key = db.Column(db.Integer,primary_key=True)\n    name = db.Column(db.String())\n\nclass Marker(db.Model):\n    __tablename__=\"mrk_marker\"\n    _marker_key=db.Column(db.Integer,primary_key=True)\n    _marker_type_key=db.Column(db.Integer())\n\n\nmarkertype = db.column_property(\n            db.select([MarkerType.name]).\n            where(MarkerType._marker_type_key==_marker_type_key)\n    )\n\n\n# Solution Code:\nfrom sqlalchemy.orm import relationship\nfrom sqlalchemy.ext.associationproxy import association_proxy\n\nclass MarkerType(db.Model):\n    __tablename__=&quot;mrk_types&quot;\n    _marker_type_key = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.String())\n\nclass Marker(db.Model):\n    __tablename__=&quot;mrk_marker&quot;\n    _marker_key=db.Column(db.Integer,primary_key=True)\n    _marker_type_key=db.Column(db.Integer, ForeignKey('mrk_types._marker_type_key')\n\n    mt = relationship(MarkerType, uselist=False)\n    marker_type = association_proxy('mt', 'name')\n\n\nsession.query(Marker).filter_by(marker_type='my_marker_type')\n\nmarker_type\n\nname\n\nmt\n\nuselist=False",
    "resolution": "This sounds like an excellent use case for the Association Proxy. This proxies a field of a related model. In this case the implementation would be: from sqlalchemy.orm import relationship from sqlalchemy.ext.associationproxy import association_proxy class MarkerType(db.Model): __tablename__=\"mrk_types\" _marker_type_key = db.Column(db.Integer, primary_key=True) name = db.Column(db.String()) class Marker(db.Model): __tablename__=\"mrk_marker\" _marker_key=db.Column(db.Integer,primary_key=True) _marker_type_key=db.Column(db.Integer, ForeignKey('mrk_types._marker_type_key') mt = relationship(MarkerType, uselist=False) marker_type = association_proxy('mt', 'name') This allows querying like session.query(Marker).filter_by(marker_type='my_marker_type') The marker_type field is a proxy of the name field on the MarkerType object. That object can be referenced by the mt field (the relationship field) Note the uselist=False. This indicates that each Marker has 1 marker type. The relationship automatically detects the ForeignKey and uses it.",
    "severity": "medium",
    "tags": [
      "python",
      "orm",
      "sqlalchemy",
      "flask-sqlalchemy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "26613459",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 8265,
      "stackoverflow_creation_date": "2014-10-28T16:25:58.667Z"
    },
    "idempotency_key": "stackoverflow-26613459",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "python getattr multiple levels with values being passed as well",
    "body": "so I've been reading up on getattr, and was wondering what the equivalent of example = val1.val2.val3(item) would be. So I get that you have to use nested getattr to implement multiple levels attributes example = getattr(getattr(val1, \"val2\"), \"val3\") but how do I represent the object being passed in?",
    "code": "example = val1.val2.val3(item)\n\n\nexample = getattr(getattr(val1, \"val2\"), \"val3\")\n\n\n# Solution Code:\nval3 = getattr(getattr(val1, \"val2\"), \"val3\")\nexample = val3(item)\n\n# Or simply:\nexample = getattr(getattr(val1, \"val2\"), \"val3\")(item)\n",
    "resolution": "You're almost there: val3 = getattr(getattr(val1, \"val2\"), \"val3\") example = val3(item) # Or simply: example = getattr(getattr(val1, \"val2\"), \"val3\")(item)",
    "severity": "medium",
    "tags": [
      "python"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "26663320",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 6149,
      "stackoverflow_creation_date": "2014-10-30T21:07:44.337Z"
    },
    "idempotency_key": "stackoverflow-26663320",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Rails devise omniauth-facebook .persisted? returning false",
    "body": "I've spent the last day trying to fix this issue and it's driving me nuts. Last night, I had facebook login working on my site and was retrieving basic user info. My problems started when I added :scope => 'user_birthday' to config/initializers/omniauth.rb which now looks like this Rails.application.config.middleware.use OmniAuth::Builder do provider :facebook, \"APP_ID\", \"APP_SECRET\", :scope => 'user_birthday' end For reference, I've removed the line config.omniauth :facebook, \"APP_ID\", \"APP_SECRET\" from config/initializers/devise.rb I spent hours trying to get this to work but had to give up eventually. Then this morning I ran it again and it worked. Overjoyed, I tried to add another parameter to :scope but now the whole thing is broken again. I can get it to work if I remove the :scope but when I put it back in it fails every time (even if it's just :scope => 'user_birthday' like I had working first thing this morning). To locate the problem, I put debug code in omniauth_callbacks_controller.rb and it now looks like: class Users::OmniauthCallbacksController < Devise::OmniauthCallbacksController def facebook # You need to implement the method below in your model (e.g. app/models/user.rb) @user = User.from_omniauth(request.env[\"omniauth.auth\"]) puts \"start before persist debug\" puts @user.birthday puts @user.persisted? puts \"end before persist debug\" if @user.persisted? puts \"Start persisted debug\" puts request.env[\"omniauth.auth\"] puts \"End debug\" sign_in_and_redirect @user, :event => :authentication #this will throw if @user is not activated set_flash_message(:notice, :success, :kind => \"Facebook\") if is_navigational_format? else session[\"devise.facebook_data\"] = request.env[\"omniauth.auth\"] puts \"Start unpersisted debug\" puts request.env[\"omniauth.auth\"] puts \"End debug\" redirect_to new_user_registration_url end end end This debug clearly shows that facebook is returning the necessary information but the app is failing because .persisted? is returning false and so I get re-directed to the new_user_registration page which returns the following:- NoMethodError in Devise::Registrations#new Showing /home/action/workspace/cloudapp/app/views/devise/shared/_links.html.erb where line #23 raised: undefined method `omniauth_authorize_path' for #<#<Class:0x007f3aeffff038>:0x007f3aefffdf08> I can't for the life of me figure out why .persisted? is returning false. I'm using Nitrous.io for development with a Heroku postgresql database. I've confirmed there are no users in the database by running rails c User.all This returns: User Load (89.4ms) SELECT \"users\".* FROM \"users\" => #<ActiveRecord::Relation []> I have a feeling the problem is in models/user.rb but I can't figure out how to debug it to see if it's finding a user and therefore not persisting or trying to create one and failing. Does anyone know a simple way to debug this? def self.from_omniauth(auth) where(provider: auth.provider, uid: auth.uid).first_or_create do |user| user.email = auth.info.email user.password = Devise.friendly_token[0,20] user.name = auth.info.name # assuming the user model has a name user.birthday = auth.extra.raw_info.birthday # user.image = auth.info.image # assuming the user model has an image end end I've gone over everything about 50 times and am close to giving up. The only thing I can think of is that where(provider: auth.provider, uid: auth.uid) is returning something (which it shouldn't because my database is empty). Would there possibly be an index that exists somewhere outside my database and that's what it's searching? Please, for my sanity, can anyone help? If you need more info I'll gladly provide it Edit 1 Just tried the following and it works which make me more confused than ever: Delete the app from my facebook account as I'm testing using that account Try to log in with facebook with :scope => 'user_birthday' left in. Facebook lists the permissions sought as your public profile and birthday. Accept and get sent back to my site which fails as per above (even though the info is definitely being sent back) Remove :scope => 'user_birthday' and try log in using facebook again. Get directed to facebook which lists permission sought as your public profile and email address. Accept and get directed back to site which now works and also has the user birthday stored and accessible because I had the permisision from facebook from number 2 above. I'm completely at a loss now",
    "code": "Rails.application.config.middleware.use OmniAuth::Builder do\n  provider :facebook, \"APP_ID\", \"APP_SECRET\", :scope =&gt; 'user_birthday'\nend\n\n\nclass Users::OmniauthCallbacksController &lt; Devise::OmniauthCallbacksController\n  def facebook\n    # You need to implement the method below in your model (e.g. app/models/user.rb)\n        @user = User.from_omniauth(request.env[\"omniauth.auth\"])\n        puts \"start before persist debug\"\n        puts @user.birthday\n        puts @user.persisted?\n        puts \"end before persist debug\"\n\n    if @user.persisted?         \n            puts \"Start persisted debug\"\n            puts request.env[\"omniauth.auth\"]\n            puts \"End debug\"            \n      sign_in_and_redirect @user, :event =&gt; :authentication #this will throw if @user is not activated\n      set_flash_message(:notice, :success, :kind =&gt; \"Facebook\") if is_navigational_format?\n    else\n      session[\"devise.facebook_data\"] = request.env[\"omniauth.auth\"]\n            puts \"Start unpersisted debug\"\n            puts request.env[\"omniauth.auth\"]\n            puts \"End debug\"\n      redirect_to new_user_registration_url\n    end\n  end\nend\n\n\nNoMethodError in Devise::Registrations#new\nShowing /home/action/workspace/cloudapp/app/views/devise/shared/_links.html.erb where line #23 raised:\n\nundefined method `omniauth_authorize_path' for #&lt;#&lt;Class:0x007f3aeffff038&gt;:0x007f3aefffdf08&gt;\n\n\nrails c\nUser.all\n\n\n  User Load (89.4ms)  SELECT \"users\".* FROM \"users\"                                                                                                                                                                                                     \n=&gt; #&lt;ActiveRecord::Relation []&gt; \n\n\ndef self.from_omniauth(auth)        \n      where(provider: auth.provider, uid: auth.uid).first_or_create do |user|\n        user.email = auth.info.email\n        user.password = Devise.friendly_token[0,20]\n        user.name = auth.info.name   # assuming the user model has a name\n        user.birthday = auth.extra.raw_info.birthday\n        # user.image = auth.info.image # assuming the user model has an image\n    end\nend\n\n\n:scope =&gt; 'user_birthday'\n\nconfig/initializers/omniauth.rb\n\nconfig.omniauth :facebook, \"APP_ID\", \"APP_SECRET\"\n\nconfig/initializers/devise.rb\n\n:scope\n\n:scope\n\n:scope =&gt; 'user_birthday'\n\nomniauth_callbacks_controller.rb\n\n.persisted?\n\n.persisted?\n\nmodels/user.rb\n\nwhere(provider: auth.provider, uid: auth.uid)\n\n:scope =&gt; 'user_birthday'\n\nyour public profile and birthday\n\n:scope =&gt; 'user_birthday'\n\nyour public profile and email address\n\n# Solution Code:\nputs @user.errors.to_a\n\n\nputs request.env[\"omniauth.auth\"]\n\n\nauth",
    "resolution": "To find out about why is the object not being saved. You need to puts the errors. puts @user.errors.to_a And to check the content of the auth puts request.env[\"omniauth.auth\"]",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "devise",
      "omniauth",
      "omniauth-facebook"
    ],
    "metadata": {
      "stackoverflow_question_id": "26705226",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1564,
      "stackoverflow_creation_date": "2014-11-02T22:31:08.333Z"
    },
    "idempotency_key": "stackoverflow-26705226",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Embedding python 3.4 into C++ Qt Application?",
    "body": "I'm making an Qt Quick GUI application(for windows), which uses OpenGL and C++ for some computationally intensive stuff. I want to embed python code into the app, for doing some stuff which is comparatively easier in python. Basically, I just want the c++ code to call a function in a python script and let the script do the job, then store the returned data in a variable(string, or float etc.) for further use. I'm using Qt creator, and I got python3 lib for MinGW compiler. I tried some code, but its looks like python lib is not quite compatible with Qt creator. IS using pyqt for this will be a good idea? What will be the best and easiest way to do this ? EDIT: This is the basic code I tried, first it gave me an error saying, cannot find pyconfig.h. Then I added an INCUDEPATH to my python34 include directory. #include \"mainwindow.h\" #include <QApplication> #include <boost/python.hpp> int main(int argc, char *argv[]) { QApplication a(argc, argv); MainWindow w; w.show(); using namespace boost::python; PyObject *pName, *pModule, *pDict, *pFunc, *pValue; Py_Initialize(); pName = PyString_FromString(argv[1]); pModule = PyImport_Import(pName); pDict = PyModule_GetDict(pModule); pFunc = PyDict_GetItemString(pDict, argv[2]); if (PyCallable_Check(pFunc)) { PyObject_CallObject(pFunc, NULL); } else { PyErr_Print(); } // Clean up Py_DECREF(pModule); Py_DECREF(pName); Py_Finalize(); return a.exec(); } My .pro file: QT += core gui greaterThan(QT_MAJOR_VERSION, 4): QT += widgets TARGET = TestWidgetApp TEMPLATE = app INCLUDEPATH += C:/boost_1_57_0 INCLUDEPATH += C:/Python34/include SOURCES += main.cpp\\ mainwindow.cpp HEADERS += mainwindow.h FORMS += mainwindow.ui OTHER_FILES += Then the following errors: C:\\Python34\\include\\object.h:435: error: C2059: syntax error : ';' C:\\Python34\\include\\object.h:435: error: C2238: unexpected token(s) preceding ';' C:\\Users\\Amol\\Desktop\\TestWidgetApp\\main.cpp:19: error: C3861: 'PyString_FromString': identifier not found",
    "code": "#include \"mainwindow.h\"\n#include &lt;QApplication&gt;\n#include &lt;boost/python.hpp&gt;\n\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    MainWindow w;\n    w.show();\n    using namespace boost::python;\n\n    PyObject *pName, *pModule, *pDict, *pFunc, *pValue;\n\n        Py_Initialize();\n\n        pName = PyString_FromString(argv[1]);\n\n        pModule = PyImport_Import(pName);\n\n\n        pDict = PyModule_GetDict(pModule);\n\n\n        pFunc = PyDict_GetItemString(pDict, argv[2]);\n\n        if (PyCallable_Check(pFunc))\n        {\n            PyObject_CallObject(pFunc, NULL);\n        } else\n        {\n            PyErr_Print();\n        }\n\n        // Clean up\n        Py_DECREF(pModule);\n        Py_DECREF(pName);\n\n        Py_Finalize();\n\n    return a.exec();\n}\n\n\nQT       += core gui\n\ngreaterThan(QT_MAJOR_VERSION, 4): QT += widgets\n\nTARGET = TestWidgetApp\nTEMPLATE = app\n\nINCLUDEPATH += C:/boost_1_57_0\nINCLUDEPATH += C:/Python34/include\n\nSOURCES += main.cpp\\\n        mainwindow.cpp\n\nHEADERS  += mainwindow.h\n\nFORMS    += mainwindow.ui\n\nOTHER_FILES +=\n\n\n# Solution Code:\npublic slots:\n\n\n#undef slots\n\n\n#undef slots\n#include &lt;Python.h&gt;\n#define slots\n\n#include \"myinclude.h\"\n#include &lt;QString&gt;\n\n\nPyType_Spec\n\nslots",
    "resolution": "The problem here is that Python 3.4 has a struct member called \"slots\", (file object.h, in the typedef for PyType_Spec), which Qt defines out from under you so that you can say things like: public slots: in your code. The solution is to add: #undef slots just before you include Python.h, and to redefine it before you include anything that uses \"slots\" in the way that Qt does: #undef slots #include <Python.h> #define slots #include \"myinclude.h\" #include <QString> A bit of a hack (because you're depending on a particular definition of slots in Qt), but it should get you going.",
    "severity": "medium",
    "tags": [
      "python",
      "c++",
      "qt",
      "opengl",
      "pyqt"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "27045323",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 3802,
      "stackoverflow_creation_date": "2014-11-20T17:02:38.283Z"
    },
    "idempotency_key": "stackoverflow-27045323",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to mark exception as logged (and log it only once)?",
    "body": "I'd like simplify my current logging solution and extend NLog in such a way that I can log an exception only once but without checking whether it's already logged in each and every catch like in my current solution: catch(Exception ex) { if (!ex.IsLogged()) { logger.Error(ex); ex.MarkAsLogged(); } throw; } static bool IsLogged(this Exception ex) { return ex.Data.ContainsKey(\"Logged\"); } static void MarkAsLogged(this Exception ex) { if (!ex.IsLogged()) { ex.Data[\"Logged\"] = true; } } Can I somehow extend NLog so that the Error method internally checks whether an exception is already marked as logged? EDIT: The shortest solution that I came up with is this one: public static Exception IfNotLogged(this Exception ex, Action logAction) { if (ex.IsMarkedAsLogged() == true) { return ex; } logAction(); ex.MarkAsLogged(); return ex; } usage: ex.IfNotLogged(() => logger.Error(ex)); ...but still it does not work in C++/CLI and it has to be typed :-) Repeating the same code everywhere is not a good habit as I was taught so I'd rather delagate this responsibility to NLog.",
    "code": "catch(Exception ex)\n{\n    if (!ex.IsLogged())\n    {\n        logger.Error(ex);\n        ex.MarkAsLogged();\n    }\n    throw;\n}\n\n\nstatic bool IsLogged(this Exception ex)\n{\n    return ex.Data.ContainsKey(\"Logged\");\n}\n\nstatic void MarkAsLogged(this Exception ex)\n{\n    if (!ex.IsLogged())\n    {\n        ex.Data[\"Logged\"] = true;\n    }\n}\n\n\npublic static Exception IfNotLogged(this Exception ex, Action logAction)\n{\n    if (ex.IsMarkedAsLogged() == true)\n    {\n        return ex;\n    }\n    logAction();\n    ex.MarkAsLogged();\n    return ex;\n}\n\n\nex.IfNotLogged(() =&gt; logger.Error(ex));\n\n\nNLog\n\nNLog\n\nError\n\nC++/CLI\n\nNLog",
    "severity": "medium",
    "tags": [
      "c#",
      ".net",
      "exception",
      "nlog"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "27148612",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1221,
      "stackoverflow_creation_date": "2014-11-26T11:58:18.137Z"
    },
    "idempotency_key": "stackoverflow-27148612",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Java NIO Files.createFile() fails with NoSuchFileException",
    "body": "I am trying to lay down some core files in a dev-test-prod setup. Basically if the file is newer it needs to be copied to the next level as part of the QA process. I am using Java 8 so I decided to try the NIO Files/Path apis for the first time. I am creaky old, having been programming for 48 years and have used almost exclusively Java since early 1996, and every release since prerelease, so this NIO \"enhancement\" should not be too hard for me to assimilate, but . . . FileSystem fs = FileSystems.getDefault(); Path in = fs.getPath(fromFileName); Path out = fs.getPath(toFileName); if (Files.exists(out)) { FileTime inTime = Files.getLastModifiedTime(in); FileTime outTime = Files.getLastModifiedTime(out); if (0 > outTime.compareTo(inTime)) { Files.copy(in, out, StandardCopyOption.REPLACE_EXISTING); } } else { Files.createFile(out); Files.copy(in, out); } I initially just tried Files.copy() without Files.createFile() and got a NoSuchFileException on the copy() call. I looked a several StackOverflow posts which referred to this, one of which stated authoritatively that copy() will fail if the destination file does not already exist. For the life of me I cannot understand why the designers thought this was a good idea, but so be it. I accordingly added the createFile() call as above (having read the API doc for Files which says that Files.createFile() \"Creates a new and empty file, failing if the file already exists.\" When I ran it again I got exactly the same Exception, but on the createFile() instead of the copy(). Notice the path is inside my home directory on Windows, so no access denied issues should occur. Also NOTHING other than Eclipse containing this project is running on my PC at this time. java.nio.file.NoSuchFileException: C:\\Users\\ChrisGage\\myproject\\site\\ttws\\css\\core.css at sun.nio.fs.WindowsException.translateToIOException(Unknown Source) at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source) at sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source) at sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source) at java.nio.file.Files.newByteChannel(Unknown Source) at java.nio.file.Files.createFile(Unknown Source) ... What am I doing wrong?",
    "code": "FileSystem fs = FileSystems.getDefault();\nPath in = fs.getPath(fromFileName);\nPath out = fs.getPath(toFileName);\n\nif (Files.exists(out)) {\n  FileTime inTime = Files.getLastModifiedTime(in);\n  FileTime outTime = Files.getLastModifiedTime(out);\n\n  if (0 &gt; outTime.compareTo(inTime)) {\n    Files.copy(in, out, StandardCopyOption.REPLACE_EXISTING);\n  }\n} else {\n  Files.createFile(out);\n  Files.copy(in, out);\n}\n\n\njava.nio.file.NoSuchFileException: C:\\Users\\ChrisGage\\myproject\\site\\ttws\\css\\core.css\nat sun.nio.fs.WindowsException.translateToIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsException.rethrowAsIOException(Unknown Source)\nat sun.nio.fs.WindowsFileSystemProvider.newByteChannel(Unknown Source)\nat java.nio.file.Files.newByteChannel(Unknown Source)\nat java.nio.file.Files.createFile(Unknown Source)\n...\n\n\n# Solution Code:\nfinal Path tmp = out.getParent();\nif (tmp != null) // null will be returned if the path has no parent\n    Files.createDirectories(tmp);\n\n\nFiles.copy()\n\nFiles.move()",
    "resolution": "Files.copy() (and Files.move() for that matter) is \"dumb\"; it won't try and do any of the following: copy entire directory hierarchies; move entire directory hierarchies (if the source and target are on different filesystems); create missing directories etc. You need to do: final Path tmp = out.getParent(); if (tmp != null) // null will be returned if the path has no parent Files.createDirectories(tmp); prior to copying the file.",
    "severity": "high",
    "tags": [
      "java",
      "file",
      "nio"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "27335005",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 12378,
      "stackoverflow_creation_date": "2014-12-06T18:31:46.207Z"
    },
    "idempotency_key": "stackoverflow-27335005",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Delete double values in an array with Python",
    "body": "I have a problem with a little Python script I wrote. Shortinfo: What I have: an array consisting of arrays consisting of integers: finalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]] What I want from this program: iterate over all sub-arrays, sort them, and delete double values (e.g. 52 in sub-array 0, 154 in sub-array 1 and 43 in sub-array 2) My script so far: finalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]] print \"\\n\" print \"list:\",finalSubLines,\"\\n========================\" for i in range (0, len(finalSubLines)): finalSubLines[i].sort() print \"iterate until index:\",len(finalSubLines[i])-2 print \"before del-process:\",finalSubLines[i] for j in range (0, len(finalSubLines[i])-2): print \"j=\",j if finalSubLines[i][j] == finalSubLines[i][j+1]: del finalSubLines[i][j] print \"after del-process:\",finalSubLines[i] print \"-------------\" print finalSubLines This is what I get: The Problem: I don't understand why the range of the first for-loop is until len(finalSubLines) and not len(finalSubLines)-1. I tryed the latter, but then the last sub-array wasn't reached. The main problem is that the second for-loop won't reach all elements (blue rectangles in image). That's why the value 154 won't be deleted (see red rectangle in picture). Why is that happening? Maybe there is an easier way to get what I need, but as I'm quite new to scripting, I don't know better ^^",
    "code": "finalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]]\n\n\nfinalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]]\nprint \"\\n\"\n\nprint \"list:\",finalSubLines,\"\\n========================\"\n\nfor i in range (0, len(finalSubLines)):\n    finalSubLines[i].sort()\n    print \"iterate until index:\",len(finalSubLines[i])-2\n    print \"before del-process:\",finalSubLines[i]\n    for j in range (0, len(finalSubLines[i])-2):\n        print \"j=\",j\n        if finalSubLines[i][j] == finalSubLines[i][j+1]:\n            del finalSubLines[i][j]     \n    print \"after del-process:\",finalSubLines[i]\n    print \"-------------\"\nprint finalSubLines\n\n\n# Solution Code:\n[sorted(set(sub)) for sub in finalSubLines]\n\n\n&gt;&gt;&gt; finalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]]\n&gt;&gt;&gt; [sorted(set(sub)) for sub in finalSubLines]\n[[0, 44, 52, 57], [12, 25, 154], [41, 42, 43, 74]]\n\n\ni + 1\n\ni\n\ni + 1\n\ni + 2",
    "resolution": "The easy way would be to use sets: [sorted(set(sub)) for sub in finalSubLines] Demo: >>> finalSubLines = [[0,44,52,52,57],[12,154,25,154],[41,42,43,43,74]] >>> [sorted(set(sub)) for sub in finalSubLines] [[0, 44, 52, 57], [12, 25, 154], [41, 42, 43, 74]] Your loop doesn't take into account that by removing items, your lists are getting shorter; what was once at index i + 1 moved to index i, but your loop is happily moving on to index i + 1, and the value there was once located at i + 2. Thus you skip elements. See Loop \"Forgets\" to Remove Some Items for a more detailed description of what happens.",
    "severity": "low",
    "tags": [
      "python",
      "arrays"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "27589660",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 548,
      "stackoverflow_creation_date": "2014-12-21T13:08:34.017Z"
    },
    "idempotency_key": "stackoverflow-27589660",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Download and Save Images Using Picasso",
    "body": "I'm trying to show my news in a custom ListView. Each news is included of some images and I want to 1.download images from server 2.save in local storage 3.save path of images into SQLite 4.show images in ListView using my custom adapter. I just have problem with steps 1 & 2. I can get news from server and show them in my ListView and show images from cache by add below code in my adapter: Picasso.with(context).load(image[position]).into(iv); By using Picasso.with(context).load(image[position]).into(target) , just I can save one image in storage. Please suggest me your idea ... UPDATE: When I use below code, just one image (last index of my image array) being saved! How can I save all images in array with this code?! @Override protected void onPostExecute(Void result) { SaveImages(); pDialog.dismiss(); super.onPostExecute(result); } String fileName = null; public void SaveImages() { for(int i = 0; i < image.length; i++) { Picasso.with(this).load(image[i]).into(target); fileName = \"image-\" + i + \".jpg\"; } } Target target = new Target() { @Override public void onPrepareLoad(Drawable arg0) { } @Override public void onBitmapLoaded(Bitmap bitmap, LoadedFrom arg1) { File file = new File(Environment.getExternalStorageDirectory().getPath() +\"/\" + fileName); try { file.createNewFile(); FileOutputStream ostream = new FileOutputStream(file); bitmap.compress(CompressFormat.JPEG, 75, ostream); ostream.close(); } catch (Exception e) { e.printStackTrace(); } } @Override public void onBitmapFailed(Drawable arg0) { } };",
    "code": "Picasso.with(context).load(image[position]).into(iv);\n\n\n@Override\nprotected void onPostExecute(Void result) {\n   SaveImages();\n   pDialog.dismiss();\n   super.onPostExecute(result);\n}\n\nString fileName = null;\n\npublic void SaveImages() {\n    for(int i = 0; i &lt; image.length; i++) {\n        Picasso.with(this).load(image[i]).into(target);\n        fileName = \"image-\" + i + \".jpg\";\n    }\n}\n\nTarget target = new Target() {\n\n    @Override\n    public void onPrepareLoad(Drawable arg0) {\n    }\n\n    @Override\n    public void onBitmapLoaded(Bitmap bitmap, LoadedFrom arg1) {\n        File file = new File(Environment.getExternalStorageDirectory().getPath() +\"/\" + fileName);\n         try {\n             file.createNewFile();\n             FileOutputStream ostream = new FileOutputStream(file);\n             bitmap.compress(CompressFormat.JPEG, 75, ostream);\n             ostream.close();\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n    }\n\n    @Override\n    public void onBitmapFailed(Drawable arg0) {\n    }\n};\n\n\nPicasso.with(context).load(image[position]).into(target)\n\n# Solution Code:\n        final String fileName = mDataset.get(i).getAid() + \".jpg\";\n        Target target = new Target() {\n\n            @Override\n            public void onPrepareLoad(Drawable arg0) {\n                return;\n            }\n\n            @Override\n            public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom arg1) {\n\n                try {\n                    File file = null;\n\n                    // judge \"imgs/.nomedia\"'s existance to judge whether path available\n                    if(LightCache.testFileExist(GlobalConfig.getFirstStoragePath()\n                            + \"imgs\" + File.separator +\".nomedia\") == true)\n                        file = new File(GlobalConfig.getFirstStoragePath()\n                                + \"imgs\" + File.separator + fileName);\n\n                    else file = new File(GlobalConfig.getSecondStoragePath()\n                            + \"imgs\" + File.separator + fileName);\n\n                    file.createNewFile();\n                    FileOutputStream ostream = new FileOutputStream(file);\n                    bitmap.compress(Bitmap.CompressFormat.JPEG, 80, ostream);\n                    ostream.close();\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n\n            @Override\n            public void onBitmapFailed(Drawable arg0) {\n                return;\n            }\n        };\n\n        Picasso.with(GlobalConfig.getContext())\n                .load(Wenku8API.getCoverURL(mDataset.get(i).getAid()))\n                .into(target);\n\n\nTarget target\n\nPicasso.with(this).load(image[i]).into(target);",
    "resolution": "Try to put Target target definition before call to Picasso.with(this).load(image[i]).into(target); P.S. Using the following code and I saved images very well. Thanks, anyway. My Code: final String fileName = mDataset.get(i).getAid() + \".jpg\"; Target target = new Target() { @Override public void onPrepareLoad(Drawable arg0) { return; } @Override public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom arg1) { try { File file = null; // judge \"imgs/.nomedia\"'s existance to judge whether path available if(LightCache.testFileExist(GlobalConfig.getFirstStoragePath() + \"imgs\" + File.separator +\".nomedia\") == true) file = new File(GlobalConfig.getFirstStoragePath() + \"imgs\" + File.separator + fileName); else file = new File(GlobalConfig.getSecondStoragePath() + \"imgs\" + File.separator + fileName); file.createNewFile(); FileOutputStream ostream = new FileOutputStream(file); bitmap.compress(Bitmap.CompressFormat.JPEG, 80, ostream); ostream.close(); } catch (Exception e) { e.printStackTrace(); } } @Override public void onBitmapFailed(Drawable arg0) { return; } }; Picasso.with(GlobalConfig.getContext()) .load(Wenku8API.getCoverURL(mDataset.get(i).getAid())) .into(target);",
    "severity": "high",
    "tags": [
      "android",
      "picasso",
      "download"
    ],
    "metadata": {
      "stackoverflow_question_id": "27729976",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 32294,
      "stackoverflow_creation_date": "2015-01-01T10:30:00.507Z"
    },
    "idempotency_key": "stackoverflow-27729976",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get current background",
    "body": "I want to get the current background to do a condition base on it. For example, I have a xml with a next arrow, if the background=R.drawable.A, I want to change the background to R.drawable.B when next Button is pressed. I defined my relative layout as follows : final RelativeLayout rl = (RelativeLayout) findViewById(R.id.myLayout); if (rl.getBackground()== R.drawable.A){ //here the error rl.setBackgroundResource(R.drawable.B); } The error is : incompatible operands types int and drawable. If there a way to get the current background and base on it do something?",
    "code": "final RelativeLayout rl = (RelativeLayout) findViewById(R.id.myLayout);\n\nif (rl.getBackground()== R.drawable.A){ //here the error\n        rl.setBackgroundResource(R.drawable.B);\n                }\n\n\n# Solution Code:\nval drawableAConstantState = ContextCompat.getDrawable(this, R.drawable.A)?.constantState\nrl.setBackgroundResource(if (rl.background?.constantState == drawableAConstantState) R.drawable.B else R.drawable.A)\n\n\nif (rl.getBackground() != null &amp;&amp; rl.getBackground().getConstantState().equals(getResources().getDrawable(R.drawable.A).getConstantState()) {\n    rl.setBackgroundResource(R.drawable.B);\n} else {\n    rl.setBackgroundResource(R.drawable.A);\n}\n\n\nequals",
    "resolution": "Actually I don't know why they didn't override the equals method in the Drawable class. So you should use getConstantState() method from the Drawable object that returns a Drawable.ConstantState instance that holds the shared state of this Drawable to be able to compare it. Kotlin val drawableAConstantState = ContextCompat.getDrawable(this, R.drawable.A)?.constantState rl.setBackgroundResource(if (rl.background?.constantState == drawableAConstantState) R.drawable.B else R.drawable.A) Java if (rl.getBackground() != null && rl.getBackground().getConstantState().equals(getResources().getDrawable(R.drawable.A).getConstantState()) { rl.setBackgroundResource(R.drawable.B); } else { rl.setBackgroundResource(R.drawable.A); }",
    "severity": "medium",
    "tags": [
      "android",
      "android-drawable"
    ],
    "metadata": {
      "stackoverflow_question_id": "27730731",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2406,
      "stackoverflow_creation_date": "2015-01-01T12:16:52.463Z"
    },
    "idempotency_key": "stackoverflow-27730731",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Neo4J Return column alias (AS) name with space, is it possible?",
    "body": "Using Neo4J 2.1.6 with Cypher. I was wondering if it's possible to \"alias\" a query result column with a string containing spaces? Following code generates error: error with \"...\" MATCH (a) RETURN a.name AS \"My Alias Column Name\"; error without ... MATCH a RETURN a.name AS My Alias Column Name;",
    "code": "MATCH (a)\nRETURN a.name AS \"My Alias Column Name\";\n\n\nMATCH a \nRETURN a.name AS My Alias Column Name;\n\n\n# Solution Code:\nMATCH (a)\nRETURN a.age AS `My Alias Age Column Name`;\n",
    "resolution": "Spaces are possible, you can alias it using the backticks as follows: MATCH (a) RETURN a.age AS `My Alias Age Column Name`;",
    "severity": "medium",
    "tags": [
      "neo4j",
      "cypher",
      "alias"
    ],
    "metadata": {
      "stackoverflow_question_id": "27755942",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 8826,
      "stackoverflow_creation_date": "2015-01-03T14:36:12.540Z"
    },
    "idempotency_key": "stackoverflow-27755942",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sort and distinct in mongoose",
    "body": "My mongoose query is: Spread.find(findCase).where('loc').near({ center: { type: 'Point', coordinates: [self.lon, self.lat] }, maxDistance: distance }).sort({ts : -1}).distinct(\"postId\").exec(); So I get the error: Error: sort cannot be used with distinct But if I pass the query with console db.spreads.distinct({}).sort({ts: -1}); That is ok. So why mongoose doesn't let me to select distinct and sort in one query and how can I do it?",
    "code": "Spread.find(findCase).where('loc').near({\n        center: {\n            type: 'Point',\n            coordinates: [self.lon, self.lat]\n        },\n        maxDistance: distance\n}).sort({ts : -1}).distinct(\"postId\").exec();\n\n\nError: sort cannot be used with distinct\n\n\ndb.spreads.distinct({}).sort({ts: -1});\n\n\n# Solution Code:\nSpread.aggregate(\n{$geoNear:{\n  \"near\":{\"type\":\"Point\",\"coordinates\":[self.lon, self.lat]},\n  \"distanceField\":\"dist.calculated\",\n  \"maxDistance\":distance,\n  \"query\":findcase,\n  \"spherical\": true\n}},\n{$sort:{\"ts\":-1}},\n{$group:{\"_id\":\"$postId\"}},function(err,resp){\n  console.log(resp);\n  // handle response.\n}\n)\n\n\nsort\n\ndistinct\n\n2dsphere\n\nloc",
    "resolution": "From the docs, sort cannot be used with distinct. Cannot be used with distinct() But you can perform an aggregation operation: Spread.aggregate( {$geoNear:{ \"near\":{\"type\":\"Point\",\"coordinates\":[self.lon, self.lat]}, \"distanceField\":\"dist.calculated\", \"maxDistance\":distance, \"query\":findcase, \"spherical\": true }}, {$sort:{\"ts\":-1}}, {$group:{\"_id\":\"$postId\"}},function(err,resp){ console.log(resp); // handle response. } ) Note: A 2dsphere Index needs to exist on the collection over the loc field. To create an Index, refer: Does applying a 2dsphere index on a mongoose schema force the location field to be required?.",
    "severity": "medium",
    "tags": [
      "node.js",
      "mongodb",
      "mongoose"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "27968930",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 9549,
      "stackoverflow_creation_date": "2015-01-15T17:05:19.437Z"
    },
    "idempotency_key": "stackoverflow-27968930",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Visual Studio 2010: impossible to add features",
    "body": "On Windows 8.1, I installed Visual Studio 2010, then updated to SP1 + Windows Update fixes and installed Python Tools for Visual Studio 2.1. Now, I wanted to add a feature to my VS2010 installation. Unfortunately the setup fails with the message: A selected drive is no longer valid. Please review your installation path settings before continuing with setup. In the installation log I find the following message: [01/23/15,18:45:12] VS70pgui: ***ERRORLOG EVENT*** : Unable to retrieve the install directory for Microsoft Visual Studio Performance Collection Tools for v4.0 in COptionsPage::IsGoodAllComponenentsPath [01/23/15,18:45:12] vs70uimgr: Entering DisplayMessage() method. [01/23/15,18:45:12] vs70uimgr: DisplayMessage_START:A selected drive is no longer valid. Please review your installation path settings before continuing with setup. [01/23/15,18:45:17] vs70uimgr: DisplayMessage_END:A selected drive is no longer valid. Please review your installation path settings before continuing with setup. [01/23/15,18:45:17] VS70pgui: A selected drive is no longer valid. Please review your installation path settings before continuing with setup. I have not installed the Microsoft Visual Studio Performance Collection Tools for v4.0 manually at all. (However, during the installation I was informed that the kernel driver for CPU polling was incompatible with Windows 8.) I already tried uninstalling PTVS 2.1 but that did not help either. Any hints on how to get around this issue?",
    "code": "A selected drive is no longer valid.  Please review your installation path settings before continuing with setup.\n\n\n[01/23/15,18:45:12] VS70pgui: ***ERRORLOG EVENT*** : Unable to retrieve the install directory for Microsoft Visual Studio Performance Collection Tools for v4.0 in COptionsPage::IsGoodAllComponenentsPath\n[01/23/15,18:45:12] vs70uimgr: Entering DisplayMessage() method.\n[01/23/15,18:45:12] vs70uimgr: DisplayMessage_START:A selected drive is no longer valid.  Please review your installation path settings before continuing with setup.\n[01/23/15,18:45:17] vs70uimgr: DisplayMessage_END:A selected drive is no longer valid.  Please review your installation path settings before continuing with setup.\n[01/23/15,18:45:17] VS70pgui: A selected drive is no longer valid.  Please review your installation path settings before continuing with setup.\n\n\nMicrosoft Visual Studio Performance Collection Tools for v4.0\n\n# Solution Code:\necho %TEMP%\nC:\\Users\\&lt;user&gt;\\AppData\\Local\\Temp\n\n\nC:\\Users\\&lt;user&gt;\\AppData\\Local\\Temp\\dd_install_vs_vstscore_100.txt\n\n\nVS70pgui: ***ERRORLOG EVENT*** : Unable to retrieve the install directory for Microsoft Visual Studio Performance Collection Tools for v4.0 in COptionsPage::IsGoodAllComponenentsPath\nvs70uimgr: Entering DisplayMessage() method.\nvs70uimgr: DisplayMessage_START:A selected drive is no longer valid.  Please review your installation path settings before continuing with setup.\n\n\nvs_setup.msi\n\nF:\\1033_ENU_LP\\redist\\VisualStudioShell\\VSSetup",
    "resolution": "Scenario Installed VS 2010 and MS SQL SERVER 2012 (BI) Update to VS 2010 SP1 Add Feature to VS 2010 i.e. MS SQL 2008 Express Server Ambiguous Error A Selected Drive is No Longer Valid Solution Options (source) 1) Full uninstall of VS 2010, reinstall with the required component(s), then reinstall SP1. 2) Remove SP1 for VS 2010. Install the necessary components, and then install SP1 again. For Option 2 When uninstalling SP1, if you are prompted for the MSI for vs_setup.msi: Search your MS SQL 2012 ISO for the installer, i.e. F:\\1033_ENU_LP\\redist\\VisualStudioShell\\VSSetup Digging Further cmd.exe echo %TEMP% C:\\Users\\<user>\\AppData\\Local\\Temp VS Install Log C:\\Users\\<user>\\AppData\\Local\\Temp\\dd_install_vs_vstscore_100.txt Unable to retrieve the install directory for Microsoft Visual Studio Performance Collection Tools for v4.0 VS70pgui: ***ERRORLOG EVENT*** : Unable to retrieve the install directory for Microsoft Visual Studio Performance Collection Tools for v4.0 in COptionsPage::IsGoodAllComponenentsPath vs70uimgr: Entering DisplayMessage() method. vs70uimgr: DisplayMessage_START:A selected drive is no longer valid. Please review your installation path settings before continuing with setup.",
    "severity": "medium",
    "tags": [
      "visual-studio-2012",
      "installation"
    ],
    "metadata": {
      "stackoverflow_question_id": "28115763",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1571,
      "stackoverflow_creation_date": "2015-01-23T17:50:03.430Z"
    },
    "idempotency_key": "stackoverflow-28115763",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Tycho: P2 Repo mirror with platform filter",
    "body": "i'm developing an Eclipse RCP application composed by several plugins and features. Among other things, features also provide platform-dependent native libraries by means of root files. I succesfully managed to package my application and create a P2 repository using Tycho. Now i'm trying to create a copy of the repository that should only contain artifacts for the win32 x86 platform. Following the instructions at this link https://wiki.eclipse.org/Tycho/Additional_Tools#mirror_goal, I tried to use Tycho's mirror goal. Here's the pom file I wrote: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <project> <modelVersion>4.0.0</modelVersion> <artifactId>mirror</artifactId> <groupId>group</groupId> <version>1.0.0-SNAPSHOT</version> <name>Win32 Mirror</name> <packaging>pom</packaging> <properties> <tycho-version>0.22.0</tycho-version> <tycho-extras-version>0.22.0</tycho-extras-version> <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding> </properties> <build> <plugins> <plugin> <groupId>org.eclipse.tycho.extras</groupId> <artifactId>tycho-p2-extras-plugin</artifactId> <version>${tycho-version}</version> <executions> <execution> <phase>prepare-package</phase> <goals> <goal>mirror</goal> </goals> </execution> </executions> <configuration> <source> <!-- Full Repository --> <repository> <url>${project.baseUri}/full_repository/</url> <layout>p2</layout> </repository> </source> <filter> <osgi.os>win32</osgi.os> <osgi.ws>win32</osgi.ws> <osgi.arch>x86</osgi.arch> </filter> </configuration> </plugin> </plugins> </build> </project> However, when I try to create the mirror, I get the following error: Failed to execute goal org.eclipse.tycho.extras:tycho-p2-extras-plugin:0.22.0:mirror (default) on project mirror: Error during mirroring: Mirroring failed: Problems resolving provisioning plan. [my.feature_root.gtk.linux.x86_64 1.0.0.201501291243 cannot be installed in this environment because its filter is not applicable.] As you can see, Tycho fails to create the mirror when it encounters a binary feature root file for an architecture other than win32 x86 in the original repository. Do you have any advice on how to create a P2 repository mirror that only targets the desired architecture?",
    "code": "&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;mirror&lt;/artifactId&gt;\n    &lt;groupId&gt;group&lt;/groupId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Win32 Mirror&lt;/name&gt;\n\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;tycho-version&gt;0.22.0&lt;/tycho-version&gt;\n        &lt;tycho-extras-version&gt;0.22.0&lt;/tycho-extras-version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.eclipse.tycho.extras&lt;/groupId&gt;\n                &lt;artifactId&gt;tycho-p2-extras-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${tycho-version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;mirror&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;\n                        &lt;!-- Full Repository --&gt;\n                        &lt;repository&gt;\n                            &lt;url&gt;${project.baseUri}/full_repository/&lt;/url&gt;\n                            &lt;layout&gt;p2&lt;/layout&gt;\n                        &lt;/repository&gt;\n                    &lt;/source&gt;\n\n                    &lt;filter&gt;\n                        &lt;osgi.os&gt;win32&lt;/osgi.os&gt;\n                        &lt;osgi.ws&gt;win32&lt;/osgi.ws&gt;\n                        &lt;osgi.arch&gt;x86&lt;/osgi.arch&gt;\n                    &lt;/filter&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt; \n\n\nFailed to execute goal org.eclipse.tycho.extras:tycho-p2-extras-plugin:0.22.0:mirror (default)\non project mirror: Error during mirroring:\nMirroring failed: Problems resolving provisioning plan.\n[my.feature_root.gtk.linux.x86_64 1.0.0.201501291243 cannot be installed in\nthis environment because its filter is not applicable.]\n\n\nmirror\n\n# Solution Code:\n&lt;plugin&gt;\n  &lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;\n  &lt;artifactId&gt;target-platform-configuration&lt;/artifactId&gt;\n  &lt;version&gt;${tycho-version}&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;resolver&gt;p2&lt;/resolver&gt;\n      &lt;environments&gt;\n        &lt;environment&gt;\n          &lt;os&gt;win32&lt;/os&gt;\n          &lt;ws&gt;win32&lt;/ws&gt;\n          &lt;arch&gt;x86&lt;/arch&gt;\n        &lt;/environment&gt;\n      &lt;/environments&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n\n\n&lt;build&gt;&lt;plugins&gt;",
    "resolution": "If you are building the repository during the build of your application (e.g., via the tycho-p2-director-plugin, you could use Maven profiles to have different repositories built. One profile could use your standard setup (e.g., all platforms), another could use just a win32.x86-specific target platform, such as specified in the below snippet from the parent POM's <build><plugins> section. <plugin> <groupId>org.eclipse.tycho</groupId> <artifactId>target-platform-configuration</artifactId> <version>${tycho-version}</version> <configuration> <resolver>p2</resolver> <environments> <environment> <os>win32</os> <ws>win32</ws> <arch>x86</arch> </environment> </environments> </configuration> </plugin>",
    "severity": "low",
    "tags": [
      "eclipse",
      "eclipse-rcp",
      "tycho",
      "mirror",
      "p2"
    ],
    "metadata": {
      "stackoverflow_question_id": "28219018",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 828,
      "stackoverflow_creation_date": "2015-01-29T15:55:53.927Z"
    },
    "idempotency_key": "stackoverflow-28219018",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What does % (percent sign) do in Apache's httpd.conf?",
    "body": "Okay, I see the following example from http://httpd.apache.org/docs/2.0/misc/rewriteguide.html. Does %{ and } makes Apache interpret the string between these two deliminators as an Apache variable? Where is this functionality documented? RewriteCond %{HTTP_HOST} !^www\\.example\\.com [NC] RewriteCond %{HTTP_HOST} !^$ RewriteCond %{SERVER_PORT} !^80$ RewriteRule ^/?(.*) http://www.example.com:%{SERVER_PORT}/$1 [L,R,NE] Then, http://httpd.apache.org/docs/2.2/configuring.html describes using shell variables as ${ENVVAR}. What is the difference?",
    "code": "RewriteCond %{HTTP_HOST}   !^www\\.example\\.com [NC]\nRewriteCond %{HTTP_HOST}   !^$\nRewriteCond %{SERVER_PORT} !^80$\nRewriteRule ^/?(.*)         http://www.example.com:%{SERVER_PORT}/$1 [L,R,NE]\n\n\n%{\n\n}\n\n${ENVVAR}\n\n# Solution Code:\n%{NAME_OF_VARIABLE}\n\n%\n\nRewriteCond\n\n%{\n\n}\n\nNAME_OF_VARIABLE\n\n%{ENV:variable}\n\n${ENVVAR}\n\nENVVAR\n\nENVAR\n\n${ENVVAR}\n\n%{ENV:ENVAR}\n\nRewriteCond\n\n${mapname:key|default}\n\n:",
    "resolution": "The %{NAME_OF_VARIABLE} syntax (not simply the % symbol) is simply mod_rewrite's mechanism for accessing one of a predefined list of server variables (specific to mod_rewrite). As documented for the RewriteCond directive. Without the enclosing %{..} then NAME_OF_VARIABLE is seen as a literal string. To access environment variables in mod_rewrite you use the syntax: %{ENV:variable}. (The other syntax ${ENVVAR} also appears to work here, however, there is a difference in behaviour if ENVVAR does not exist. If ENVAR does not exist then ${ENVVAR} returns the literal string \"${ENVAR}\", whereas %{ENV:ENVAR} returns an empty string. There might also be a conflict if you are using rewrite maps in RewriteCond since a similar syntax is used. ie ${mapname:key|default} - although I would think the : should make this unambiguous?)",
    "severity": "medium",
    "tags": [
      "apache",
      "mod-rewrite"
    ],
    "metadata": {
      "stackoverflow_question_id": "28290355",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 2770,
      "stackoverflow_creation_date": "2015-02-03T02:27:48.537Z"
    },
    "idempotency_key": "stackoverflow-28290355",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to call Cordova plugin methods from Meteor?",
    "body": "New to Meteor here. I'm having trouble calling Cordova plugin methods from Meteor. Here is the plugin I care about: http://plugins.cordova.io/#/package/com.phonegap.plugins.barcodescanner I added the package in command line: meteor add cordova:com.phonegap.plugins.barcodescanner@2.0.1 Below is my javascript code. What ends up happening is on startup, the onCallback method loads, but no barcode scanning happens and neither onSuccess nor onError gets called. I've tried similar approach with other cordova packages but nothing works. I've also tried replacing 'cordova.plugins.barcodeScanner.scan' in the cordova.call with variations like all lower caps, 'barcodeScanner.scan', 'com.phonegap.plugins.barcodescanner.scan', etc., but to no avail. if (Meteor.isCordova) { Meteor.startup(function () { cordova = new Cordova(); cordova.addEventListener('deviceready', function() { function onSuccess(result) { alert(\"We got a barcode\\n\" + \"Result: \" + result.text + \"\\n\" + \"Format: \" + result.format + \"\\n\" + \"Cancelled: \" + result.cancelled); } function onError(error) { alert(\"Scanning failed: \" + error); } function onCallback(msg) { alert(\"Callback! \" + msg); } cordova.call( 'cordova.plugins.barcodeScanner.scan', [onSuccess, onError], onCallback); }); } }",
    "code": "if (Meteor.isCordova) {\n    Meteor.startup(function () {\n        cordova = new Cordova();\n        cordova.addEventListener('deviceready', function() {\n            function onSuccess(result) {\n                alert(\"We got a barcode\\n\" +\n                    \"Result: \" + result.text + \"\\n\" +\n                    \"Format: \" + result.format + \"\\n\" +\n                    \"Cancelled: \" + result.cancelled);      \n            }\n\n            function onError(error) {\n                alert(\"Scanning failed: \" + error);     \n            }\n\n            function onCallback(msg) {\n                alert(\"Callback! \" + msg);  \n            }\n\n            cordova.call(\n                'cordova.plugins.barcodeScanner.scan', \n                [onSuccess, onError], \n                onCallback);\n        });\n    }\n}\n\n\n# Solution Code:\nif(Meteor.isCordova){\n    Meteor.startup(function () {\n        cordova.plugins.barcodeScanner.scan(\n            function (result) {\n                alert(\"We got a barcode\\n\" +\n                  \"Result: \" + result.text + \"\\n\" +\n                  \"Format: \" + result.format + \"\\n\" +\n                  \"Cancelled: \" + result.cancelled);\n            }, \n            function (error) {\n                alert(\"Scanning failed: \" + error);\n            }\n        );\n    });\n}\n",
    "resolution": "In a Meteor Cordova App, Meteor.startup works as the deviceready event so you won't need the deviceready event. Also cordova is already defined in the global context so you won't need to try to creat a new instance. Finally, reading the plugin page on plugins.cordova.io explains that the plugin is namespaced to cordova.plugins.barcodeScanner. In your case the scan method on the barcodeScanner class is of particular interest. You can use it in meteor like below, but take note this will open the scanner when the app starts up from a full stop so it's probably better to invoke the scan method from something such as a click event. if(Meteor.isCordova){ Meteor.startup(function () { cordova.plugins.barcodeScanner.scan( function (result) { alert(\"We got a barcode\\n\" + \"Result: \" + result.text + \"\\n\" + \"Format: \" + result.format + \"\\n\" + \"Cancelled: \" + result.cancelled); }, function (error) { alert(\"Scanning failed: \" + error); } ); }); }",
    "severity": "medium",
    "tags": [
      "cordova",
      "meteor",
      "barcode"
    ],
    "metadata": {
      "stackoverflow_question_id": "28329689",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2724,
      "stackoverflow_creation_date": "2015-02-04T19:25:36.107Z"
    },
    "idempotency_key": "stackoverflow-28329689",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Map same Model class for multiple purposes in Entity FrameWork",
    "body": "I have two model classes one is ApplicationUser and the second is Appointment. Application user includes all users that use the application, in my case, Doctors and Data entry operators. Doctors will be assigned to each appointment and Data entry operators will be making this log to DB. I want to map both these users with appointment. I have tried something like this public class Appointment { public int AppointmentID { get; set; } public DateTime Date { get; set; } public int DoctorID { get; set; } [ForeignKey(\"DoctorID\")] public virtual ApplicationUser Doctor { get; set; } public int SystemUserID { get; set; } public virtual ApplicationUser SystemUser { get; set; } } public class ApplicationUser : IdentityUser { public string Email { get; set; } public string Mobile { get; set; } public string FirstNsme { get; set; } public string LastName { get; set; } } But this throws an error Appointment_Doctor_Target_Appointment_Doctor_Source: : The types of all properties in the Dependent Role of a referential constraint must be the same as the corresponding property types in the Principal Role. The type of property 'DoctorID' on entity 'Appointment' does not match the type of property 'Id' on entity 'ApplicationUser' in the referential constraint 'Appointment_Doctor'. Can anyone point out why this error is occurring and what is the correct approach to this problem?",
    "code": "public class Appointment\n{\n    public int AppointmentID { get; set; }\n    public DateTime Date { get; set; }\n\n    public int DoctorID { get; set; }\n    [ForeignKey(\"DoctorID\")]\n    public virtual ApplicationUser Doctor { get; set; }\n\n    public int SystemUserID { get; set; }\n    public virtual ApplicationUser SystemUser { get; set; }\n}\n\npublic class ApplicationUser : IdentityUser\n{\n    public string Email { get; set; }\n    public string Mobile { get; set; }\n    public string FirstNsme { get; set; }\n    public string LastName { get; set; }\n}\n\n\nApplicationUser\n\nAppointment\n\n# Solution Code:\npublic class Appointment\n{\n    [Key]\n    public int AppointmentID { get; set; }\n    public DateTime Date { get; set; }\n\n    public string DoctorID { get; set; }\n    [ForeignKey(\"DoctorID\")]\n    public virtual ApplicationUser Doctor { get; set; }\n\n    public string SystemUserID { get; set; }\n    [ForeignKey(\"SystemUserID \")]\n    public virtual ApplicationUser SystemUser { get; set; }\n}\n\n\nstring\n\nint",
    "resolution": "IdentityUser as all entities in asp.net identity entity framework have string as key. You are trying to map to an int. So either use Guids as foreign keys in your Appointment entity public class Appointment { [Key] public int AppointmentID { get; set; } public DateTime Date { get; set; } public string DoctorID { get; set; } [ForeignKey(\"DoctorID\")] public virtual ApplicationUser Doctor { get; set; } public string SystemUserID { get; set; } [ForeignKey(\"SystemUserID \")] public virtual ApplicationUser SystemUser { get; set; } } or change the type of Ids in identity classes to int. You can find help here.",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net",
      "asp.net-mvc",
      "entity-framework"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "aspnet",
      "stackoverflow_question_id": "28426452",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 13972,
      "stackoverflow_creation_date": "2015-02-10T07:41:54.117Z"
    },
    "idempotency_key": "stackoverflow-28426452",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Stubbing a get method using Sinon",
    "body": "I'm trying to stub the get method of an object with properties, Works fine: sinon.stub(input.model, 'get'); input.model.get.returns(10); but consider if we need to stub some specific property in the object, eg: input.model.get('yourValue') ↪ how this can be stubbed? Any idea?",
    "code": "sinon.stub(input.model, 'get');\ninput.model.get.returns(10);\n\n\ninput.model.get('yourValue') \n\n\n# Solution Code:\nsinon.stub(input.model, 'get').withArgs('yourValue').returns(10);\n\n\nclass Foo {\n  get bar() { \n    return 'yolo'; \n  }\n}\n\nconst myObj = new Foo();\n\nsinon.stub(myObj, 'bar').get(() =&gt; 'swaggins');\n\nmyObj.bar; // 'swaggins'\n",
    "resolution": "stub.withArgs() should do what you want. See http://sinonjs.org/docs/#stubs. sinon.stub(input.model, 'get').withArgs('yourValue').returns(10); Sinon has since changed this syntax: class Foo { get bar() { return 'yolo'; } } const myObj = new Foo(); sinon.stub(myObj, 'bar').get(() => 'swaggins'); myObj.bar; // 'swaggins'",
    "severity": "medium",
    "tags": [
      "javascript",
      "unit-testing",
      "sinon"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "28569962",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 8796,
      "stackoverflow_creation_date": "2015-02-17T19:52:13.970Z"
    },
    "idempotency_key": "stackoverflow-28569962",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "UIPageControl has clear background color but is still cutting out overlapping text view",
    "body": "I'm using a UIPageViewController where I have a button close to the page control indicator dots. In this first screenshot I've made the background color of the page control red to illustrate how the page control and button are overlapping: However if I change the background to be a clear color then the text within the button is still being chopped off at the bottom by the page indicator. I've additionally tried setting the page indicator's Opacity to NO but it makes no difference: The control is being configured like this: UIPageControl *pageControl = [UIPageControl appearance]; pageControl.pageIndicatorTintColor = [UIColor lightGrayColor]; pageControl.currentPageIndicatorTintColor = [UIColor blueColor]; pageControl.backgroundColor = [UIColor clearColor]; [pageControl setOpaque:NO];",
    "code": "UIPageControl *pageControl = [UIPageControl appearance];\npageControl.pageIndicatorTintColor = [UIColor lightGrayColor];\npageControl.currentPageIndicatorTintColor = [UIColor blueColor];\npageControl.backgroundColor = [UIColor clearColor];\n[pageControl setOpaque:NO];\n\n\n# Solution Code:\nUIPageControl *pageControl = [[UIPageControl alloc] init];;\npageControl.pageIndicatorTintColor = [UIColor lightGrayColor];\npageControl.currentPageIndicatorTintColor = [UIColor blueColor];\npageControl.backgroundColor = [UIColor clearColor];\n[pageControl setOpaque:NO];\npageControl.frame = CGRectMake(110,5,100,100);\npageControl.numberOfPages=3;\npageControl.currentPage=2;\n[self.view addSubview:pageControl];\n",
    "resolution": "You can use this code UIPageControl *pageControl = [[UIPageControl alloc] init];; pageControl.pageIndicatorTintColor = [UIColor lightGrayColor]; pageControl.currentPageIndicatorTintColor = [UIColor blueColor]; pageControl.backgroundColor = [UIColor clearColor]; [pageControl setOpaque:NO]; pageControl.frame = CGRectMake(110,5,100,100); pageControl.numberOfPages=3; pageControl.currentPage=2; [self.view addSubview:pageControl];",
    "severity": "medium",
    "tags": [
      "ios",
      "uipageviewcontroller"
    ],
    "metadata": {
      "stackoverflow_question_id": "28599040",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3210,
      "stackoverflow_creation_date": "2015-02-19T05:12:50.073Z"
    },
    "idempotency_key": "stackoverflow-28599040",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Entity Framework Cascade delete - FOREIGN KEY constraint",
    "body": "I have a problem with the following model: public class ProjectPage { [Key] public Guid Id { get; set; } public Guid? HeaderId { get; set; } public ProjectPage Header { get; set; } public Guid? FooterId { get; set; } public ProjectPage Footer { get; set; } } On model Creating I have this: modelBuilder.Entity<ProjectPage>().HasOptional(p => p.Header).WithMany().HasForeignKey(p => p.HeaderId).WillCascadeOnDelete(true); modelBuilder.Entity<ProjectPage>().HasOptional(p => p.Footer).WithMany().HasForeignKey(p => p.FooterId).WillCascadeOnDelete(true); But I can't update database. I've got the following error in the Package Manager console: Introducing FOREIGN KEY constraint 'FK_dbo.ProjectPages_dbo.ProjectPages_FooterId' on table 'ProjectPages' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints. Can somebody explain how to remove the Project Page (which can be Footer or Header in another Project Page)?",
    "code": "public class ProjectPage\n{\n    [Key]\n    public Guid Id { get; set; }\n\n    public Guid? HeaderId { get; set; }\n    public ProjectPage Header { get; set; }\n\n    public Guid? FooterId { get; set; }\n    public ProjectPage Footer { get; set; }\n}\n\n\nmodelBuilder.Entity&lt;ProjectPage&gt;().HasOptional(p =&gt; p.Header).WithMany().HasForeignKey(p =&gt; p.HeaderId).WillCascadeOnDelete(true);\nmodelBuilder.Entity&lt;ProjectPage&gt;().HasOptional(p =&gt; p.Footer).WithMany().HasForeignKey(p =&gt; p.FooterId).WillCascadeOnDelete(true);\n\n\n# Solution Code:\npublic override int SaveChanges()\n{\n  ProjectPages\n    .Local\n    .Where(r =&gt; r.Footer== null &amp;&amp; r.FooterId!=default(Guid)).Select(r=&gt;r.FooterId)\n    .ToList()\n    .ForEach(id =&gt; ProjectPages.Remove(ProjectPages.Find(id)));\n\n  return base.SaveChanges();\n}\n\n\n public override int SaveChanges()\n {\n  ProjectPages\n    .Local\n    .Where(r =&gt; r.Footer!= null &amp;&amp; r.FooterId!=default(Guid)).Select(r=&gt;r.Footer)\n    .ToList()\n    .ForEach(pp=&gt; ProjectPages.Remove(pp));\n\n  return base.SaveChanges();\n }\n\n\n public override int SaveChanges()\n {\n  ProjectPages\n    .Local\n    .Where(r =&gt; r.Footer!= null &amp;&amp; r.FooterId!=default(Guid)).Select(r=&gt;r.Footer)\n    .ToList()\n    .ForEach(pp=&gt; Entry(pp).State=EntityState.Deleted);\n\n  return base.SaveChanges();\n }\n\n\nProjectPage\n\nHeader\n\nFooter\n\nProjectPage\n\nHeader\n\nFooter\n\nFooter\n\nProjectPage\n\nFooter\n\nnull\n\nSaveChanges\n\nFooterId\n\ndefault(Guid)\n\nId\n\nGuid\n\nProjectPage\n\nFooterId\n\ndefault(Guid)\n\nSaveChanges\n\nFind",
    "resolution": "That exception is caused when you have multiple paths of cascade deletes that could end trying to delete the same row in DB. Imagine if you have ProjectPage with the same Header and Footer. When you try to delete that ProjectPage, due to the configuration of your relationships, there will be two paths trying to delete the same row in DB (one for the Header and another for the Footer). You can avoid such ambiguous delete paths by either disabling cascading delete in one of two relationship using Fluent API or by defining some of the relationships as optional (with a nullable foreign key, but you can not configure the relationship with cascade delete). Update Is true, you have both FK as optionals but both relationships have been configured with cascade delete, that's why EF is throwing that exception. My recommendation is set only one relationship with cascade delete. Regarding the other relationship, I'm afraid you you have to do it manually. If you, for example, choose Footer to be deleted manually, then when you are going to remove a ProjectPage ,you have to set the Footer property as null. The problem here is you could have orphans in your DB. To avoid that, you can override the SaveChanges on your Context to find and delete orphans: public override int SaveChanges() { ProjectPages .Local .Where(r => r.Footer== null && r.FooterId!=default(Guid)).Select(r=>r.FooterId) .ToList() .ForEach(id => ProjectPages.Remove(ProjectPages.Find(id))); return base.SaveChanges(); } Another way could be setting the FooterId with the default(Guid) value. Due to the type of your PK property (Id) is Guid and it is not Identity, you have to set that property before add a ProjectPage to the DB. So, setting the FooterId with default(Guid) is another way to mark that entity that you want to delete. If you choose this variant, your SaveChanges method could be as I show below: public override int SaveChanges() { ProjectPages .Local .Where(r => r.Footer!= null && r.FooterId!=default(Guid)).Select(r=>r.Footer) .ToList() .ForEach(pp=> ProjectPages.Remove(pp)); return base.SaveChanges(); } Or: public override int SaveChanges() { ProjectPages .Local .Where(r => r.Footer!= null && r.FooterId!=default(Guid)).Select(r=>r.Footer) .ToList() .ForEach(pp=> Entry(pp).State=EntityState.Deleted); return base.SaveChanges(); } This way you can avoid call the Find method.",
    "severity": "medium",
    "tags": [
      "c#",
      "entity-framework",
      "entity-framework-6"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "28748082",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1759,
      "stackoverflow_creation_date": "2015-02-26T16:48:48.010Z"
    },
    "idempotency_key": "stackoverflow-28748082",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "how to localize today extensions widget?",
    "body": "Our application has support for multiple region and languages. When I develop today extensions widget and read App Extension Programming Guide, I still can't find a localize solution. Even if I created the Localize.strings file like a normal Xcode project, define Localize.strings file like: \"scene_people_liked\"=\"%d people like\"; use : #define NSLocalizedString(key, comment) \\ [[NSBundle bundleWithPath:moLocalizedPath] localizedStringForKey:(key) value:@\"\" table:@\"Localizable\"] and call it with: NSLocalizedString(@\"scene_people_liked\", nil) , it still does't work. Anyone has an idea about this problem?",
    "code": "\"scene_people_liked\"=\"%d people like\";\n\n\n#define NSLocalizedString(key, comment) \\\n            [[NSBundle bundleWithPath:moLocalizedPath] localizedStringForKey:(key) value:@\"\" table:@\"Localizable\"]\n\n\nNSLocalizedString(@\"scene_people_liked\", nil)\n",
    "severity": "medium",
    "tags": [
      "ios",
      "ios8",
      "widget",
      "ios8-today-widget",
      "today-extension"
    ],
    "metadata": {
      "stackoverflow_question_id": "28824277",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3959,
      "stackoverflow_creation_date": "2015-03-03T04:46:18.663Z"
    },
    "idempotency_key": "stackoverflow-28824277",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do you change the offset for a leaflet popup using angular leaflet directive and geojson?",
    "body": "I'm using the angular-leaflet-directive and geojson to create map markers using leaflet and mapbox. The popups on the markers aren't correctly aligned on the marker. angular.extend($scope, { // Map data geojson: { data: $scope.filteredShows, onEachFeature: function (feature, layer) { layer.bindPopup(feature.properties.artist + '&nbsp;&middot;&nbsp;' + feature.properties.venue); layer.setIcon(defaultMarker); layer.on({ mouseover: pointMouseover, mouseout: pointMouseout }); layers[feature.properties.id] = layer; } } }); How do I change the offset on the markers?",
    "code": "angular.extend($scope, { // Map data\n                geojson: {\n                    data: $scope.filteredShows,\n                    onEachFeature: function (feature, layer) {\n                        layer.bindPopup(feature.properties.artist + '&amp;nbsp;&amp;middot;&amp;nbsp;' + feature.properties.venue);\n                        layer.setIcon(defaultMarker);\n                        layer.on({\n                            mouseover: pointMouseover,\n                            mouseout: pointMouseout\n                        });\n                        layers[feature.properties.id] = layer;\n                    }\n                }\n\n            });\n\n\n# Solution Code:\npopupAnchor: [-10, -10],\n\nL.Icon",
    "resolution": "Using popupAnchor: [-10, -10], in L.Icon. See http://leafletjs.com/reference.html#icon",
    "severity": "medium",
    "tags": [
      "leaflet",
      "angular-leaflet-directive"
    ],
    "metadata": {
      "stackoverflow_question_id": "28868974",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 7282,
      "stackoverflow_creation_date": "2015-03-05T02:28:53.567Z"
    },
    "idempotency_key": "stackoverflow-28868974",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Tail recursive binomial coefficient function in Haskell",
    "body": "I have a function that calculates the binomial coefficient in Haskell, it looks like this: binom :: Int -> Int -> Int binom n 0 = 1 binom 0 k = 0 binom n k = binom (n-1) (k-1) * n `div` k Is it possible to modify it and make it tail recursive?",
    "code": "binom :: Int -&gt; Int -&gt; Int\nbinom n 0 = 1\nbinom 0 k = 0\nbinom n k = binom (n-1) (k-1) * n `div` k\n\n\n# Solution Code:\nbinom :: Int -&gt; Int -&gt; Int\nbinom = loop 1 1\n  where\n    loop rn rd _ 0 = rn `div` rd\n    loop _  _  0 _ = 0\n    loop rn rd n k = loop (rn * n) (rd * k) (n-1) (k-1)\n\n\nInteger\n\nInt\n\nRational\n\nRational",
    "resolution": "Yes. There is a standard trick of using an accumulator to achieve tail recursion. In your case, you'll need two of them (or accumulate one rational number): binom :: Int -> Int -> Int binom = loop 1 1 where loop rn rd _ 0 = rn `div` rd loop _ _ 0 _ = 0 loop rn rd n k = loop (rn * n) (rd * k) (n-1) (k-1) Update: For large binomial coefficients, better use Integer as Int can easily overflow. Moreover in the above simple implementation both numerator and denominator can grow much larger than the final result. One simple solution is to accumulate Rational, another would be to divide both by their gcd at every step (which AFAIK Rational does behind the scenes).",
    "severity": "medium",
    "tags": [
      "haskell",
      "recursion",
      "tail-recursion",
      "binomial-coefficients"
    ],
    "metadata": {
      "stackoverflow_question_id": "28896626",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4563,
      "stackoverflow_creation_date": "2015-03-06T10:15:31.860Z"
    },
    "idempotency_key": "stackoverflow-28896626",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Need to sum rows of data across multiple columns of variables using dplyr",
    "body": "Others have asked similar questions, but their data structure was a bit different. My data set has multiple columns for both grouping variables and numeric data. I need to sum the numeric data per row and output the sum to a new data column. See example DATA set and the desired RESULTS tables below. I prefer to find a solution using the mutate function in dplyr. I primary use the dplyr package to manipulate my data sets. I can accomplish this task via gather, group_by, and sumarise functions in dplyr, but I am working with very large data sets which can cause “gathered” data tables to be in excess of 2,000,000 rows. Thanks in advance. DATA = data.frame(SITE = c(\"A\",\"A\",\"A\",\"A\",\"B\",\"B\",\"B\",\"C\",\"C\"), DATE = c(\"1\",\"1\",\"2\",\"2\",\"3\",\"3\",\"3\",\"4\",\"4\"), STUFF = c(1, 2, 30, 40, 100, 200, 300, 5000, 6000), STUFF2 = c(2, 4, 60, 80, 200, 400, 600, 10000, 12000)) RESULT = data.frame(SITE = c(\"A\",\"A\",\"A\",\"A\",\"B\",\"B\",\"B\",\"C\",\"C\"), DATE = c(\"1\",\"1\",\"2\",\"2\",\"3\",\"3\",\"3\",\"4\",\"4\"), STUFF = c(1, 2, 30, 40, 100, 200, 300, 5000, 6000), STUFF2 = c(2, 4, 60, 80, 200, 400, 600, 10000, 12000), SUM_STUFF = c(3, 6, 90, 120, 300, 600, 900, 15000, 18000))",
    "code": "DATA = data.frame(SITE = c(\"A\",\"A\",\"A\",\"A\",\"B\",\"B\",\"B\",\"C\",\"C\"), \n                  DATE = c(\"1\",\"1\",\"2\",\"2\",\"3\",\"3\",\"3\",\"4\",\"4\"), \n                  STUFF = c(1, 2, 30, 40, 100, 200, 300, 5000, 6000),\n                  STUFF2 = c(2, 4, 60, 80, 200, 400, 600, 10000, 12000))\n\nRESULT = data.frame(SITE = c(\"A\",\"A\",\"A\",\"A\",\"B\",\"B\",\"B\",\"C\",\"C\"), \n                    DATE = c(\"1\",\"1\",\"2\",\"2\",\"3\",\"3\",\"3\",\"4\",\"4\"), \n                    STUFF = c(1, 2, 30, 40, 100, 200, 300, 5000, 6000),\n                    STUFF2 = c(2, 4, 60, 80, 200, 400, 600, 10000, 12000),\n                    SUM_STUFF = c(3, 6, 90, 120, 300, 600, 900, 15000, 18000))\n\n\nDATA\n\nRESULTS\n\nmutate\n\ndplyr\n\ndplyr\n\ngather\n\ngroup_by\n\nsumarise\n\ndplyr\n\n# Solution Code:\nRESULT &lt;- DATA %&gt;%\n  rowwise() %&gt;%\n  mutate(SUM_STUFF = sum(STUFF,STUFF2))\n\n\n&gt; RESULT\nSource: local data frame [9 x 5]\nGroups: &lt;by row&gt;\n\n    SITE   DATE STUFF STUFF2 SUM_STUFF\n  (fctr) (fctr) (dbl)  (dbl)     (dbl)\n1      A      1     1      2         3\n2      A      1     2      4         6\n3      A      2    30     60        90\n4      A      2    40     80       120\n5      B      3   100    200       300\n6      B      3   200    400       600\n7      B      3   300    600       900\n8      C      4  5000  10000     15000\n9      C      4  6000  12000     18000\n\n\nrowwise\n\ndplyr",
    "resolution": "This looks like it meets your needs: RESULT <- DATA %>% rowwise() %>% mutate(SUM_STUFF = sum(STUFF,STUFF2)) The key is to use rowwise (which may have been added to to a version of dplyr after you asked your question). > RESULT Source: local data frame [9 x 5] Groups: <by row> SITE DATE STUFF STUFF2 SUM_STUFF (fctr) (fctr) (dbl) (dbl) (dbl) 1 A 1 1 2 3 2 A 1 2 4 6 3 A 2 30 60 90 4 A 2 40 80 120 5 B 3 100 200 300 6 B 3 200 400 600 7 B 3 300 600 900 8 C 4 5000 10000 15000 9 C 4 6000 12000 18000",
    "severity": "medium",
    "tags": [
      "r"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "28976395",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 5592,
      "stackoverflow_creation_date": "2015-03-11T00:12:28.300Z"
    },
    "idempotency_key": "stackoverflow-28976395",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Error occurred configuring root project android",
    "body": "I don't understand the error message I got, or how to resolve it. When I am trying to build my project, I see the following error: FAILURE: Build failed with an exception. What went wrong: A problem occurred configuring root project 'android'. Could not resolve all dependencies for configuration ':classpath'. Could not resolve com.android.tools.build:gradle:1.0.0+. Required by: :android:unspecified Failed to list versions for com.android.tools.build:gradle. Unable to load Maven meta-data from https://repo1.maven.org/maven2/com/android/tools/build/gradle/maven-metadata.xml. Could not GET 'https://repo1.maven.org/maven2/com/android/tools/build/gradle/maven-metadata.xml'. The target server failed to respond Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. I'm using Cordova with the Ionic framework.",
    "code": "FAILURE: Build failed with an exception.\n\nWhat went wrong: A problem occurred configuring root project 'android'.\nCould not resolve all dependencies for configuration ':classpath'.\nCould not resolve com.android.tools.build:gradle:1.0.0+.\nRequired by:\n     :android:unspecified\n   Failed to list versions for com.android.tools.build:gradle.\n      Unable to load Maven meta-data from https://repo1.maven.org/maven2/com/android/tools/build/gradle/maven-metadata.xml.\n         Could not GET 'https://repo1.maven.org/maven2/com/android/tools/build/gradle/maven-metadata.xml'.\n            The target server failed to respond\n\nTry: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n",
    "severity": "medium",
    "tags": [
      "java",
      "cordova",
      "android-gradle-plugin"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "29076690",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 9324,
      "stackoverflow_creation_date": "2015-03-16T12:21:04.677Z"
    },
    "idempotency_key": "stackoverflow-29076690",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot modify a struct field from implementation: \"cannot borrow immutable borrowed content as mutable\"",
    "body": "I'm trying to implement an iterator which will yield prime numbers. I store already found prime numbers in a Vec<u64>. Here's my implementation: struct Primes { primes: Vec<u64>, } impl Primes { fn new() -> Primes { Primes { primes: vec!(2, 3) } } fn iter(&self) -> PrimesIterator { PrimesIterator { primes: &self.primes, index : 0 } } } struct PrimesIterator<'a> { primes: & 'a Vec<u64>, index: usize, } impl<'a> Iterator for PrimesIterator<'a> { type Item = u64; fn next(&mut self) -> Option<u64> { if self.index < self.primes.len() { let result = self.primes[self.index]; self.index += 1; Some(result) } else { let mut n = *self.primes.last().unwrap(); loop { n += 2; if is_prime(self.primes, n) { self.primes.push(n); self.index += 1; return Some(n); } } } } } fn is_prime(primes: &[u64], n: u64) -> bool { for &p in primes.iter() { if n % p == 0 { return false; } if p * p > n { return true; } } return false; } but when I'm trying to compile it, I'm getting the following error: main.rs: error: cannot borrow immutable borrowed content `*self.primes` as mutable main.rs: self.primes.push(n); I declared self as &mut so I don't really understand what's wrong here and how to fix that.",
    "code": "struct Primes {\n    primes: Vec&lt;u64&gt;,\n}\n\nimpl Primes {\n    fn new() -&gt; Primes {\n        Primes { primes: vec!(2, 3) }\n    }\n\n    fn iter(&amp;self) -&gt; PrimesIterator {\n        PrimesIterator { primes: &amp;self.primes, index : 0 }\n    }\n}\n\nstruct PrimesIterator&lt;'a&gt; {\n    primes: &amp; 'a Vec&lt;u64&gt;,\n    index: usize,\n}\n\nimpl&lt;'a&gt; Iterator for PrimesIterator&lt;'a&gt; {\n    type Item = u64;\n\n    fn next(&amp;mut self) -&gt; Option&lt;u64&gt; {\n        if self.index &lt; self.primes.len() {\n            let result = self.primes[self.index];\n            self.index += 1;\n            Some(result)\n        } else {\n            let mut n = *self.primes.last().unwrap();\n            loop {\n                n += 2;\n                if is_prime(self.primes, n) {\n                    self.primes.push(n);\n                    self.index += 1;\n                    return Some(n);\n                }\n            }\n        }\n    }\n}\n\nfn is_prime(primes: &amp;[u64], n: u64) -&gt; bool {\n    for &amp;p in primes.iter() {\n        if n % p == 0 {\n            return false;\n        }\n        if p * p &gt; n {\n            return true;\n        }\n    }\n    return false;\n}\n\n\nmain.rs: error: cannot borrow immutable borrowed content `*self.primes` as mutable\nmain.rs:                     self.primes.push(n);\n\n\nVec&lt;u64&gt;\n\n# Solution Code:\nstruct PrimesIterator&lt;'a&gt; {\n    primes: &amp;'a mut Vec&lt;u64&gt;,\n    index: usize,\n}\n\n\nimpl Primes {\n    fn new() -&gt; Primes {\n        Primes { primes: vec!(2, 3) }\n    }\n\n    fn iter(&amp;mut self) -&gt; PrimesIterator {\n        PrimesIterator { primes: &amp;mut self.primes, index : 0 }\n    }\n}\n\n\nPrimesIterator\n\nVec&lt;u64&gt;\n\niter()",
    "resolution": "Your PrimesIterator type contains a non-mutable reference to a Vec<u64>. You need to declare it as a mutable reference: struct PrimesIterator<'a> { primes: &'a mut Vec<u64>, index: usize, } This will of course require you to also modify the iter() function to make sure it passes a mutable reference: impl Primes { fn new() -> Primes { Primes { primes: vec!(2, 3) } } fn iter(&mut self) -> PrimesIterator { PrimesIterator { primes: &mut self.primes, index : 0 } } }",
    "severity": "medium",
    "tags": [
      "rust"
    ],
    "metadata": {
      "language": "rust",
      "stackoverflow_question_id": "29141637",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4815,
      "stackoverflow_creation_date": "2015-03-19T10:04:46.853Z"
    },
    "idempotency_key": "stackoverflow-29141637",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Hide an entry from the TOC (table of contents) in Jekyll",
    "body": "I have a site that has a lot of markdown files sorted into appropriate folders. Jekyll creates their HTML versions and the TOC (table of contents) automatically. In the _config.yml file I can rename some folders, rearrange them (e.g., if I don't want them sorted alphabetically). I went through their documentation (http://jekyllrb.com/docs/home/) and I did not see a way to hide a file/folder from the TOC. I hope I have missed something. What I want is to hide some folders and files from the TOC, but keep them live so people with the correct URL can still read the articles. As to why - legacy stuff I don't want people to find by themselves, but old links must still work and I must keep the information online. Thus, I cannot use the published: false approach in the heading of the markdown file itself, as this will bring it offline. Here is an example of my config file: \"someFolderWithChildren\": title: \"Name of my folder\" position: 10 \"someFolderWithChildren/child-folder-I-want-hidden\": title: \"hidden folder 1\" published: false visible: false noToc: true hidden: true # these did not work (I admit to guessing in frustration a lot) \"someFolderWithChildren/another-folder-I-want-hidden\": title: \"hidden folder 2\" position: 8 \"someFolderWithChildren/folder-i-want-in-the-toc\": title: \"some live folder\" position: 1 \"someFolderWithChildren/folder-i-want-in-the-toc/child-folder-i-want live\": title: \"yet another live foder\" position: 0 I really hope someone can point me in the right direction. EDIT: to answer the comment and answer - I do not use posts, I am afraid, I am tied with other types of content. Further digging showed that the TOC tree is actually a custom JS widget and it seems I need to look into the way its data source is generated by the existing plugins. Thank you for your assistance and your time.",
    "code": "    \"someFolderWithChildren\":\n        title: \"Name of my folder\"\n        position: 10\n    \"someFolderWithChildren/child-folder-I-want-hidden\":\n        title: \"hidden folder 1\"\n\n        published: false\n        visible: false\n        noToc: true\n        hidden: true    # these did not work (I admit to guessing in frustration a lot)\n    \"someFolderWithChildren/another-folder-I-want-hidden\":\n        title: \"hidden folder 2\"\n        position: 8\n    \"someFolderWithChildren/folder-i-want-in-the-toc\":\n        title: \"some live folder\"\n        position: 1\n    \"someFolderWithChildren/folder-i-want-in-the-toc/child-folder-i-want live\":\n        title: \"yet another live foder\"\n        position: 0\n\n\n_config.yml\n\npublished: false\n\n# Solution Code:\n{% assign posts = site.posts | where:\"hide\", \"false\" %}\n{% for post in posts %}\n  ...    \n\n\nindex.html\n\nhide:[true,false]\n\nhide:false",
    "resolution": "Well, depends what you exactly want. If you just want to have a unpaginated list of all your posts (TOC), then you a are fine and that can be done easily. But if you want a paginated list, you might be comfortable with a workaround. Without paginator In your index.html modify {% for post in site.posts %} to {% assign posts = site.posts | where:\"hide\", \"false\" %} {% for post in posts %} ... and add a entry hide:[true,false] in the yaml-header of your posts. You can work with front matter defaults so you just have to set hide:false in the posts you want to exclude. With paginator First of all, up to now (Jekyll 2.5.3) and to my knowledge there is no possibility to filter the output of the paginator without using a plugin. But as far, as i remember things might change in the upcoming versions of jekyll. I would recommend, to work with a collection of documents for the posts that should not show up. Collections are rendered like posts (if you pass the same layout to the collection), but since the paginator only works on posts your documents (posts) in a separate collection won't show up in the paginated list of posts as rendered by the paginator. I hope, i could help...",
    "severity": "medium",
    "tags": [
      "jekyll",
      "tableofcontents"
    ],
    "metadata": {
      "stackoverflow_question_id": "29519469",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1505,
      "stackoverflow_creation_date": "2015-04-08T15:53:02.027Z"
    },
    "idempotency_key": "stackoverflow-29519469",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Compiler Warning CS0067 : The event is never used",
    "body": "I have an event that I am using, so I don't really understand what this warning really means. Can someone clarify? public abstract class Actor<T> : Visual<T> where T : ActorDescription { #region Events /// <summary> /// Event occurs when the actor is dead /// </summary> public event Action Dead; #endregion /// <summary> /// Take damage if the actor hasn't taken damage within a time limit /// </summary> /// <param name=\"damage\">amount of damage</param> public void TakeDamage(int damage) { if (damage > 0 && Time.time > m_LastHitTimer + m_DamageHitDelay) { m_CurrentHealth -= damage; if (m_CurrentHealth <= 0) { m_CurrentHealth = 0; if (Dead != null) Dead(); } else StartCoroutine(TakeDamageOnSprite()); m_LastHitTimer = Time.time; } } In my other class, I register and unregister for the event: if (m_Player != null) m_Player.Dead += OnPlayerDead; if (m_Player != null) m_Player.Dead -= OnPlayerDead;",
    "code": "public abstract class Actor&lt;T&gt; : Visual&lt;T&gt; where T : ActorDescription\n{\n    #region Events\n    /// &lt;summary&gt;\n    /// Event occurs when the actor is dead\n    /// &lt;/summary&gt;\n    public event Action Dead;\n    #endregion\n\n/// &lt;summary&gt;\n    /// Take damage if the actor hasn't taken damage within a time limit\n    /// &lt;/summary&gt;\n    /// &lt;param name=\"damage\"&gt;amount of damage&lt;/param&gt;\n    public void TakeDamage(int damage)\n    {\n        if (damage &gt; 0 &amp;&amp; Time.time &gt; m_LastHitTimer + m_DamageHitDelay)\n        {\n            m_CurrentHealth -= damage;\n\n            if (m_CurrentHealth &lt;= 0)\n            {\n                m_CurrentHealth = 0;\n\n                if (Dead != null)\n                    Dead();\n            }\n            else\n                StartCoroutine(TakeDamageOnSprite());\n\n            m_LastHitTimer = Time.time;\n        }\n    }\n\n\n        if (m_Player != null)\n            m_Player.Dead += OnPlayerDead;\n\n        if (m_Player != null)\n            m_Player.Dead -= OnPlayerDead;\n\n\n# Solution Code:\npublic abstract event Action Dead;\n\n\npublic override event Action Dead;\n\n\npublic override event Action Dead\n{\n    add { }\n    remove { }\n}\n\n\nActor&lt;T&gt;\n\nActor&lt;T&gt;\n\nActor&lt;T&gt;\n\nadd\n\nremove",
    "resolution": "Since the class Actor<T> is abstract, and no code inside Actor<T> raises the event, you can make the event abstract: public abstract event Action Dead; Then in subclass(es) which inherit from Actor<T>, you override the event: public override event Action Dead; If a subclass doesn't actually raise the event, then you can suppress the warning by giving the event empty add and remove methods (see this blog post). public override event Action Dead { add { } remove { } }",
    "severity": "high",
    "tags": [
      "c#",
      "events"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "29596781",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 12098,
      "stackoverflow_creation_date": "2015-04-13T01:48:26.740Z"
    },
    "idempotency_key": "stackoverflow-29596781",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Using UISearchController with UINavigationController",
    "body": "I'm having the same problem as here, which doesn't have any answers. (Setting searchController.active to false clears out the search text, which I don't want.) I want to use a UISearchController so that users can search through the list of items in my UITableView. I have a show segue hooked up in the Interface Builder that triggers when the table view's cell is selected. The problem is that if the user searches for something and then clicks on a cell of the table, when it segues to the new view, the search bar just sits there. Ideally, I would like the navigation bar to be \"replaced\" by the search bar while the user is searching, then have the navigation bar return when the user clicks on a cell, and then have the search bar come back when the user clicks the \"Back\" button. (This is the way the now-deprecated UISearchDisplayController would work.) How can I accomplish this? Here is the controller for my table view. class ItemSearchViewController: UITableViewController, UISearchResultsUpdating { var searchController: UISearchController? let itemList = [ItemList(category:\"Chocolate\", name:\"chocolate Bar\", price: 1234), ItemList(category:\"Chocolate\", name:\"chocolate Chip\", price: 1234), ItemList(category:\"Chocolate\", name:\"dark chocolate\", price: 1234), ItemList(category:\"Hard\", name:\"lollipop\", price: 1234), ItemList(category:\"Hard\", name:\"candy cane\", price: 1234), ItemList(category:\"Hard\", name:\"jaw breaker\", price: 1234), ItemList(category:\"Other\", name:\"caramel\", price: 1234), ItemList(category:\"Other\", name:\"sour chew\", price: 1234), ItemList(category:\"Other\", name:\"gummi bear\", price: 1234)] var filteredList : [ItemList] = [] override func viewDidLoad() { super.viewDidLoad() self.title = \"Item Search\" self.tableView.delegate = self self.tableView.dataSource = self self.searchController = UISearchController(searchResultsController: nil) self.searchController!.searchResultsUpdater = self self.searchController!.hidesNavigationBarDuringPresentation = true self.searchController!.dimsBackgroundDuringPresentation = false self.searchController!.searchBar.searchBarStyle = .Minimal self.searchController!.searchBar.sizeToFit() self.tableView.tableHeaderView = self.searchController!.searchBar } override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?) { if (segue.identifier == \"itemDetail\") { let itemDetailViewController = segue.destinationViewController as UIViewController let selectedCell = sender as UITableViewCell itemDetailViewController.title = selectedCell.textLabel?.text } } override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell { let cell = self.tableView.dequeueReusableCellWithIdentifier(\"Cell\") as UITableViewCell var item : ItemList if self.searchController!.active { item = self.filteredList[indexPath.row] } else { item = self.itemList[indexPath.row] } cell.textLabel!.text = item.name return cell } override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int { if (self.searchController!.active) { return self.filteredList.count } else { return self.itemList.count } } } extension ItemSearchViewController: UISearchResultsUpdating { func updateSearchResultsForSearchController(searchController: UISearchController) { if (searchController.searchBar.text.isEmpty) { self.filteredList = self.itemList } else { let searchPredicate = { (item: ItemList) -> Bool in item.name.rangeOfString(searchController.searchBar.text, options: .CaseInsensitiveSearch) != nil } self.filteredList = self.itemList.filter(searchPredicate) } self.tableView.reloadData() } }",
    "code": "class ItemSearchViewController: UITableViewController, UISearchResultsUpdating\n{\n    var searchController: UISearchController?\n\n    let itemList = [ItemList(category:\"Chocolate\", name:\"chocolate Bar\", price: 1234),\n    ItemList(category:\"Chocolate\", name:\"chocolate Chip\", price: 1234),\n    ItemList(category:\"Chocolate\", name:\"dark chocolate\", price: 1234),\n    ItemList(category:\"Hard\", name:\"lollipop\", price: 1234),\n    ItemList(category:\"Hard\", name:\"candy cane\", price: 1234),\n    ItemList(category:\"Hard\", name:\"jaw breaker\", price: 1234),\n    ItemList(category:\"Other\", name:\"caramel\", price: 1234),\n    ItemList(category:\"Other\", name:\"sour chew\", price: 1234),\n    ItemList(category:\"Other\", name:\"gummi bear\", price: 1234)]\n\n    var filteredList : [ItemList] = []\n\n    override func viewDidLoad()\n    {\n        super.viewDidLoad()\n\n        self.title = \"Item Search\"\n        self.tableView.delegate = self\n        self.tableView.dataSource = self\n\n        self.searchController = UISearchController(searchResultsController: nil)\n        self.searchController!.searchResultsUpdater = self\n        self.searchController!.hidesNavigationBarDuringPresentation = true\n        self.searchController!.dimsBackgroundDuringPresentation = false\n        self.searchController!.searchBar.searchBarStyle = .Minimal\n        self.searchController!.searchBar.sizeToFit()\n        self.tableView.tableHeaderView = self.searchController!.searchBar  \n    }\n\n    override func prepareForSegue(segue: UIStoryboardSegue, sender: AnyObject?)\n    {\n        if (segue.identifier == \"itemDetail\")\n        {\n            let itemDetailViewController = segue.destinationViewController as UIViewController\n            let selectedCell = sender as UITableViewCell\n            itemDetailViewController.title = selectedCell.textLabel?.text\n        }\n    }\n\n    override func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell\n    {\n        let cell = self.tableView.dequeueReusableCellWithIdentifier(\"Cell\") as UITableViewCell\n        var item : ItemList\n\n        if self.searchController!.active\n        {\n            item = self.filteredList[indexPath.row]\n        }\n        else\n        {\n            item = self.itemList[indexPath.row]\n        }\n\n        cell.textLabel!.text = item.name\n        return cell\n}\n\n    override func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int\n    {\n        if (self.searchController!.active)\n        {\n            return self.filteredList.count\n        }\n        else\n        {\n            return self.itemList.count\n        }\n    }\n}\n\nextension ItemSearchViewController: UISearchResultsUpdating\n{\n    func updateSearchResultsForSearchController(searchController: UISearchController)\n    {\n        if (searchController.searchBar.text.isEmpty)\n        {\n            self.filteredList = self.itemList\n        }\n        else\n        {\n            let searchPredicate =\n            {\n                (item: ItemList) -&gt; Bool in\n                item.name.rangeOfString(searchController.searchBar.text, options: .CaseInsensitiveSearch) != nil\n            }\n            self.filteredList = self.itemList.filter(searchPredicate)\n        }\n        self.tableView.reloadData()\n    }\n}\n\n\nsearchController.active\n\nfalse\n\n# Solution Code:\ndefinesPresentationContext = true\n\n\nviewDidLoad()",
    "resolution": "Add this line in viewDidLoad() definesPresentationContext = true From the documentation for definesPresentationContext A Boolean value that indicates whether this view controller's view is covered when the view controller or one of its descendants presents a view controller. Discussion When a view controller is presented, iOS starts with the presenting view controller and asks it if it wants to provide the presentation context. If the presenting view controller does not provide a context, then iOS asks the presenting view controller's parent view controller. iOS searches up through the view controller hierarchy until a view controller provides a presentation context. If no view controller offers to provide a context, the window's root view controller provides the presentation context. If a view controller returns true, then it provides a presentation context. The portion of the window covered by the view controller's view determines the size of the presented view controller's view. The default value for this property is false.",
    "severity": "medium",
    "tags": [
      "ios",
      "uitableview",
      "uinavigationcontroller",
      "segue",
      "uisearchcontroller"
    ],
    "metadata": {
      "stackoverflow_question_id": "29618959",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3273,
      "stackoverflow_creation_date": "2015-04-14T04:02:24.840Z"
    },
    "idempotency_key": "stackoverflow-29618959",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Infinite loop in EventQueue.isDispatchThread()",
    "body": "I have a Java program taking 100% cpu, but seemingly doing nothing. If I take a thread dump, there are 4 threads (out of a pool of 5) waiting to take a lock. \"Incoming WorkPool 5\" - Thread t@363 java.lang.Thread.State: WAITING at sun.misc.Unsafe.park(Native Method) - waiting to lock <7212149b> (a java.util.concurrent.locks.ReentrantLock$NonfairSync) owned by \"Incoming WorkPool 3\" t@354 at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186) at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834) at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867) at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197) at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214) at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290) at java.awt.EventQueue.isDispatchThreadImpl(EventQueue.java:1019) at java.awt.EventQueue.isDispatchThread(EventQueue.java:1014) The thread they are waiting for is RUNNABLE \"Incoming WorkPool 3\" - Thread t@354 java.lang.Thread.State: RUNNABLE at java.awt.EventQueue.isDispatchThreadImpl(EventQueue.java:1024) at java.awt.EventQueue.isDispatchThread(EventQueue.java:1014) This is JDK 7.0.25, so it seems one thread is stuck on EventQueue next = eq.nextQueue; while (next != null) { eq = next; next = eq.nextQueue; } There are two AWT EventQueue threads, trying to acquire the same pushpoplock. The VM runs as a service, so it shouldn't try to do AWT stuff, but it's done by a library I'm using. Any ideas? Can I prevent this from happening? Thanks!",
    "code": "\"Incoming WorkPool 5\" - Thread t@363\n   java.lang.Thread.State: WAITING\n    at sun.misc.Unsafe.park(Native Method)\n    - waiting to lock &lt;7212149b&gt; (a java.util.concurrent.locks.ReentrantLock$NonfairSync) owned by \"Incoming WorkPool 3\" t@354\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:186)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:834)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireQueued(AbstractQueuedSynchronizer.java:867)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer.acquire(AbstractQueuedSynchronizer.java:1197)\n    at java.util.concurrent.locks.ReentrantLock$NonfairSync.lock(ReentrantLock.java:214)\n    at java.util.concurrent.locks.ReentrantLock.lock(ReentrantLock.java:290)\n    at java.awt.EventQueue.isDispatchThreadImpl(EventQueue.java:1019)\n    at java.awt.EventQueue.isDispatchThread(EventQueue.java:1014)\n\n\n\"Incoming WorkPool 3\" - Thread t@354\n   java.lang.Thread.State: RUNNABLE\n    at java.awt.EventQueue.isDispatchThreadImpl(EventQueue.java:1024)\n    at java.awt.EventQueue.isDispatchThread(EventQueue.java:1014)\n\n\nEventQueue next = eq.nextQueue;\nwhile (next != null) {\n    eq = next;\n    next = eq.nextQueue;\n}\n\n\n# Solution Code:\npush(EventQueue newEventQueue)\n\nthis\n\nnextQueue\n\nnextQueue\n\nthis",
    "resolution": "Is there any possibility that push(EventQueue newEventQueue) is called by your application program and that pushes the same eventQueue? If yes, then, this and its nextQueue will be same objects and they will be running in an endless loop consuming CPU to 100%. From the stack trace its evident that at least one thread is running. So its not a question of DEADLOCK. From the 100% CPU consumption hint and its state as RUNNABLE, its evident its doing an infinite loop. The code can go into infinite loop if and only if the nextQueue has a value that's already in the chain (or this). It could very well be an application problem. Thanks.",
    "severity": "medium",
    "tags": [
      "java",
      "multithreading",
      "swing",
      "awt",
      "event-dispatch-thread"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "29628482",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 1111,
      "stackoverflow_creation_date": "2015-04-14T13:21:36.813Z"
    },
    "idempotency_key": "stackoverflow-29628482",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get Value for selected Item in ListPicker",
    "body": "I have a listpicker which showing item names. When selecting a item I want to get the Item Id for that selected Item.How can I do That? <toolkit:ListPicker x:Name=\"lstItem\" FullModeHeader=\"Item\" SelectionMode=\"Single\" ItemsSource=\"{Binding getItems}\" ExpansionMode=\"FullscreenOnly\" Margin=\"12,5,10,0\" Grid.Row=\"0\" Grid.Column=\"1\" Background=\"White\" FontSize=\"21\" Header=\"\" Foreground=\"Black\" BorderThickness=\"0\" Grid.ColumnSpan=\"2\" SelectionChanged=\"lstItem_SelectionChanged\" > <toolkit:ListPicker.ItemTemplate> <DataTemplate> <TextBlock Text=\"{Binding Name}\" /> </DataTemplate> </toolkit:ListPicker.ItemTemplate> <toolkit:ListPicker.FullModeItemTemplate> <DataTemplate> <StackPanel Orientation=\"Horizontal\" Margin=\"16 15 0 15\"> <TextBlock Text=\"{Binding Name}\" Margin=\"0 0 0 0\" FontSize=\"25\" FontFamily=\"{StaticResource PhoneFontFamilyLight}\"/> </StackPanel> </DataTemplate> </toolkit:ListPicker.FullModeItemTemplate> </toolkit:ListPicker> In C# Code I'm binding both to listpicker.This data directly I'm binding to list picker. public ObservableCollection<Items> bindItems() { listItems.Clear(); //int i = Common.intCustomerId; //&& btypes.ChqRtnPaymentNo == \"\" var itemlist = from DailyItemStock DailyItm in APPCommon.SFADB join ItemMaster IM in APPCommon.SFADB on DailyItm.ItemMasterID equals IM.ID where DailyItm.StockDate == System.DateTime.Today select new { DailyItm.ItemMasterID, DailyItm.BatchNo, IM.Name }; listItems.Add(new Items() { ItemMasterID = 0, Name = \"Select One\" }); foreach (var lists in itemlist) { listItems.Add(new Items() { ItemMasterID = lists.ItemMasterID, BatchNo = lists.BatchNo, Name = lists.Name, }); } itemlist = null; return listItems; }",
    "code": "&lt;toolkit:ListPicker x:Name=\"lstItem\" \n                                            FullModeHeader=\"Item\"\n                                            SelectionMode=\"Single\" \n                                            ItemsSource=\"{Binding getItems}\"  \n                                            ExpansionMode=\"FullscreenOnly\"  \n                                            Margin=\"12,5,10,0\" \n                                            Grid.Row=\"0\" \n                                            Grid.Column=\"1\"\n\n                                            Background=\"White\"\n                                            FontSize=\"21\"\n                                            Header=\"\" \n                                            Foreground=\"Black\"\n                                            BorderThickness=\"0\" Grid.ColumnSpan=\"2\" SelectionChanged=\"lstItem_SelectionChanged\"\n                                     &gt;\n                            &lt;toolkit:ListPicker.ItemTemplate&gt;\n                                &lt;DataTemplate&gt;\n                                    &lt;TextBlock Text=\"{Binding Name}\"  /&gt;                                        \n                                &lt;/DataTemplate&gt;                                    \n                            &lt;/toolkit:ListPicker.ItemTemplate&gt;\n                            &lt;toolkit:ListPicker.FullModeItemTemplate&gt;\n                                &lt;DataTemplate&gt;\n                                    &lt;StackPanel Orientation=\"Horizontal\" Margin=\"16 15 0 15\"&gt;\n                                        &lt;TextBlock Text=\"{Binding Name}\"\n                                   Margin=\"0 0 0 0\"\n                                   FontSize=\"25\" \n                                   FontFamily=\"{StaticResource PhoneFontFamilyLight}\"/&gt;\n                                    &lt;/StackPanel&gt;\n                                &lt;/DataTemplate&gt;\n                            &lt;/toolkit:ListPicker.FullModeItemTemplate&gt;\n                        &lt;/toolkit:ListPicker&gt;\n\n\npublic ObservableCollection&lt;Items&gt; bindItems()\n    {\n        listItems.Clear();\n        //int i = Common.intCustomerId; //&amp;&amp; btypes.ChqRtnPaymentNo == \"\"\n        var itemlist = from DailyItemStock DailyItm in APPCommon.SFADB\n                       join ItemMaster IM in APPCommon.SFADB on DailyItm.ItemMasterID equals IM.ID\n                       where DailyItm.StockDate == System.DateTime.Today\n                       select new\n                       {\n                           DailyItm.ItemMasterID,\n                           DailyItm.BatchNo,\n                           IM.Name\n                       };\n\n        listItems.Add(new Items() { ItemMasterID = 0, Name = \"Select One\" });\n        foreach (var lists in itemlist)\n        {\n            listItems.Add(new Items()\n            {\n                ItemMasterID = lists.ItemMasterID,\n                BatchNo = lists.BatchNo,\n                Name = lists.Name,                  \n            });\n        }\n\n        itemlist = null;\n        return listItems;\n    }\n\n\n# Solution Code:\nItems selectedItem = (Items)lstItem.SelectedItem;\nint id = selectedItem.ItemMasterID;\n",
    "resolution": "One possible way : Items selectedItem = (Items)lstItem.SelectedItem; int id = selectedItem.ItemMasterID;",
    "severity": "low",
    "tags": [
      "windows-phone-7",
      "windows-phone-8",
      "wp7test"
    ],
    "metadata": {
      "stackoverflow_question_id": "29690487",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 397,
      "stackoverflow_creation_date": "2015-04-17T04:42:37.730Z"
    },
    "idempotency_key": "stackoverflow-29690487",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MySQL flatten latin characters to their non-latin equivalents",
    "body": "I'm seeking for a MySQL function to convert every special latin character (not to be confused with latin1 charset - I'm using utf8) to its non-latin equivalent from the standard A-Z letters range. Here's what I literally want to achieve: 'Zażółć gęślą jaźń' --> 'Zazolc gesla jazn' I've tried many different stunts with CONVERT and CAST functions. No success so far. I've also googled very deeply, unfortunately every single problem with MySQL related to character conversion refers to the typical latin1 default collation which is not what I'm looking for. My far goal here is to convert product names to uri friendly strings on the fly, via TRIGGER ... AFTER INSERT, e.g. Crème Brûlée --> creme_brulee Those converted names will serve not only as SEO URIs but also as references to thumbnail's file names. Besides LOWER(@str) and REPLACE(@str, ' ', '_'), one of the steps is to flatten those latin characters. I'd prefer to keep those converted names in the database, although maybe you know some more proper way in the architectural point of view?",
    "code": "'Zażółć gęślą jaźń' --&gt; 'Zazolc gesla jazn'\n\n\nCrème Brûlée --&gt; creme_brulee\n\n\nMySQL\n\nlatin1\n\nA-Z\n\nCONVERT\n\nCAST\n\nlatin1 default collation\n\nTRIGGER ... AFTER INSERT\n\nLOWER(@str)\n\nREPLACE(@str, ' ', '_')\n\n# Solution Code:\n CREATE DEFINER = CURRENT_USER TRIGGER `product_BEFORE_INSERT` BEFORE INSERT ON `product` FOR EACH ROW\n\n # new value\n SET NEW.name_uri = LOWER(\n\n REPLACE( \n\n # ugly set of nested replaces\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE(\n\n # the original value\n NEW.name,\n\n # every accented latin character represented by its ASCII code\n # is replaced with normalized letter\n CHAR(195,128), 'A'),  CHAR(195,129), 'A'), CHAR(195,130), 'A'),  CHAR(195,131), 'A'), CHAR(195,132), 'A'),  CHAR(195,133), 'A'),\n CHAR(195,135), 'C'),  CHAR(195,136), 'E'), CHAR(195,137), 'E'),  CHAR(195,138), 'E'), CHAR(195,139), 'E'),  CHAR(195,140), 'I'),\n CHAR(195,141), 'I'),  CHAR(195,142), 'I'), CHAR(195,143), 'I'),  CHAR(195,145), 'N'), CHAR(195,146), 'O'),  CHAR(195,147), 'O'),\n CHAR(195,148), 'O'),  CHAR(195,149), 'O'), CHAR(195,150), 'O'),  CHAR(195,153), 'U'), CHAR(195,154), 'U'),  CHAR(195,155), 'U'),\n CHAR(195,156), 'U'),  CHAR(195,157), 'Y'), CHAR(195,159), 's'),  CHAR(195,160), 'a'), CHAR(195,161), 'a'),  CHAR(195,162), 'a'),\n CHAR(195,163), 'a'),  CHAR(195,164), 'a'), CHAR(195,165), 'a'),  CHAR(195,167), 'c'), CHAR(195,168), 'e'),  CHAR(195,169), 'e'),\n CHAR(195,170), 'e'),  CHAR(195,171), 'e'), CHAR(195,172), 'i'),  CHAR(195,173), 'i'), CHAR(195,174), 'i'),  CHAR(195,175), 'i'),\n CHAR(195,177), 'n'),  CHAR(195,178), 'o'), CHAR(195,179), 'o'),  CHAR(195,180), 'o'), CHAR(195,181), 'o'),  CHAR(195,182), 'o'),\n CHAR(195,182), 'o'),  CHAR(195,185), 'u'), CHAR(195,186), 'u'),  CHAR(195,187), 'u'), CHAR(195,188), 'u'),  CHAR(195,189), 'y'),\n CHAR(195,191), 'y'),\n # Decompositions for Latin Extended-A\n CHAR(196,128), 'A'),  CHAR(196,129), 'a'), CHAR(196,130), 'A'),  CHAR(196,131), 'a'), CHAR(196,132), 'A'),  CHAR(196,133), 'a'),\n CHAR(196,134), 'C'),  CHAR(196,135), 'c'), CHAR(196,136), 'C'),  CHAR(196,137), 'c'), CHAR(196,138), 'C'),  CHAR(196,139), 'c'),\n CHAR(196,140), 'C'),  CHAR(196,141), 'c'), CHAR(196,142), 'D'),  CHAR(196,143), 'd'), CHAR(196,144), 'D'),  CHAR(196,145), 'd'),\n CHAR(196,146), 'E'),  CHAR(196,147), 'e'), CHAR(196,148), 'E'),  CHAR(196,149), 'e'), CHAR(196,150), 'E'),  CHAR(196,151), 'e'),\n CHAR(196,152), 'E'),  CHAR(196,153), 'e'), CHAR(196,154), 'E'),  CHAR(196,155), 'e'), CHAR(196,156), 'G'),  CHAR(196,157), 'g'),\n CHAR(196,158), 'G'),  CHAR(196,159), 'g'), CHAR(196,160), 'G'),  CHAR(196,161), 'g'), CHAR(196,162), 'G'),  CHAR(196,163), 'g'),\n CHAR(196,164), 'H'),  CHAR(196,165), 'h'), CHAR(196,166), 'H'),  CHAR(196,167), 'h'), CHAR(196,168), 'I'),  CHAR(196,169), 'i'),\n CHAR(196,170), 'I'),  CHAR(196,171), 'i'), CHAR(196,172), 'I'),  CHAR(196,173), 'i'), CHAR(196,174), 'I'),  CHAR(196,175), 'i'),\n CHAR(196,176), 'I'),  CHAR(196,177), 'i'), CHAR(196,178), 'IJ'), CHAR(196,179), 'ij'), CHAR(196,180), 'J'),  CHAR(196,181), 'j'),\n CHAR(196,182), 'K'),  CHAR(196,183), 'k'), CHAR(196,184), 'k'),  CHAR(196,185), 'L'), CHAR(196,186), 'l'),  CHAR(196,187), 'L'),\n CHAR(196,188), 'l'),  CHAR(196,189), 'L'), CHAR(196,190), 'l'),  CHAR(196,191), 'L'), CHAR(197,128), 'l'),  CHAR(197,129), 'L'),\n CHAR(197,130), 'l'),  CHAR(197,131), 'N'), CHAR(197,132), 'n'),  CHAR(197,133), 'N'), CHAR(197,134), 'n'),  CHAR(197,135), 'N'),\n CHAR(197,136), 'n'),  CHAR(197,137), 'N'), CHAR(197,138), 'n'),  CHAR(197,139), 'N'), CHAR(197,140), 'O'),  CHAR(197,141), 'o'),\n CHAR(197,142), 'O'),  CHAR(197,143), 'o'), CHAR(197,144), 'O'),  CHAR(197,145), 'o'), CHAR(197,146), 'OE'), CHAR(197,147), 'oe'),\n CHAR(197,148), 'R'),  CHAR(197,149), 'r'), CHAR(197,150), 'R'),  CHAR(197,151), 'r'), CHAR(197,152), 'R'),  CHAR(197,153), 'r'),\n CHAR(197,154), 'S'),  CHAR(197,155), 's'), CHAR(197,156), 'S'),  CHAR(197,157), 's'), CHAR(197,158), 'S'),  CHAR(197,159), 's'),\n CHAR(197,160), 'S'),  CHAR(197,161), 's'), CHAR(197,162), 'T'),  CHAR(197,163), 't'), CHAR(197,164), 'T'),  CHAR(197,165), 't'),\n CHAR(197,166), 'T'),  CHAR(197,167), 't'), CHAR(197,168), 'U'),  CHAR(197,169), 'u'), CHAR(197,170), 'U'),  CHAR(197,171), 'u'),\n CHAR(197,172), 'U'),  CHAR(197,173), 'u'), CHAR(197,174), 'U'),  CHAR(197,175), 'u'), CHAR(197,176), 'U'),  CHAR(197,177), 'u'),\n CHAR(197,178), 'U'),  CHAR(197,179), 'u'), CHAR(197,180), 'W'),  CHAR(197,181), 'w'), CHAR(197,182), 'Y'),  CHAR(197,183), 'y'),\n CHAR(197,184), 'Y'),  CHAR(197,185), 'Z'), CHAR(197,186), 'z'),  CHAR(197,187), 'Z'), CHAR(197,188), 'z'),  CHAR(197,189), 'Z'),\n CHAR(197,190), 'z'),  CHAR(197,191), 's'),\n\n # Euro Sign\n CHAR(226,130,172), 'E'),\n # GBP (Pound) Sign\n CHAR(194,163), ''),\n 'Ä', 'Ae'), 'ä', 'ae'), 'Ü', 'Ue'), 'ü', 'ue'),\n 'Ö', 'Oe'), 'ö', 'oe'), 'ß', 'ss'),\n # Norwegian characters\n 'Å', 'Aa'), 'Æ', 'Ae'), 'Ø', 'O'), 'æ', 'a'), 'ø', 'o'), 'å', 'aa')\n\n , ' ', '_'));\n\n\nPHP Doctrine's\n\nDoctrine_Inflector:unaccent\n\nMySQL\n\nREPLACE()\n\nMySQL\n\nTRIGGER",
    "resolution": "Well, Sami Kuhmonen's comment on my question practically depleted all possibilities. But I had to go with any working solution, so I decided to copy the PHP Doctrine's Doctrine_Inflector:unaccent method from GitHub. MySQL implementation definetely doesn't look handsome but I guess nesting REPLACE() functions is the only way to perform a multi-string-replacement in MySQL. Here's the whole TRIGGER: CREATE DEFINER = CURRENT_USER TRIGGER `product_BEFORE_INSERT` BEFORE INSERT ON `product` FOR EACH ROW # new value SET NEW.name_uri = LOWER( REPLACE( # ugly set of nested replaces REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( REPLACE( # the original value NEW.name, # every accented latin character represented by its ASCII code # is replaced with normalized letter CHAR(195,128), 'A'), CHAR(195,129), 'A'), CHAR(195,130), 'A'), CHAR(195,131), 'A'), CHAR(195,132), 'A'), CHAR(195,133), 'A'), CHAR(195,135), 'C'), CHAR(195,136), 'E'), CHAR(195,137), 'E'), CHAR(195,138), 'E'), CHAR(195,139), 'E'), CHAR(195,140), 'I'), CHAR(195,141), 'I'), CHAR(195,142), 'I'), CHAR(195,143), 'I'), CHAR(195,145), 'N'), CHAR(195,146), 'O'), CHAR(195,147), 'O'), CHAR(195,148), 'O'), CHAR(195,149), 'O'), CHAR(195,150), 'O'), CHAR(195,153), 'U'), CHAR(195,154), 'U'), CHAR(195,155), 'U'), CHAR(195,156), 'U'), CHAR(195,157), 'Y'), CHAR(195,159), 's'), CHAR(195,160), 'a'), CHAR(195,161), 'a'), CHAR(195,162), 'a'), CHAR(195,163), 'a'), CHAR(195,164), 'a'), CHAR(195,165), 'a'), CHAR(195,167), 'c'), CHAR(195,168), 'e'), CHAR(195,169), 'e'), CHAR(195,170), 'e'), CHAR(195,171), 'e'), CHAR(195,172), 'i'), CHAR(195,173), 'i'), CHAR(195,174), 'i'), CHAR(195,175), 'i'), CHAR(195,177), 'n'), CHAR(195,178), 'o'), CHAR(195,179), 'o'), CHAR(195,180), 'o'), CHAR(195,181), 'o'), CHAR(195,182), 'o'), CHAR(195,182), 'o'), CHAR(195,185), 'u'), CHAR(195,186), 'u'), CHAR(195,187), 'u'), CHAR(195,188), 'u'), CHAR(195,189), 'y'), CHAR(195,191), 'y'), # Decompositions for Latin Extended-A CHAR(196,128), 'A'), CHAR(196,129), 'a'), CHAR(196,130), 'A'), CHAR(196,131), 'a'), CHAR(196,132), 'A'), CHAR(196,133), 'a'), CHAR(196,134), 'C'), CHAR(196,135), 'c'), CHAR(196,136), 'C'), CHAR(196,137), 'c'), CHAR(196,138), 'C'), CHAR(196,139), 'c'), CHAR(196,140), 'C'), CHAR(196,141), 'c'), CHAR(196,142), 'D'), CHAR(196,143), 'd'), CHAR(196,144), 'D'), CHAR(196,145), 'd'), CHAR(196,146), 'E'), CHAR(196,147), 'e'), CHAR(196,148), 'E'), CHAR(196,149), 'e'), CHAR(196,150), 'E'), CHAR(196,151), 'e'), CHAR(196,152), 'E'), CHAR(196,153), 'e'), CHAR(196,154), 'E'), CHAR(196,155), 'e'), CHAR(196,156), 'G'), CHAR(196,157), 'g'), CHAR(196,158), 'G'), CHAR(196,159), 'g'), CHAR(196,160), 'G'), CHAR(196,161), 'g'), CHAR(196,162), 'G'), CHAR(196,163), 'g'), CHAR(196,164), 'H'), CHAR(196,165), 'h'), CHAR(196,166), 'H'), CHAR(196,167), 'h'), CHAR(196,168), 'I'), CHAR(196,169), 'i'), CHAR(196,170), 'I'), CHAR(196,171), 'i'), CHAR(196,172), 'I'), CHAR(196,173), 'i'), CHAR(196,174), 'I'), CHAR(196,175), 'i'), CHAR(196,176), 'I'), CHAR(196,177), 'i'), CHAR(196,178), 'IJ'), CHAR(196,179), 'ij'), CHAR(196,180), 'J'), CHAR(196,181), 'j'), CHAR(196,182), 'K'), CHAR(196,183), 'k'), CHAR(196,184), 'k'), CHAR(196,185), 'L'), CHAR(196,186), 'l'), CHAR(196,187), 'L'), CHAR(196,188), 'l'), CHAR(196,189), 'L'), CHAR(196,190), 'l'), CHAR(196,191), 'L'), CHAR(197,128), 'l'), CHAR(197,129), 'L'), CHAR(197,130), 'l'), CHAR(197,131), 'N'), CHAR(197,132), 'n'), CHAR(197,133), 'N'), CHAR(197,134), 'n'), CHAR(197,135), 'N'), CHAR(197,136), 'n'), CHAR(197,137), 'N'), CHAR(197,138), 'n'), CHAR(197,139), 'N'), CHAR(197,140), 'O'), CHAR(197,141), 'o'), CHAR(197,142), 'O'), CHAR(197,143), 'o'), CHAR(197,144), 'O'), CHAR(197,145), 'o'), CHAR(197,146), 'OE'), CHAR(197,147), 'oe'), CHAR(197,148), 'R'), CHAR(197,149), 'r'), CHAR(197,150), 'R'), CHAR(197,151), 'r'), CHAR(197,152), 'R'), CHAR(197,153), 'r'), CHAR(197,154), 'S'), CHAR(197,155), 's'), CHAR(197,156), 'S'), CHAR(197,157), 's'), CHAR(197,158), 'S'), CHAR(197,159), 's'), CHAR(197,160), 'S'), CHAR(197,161), 's'), CHAR(197,162), 'T'), CHAR(197,163), 't'), CHAR(197,164), 'T'), CHAR(197,165), 't'), CHAR(197,166), 'T'), CHAR(197,167), 't'), CHAR(197,168), 'U'), CHAR(197,169), 'u'), CHAR(197,170), 'U'), CHAR(197,171), 'u'), CHAR(197,172), 'U'), CHAR(197,173), 'u'), CHAR(197,174), 'U'), CHAR(197,175), 'u'), CHAR(197,176), 'U'), CHAR(197,177), 'u'), CHAR(197,178), 'U'), CHAR(197,179), 'u'), CHAR(197,180), 'W'), CHAR(197,181), 'w'), CHAR(197,182), 'Y'), CHAR(197,183), 'y'), CHAR(197,184), 'Y'), CHAR(197,185), 'Z'), CHAR(197,186), 'z'), CHAR(197,187), 'Z'), CHAR(197,188), 'z'), CHAR(197,189), 'Z'), CHAR(197,190), 'z'), CHAR(197,191), 's'), # Euro Sign CHAR(226,130,172), 'E'), # GBP (Pound) Sign CHAR(194,163), ''), 'Ä', 'Ae'), 'ä', 'ae'), 'Ü', 'Ue'), 'ü', 'ue'), 'Ö', 'Oe'), 'ö', 'oe'), 'ß', 'ss'), # Norwegian characters 'Å', 'Aa'), 'Æ', 'Ae'), 'Ø', 'O'), 'æ', 'a'), 'ø', 'o'), 'å', 'aa') , ' ', '_'));",
    "severity": "medium",
    "tags": [
      "mysql",
      "string-conversion",
      "latin"
    ],
    "metadata": {
      "stackoverflow_question_id": "29728450",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1246,
      "stackoverflow_creation_date": "2015-04-19T10:10:27.830Z"
    },
    "idempotency_key": "stackoverflow-29728450",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to move array elements to top if compared with string?",
    "body": "I have an array $result getting from mysql as follows Array ( [0] => Array ( [p_title] => Apple The New iPad (White, 64GB, WiFi) ) [1] => Array ( [p_title] => Apple ipad Mini/ipad Mini Retina Belkin Fastfit Bluetooth Wireless Key ) [2] => Array ( [p_title] => Apple ipad Air (16GB, WiFi + Cellular) ) ) and suppose I am getting sort by value in $sort_by variable. for ex. currently, $sort_by=\"Apple ipad\"; so I want to move each array elements who have p_title \"Apple ipad\" to top. so my output array should be; Array ( [0] => Array ( [p_title] => Apple ipad Air (16GB, WiFi + Cellular) ) [1] => Array ( [p_title] => Apple ipad Mini/ipad Mini Retina Belkin Fastfit Bluetooth Wireless Key ) [2] => Array ( [p_title] => Apple The New iPad (White, 64GB, WiFi) ) ) I am ready to edit the code either in mysql query or in php.",
    "code": "    Array\n(\n    [0] =&gt; Array\n        (\n            [p_title] =&gt; Apple The New iPad (White, 64GB, WiFi)\n        )\n    [1] =&gt; Array\n        (\n            [p_title] =&gt; Apple ipad Mini/ipad Mini Retina Belkin Fastfit Bluetooth Wireless Key\n        )\n    [2] =&gt; Array\n        (\n            [p_title] =&gt; Apple ipad Air (16GB, WiFi + Cellular)\n        )\n)\n\n\nArray\n(\n    [0] =&gt; Array\n        (\n            [p_title] =&gt; Apple ipad Air (16GB, WiFi + Cellular)\n        )\n    [1] =&gt; Array\n        (\n            [p_title] =&gt; Apple ipad Mini/ipad Mini Retina Belkin Fastfit Bluetooth Wireless Key\n        )\n    [2] =&gt; Array\n        (\n            [p_title] =&gt; Apple The New iPad (White, 64GB, WiFi)\n        )\n)\n\n\n$sort_by\n\n$sort_by=\"Apple ipad\";\n\n# Solution Code:\n function sortx($a, $b) {\n    if(strpos($a['p_title'],'Apple ipad')!==false){\n        return -1;\n    }\n    return 1;\n}\n\nusort($array, 'sortx');\n\n\nclass SortTitles{\n    public $string;\n    function sortx($a, $b) {\n        if(strpos($a['p_title'],$this-&gt;string)!==false){\n            return -1;\n        }\n        return 1;\n    }\n    public function sort_titles($array){\n        usort($array, 'self::sortx');\n        return $array;\n    }\n\n}\n$sort = new SortTitles;\n$sort-&gt;string = 'Apple ipad';\n$array = $sort-&gt;sort_titles($array);\n\n\nusort()\n\nusort()",
    "resolution": "Use usort(): function sortx($a, $b) { if(strpos($a['p_title'],'Apple ipad')!==false){ return -1; } return 1; } usort($array, 'sortx'); Whenever the preceding value will contain this string, it will be pushed towards the beginning of the array. If you want to use variable in usort() function, you need to use objects: class SortTitles{ public $string; function sortx($a, $b) { if(strpos($a['p_title'],$this->string)!==false){ return -1; } return 1; } public function sort_titles($array){ usort($array, 'self::sortx'); return $array; } } $sort = new SortTitles; $sort->string = 'Apple ipad'; $array = $sort->sort_titles($array);",
    "severity": "low",
    "tags": [
      "php",
      "mysql"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "29816243",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 365,
      "stackoverflow_creation_date": "2015-04-23T07:14:04.503Z"
    },
    "idempotency_key": "stackoverflow-29816243",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to do a git pull with an in-memory database in JGit?",
    "body": "I want to create a Java program, which connects to a certain Git repository, appends text to a file, commits and pushes the changes to that repository. Ideally, all of this should happen in the memory. I'm using JGit for interaction with Git: InMemoryRepository repo = new InMemoryRepository(new DfsRepositoryDescription()); Git git = new Git(repo); git.init().call(); PullCommand pull = git.pull(); StoredConfig config = git.getRepository().getConfig(); config.setString(\"remote\", \"origin\", \"url\", \"https://XXX\"); config.save(); PullResult result = pull.call(); The pull.call() results in the following exception: org.eclipse.jgit.api.errors.NoHeadException: Pull on repository without HEAD currently not supported at org.eclipse.jgit.api.PullCommand.call(PullCommand.java:191) How can I retrieve the contents of a repository into an in-memory JGit repository?",
    "code": "InMemoryRepository repo = new InMemoryRepository(new DfsRepositoryDescription());\nGit git = new Git(repo);\ngit.init().call();\nPullCommand pull = git.pull();\n\nStoredConfig config = git.getRepository().getConfig();\nconfig.setString(\"remote\", \"origin\", \"url\", \"https://XXX\");\nconfig.save();\n\nPullResult result = pull.call();\n\n\npull.call()",
    "severity": "medium",
    "tags": [
      "java",
      "git",
      "jgit"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "29846177",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1807,
      "stackoverflow_creation_date": "2015-04-24T11:21:20.037Z"
    },
    "idempotency_key": "stackoverflow-29846177",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Spring Data Rest (SDR) error: PersistentEntity must not be null",
    "body": "I'm working to expose my spring data repositories via SDR. When I navigate to my rest url (http://localhost:8080/trxes), I get an error: {\"cause\":null,\"message\":\"PersistentEntity must not be null!\"} On closer inspection of the spring data source, I see that the getRepositoryFactoryInfoFor() method returns empty repository information i.e. private RepositoryFactoryInformation<Object, Serializable> getRepositoryFactoryInfoFor(Class<?> domainClass) { Assert.notNull(domainClass, \"Domain class must not be null!\"); RepositoryFactoryInformation<Object, Serializable> repositoryInfo = repositoryFactoryInfos.get(ClassUtils .getUserClass(domainClass)); return repositoryInfo == null ? EMPTY_REPOSITORY_FACTORY_INFO : repositoryInfo; } The probable reason for my problem is that my persistent entities inherit from a single base class, and i'm using a single table strategy as follows: there is a TRX table in the database with a matching Trx Class. VariableIncome, VariableExpense, FixedIncome and FixedExpense all inherit from Trx and persist to the TRX table. @Entity @Table(name = \"TRX\") @Inheritance(strategy = InheritanceType.SINGLE_TABLE) @DiscriminatorColumn(name = \"TRX_TYPE\", discriminatorType = DiscriminatorType.STRING) abstract public class Trx extends AbstractPersistable<Long> { All the subclasses look similar to VariableIncome shown below: @Entity @DiscriminatorValue(\"VARIABLE_INCOME\") public class VariableIncome extends Trx { My repository setup is (no annotations on this class): public interface TrxRepository extends CrudRepository<Trx, Long> { I run the described setup using: @SpringBootApplication public class RestApplication { public static void main(String[] args) { SpringApplication.run(RestApplication.class, args); } } I guess what I'm looking for is whether there's a way of telling SDR (when it tries to deduce what my persistent classes are) that all the subclasses should map back to Trx?",
    "code": "private RepositoryFactoryInformation&lt;Object, Serializable&gt; getRepositoryFactoryInfoFor(Class&lt;?&gt; domainClass) {\n\n    Assert.notNull(domainClass, \"Domain class must not be null!\");\n\n    RepositoryFactoryInformation&lt;Object, Serializable&gt; repositoryInfo = repositoryFactoryInfos.get(ClassUtils\n            .getUserClass(domainClass));\n    return repositoryInfo == null ? EMPTY_REPOSITORY_FACTORY_INFO : repositoryInfo;\n}\n\n\n    @Entity\n    @Table(name = \"TRX\")\n    @Inheritance(strategy = InheritanceType.SINGLE_TABLE)\n    @DiscriminatorColumn(name = \"TRX_TYPE\", discriminatorType = DiscriminatorType.STRING)\n    abstract public class Trx extends AbstractPersistable&lt;Long&gt; {\n\n\n    @Entity\n    @DiscriminatorValue(\"VARIABLE_INCOME\")\n    public class VariableIncome extends Trx {\n\n\npublic interface TrxRepository extends CrudRepository&lt;Trx, Long&gt; {\n\n\n@SpringBootApplication\npublic class RestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RestApplication.class, args);\n    }\n\n}\n\n\n# Solution Code:\n@JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include = As.PROPERTY, property = \"@class\")\n",
    "resolution": "This is an issue on the \"REST\" side and less so on the \"DATA\" side. You need to use the Jackson annotations for type information. @JsonTypeInfo(use=JsonTypeInfo.Id.CLASS, include = As.PROPERTY, property = \"@class\") You can find more here, as there a few ways to structure this depending on your use case and preference.",
    "severity": "medium",
    "tags": [
      "spring-data-rest"
    ],
    "metadata": {
      "stackoverflow_question_id": "29876749",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 4254,
      "stackoverflow_creation_date": "2015-04-26T10:57:12.093Z"
    },
    "idempotency_key": "stackoverflow-29876749",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "RSpec: Expecting method to raise an error fails",
    "body": "I'm trying to test that an error is raised correctly under certain conditions. In this spec, the error is raised, but the test still fails. What am I doing wrong? require 'spec_helper' describe USBTeensyRenderer do context 'when the correct USB port name is not present' do it 'raises an error on instantiation' do expect(renderer = USBTeensyRenderer.new).to raise_error(USBInitError) end end end And the terminal output of 'bundle exec rspec': Failures: 1) USBTeensyRenderer when the correct USB port name is not present raises an error on instantiation Failure/Error: expect(renderer = USBTeensyRenderer.new).to raise_error(USBInitError) USBInitError: USB output couldn't be initialized # ./lib/ivan/view/renderers/usb_teensy_renderer.rb:9:in `rescue in initialize' # ./lib/ivan/view/renderers/usb_teensy_renderer.rb:6:in `initialize' # ./spec/models/usb_teensy_renderer_spec.rb:10:in `new' # ./spec/models/usb_teensy_renderer_spec.rb:10:in `block (3 levels) in <top (required)>' Finished in 0.00351 seconds (files took 0.11638 seconds to load) 8 examples, 1 failure Failed examples: rspec ./spec/models/usb_teensy_renderer_spec.rb:9 # USBTeensyRenderer when the correct USB port name is not present raises an error on instantiation Here's how the error is raised in the class: def initialize begin @sp = SerialPort.new(\"/dev/tty.usbmodem54121\", 9600, 8, 1) rescue raise USBInitError, \"USB output couldn't be initialized\" end @sp.get_modem_params() end",
    "code": "require 'spec_helper'\n\ndescribe USBTeensyRenderer do \n  context 'when the correct USB port name is not present' do\n    it 'raises an error on instantiation' do\n      expect(renderer = USBTeensyRenderer.new).to raise_error(USBInitError)\n    end\n  end\nend\n\n\nFailures:\n\n  1) USBTeensyRenderer when the correct USB port name is not present raises an error on instantiation\n     Failure/Error: expect(renderer = USBTeensyRenderer.new).to raise_error(USBInitError)\n     USBInitError:\n       USB output couldn't be initialized\n     # ./lib/ivan/view/renderers/usb_teensy_renderer.rb:9:in `rescue in initialize'\n     # ./lib/ivan/view/renderers/usb_teensy_renderer.rb:6:in `initialize'\n     # ./spec/models/usb_teensy_renderer_spec.rb:10:in `new'\n     # ./spec/models/usb_teensy_renderer_spec.rb:10:in `block (3 levels) in &lt;top (required)&gt;'\n\nFinished in 0.00351 seconds (files took 0.11638 seconds to load)\n8 examples, 1 failure\n\nFailed examples:\n\nrspec ./spec/models/usb_teensy_renderer_spec.rb:9 # USBTeensyRenderer when the correct USB port name is not present raises an error on instantiation\n\n\ndef initialize\n  begin\n    @sp = SerialPort.new(\"/dev/tty.usbmodem54121\", 9600, 8, 1)\n  rescue\n    raise USBInitError, \"USB output couldn't be initialized\"\n  end\n  @sp.get_modem_params()\nend\n\n\n# Solution Code:\nexpect { renderer = USBTeensyRenderer.new }.to raise_error(USBInitError)",
    "resolution": "I believe expect should take a block in this case: expect { renderer = USBTeensyRenderer.new }.to raise_error(USBInitError) This thread has a pretty good explanation on expect() vs expect {} Rspec: expect vs expect with block - what's the difference?",
    "severity": "medium",
    "tags": [
      "ruby",
      "rspec"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "29880400",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 7029,
      "stackoverflow_creation_date": "2015-04-26T16:38:31.507Z"
    },
    "idempotency_key": "stackoverflow-29880400",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Trying to use Access Token generated in the Graph API Explorer yields incorrect permissions",
    "body": "I created a C# app that makes GET/POST requests to the Facebook Graph API for automating the uploading of images to a pages timeline. The app is a console application so user logins are a no-go in terms of logging into facebook to retrieve a access token, instead i used the Graph API to generate the token and my application extends it. This worked fine for approx 12 hours, until now all the permissions are wrong. When i generate the token in the Graph Explorer, i select the \"manage_pages\", publish_pages\" & \"publish_actions\" permissions. If use the Graph explorer to do a GET request to https://graph.facebook.com/v2.3/debug_token with the Key I get the three permissions i selected, plus a \"public_profile\" permission and all seems well. When i run this in my app and the C# code runs a GET request to https://graph.facebook.com/v2.3/debug_token using the same access token i did for query, however using the applications own access key that it generates at run time to authenticate against, the only permission i get is \"public_profile\", even though a GET request to https://graph.facebook.com/v2.3/\" + PageID + \"/?fields=can_post returns that the access key CAN be used for posting, yet when i attempt to post i am given the error that i am missing the 3 key permissions i selected in the first place. What is happening? For reference, here are the functions i am using; //THIS IS THE FUNCTION USED TO CHECK IF THE TOKEN IS VALID static bool checkValidToken(string inputToken) { string url = \"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&access_token=\" + getAppAccessToken(); WebRequest wrGETURL = WebRequest.Create(url); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\"); return (bool)resonse.GetValue(\"is_valid\"); } //THIS IS USED TO CHECK IF THE TOKEN CAN BE USED TO POST TO PAGE static bool checkCanPost(string inputToken) { WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/\" + PageID + \"/?fields=can_post&access_token=\" + inputToken); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = (JObject)JObject.Parse(jsonResponse); return (bool)resonse.GetValue(\"can_post\"); } //USED TO CALCULATE THE EXPIRY DATE ON THE TOKEN static DateTime getExpiryDate(string inputToken) { WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&access_token=\" + getAppAccessToken()); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\"); DateTime expires = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Local).AddSeconds((int)resonse.GetValue(\"expires_at\")); if ((int)resonse.GetValue(\"expires_at\") == 0) { expires = DateTime.UtcNow.AddMonths(2); } return expires; } //USED TO GENERATE THE APP ACCESS TOKEN static string getAppAccessToken() { WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/oauth/access_token?client_id=\" + AppID + \"&client_secret=\" + AppSecret + \"&grant_type=client_credentials\"); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = JObject.Parse(jsonResponse); return (string)resonse.GetValue(\"access_token\"); } //USED TO EXTEND AN EXISTING TOKEN static string extendToken(string inputToken) { WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/oauth/access_token?grant_type=fb_exchange_token&client_id=\" + AppID + \"&client_secret=\" + AppSecret + \"&fb_exchange_token=\" + inputToken); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = JObject.Parse(jsonResponse); Console.WriteLine(jsonResponse); return (string)resonse.GetValue(\"access_token\"); } //USED TO GENERATE A TOKEN FOR POSTING AS THE PAGE, RATHER THAN TO THE PAGE static string getPageToken(string inputToken) { WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/\"+PageID+\"?fields=access_token&access_token=\"+inputToken); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = JObject.Parse(jsonResponse); return (string)resonse.GetValue(\"access_token\"); } //FUNCTION FOR GETTING ALL PERMISSIONS FOR A TOKEN static List<string> getTokenPermissions(string inputToken) { string url = \"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&access_token=\" + getAppAccessToken(); WebRequest wrGETURL = WebRequest.Create(url); Stream objStream = wrGETURL.GetResponse().GetResponseStream(); StreamReader objReader = new StreamReader(objStream); string jsonResponse = objReader.ReadToEnd(); JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\"); JToken scopes = resonse.GetValue(\"scopes\"); List<string> returnList = new List<string>(); foreach (JToken tokrow in scopes) { returnList.Add((string)tokrow); } return returnList; } //DEBUG FUNCTION FOR OUTPUTTING ALL OF A TOKENS USER/PAGE PERMISSIONS static void outputPermissions(string theToken) { List<string> userPermissions = getTokenPermissions(theToken); List<string> appPermissions = getTokenPermissions(getPageToken(theToken)); Console.WriteLine(\"USER:\"); foreach (string perm in userPermissions) { Console.WriteLine(perm); } Console.WriteLine(\"APP:\"); foreach (string perm in appPermissions) { Console.WriteLine(perm); } Console.Read(); } // FUNCTION THAT ACTUALLY POSTS TO THE PAGE static async Task PostHandler(Post toPost,string theToken) { using (var client = new HttpClient()) { var values = new Dictionary<string, string> { { \"url\", toPost.ImageURL }, {\"access_token\",getPageToken(theToken)}, {\"caption\",toPost.Caption} }; Console.WriteLine(\"Image we are uploading is \" + toPost.ImageURL); var content = new FormUrlEncodedContent(values); var response = await client.PostAsync(\"https://graph.facebook.com/v2.3/\" + PageID + \"/photos\", content); Console.WriteLine(\"Uploaded!\"); var responseString = await response.Content.ReadAsStringAsync(); Console.WriteLine(responseString); Console.Read(); JObject resonse = JObject.Parse(responseString); } } When the post runs it returns error #200 Requires extended permission: (manage_pages and pubish_pages) or (manage_pages and publish_actions)",
    "code": "//THIS IS THE FUNCTION USED TO CHECK IF THE TOKEN IS VALID\nstatic bool checkValidToken(string inputToken)\n{\n    string url = \"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&amp;access_token=\" + getAppAccessToken();\n    WebRequest wrGETURL = WebRequest.Create(url);\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\");\n    return (bool)resonse.GetValue(\"is_valid\");\n}\n//THIS IS USED TO CHECK IF THE TOKEN CAN BE USED TO POST TO PAGE\nstatic bool checkCanPost(string inputToken)\n{\n    WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/\" + PageID + \"/?fields=can_post&amp;access_token=\" + inputToken);\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = (JObject)JObject.Parse(jsonResponse);\n    return (bool)resonse.GetValue(\"can_post\");\n}\n//USED TO CALCULATE THE EXPIRY DATE ON THE TOKEN\nstatic DateTime getExpiryDate(string inputToken)\n{\n\n    WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&amp;access_token=\" + getAppAccessToken());\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\");\n    DateTime expires = new DateTime(1970, 1, 1, 0, 0, 0, DateTimeKind.Local).AddSeconds((int)resonse.GetValue(\"expires_at\"));\n    if ((int)resonse.GetValue(\"expires_at\") == 0)\n    {\n        expires = DateTime.UtcNow.AddMonths(2);\n    }\n    return expires;\n}\n//USED TO GENERATE THE APP ACCESS TOKEN\nstatic string getAppAccessToken()\n{\n    WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/oauth/access_token?client_id=\" + AppID + \"&amp;client_secret=\" + AppSecret + \"&amp;grant_type=client_credentials\");\n\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = JObject.Parse(jsonResponse);\n\n    return (string)resonse.GetValue(\"access_token\");\n}\n//USED TO EXTEND AN EXISTING TOKEN\nstatic string extendToken(string inputToken)\n{\n    WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/oauth/access_token?grant_type=fb_exchange_token&amp;client_id=\" + AppID + \"&amp;client_secret=\" + AppSecret + \"&amp;fb_exchange_token=\" + inputToken);\n\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = JObject.Parse(jsonResponse);\n    Console.WriteLine(jsonResponse);\n    return (string)resonse.GetValue(\"access_token\");\n}\n//USED TO GENERATE A TOKEN FOR POSTING AS THE PAGE, RATHER THAN TO THE PAGE\nstatic string getPageToken(string inputToken)\n{\n    WebRequest wrGETURL = WebRequest.Create(\"https://graph.facebook.com/v2.3/\"+PageID+\"?fields=access_token&amp;access_token=\"+inputToken);\n\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = JObject.Parse(jsonResponse);\n\n    return (string)resonse.GetValue(\"access_token\");\n}\n//FUNCTION FOR GETTING ALL PERMISSIONS FOR A TOKEN\nstatic List&lt;string&gt; getTokenPermissions(string inputToken)\n{\n    string url = \"https://graph.facebook.com/v2.3/debug_token?input_token=\" + inputToken + \"&amp;access_token=\" + getAppAccessToken();\n    WebRequest wrGETURL = WebRequest.Create(url);\n    Stream objStream = wrGETURL.GetResponse().GetResponseStream();\n    StreamReader objReader = new StreamReader(objStream);\n\n    string jsonResponse = objReader.ReadToEnd();\n    JObject resonse = (JObject)JObject.Parse(jsonResponse).GetValue(\"data\");\n    JToken scopes = resonse.GetValue(\"scopes\");\n\n    List&lt;string&gt; returnList = new List&lt;string&gt;();\n    foreach (JToken tokrow in scopes)\n    {\n        returnList.Add((string)tokrow);\n    }\n    return returnList;\n}\n//DEBUG FUNCTION FOR OUTPUTTING ALL OF A TOKENS USER/PAGE PERMISSIONS\nstatic void outputPermissions(string theToken)\n{\n    List&lt;string&gt; userPermissions = getTokenPermissions(theToken);\n    List&lt;string&gt; appPermissions = getTokenPermissions(getPageToken(theToken));\n    Console.WriteLine(\"USER:\");\n    foreach (string perm in userPermissions)\n    {\n        Console.WriteLine(perm);\n    }\n    Console.WriteLine(\"APP:\");\n    foreach (string perm in appPermissions)\n    {\n        Console.WriteLine(perm);\n    }\n    Console.Read();\n}\n// FUNCTION THAT ACTUALLY POSTS TO THE PAGE\nstatic async Task PostHandler(Post toPost,string theToken)\n{\n    using (var client = new HttpClient())\n    {\n        var values = new Dictionary&lt;string, string&gt;\n                {\n                   { \"url\", toPost.ImageURL },\n                   {\"access_token\",getPageToken(theToken)},\n                   {\"caption\",toPost.Caption}\n                };\n        Console.WriteLine(\"Image we are uploading is \" + toPost.ImageURL);\n        var content = new FormUrlEncodedContent(values);\n\n        var response = await client.PostAsync(\"https://graph.facebook.com/v2.3/\" + PageID + \"/photos\", content);\n        Console.WriteLine(\"Uploaded!\");\n        var responseString = await response.Content.ReadAsStringAsync();\n        Console.WriteLine(responseString);\n        Console.Read();\n        JObject resonse = JObject.Parse(responseString);\n    }\n}\n\n\nerror #200 Requires extended permission: (manage_pages and pubish_pages) or (manage_pages and publish_actions)\n\n\nhttps://graph.facebook.com/v2.3/debug_token\n\nhttps://graph.facebook.com/v2.3/debug_token\n\nhttps://graph.facebook.com/v2.3/\" + PageID + \"/?fields=can_post",
    "severity": "low",
    "tags": [
      "c#",
      "facebook",
      "facebook-graph-api"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "29964430",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 773,
      "stackoverflow_creation_date": "2015-04-30T09:50:06.327Z"
    },
    "idempotency_key": "stackoverflow-29964430",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "NG-Repeat doesn't update cleanly when scope is updated",
    "body": "So I have a list of workspaces: <li class=\"workspace-object\" ng-repeat=\"w in workspaces | filter:searchQuery\" ng-click=\"selectWorkspace(w)\"> <a href=\"\" class=\"workspace-link\">{{w.name | titleCase }}</a> </li> That List gets updated in the database by some function, and then I call the loadWorkspaces function below, to re-populate the $scope.workspaces object $scope.loadWorkspaces = function() { APIService.getWorkspaces().then(function(data){ $scope.workspaces = data; }); } When this happens, the $scope.workspaces, when logged out, reads the right updated information immediately, however, the ng-repeat DUPLICATES, before it updates to the proper list. I have no idea why this happens. Any ideas? In this example, I am updating the workspace title, and that update runs the loadworkspaces function.",
    "code": "&lt;li class=\"workspace-object\" ng-repeat=\"w in workspaces | filter:searchQuery\" ng-click=\"selectWorkspace(w)\"&gt;\n    &lt;a href=\"\" class=\"workspace-link\"&gt;{{w.name | titleCase }}&lt;/a&gt;\n&lt;/li&gt;\n\n\n$scope.loadWorkspaces = function() {\n  APIService.getWorkspaces().then(function(data){\n    $scope.workspaces = data;\n  });\n}\n\n\n# Solution Code:\nw in workspaces track by $index\n",
    "resolution": "Try this ... w in workspaces track by $index When the contents of the collection change, ngRepeat makes the corresponding > changes to the DOM: When an item is added, a new instance of the template is added to the DOM. When an item is removed, its template instance is removed from the DOM. When items are reordered, their respective templates are reordered in the DOM. By default, ngRepeat does not allow duplicate items in arrays. This is because when there are duplicates, it is not possible to maintain a one-to-one mapping between collection items and DOM elements. If you do need to repeat duplicate items, you can substitute the default tracking behavior with your own using the track by expression. For example, you may track items by the index of each item in the collection, using the special scope property $index",
    "severity": "medium",
    "tags": [
      "angularjs",
      "angularjs-ng-repeat"
    ],
    "metadata": {
      "stackoverflow_question_id": "29972365",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2396,
      "stackoverflow_creation_date": "2015-04-30T15:53:08.830Z"
    },
    "idempotency_key": "stackoverflow-29972365",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "To what accuracy are the local variables displayed in the Embarcadero RAD Studio XE2 debugger? Apparently 1 is not equal to 1",
    "body": "Take the following record: TVector2D = record public class operator Equal(const V1, V2: TVector2D): Boolean; class operator Multiply(const D: Accuracy; const V: TVector2D): TVector2D; class operator Divide(const V: TVector2D; const D: Accuracy): TVector2D; class function New(const x, y: Accuracy): TVector2D; static; function Magnitude: Accuracy; function Normalised: TVector2D; public x, y: Accuracy; end; With the methods defined as: class operator TVector2D.Equal(const V1, V2: TVector2D): Boolean; var A, B: Boolean; begin Result := (V1.x = V2.x) and (V1.y = V2.y); end; class operator TVector2D.Multiply(const D: Accuracy; const V: TVector2D): TVector2D; begin Result.x := D*V.x; Result.y := D*V.y; end; class operator TVector2D.Divide(const V: TVector2D; const D: Accuracy): TVector2D; begin Result := (1.0/D)*V; end; class function TVector2D.New(const x, y: Accuracy): TVector2D; begin Result.x := x; Result.y := y; end; function TVector2D.Magnitude; begin RESULT := Sqrt(x*x + y*y); end; function TVector2D.Normalised: TVector2D; begin Result := Self/Magnitude; end; and a constant: const jHat2D : TVector2D = (x: 0; y: 1); I would expect the Boolean value of (jHat2D = TVector2D.New(0,0.707).Normalised) to be True. Yet it comes out as False. In the debugger TVector2D.New(0,0.707).Normalised.y shows as exactly 1. It cannot be the case that this is exactly 1, otherwise the Boolean value of (jHat2D = TVector2D.New(0,0.707).Normalised) would be True. Any ideas? Edit Accuracy is a Type defined as: Accuracy = Double",
    "code": "TVector2D = record\n  public\n    class operator Equal(const V1, V2: TVector2D): Boolean;\n    class operator Multiply(const D: Accuracy; const V: TVector2D): TVector2D;\n    class operator Divide(const V: TVector2D; const D: Accuracy): TVector2D;\n    class function New(const x, y: Accuracy): TVector2D; static;\n    function Magnitude: Accuracy;\n    function Normalised: TVector2D;\n  public\n    x, y: Accuracy;\n  end;\n\n\nclass operator TVector2D.Equal(const V1, V2: TVector2D): Boolean;\n  var\n    A, B: Boolean;\n  begin\n    Result := (V1.x = V2.x) and (V1.y = V2.y);\n  end;\n\n  class operator TVector2D.Multiply(const D: Accuracy; const V: TVector2D): TVector2D;\n  begin\n    Result.x := D*V.x;\n    Result.y := D*V.y;\n  end;\n\n  class operator TVector2D.Divide(const V: TVector2D; const D: Accuracy): TVector2D;\n  begin\n    Result := (1.0/D)*V;\n  end;\n\n  class function TVector2D.New(const x, y: Accuracy): TVector2D;\n  begin\n    Result.x := x;\n    Result.y := y;\n  end;\n\n  function TVector2D.Magnitude;\n  begin\n    RESULT := Sqrt(x*x + y*y);\n  end;\n\n  function TVector2D.Normalised: TVector2D;\n  begin\n    Result := Self/Magnitude;\n  end;\n\n\n  const\n    jHat2D : TVector2D = (x: 0; y: 1);\n\n\nBoolean\n\n(jHat2D = TVector2D.New(0,0.707).Normalised)\n\nTrue\n\nFalse\n\nTVector2D.New(0,0.707).Normalised.y\n\n1\n\nBoolean\n\n(jHat2D = TVector2D.New(0,0.707).Normalised)\n\nTrue\n\nAccuracy\n\nType\n\nAccuracy = Double\n\n# Solution Code:\nv1.y      = 1\nv2.y      = 0.999999999999999889\n\n\nFormat('%.18f', [v2.y]);\n\n// Yields  0.999999999999999889\n\n\ntype\n  PAccuracy = Accuracy;\n\nclass operator TVector2D.Equal(const V1, V2: TVector2D): Boolean;\nvar\n  A, B: Boolean;\n  ay, by: PAccuracy;\nbegin\n  ay := @V1.y;\n  by := @V2.y;\n\n  A := (V1.x = V2.x);\n  B := (V1.y = V2.y);\n\n  result := A and B;\nend;\n\n\nv1.y   : $3f f0 00 00 00 00 00 00\nv2.y   : $3f ef ff ff ff ff ff ff\n\n\nvar\n  a: Double;\n  b: Double;\n  ai: Int64 absolute a;\n  bi: Int64 absolute b;\n\nbegin\n  ai := $3ff0000000000000;\n  bi := $3fefffffffffffff;\n\n  s := FloatToStr(a) + ' = ' + FloatToStr(b);\n\n  // Yields 's' = '1 = 1';\nend;\n\n\nuses\n  Math;\n\nconst\n  EPSILON = 0.1;\n\nB := SameValue(V1.y, V2.y, EPSILON);\n\n\nEPSILON = 0.000000000000001;   // Yields B = TRUE\nEPSILON = 0.0000000000000001;  // Yields B = FALSE\n",
    "resolution": "Assuming that Accuracy is a synonym for a Double type, this is a bug in the visualization of floating point values by the debugger. Due to the inherent problems with internal representation of floating points, v1.Y and v2.Y have very slightly different values, though both approximate to 1. Add watches for v1.y and v2.y. Ensure that these watch values are configured to represent as \"Floating Point\" values with Digits set to 18 for maximum detail. At your breakpoint you will see that: v1.y = 1 v2.y = 0.999999999999999889 (whosrdaddy provided the above short version in the comments on the question, but I am retaining the long form of my investigation - see below the line after Conclusion - as it may prove useful in other, similar circumstances as well as being of potential interest) Conclusion Whilst the debugger visualizations are strictly speaking incorrect (or at best misleading), they are never-the-less very almost correct. :) The question then is whether you require strict accuracy or accuracy to within a certain tolerance. If the latter then you can adopt the use of SameValue() with an EPSILON defined suitable to the degree of accuracy you require. Otherwise you must accept that when debugging your code you cannot rely on the debugger to represent the values involved in your debugging to the degree of accuracy relied on in the code itself. Option: Customise the Debug Visualization Itself Alternatively you may wish to investigate creating a custom debug visualisation for your TVector2D type to represent your x/y values to the accuracy employed in your code. For such a visualization using FloatToStr(), use Format() with a %f format specifier with a suitable number of decimal places. e.g. the below call yields the result obtained by watching the variable as described above: Format('%.18f', [v2.y]); // Yields 0.999999999999999889 Long Version of Original Investigation I modified the Equal operator to allow me to inspect the internal representation of the two values v1.y and v2.y: type PAccuracy = Accuracy; class operator TVector2D.Equal(const V1, V2: TVector2D): Boolean; var A, B: Boolean; ay, by: PAccuracy; begin ay := @V1.y; by := @V2.y; A := (V1.x = V2.x); B := (V1.y = V2.y); result := A and B; end; By setting watches in the debugger to provide a Memory Dump of ay^ and by^ we see that the two values are represented internally very differently: v1.y : $3f f0 00 00 00 00 00 00 v2.y : $3f ef ff ff ff ff ff ff NOTE: Byte order is reversed in the watch value results, as compared to the actual values above, due to the Little Endian nature of Intel. We can then test the hypothesis by passing Doubles with these internal representations into FloatToStr(): var a: Double; b: Double; ai: Int64 absolute a; bi: Int64 absolute b; begin ai := $3ff0000000000000; bi := $3fefffffffffffff; s := FloatToStr(a) + ' = ' + FloatToStr(b); // Yields 's' = '1 = 1'; end; We can conclude therefore that the evaluation of B is correct. v1.y and v2.y are different. The representation of the Double values by the debugger is incorrect (or at best misleading). By changing the expression for B to use SameValue() we can determine the deviation between the values involved: uses Math; const EPSILON = 0.1; B := SameValue(V1.y, V2.y, EPSILON); By progressively reducing the value of EPSILON we find that v1.y and v2.y differ by an amount less than 0.000000000000001 since: EPSILON = 0.000000000000001; // Yields B = TRUE EPSILON = 0.0000000000000001; // Yields B = FALSE",
    "severity": "low",
    "tags": [
      "delphi",
      "delphi-xe2"
    ],
    "metadata": {
      "stackoverflow_question_id": "29972796",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 337,
      "stackoverflow_creation_date": "2015-04-30T16:14:33.643Z"
    },
    "idempotency_key": "stackoverflow-29972796",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Dependency injection for java 8 default interface methods",
    "body": "I have an interface that defines a setter/getter using java 8 default methods, but I am getting an error when attempting to wire it up in Spring. I really want to avoid using abstract class and I don't want to duplicate the code. Here is what I am doing: public interface MyProcessor { public static final WeakHashMap<Function1D, Integer> paramMap = new WeakHashMap<>(); default void setParam(int param) { paramMap.put(this, param); } default int getParam() { return paramMap.get(this); } default double doSomthingWithParam(double x) { return doSomething() * getParam(); } double doSomething(); } public class MyProcessorImp extends SomeClass implements MyProcessor { double doSomething() {....} } <bean class=\"....MyProcessorImp\"> <property name=\"param\" value=\"3\"/></bean> Bean property 'param' is not writable or has an invalid setter method.",
    "code": "public interface MyProcessor\n{\n  public static final WeakHashMap&lt;Function1D, Integer&gt; paramMap = new WeakHashMap&lt;&gt;();\n\n  default void setParam(int param)\n  {\n        paramMap.put(this, param);\n  }\n\n  default int getParam()\n  {\n      return paramMap.get(this);\n  } \n\n  default double doSomthingWithParam(double x)\n  {  \n          return doSomething() * getParam();\n  } \n\n  double doSomething();\n }\n\n\npublic class MyProcessorImp extends SomeClass implements MyProcessor\n{\n    double doSomething() {....}\n } \n\n  &lt;bean class=\"....MyProcessorImp\"&gt; &lt;property name=\"param\" value=\"3\"/&gt;&lt;/bean&gt;\n\n\n# Solution Code:\npublic interface MyProcessor {\n\n  // get the implementor to get the hash map\n  WeakHashMap&lt;Function1D, Integer&gt; getParamMap();\n\n  default double doSomthingWithParam(double x) {  \n    return doSomething() * getParam();\n  } \n\n  // uses the implementor's getParamMap() to get params\n  default int getParam() {\n    return getParamMap().get(this);\n  } \n\n  double doSomething();\n}\n\npublic class MyProcessorImp extends SomeClass implements MyProcessor {\n\n  final WeakHashMap&lt;Function1D, Integer&gt; paramMap = new WeakHashMap&lt;&gt;();\n\n  void setParam(int param) {\n    paramMap.put(this, param);\n  }\n\n  @Override WeakHashMap&lt;Function1D, Integer&gt; getParamMap() {\n    return paramMap;\n  }\n\n  @Override double doSomething() { \n    // elided \n  }\n} \n",
    "resolution": "In my own projects, I get the implementor to supply me with the dependency supplied by spring's DI container. Reworking the code above, this would look like this: public interface MyProcessor { // get the implementor to get the hash map WeakHashMap<Function1D, Integer> getParamMap(); default double doSomthingWithParam(double x) { return doSomething() * getParam(); } // uses the implementor's getParamMap() to get params default int getParam() { return getParamMap().get(this); } double doSomething(); } public class MyProcessorImp extends SomeClass implements MyProcessor { final WeakHashMap<Function1D, Integer> paramMap = new WeakHashMap<>(); void setParam(int param) { paramMap.put(this, param); } @Override WeakHashMap<Function1D, Integer> getParamMap() { return paramMap; } @Override double doSomething() { // elided } }",
    "severity": "medium",
    "tags": [
      "java",
      "spring"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "30061268",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 4629,
      "stackoverflow_creation_date": "2015-05-05T19:08:31.450Z"
    },
    "idempotency_key": "stackoverflow-30061268",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to test the container or image after docker build?",
    "body": "I have the following Dockerfile ############################################################ # Purpose : Dockerize Django App to be used in AWS EC2 # Django : 1.8.1 # OS : Ubuntu 14.04 # WebServer : nginx # Database : Postgres inside RDS # Python : 2.7 # VERSION : 0.1 ############################################################ from ubuntu:14.04 maintainer Kim Stacks, kimcity@gmail.com # make sure package repository is up to date run echo \"deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) main universe\" > /etc/apt/sources.list run apt-get update # install python # install nginx Inside my VM, I did the following: docker build -t ubuntu1404/djangoapp . It is successful. What do I do to run the docker image? Where is the image or container? I have already tried running docker run ubuntu1404/djangoapp Nothing happens. What I see when I run docker images root@vagrant-ubuntu-trusty-64:/var/virtual/Apps/DockerFiles/Django27InUbuntu# docker images REPOSITORY TAG IMAGE ID CREATED VIRTUAL SIZE ubuntu1404/djangoapp latest cfb161605c8e 10 minutes ago 198.3 MB ubuntu 14.04 07f8e8c5e660 10 days ago 188.3 MB hello-world latest 91c95931e552 3 weeks ago 910 B When I run docker ps, nothing shows up",
    "code": "############################################################\n# Purpose   : Dockerize Django App to be used in AWS EC2\n# Django    : 1.8.1\n# OS        : Ubuntu 14.04\n# WebServer : nginx\n# Database  : Postgres inside RDS\n# Python    : 2.7\n# VERSION   : 0.1\n############################################################\n\nfrom ubuntu:14.04\n\nmaintainer Kim Stacks, kimcity@gmail.com\n\n# make sure package repository is up to date\nrun echo \"deb http://archive.ubuntu.com/ubuntu $(lsb_release -sc) main universe\" &gt; /etc/apt/sources.list\n\nrun apt-get update\n\n# install python\n\n# install nginx\n\n\ndocker build -t ubuntu1404/djangoapp .\n\n\ndocker run ubuntu1404/djangoapp\n\n\nroot@vagrant-ubuntu-trusty-64:/var/virtual/Apps/DockerFiles/Django27InUbuntu# docker images\nREPOSITORY             TAG                 IMAGE ID            CREATED             VIRTUAL SIZE\nubuntu1404/djangoapp   latest              cfb161605c8e        10 minutes ago      198.3 MB\nubuntu                 14.04               07f8e8c5e660        10 days ago         188.3 MB\nhello-world            latest              91c95931e552        3 weeks ago         910 B\n\n\ndocker images\n\ndocker ps\n\n# Solution Code:\ndocker run -ti yourimage sh\n\n\ndocker run -d yourimage daemontolaunch\n\n\ndocker help run\n\n--rm\n\ndocker run\n\ndocker rm\n\ndocker stop\n\ndocker ps",
    "resolution": "You have to give a command your container will have to process. Example : sh you could try : docker run -ti yourimage sh (-ti is used to keep a terminal open) If you want to launch a daemon (like a server), you will have to enter something like : docker run -d yourimage daemontolaunch Use docker help run for more options. You also can set a default behaviour with CMD instruction in your Dockerfile so you won't have to give this command to your container each time you want to run it. EDIT - about container removing : Containers and images are different. A container is an instance of an image. You can run several containers from the same image. The container automatically stops when the process it runs terminates. But the container isn't deleted (just stopped, so you can restart it). But if you want to remove it (removing a container doesn't remove the image) you have two ways to do : automatically removing it at the end of the process by adding --rm option to docker run. Manually removing it by using the docker rm command and giving it the container ID or its name (a container has to be stopped before being removed, use docker stop for this). A usefull command : Use docker ps to list containers. -q to display only the container IDs, -a to display even stopped containers. More here. EDIT 2: This could also help you to discover docker if you didn't try it.",
    "severity": "high",
    "tags": [
      "docker",
      "dockerfile"
    ],
    "metadata": {
      "stackoverflow_question_id": "30159783",
      "stackoverflow_score": 41,
      "stackoverflow_view_count": 73822,
      "stackoverflow_creation_date": "2015-05-11T04:41:07.367Z"
    },
    "idempotency_key": "stackoverflow-30159783",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is tag <view> in layout xml used for?",
    "body": "I notice that there is a tag <view>(not <View>) which can be used in Android layout xml. When I add such a tag in a layout xml, the app can be successfully compiled but crashes when running. So what is this <view> used for?",
    "code": "&lt;view&gt;\n\n&lt;View&gt;\n\n&lt;view&gt;\n\n# Solution Code:\n&lt;view class=\"your.app.full.package.Something$InnerClass\" ... /&gt;\n\n\nview\n\nclass\n\n$\n\nView",
    "resolution": "view is an alternative way for specifying a view to inflate. You need to combine it with class attribute to specify the class name. This is \"useful\" if your view class is an inner class and you cannot use something with a $ in the tag name in XML. (Having inner classes as Views you inflate is not a very good idea though.) For example: <view class=\"your.app.full.package.Something$InnerClass\" ... /> Reference: http://androidxref.com/5.0.0_r2/xref/frameworks/base/core/java/android/view/LayoutInflater.java#696",
    "severity": "medium",
    "tags": [
      "android",
      "android-layout"
    ],
    "metadata": {
      "stackoverflow_question_id": "30167172",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 5521,
      "stackoverflow_creation_date": "2015-05-11T12:03:23.177Z"
    },
    "idempotency_key": "stackoverflow-30167172",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MongoDb Pipeline Aggregation sorting sub sub documents",
    "body": "I've having a slight issue when trying to sort by a nested array in Mongodb using MongooseJs. a) A product contains tasks, each task has subTasks. b) The task has a order & so does each subTask (task.order & task.subtask.order). Here is a sample product document: db.products.find({_id: ObjectId(\"554a13d4b692088a38f01f3b\")}) Result: { \"_id\" : ObjectId(\"554a13d4b692088a38f01f3b\"), \"title\" : \"product title\", \"order\" : 3, \"description\" : \"Description here \", \"status\" : \"live\", \"tasks\" : [ { \"title\" : \"task 1\", \"description\" : \"task 1 desc\", \"order\" : 10, \"_id\" : ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\" : \"live\", \"subTasks\" : [ { \"title\" : \"task 1 sub 1\", \"content\" : \"aaa\", \"order\" : -2, \"_id\" : ObjectId(\"554a13d4b692088a38f01f5a\"), \"status\" : \"live\" }, { \"title\" : \"task 1 sub 2\", \"content\" : \"aaa\", \"order\" : 1, \"_id\" : ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\" : \"live\" }, { \"title\" : \"task 1 sub 4\", \"content\" : \"aaa\", \"order\" : 8, \"_id\" : ObjectId(\"554a13d4b692088a38f01f4a\"), \"status\" : \"live\" }, { \"title\" : \"task 1 sub 3 \", \"content\" : \"aaa\", \"order\" : 2, \"_id\" : ObjectId(\"5550d0a61662211332d9a973\"), \"status\" : \"live\" } ] }, { \"title\" : \"task 2\", \"description\" : \"task desc 2\", \"order\" : 1, \"_id\" : ObjectId(\"5550855f9ee2db4e3958d299\"), \"status\" : \"live\", \"subTasks\" : [ { \"title\" : \"task 2 sub 1\", \"content\" : \"bbb\", \"order\" : 1, \"_id\" : ObjectId(\"55508f459ee2db4e3958d29a\"), \"status\" : \"live\" } ] }, { \"title\" : \"task 3\", \"description\" : \"task 3 desc\", \"order\" : 2, \"_id\" : ObjectId(\"5551b844bb343a620f85f323\"), \"status\" : \"live\", \"subTasks\" : [ { \"title\" : \"task 3 sub 2\", \"content\" : \"cccc\", \"order\" : 0, \"_id\" : ObjectId(\"5551b88abb343a620f85f324\"), \"status\" : \"live\" }, { \"title\" : \"task 3 sub 4\", \"content\" : \"cccc\", \"order\" : 1, \"_id\" : ObjectId(\"5551b8f1bb343a620f85f325\"), \"status\" : \"hidden\" }, { \"title\" : \"task 3 sub 3\", \"content\" : \"ccc\", \"order\" : 2, \"_id\" : ObjectId(\"5551ba40bb343a620f85f327\"), \"status\" : \"hidden\" }, { \"title\" : \"task 3 sub 1\", \"content\" : \"cccc\", \"order\" : -1, \"_id\" : ObjectId(\"5551bcb8c31283c051d30b7c\"), \"status\" : \"hidden\" } ] } ] } I'm using the Mongodb Aggregation pipeline to order the tasks & the subTasks within them. Here is what I have so far: db.products.aggregate([ { $project: { \"tasks\" : 1 } }, { $match: { _id: ObjectId(\"554a13d4b692088a38f01f3b\") } }, { $unwind: \"$tasks\" }, { $project: { \"tasks\": 1, \"subTasks\": 1 } }, { $unwind: \"$tasks.subTasks\" }, { $sort: { \"tasks.subTasks.order\": 1 } }, { $sort: { \"tasks.order\": 1 } } ]) Results: { \"result\": [ { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 2\", \"description\": \"task desc 2\", \"order\": 1, \"_id\": ObjectId(\"5550855f9ee2db4e3958d299\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 2 sub 1\", \"content\": \"bbb\", \"order\": 1, \"_id\": ObjectId(\"55508f459ee2db4e3958d29a\"), \"status\": \"live\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 3\", \"description\": \"task 3 desc\", \"order\": 2, \"_id\": ObjectId(\"5551b844bb343a620f85f323\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 3 sub 1\", \"content\": \"cccc\", \"order\": -1, \"_id\": ObjectId(\"5551bcb8c31283c051d30b7c\"), \"status\": \"hidden\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 3\", \"description\": \"task 3 desc\", \"order\": 2, \"_id\": ObjectId(\"5551b844bb343a620f85f323\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 3 sub 2\", \"content\": \"cccc\", \"order\": 0, \"_id\": ObjectId(\"5551b88abb343a620f85f324\"), \"status\": \"live\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 3\", \"description\": \"task 3 desc\", \"order\": 2, \"_id\": ObjectId(\"5551b844bb343a620f85f323\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 3 sub 4\", \"content\": \"cccc\", \"order\": 1, \"_id\": ObjectId(\"5551b8f1bb343a620f85f325\"), \"status\": \"hidden\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 3\", \"description\": \"task 3 desc\", \"order\": 2, \"_id\": ObjectId(\"5551b844bb343a620f85f323\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 3 sub 3\", \"content\": \"ccc\", \"order\": 2, \"_id\": ObjectId(\"5551ba40bb343a620f85f327\"), \"status\": \"hidden\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 1\", \"description\": \"task 1 desc\", \"order\": 10, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 1 sub 1\", \"content\": \"aaa\", \"order\": -2, \"_id\": ObjectId(\"554a13d4b692088a38f01f5a\"), \"status\": \"live\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 1\", \"description\": \"task 1 desc\", \"order\": 10, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 1 sub 2\", \"content\": \"aaa\", \"order\": 1, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 1\", \"description\": \"task 1 desc\", \"order\": 10, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 1 sub 3 \", \"content\": \"aaa\", \"order\": 2, \"_id\": ObjectId(\"5550d0a61662211332d9a973\"), \"status\": \"live\" } } }, { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"tasks\": { \"title\": \"task 1\", \"description\": \"task 1 desc\", \"order\": 10, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\", \"subTasks\": { \"title\": \"task 1 sub 4\", \"content\": \"aaa\", \"order\": 8, \"_id\": ObjectId(\"554a13d4b692088a38f01f4a\"), \"status\": \"live\" } } } ], \"ok\": 1 } Expected result: { \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"), \"title\": \"product title\", \"order\": 3, \"description\": \"Description here \", \"status\": \"live\", \"tasks\": [ { \"title\": \"task 2\", \"description\": \"task desc 2\", \"order\": 1, \"_id\": ObjectId(\"5550855f9ee2db4e3958d299\"), \"status\": \"live\", \"subTasks\": [ { \"title\": \"task 2 sub 1\", \"content\": \"bbb\", \"order\": 1, \"_id\": ObjectId(\"55508f459ee2db4e3958d29a\"), \"status\": \"live\" } ] }, { \"title\": \"task 3\", \"description\": \"task 3 desc\", \"order\": 2, \"_id\": ObjectId(\"5551b844bb343a620f85f323\"), \"status\": \"live\", \"subTasks\": [ { \"title\": \"task 3 sub 1\", \"content\": \"cccc\", \"order\": -1, \"_id\": ObjectId(\"5551bcb8c31283c051d30b7c\"), \"status\": \"hidden\" }, { \"title\": \"task 3 sub 2\", \"content\": \"cccc\", \"order\": 0, \"_id\": ObjectId(\"5551b88abb343a620f85f324\"), \"status\": \"live\" }, { \"title\": \"task 3 sub 3\", \"content\": \"ccc\", \"order\": 2, \"_id\": ObjectId(\"5551ba40bb343a620f85f327\"), \"status\": \"hidden\" }{ \"title\": \"task 3 sub 4\", \"content\": \"cccc\", \"order\": 1, \"_id\": ObjectId(\"5551b8f1bb343a620f85f325\"), \"status\": \"hidden\" } ] }{ \"title\": \"task 1\", \"description\": \"task 1 desc\", \"order\": 10, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\", \"subTasks\": [ { \"title\": \"task 1 sub 1\", \"content\": \"aaa\", \"order\": -2, \"_id\": ObjectId(\"554a13d4b692088a38f01f5a\"), \"status\": \"live\" }, { \"title\": \"task 1 sub 2\", \"content\": \"aaa\", \"order\": 1, \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"), \"status\": \"live\" }, { \"title\": \"task 1 sub 3 \", \"content\": \"aaa\", \"order\": 2, \"_id\": ObjectId(\"5550d0a61662211332d9a973\"), \"status\": \"live\" }, { \"title\": \"task 1 sub 4\", \"content\": \"aaa\", \"order\": 8, \"_id\": ObjectId(\"554a13d4b692088a38f01f4a\"), \"status\": \"live\" } ] } ] I'm really close, all the ordering seems to be working. I just need some help to put the subTasks back inside the parents. Any help greatly appreciated. Thanks",
    "code": "db.products.find({_id: ObjectId(\"554a13d4b692088a38f01f3b\")})\n\n\n{\n\"_id\" : ObjectId(\"554a13d4b692088a38f01f3b\"),\n\"title\" : \"product title\",\n\"order\" : 3,\n\"description\" : \"Description here \",\n\"status\" : \"live\",\n\"tasks\" : [ \n    {\n        \"title\" : \"task 1\",\n        \"description\" : \"task 1 desc\",\n        \"order\" : 10,\n        \"_id\" : ObjectId(\"554a13d4b692088a38f01f3a\"),\n        \"status\" : \"live\",\n        \"subTasks\" : [ \n            {\n                \"title\" : \"task 1 sub 1\",\n                \"content\" : \"aaa\",\n                \"order\" : -2,\n                \"_id\" : ObjectId(\"554a13d4b692088a38f01f5a\"),\n                \"status\" : \"live\"\n            }, \n            {\n                \"title\" : \"task 1 sub 2\",\n                \"content\" : \"aaa\",\n                \"order\" : 1,\n                \"_id\" : ObjectId(\"554a13d4b692088a38f01f3a\"),\n                \"status\" : \"live\"\n            }, \n            {\n                \"title\" : \"task 1 sub 4\",\n                \"content\" : \"aaa\",\n                \"order\" : 8,\n                \"_id\" : ObjectId(\"554a13d4b692088a38f01f4a\"),\n                \"status\" : \"live\"\n            }, \n            {\n                \"title\" : \"task 1 sub 3 \",\n                \"content\" : \"aaa\",\n                \"order\" : 2,\n                \"_id\" : ObjectId(\"5550d0a61662211332d9a973\"),\n                \"status\" : \"live\"\n            }\n        ]\n    }, \n    {\n        \"title\" : \"task 2\",\n        \"description\" : \"task desc 2\",\n        \"order\" : 1,\n        \"_id\" : ObjectId(\"5550855f9ee2db4e3958d299\"),\n        \"status\" : \"live\",\n        \"subTasks\" : [ \n            {\n                \"title\" : \"task 2 sub 1\",\n                \"content\" : \"bbb\",\n                \"order\" : 1,\n                \"_id\" : ObjectId(\"55508f459ee2db4e3958d29a\"),\n                \"status\" : \"live\"\n            }\n        ]\n    }, \n    {\n        \"title\" : \"task 3\",\n        \"description\" : \"task 3 desc\",\n        \"order\" : 2,\n        \"_id\" : ObjectId(\"5551b844bb343a620f85f323\"),\n        \"status\" : \"live\",\n        \"subTasks\" : [ \n            {\n                \"title\" : \"task 3 sub 2\",\n                \"content\" : \"cccc\",\n                \"order\" : 0,\n                \"_id\" : ObjectId(\"5551b88abb343a620f85f324\"),\n                \"status\" : \"live\"\n            }, \n            {\n                \"title\" : \"task 3 sub 4\",\n                \"content\" : \"cccc\",\n                \"order\" : 1,\n                \"_id\" : ObjectId(\"5551b8f1bb343a620f85f325\"),\n                \"status\" : \"hidden\"\n            }, \n            {\n                \"title\" : \"task 3 sub 3\",\n                \"content\" : \"ccc\",\n                \"order\" : 2,\n                \"_id\" : ObjectId(\"5551ba40bb343a620f85f327\"),\n                \"status\" : \"hidden\"\n            }, \n            {\n                \"title\" : \"task 3 sub 1\",\n                \"content\" : \"cccc\",\n                \"order\" : -1,\n                \"_id\" : ObjectId(\"5551bcb8c31283c051d30b7c\"),\n                \"status\" : \"hidden\"\n            }\n        ]\n    }\n]\n\n\n    db.products.aggregate([\n    {\n        $project: {\n            \"tasks\" : 1\n        }\n    },\n    {\n        $match: {\n            _id: ObjectId(\"554a13d4b692088a38f01f3b\")\n        }\n    },\n    {\n        $unwind: \"$tasks\"\n    },\n    {\n        $project: {\n            \"tasks\": 1,\n            \"subTasks\": 1\n        }\n    },\n    {\n        $unwind: \"$tasks.subTasks\"\n    },\n    {\n        $sort: {\n            \"tasks.subTasks.order\": 1\n        }\n    },\n    {\n        $sort: {\n            \"tasks.order\": 1\n        }\n    }\n])\n\n\n{\n\"result\": [\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 2\",\n            \"description\": \"task desc 2\",\n            \"order\": 1,\n            \"_id\": ObjectId(\"5550855f9ee2db4e3958d299\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 2 sub 1\",\n                \"content\": \"bbb\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"55508f459ee2db4e3958d29a\"),\n                \"status\": \"live\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 3\",\n            \"description\": \"task 3 desc\",\n            \"order\": 2,\n            \"_id\": ObjectId(\"5551b844bb343a620f85f323\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 3 sub 1\",\n                \"content\": \"cccc\",\n                \"order\": -1,\n                \"_id\": ObjectId(\"5551bcb8c31283c051d30b7c\"),\n                \"status\": \"hidden\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 3\",\n            \"description\": \"task 3 desc\",\n            \"order\": 2,\n            \"_id\": ObjectId(\"5551b844bb343a620f85f323\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 3 sub 2\",\n                \"content\": \"cccc\",\n                \"order\": 0,\n                \"_id\": ObjectId(\"5551b88abb343a620f85f324\"),\n                \"status\": \"live\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 3\",\n            \"description\": \"task 3 desc\",\n            \"order\": 2,\n            \"_id\": ObjectId(\"5551b844bb343a620f85f323\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 3 sub 4\",\n                \"content\": \"cccc\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"5551b8f1bb343a620f85f325\"),\n                \"status\": \"hidden\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 3\",\n            \"description\": \"task 3 desc\",\n            \"order\": 2,\n            \"_id\": ObjectId(\"5551b844bb343a620f85f323\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 3 sub 3\",\n                \"content\": \"ccc\",\n                \"order\": 2,\n                \"_id\": ObjectId(\"5551ba40bb343a620f85f327\"),\n                \"status\": \"hidden\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 1\",\n            \"description\": \"task 1 desc\",\n            \"order\": 10,\n            \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 1 sub 1\",\n                \"content\": \"aaa\",\n                \"order\": -2,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f5a\"),\n                \"status\": \"live\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 1\",\n            \"description\": \"task 1 desc\",\n            \"order\": 10,\n            \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 1 sub 2\",\n                \"content\": \"aaa\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n                \"status\": \"live\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 1\",\n            \"description\": \"task 1 desc\",\n            \"order\": 10,\n            \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 1 sub 3 \",\n                \"content\": \"aaa\",\n                \"order\": 2,\n                \"_id\": ObjectId(\"5550d0a61662211332d9a973\"),\n                \"status\": \"live\"\n            }\n        }\n    },\n    {\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n        \"tasks\": {\n            \"title\": \"task 1\",\n            \"description\": \"task 1 desc\",\n            \"order\": 10,\n            \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n            \"status\": \"live\",\n            \"subTasks\": {\n                \"title\": \"task 1 sub 4\",\n                \"content\": \"aaa\",\n                \"order\": 8,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f4a\"),\n                \"status\": \"live\"\n            }\n        }\n    }\n],\n\"ok\": 1\n\n\n{\n\"_id\": ObjectId(\"554a13d4b692088a38f01f3b\"),\n\"title\": \"product title\",\n\"order\": 3,\n\"description\": \"Description here \",\n\"status\": \"live\",\n\"tasks\": [\n    {\n        \"title\": \"task 2\",\n        \"description\": \"task desc 2\",\n        \"order\": 1,\n        \"_id\": ObjectId(\"5550855f9ee2db4e3958d299\"),\n        \"status\": \"live\",\n        \"subTasks\": [\n            {\n                \"title\": \"task 2 sub 1\",\n                \"content\": \"bbb\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"55508f459ee2db4e3958d29a\"),\n                \"status\": \"live\"\n            }\n        ]\n    },\n    {\n        \"title\": \"task 3\",\n        \"description\": \"task 3 desc\",\n        \"order\": 2,\n        \"_id\": ObjectId(\"5551b844bb343a620f85f323\"),\n        \"status\": \"live\",\n        \"subTasks\": [\n            {\n                \"title\": \"task 3 sub 1\",\n                \"content\": \"cccc\",\n                \"order\": -1,\n                \"_id\": ObjectId(\"5551bcb8c31283c051d30b7c\"),\n                \"status\": \"hidden\"\n            },\n            {\n                \"title\": \"task 3 sub 2\",\n                \"content\": \"cccc\",\n                \"order\": 0,\n                \"_id\": ObjectId(\"5551b88abb343a620f85f324\"),\n                \"status\": \"live\"\n            },\n            {\n                \"title\": \"task 3 sub 3\",\n                \"content\": \"ccc\",\n                \"order\": 2,\n                \"_id\": ObjectId(\"5551ba40bb343a620f85f327\"),\n                \"status\": \"hidden\"\n            }{\n                \"title\": \"task 3 sub 4\",\n                \"content\": \"cccc\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"5551b8f1bb343a620f85f325\"),\n                \"status\": \"hidden\"\n            }\n        ]\n    }{\n        \"title\": \"task 1\",\n        \"description\": \"task 1 desc\",\n        \"order\": 10,\n        \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n        \"status\": \"live\",\n        \"subTasks\": [\n            {\n                \"title\": \"task 1 sub 1\",\n                \"content\": \"aaa\",\n                \"order\": -2,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f5a\"),\n                \"status\": \"live\"\n            },\n            {\n                \"title\": \"task 1 sub 2\",\n                \"content\": \"aaa\",\n                \"order\": 1,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f3a\"),\n                \"status\": \"live\"\n            },\n            {\n                \"title\": \"task 1 sub 3 \",\n                \"content\": \"aaa\",\n                \"order\": 2,\n                \"_id\": ObjectId(\"5550d0a61662211332d9a973\"),\n                \"status\": \"live\"\n            },\n            {\n                \"title\": \"task 1 sub 4\",\n                \"content\": \"aaa\",\n                \"order\": 8,\n                \"_id\": ObjectId(\"554a13d4b692088a38f01f4a\"),\n                \"status\": \"live\"\n            }\n        ]\n    }\n]\n\n\n# Solution Code:\n$project: {\n            \"tasks\" : 1\n        }\n\n\n$project: {\n             tasks: 1,\n             doc: {\n                     title: \"$title\", \n                     order: \"$order\", \n                     description: \"$description\", \n                     status: \"$status\"\n                  }\n          }\n\n\n{$unwind: \"$tasks\"}, {$unwind: \"$tasks.subTasks\"}\n\n\n{$sort: {\"tasks.order\": -1, \"tasks.subTasks.order\": 1}}\n\n\n$project: {\n             doc: 1, \n             task_id: \"$tasks._id\", \n             tasks_doc: {\n                           title: \"$tasks.title\", \n                           description: \"$tasks.description\", \n                           order: \"$tasks.order\", \n                           status: \"$tasks.status\"\n                        }, \n             subTasks: \"$tasks.subTasks\"\n          }\n\n\n$group: {\n           _id: {\n                   _id: \"$_id\", \n                   task_id: \"$task_id\", \n                   doc: \"$doc\", \n                   task_doc: \"$tasks_doc\"\n                }, \n           subTasks: {\n                        $push: \"$subTasks\"\n                     }\n        }\n\n\n$group: {\n           _id: {\n                   _id: \"$_id._id\", \n                   doc: \"$_id.doc\"\n                }, \n           tasks: {\n                     $push: {\n                               _id: \"$_id.task_id\", \n                               title: \"$_id.task_doc.title\", \n                               description: \"$_id.task_doc.description\",\n                               order: \"$_id.task_doc.order\", \n                               status: \"$_id.task_doc.status\" \n                               subTasks: \"$subTasks\"\n                            }\n                  }\n        }\n\n\n$project: {\n             _id: \"$_id._id\", \n             title: \"$_id.doc.title\", \n             description: \"$_id.doc.description\", \n             order: \"$_id.doc.order\", \n             status: \"$_id.doc.status\", \n             tasks: 1\n          }\n\n\n[\n {$match: {_id: ObjectId(\"554a13d4b692088a38f01f3b\")}}, \n {$project: {tasks: 1, doc: {title: \"$title\", order: \"$order\", description: \"$description\", status: \"$status\"}}}, \n {$unwind: \"$tasks\"}, \n {$unwind: \"$tasks.subTasks\"}, \n {$sort: {\"tasks.order\": -1, \"tasks.subTasks.order\": 1}}, \n {$project: {doc: 1, task_id: \"$tasks._id\", tasks_doc: {title: \"$tasks.title\", description: \"$tasks.description\", order: \"$tasks.order\", status: \"$tasks.status\"}, subTasks: \"$tasks.subTasks\"}}, \n {$group: {_id: {_id: \"$_id\", task_id: \"$task_id\", doc: \"$doc\", task_doc: \"$tasks_doc\"}, subTasks: {$push: \"$subTasks\"}}}, \n {$group: {_id: {_id: \"$_id._id\", doc: \"$_id.doc\"}, tasks: {$push: {_id: \"$_id.task_id\", title: \"$_id.task_doc.title\", description: \"$_id.task_doc.description\", order: \"$_id.task_doc.order\", status: \"$_id.task_doc.status\", subTasks: \"$subTasks\"}}}}, \n {$project: {_id: \"$_id._id\", title: \"$_id.doc.title\", description: \"$_id.doc.description\", order: \"$_id.doc.order\", status: \"$_id.doc.status\", tasks: 1}}\n]\n\n\n$unwind\n\ntasks.subTasks.order\n\ntasks.order\n\n$group\n\n$push\n\nsubTasks\n\nsubTasks\n\ntasks\n\n$group\n\ntask_doc\n\ndoc\n\nnull\n\n$unwind\n\nnull\n\nzero\n\n\"&lt;empty-array&gt;\"\n\n$project\n\n$unwind\n\n$ifNull\n\n$size\n\n$group\n\n$cond\n\n\"&lt;empty-array&gt;\"",
    "resolution": "You are making a mistake right from the beginning of your aggregation pipeline $project: { \"tasks\" : 1 } by which you lose all your data. So first of all you need to reserve it doing: $project: { tasks: 1, doc: { title: \"$title\", order: \"$order\", description: \"$description\", status: \"$status\" } } Afterwards perform your $unwinds as you do in your question: {$unwind: \"$tasks\"}, {$unwind: \"$tasks.subTasks\"} Then do the sorting. You need to do the sorting with compound keys, otherwise the ordering by tasks.subTasks.order will not hold as soon as you sort by tasks.order. So: {$sort: {\"tasks.order\": -1, \"tasks.subTasks.order\": 1}} And then comes the hard part. You need to $group back the results, and the first step is to $push back the subTasks, but first of all, again you need to preserve the task attributes: $project: { doc: 1, task_id: \"$tasks._id\", tasks_doc: { title: \"$tasks.title\", description: \"$tasks.description\", order: \"$tasks.order\", status: \"$tasks.status\" }, subTasks: \"$tasks.subTasks\" } ...collect subTasks: $group: { _id: { _id: \"$_id\", task_id: \"$task_id\", doc: \"$doc\", task_doc: \"$tasks_doc\" }, subTasks: { $push: \"$subTasks\" } } And the same for the tasks. Pay attention that during the $grouping you also need to project back the task_doc attributes: $group: { _id: { _id: \"$_id._id\", doc: \"$_id.doc\" }, tasks: { $push: { _id: \"$_id.task_id\", title: \"$_id.task_doc.title\", description: \"$_id.task_doc.description\", order: \"$_id.task_doc.order\", status: \"$_id.task_doc.status\" subTasks: \"$subTasks\" } } } And then project back the root doc attributes: $project: { _id: \"$_id._id\", title: \"$_id.doc.title\", description: \"$_id.doc.description\", order: \"$_id.doc.order\", status: \"$_id.doc.status\", tasks: 1 } That is basically it. Here is the full raw aggregation pipeline, so you can test and see whether you get the desired result: [ {$match: {_id: ObjectId(\"554a13d4b692088a38f01f3b\")}}, {$project: {tasks: 1, doc: {title: \"$title\", order: \"$order\", description: \"$description\", status: \"$status\"}}}, {$unwind: \"$tasks\"}, {$unwind: \"$tasks.subTasks\"}, {$sort: {\"tasks.order\": -1, \"tasks.subTasks.order\": 1}}, {$project: {doc: 1, task_id: \"$tasks._id\", tasks_doc: {title: \"$tasks.title\", description: \"$tasks.description\", order: \"$tasks.order\", status: \"$tasks.status\"}, subTasks: \"$tasks.subTasks\"}}, {$group: {_id: {_id: \"$_id\", task_id: \"$task_id\", doc: \"$doc\", task_doc: \"$tasks_doc\"}, subTasks: {$push: \"$subTasks\"}}}, {$group: {_id: {_id: \"$_id._id\", doc: \"$_id.doc\"}, tasks: {$push: {_id: \"$_id.task_id\", title: \"$_id.task_doc.title\", description: \"$_id.task_doc.description\", order: \"$_id.task_doc.order\", status: \"$_id.task_doc.status\", subTasks: \"$subTasks\"}}}}, {$project: {_id: \"$_id._id\", title: \"$_id.doc.title\", description: \"$_id.doc.description\", order: \"$_id.doc.order\", status: \"$_id.doc.status\", tasks: 1}} ] UPDATE If an array field is empty or does not exist (is null) the $unwind operation on that field will return empty result. The solution to this situation is initially setting up the null/empty field to some zero value, e.g. \"<empty-array>\". Note, that you have to do this $projection for each array, before its $unwind. Take a look at this answer about how to use the $ifNull operator. Also check out the $size operator here. After dealing with this part, you need to $group back the results, and this can be achieved using the $cond operator, to check against the \"<empty-array>\" value",
    "severity": "medium",
    "tags": [
      "mongodb",
      "mongoose",
      "aggregation-framework"
    ],
    "metadata": {
      "stackoverflow_question_id": "30190555",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1170,
      "stackoverflow_creation_date": "2015-05-12T12:13:37.173Z"
    },
    "idempotency_key": "stackoverflow-30190555",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "div width adjusting to 100% if another div is hidden",
    "body": "How do I set the width of #leftdiv to 100% when #rightdiv is hidden, and when the button is clicked, both <div>s should be next to each other. I already got both <div>s next to each other on the button click, but I wanted to expand #leftdiv to 100% when #rightdiv is hidden. function toggleSideBar() { var div = document.getElementById('rightdiv'); if (div.style.display !== 'none') { div.style.display = 'none'; } else { div.style.display = 'block'; } }; #leftdiv { border: solid medium thick; float: left; display: inline-block; background-color: #ffc; /*border: 1px solid red;*/ } #rightdiv { width: 50%; border: solid medium thick; background-color: #ffa; display: none; float:right; } <input type=\"button\" id=\"btn\" value=\"toggle\" onclick=\"toggleSideBar()\" /> <div id=\"main-content\"> <div id=\"leftdiv\">selectable</div> <div id=\"rightdiv\">right panel</div> </div>`",
    "code": "#leftdiv\n\n#rightdiv\n\n&lt;div&gt;\n\n&lt;div&gt;\n\n#leftdiv\n\n#rightdiv\n\n# Solution Code:\n&lt;input type=&quot;button&quot; id=&quot;btn&quot; value=&quot;toggle&quot; onclick=&quot;toggleSideBar()&quot; /&gt;\n&lt;div id=&quot;main-content&quot;&gt;\n  &lt;div id=&quot;leftdiv&quot;&gt;selectable&lt;/div&gt;\n  &lt;div id=&quot;rightdiv&quot;&gt;right panel&lt;/div&gt;\n&lt;/div&gt;\n\n\n#main-content {\n  display: flex;\n  flex-flow: row nowrap;\n}\n\n#leftdiv {\n  background-color: #ffc;\n  flex: 1 1 auto;\n  border: 1px solid red;\n}\n\n#rightdiv {\n  flex: 1 1 auto;\n  background-color: #ffa;\n  display: none;\n  border: 1px solid green;\n}\n\n\nfunction toggleSideBar() {  \n    var div = document.getElementById('rightdiv');\n\n    if (div.style.display !== 'none') {\n        div.style.display = 'none';\n    } else {\n        div.style.display = 'block';\n    }\n};\n\n\nHTML\n\nCSS\n\nJS\n\nfloat\n\nwidth:100%\n\nflex: 1 1 auto;\n\nflex: 1 0 auto;",
    "resolution": "I would just use flex box for this: HTML <input type=\"button\" id=\"btn\" value=\"toggle\" onclick=\"toggleSideBar()\" /> <div id=\"main-content\"> <div id=\"leftdiv\">selectable</div> <div id=\"rightdiv\">right panel</div> </div> CSS #main-content { display: flex; flex-flow: row nowrap; } #leftdiv { background-color: #ffc; flex: 1 1 auto; border: 1px solid red; } #rightdiv { flex: 1 1 auto; background-color: #ffa; display: none; border: 1px solid green; } JS function toggleSideBar() { var div = document.getElementById('rightdiv'); if (div.style.display !== 'none') { div.style.display = 'none'; } else { div.style.display = 'block'; } }; The main reason your example did not work as you wanted is the use of float. Floating causes an element to only occupy the space needed by its content. Using float, you have to use width:100% for the left container to fix this. To make it switch dynamically from 50% to 100% width it would also be necessary to switch the style between those two in your toggle function. With flexbox all of this is no longer necessary as its children get ordered automatically by the direction you want, in this case as a row. Setting flex: 1 1 auto; for both containers makes them grow and shrink equally to occupy all the space they can get. (flex: 1 0 auto; would also work here, as the shrinking behavior does not make any difference in this example.)",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "css"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "30249753",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 2151,
      "stackoverflow_creation_date": "2015-05-15T00:40:56.397Z"
    },
    "idempotency_key": "stackoverflow-30249753",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Which vector and map, uses less memory (large set of data and unknown size)",
    "body": "I wonder which container uses less memory between std::map and std::vector with a large set of data. Loads of posts talk about efficiency, and my priority is not efficiency but memory consumption. So, if we don't know the number of our data (in my case can be over 12,000,000 entries, every entry is a string of 20 characters), is map really better than vector?",
    "code": "std::map\n\nstd::vector\n\n# Solution Code:\nstd::vector\n\nsizeof(string) * 12,000,000\n\nstd::vector\n\nstd::string\n\nstd::map",
    "resolution": "A std::vector must organise the strings in contiguous memory. (The standard insists on that). So the amount of contiguous memory in your example will be at least sizeof(string) * 12,000,000 for a std::vector. Fortunately, each string probably has its buffer in the heap: 20 characters is around the cut-off for std::string implementations that use a fixed buffer for short strings. std::map will not have this contiguity issue, so is probably a better container to use in this instance. But, overall, it will probably consume more memory. But that memory will be easier for the program to acquire.",
    "severity": "medium",
    "tags": [
      "c++",
      "stdvector",
      "stdmap",
      "large-data"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "30304079",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2951,
      "stackoverflow_creation_date": "2015-05-18T13:07:34.600Z"
    },
    "idempotency_key": "stackoverflow-30304079",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "using .each to loop through Json Response",
    "body": "I'm trying to loop through a json object with .each(), but I'm struggling with getting the syntax right. Ajax Call, which results in \"undefined\": $('.showGroup a').on('click', function(e) { e.preventDefault(); var _href = $(this).attr(\"href\"); $.ajax({ dataType: 'json', url : _href, type : 'GET', success : function(response) { $(\"#replace\").empty(); display = response; $.each(display, function(i, member) { alert(display[i].company_name); }); }, error : function() { console.log('error'); } }); }); if I just call alert(display[i]); my json object looks like this: {\"total\":134,\"per_page\":15,\"current_page\":1,\"last_page\":9,\"from\":1,\"to\":15,\"data\":[{\"id\":\"89\",\"company_name\":\"test\" ... I have also tried to nest another .each() loop, but I get the response: Uncaught TypeError: Cannot use 'in' operator to search for '17381' I have looked through several SO answers and tried various styles of .each loops, but I always get an undefined error. What am I missing? EDIT I am constructing json like this on backend: $members = $this->user->getMemberIds($loggedIn->id, $display, $associationFilter); $this->arrResponse['members'] = $members->toJson(); return Response::json($this->arrResponse);",
    "code": "$('.showGroup a').on('click', function(e) {\ne.preventDefault();\n    var _href = $(this).attr(\"href\");\n     $.ajax({\n       dataType: 'json',\n       url : _href,\n       type : 'GET',\n       success : function(response) {\n          $(\"#replace\").empty();\n          display = response;\n        $.each(display, function(i, member) {\n            alert(display[i].company_name);\n        });\n     },\n    error : function() {\n        console.log('error');\n    }\n  });\n});\n\n\n{\"total\":134,\"per_page\":15,\"current_page\":1,\"last_page\":9,\"from\":1,\"to\":15,\"data\":[{\"id\":\"89\",\"company_name\":\"test\" ...\n\n\n$members = $this-&gt;user-&gt;getMemberIds($loggedIn-&gt;id, $display, $associationFilter);\n           $this-&gt;arrResponse['members'] = $members-&gt;toJson();\nreturn Response::json($this-&gt;arrResponse);\n\n\n# Solution Code:\n$.each(display, function (i, member) {\nfor (var i in member) {\n    alert(\"Company Name: \" + member[i].company_name);\n }\n});\n",
    "resolution": "You can access the each loop this way: $.each(display, function (i, member) { for (var i in member) { alert(\"Company Name: \" + member[i].company_name); } }); DEMO",
    "severity": "high",
    "tags": [
      "jquery",
      "json",
      "each"
    ],
    "metadata": {
      "framework": "jquery",
      "stackoverflow_question_id": "30419974",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 15645,
      "stackoverflow_creation_date": "2015-05-24T04:04:39.610Z"
    },
    "idempotency_key": "stackoverflow-30419974",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Compile Angular2 ts file",
    "body": "I'm trying Angular2 using Typescript, but I have a problem with tsc. This is my tsconfig.json file: { \"compilerOptions\": { \"module\": \"commonjs\", \"noImplicitAny\": true, \"removeComments\": true, \"preserveConstEnums\": true, \"out\": \"compiled.js\", \"emitDecoratorMetadata\":true, \"target\":\"es5\" }, \"files\": [ \"ts/_base/_all.ts\" ] } This is my _all.ts file: ///<reference path=\"./typings/libs.d.ts\"/> ///<reference path=\"../app.ts\"/> ///<reference path=\"../controllers/loginCtrl.ts\"/> And this is my app controller: import {Component, View, bootstrap} from 'angular2/angular2'; @Component({ selector: 'my-app' }) @View({ template: `Hi` }) class MyAppComponent { constructor() { } } bootstrap(MyAppComponent); Normally running tsc I get a single output file (compiled.js), but using angular2 I get one .js file for each ts file (so tsc does not merge the output)... I noticed that the problem is present using the import statement: import {Component, View, bootstrap} from 'angular2/angular2'; Omitting this line, the output is correctly merged (but without the import I cannot use the module). What I'm doing wrong?",
    "code": "{\n\"compilerOptions\": {\n    \"module\": \"commonjs\",\n    \"noImplicitAny\": true,\n    \"removeComments\": true,\n    \"preserveConstEnums\": true,\n    \"out\": \"compiled.js\",\n    \"emitDecoratorMetadata\":true,\n    \"target\":\"es5\"\n},\n\"files\": [\n    \"ts/_base/_all.ts\"\n]\n}\n\n\n///&lt;reference path=\"./typings/libs.d.ts\"/&gt;\n///&lt;reference path=\"../app.ts\"/&gt;\n///&lt;reference path=\"../controllers/loginCtrl.ts\"/&gt;\n\n\nimport {Component, View, bootstrap} from 'angular2/angular2';\n\n@Component({\n    selector: 'my-app'\n})\n@View({\n    template: `Hi`\n})\n\nclass MyAppComponent \n{   \n    constructor() \n    {\n    }\n} \n\nbootstrap(MyAppComponent); \n\n\nimport {Component, View, bootstrap} from 'angular2/angular2';\n\n\n# Solution Code:\nimport\n\nimport {Component, View, bootstrap} from 'angular2/angular2';\n\n--out",
    "resolution": "Normally running tsc I get a single output file (compiled.js), but using angular2 I get one .js file for each ts file (so tsc does not merge the output)... This is because you are using import here : import {Component, View, bootstrap} from 'angular2/angular2'; This makes your code an external module (more : https://www.youtube.com/watch?v=KDrWLMUY0R0&hd=1). Note: I recommend external modules over --out anyways :https://github.com/TypeStrong/atom-typescript/blob/master/docs/out.md",
    "severity": "medium",
    "tags": [
      "typescript",
      "angular",
      "typescript1.5",
      "tsc"
    ],
    "metadata": {
      "language": "typescript",
      "framework": "angular",
      "stackoverflow_question_id": "30445936",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 7465,
      "stackoverflow_creation_date": "2015-05-25T21:00:07.553Z"
    },
    "idempotency_key": "stackoverflow-30445936",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Laravel queue with supervisord opening too many FIFO files",
    "body": "I'm running a Laravel queue job called \"webhooks\" using beanstalkd and supervisord on my Ubuntu server. I can see the job properly running with process ID 4403: webhooks RUNNING pid 4403, uptime 4 days, 19:47:01 As you can see, this job has been running for 4 days. In my error logs, I started to notice the following error appearing: error:02001018:system library:fopen:Too many open files When I ran lsof | php to see what files were open, I noticed a ton of files open that had type FIFO. Here's an expert from the output: COMMAND PID TID USER FD TYPE DEVICE SIZE/OFF NODE NAME php 4403 root 0r FIFO 0,8 0t0 9215811 pipe php 4403 root 1w FIFO 0,8 0t0 9215812 pipe php 4403 root 2w FIFO 0,8 0t0 9215812 pipe php 4403 root 3w FIFO 0,8 0t0 9215812 pipe php 4403 root 4w FIFO 0,8 0t0 9215812 pipe php 4403 root 8r FIFO 0,8 0t0 9215811 pipe php 4403 root 9r FIFO 0,8 0t0 9215811 pipe php 4403 root 10r FIFO 0,8 0t0 9215811 pipe php 4403 root 11r FIFO 0,8 0t0 9215811 pipe php 4403 root 12r FIFO 0,8 0t0 9215811 pipe php 4403 root 13r FIFO 0,8 0t0 9215811 pipe php 4403 root 14r FIFO 0,8 0t0 9215811 pipe php 4403 root 15r FIFO 0,8 0t0 9215811 pipe php 4403 root 16r FIFO 0,8 0t0 9215811 pipe php 4403 root 17r FIFO 0,8 0t0 9215811 pipe php 4403 root 18r FIFO 0,8 0t0 9215811 pipe php 4403 root 19r FIFO 0,8 0t0 9215811 pipe php 4403 root 20r FIFO 0,8 0t0 9215811 pipe php 4403 root 21r FIFO 0,8 0t0 9215811 pipe php 4403 root 22r FIFO 0,8 0t0 9215811 pipe php 4403 root 23r FIFO 0,8 0t0 9215811 pipe php 4403 root 24r FIFO 0,8 0t0 9215811 pipe php 4403 root 25r FIFO 0,8 0t0 9215811 pipe php 4403 root 26r FIFO 0,8 0t0 9215811 pipe php 4403 root 27r FIFO 0,8 0t0 9215811 pipe php 4403 root 28r FIFO 0,8 0t0 9215811 pipe php 4403 root 29r FIFO 0,8 0t0 9215811 pipe php 4403 root 30r FIFO 0,8 0t0 9215811 pipe php 4403 root 31r FIFO 0,8 0t0 9215811 pipe php 4403 root 32r FIFO 0,8 0t0 9215811 pipe php 4403 root 33r FIFO 0,8 0t0 9215811 pipe php 4403 root 34r FIFO 0,8 0t0 9215811 pipe php 4403 root 35r FIFO 0,8 0t0 9215811 pipe php 4403 root 36r FIFO 0,8 0t0 9215811 pipe This is just an excerpt. There are actually around 1200 of these FIFO files open. Does anyone know what is causing the files to be created? What types of code would cause the system to open a new FIFO file? What are these files used for?",
    "code": "webhooks                         RUNNING    pid 4403, uptime 4 days, 19:47:01\n\n\nerror:02001018:system library:fopen:Too many open files\n\n\nCOMMAND     PID   TID       USER   FD      TYPE             DEVICE SIZE/OFF       NODE NAME     \nphp        4403             root    0r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root    1w     FIFO                0,8      0t0    9215812 pipe\nphp        4403             root    2w     FIFO                0,8      0t0    9215812 pipe\nphp        4403             root    3w     FIFO                0,8      0t0    9215812 pipe\nphp        4403             root    4w     FIFO                0,8      0t0    9215812 pipe\nphp        4403             root    8r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root    9r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   10r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   11r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   12r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   13r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   14r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   15r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   16r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   17r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   18r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   19r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   20r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   21r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   22r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   23r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   24r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   25r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   26r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   27r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   28r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   29r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   30r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   31r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   32r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   33r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   34r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   35r     FIFO                0,8      0t0    9215811 pipe\nphp        4403             root   36r     FIFO                0,8      0t0    9215811 pipe\n\n\nlsof | php\n\nFIFO\n\nFIFO\n\n# Solution Code:\nroot             soft    nofile          10000\nroot             hard    nofile          10000\n\n\n/etc/security/limits.conf",
    "resolution": "I ended up increasing the file open limit on my system, and that seems to have fixed the problem. The supervisor docs say that: supervisord uses file descriptors liberally, and will enter a failure mode when one cannot be obtained from the OS After increasing my file open limit to 10,000, I have stopped seeing the error. I periodically check the number of open FIFO files, and there are times it's very high (in the thousands) and other times it's much lower (in the hundreds). So it looks like supervisor opens and closes these files constantly, and I just needed to make sure the system was allowing supervisor enough space to do its job. In case anyone is wondering, I increased the file limit by adding the following two lines to the bottom of /etc/security/limits.conf. root soft nofile 10000 root hard nofile 10000 I had to restart supervisor as well as log in and out of my system a few times before the new limit took effect, but eventually it worked.",
    "severity": "medium",
    "tags": [
      "php",
      "laravel",
      "supervisord",
      "beanstalkd"
    ],
    "metadata": {
      "language": "php",
      "framework": "laravel",
      "stackoverflow_question_id": "30573538",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 1692,
      "stackoverflow_creation_date": "2015-06-01T12:30:14.270Z"
    },
    "idempotency_key": "stackoverflow-30573538",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Swift: converting between Arrays of 'Protocol' and Arrays of implementing Class",
    "body": "Consider a protocol and a class that implements it: protocol MyProtocol { var x: Int { get } } class MyClass : MyProtocol { var x: Int = 5 } I have an array of type [MyClass] and I wish to assign it to a variable of type [MyProtocol]. However, this causes a error when attempted in Playground (XCode 6.3, Swift 1.2): var classArr: [MyClass] = [MyClass(), MyClass()] var protocolArrA: [MyProtocol] = classArr // Causes error: EXC_BAD_INSTRUCTION var protocolArrB: [MyProtocol] = classArr as [MyProtocol] // Causes error: EXC_BAD_INSTRUCTION var protocolArrC: [MyProtocol] = [MyProtocol](classArr) // Causes error: Cannot find an initializer for type [MyProtocol[ that accepts an argument list of type [MyClass] What is the correct way to make this assignment in Swift? P.S. Interestingly, when using a base class instead of a protocol, the expressions for protocolArrA and protocolArrB work without error. It is also interesting to note that assigning a newly created instance of [MyClass] also works well: var protocolArrD: [MyProtocol] = [MyClass]() // A-OK!",
    "code": "protocol MyProtocol {\n    var x: Int { get }\n}\n\nclass MyClass : MyProtocol {\n    var x: Int = 5\n}\n\n\nvar classArr: [MyClass] = [MyClass(), MyClass()]\n\nvar protocolArrA: [MyProtocol] = classArr // Causes error: EXC_BAD_INSTRUCTION\nvar protocolArrB: [MyProtocol] = classArr as [MyProtocol] // Causes error: EXC_BAD_INSTRUCTION\nvar protocolArrC: [MyProtocol] = [MyProtocol](classArr) // Causes error: Cannot find an initializer for type [MyProtocol[ that accepts an argument list of type [MyClass]\n\n\nvar protocolArrD: [MyProtocol] = [MyClass]()   // A-OK!\n\n\n[MyClass]\n\n[MyProtocol]\n\nprotocolArrA\n\nprotocolArrB\n\n# Solution Code:\nprotocol MyProtocol {\n    var x: Int { get }\n}\n\nclass MyClass : MyProtocol {\n    var x: Int = 5\n}\n\nvar classArr: [MyClass] = [MyClass(), MyClass()]\n\nvar protocolArrA:[MyProtocol] = classArr.map{$0 as MyProtocol}\nvar andBack:[MyClass] = protocolArrA.map{$0 as! MyClass}\n\n\nvar classArr = [MyClass(), MyClass()]\n\nvar protocolArrA = classArr.map{$0 as MyProtocol}\nvar andBack = protocolArrA.map{$0 as! MyClass}\n",
    "resolution": "You can use map to cast each element to the desired type: protocol MyProtocol { var x: Int { get } } class MyClass : MyProtocol { var x: Int = 5 } var classArr: [MyClass] = [MyClass(), MyClass()] var protocolArrA:[MyProtocol] = classArr.map{$0 as MyProtocol} var andBack:[MyClass] = protocolArrA.map{$0 as! MyClass} Note, Swift is able to infer all of the array types above, so this can be written more succinctly as: var classArr = [MyClass(), MyClass()] var protocolArrA = classArr.map{$0 as MyProtocol} var andBack = protocolArrA.map{$0 as! MyClass}",
    "severity": "medium",
    "tags": [
      "ios",
      "arrays",
      "swift",
      "generics"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "30705045",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 1751,
      "stackoverflow_creation_date": "2015-06-08T09:03:58.103Z"
    },
    "idempotency_key": "stackoverflow-30705045",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "NestedScrollview overlapping CollapsingToolbarLayout like gmusic app",
    "body": "I would like to replicate the behavior of the google play music android app. In that app when you use \"My music\" album tab, the list of albums starts Over the actionbar (the orange part) as it is \"extended\". When you scroll up the albums list, that orange part scroll up but more slowly than the list. When you scroll down the list the \"orange block\" also scrolls down. This behavior is independent of the toolbar and tabs being scrolled. I'm trying to reproduce such behavior with the new material design library. Using as a starting point the detail activity xml from Cheesquare: <android.support.design.widget.CoordinatorLayout android:id=\"@+id/main_content\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\"> <android.support.design.widget.AppBarLayout android:id=\"@+id/appbar\" android:layout_width=\"match_parent\" android:layout_height=\"@dimen/detail_backdrop_height\" android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\" android:fitsSystemWindows=\"true\"> <android.support.design.widget.CollapsingToolbarLayout android:id=\"@+id/collapsing_toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" app:layout_scrollFlags=\"scroll|enterAlways|enterAlwaysCollapsed\" android:fitsSystemWindows=\"true\" app:contentScrim=\"?attr/colorPrimary\" app:expandedTitleMarginStart=\"48dp\" app:expandedTitleMarginEnd=\"64dp\"> <ImageView android:id=\"@+id/backdrop\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:scaleType=\"centerCrop\" android:fitsSystemWindows=\"true\" app:layout_collapseMode=\"parallax\" /> <android.support.v7.widget.Toolbar android:id=\"@+id/toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" app:layout_collapseMode=\"pin\" /> </android.support.design.widget.CollapsingToolbarLayout> </android.support.design.widget.AppBarLayout> <android.support.v4.widget.NestedScrollView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"> <LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:orientation=\"vertical\" android:paddingTop=\"24dp\"> <....> </LinearLayout> </android.support.v4.widget.NestedScrollView> </android.support.design.widget.CoordinatorLayout> I have tried to use the backdrop \"imageview\" with a color background, and try to move it alongside the nestedview. If I put the imageview inside the CollapsingToolbarLayout with a parallax effect, the problem is that I can't make its heigh bigger to be under the nestedscrollview. If I put the imageview outside the collapsingToolbarLayout but inside the NestedScrollView, I can't change the \"velocity\" of the viewScrolling. If I put the imageview outside the NestedScrollview, it is drawn over the toolbar even when the toolbar is pined. Before the material design library, I used a view and a callback to the scrollview to move it up and down, but I want to use the new library as it very clean its remove a lot of boilerplate code. Any ideas?",
    "code": "&lt;android.support.design.widget.CoordinatorLayout \n    android:id=\"@+id/main_content\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"&gt;\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"@dimen/detail_backdrop_height\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/collapsing_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"      \n                app:layout_scrollFlags=\"scroll|enterAlways|enterAlwaysCollapsed\"\n            android:fitsSystemWindows=\"true\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:expandedTitleMarginEnd=\"64dp\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/backdrop\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:scaleType=\"centerCrop\"\n            android:fitsSystemWindows=\"true\"\n            app:layout_collapseMode=\"parallax\" /&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"?attr/actionBarSize\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n            app:layout_collapseMode=\"pin\" /&gt;\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n        &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:orientation=\"vertical\"\n            android:paddingTop=\"24dp\"&gt;\n        &lt;....&gt;\n       &lt;/LinearLayout&gt;\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n\n\n# Solution Code:\n&lt;android.support.v4.widget.NestedScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    app:behavior_overlapTop=\"64dp\"&gt;\n\n\nNestedScrollView scrollView = ...\nCoordinatorLayout.LayoutParams params = \n    (CoordinatorLayout.LayoutParams) scrollView.getLayoutParams();\nAppBarLayout.ScrollingViewBehavior behavior =\n    (AppBarLayout.ScrollingViewBehavior) params.getBehavior();\nbehavior.setOverlayTop(128); // Note: in pixels\n\n\napp:behavior_overlayTop\n\nNestedScrollView\n\napp:behavior_overlapTop\n\napp:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n\nbehavior_",
    "resolution": "In fact, overlaying the scrolling view with the AppBarLayout doesn't require any of that: you can use the app:behavior_overlayTop attribute on your NestedScrollView to set the overlap amount: <android.support.v4.widget.NestedScrollView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" app:behavior_overlapTop=\"64dp\"> Note that app:behavior_overlapTop only works on views that have the app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" as it is the Behavior that is using the attribute (not the View or the Parent ViewGroup, as attributes usually apply to), hence the behavior_ prefix. Or set it programmatically via setOverlayTop(): NestedScrollView scrollView = ... CoordinatorLayout.LayoutParams params = (CoordinatorLayout.LayoutParams) scrollView.getLayoutParams(); AppBarLayout.ScrollingViewBehavior behavior = (AppBarLayout.ScrollingViewBehavior) params.getBehavior(); behavior.setOverlayTop(128); // Note: in pixels",
    "severity": "medium",
    "tags": [
      "android",
      "material-design",
      "android-design-library",
      "android-collapsingtoolbarlayout"
    ],
    "metadata": {
      "stackoverflow_question_id": "30738969",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7107,
      "stackoverflow_creation_date": "2015-06-09T17:33:15.153Z"
    },
    "idempotency_key": "stackoverflow-30738969",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "material-dialogs with edit text and multi choice",
    "body": "I am using afollestad/material-dialogs to create dialog with edit text and positive and negative buttons. What I want to achieve is adding multi choice input so the user can select an item from a list of items. my code so far looks like that: private void buildAlertDialog() { final String[] str = {\"\"}; MaterialDialog builder = new MaterialDialog.Builder(this) .title(\"Add Item\") .widgetColor(getResources().getColor(R.color.ColorPrimaryDark)) .inputMaxLength(30,R.color.material_blue_grey_950) .inputType(InputType.TYPE_CLASS_TEXT) .input(\"add shopping item\", \"\", new MaterialDialog.InputCallback() { @Override public void onInput(MaterialDialog dialog, CharSequence input) { str[0] = input.toString(); //add it to shoppingListItems and save to sharedPreferences shoppingListItems.add(str[0]); saveShoppingItems(); isListEmpty(); } }).negativeText(\"Cancel\").show(); } I tried to add neutral button (\"add quantity\") and when its pressed it displays another dialog, which was Multilist dialog. The problem was that when I press the positive button on this dialog the previous one (the one on the picture) hidden as well. I don't want that. Does anybody as an idea of how can I achieve a dialog with input edit text (for the shopping item) and a multi list choices ? (preferably in one dialog) What I have now looks like that:",
    "code": " private void buildAlertDialog() {\n    final String[] str = {\"\"};\n    MaterialDialog builder = new MaterialDialog.Builder(this)\n            .title(\"Add Item\")\n            .widgetColor(getResources().getColor(R.color.ColorPrimaryDark))\n            .inputMaxLength(30,R.color.material_blue_grey_950)\n            .inputType(InputType.TYPE_CLASS_TEXT)\n            .input(\"add shopping item\", \"\", new MaterialDialog.InputCallback() {\n                @Override\n                public void onInput(MaterialDialog dialog, CharSequence input) {\n                    str[0] = input.toString();\n                    //add it to shoppingListItems and save to sharedPreferences\n                    shoppingListItems.add(str[0]);\n                    saveShoppingItems();\n                    isListEmpty();\n                }\n            }).negativeText(\"Cancel\").show();\n}\n",
    "severity": "high",
    "tags": [
      "android",
      "material-design",
      "android-dialog"
    ],
    "metadata": {
      "stackoverflow_question_id": "30951509",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 10793,
      "stackoverflow_creation_date": "2015-06-20T07:35:53.660Z"
    },
    "idempotency_key": "stackoverflow-30951509",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Retain specific component in PCA",
    "body": "I have an numpy array called \"data\" which has 500 rows and 500 columns. Using PCA from sklearn I can compress this to 500 rows and 15 columns. I believe that in essence I go from 500 axes and 500 points to 15 axes and 500 points. The axes are all orthogonal and explain my data very well. But I want to know if there's anyway to ensure that one of the 15 axes (that I get after running PCA) is also one of the original 500. That is, can I keep one of the original axes and use PCA (or some-other method) to find the remaining 14? My code is given below: from sklearn.decomposition import PCA #data is some 500x500 numpy array pca = PCA(n_components = 15) pca_result = pca.fit_transform(data) #pca_result is a 500x15 numpy array",
    "code": "from sklearn.decomposition import PCA\n#data is some 500x500 numpy array\npca = PCA(n_components = 15)\npca_result = pca.fit_transform(data)\n#pca_result is a 500x15 numpy array\n",
    "severity": "low",
    "tags": [
      "python",
      "python-2.7",
      "numpy",
      "scikit-learn",
      "pca"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "30960716",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 654,
      "stackoverflow_creation_date": "2015-06-21T02:29:47.697Z"
    },
    "idempotency_key": "stackoverflow-30960716",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Struts2 Session cluster - Issue with non serialized object - when TokenSessionInterceptor is used(2.3.16) version",
    "body": "I am trying to configure, Session clustering for one of my struts2 based application, but it fails if I use TokenSessionInterceptor in application. Following error is observed in logs when session persistence is in progress. java.io.NotSerializableException: com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1164) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330) at com.opensymphony.xwork2.inject.util.ReferenceMap.writeObject(ReferenceMap.java:595) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1469) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330) at java.util.HashMap.writeObject(HashMap.java:1001) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25) at java.lang.reflect.Method.invoke(Method.java:597) at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945) at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1469) at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400) at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158) at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330) at org.apache.jsp.showSession_jsp._jspService(showSession_jsp.java:178) at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70) at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432) at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390) at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334) at javax.servlet.http.HttpServlet.service(HttpServlet.java:727) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748) at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486) at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411) at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338) at org.apache.struts2.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:164) at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186) at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:371) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:275) at org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265) at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.interceptor.TokenSessionStoreInterceptor.handleValidToken(TokenSessionStoreInterceptor.java:169) at org.apache.struts2.interceptor.TokenSessionStoreInterceptor.handleToken(TokenSessionStoreInterceptor.java:116) at org.apache.struts2.interceptor.TokenInterceptor.doIntercept(TokenInterceptor.java:142) at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98) at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246) at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54) at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562) at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77) at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607) at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315) at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908) at java.lang.Thread.run(Thread.java:662) I have seen reference for similar issue here, which mentions about fixing this issue, but issue still exists when used version 2.3.16. Let me know if anyone has solution for it. Thanks",
    "code": "java.io.NotSerializableException: com.opensymphony.xwork2.inject.ContainerImpl$ConstructorInjector\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1164)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330)\n        at com.opensymphony.xwork2.inject.util.ReferenceMap.writeObject(ReferenceMap.java:595)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1469)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1518)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1483)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330)\n        at java.util.HashMap.writeObject(HashMap.java:1001)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n        at java.lang.reflect.Method.invoke(Method.java:597)\n        at java.io.ObjectStreamClass.invokeWriteObject(ObjectStreamClass.java:945)\n        at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1469)\n        at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1400)\n        at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1158)\n        at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:330)\n        at org.apache.jsp.showSession_jsp._jspService(showSession_jsp.java:178)\n        at org.apache.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n        at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:432)\n        at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n        at org.apache.jasper.servlet.JspServlet.service(JspServlet.java:334)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n        at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:748)\n        at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:486)\n        at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:411)\n        at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:338)\n        at org.apache.struts2.dispatcher.ServletDispatcherResult.doExecute(ServletDispatcherResult.java:164)\n        at org.apache.struts2.dispatcher.StrutsResultSupport.execute(StrutsResultSupport.java:186)\n        at com.opensymphony.xwork2.DefaultActionInvocation.executeResult(DefaultActionInvocation.java:371)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:275)\n        at org.apache.struts2.interceptor.DeprecationInterceptor.intercept(DeprecationInterceptor.java:41)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.debugging.DebuggingInterceptor.intercept(DebuggingInterceptor.java:256)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.DefaultWorkflowInterceptor.doIntercept(DefaultWorkflowInterceptor.java:167)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.validator.ValidationInterceptor.doIntercept(ValidationInterceptor.java:265)\n        at org.apache.struts2.interceptor.validation.AnnotationValidationInterceptor.doIntercept(AnnotationValidationInterceptor.java:68)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ConversionErrorInterceptor.intercept(ConversionErrorInterceptor.java:138)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ParametersInterceptor.doIntercept(ParametersInterceptor.java:249)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.StaticParametersInterceptor.intercept(StaticParametersInterceptor.java:191)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.MultiselectInterceptor.intercept(MultiselectInterceptor.java:73)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.CheckboxInterceptor.intercept(CheckboxInterceptor.java:91)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.FileUploadInterceptor.intercept(FileUploadInterceptor.java:252)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ModelDrivenInterceptor.intercept(ModelDrivenInterceptor.java:100)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ScopedModelDrivenInterceptor.intercept(ScopedModelDrivenInterceptor.java:141)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ChainingInterceptor.intercept(ChainingInterceptor.java:145)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.PrepareInterceptor.doIntercept(PrepareInterceptor.java:171)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.I18nInterceptor.intercept(I18nInterceptor.java:139)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.ServletConfigInterceptor.intercept(ServletConfigInterceptor.java:164)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.AliasInterceptor.intercept(AliasInterceptor.java:193)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at com.opensymphony.xwork2.interceptor.ExceptionMappingInterceptor.intercept(ExceptionMappingInterceptor.java:189)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.interceptor.TokenSessionStoreInterceptor.handleValidToken(TokenSessionStoreInterceptor.java:169)\n        at org.apache.struts2.interceptor.TokenSessionStoreInterceptor.handleToken(TokenSessionStoreInterceptor.java:116)\n        at org.apache.struts2.interceptor.TokenInterceptor.doIntercept(TokenInterceptor.java:142)\n        at com.opensymphony.xwork2.interceptor.MethodFilterInterceptor.intercept(MethodFilterInterceptor.java:98)\n        at com.opensymphony.xwork2.DefaultActionInvocation.invoke(DefaultActionInvocation.java:246)\n        at org.apache.struts2.impl.StrutsActionProxy.execute(StrutsActionProxy.java:54)\n        at org.apache.struts2.dispatcher.Dispatcher.serviceAction(Dispatcher.java:562)\n        at org.apache.struts2.dispatcher.ng.ExecuteOperations.executeAction(ExecuteOperations.java:77)\n        at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.doFilter(StrutsPrepareAndExecuteFilter.java:99)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n        at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n        at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n        at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n        at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:315)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n        at java.lang.Thread.run(Thread.java:662)\n\n\nstruts2\n\nTokenSessionInterceptor",
    "severity": "low",
    "tags": [
      "struts2",
      "session-management",
      "struts2-interceptors"
    ],
    "metadata": {
      "stackoverflow_question_id": "30964736",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 255,
      "stackoverflow_creation_date": "2015-06-21T12:55:33.863Z"
    },
    "idempotency_key": "stackoverflow-30964736",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "php mysql select insert on different DBs in same server",
    "body": "I have two DBs on the same server. Table1 in db1 has 11 columns, and around 8 million rows of data. I want to insert four columns' worth of table1 data (i.e., 4 columns x 8 million rows) into table2 in db2. I tried this using php in the script below, first selecting everything in db1.table1 then inserting the results inside a while loop. But -- based on an experiment to insert 10,000 rows (which took 7 minutes) I think it will take 12 hours to put all 8 million rows into db2.table2. My approach appears extremely inefficient, but have a look: <?php /////////// set up connections to db1 and db1 $link = new mysqli('localhost', 'root', '', 'db1'); /////////// query to get data from db1/table1 $sql1 = \"select * from db1.table1\"; $sql1_result = mysqli_query($link, $sql1) or die (\"sql1 failed: \" . mysqli_error()); /////////// turn data from db1.table1 into php variables while ( $row = mysqli_fetch_assoc($sql1_result)) { extract($row);// gives 8 million rows, each containing 11 pieces of data /////////// connect to database db2 $link->select_db('db2'); /////////// put query results into db2 $sql2 = \"insert ignore into db2.table2 (field4, field5, field6, field7) values ('$field4', '$field5', '$field6', '$field7')\"; $sql2_result = mysqli_query($link, $sql2) or die (\"sql2 failed: \" . mysqli_error()); } ?> After researching, I wonder if doing an INSERT INTO SELECT would be faster and more efficient, but I can't figure out how to handle the two db connections. Any ideas?",
    "code": "&lt;?php\n\n   ///////////  set up connections to db1 and db1\n$link = new mysqli('localhost', 'root', '', 'db1');\n\n/////////// query to get data from db1/table1 \n$sql1 = \"select * from db1.table1\";\n$sql1_result = mysqli_query($link, $sql1) or die (\"sql1 failed: \" . mysqli_error());\n\n/////////// turn data from db1.table1 into php variables\n        while ( $row = mysqli_fetch_assoc($sql1_result))\n    {   \n            extract($row);// gives 8 million rows, each containing 11 pieces of data\n\n/////////// connect to database db2 \n$link-&gt;select_db('db2');\n\n/////////// put query results into db2\n$sql2 = \"insert ignore into db2.table2  (field4, field5, field6, field7)\nvalues ('$field4', '$field5', '$field6', '$field7')\";\n$sql2_result = mysqli_query($link, $sql2) or die (\"sql2 failed: \" . mysqli_error()); \n}\n?&gt;\n",
    "severity": "low",
    "tags": [
      "php",
      "mysql",
      "insert-into"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "30986892",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 148,
      "stackoverflow_creation_date": "2015-06-22T18:08:34.700Z"
    },
    "idempotency_key": "stackoverflow-30986892",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Gulp Error: spawn EACCES",
    "body": "gulpfile.js 'use strict'; var gulp = require('gulp'); gulp.paths = { src: 'src', dist: 'dist', tmp: '.tmp', e2e: 'e2e' }; require('require-dir')('./gulp'); gulp.task('build', ['clean'], function () { gulp.start('buildapp'); }); gulp/server.js 'use strict'; var gulp = require('gulp'); var paths = gulp.paths; var util = require('util'); var browserSync = require('browser-sync'); var middleware = require('./proxy'); function browserSyncInit(baseDir, files, browser) { browser = browser === undefined ? 'default' : browser; var routes = null; if(baseDir === paths.src || (util.isArray(baseDir) && baseDir.indexOf(paths.src) !== -1)) { routes = { '/bower_components': 'bower_components' }; } browserSync.instance = browserSync.init(files, { startPath: '/', server: { baseDir: baseDir, middleware: middleware, routes: routes }, browser: browser }); } gulp.task('serve', ['watch'], function () { browserSyncInit([ paths.tmp + '/serve', paths.src, ], [ paths.tmp + '/serve/{app,components}/**/*.css', paths.src + '/{app,components}/**/*.js', paths.src + 'src/assets/images/**/*', paths.tmp + '/serve/*.html', paths.tmp + '/serve/{app,components}/**/*.html', paths.src + '/{app,components}/**/*.html' ]); }); gulp.task('serve:dist', ['buildapp'], function () { browserSyncInit(paths.dist); }); gulp.task('serve:e2e', ['inject'], function () { browserSyncInit([paths.tmp + '/serve', paths.src], null, []); }); gulp.task('serve:e2e-dist', ['buildapp'], function () { browserSyncInit(paths.dist, null, []); }); node version: v0.10.25 npm version: 1.3.10 gulp CLI and Local version: 3.9.0 OS: Ubuntu 14.04.2 LTS I also install all node packages correctly and no errors. But if I run gulp serve I get the Error: spawn EACCES I clearly uninstalled node, npm, bower, gulp etc. and installed them back already but it doesn't solved the problem. Here's the whole error log when I run gulp serve: [22:15:33] Using gulpfile /media/culaste/Data/Code/sampleapp/source/gulpfile.js [22:15:33] Starting 'styles'... [22:15:34] gulp-inject 26 files into app.scss. [22:15:34] Finished 'styles' after 1.24 s [22:15:34] Starting 'inject'... [22:15:34] gulp-inject 1 files into 404.tmpl.html. [22:15:34] gulp-inject 1 files into 500.tmpl.html. [22:15:35] gulp-inject 1 files into index.html. [22:15:35] gulp-inject 105 files into 404.tmpl.html. [22:15:35] gulp-inject 105 files into 500.tmpl.html. [22:15:35] gulp-inject 105 files into index.html. [22:15:35] Finished 'inject' after 668 ms [22:15:35] Starting 'watch'... [22:15:36] Finished 'watch' after 1.19 s [22:15:36] Starting 'serve'... [22:15:36] Finished 'serve' after 94 ms [BS] Local URL: http://localhost:3000/ [BS] External URL: http://192.168.8.101:3000/ [BS] Serving files from: .tmp/serve [BS] Serving files from: src [BS] Watching files... events.js:72 throw er; // Unhandled 'error' event ^ Error: spawn EACCES at errnoException (child_process.js:988:11) at Process.ChildProcess._handle.onexit (child_process.js:779:34)",
    "code": "'use strict';\n\nvar gulp = require('gulp');\n\ngulp.paths = {\n  src: 'src',\n  dist: 'dist',\n  tmp: '.tmp',\n  e2e: 'e2e'\n};\n\nrequire('require-dir')('./gulp');\n\ngulp.task('build', ['clean'], function () {\n    gulp.start('buildapp');\n});\n\n\n'use strict';\n\nvar gulp = require('gulp');\n\nvar paths = gulp.paths;\n\nvar util = require('util');\n\nvar browserSync = require('browser-sync');\n\nvar middleware = require('./proxy');\n\nfunction browserSyncInit(baseDir, files, browser) {\n  browser = browser === undefined ? 'default' : browser;\n\n  var routes = null;\n  if(baseDir === paths.src || (util.isArray(baseDir) &amp;&amp; baseDir.indexOf(paths.src) !== -1)) {\n    routes = {\n      '/bower_components': 'bower_components'\n    };\n  }\n\n  browserSync.instance = browserSync.init(files, {\n    startPath: '/',\n    server: {\n      baseDir: baseDir,\n      middleware: middleware,\n      routes: routes\n    },\n    browser: browser\n  });\n}\n\ngulp.task('serve', ['watch'], function () {\n  browserSyncInit([\n    paths.tmp + '/serve',\n    paths.src,\n  ], [\n    paths.tmp + '/serve/{app,components}/**/*.css',\n    paths.src + '/{app,components}/**/*.js',\n    paths.src + 'src/assets/images/**/*',\n    paths.tmp + '/serve/*.html',\n    paths.tmp + '/serve/{app,components}/**/*.html',\n    paths.src + '/{app,components}/**/*.html'\n  ]);\n});\n\ngulp.task('serve:dist', ['buildapp'], function () {\n  browserSyncInit(paths.dist);\n});\n\ngulp.task('serve:e2e', ['inject'], function () {\n  browserSyncInit([paths.tmp + '/serve', paths.src], null, []);\n});\n\ngulp.task('serve:e2e-dist', ['buildapp'], function () {\n  browserSyncInit(paths.dist, null, []);\n});\n\n\n[22:15:33] Using gulpfile /media/culaste/Data/Code/sampleapp/source/gulpfile.js\n[22:15:33] Starting 'styles'...\n[22:15:34] gulp-inject 26 files into app.scss.\n[22:15:34] Finished 'styles' after 1.24 s\n[22:15:34] Starting 'inject'...\n[22:15:34] gulp-inject 1 files into 404.tmpl.html.\n[22:15:34] gulp-inject 1 files into 500.tmpl.html.\n[22:15:35] gulp-inject 1 files into index.html.\n[22:15:35] gulp-inject 105 files into 404.tmpl.html.\n[22:15:35] gulp-inject 105 files into 500.tmpl.html.\n[22:15:35] gulp-inject 105 files into index.html.\n[22:15:35] Finished 'inject' after 668 ms\n[22:15:35] Starting 'watch'...\n[22:15:36] Finished 'watch' after 1.19 s\n[22:15:36] Starting 'serve'...\n[22:15:36] Finished 'serve' after 94 ms\n[BS] Local URL: http://localhost:3000/\n[BS] External URL: http://192.168.8.101:3000/\n[BS] Serving files from: .tmp/serve\n[BS] Serving files from: src\n[BS] Watching files...\n\nevents.js:72\n        throw er; // Unhandled 'error' event\n              ^\nError: spawn EACCES\n    at errnoException (child_process.js:988:11)\n    at Process.ChildProcess._handle.onexit (child_process.js:779:34)\n\n\nv0.10.25\n\n1.3.10\n\n3.9.0\n\nUbuntu 14.04.2 LTS\n\ngulp serve\n\nError: spawn EACCES\n\ngulp serve\n\n# Solution Code:\nbrowserSync.instance = browserSync.init(files, {\n    startPath: '/',\n    open:false,\n    server: {\n      baseDir: baseDir,\n      middleware: middleware,\n      routes: routes\n    },\n    browser: browser\n  });\n\n\nopen: false",
    "resolution": "The problem was when browserSync tries to open my browser, it throws the error because of permission issue. adding open: false solves the problem. gulp/server.js browserSync.instance = browserSync.init(files, { startPath: '/', open:false, server: { baseDir: baseDir, middleware: middleware, routes: routes }, browser: browser }); I know it's not already necessary to fix the permission issue but I think maybe it would be nice if when you run your development server, it will automatically opens the browser(new tab if browser is already open) for you. Any suggestions and/or solutions are greatly appreciated. Thank you everyone.",
    "severity": "medium",
    "tags": [
      "angularjs",
      "node.js",
      "npm",
      "gulp",
      "yo"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "31005867",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 7308,
      "stackoverflow_creation_date": "2015-06-23T14:38:53.530Z"
    },
    "idempotency_key": "stackoverflow-31005867",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python: Sending Raw XML via Suds (jurko)",
    "body": "I'm interfacing with a SOAP API, wherein a particular method requires a raw XML string as a parameter. Like so: import suds.client as sudscl client = sudscl.Client('http://host/ws.wsdl', location='http://host/ws') session = 'test123' options = '<rawXML><Item>Foobar</Item></rawXML>' result = client.service.ExecuteSearch(session, options) Pretty straight-forward. However, suds HTML-encodes the XML string I just sent in, like this: <?xml version=\"1.0\" encoding=\"UTF-8\"?> <SOAP-ENV:Envelope xmlns:ns0=\"http://host/ws\"> <SOAP-ENV:Header/> <ns1:Body> <ns0:ExecuteSearch> <ns0:session>test123</ns0:session> <ns0:options> &lt;rawXML&rt;&lt;Item&rt;Foobar&lt;/Item&rt;&lt;/rawXML&rt; </ns0:options> </ns0:ExecuteSearch> </ns1:Body> </SOAP-ENV:Envelope> Boo! Is there any way to get suds to pass in the XML string un-altered? Thanks!",
    "code": "import suds.client as sudscl\n\nclient = sudscl.Client('http://host/ws.wsdl', location='http://host/ws')\n\nsession = 'test123'\noptions = '&lt;rawXML&gt;&lt;Item&gt;Foobar&lt;/Item&gt;&lt;/rawXML&gt;'\n\nresult = client.service.ExecuteSearch(session, options)\n\n\n &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n &lt;SOAP-ENV:Envelope xmlns:ns0=\"http://host/ws\"&gt;\n   &lt;SOAP-ENV:Header/&gt;\n   &lt;ns1:Body&gt;\n     &lt;ns0:ExecuteSearch&gt;\n        &lt;ns0:session&gt;test123&lt;/ns0:session&gt;\n        &lt;ns0:options&gt;\n          &amp;lt;rawXML&amp;rt;&amp;lt;Item&amp;rt;Foobar&amp;lt;/Item&amp;rt;&amp;lt;/rawXML&amp;rt;\n        &lt;/ns0:options&gt;\n     &lt;/ns0:ExecuteSearch&gt;\n   &lt;/ns1:Body&gt;\n &lt;/SOAP-ENV:Envelope&gt;\n\n\n# Solution Code:\nfrom suds.sax.text import Raw\nimport suds.client as sudscl\n\nclient = sudscl.Client('http://host/ws.wsdl', location='http://host/ws')\n\nsession = 'test123'\noptions = Raw('&lt;rawXML&gt;&lt;Item&gt;Foobar&lt;/Item&gt;&lt;/rawXML&gt;')\n\nresult = client.service.ExecuteSearch(session, options)\n",
    "resolution": "Ok, got it. from suds.sax.text import Raw import suds.client as sudscl client = sudscl.Client('http://host/ws.wsdl', location='http://host/ws') session = 'test123' options = Raw('<rawXML><Item>Foobar</Item></rawXML>') result = client.service.ExecuteSearch(session, options)",
    "severity": "medium",
    "tags": [
      "python",
      "xml",
      "suds"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "31015531",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3389,
      "stackoverflow_creation_date": "2015-06-24T00:10:57.153Z"
    },
    "idempotency_key": "stackoverflow-31015531",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Displaying a Game Center Leaderboard in SpriteKit",
    "body": "I'm working on a game, and I'm looking for help or the code to display a GameCenter leaderboard in my app when a user clicks a button. I have no clue where to start as all of the other answers seem to be for Obj-C, thanks! EDIT: The Below answer worked perfectly, but for those wondering how to do this within SpriteKit, simply add the below methods to the GameViewController and add a Notification Center Observer NSNotificationCenter.defaultCenter().addObserver(self, selector: \"showLeaderboard\", name: \"showLeaderboard\", object: nil) In your SKScene Class, simply call to that observer. NSNotificationCenter.defaultCenter().postNotificationName(\"showLeaderboard\", object: nil) Just to help out those wondering!",
    "code": "NSNotificationCenter.defaultCenter().addObserver(self, selector: \"showLeaderboard\", name: \"showLeaderboard\", object: nil)\n\n\nNSNotificationCenter.defaultCenter().postNotificationName(\"showLeaderboard\", object: nil)\n\n\nGameViewController\n\nSKScene\n\n# Solution Code:\nclass ViewController: UIViewController, GKGameCenterControllerDelegate\n\n\nfunc gameCenterViewControllerDidFinish(gcViewController: GKGameCenterViewController!) {\n    self.dismissViewControllerAnimated(true, completion: nil)\n}\n\n\nfunc showLeaderboard() {\n\n    // declare the Game Center viewController\n    var gcViewController: GKGameCenterViewController = GKGameCenterViewController()\n    gcViewController.gameCenterDelegate = self\n\n    gcViewController.viewState = GKGameCenterViewControllerState.Leaderboards\n\n    // Remember to replace \"Best Score\" with your Leaderboard ID (which you have created in iTunes Connect)\n    gcViewController.leaderboardIdentifier = \"Best_Score\"\n    // Finally present the Game Center ViewController\n    self.showViewController(gcViewController, sender: self)\n    self.navigationController?.pushViewController(gcViewController, animated: true)\n    self.presentViewController(gcViewController, animated: true, completion: nil)\n}\n\n\n@IBAction func buttonShowLeaderboard(sender: AnyObject) {\n    showLeaderboard()\n}\n\n\nGKGameCenterControllerDelegate\n\nshowLeaderboard\n\nUIButton",
    "resolution": "Include the GKGameCenterControllerDelegate protocol within your class. class ViewController: UIViewController, GKGameCenterControllerDelegate This method dismisses the Game Center view when \"Done\" is tapped: func gameCenterViewControllerDidFinish(gcViewController: GKGameCenterViewController!) { self.dismissViewControllerAnimated(true, completion: nil) } This function includes the code that is needed to display the leaderboard: func showLeaderboard() { // declare the Game Center viewController var gcViewController: GKGameCenterViewController = GKGameCenterViewController() gcViewController.gameCenterDelegate = self gcViewController.viewState = GKGameCenterViewControllerState.Leaderboards // Remember to replace \"Best Score\" with your Leaderboard ID (which you have created in iTunes Connect) gcViewController.leaderboardIdentifier = \"Best_Score\" // Finally present the Game Center ViewController self.showViewController(gcViewController, sender: self) self.navigationController?.pushViewController(gcViewController, animated: true) self.presentViewController(gcViewController, animated: true, completion: nil) } You can now trigger the function showLeaderboard by pressing a UIButton: @IBAction func buttonShowLeaderboard(sender: AnyObject) { showLeaderboard() }",
    "severity": "low",
    "tags": [
      "swift",
      "sprite-kit",
      "game-center",
      "gamekit",
      "game-center-leaderboard"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "31079285",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 705,
      "stackoverflow_creation_date": "2015-06-26T17:52:25.893Z"
    },
    "idempotency_key": "stackoverflow-31079285",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "In Shiny apps for R, how do I delay the firing of a reactive?",
    "body": "I have a selectizeInput in my Shiny app. It is in multiple-select mode, so the user can specify more than one selection. However, the reactives that depend on the selectizeInput get fired every time a selection is added. Suppose that the user intends to select A, B and C. Currently, my app will do it expensive computations for the selections A, A, B and A, B, C, when only the last is required. The best way I can think to solve this is to delay the firing of the selectizeInput by a second or so to give the user a chance to enter all of the selections. Each new selection should set the timer back to 1 second. I know that Shiny provides an invalidateLater command, but this causes the reactive to fire once now and once later. How can I get the reactive to only fire once later?",
    "code": "selectizeInput\n\nShiny\n\nselectizeInput\n\nA\n\nB\n\nC\n\nA\n\nA, B\n\nA, B, C\n\nselectizeInput\n\nShiny\n\ninvalidateLater",
    "resolution": "You should debounce the reactive. There is an R implementation here: https://gist.github.com/jcheng5/6141ea7066e62cafb31c # Returns a reactive that debounces the given expression by the given time in # milliseconds. # # This is not a true debounce in that it will not prevent \\code{expr} from being # called many times (in fact it may be called more times than usual), but # rather, the reactive invalidation signal that is produced by expr is debounced # instead. This means that this function should be used when \\code{expr} is # cheap but the things it will trigger (outputs and reactives that use # \\code{expr}) are expensive. debounce <- function(expr, millis, env = parent.frame(), quoted = FALSE, domain = getDefaultReactiveDomain()) { force(millis) f <- exprToFunction(expr, env, quoted) label <- sprintf(\"debounce(%s)\", paste(deparse(body(f)), collapse = \"\\n\")) v <- reactiveValues( trigger = NULL, when = NULL # the deadline for the timer to fire; NULL if not scheduled ) # Responsible for tracking when f() changes. observeEvent(f(), { # The value changed. Start or reset the timer. v$when <- Sys.time() + millis/1000 }, ignoreNULL = FALSE) # This observer is the timer. It rests until v$when elapses, then touches # v$trigger. observe({ if (is.null(v$when)) return() now <- Sys.time() if (now >= v$when) { v$trigger <- runif(1) v$when <- NULL } else { invalidateLater((v$when - now) * 1000, domain) } }) # This is the actual reactive that is returned to the user. It returns the # value of f(), but only invalidates/updates when v$trigger is touched. eventReactive(v$trigger, { f() }, ignoreNULL = FALSE) } #' @examples #' library(shiny) #' #' ui <- fluidPage( #' numericInput(\"val\", \"Change this rapidly, then pause\", 5), #' textOutput(\"out\") #' ) #' #' server <- function(input, output, session) { #' debounced <- debounce(input$val, 1000) #' output$out <- renderText( #' debounced() #' ) #' } #' #' shinyApp(ui, server)",
    "severity": "high",
    "tags": [
      "r",
      "timer",
      "delay",
      "shiny",
      "reactive-programming"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "31161372",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 10405,
      "stackoverflow_creation_date": "2015-07-01T12:29:31.750Z"
    },
    "idempotency_key": "stackoverflow-31161372",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "MySQL trigger DELETE old rows AFTER INSERT",
    "body": "Whats wrong with this MySQL trigger? After insert I'm trying to delete rows older than 1 month. This trigger only removes the last inserted row. CREATE TRIGGER `users_logins_delete_olds` AFTER INSERT ON `users_logins` FOR EACH ROW BEGIN DELETE FROM users_logins WHERE user_id = new.user_id AND timestamp < (NOW() - INTERVAL 1 MONTH); END",
    "code": "CREATE TRIGGER `users_logins_delete_olds` \nAFTER INSERT ON `users_logins` FOR EACH ROW \nBEGIN\n    DELETE FROM users_logins WHERE user_id = new.user_id AND timestamp &lt; (NOW() - INTERVAL 1 MONTH);\nEND\n",
    "severity": "medium",
    "tags": [
      "mysql",
      "triggers",
      "timestamp",
      "sql-delete"
    ],
    "metadata": {
      "stackoverflow_question_id": "31245125",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 6668,
      "stackoverflow_creation_date": "2015-07-06T11:50:49.293Z"
    },
    "idempotency_key": "stackoverflow-31245125",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Cordova/Phonegap change format input type date html5",
    "body": "I'm writing an Cordova/Phonegap app and I want to change the format of <input type=\"date\"/> because it change with system's browser. I want to set up it in this format \"dd-mm-yyyy\". How can I change this format? If I can't change it, is there alternative solution? With alternative solution, if there is, I want to use the calendar of the devide like when I use the tag above.",
    "code": "&lt;input type=\"date\"/&gt; \n",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "cordova",
      "date",
      "input"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "31378852",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1562,
      "stackoverflow_creation_date": "2015-07-13T08:40:31.890Z"
    },
    "idempotency_key": "stackoverflow-31378852",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Rewriting path with http-proxy-middleware",
    "body": "Trying to rewrite path of request with http-proxy-middleware. But trouble is that when i am writing such code: proxyMiddleware('/service/api', {target: 'http://192.168.70.99:8078/'}); It means that path like /service/api/export/1 will be redirected to http://192.168.70.99:8078/service/api/export/1; But I need to redirect it to http://192.168.70.99:8078/export/1. How can I do that?",
    "code": "proxyMiddleware('/service/api', {target: 'http://192.168.70.99:8078/'});\n\n\n# Solution Code:\nproxyMiddleware('/service/api', {\n  target: 'http://192.168.70.99:8078/',\n  pathRewrite: {\n    '^/service/api':'' //remove /service/api\n  }\n});\n\n\npathRewrite",
    "resolution": "You can pass the pathRewrite opiton and inside it use regex pattern to remove the path that you don't need: proxyMiddleware('/service/api', { target: 'http://192.168.70.99:8078/', pathRewrite: { '^/service/api':'' //remove /service/api } });",
    "severity": "high",
    "tags": [
      "node.js",
      "proxy",
      "gulp"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "31394043",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 25645,
      "stackoverflow_creation_date": "2015-07-13T21:44:12.393Z"
    },
    "idempotency_key": "stackoverflow-31394043",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "The Inverse of a bit-shift to the left in the format 1 << n",
    "body": "Let's say I have the following bit masks: 1 << 1, // 2 1 << 2, // 4 1 << 3, // 8 1 << 4, // 16 1 << 5, // 32 1 << 6 // 64 I would like to get the 'inverse'. This does the job: void foo(int n) { int c = 1; while (n/2 >= 2) { n /= 2; c++;; } println(c); } For example, 1 << 4 resulted in 16. If I run foo(16) it prints 4. However, I feel like it could be done a lot simpler, but I can't figure out how. Is it possible?",
    "code": "1 &lt;&lt; 1, // 2\n1 &lt;&lt; 2, // 4 \n1 &lt;&lt; 3, // 8 \n1 &lt;&lt; 4, // 16 \n1 &lt;&lt; 5, // 32 \n1 &lt;&lt; 6  // 64\n\n\nvoid foo(int n) {\n  int c = 1;\n  while (n/2 &gt;= 2) {\n    n /= 2;  \n    c++;;\n  }\n  println(c);\n}\n\n\n1 &lt;&lt; 4\n\nfoo(16)\n\n# Solution Code:\npublic void test() {\n    System.out.println(BigInteger.valueOf(16).getLowestSetBit());\n}\n\n\nBigInteger",
    "resolution": "BigInteger has many useful methods - including getLowestSetBit(). It probably does it as fast as it can possibly be done. public void test() { System.out.println(BigInteger.valueOf(16).getLowestSetBit()); }",
    "severity": "low",
    "tags": [
      "java",
      "bit-shift"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "31592565",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 468,
      "stackoverflow_creation_date": "2015-07-23T16:03:01.240Z"
    },
    "idempotency_key": "stackoverflow-31592565",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Regex split while reading from file",
    "body": "I have a text file and I am reading it line by line. I want to split a single line with ','. But I want the commas which are inside quotes \"\" to be skipped. I have tried following regex and it is not working correctly. How to do it. The contents of file are \"Mobile\",\"Custom1\",\"Custom2\",\"Custom3\",\"First Name\" \"61402818083\",\"service\",\"in Portsmith\",\"is\",\"First Name\" \"61402818083\",\"service\",\"in Parramatta Park\",\"is\",\"First Name\" \"61402818083\",\"services\",\"in postcodes 3000, 4000\",\"are\",\"First Name\" \"61402818083\",\"services\",\"in postcodes 3000, 4000, 5000\",\"are\",\"First Name\" \"61402818083\",\"services\",,\"are\",\"First Name\" The regex is as follows ,(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$) This regex is outputting the following for line 5 \"61402818083\" ,\"First Name\" \"services\" ,\"First Name\" \"in postcodes 3000, 4000, 5000\" ,\"First Name\" \"are\" \"First Name\" \"First Name\" The result should be as follows \"61402818083\" \"services\" \"in postcodes 3000, 4000, 5000\" \"are\" \"First Name\"",
    "code": "\"Mobile\",\"Custom1\",\"Custom2\",\"Custom3\",\"First Name\"\n\"61402818083\",\"service\",\"in Portsmith\",\"is\",\"First Name\"\n\"61402818083\",\"service\",\"in Parramatta Park\",\"is\",\"First Name\"\n\"61402818083\",\"services\",\"in postcodes 3000, 4000\",\"are\",\"First Name\"\n\"61402818083\",\"services\",\"in postcodes 3000, 4000, 5000\",\"are\",\"First Name\"\n\"61402818083\",\"services\",,\"are\",\"First Name\"\n\n\n,(?=([^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)\n\n\n\"61402818083\"\n,\"First Name\"\n\"services\"\n,\"First Name\"\n\"in postcodes 3000, 4000, 5000\"\n,\"First Name\"\n\"are\"\n\"First Name\"\n\"First Name\"\n\n\n\"61402818083\"\n\"services\"\n\"in postcodes 3000, 4000, 5000\"\n\"are\"\n\"First Name\"\n\n\n# Solution Code:\nusing System;\nusing System.Text.RegularExpressions;\n\npublic class Program\n{\n    public static void Main()\n    {\n        string line = \"\\\"61402818083\\\",\\\"services\\\",\\\"in postcodes 3000, 4000\\\",\\\"are\\\",\\\"First Name\\\"\";\n        var reg = new Regex(\"\\\".*?\\\"\");\n        var matches = reg.Matches(line);\n        foreach (var item in matches)\n        {\n            Console.WriteLine(item.ToString());\n        }\n    }\n}\n\n\n\"61402818083\"\n\"services\"\n\"in postcodes 3000, 4000\"\n\"are\"\n\"First Name\"\n\n\nusing System;\nusing System.Text.RegularExpressions;\n\npublic class Program\n{\n    public static void Main()\n    {\n        string line = \"\\\"61402818083\\\",\\\"services\\\",\\\"in postcodes 3000, 4000\\\",\\\"are\\\",\\\"First Name\\\"\";\n        Console.WriteLine(line.ToString());\n        var reg = new Regex(\"(?:^|,)(\\\"(?:[^\\\"]+|\\\"\\\")*\\\"|[^,]*)\", RegexOptions.Compiled);\n        var matches = reg.Matches(line);\n        foreach (Match match in reg.Matches(line))\n        {\n            Console.WriteLine(match.Value.TrimStart(','));\n        }\n    }\n}\n",
    "resolution": "using System; using System.Text.RegularExpressions; public class Program { public static void Main() { string line = \"\\\"61402818083\\\",\\\"services\\\",\\\"in postcodes 3000, 4000\\\",\\\"are\\\",\\\"First Name\\\"\"; var reg = new Regex(\"\\\".*?\\\"\"); var matches = reg.Matches(line); foreach (var item in matches) { Console.WriteLine(item.ToString()); } } } OUTPUT: \"61402818083\" \"services\" \"in postcodes 3000, 4000\" \"are\" \"First Name\" https://dotnetfiddle.net/5GxxIo One more possible solution: using System; using System.Text.RegularExpressions; public class Program { public static void Main() { string line = \"\\\"61402818083\\\",\\\"services\\\",\\\"in postcodes 3000, 4000\\\",\\\"are\\\",\\\"First Name\\\"\"; Console.WriteLine(line.ToString()); var reg = new Regex(\"(?:^|,)(\\\"(?:[^\\\"]+|\\\"\\\")*\\\"|[^,]*)\", RegexOptions.Compiled); var matches = reg.Matches(line); foreach (Match match in reg.Matches(line)) { Console.WriteLine(match.Value.TrimStart(',')); } } } https://dotnetfiddle.net/rRml2D",
    "severity": "low",
    "tags": [
      "c#",
      "asp.net",
      "regex",
      "string"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "aspnet",
      "stackoverflow_question_id": "31800191",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 768,
      "stackoverflow_creation_date": "2015-08-04T03:32:06.313Z"
    },
    "idempotency_key": "stackoverflow-31800191",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MVC 5 Not Auto Creating AspNetUser tables in DB",
    "body": "I am new to MVC 5 and I am trying to configure Individual User Auth in a new database context created but the ApplicationDBContext isn't creating the AspNetUser tables in my new database. Can someone point me in the right direction on this? Error The entity type ApplicationUser is not part of the model for the current context. IdentityModel.cs public class ApplicationDbContext : IdentityDbContext<ApplicationUser> { public ApplicationDbContext() : base(\"MyEntities\", throwIfV1Schema: false) { } public static ApplicationDbContext Create() { return new ApplicationDbContext(); } } Web.config <connectionStrings> <add name=\"DefaultConnection\" connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\aspnet-MVC5.WebSite-20150723075149.mdf;Initial Catalog=aspnet-MVC5.WebSite-20150723075149;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /> <add name=\"MyEntities\" connectionString=\"metadata=res://*/Models.UserModel.csdl|res://*/Models.UserModel.ssdl|res://*/Models.UserModel.msl;provider=System.Data.SqlClient;provider connection string=\"data source=devserver;initial catalog=MyEntities;user id=user;password=pass;MultipleActiveResultSets=True;App=EntityFramework\"\" providerName=\"System.Data.EntityClient\" /> </connectionStrings> I know MVC is supposed to auto-magically create the UserStore and associated tables but clearly I've done something totally stupid here. Any help is much appreciated.",
    "code": "The entity type ApplicationUser is not part of the model for the current context.\n\n\npublic class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n{\n    public ApplicationDbContext()\n        : base(\"MyEntities\", throwIfV1Schema: false)\n    {\n    }\n\n    public static ApplicationDbContext Create()\n    {\n        return new ApplicationDbContext();\n    }\n}\n\n\n&lt;connectionStrings&gt;\n  &lt;add name=\"DefaultConnection\" connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\aspnet-MVC5.WebSite-20150723075149.mdf;Initial Catalog=aspnet-MVC5.WebSite-20150723075149;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n  &lt;add name=\"MyEntities\" connectionString=\"metadata=res://*/Models.UserModel.csdl|res://*/Models.UserModel.ssdl|res://*/Models.UserModel.msl;provider=System.Data.SqlClient;provider connection string=&amp;quot;data source=devserver;initial catalog=MyEntities;user id=user;password=pass;MultipleActiveResultSets=True;App=EntityFramework&amp;quot;\" providerName=\"System.Data.EntityClient\" /&gt;\n&lt;/connectionStrings&gt;\n\n\n# Solution Code:\n&lt;connectionStrings&gt;\n  &lt;add name=\"DefaultConnection\" connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\aspnet-MVC.WebSite-20150723075149.mdf;Initial Catalog=aspnet-MVC.WebSite-20150723075149;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n  &lt;add name=\"MyConnection\" connectionString=\"Data Source=devserver;initial catalog=MyCatalog;user id=user;password=pass;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /&gt;\n &lt;/connectionStrings&gt;\n\n\npublic class ApplicationDbContext : IdentityDbContext&lt;ApplicationUser&gt;\n{\n    public ApplicationDbContext()\n        : base(\"MyConnection\", throwIfV1Schema: false)\n    {\n    }\n\n    public static ApplicationDbContext Create()\n    {\n        return new ApplicationDbContext();\n    }\n}\n",
    "resolution": "Okay, I was doing something stupid. Basically trying to get the ApplicationDbContext to use a connection that was created by EF. Not the right way. To get the tables 'auto-magically` created. I needed to add a normal connection string to my Web.config connecting to the desired DB then set that in the IdentityModel.cs Web.config <connectionStrings> <add name=\"DefaultConnection\" connectionString=\"Data Source=(LocalDb)\\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\\aspnet-MVC.WebSite-20150723075149.mdf;Initial Catalog=aspnet-MVC.WebSite-20150723075149;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /> <add name=\"MyConnection\" connectionString=\"Data Source=devserver;initial catalog=MyCatalog;user id=user;password=pass;Integrated Security=True\" providerName=\"System.Data.SqlClient\" /> </connectionStrings> IdentityModel.cs public class ApplicationDbContext : IdentityDbContext<ApplicationUser> { public ApplicationDbContext() : base(\"MyConnection\", throwIfV1Schema: false) { } public static ApplicationDbContext Create() { return new ApplicationDbContext(); } } Hopefully, this helps someone. Thanks to all who helped.",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net-mvc",
      "asp.net-mvc-5"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "31897622",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 15128,
      "stackoverflow_creation_date": "2015-08-08T19:17:44.293Z"
    },
    "idempotency_key": "stackoverflow-31897622",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "c++ return type has pointer with type of current class",
    "body": "Sorry for the bad question formulation, could not find a better way to shortly describe my problem: I have a class A with a pure virtual method that returns an object of type B. Class B has a member variable wich is a pointer to an object of class A. Is there a way to achieve this? Example: class A { public: B mymethod() const = 0; } struct B { std::shared_ptr<A> mypointer; } If I include the files in each other the compiler tells me that one is not declared in this scope. How can I avoid this?",
    "code": "class A {\npublic:\n  B mymethod() const = 0;\n}\n\nstruct B {\n  std::shared_ptr&lt;A&gt; mypointer;\n}\n\n\n# Solution Code:\n#include \"B.h\"\n\nclass A\n{\npublic:\n  B mymethod() const = 0; //returns by value, so full definition of B is required (*)\n};\n\n\nclass A; //Forward declare A\n\nstruct B\n{\n  std::shared_ptr&lt;A&gt; mypointer;\n};\n\n\nstd::shared_ptr\n\nstd::shared_ptr\n\nget()\n\nB\n\n.h\n\n.cpp",
    "resolution": "std::shared_ptr was designed to replace raw pointers - so in order to provide compatible semantics, it also can be used without a full type definition. Implementation notes In a typical implementation, std::shared_ptr holds only two pointers: the stored pointer (one returned by get()) a pointer to control block So, forward declaration is enough: A.h: #include \"B.h\" class A { public: B mymethod() const = 0; //returns by value, so full definition of B is required (*) }; B.h: class A; //Forward declare A struct B { std::shared_ptr<A> mypointer; }; (*) In fact, in your case such include may not be required, since it's only a declaration of function returning B. As long as you separate declarations (.h) and actual body (.cpp) or simply forward-declare functions prototypes, headers for particular types should be only included by source files, that use them.",
    "severity": "low",
    "tags": [
      "c++",
      "class",
      "struct",
      "types",
      "definition"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "31946044",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 312,
      "stackoverflow_creation_date": "2015-08-11T15:32:47.710Z"
    },
    "idempotency_key": "stackoverflow-31946044",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to use rack-mini-profiler for ajax calls?",
    "body": "I managed to get rack-mini-profiler gem to run fine on the full pages we serve in our app. What I didn't manage is, how to directly get the data also for one of the calls we serve via ajax to another page. I found, that if I do the ajax call and then call one of our full page requests, I see also the ajax timing, but this is kind of cumbersome to do. Do you have any tips on how to see the small menu also directly on the page where the ajax call is done? Our ajax call is returning html and there would be enough space to show the menu.",
    "code": "rack-mini-profiler",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "ajax",
      "rack-mini-profiler"
    ],
    "metadata": {
      "stackoverflow_question_id": "31946449",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1460,
      "stackoverflow_creation_date": "2015-08-11T15:51:54.280Z"
    },
    "idempotency_key": "stackoverflow-31946449",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to merge array of hashes with nested array",
    "body": "I have a dataset similar to the following: [ {:option_id => 10, :option_style_ids => [9, 10, 11]}, {:option_id => 7, :option_style_ids => [19]}, {:option_id => 8, :option_style_ids => [1]}, {:option_id => 5, :option_style_ids => [4, 5]}, {:option_id => 10, :option_style_ids => [9, 10, 11]}, {:option_id => 7, :option_style_ids => [19]}, {:option_id => 5, :option_style_ids => [4, 5]}, {:option_id => 8, :option_style_ids => [1]}, {:option_id => 12, :option_style_ids => [20]}, {:option_id => 5, :option_style_ids => [2, 5]} ] I would like to merge the dataset for an output of: [ {:option_id => 10, :option_style_ids => [9, 10, 11]}, {:option_id => 7, :option_style_ids => [19]}, {:option_id => 8, :option_style_ids => [1]}, {:option_id => 5, :option_style_ids => [2, 4, 5]}, {:option_id => 12, :option_style_ids => [20]} ] The above output strips the duplicates, however, for the option_id: 5 hashes, I need it to combines the option_style_ids array values (some of which are different). I tried: r.group_by{|h| h[:option_id]}.map{|k,v| v.reduce(:merge)} Unfortunately, that did not combine the option_style_ids array values.",
    "code": "[\n  {:option_id =&gt; 10, :option_style_ids =&gt; [9, 10, 11]},\n  {:option_id =&gt; 7, :option_style_ids =&gt; [19]},\n  {:option_id =&gt; 8, :option_style_ids =&gt; [1]},\n  {:option_id =&gt; 5, :option_style_ids =&gt; [4, 5]},\n  {:option_id =&gt; 10, :option_style_ids =&gt; [9, 10, 11]},\n  {:option_id =&gt; 7, :option_style_ids =&gt; [19]},\n  {:option_id =&gt; 5, :option_style_ids =&gt; [4, 5]},\n  {:option_id =&gt; 8, :option_style_ids =&gt; [1]},\n  {:option_id =&gt; 12, :option_style_ids =&gt; [20]},\n  {:option_id =&gt; 5, :option_style_ids =&gt; [2, 5]}\n]\n\n\n[\n  {:option_id =&gt; 10, :option_style_ids =&gt; [9, 10, 11]},\n  {:option_id =&gt; 7, :option_style_ids =&gt; [19]},\n  {:option_id =&gt; 8, :option_style_ids =&gt; [1]},\n  {:option_id =&gt; 5, :option_style_ids =&gt; [2, 4, 5]},\n  {:option_id =&gt; 12, :option_style_ids =&gt; [20]}\n]\n\n\nr.group_by{|h| h[:option_id]}.map{|k,v| v.reduce(:merge)}\n\n\noption_id: 5\n\noption_style_ids\n\noption_style_ids\n\n# Solution Code:\narray.group_by{|h| h[:option_id]}.values.map do\n  |a| a.inject{|h, _h| h.merge(_h){|k, v, _v| k == :option_id ? v : (v + _v).uniq}}\nend\n# =&gt; [\n#   {:option_id=&gt;10, :option_style_ids=&gt;[9, 10, 11]},\n#   {:option_id=&gt;7, :option_style_ids=&gt;[19]},\n#   {:option_id=&gt;8, :option_style_ids=&gt;[1]},\n#   {:option_id=&gt;5, :option_style_ids=&gt;[4, 5, 2]},\n#   {:option_id=&gt;12, :option_style_ids=&gt;[20]}\n# ]\n",
    "resolution": "array.group_by{|h| h[:option_id]}.values.map do |a| a.inject{|h, _h| h.merge(_h){|k, v, _v| k == :option_id ? v : (v + _v).uniq}} end # => [ # {:option_id=>10, :option_style_ids=>[9, 10, 11]}, # {:option_id=>7, :option_style_ids=>[19]}, # {:option_id=>8, :option_style_ids=>[1]}, # {:option_id=>5, :option_style_ids=>[4, 5, 2]}, # {:option_id=>12, :option_style_ids=>[20]} # ]",
    "severity": "low",
    "tags": [
      "ruby"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "31951494",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 103,
      "stackoverflow_creation_date": "2015-08-11T20:38:30.543Z"
    },
    "idempotency_key": "stackoverflow-31951494",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "update in orient db using document api",
    "body": "I am trying to run an upsert using document api but was not able to find any method or easy way to do. Below is the code, every time I run, it inserts a new record everytime public class TestUpsert { public static void main(String[] args) { Object obj = new Object(); obj.setRpstryId(\"ABC\"); obj.setObjId(\"123\"); obj.setObjIdCntxtCd(\"456\"); obj.setObjNm(\"XYZ\"); obj.setObjDesc(\"text\"); obj.setObjTypId(\"78901\"); createObject(obj); } public static void createObject(Object obj) { try (ODatabaseDocumentTx db = new ODatabaseDocumentTx( \"remote:localhost/abc\").open(\"root\", \"admin\");) { ODocument obj = new ODocument(\"Object\"); obj.field(\"rpstryId\", obj.getRpstryId()); obj.field(\"objId\", obj.getObjId()); obj.field(\"objIdCntxtCd\", obj.getObjIdCntxtCd()); obj.field(\"objTypId\", obj.getObjTypId()); obj.field(\"objNm\", obj.getObjNm()); obj.field(\"objDesc\", obj.getObjDesc()); System.out.println(\"Completed\"); obj.save(); db.close(); } catch (Exception exception) { exception.printStackTrace(); } }",
    "code": "   public class TestUpsert {\n\n   public static void main(String[] args) {\n          Object obj = new Object();\n          obj.setRpstryId(\"ABC\");\n          obj.setObjId(\"123\");\n          obj.setObjIdCntxtCd(\"456\");\n          obj.setObjNm(\"XYZ\");\n          obj.setObjDesc(\"text\");\n          obj.setObjTypId(\"78901\");\n          createObject(obj);\n   }\n\n   public static void createObject(Object obj) {\n\n          try (ODatabaseDocumentTx db = new ODatabaseDocumentTx(\n                       \"remote:localhost/abc\").open(\"root\", \"admin\");) {\n\n                 ODocument obj = new ODocument(\"Object\");\n                 obj.field(\"rpstryId\", obj.getRpstryId());\n                 obj.field(\"objId\", obj.getObjId());\n                 obj.field(\"objIdCntxtCd\", obj.getObjIdCntxtCd());\n                 obj.field(\"objTypId\", obj.getObjTypId());\n                 obj.field(\"objNm\", obj.getObjNm());\n                 obj.field(\"objDesc\", obj.getObjDesc());\n                 System.out.println(\"Completed\");\n                 obj.save();                    \n                 db.close();\n          } catch (Exception exception) {                   \n                 exception.printStackTrace();\n\n          }\n\n   }\n\n\n# Solution Code:\nList&lt;ODocument&gt; result = db.query(\nnew OSQLSynchQuery&lt;ODocument&gt;(\"select * from &lt;table name&gt; where ObjId = '\" + obj.getObjId() + \"'\"));\n\n\nif (result != null and result.size() == 1) {\n    // Update here\n    ODocument doc = result.get(0);\n    doc.field(\"rpstryId\", obj.getRpstryId());\n    doc.field(\"objId\", obj.getObjId());\n    doc.field(\"objIdCntxtCd\", obj.getObjIdCntxtCd());\n    doc.field(\"objTypId\", obj.getObjTypId());\n    doc.field(\"objNm\", obj.getObjNm());\n    doc.field(\"objDesc\", obj.getObjDesc());\n    System.out.println(\"Completed\");\n    doc.save();                    \n    db.close();\n} else {\n    System.out.println(\"Couldn't find the record.\");\n}\n\n\nObjId",
    "resolution": "You first need to retrieve your document by its ID, which in your case I believe to be ObjId. There are a few ways to query the database. List<ODocument> result = db.query( new OSQLSynchQuery<ODocument>(\"select * from <table name> where ObjId = '\" + obj.getObjId() + \"'\")); Then check if there is a record, if there is you can update and then call save(). if (result != null and result.size() == 1) { // Update here ODocument doc = result.get(0); doc.field(\"rpstryId\", obj.getRpstryId()); doc.field(\"objId\", obj.getObjId()); doc.field(\"objIdCntxtCd\", obj.getObjIdCntxtCd()); doc.field(\"objTypId\", obj.getObjTypId()); doc.field(\"objNm\", obj.getObjNm()); doc.field(\"objDesc\", obj.getObjDesc()); System.out.println(\"Completed\"); doc.save(); db.close(); } else { System.out.println(\"Couldn't find the record.\"); }",
    "severity": "medium",
    "tags": [
      "java",
      "document",
      "orientdb"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "32013724",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1169,
      "stackoverflow_creation_date": "2015-08-14T15:36:11.097Z"
    },
    "idempotency_key": "stackoverflow-32013724",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Seeing \"This is not an active repository\" for an active repository",
    "body": "I recently received this message: This is not an active repository for a repository that is active and has a long build history; the link from a build at github brought me to this. What might cause this to happen to a previously healthy repository?",
    "code": "This is not an active repository\n\n\n# Solution Code:\nroidrage",
    "resolution": "According to roidrage (a Travis-CI member): If this repository is indeed still active, then it's likely it was enabled via manual configuration of the GitHub webhook in the GitHub settings for the repositories instead of enabling the hook on the Travis CI account. This is easy to fix, you just need to go to your profile and activate it manually. That should make the message disappear. More info here",
    "severity": "low",
    "tags": [
      "travis-ci"
    ],
    "metadata": {
      "stackoverflow_question_id": "32022899",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 964,
      "stackoverflow_creation_date": "2015-08-15T08:19:16.913Z"
    },
    "idempotency_key": "stackoverflow-32022899",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Django http 403 error with Django 1.8 and Python 3.4 under macos 10.10.5",
    "body": "I try this routine, use curl to send a post to server, and want it to return http body. Command: curl --data \"hi server\" http://127.0.0.1:8000/verification/activate/ Server Side: def activate(request): if request.method == 'POST': return HttpResponse(request.body) else: return HttpResponse('please send a post http.') The string, \"hi server\", should be return message. but I got this error: [18/Aug/2015 03:16:34]\"POST /verification/activate/ HTTP/1.1\" 403 2629",
    "code": "curl --data \"hi server\" http://127.0.0.1:8000/verification/activate/\n\n\ndef activate(request):\n    if request.method == 'POST':\n        return HttpResponse(request.body)\n    else:\n        return HttpResponse('please send a post http.')\n\n\n[18/Aug/2015 03:16:34]\"POST /verification/activate/ HTTP/1.1\" 403 2629\n\n\n# Solution Code:\nfrom django.views.decorators.csrf import csrf_exempt\n\n@csrf_exempt\ndef activate(request):\n    ...\n\n\nMIDDLEWARE_CLASSES\n\nHTTP 403\n\ndjango.middleware.csrf.CsrfViewMiddleware\n\nMIDDLEWARE_CLASSES\n\ncsrf_exempt()",
    "resolution": "The CSRF middleware is activated by default in the MIDDLEWARE_CLASSES setting. This middleware returns HTTP 403 in case the csrf token is missing in request body. You can either remove django.middleware.csrf.CsrfViewMiddleware from MIDDLEWARE_CLASSES array in settings.py or use csrf_exempt() decorator to disable csrf protection just for a single view: (Please note that the first option is strongly discouraged for security measures) from django.views.decorators.csrf import csrf_exempt @csrf_exempt def activate(request): ...",
    "severity": "low",
    "tags": [
      "python",
      "django",
      "http"
    ],
    "metadata": {
      "language": "python",
      "framework": "django",
      "stackoverflow_question_id": "32063144",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 946,
      "stackoverflow_creation_date": "2015-08-18T03:40:56.403Z"
    },
    "idempotency_key": "stackoverflow-32063144",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MongoDB - Populate GridFS files metadata in parent document",
    "body": "I am using NodeJS with Express, MongoDB, Mongoose and GridFS for uploading and retrieving files. I would like to reference files in other documents by ID and populate the files metadata when querying the other documents. For example: If I have a collection \"users\" with documents like this ... { _id: ObjectId(\"554dfeb59e78d9081af2404f\"), name: \"John Doe\", image: ObjectId(\"55b61ae329c44b483665bafc\") } ... I want to do somethig like this ... User.findById(req.params.id) .populate('image') .exec(function(err, user) {...}) ... which should give me access to the files metadata - for example the filename ... user.image.filename Any ideas?",
    "code": "{\n   _id:   ObjectId(\"554dfeb59e78d9081af2404f\"),\n   name:  \"John Doe\",\n   image: ObjectId(\"55b61ae329c44b483665bafc\")\n}\n\n\nUser.findById(req.params.id)\n  .populate('image')\n  .exec(function(err, user) {...})\n\n\nuser.image.filename\n\n\n# Solution Code:\n//define Model for metadata collection.\nvar GFS = mongoose.model(\"GFS\", new Schema({}, {strict: false}), \"fs.files\" );\n\nvar UserSchema = Schema({\n    image: {type: Schema.Types.Object, ref: 'GFS' } // refer the model\n});\n\nvar User = mongoose.model('User', UserSchema);\n\nUser.findById(req.params.id)\n  .populate('image') //populate \n  .exec(function(err, user) {...})\n",
    "resolution": "You can define a schema for the GridFS metadata collection and refer it in the User schema: //define Model for metadata collection. var GFS = mongoose.model(\"GFS\", new Schema({}, {strict: false}), \"fs.files\" ); var UserSchema = Schema({ image: {type: Schema.Types.Object, ref: 'GFS' } // refer the model }); var User = mongoose.model('User', UserSchema); User.findById(req.params.id) .populate('image') //populate .exec(function(err, user) {...})",
    "severity": "medium",
    "tags": [
      "node.js",
      "mongodb",
      "mongoose",
      "gridfs"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "32073183",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2127,
      "stackoverflow_creation_date": "2015-08-18T13:00:50.257Z"
    },
    "idempotency_key": "stackoverflow-32073183",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "toggle show/hide code in RMarkdown",
    "body": "I am generating an HTML report using Rmarkdown in which I want the user to have an option of looking at code (when they want by using a toggle show/hide code) before each section or figure. I am wondering if there is an option to do so globally and individually for each code chunk. I have looked at some previous solutions using javascript, but I am not familiar with the language. I was hoping there is an option I can choose within Rmarkdown. Previous approaches using javascript are shown here and here, but I am not sure how to include these in my Rmarkdown file. I have tried the following, but it didn't work <script src=\"toggleR.js\"></script> ```{r} summary(cars) ``` A working example in Rmarkdown would be extremely helpful!! Thanks",
    "code": "&lt;script src=\"toggleR.js\"&gt;&lt;/script&gt; \n```{r}\nsummary(cars)\n```\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "knitr",
      "r-markdown"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "32076751",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 9823,
      "stackoverflow_creation_date": "2015-08-18T15:36:11.090Z"
    },
    "idempotency_key": "stackoverflow-32076751",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Macros -> ->> in Clojure",
    "body": "Are the -> and ->> macros only to make the code more readable or they have also other specific functions?",
    "code": "-&gt;\n\n-&gt;&gt;\n\n# Solution Code:\n;; Arguably a bit cumbersome to read:\nuser=&gt; (first (.split (.replace (.toUpperCase \"a b c d\") \"A\" \"X\") \" \"))\n\"X\"\n\n;; Perhaps easier to read:\nuser=&gt; (-&gt; \"a b c d\" \n           .toUpperCase \n           (.replace \"A\" \"X\") \n           (.split \" \") \n           first)\n\n\n(-&gt; {... }\n    ...\n    ...\n    (count)) \n\n(count (...(... {...})))\n\n\n-&gt;\n\n-&gt;&gt;\n\n-&gt;\n\n-&gt;&gt;",
    "resolution": "The thread-first (->) and thread-last (->>) are there to make code more readable. But that's already pretty important ! It allows to un-nest function calls (example taken from clojuredocs) : ;; Arguably a bit cumbersome to read: user=> (first (.split (.replace (.toUpperCase \"a b c d\") \"A\" \"X\") \" \")) \"X\" ;; Perhaps easier to read: user=> (-> \"a b c d\" .toUpperCase (.replace \"A\" \"X\") (.split \" \") first) It also allows you to put the emphasis on something. For instance, consider : (-> {... } ... ... (count)) (count (...(... {...}))) In the first example, it is very clear that you start with a map, and then do something to it. In the second, it is clear that you count something. The preference depends on what you want to put forward. Also, the choice of -> vs ->> is a clear visual indicator : are you operating or not on collections ? This is made immediately obvious (this is a convention in Clojure to have the collection as a last parameter). So yes, it is \"only\" readability, but that is a very important part of building programs, and Clojure gives you tools to make your code read naturally. When choosing one solution, I try to consider the way Clojure will be read.",
    "severity": "low",
    "tags": [
      "clojure",
      "macros"
    ],
    "metadata": {
      "stackoverflow_question_id": "32167178",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 166,
      "stackoverflow_creation_date": "2015-08-23T13:31:09.143Z",
      "stackoverflow_owner": "user4813927"
    },
    "idempotency_key": "stackoverflow-32167178",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to create an OnClickListener that will handle both ToggleButton and Switch",
    "body": "I am working on an app that needs to be compatible with pre Android 4.0 devices. In the pre 4.0 layout I have to use a ToggleButton and in the post 4.0 am using a Switch. Both function the same as far as the user is concerned. When they are clicked, they should have the same behavior. I'm trying to write an OnClickListener that will work for both of them so that I'm not duplicating a lot of code. The Switch/ToggleButtons are used inside a Fragment, so just placing the call to the onClickListener in the layout won't work. In an effort to try it, for both the Switch and ToggleButton, I set the onClickListener to pushSelector, which is: private View.OnClickListener pushSelector = new View.OnClickListener() { @Override public void onClick(View v) { if (((ToggleButton) v).isChecked() || ((Switch) v).isChecked()) { // code } else { // code } } }; Unsurprisingly, this didn't work, but I thought I'd give it a go. Is it possible to have a single onClickListener that can handle both a ToggleButton and Switch, or will I need to set up an onClickListener for each one?",
    "code": "private View.OnClickListener pushSelector = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (((ToggleButton) v).isChecked() || ((Switch) v).isChecked()) {\n                // code\n            } else {\n                // code\n            }\n        }\n    };\n\n\nToggleButton\n\nSwitch\n\nOnClickListener\n\nSwitch\n\nToggleButtons\n\nFragment\n\nonClickListener\n\nSwitch\n\nToggleButton\n\nonClickListener\n\nonClickListener\n\nToggleButton\n\nSwitch\n\nonClickListener\n\n# Solution Code:\nbutton.setOnCheckedChangeListener(null);\nbutton.setChecked(boolean);\nbutton.setOnCheckedChangeListener(mButtonChangeListener);\n",
    "resolution": "Consider using a OnCheckedChangeListener instead, as both Switches and ToggleButtons extend from CompoundButton. Be aware that if you call (button).setChecked(boolean) from your code, this callback is also called! If you need to set whether or not your button is checked from code, do something like this: button.setOnCheckedChangeListener(null); button.setChecked(boolean); button.setOnCheckedChangeListener(mButtonChangeListener);",
    "severity": "low",
    "tags": [
      "android"
    ],
    "metadata": {
      "stackoverflow_question_id": "32247337",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 52,
      "stackoverflow_creation_date": "2015-08-27T10:47:43.857Z"
    },
    "idempotency_key": "stackoverflow-32247337",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Optimizing React Rendering with Function Partial Application",
    "body": "React components compare props with object reference equality, and when you partially apply a function, you get a new function with a different reference which causes a react component to trigger a re-render every single time. Has anyone faced this issue? I have a function that renders a component in a specific tab. And one of the props is this.setTab.bind(this, tab) which returns a new function every single time. It would be really cool if there was some kind of immutability helper which allows this to be equal based on the bound value...",
    "code": "this.setTab.bind(this, tab)\n\n# Solution Code:\nvar List = React.createClass({\n  render() {\n    return (\n      &lt;ul&gt;\n        {this.props.items.map(item =&gt;\n          &lt;li key={item.id} onClick={this.props.onItemClick.bind(null, item.id)}&gt;\n            ...\n          &lt;/li&gt;\n        )}\n      &lt;/ul&gt;\n    );\n  }\n});\n\n\nvar List = React.createClass({\n  render() {\n    return (\n      &lt;ul&gt;\n        {this.props.items.map(item =&gt;\n          &lt;ListItem key={item.id} item={item} onItemClick={this.props.onItemClick} /&gt;\n        )}\n      &lt;/ul&gt;\n    );\n  }\n});\n\nvar ListItem = React.createClass({\n  render() {\n    return (\n      &lt;li onClick={this._onClick}&gt;\n        ...\n      &lt;/li&gt;\n    );\n  },\n  _onClick() {\n    this.props.onItemClick(this.props.item.id);\n  }\n});\n",
    "resolution": "I'm pulling this directly from the eslint plugin docs \"jsx-no-bind\", and it mentions one possible solution to reduce the number: A common use case of bind in render is when rendering a list, to have a seperate callback per list item: var List = React.createClass({ render() { return ( <ul> {this.props.items.map(item => <li key={item.id} onClick={this.props.onItemClick.bind(null, item.id)}> ... </li> )} </ul> ); } }); Rather than doing it this way, pull the repeated section into its own component: var List = React.createClass({ render() { return ( <ul> {this.props.items.map(item => <ListItem key={item.id} item={item} onItemClick={this.props.onItemClick} /> )} </ul> ); } }); var ListItem = React.createClass({ render() { return ( <li onClick={this._onClick}> ... </li> ); }, _onClick() { this.props.onItemClick(this.props.item.id); } }); This will speed up rendering, as it avoids the need to create new functions (through bind calls) on every render.",
    "severity": "medium",
    "tags": [
      "reactjs"
    ],
    "metadata": {
      "stackoverflow_question_id": "32283127",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 6055,
      "stackoverflow_creation_date": "2015-08-29T05:49:56.280Z"
    },
    "idempotency_key": "stackoverflow-32283127",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C# LINQ return counter array indices max to min",
    "body": "A newbie with C# and LINQ. I have an array which is essentially a counted sequence. {1,3,5,2,7,2} I am trying to write a query that returns list of indices with highest values in descending order: 4,2,1,3,5,0 I can get the maximum index with this query below, but I can't seem to work out how to get the next indexes in sequence with a single query. int index = array.ToList().IndexOf(array.Max());",
    "code": "int index = array.ToList().IndexOf(array.Max());\n\n\n# Solution Code:\nvar list = new [] {1,3,5,2,7,2};\n\nvar indices =\n    list\n        .Select((n, i) =&gt; new { n, i })\n        .OrderByDescending(x =&gt; x.n)\n        .Select(x =&gt; x.i)\n        .ToArray();\n",
    "resolution": "This works: var list = new [] {1,3,5,2,7,2}; var indices = list .Select((n, i) => new { n, i }) .OrderByDescending(x => x.n) .Select(x => x.i) .ToArray();",
    "severity": "low",
    "tags": [
      "c#",
      "linq"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "32305675",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 762,
      "stackoverflow_creation_date": "2015-08-31T07:07:43.530Z"
    },
    "idempotency_key": "stackoverflow-32305675",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can you find previously generated random numbers using java.util.Random?",
    "body": "Is it possible to find previously generated random numbers using java.util.Random? I found information at this website, it indicates that it uses a LCG in the format numberi+1 = (a * numberi + c) mod 248 where the first value of number is seed and is simply incremented by one every time nextInt (or somthing similar) is called Does anyone have any more information on how it is generated? or what the offset values are? Edit: I found this source code from the openjdk",
    "code": "java.util.Random\n\n# Solution Code:\npublic class InvRand {\n    private static final long addend = 0xBL;\n    private static final long multiplier = 0x5DEECE66DL;\n    private static final long invMultiplier = 0xDFE05BCB1365L;\n    private static final long mask = 0xFFFFFFFFFFFFL;\n\n    private long seed;\n\n    public InvRand(Random r) {\n        seed = prevSeed(replicateSeed(r.nextLong()));\n    }\n\n    public long prevLong() {\n        seed = prevSeed(seed);\n        long b1 = seed &gt;&gt;&gt; 16;\n        seed = prevSeed(seed);\n        long b2 = seed &gt;&gt;&gt; 16;\n        return (b2 &lt;&lt; 32) + b1;\n    }\n\n    static long replicateSeed(long nextLong) {\n        int nextM = (int)(nextLong &amp; 0xFFFFFFFF);\n        int nextN = (int)((nextLong - nextM) &gt;&gt; 32);\n\n        long upperMOf48Mask = 0xFFFFFFFF0000L;\n\n        long oldSeedUpperN = ((long)nextN &lt;&lt; 16) &amp; mask;\n        long newSeedUpperM = ((long)nextM &lt;&lt; 16) &amp; mask;\n\n        for (long oldSeed = oldSeedUpperN; oldSeed &lt;= (oldSeedUpperN | 0xFFFF); \n                  oldSeed++) {\n            long newSeed = (oldSeed * multiplier + addend) &amp; mask;\n            if ((newSeed &amp; upperMOf48Mask) == newSeedUpperM) {\n                return newSeed;\n            }\n        }\n        throw new InternalError();\n    }\n\n    static long prevSeed(long seed) {\n        return ((seed - addend) * invMultiplier) &amp; mask;\n    }\n}\n\n\npublic static void main(String[] args) {\n    Random rand = new Random();\n    for(int i=0; i&lt;20; i++) {\n        System.out.println(\"next: \" + Long.toHexString(rand.nextLong()));\n    }\n    InvRand ir = new InvRand(rand);\n    for(int i=0; i&lt;20; i++) {\n        System.out.println(\"prev: \"+Long.toHexString(ir.prevLong()));\n    }\n}\n\n\nnext: 76c8febd3eab0fd8\nnext: 19ea99b87b9c118e\nnext: 2d69d148285ac86e\nnext: f466d00f770361e7\nnext: ca069823ec343ea2\nnext: f570a154be288a23\nnext: 3f2f3844ad48b1ea\nnext: d79ed82cd2e927e\nnext: 97ffcecf7d9a5b0a\nnext: d4e1a218dea3fc6f\nnext: c54e390e8f9486fe\nnext: 670052e4c52b230\nnext: ed13a7adac2ffc1c\nnext: f4e41dc7ada0ea7d\nnext: 56ffb122ab160d7a\nnext: cd7ecd6d1236049b\nnext: ce0597694257008c\nnext: d32d6ef8c142a09b\nnext: 2e8bb4f2356ea912\nnext: f5bf0eb275fb77df\nprev: f5bf0eb275fb77df // note numbers are going backwards now\nprev: 2e8bb4f2356ea912\nprev: d32d6ef9c142a09b\nprev: ce0597694257008c\nprev: cd7ecd6d1236049b\nprev: 56ffb123ab160d7a\nprev: f4e41dc8ada0ea7d\nprev: ed13a7aeac2ffc1c\nprev: 670052e4c52b230\nprev: c54e390f8f9486fe\nprev: d4e1a219dea3fc6f\nprev: 97ffcecf7d9a5b0a\nprev: d79ed83cd2e927e\nprev: 3f2f3845ad48b1ea\nprev: f570a155be288a23\nprev: ca069824ec343ea2\nprev: f466d00f770361e7\nprev: 2d69d148285ac86e\nprev: 19ea99b87b9c118e\nprev: 76c8febd3eab0fd8\n\n\nnextseed = (oldseed * 0x5DEECE66DL + 0xBL) &amp; 0xFFFFFFFFFFFFL;\n\n\nRandom\n\nRandom\n\nnextLong()\n\nnextLong\n\nreplicateSeed\n\nx*0x5DEECE66DL+y*0x1000000000000L = 1\n\nx = 0xDFE05BCB1365L\n\n0xDFE05BCB1365L",
    "resolution": "Yes, you can get the previous Random values without storing them (and without knowing the original seed of the Random object like @Andreas suggests). Here's the proof-of-concept code. It supports reverting the nextLong() calls only, but it's possible to revert other calls as well. public class InvRand { private static final long addend = 0xBL; private static final long multiplier = 0x5DEECE66DL; private static final long invMultiplier = 0xDFE05BCB1365L; private static final long mask = 0xFFFFFFFFFFFFL; private long seed; public InvRand(Random r) { seed = prevSeed(replicateSeed(r.nextLong())); } public long prevLong() { seed = prevSeed(seed); long b1 = seed >>> 16; seed = prevSeed(seed); long b2 = seed >>> 16; return (b2 << 32) + b1; } static long replicateSeed(long nextLong) { int nextM = (int)(nextLong & 0xFFFFFFFF); int nextN = (int)((nextLong - nextM) >> 32); long upperMOf48Mask = 0xFFFFFFFF0000L; long oldSeedUpperN = ((long)nextN << 16) & mask; long newSeedUpperM = ((long)nextM << 16) & mask; for (long oldSeed = oldSeedUpperN; oldSeed <= (oldSeedUpperN | 0xFFFF); oldSeed++) { long newSeed = (oldSeed * multiplier + addend) & mask; if ((newSeed & upperMOf48Mask) == newSeedUpperM) { return newSeed; } } throw new InternalError(); } static long prevSeed(long seed) { return ((seed - addend) * invMultiplier) & mask; } } Usage example: public static void main(String[] args) { Random rand = new Random(); for(int i=0; i<20; i++) { System.out.println(\"next: \" + Long.toHexString(rand.nextLong())); } InvRand ir = new InvRand(rand); for(int i=0; i<20; i++) { System.out.println(\"prev: \"+Long.toHexString(ir.prevLong())); } } Typical output: next: 76c8febd3eab0fd8 next: 19ea99b87b9c118e next: 2d69d148285ac86e next: f466d00f770361e7 next: ca069823ec343ea2 next: f570a154be288a23 next: 3f2f3844ad48b1ea next: d79ed82cd2e927e next: 97ffcecf7d9a5b0a next: d4e1a218dea3fc6f next: c54e390e8f9486fe next: 670052e4c52b230 next: ed13a7adac2ffc1c next: f4e41dc7ada0ea7d next: 56ffb122ab160d7a next: cd7ecd6d1236049b next: ce0597694257008c next: d32d6ef8c142a09b next: 2e8bb4f2356ea912 next: f5bf0eb275fb77df prev: f5bf0eb275fb77df // note numbers are going backwards now prev: 2e8bb4f2356ea912 prev: d32d6ef9c142a09b prev: ce0597694257008c prev: cd7ecd6d1236049b prev: 56ffb123ab160d7a prev: f4e41dc8ada0ea7d prev: ed13a7aeac2ffc1c prev: 670052e4c52b230 prev: c54e390f8f9486fe prev: d4e1a219dea3fc6f prev: 97ffcecf7d9a5b0a prev: d79ed83cd2e927e prev: 3f2f3845ad48b1ea prev: f570a155be288a23 prev: ca069824ec343ea2 prev: f466d00f770361e7 prev: 2d69d148285ac86e prev: 19ea99b87b9c118e prev: 76c8febd3eab0fd8 There are two problems here. First is to replicate the random seed by nextLong value. This part (replicateSeed) is based on this code from GitHub. Next problem is to invert the seed calculation formula, so we can change the seed from the current to the previous. Current OpenJDK nextseed formula is: nextseed = (oldseed * 0x5DEECE66DL + 0xBL) & 0xFFFFFFFFFFFFL; So it's just addition and multiplication in ring of integers modulo 2^48. Both operations are inversible. For addition you can just subtract in the same ring. For multiplication you have to calculate the inverted multiplier, which can be done solving Diophantine equation x*0x5DEECE66DL+y*0x1000000000000L = 1. Solving it you get x = 0xDFE05BCB1365L (select the solution which fits the ring). So to inverse the multiplication you just need to multiply by 0xDFE05BCB1365L.",
    "severity": "medium",
    "tags": [
      "java",
      "random"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "32324404",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1758,
      "stackoverflow_creation_date": "2015-09-01T05:51:10.360Z"
    },
    "idempotency_key": "stackoverflow-32324404",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Multiple callback came while Usb device connected",
    "body": "var watcher = new ManagementEventWatcher(); var query = new WqlEventQuery(\"SELECT * FROM Win32_DeviceChangeEvent WHERE EventType = 2 or EventType = 3\"); watcher.EventArrived += new EventArrivedEventHandler(watcher_EventArrived); watcher.Query = query; watcher.Start(); private void watcher_EventArrived(object sender, EventArrivedEventArgs e) { MessageBox.Show(\"Device Connected or Disconnected\"); } if any device plugged on unplugged in usb port this call back works, but multiple callbacks are cumming, what to to restrict with single call back ? any one please help ?",
    "code": "   var watcher = new ManagementEventWatcher();\n            var query = new WqlEventQuery(\"SELECT * FROM Win32_DeviceChangeEvent WHERE EventType = 2 or EventType = 3\");\n            watcher.EventArrived += new EventArrivedEventHandler(watcher_EventArrived);\n            watcher.Query = query;\n            watcher.Start();\n\n\n private void watcher_EventArrived(object sender, EventArrivedEventArgs e)\n        {\n            MessageBox.Show(\"Device Connected or Disconnected\");\n        }\n",
    "severity": "low",
    "tags": [
      "c#",
      "callback",
      "event-handling",
      "usbserial",
      "managementeventwatcher"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "32501045",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 269,
      "stackoverflow_creation_date": "2015-09-10T11:47:06.707Z"
    },
    "idempotency_key": "stackoverflow-32501045",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "`break` and `continue` in `forEach` in Kotlin",
    "body": "Kotlin has very nice iterating functions, like forEach or repeat, but I am not able to make the break and continue operators work with them (both local and non-local): repeat(5) { break } (1..5).forEach { continue@forEach } The goal is to mimic usual loops with the functional syntax as close as it might be. It was definitely possible in some older versions of Kotlin, but I struggle to reproduce the syntax. The problem might be a bug with labels (M12), but I think that the first example should work anyway. It seems to me that I've read somewhere about a special trick/annotation, but I could not find any reference on the subject. Might look like the following: public inline fun repeat(times: Int, @loop body: (Int) -> Unit) { for (index in 0..times - 1) { body(index) } }",
    "code": "repeat(5) {\n    break\n}\n\n(1..5).forEach {\n    continue@forEach\n}\n\n\npublic inline fun repeat(times: Int, @loop body: (Int) -&gt; Unit) {\n    for (index in 0..times - 1) {\n        body(index)\n    }\n}\n\n\nforEach\n\nrepeat\n\nbreak\n\ncontinue\n\n# Solution Code:\nfun foo() {\n    listOf(1, 2, 3, 4, 5).forEach lit@ {\n        if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop\n        print(it)\n    }\n    print(&quot; done with explicit label&quot;)\n}\n\n\nfun foo() {\n    run lit@ {\n        listOf(1, 2, 3, 4, 5).forEach {\n            if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop\n            print(it)\n        }\n        print(&quot; done with explicit label&quot;)\n    }\n}\n\n\nfor (index in 0 until times) {\n    // your code here\n}\n\n\npublic inline fun repeatUntil(times: Int, body: (Int) -&gt; Boolean) {\n    for (index in 0 until times) {\n        if (!body(index)) break\n    }\n}\n\n\ncontinue\n\nbreak\n\nrun\n\n(Int) -&gt; Unit\n\nreturn\n\nreturn value\n\nunit\n\nBoolean",
    "resolution": "Edit: According to Kotlin's documentation, it is possible to simulate continue using annotations. fun foo() { listOf(1, 2, 3, 4, 5).forEach lit@ { if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop print(it) } print(\" done with explicit label\") } If you want to simulate a break, just add a run block fun foo() { run lit@ { listOf(1, 2, 3, 4, 5).forEach { if (it == 3) return@lit // local return to the caller of the lambda, i.e. the forEach loop print(it) } print(\" done with explicit label\") } } Original Answer: Since you supply a (Int) -> Unit, you can't break from it, since the compiler do not know that it is used in a loop. You have few options: Use a regular for loop: for (index in 0 until times) { // your code here } If the loop is the last code in the method you can use return to get out of the method (or return value if it is not unit method). Use a method Create a custom repeat method method that returns Boolean for continuing. public inline fun repeatUntil(times: Int, body: (Int) -> Boolean) { for (index in 0 until times) { if (!body(index)) break } }",
    "severity": "high",
    "tags": [
      "loops",
      "foreach",
      "lambda",
      "kotlin"
    ],
    "metadata": {
      "language": "kotlin",
      "stackoverflow_question_id": "32540947",
      "stackoverflow_score": 319,
      "stackoverflow_view_count": 267394,
      "stackoverflow_creation_date": "2015-09-12T16:11:54.193Z"
    },
    "idempotency_key": "stackoverflow-32540947",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "MatLab ODE start/stop conditions for ode15i",
    "body": "I was searching for ways to terminate MATLAB ode when it meets a particular condition. I found the answer in this topic MatLab ODE start/stop conditions, where the use of 'events' was discussed. However this applies to ode45 and when I attempted to use 'events' with ode15i, it simply didn't worked and MATLAB is showing error. I am trying to learn this with simple example and solved a simple system of differential equations as given below. dx/dt = 5x + 3y; dy/dt = x + 7y; I solved them using ode45 and tried to do the same with ode15i, but it doesn't work. Given below are my codes. With ode45 function start_stop_test_ode45 y0 = [5;1]; tv = linspace(0,2,100); options = odeset('Events',@events); f = @(t,y) [5*y(1) + 3*y(2);y(1) + 7*y(2)]; [t,Y] = ode45(f,tv,y0,options); xNI = Y(:,1); yNI = Y(:,2); xCF = 3*exp(4*t) + 2*exp(8*t); yCF = -1*exp(4*t) + 2*exp(8*t); % Here we plot all the graphs figure(1) plot(t,xNI,'--k',t,xCF,'r','Linewidth',1.75) xlabel('t (s)') ylabel('x') legend('Numerical Solution','Closed Form Solution') figure(2) plot(t,yNI,'--k',t,yCF,'r','Linewidth',1.75) xlabel('t (s)') ylabel('y') legend('Numerical SOlution','Closed Form Solution') % Here we solve plot the variation of x with y figure(3) plot(xNI,yNI,'k','Linewidth',2); end function [value,isterminal,direction] = events(t,y) value = [y(1) - 7782;y(2) - 8863]; % Detect y = 7356 isterminal = [1;1]; direction = [0;0]; end With ode15i function start_stop_test_ode15i clc;clear all t0 = 0; y0 = [5;1]; Fxdy0 = [1;1]; Fxdyp0 = [0;0]; yp0 = [28;12]; tRange = [0 2]; options = odeset('Events',@events); [y0,yp0] = decic(@ode15ifun,t0,y0,Fxdy0,yp0,Fxdyp0); sol = ode15i(@ode15ifun,tRange,y0,yp0,options); tv = linspace(0,2,100); sv = deval(sol,tv); sv = sv'; t = tv; xNI = sv(:,1); yNI = sv(:,2); xCF = 3*exp(4*t) + 2*exp(8*t); yCF = -1*exp(4*t) + 2*exp(8*t); % Here we plot all the graphs figure(4) plot(t,xNI,'--k',t,xCF,'r','Linewidth',1.75) xlabel('t (s)') ylabel('x') legend('Numerical Solution','Closed Form Solution') figure(5) plot(t,yNI,'--k',t,yCF,'r','Linewidth',1.75) xlabel('t (s)') ylabel('y') legend('Numerical SOlution','Closed Form Solution') % Here we solve plot the variation of x with y figure(6) plot(xNI,yNI,'k','Linewidth',2); end function [value,isterminal,direction] = events(t,y) value = [y(1) - 7782;y(2) - 8863]; % Detect y = 7356 isterminal = [1;1]; direction = [0;0]; end Where the ode15ifun is function res = ode15ifun(t,y,yp) %UNTITLED3 Summary of this function goes here % Detailed explanation goes here res1 = yp(1) - 5*y(1)- 3*y(2); res2 = yp(2) - y(1) - 7*y(2); res = [res1;res2]; end ode45 is working fine but while using ode15i I am getting error message. Can anyone help as to how to do the same with ode15i? Thank you very much (In Response to TroyHaskin) I am adding an image file of the error message for your reference.",
    "code": "    function start_stop_test_ode45\n    y0 = [5;1];\n    tv = linspace(0,2,100);\n    options = odeset('Events',@events);    \n    f = @(t,y) [5*y(1) + 3*y(2);y(1) + 7*y(2)];\n    [t,Y] = ode45(f,tv,y0,options);\n    xNI = Y(:,1);\n    yNI = Y(:,2);\n    xCF   =  3*exp(4*t) + 2*exp(8*t);\n    yCF   = -1*exp(4*t) + 2*exp(8*t);\n    % Here we plot all the graphs\n    figure(1)\n    plot(t,xNI,'--k',t,xCF,'r','Linewidth',1.75)\n    xlabel('t (s)')\n    ylabel('x')\n    legend('Numerical Solution','Closed Form Solution')\n    figure(2)\n    plot(t,yNI,'--k',t,yCF,'r','Linewidth',1.75)\n    xlabel('t (s)')\n    ylabel('y')\n    legend('Numerical SOlution','Closed Form Solution')\n    % Here we solve plot the variation of x with y\n    figure(3)\n    plot(xNI,yNI,'k','Linewidth',2);\n    end\n\n    function [value,isterminal,direction] = events(t,y)\n    value = [y(1) - 7782;y(2) - 8863];  % Detect y = 7356\n    isterminal = [1;1];\n    direction = [0;0];\n    end\n\n\n    function start_stop_test_ode15i\n    clc;clear all\n    t0 = 0;\n    y0 = [5;1];\n    Fxdy0 = [1;1];\n    Fxdyp0 = [0;0];\n    yp0 = [28;12];\n    tRange = [0 2];\n    options = odeset('Events',@events);\n    [y0,yp0] = decic(@ode15ifun,t0,y0,Fxdy0,yp0,Fxdyp0);\n    sol = ode15i(@ode15ifun,tRange,y0,yp0,options);\n    tv = linspace(0,2,100);\n    sv = deval(sol,tv);\n    sv = sv';\n    t = tv;\n    xNI = sv(:,1);\n    yNI = sv(:,2);\n    xCF   =  3*exp(4*t) + 2*exp(8*t);\n    yCF   = -1*exp(4*t) + 2*exp(8*t);\n    % Here we plot all the graphs\n    figure(4)\n    plot(t,xNI,'--k',t,xCF,'r','Linewidth',1.75)\n    xlabel('t (s)')\n    ylabel('x')\n    legend('Numerical Solution','Closed Form Solution')\n    figure(5)\n    plot(t,yNI,'--k',t,yCF,'r','Linewidth',1.75)\n    xlabel('t (s)')\n    ylabel('y')\n    legend('Numerical SOlution','Closed Form Solution')\n    % Here we solve plot the variation of x with y\n    figure(6)\n    plot(xNI,yNI,'k','Linewidth',2);\n    end\n\n    function [value,isterminal,direction] = events(t,y)\n    value = [y(1) - 7782;y(2) - 8863];  % Detect y = 7356\n    isterminal = [1;1];\n    direction = [0;0];\n    end\n\n\n    function res = ode15ifun(t,y,yp)\n    %UNTITLED3 Summary of this function goes here\n    %   Detailed explanation goes here\n        res1 = yp(1) - 5*y(1)- 3*y(2);\n        res2 = yp(2) - y(1) - 7*y(2);\n        res  = [res1;res2];\n    end\n",
    "severity": "low",
    "tags": [
      "matlab",
      "ode"
    ],
    "metadata": {
      "language": "matlab",
      "stackoverflow_question_id": "32632319",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 758,
      "stackoverflow_creation_date": "2015-09-17T14:02:38.597Z"
    },
    "idempotency_key": "stackoverflow-32632319",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "No automatic value conversion in wpf binding (IronPython)",
    "body": "I have a ViewModel with a property defined as @property def MeansOfTransportCount(self): return self._customerOrderTransportModel.MeansOfTransportCount @MeansOfTransportCount.setter def MeansOfTransportCount(self, value): self._customerOrderTransportModel.MeansOfTransportCount = value self.RaisePropertyChanged('MeansOfTransportCount') self.IsDirty = True and the binding in XAML defined as <TextBox Text=\"{Binding MeansOfTransportCount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged, TargetNullValue=''}\"/> The bound value is a nullable integer. The problem is that no automatic type conversion seems to take place, as the type of value entering the setter is of type string, not int. Of course, an explicit value conversion fixes the problem, but normaly bindings just work without that. What could be the problem here?",
    "code": "@property\ndef MeansOfTransportCount(self):\n    return self._customerOrderTransportModel.MeansOfTransportCount\n\n@MeansOfTransportCount.setter\ndef MeansOfTransportCount(self, value):\n    self._customerOrderTransportModel.MeansOfTransportCount = value\n    self.RaisePropertyChanged('MeansOfTransportCount')\n    self.IsDirty = True\n\n\n&lt;TextBox Text=\"{Binding MeansOfTransportCount, Mode=TwoWay,\n UpdateSourceTrigger=PropertyChanged, TargetNullValue=''}\"/&gt;\n\n\nvalue\n\nstring\n\nint",
    "severity": "low",
    "tags": [
      "wpf",
      "xaml",
      "data-binding",
      "ironpython",
      "nullable"
    ],
    "metadata": {
      "stackoverflow_question_id": "32647671",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 164,
      "stackoverflow_creation_date": "2015-09-18T08:46:22.457Z"
    },
    "idempotency_key": "stackoverflow-32647671",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Multiple commands using batch and Plink?",
    "body": "Hello I am trying to use a batch file to log into a server using plink, go to specific directory and run commands. I can not get this to work. Appreciate any help. plink -t -ssh root@111.111.111.111 -pw xxxxx cd /home/wonderd/public_html/dev.xxxx.com ./shell/indexer.php --reindex catalog_product_price",
    "code": "plink -t -ssh root@111.111.111.111 -pw xxxxx\ncd /home/wonderd/public_html/dev.xxxx.com\n./shell/indexer.php --reindex catalog_product_price\n\n\n# Solution Code:\nplink.exe &lt;full name of machine / IP&gt; \"command one; command 2\"\n\n\nplink\n\n;",
    "resolution": "First I think you have to write the machine name or IP after the plink call The second issue is that plink run always from root directory so you have to send couple commands together separated by ; like this : plink.exe <full name of machine / IP> \"command one; command 2\"",
    "severity": "high",
    "tags": [
      "ssh",
      "putty",
      "plink"
    ],
    "metadata": {
      "stackoverflow_question_id": "32893292",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 25999,
      "stackoverflow_creation_date": "2015-10-01T17:20:35.713Z"
    },
    "idempotency_key": "stackoverflow-32893292",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to executing cron one minute after midnight every day?",
    "body": "I want to execute cron every day on midnight at time 00:01 Hrs. Is the following cron time correct? 1 0 * * * *",
    "code": "1 0 * * * *\n\n\n# Solution Code:\n1 0 * * * /mydir/myscript \n\n\nminute(s) hour(s) day(s) month(s) weekday(s) command(s)\n 0-59      0-23    1-31    1-12     0-6\n",
    "resolution": "Yes the cron time is correct. 1 0 * * * /mydir/myscript should be your cron entry. Each cron entry consists of six fields, in the following order: minute(s) hour(s) day(s) month(s) weekday(s) command(s) 0-59 0-23 1-31 1-12 0-6",
    "severity": "high",
    "tags": [
      "unix",
      "cron"
    ],
    "metadata": {
      "stackoverflow_question_id": "32947702",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 21646,
      "stackoverflow_creation_date": "2015-10-05T11:38:24.980Z"
    },
    "idempotency_key": "stackoverflow-32947702",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "NSPredicate 'IN' operator formatting issue in swift. Unable to parse the format string",
    "body": "I am getting an exception when trying to create NSPredicate object that goes like: let searchPredicate = NSPredicate(format: \"addonCategoryId IN \\(idsArray)\") where idsArray is made up of Int objects in swift array. Exception is raised at this line itself. Console says: 2015-10-08 08:21:42.878 bkApp[2569:510538] *** Terminating app due to uncaught exception 'NSInvalidArgumentException', reason: 'Unable to parse the format string \"addonCategoryId IN [5404, 5406]\"' What could be the issue? Thanks for taking a look. :)",
    "code": "let searchPredicate = NSPredicate(format: \"addonCategoryId IN \\(idsArray)\")\n\n\nidsArray\n\nInt\n\n# Solution Code:\nlet searchPredicate = NSPredicate(format: \"addonCategoryId IN \\(idsArray)\")\n// result: addonCategoryId IN [5404, 5406]\n\n\nlet searchPredicate = NSPredicate(format: \"addonCategoryId IN %@\", idsArray)\n// result: addonCategoryId IN {5404, 5406}\n\n\nNSPredicate\n\n[]\n\n{}\n\nNSPredicate",
    "resolution": "NSPredicate is still expecting Objective-C style format string. You used string interpolation. let searchPredicate = NSPredicate(format: \"addonCategoryId IN \\(idsArray)\") // result: addonCategoryId IN [5404, 5406] Try this: let searchPredicate = NSPredicate(format: \"addonCategoryId IN %@\", idsArray) // result: addonCategoryId IN {5404, 5406} The difference is subtile [] vs. {} but if NSPredicate doesn't like it, it doesn't like it.",
    "severity": "low",
    "tags": [
      "ios",
      "swift",
      "core-data",
      "nspredicate"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "33005876",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 837,
      "stackoverflow_creation_date": "2015-10-08T03:02:24.693Z"
    },
    "idempotency_key": "stackoverflow-33005876",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Route doesn't exist",
    "body": "I have the following code on my service and when requested the return is always 404. @app.route('/v1/auth/service', methods=['POST']) def verifyAuthService(): data = request.get_json() But in the log file, the service returns 404. 127.0.0.1 - - [TIMEVALUE] \"POST /v1/auth/service HTTP/1.1\" 404 - But it works when I use other route. I have checked if the route path or method name are duplicated and didn't find anything. I request the service method with the following code: r = requests.post(\"http://myservice.com:5001/v1/auth/service\", json=jPayload)",
    "code": "@app.route('/v1/auth/service', methods=['POST'])\ndef verifyAuthService():\n    data = request.get_json()\n\n\n127.0.0.1 - - [TIMEVALUE] \"POST /v1/auth/service HTTP/1.1\" 404 -\n\n\nr = requests.post(\"http://myservice.com:5001/v1/auth/service\", json=jPayload)\n\n\n# Solution Code:\ninit.py\n\nauth_services.py\n\n/v1/auth/service",
    "resolution": "Maybe was a newbie error, in my init.py file, I haven't imported auth_services.py. The /v1/auth/service route wasn't interpreted by python so, the route was inaccessible.",
    "severity": "low",
    "tags": [
      "python",
      "flask"
    ],
    "metadata": {
      "language": "python",
      "framework": "flask",
      "stackoverflow_question_id": "33036460",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 893,
      "stackoverflow_creation_date": "2015-10-09T10:55:27.410Z"
    },
    "idempotency_key": "stackoverflow-33036460",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Materialize css checkbox not working in rails app",
    "body": "I'm trying to add checkboxes to a form for users to select the workshops that they want but I cannot make the checkboxes appear. I'm using Materialize Css gem with rails. My form is the next: <div class=\"row\"> <% workshops = Workshop.all.order(\"date\") %> <% workshops.each do |workshop| %> <div class=\" col m4 s6\"> <%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %> <%= f.check_box :workshop_id, id:\"workshop_id\" %> </div> <% end %> <div class=\"actions col m6 s12\"> <br> <br> <br> <%= f.submit \"Save\", class:\"btn green\"%> </div> </div> I have tried with and without the id and for attributes inside the input and the label, but nothing seems to work. Am I missing something? EDIT 1 The css that shows from Materialize css is the following: [type=\"checkbox\"]:not(:checked), [type=\"checkbox\"]:checked { position: absolute; left: -9999px; visibility: hidden; }",
    "code": "&lt;div class=\"row\"&gt;\n  &lt;% workshops = Workshop.all.order(\"date\") %&gt;\n  &lt;% workshops.each do |workshop| %&gt;\n    &lt;div class=\" col m4 s6\"&gt;\n      &lt;%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %&gt;\n      &lt;%= f.check_box :workshop_id, id:\"workshop_id\" %&gt;\n    &lt;/div&gt;\n  &lt;% end %&gt;  \n  &lt;div class=\"actions col m6 s12\"&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;br&gt;\n    &lt;%= f.submit \"Save\", class:\"btn green\"%&gt; \n  &lt;/div&gt;\n&lt;/div&gt;\n\n\n[type=\"checkbox\"]:not(:checked), [type=\"checkbox\"]:checked {\n    position: absolute;\n    left: -9999px;\n    visibility: hidden;\n}\n\n\n# Solution Code:\n&lt;%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %&gt;`\n&lt;%= f.check_box :workshop_id, id:\"workshop_id\" %&gt;`\n\n\n&lt;%= f.check_box :workshop_id, id:\"workshop_id\" %&gt;\n&lt;%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %&gt;\n\n\n&lt;input&gt;\n\n&lt;label&gt;",
    "resolution": "The solution, as simple as it is... Was to change the order of the <input> and the <label> So instead of: <%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %>` <%= f.check_box :workshop_id, id:\"workshop_id\" %>` The righ way is: <%= f.check_box :workshop_id, id:\"workshop_id\" %> <%= f.label \"#{workshop.name} \\n\\r #{workshop.date}\", for:\"workshop_id\", id:\"workshop_id\" %> Solved.",
    "severity": "medium",
    "tags": [
      "css",
      "ruby-on-rails",
      "checkbox",
      "rubygems",
      "materialize"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "33109410",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 5792,
      "stackoverflow_creation_date": "2015-10-13T17:54:14.593Z"
    },
    "idempotency_key": "stackoverflow-33109410",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "debug yeoman with visual studio code \"cannot launch programm ...\"",
    "body": "I'm trying to debug a yeoman generator in visual studio code but it keeps telling me that it cannot launch programm d:\\repos\\generator\\node_modules\\.bin\\yo'; enabling source maps might help everytime I hit F5 My VS Code config File looks like this: { \"version\": \"0.1.0\", \"configurations\": [ { // Name of configuration; appears in the launch configuration drop down menu. \"name\": \"Launch app/index.js\", // Type of configuration. Possible values: \"node\", \"mono\". \"type\": \"node\", // Workspace relative or absolute path to the program. \"program\": \"node_modules/.bin/yo\", // Command line arguments passed to the program. \"args\": [ \"design\" ], // Workspace relative or absolute path to the working directory of the program being debugged. Default is the current workspace. \"cwd\": \".\", // Workspace relative or absolute path to the runtime executable to be used. Default is the runtime executable on the PATH. \"runtimeExecutable\": null, // Optional arguments passed to the runtime executable. \"runtimeArgs\": [\"--nolazy\"], // Environment variables passed to the program. \"env\": { \"NODE_ENV\": \"development\" }, // Use JavaScript source maps (if they exist). \"sourceMaps\": false, // If JavaScript source maps are enabled, the generated code is expected in this directory. \"outDir\": null } ] } And my package.json something like this: { \"name\": \"generator-design\", \"version\": \"0.1.0\", \"main\": \"app/index.js\", \"files\": [ \"generators/app\" ], \"dependencies\": { \"yeoman-generator\": \"^0.20.3\", \"yosay\": \"^1.0.5\", \"chalk\": \"^1.1.1\", \"uuid\": \"^2.0.1\", \"yeoman-option-or-prompt\": \"^1.0.2\" } } The path is correct and yeoman is working, because when I copy it to the command line yeoman greets me and asks which generator I would like to run. Also the generator works fine if I select it. VS Code Version is 0.9.2 OS is Windows 8.1 Yeoman ist latest What am I missing here? not sure if this is relevant, but when I add .js to the yo file VS Code starts up the console (where it fails of course, but atleast the console starts) and if I point the path to something wrong, the error message changes to program 'd:\\foo\\bar\\yo' does not exist",
    "code": "{\n    \"version\": \"0.1.0\",\n    \"configurations\": [\n        {\n            // Name of configuration; appears in the launch configuration drop down menu.\n            \"name\": \"Launch app/index.js\",\n            // Type of configuration. Possible values: \"node\", \"mono\".\n            \"type\": \"node\",\n            // Workspace relative or absolute path to the program.\n            \"program\": \"node_modules/.bin/yo\",\n            // Command line arguments passed to the program.\n            \"args\": [ \"design\" ],\n            // Workspace relative or absolute path to the working directory of the program being debugged. Default is the current workspace.\n            \"cwd\": \".\",\n            // Workspace relative or absolute path to the runtime executable to be used. Default is the runtime executable on the PATH.\n            \"runtimeExecutable\": null,\n            // Optional arguments passed to the runtime executable.\n            \"runtimeArgs\": [\"--nolazy\"],\n            // Environment variables passed to the program.\n            \"env\": {\n                \"NODE_ENV\": \"development\"\n            },\n            // Use JavaScript source maps (if they exist).\n            \"sourceMaps\": false,\n            // If JavaScript source maps are enabled, the generated code is expected in this directory.\n            \"outDir\": null\n        }\n    ]\n}\n\n\n{\n    \"name\": \"generator-design\",\n    \"version\": \"0.1.0\",\n    \"main\": \"app/index.js\",\n    \"files\": [\n        \"generators/app\"\n    ],\n    \"dependencies\": {\n        \"yeoman-generator\": \"^0.20.3\",\n        \"yosay\": \"^1.0.5\",\n        \"chalk\": \"^1.1.1\",\n        \"uuid\": \"^2.0.1\",\n        \"yeoman-option-or-prompt\": \"^1.0.2\"\n    }\n}\n\n\ncannot launch programm d:\\repos\\generator\\node_modules\\.bin\\yo'; enabling source maps might help\n\n0.9.2\n\n8.1\n\nlatest\n\nprogram 'd:\\foo\\bar\\yo' does not exist\n\n# Solution Code:\ncli.js\n\nyo/lib\n\n\"console\": \"integratedTerminal\"",
    "resolution": "In recent versions of Visual Studio Code (I use 1.16.1) you can directly add a Node.js Yeoman debug configuration via \"Add configuration\". Then you just have to edit the generator name. As Max already mentioned, the program path has to be your cli.js inside the yo/lib folder. You can find out the path as described in the Yeoman docs. When you launch the generator, an internal terminal will be started, so that you can interact with the question prompts (\"console\": \"integratedTerminal\")",
    "severity": "low",
    "tags": [
      "debugging",
      "yeoman",
      "visual-studio-code"
    ],
    "metadata": {
      "stackoverflow_question_id": "33395636",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 932,
      "stackoverflow_creation_date": "2015-10-28T15:50:19.640Z"
    },
    "idempotency_key": "stackoverflow-33395636",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Does calling ToList multiple times effect performance?",
    "body": "I often times see that calling ToList will make query get executed every time. I'm a little confused about that. So in this scenario, would calling ToList the second time make the query get executed more than once? In what scenarios does the query get execute more than once? //This gets from database and ToList is already called here List<Customer> Customers = GetCustomersFromDataBase(); //ToList is called here again List<Customer> FilteredCustomers = (from c in Customerswhere c.id == 1c).ToList(); Edit I just provided this code example to understand what ToList really does. I'm not implementing it this way. Also, I make a stored procedure call to return customers from db and create a list of customers from the returned datatable.",
    "code": "//This gets from database and ToList is already called here\nList&lt;Customer&gt; Customers = GetCustomersFromDataBase();\n\n//ToList is called here again\nList&lt;Customer&gt; FilteredCustomers = (from c in Customerswhere c.id == 1c).ToList();\n\n\n# Solution Code:\nList&lt;Customer&gt; Customers = GetCustomersFromDataBase();\n\n\nList&lt;Customer&gt; FilteredCustomers = (from c in Customers where c.id == 1c).ToList();\n\n\nToList\n\nToArray\n\nAsEnumerable\n\nIQueryable\n\nList\n\nCustomer\n\nCustomer\n\nIQueryable\n\nToList\n\nToList\n\nIQueryable",
    "resolution": "Calling ToList (or ToArray, AsEnumerable, etc) on an IQueryable will execute the query. After that any LINQ expression you use will be operating on the in-memory list. For instance, your code: List<Customer> Customers = GetCustomersFromDataBase(); This will result in a List of Customer objects which represent the database records. The list is now independent of the query used to fetch the results from the database, although linked records in the Customer objects will still need to be fetched from the database. Then when you do this: List<Customer> FilteredCustomers = (from c in Customers where c.id == 1c).ToList(); This is not operating on the database but on the results in memory that were returned from the previous statement. In this case you will not be querying the database multiple times. Where it does impact performance is when you have an IQueryable object that you call ToList on directly multiple times. Each call to ToList on an IQueryable will result in a call to the database, with all of the attendant object tracking and such in the background. Generally this is something you want to avoid, although additional filtering of the query prior to enumerating the results may result in better performance if the total number of records selected by the query is large and the filters pull small subsets of the data.",
    "severity": "medium",
    "tags": [
      "c#",
      "linq"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "33428642",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3560,
      "stackoverflow_creation_date": "2015-10-30T04:25:30.433Z"
    },
    "idempotency_key": "stackoverflow-33428642",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Editing the registry with a batch file/script",
    "body": "I am working on editing the registry in windows 10 for deployment but nothing is working for me. I am writing a batch file that removes the Store icon from the taskbar. I found the key that needs changing but none of my attempts have been successful so far. Here is my latest attempt. @echo off reg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer\" /v \"NoPinningStoreToTaskbar\" /t REG_DWORD /d 1 /f I have also tried to write a powershell script but that doesn't work either. Here is the powershell script. if ((Get-ItemProperty 'HKCU:SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer' -name NoPinningStoreToTaskbar | select -exp NoPinningStoreToTaskbar) -ne 1) { Set-ItemProperty 'HKCU:SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer' -Name NoPinningStoreToTaskbar -Value 1 } Any insight that you can give m would be fantastic!",
    "code": "@echo off\n\nreg add \"HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer\" /v \"NoPinningStoreToTaskbar\" /t REG_DWORD /d 1 /f\n\n\nif ((Get-ItemProperty 'HKCU:SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer' -name NoPinningStoreToTaskbar | select -exp NoPinningStoreToTaskbar) -ne 1) {\nSet-ItemProperty 'HKCU:SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\Group Policy Objects\\{3616E1B7-E166-433A-BBCC-03F638F02C65}User\\Software\\Policies\\Microsoft\\Windows\\Explorer' -Name NoPinningStoreToTaskbar -Value 1 }\n",
    "severity": "medium",
    "tags": [
      "windows",
      "powershell",
      "batch-file"
    ],
    "metadata": {
      "language": "powershell",
      "stackoverflow_question_id": "33487570",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1487,
      "stackoverflow_creation_date": "2015-11-02T21:46:04.863Z"
    },
    "idempotency_key": "stackoverflow-33487570",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "EF6 Retrying procedure throws \"The SqlParameter is already contained by another SqlParameterCollection\" for SqlQuery command",
    "body": "I'm trying to use the DBExecutionStrategy to retry queries that have timed out, but when the time out happens I get the error \"The SqlParameter is already contained by another SqlParameterCollection\". I'm using EF6. My Query: using (var ctx = new EntityModel()) { IEnumerable<ItemResponse> items= ctx.Database.SqlQuery<ItemResponse>( \"spItemListGet @UserID\", new SqlParameter(\"@UserID\", UserID) ).ToList(); } My Execution Strategy: protected override bool ShouldRetryOn(Exception ex) { bool retry = false; SqlException sqlException = ex as SqlException; if (sqlException != null) { int[] errorsToRetry = { -2, //Timeout }; if (sqlException.Errors.Cast<SqlError>().Any(x => errorsToRetry.Contains(x.Number))) { retry = true; } else { throw ex; //dont retry } } return retry; } The stack trace: System.ArgumentException: The SqlParameter is already contained by another SqlParameterCollection. at System.Data.SqlClient.SqlParameterCollection.Validate(Int32 index, Object value) at System.Data.SqlClient.SqlParameterCollection.AddRange(Array values) at System.Data.Entity.Core.Objects.ObjectContext.CreateStoreCommand(String commandText, Object[] parameters) at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryInternal[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters) at System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass65`1.<ExecuteStoreQueryReliably>b__64() at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess) at System.Data.Entity.Core.Objects.ObjectContext.<>c__DisplayClass65`1.<ExecuteStoreQueryReliably>b__63() at System.Data.Entity.Infrastructure.DbExecutionStrategy.Execute[TResult](Func`1 operation) at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryReliably[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters) at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQuery[TElement](String commandText, ExecutionOptions executionOptions, Object[] parameters) at System.Data.Entity.Internal.InternalContext.<>c__DisplayClass14`1.<ExecuteSqlQuery>b__13() at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext() at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext() at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection) at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source) What could it be done to prevent this error? Can Database.SqlQuery be used for with the execution strategy?",
    "code": "using (var ctx = new EntityModel())\n{\n    IEnumerable&lt;ItemResponse&gt; items= ctx.Database.SqlQuery&lt;ItemResponse&gt;(\n           \"spItemListGet @UserID\", new SqlParameter(\"@UserID\", UserID)\n    ).ToList();\n}\n\n\nprotected override bool ShouldRetryOn(Exception ex)\n{\n    bool retry = false;\n\n    SqlException sqlException = ex as SqlException;\n    if (sqlException != null)\n    {\n        int[] errorsToRetry =\n        {\n            -2,     //Timeout\n        };\n        if (sqlException.Errors.Cast&lt;SqlError&gt;().Any(x =&gt; errorsToRetry.Contains(x.Number)))\n        {\n            retry = true;\n        }\n        else\n        {\n            throw ex; //dont retry\n        }\n    }\n\n    return retry;\n}\n\n\nSystem.ArgumentException: The SqlParameter is already contained by another SqlParameterCollection.\n   at System.Data.SqlClient.SqlParameterCollection.Validate(Int32 index, Object value)\n   at System.Data.SqlClient.SqlParameterCollection.AddRange(Array values)\n   at System.Data.Entity.Core.Objects.ObjectContext.CreateStoreCommand(String commandText, Object[] parameters)\n   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryInternal[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters)\n   at System.Data.Entity.Core.Objects.ObjectContext.&lt;&gt;c__DisplayClass65`1.&lt;ExecuteStoreQueryReliably&gt;b__64()\n   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)\n   at System.Data.Entity.Core.Objects.ObjectContext.&lt;&gt;c__DisplayClass65`1.&lt;ExecuteStoreQueryReliably&gt;b__63()\n   at System.Data.Entity.Infrastructure.DbExecutionStrategy.Execute[TResult](Func`1 operation)\n   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQueryReliably[TElement](String commandText, String entitySetName, ExecutionOptions executionOptions, Object[] parameters)\n   at System.Data.Entity.Core.Objects.ObjectContext.ExecuteStoreQuery[TElement](String commandText, ExecutionOptions executionOptions, Object[] parameters)\n   at System.Data.Entity.Internal.InternalContext.&lt;&gt;c__DisplayClass14`1.&lt;ExecuteSqlQuery&gt;b__13()\n   at System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()\n   at System.Linq.Enumerable.WhereSelectEnumerableIterator`2.MoveNext()\n   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)\n   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)\n\n\n# Solution Code:\nstatic void Main(string[] args)\n{\n    TestQuery();\n}\n\nprivate static void TestQuery()\n{\n    using (var ctx = new ProductContext())\n    {\n        var parameter = new SqlParameter(\"@ID\", 1);\n        var commandText = \"select * from product where ProductId = @ID\";\n\n        Action a = () =&gt;\n        {\n            IDbCommand command = new SqlCommand();\n            command.CommandText = commandText;\n            command.Parameters.Add(parameter);\n\n            command.Connection = ctx.Database.Connection;\n            if (command.Connection.State != ConnectionState.Open)\n            {\n                command.Connection.Open();\n            }\n\n            var reader = command.ExecuteReader();\n            try\n            {\n                throw new Exception();\n                while (reader.Read())\n                {\n                    var pId = reader[\"ProductID\"];\n                }\n                reader.Close();\n            }\n            catch (Exception exc)\n            {\n                //for simplification, we just swallow this error, but in reality the connection error\n                //would reach the IDbExecutionStrategy, and would do a retry. Instead we fake the retry\n                //with a loop below\n            }\n            finally\n            {\n                reader.Dispose();\n\n                //command.Parameters.Clear();  &lt;--------- THIS LINE IS MISSING FROM EF\n                command.Dispose();\n            }\n        };\n\n        for (int i = 0; i &lt; 2; i++) // we fake the retry with a loop now\n        {\n            a();\n        }\n    }\n}\n\n\nExecuteStoreQueryInternalAsync\n\ncommand.Parameters.Clear()",
    "resolution": "The short answer: No, you can't do this (if your command has parameters). The long answer: Here is a minimal repro of the issue. I stripped out the execution strategy from the picture, and faked it with a loop instead. This logic is implemented in the ObjectContext, specifically in the ExecuteStoreQueryInternalAsync method. The problem seems to be that a command.Parameters.Clear() call is missing from the cleanup part. static void Main(string[] args) { TestQuery(); } private static void TestQuery() { using (var ctx = new ProductContext()) { var parameter = new SqlParameter(\"@ID\", 1); var commandText = \"select * from product where ProductId = @ID\"; Action a = () => { IDbCommand command = new SqlCommand(); command.CommandText = commandText; command.Parameters.Add(parameter); command.Connection = ctx.Database.Connection; if (command.Connection.State != ConnectionState.Open) { command.Connection.Open(); } var reader = command.ExecuteReader(); try { throw new Exception(); while (reader.Read()) { var pId = reader[\"ProductID\"]; } reader.Close(); } catch (Exception exc) { //for simplification, we just swallow this error, but in reality the connection error //would reach the IDbExecutionStrategy, and would do a retry. Instead we fake the retry //with a loop below } finally { reader.Dispose(); //command.Parameters.Clear(); <--------- THIS LINE IS MISSING FROM EF command.Dispose(); } }; for (int i = 0; i < 2; i++) // we fake the retry with a loop now { a(); } } }",
    "severity": "medium",
    "tags": [
      "c#",
      "sql-server",
      "entity-framework",
      "ado.net",
      "entity-framework-6"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "33503212",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2551,
      "stackoverflow_creation_date": "2015-11-03T15:40:59.420Z"
    },
    "idempotency_key": "stackoverflow-33503212",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "EJB cannot inject other EJB",
    "body": "I do have a EJB ActionService which I can inject into other EJBs, that is working fine. Now I created another EJB: @Stateless public class ActionsPerDateDataSet extends ScriptedDataSetEventAdapter { @EJB ActionService actionService; @Override public void open(IDataSetInstance dataSet) { actionService.foo() // However actionService is null here! } } Where the ScriptedDataSetEventAdapter comes from another framework (BIRT). However now my actionService is always null. I can not understand why",
    "code": "@Stateless\npublic class ActionsPerDateDataSet extends ScriptedDataSetEventAdapter  {       \n    @EJB\n    ActionService actionService;\n\n@Override\npublic void open(IDataSetInstance dataSet) {\n        actionService.foo() // However actionService is null here!\n    }\n}\n\n\nActionService\n\nScriptedDataSetEventAdapter\n\nactionService\n\nnull\n\n# Solution Code:\n@Stateless\npublic class ActionsPerDateDataSet   {       \n\n    ScriptedDataSetEventAdapter scriptedDataSetEventAdapter;\n\n    @EJB\n    ActionService actionService;\n\n    @PostConstruct\n    public void init (){\n        try {\n            scriptedDataSetEventAdapter = new ScriptedDataSetEventAdapter();\n        } catch( AppException e){\n        }\n    }\n\n@Override\npublic void open(IDataSetInstance dataSet) {\n        actionService.foo() // However actionService is null here!\n    }\n}\n",
    "resolution": "It is possible that the class ScriptedDataSetEventAdapter can not be initialized in the EJB Container (First part of the cycle) and as the initialization is not correct, the dependency injection (@EJB and @Inject) is not made. What you could do is change the Design of your EJB and instead it's extends \"ScriptedDataSetEventAdapter\" change it to a composition. @Stateless public class ActionsPerDateDataSet { ScriptedDataSetEventAdapter scriptedDataSetEventAdapter; @EJB ActionService actionService; @PostConstruct public void init (){ try { scriptedDataSetEventAdapter = new ScriptedDataSetEventAdapter(); } catch( AppException e){ } } @Override public void open(IDataSetInstance dataSet) { actionService.foo() // However actionService is null here! } }",
    "severity": "medium",
    "tags": [
      "java",
      "jakarta-ee",
      "ejb"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "33545256",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1478,
      "stackoverflow_creation_date": "2015-11-05T13:01:31.720Z"
    },
    "idempotency_key": "stackoverflow-33545256",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I break an eventListener if there has been changes?",
    "body": "I have created my own little image slider, and to get the loader working I had to create an addEventListener and then append the loaded image into the DOM. However, there's a bug in this scenario: When an image takes a while to load and the user clicks past it before it is loaded to see the next image, the event listener is still working in the background, and when the image is then fully loaded it overwrites what the user is currently looking at. My HTML: <template name=\"ImageGallery\"> {{#each galleryImages}} {{#if viewingImage}} {{> Image}} {{/if}} {{/each}} </template> <template name=\"Image\"> <div class=\"image-in-gallery\">LOADING</div> </template> Checking if the \"image\" the user wants to see is the one we have hit in the each iteration (thus displaying it): Template.ImageGallery.helpers({ viewingImage: function() { var self = this var galleryImages = Template.parentData().galleryImages var renderImage = false var viewing = Template.instance().viewingImage.get() var posOfThisImage = lodash.indexOf(galleryImages, self) if (viewing === posOfThisImage) { renderImage = true } return renderImage } }) Enabling the user to see the next \"image\" and looping if we have hit the end: Template.ImageGallery.events({ 'click .click-to-see-next-image': function(event, template) { var viewing = template.viewingImage.get() var imageCount = this.galleryImages.length var nextImage = ++viewing if (nextImage < imageCount) { template.viewingImage.set(nextImage) } else { template.viewingImage.set(0) } } }) The loader: Template.Image.onRendered({ var imageUrl = Template.currentData().name + Template.parentData().name + '.jpg' var imageObj = new Image() imageObj.src = imageUrl imageObj.addEventListener('load', function() { $('.image-in-gallery').empty() $('.image-in-gallery').append($(imageObj)) } }) You can see where the problem lies: the empty() and append() of course overwrites the image the user currently looking at and sets it to be whatever is next loaded. I want to add a break somehow in the addEventListener function to see if the image that is loaded is actually the one the user wants to see. But there are two problems: 1) The ReactiveVar variable isn't available in this template. Do I need to use a Session variable after all? 2) I have no idea how to break. Can anyone help?",
    "code": "&lt;template name=\"ImageGallery\"&gt;\n    {{#each galleryImages}}\n        {{#if viewingImage}}\n            {{&gt; Image}}\n        {{/if}}\n    {{/each}}\n&lt;/template&gt;\n\n&lt;template name=\"Image\"&gt;\n    &lt;div class=\"image-in-gallery\"&gt;LOADING&lt;/div&gt;\n&lt;/template&gt;\n\n\nTemplate.ImageGallery.helpers({\n    viewingImage: function() {\n        var self = this\n        var galleryImages = Template.parentData().galleryImages\n        var renderImage = false\n        var viewing = Template.instance().viewingImage.get()\n        var posOfThisImage = lodash.indexOf(galleryImages, self)\n        if (viewing === posOfThisImage) {\n            renderImage = true\n        }\n        return renderImage\n    }\n})\n\n\nTemplate.ImageGallery.events({\n    'click .click-to-see-next-image': function(event, template) {\n        var viewing = template.viewingImage.get()\n        var imageCount = this.galleryImages.length\n        var nextImage = ++viewing\n        if (nextImage &lt; imageCount) {\n            template.viewingImage.set(nextImage)\n        }\n        else {\n            template.viewingImage.set(0)\n        }\n    }\n})\n\n\nTemplate.Image.onRendered({\n    var imageUrl = Template.currentData().name + Template.parentData().name + '.jpg'\n    var imageObj = new Image()\n    imageObj.src = imageUrl\n\n    imageObj.addEventListener('load', function() {\n        $('.image-in-gallery').empty()\n        $('.image-in-gallery').append($(imageObj))\n    }\n})\n\n\naddEventListener\n\neach\n\nempty()\n\nappend()\n\naddEventListener\n\nReactiveVar\n\nSession\n\n# Solution Code:\nload\n\nload\n\n$\n\nonRendered\n\n$\n\nthis.$",
    "resolution": "I think there are two flaws in your code : You never remove your load event when your template is destroyed. So even if your template is destroyed because you clicked to get your next image, the image is still loading in your browser and the load event is launched. destroyed elements removeEventListener You are using $ in your onRendered. $ refers to the the global DOM whereas this.$ would only look for the local DOM of your template. If you had used this.$ it should have thrown an error because your local DOM was destroyed and the wrong image wouldn't have been showed. This is how I would do it : https://github.com/darkship/ImageGallery",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "meteor"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "34353408",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3481,
      "stackoverflow_creation_date": "2015-12-18T10:26:27.863Z"
    },
    "idempotency_key": "stackoverflow-34353408",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "OpenMP 4 simd vectorization for c=c+a*b",
    "body": "I do not know if OpenMP 4 support this for loop or not. The speed with and without the pragma is the same. #pragma omp for simd for (size_t i = 0; i < col; i++) { C[i] += A[i]* B[i]; }",
    "code": "#pragma omp  for simd\nfor (size_t i = 0; i &lt; col; i++)\n{\n    C[i] += A[i]* B[i];\n}\n\n\npragma\n\n# Solution Code:\nsimd",
    "resolution": "The reason (I guess) for the pragma do be of no effect is double: The code vectorises already without the simd directive; and The code is memory bound anyway, so adding more threads to compute it won't make much differences unless it gives you access to more memory bandwidth. See this excellent answer for more details.",
    "severity": "low",
    "tags": [
      "c++",
      "openmp",
      "simd"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "34450082",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 270,
      "stackoverflow_creation_date": "2015-12-24T09:05:01.810Z"
    },
    "idempotency_key": "stackoverflow-34450082",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "how to join two columns side by side in MDX in SSAS",
    "body": "I have a query where it will give Schema Columns of the table. Select level_caption from $system.MDSchema_levels Where [Cube_name] = 'Quote' AND [Dimension_Unique_name]= [QUOTE TABLE NAME] AND NOT[LEVEL_IS_VISIBLE] Select level_caption from $system.MDSchema_levels Where [Cube_name] = 'Quote' AND [Dimension_Unique_name]= [QUOTE TABLE NAME] AND [LEVEL_IS_VISIBLE] Here I'm going to get Visible and Non Visible Columns how I can put Visible and NON-Visible Columns side by side OUTPUT : Visible Non-Visible col1 col2 col3 col4 col5 col7 col6",
    "code": "Select level_caption from $system.MDSchema_levels\nWhere [Cube_name] = 'Quote' \nAND [Dimension_Unique_name]= [QUOTE TABLE NAME] AND NOT[LEVEL_IS_VISIBLE]\n\nSelect level_caption from $system.MDSchema_levels\nWhere [Cube_name] = 'Quote' \nAND [Dimension_Unique_name]= [QUOTE TABLE NAME] AND [LEVEL_IS_VISIBLE]\n\n\nVisible  Non-Visible\ncol1      col2\ncol3      col4\ncol5      col7\ncol6\n",
    "severity": "low",
    "tags": [
      "ssas",
      "dmx-ssas"
    ],
    "metadata": {
      "stackoverflow_question_id": "34669980",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 516,
      "stackoverflow_creation_date": "2016-01-08T05:15:26.667Z"
    },
    "idempotency_key": "stackoverflow-34669980",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Writing to different offsets in array always well defined",
    "body": "In this question it was brought up that writing to two different offsets in a char array concurrently would imply a data race, since some processors such as Alpha don't have byte-wise addressing so it'd be hard to implement this. I certainly see that this would very much slow down writing bytes on alpha processors (basically involving a LL/SC), but as I understand the C++ standard every field in an array is its own memory location (although from reading §1.7, I could also see the whole array as one memory location - that's probably what this question boils down to). So basically is the following pseudo code char arr[10]; // global field Thread 1: arr[1] = 0; Thread 2: arr[0] = 1; well defined according to the C++14 standard or not?",
    "code": "char arr[10]; // global field\nThread 1:\narr[1] = 0;\nThread 2:\narr[0] = 1;\n\n\n# Solution Code:\nchar\n\nchar",
    "resolution": "From the C++14 standard (1.7/3): Two or more threads of execution (1.10) can update and access separate memory locations without interfering with each other. Where it previously defines (emphasis mine) A memory location is either an object of scalar type or a maximal sequence of adjacent bit-fields all having non-zero width. So the chars of the array are memory locations, but the array itself is not; therefore, separate threads writing to different chars do not interfere with each other.",
    "severity": "low",
    "tags": [
      "c++",
      "multithreading",
      "language-lawyer",
      "c++14"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "34706564",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 172,
      "stackoverflow_creation_date": "2016-01-10T14:30:57.717Z"
    },
    "idempotency_key": "stackoverflow-34706564",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Detect wireless devices connected to Raspberry Pi in python on Linux",
    "body": "In my python code I need to get the list of \"physical\" WiFi network devices connected to Raspberry Pi I've been doing this by calling: raw_output = check_output('iw dev', shell=True) and then extracting all the data I need from raw_output It works ok, but in iw help it says that Do NOT screenscrape this tool, we don't consider its output stable. Is it really unsafe to get this data the way I did it? If yes, what is the correct way to do this?",
    "code": "raw_output = check_output('iw dev', shell=True)\n\n\nraw_output\n\niw help\n\nDo NOT screenscrape this tool, we don't consider its output stable.\n\n# Solution Code:\neth0      Link encap:Ethernet  HWaddr 00:80:C8:F8:4A:51\n          inet addr:192.168.99.35  Bcast:192.168.99.255  Mask:255.255.255.0\n          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1\n          RX packets:190312 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:86955 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 txqueuelen:100 \n          RX bytes:30701229 (29.2 Mb)  TX bytes:7878951 (7.5 Mb)\n          Interrupt:9 Base address:0x5000\n\n\neth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500\n        inet 192.168.1.67  netmask 255.255.255.0  broadcast 192.168.1.255\n        inet6 fe80::8e89:a5ff:fe57:103c  prefixlen 64  scopeid 0x20&lt;link&gt;\n        ether 8c:89:a5:57:10:3c  txqueuelen 1000  (Ethernet)\n        RX packets 2219946  bytes 3178868967 (2.9 GiB)\n        RX errors 0  dropped 0  overruns 0  frame 0\n        TX packets 1241676  bytes 102998523 (98.2 MiB)\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0\n\n\neth0      Lien encap:Ethernet  HWaddr 00:FF:F2:58:32:A1  \n          UP BROADCAST MULTICAST  MTU:1500  Metric:1\n          Packets reçus:0 erreurs:0 :0 overruns:0 frame:0\n          TX packets:0 errors:0 dropped:0 overruns:0 carrier:0\n          collisions:0 lg file transmission:1000 \n          Octets reçus:0 (0.0 b) Octets transmis:0 (0.0 b)\n          Interruption:23 Adresse de base:0x2000\n\n\niw\n\niw\n\niw\n\nifconfig\n\niw\n\nifconfig\n\niw\n\niw\n\nlibnl\n\nlibnl",
    "resolution": "What is meant by \"Do NOT screenscrape this tool, we don't consider its output stable\" is that as new releases of iw will be made, the output formating may change. So the developers of iw warn you that if you write software depending on the parsing of its output, it may break on future releases of iw. Take the example of the venerable ifconfig command. For many many years, its output used to be formated like so: eth0 Link encap:Ethernet HWaddr 00:80:C8:F8:4A:51 inet addr:192.168.99.35 Bcast:192.168.99.255 Mask:255.255.255.0 UP BROADCAST RUNNING MULTICAST MTU:1500 Metric:1 RX packets:190312 errors:0 dropped:0 overruns:0 frame:0 TX packets:86955 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 txqueuelen:100 RX bytes:30701229 (29.2 Mb) TX bytes:7878951 (7.5 Mb) Interrupt:9 Base address:0x5000 And though it was considered stable (even deprecated and unmaintained by some), it changed a couple of years ago and now looks like this: eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST> mtu 1500 inet 192.168.1.67 netmask 255.255.255.0 broadcast 192.168.1.255 inet6 fe80::8e89:a5ff:fe57:103c prefixlen 64 scopeid 0x20<link> ether 8c:89:a5:57:10:3c txqueuelen 1000 (Ethernet) RX packets 2219946 bytes 3178868967 (2.9 GiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 1241676 bytes 102998523 (98.2 MiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 ...so let's say I did some soft which look at the MAC address by searching the string following \"HWaddr\". Nowadays it would be broken, because it should look for the string following \"ether\" instead. But as long as you don't update iw, or perform regular testing of you work, you should not encounter any problem. It is anyway always inherently a bit fragile to parse the output of a third part tool, you just have to be aware of it. For instance, the output may depend on the LOCALE setup by the user. Real life example, some scripting I did with the output of ifconfig failed on some users environment. Root cause: here is what the output look like in French locale: eth0 Lien encap:Ethernet HWaddr 00:FF:F2:58:32:A1 UP BROADCAST MULTICAST MTU:1500 Metric:1 Packets reçus:0 erreurs:0 :0 overruns:0 frame:0 TX packets:0 errors:0 dropped:0 overruns:0 carrier:0 collisions:0 lg file transmission:1000 Octets reçus:0 (0.0 b) Octets transmis:0 (0.0 b) Interruption:23 Adresse de base:0x2000 Notice the French \"Packets reçus\", \"erreurs\", and \"Octets reçus\" instead of \"RX packets\", \"errors\", and \"RX bytes\". EDIT: So: Is it really unsafe to get this data the way I did it? Not really. You just have to keep in mind that your software depends on the output strings of some third part software that is somewhat out of your control and may change in the future. That will be regular testing and maintenance job for you, nothing tragic, that's software life. If yes, what is the correct way to do this? Again, \"no\", but if you want to be bulletproof to that: do not depend on the textual output of third part software. This usually involve writing your own code to replace these tools, which can be quite a task. And if to do so, you use some third part libraries, well, library API change over time too... :-) EDIT 2: In your case, to not depend on the output of iw (i.e. write your own \"mini iw\"), and considering you want to code in Python: At the low level iw, writtent in C, uses libnl (in C too) to communicate with the kernel to get information/perform actions on network interfaces. https://www.infradead.org/~tgr/libnl/ You're lucky: it seems there is an activaly maintained version of a Python libnl library. https://pypi.python.org/pypi/libnl/0.2.0 So the plan would be: Study iw C source code to get and idea of the netlink/libnl operations it performs to get/set the parts you're interested in. Use the Python libnl in your code to replicate that. (Be warned the libnl/netlink is designed as a very generic, long-term extensible mechanism. And it really is designed with that goals, to replace ad-hoc ioctl. With that genericity comes a certain complexity: it can be quite complicated/involve a lot of coding to perform even simple tasks.) As I wrote above doing your own code to replace a tool can be quite a task. grep'ing the output of a command is a matter of minutes to code, whereas here this may be days or weeks of work. So you have to make a choice between the \"quick and easy but not so clean\" and the \"self-contained, clean, extensible but expensive\". It depends: do you work to produce an industrial-grade, customer supported software, is it an internal company tool, or just a week-end hobby software project for fun.",
    "severity": "medium",
    "tags": [
      "python",
      "linux",
      "shell",
      "network-programming",
      "raspberry-pi"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "34778581",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2498,
      "stackoverflow_creation_date": "2016-01-13T22:51:07.267Z"
    },
    "idempotency_key": "stackoverflow-34778581",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Stacked bar plot by grouped data with pandas",
    "body": "Let's assume I have pandas dataframe which has many features and I am interested in two. I'll call them feature1 and feature2. feature1 can have three possible values. feature2 can have two possible values. I need bar plot grouped by feature1 and stacked by count of rows with each value of feature2. (So that there will be three stacks each with two bars). How to achieve this? At the moment I have import pandas as pd df = pd.read_csv('data.csv') df['feature1'][df['feature2'] == 0].value_counts().plot(kind='bar',label='0') df['feature1'][df['feature2'] == 1].value_counts().plot(kind='bar',label='1') but that is not what I actually want because it doesn't stack them.",
    "code": "import pandas as pd\ndf = pd.read_csv('data.csv')\ndf['feature1'][df['feature2'] == 0].value_counts().plot(kind='bar',label='0')\ndf['feature1'][df['feature2'] == 1].value_counts().plot(kind='bar',label='1')\n\n\npandas\n\nfeature1\n\nfeature2\n\nfeature1\n\nfeature2\n\nfeature1\n\nfeature2\n\n# Solution Code:\nimport pandas as pd\nfrom bokeh.charts import Bar, output_file, show\nx = pd.DataFrame({\"gender\": [\"m\",\"f\",\"m\",\"f\",\"m\",\"f\"],\n                  \"enrolments\": [500,20,100,342,54,47],\n                  \"class\": [\"comp-sci\", \"comp-sci\",\n                            \"psych\", \"psych\",\n                            \"history\", \"history\"]})\n\nbar = Bar(x, values='enrolments', label='class', stack='gender',\n         title=\"Number of students enrolled per class\",\n         legend='top_right',bar_width=1.0)\noutput_file(\"myPlot.html\")\nshow(bar)\n",
    "resolution": "Im not sure how to do this in matplotlib (pandas default plotting library), but if you are willing to try a different plotting library, it is quite easy to do it with Bokeh. Here is an example import pandas as pd from bokeh.charts import Bar, output_file, show x = pd.DataFrame({\"gender\": [\"m\",\"f\",\"m\",\"f\",\"m\",\"f\"], \"enrolments\": [500,20,100,342,54,47], \"class\": [\"comp-sci\", \"comp-sci\", \"psych\", \"psych\", \"history\", \"history\"]}) bar = Bar(x, values='enrolments', label='class', stack='gender', title=\"Number of students enrolled per class\", legend='top_right',bar_width=1.0) output_file(\"myPlot.html\") show(bar)",
    "severity": "high",
    "tags": [
      "python",
      "pandas",
      "plot"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "34917727",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 29774,
      "stackoverflow_creation_date": "2016-01-21T07:28:09.483Z"
    },
    "idempotency_key": "stackoverflow-34917727",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to update record in MongoDB without replacing the existing fields?",
    "body": "When I am update a record, it removes the existing fields and adds the new ones. This was the record before the update: { \"_id\" : ObjectId(\"56a356863aa433ae37dc2cee\"), \"browser\" : \"Chrome\", \"version\" : 47} This was the command I executed: db.collection('profiles') .update({ '_id' : obj(\"56a356863aa433ae37dc2cee\") }, {\"first_name\" : first_name, \"last_name\" : last_name, \"email\" : email}, function (err, result) { console.log(result); }); This was the record after I had executed the update command: { \"_id\" : ObjectId(\"56a356c9a08487ed3719e40a\"), \"first_name\" : \"kaushik\", \"last_name\" : \"makwana\", \"email\" : \"kdmakwana\" }",
    "code": "{ \"_id\" : ObjectId(\"56a356863aa433ae37dc2cee\"), \"browser\" : \"Chrome\", \"version\" : 47}\n\n\ndb.collection('profiles')\n  .update({ \n    '_id' : obj(\"56a356863aa433ae37dc2cee\") }, \n    {\"first_name\" : first_name, \"last_name\" : last_name, \"email\" : email}, \n    function (err, result) {\n      console.log(result);\n  });\n\n\n{ \"_id\" : ObjectId(\"56a356c9a08487ed3719e40a\"), \"first_name\" : \"kaushik\", \"last_name\" : \"makwana\", \"email\" : \"kdmakwana\" }\n\n\nupdate\n\n# Solution Code:\n&gt; db.foo.find()\n&gt; db.foo.insert({\"test\":\"a\"})\n&gt; db.foo.find()\n{ \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"test\" : \"a\" }\n&gt; item = db.foo.findOne()\n{ \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"test\" : \"a\" }\n&gt; db.foo.update({\"_id\" :ObjectId(\"4e93037bbf6f1dd3a0a9541a\") },{$set : {\"new_field\":1}})\n&gt; db.foo.find()\n{ \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"new_field\" : 1, \"test\" : \"a\" }\n",
    "resolution": "Same as the updating existing collection field, $set will add a new fields if the specified field does not exist. > db.foo.find() > db.foo.insert({\"test\":\"a\"}) > db.foo.find() { \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"test\" : \"a\" } > item = db.foo.findOne() { \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"test\" : \"a\" } > db.foo.update({\"_id\" :ObjectId(\"4e93037bbf6f1dd3a0a9541a\") },{$set : {\"new_field\":1}}) > db.foo.find() { \"_id\" : ObjectId(\"4e93037bbf6f1dd3a0a9541a\"), \"new_field\" : 1, \"test\" : \"a\" }",
    "severity": "medium",
    "tags": [
      "javascript",
      "node.js",
      "mongodb"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "34962638",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 4646,
      "stackoverflow_creation_date": "2016-01-23T11:03:32.177Z"
    },
    "idempotency_key": "stackoverflow-34962638",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Copy SVG image stored as XML string to Windows clipboard as image/svg+xml MIME type",
    "body": "I have an SVG image stored as a .net XML string. If I write that string to a file, I can load it into SVG editors without any trouble, so I know its contents are good. But what I want to do is place it in the Windows clipboard as the image/svg+xml MIME type. I've tried the following: string svg = GetSvg(); byte[] bytes = Encoding.UTF8.GetBytes(svg); Clipboard.SetData(\"image/svg+xml\", svg); // idea 1 Clipboard.SetData(\"image/svg+xml\", bytes); // idea 2 Based on my clipboard viewer tool, both techniques produce (almost) the same result--The XML text is there as expected under image/svg+xml, but it is prefixed with 43 bytes that are definitely not present in svg or bytes: These bytes differ slightly depending on whether I write the text as a string or a byte array, so I suspect they are some sort of description of the data format. However, no SVG editor I have will accept the result for pasting. Is there more I need to do?",
    "code": "string svg = GetSvg();\nbyte[] bytes = Encoding.UTF8.GetBytes(svg);\n\nClipboard.SetData(\"image/svg+xml\", svg); // idea 1\nClipboard.SetData(\"image/svg+xml\", bytes); // idea 2\n\n\nstring\n\nimage/svg+xml\n\nsvg\n\nbytes\n\n# Solution Code:\nstring svg = GetSvg();\nbyte[] bytes = Encoding.UTF8.GetBytes(svg);\nMemorySteam stream = new MemoryStream(bytes);\nClipboard.SetData(\"image/svg+xml\", stream);\n\n\nClipboard\n\nDataObject.SetData()\n\nMemoryStream",
    "resolution": "Those extra bytes looked an awful lot like a serialization header, so I hunted around and eventually found this note in the MSDN documentation for the Clipboard class (bolding mine): An object must be serializable for it to be put on the Clipboard. If you pass a non-serializable object to a Clipboard method, the method will fail without throwing an exception. See System.Runtime.Serialization for more information on serialization. If your target application requires a very specific data format, the headers added to the data in the serialization process may prevent the application from recognizing your data. To preserve your data format, add your data as a Byte array to a MemoryStream and pass the MemoryStream to the SetData method. That suggested an obvious course of action: string svg = GetSvg(); byte[] bytes = Encoding.UTF8.GetBytes(svg); MemorySteam stream = new MemoryStream(bytes); Clipboard.SetData(\"image/svg+xml\", stream); That worked! Further, I can confirm that DataObject.SetData() will also accept a MemoryStream in case you are looking to push the image to the clipboard in both svg and bitmap form at the same time.",
    "severity": "medium",
    "tags": [
      "c#",
      "windows",
      "svg",
      "clipboard"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "35045500",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2151,
      "stackoverflow_creation_date": "2016-01-27T18:42:55.670Z"
    },
    "idempotency_key": "stackoverflow-35045500",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "GoogleService failed to initialize, status: 10, Missing an expected resource: In Android",
    "body": "Signed APK is getting below Error GoogleService failed to initialize, status: 10, Missing an expected resource: 'R.string.google_app_id' for initializing Google services. Possible causes are missing google-services.json or com.google.gms.google-services gradle plugin. when I run the same code with Dubug.APK it's working fine. below is build.gradle file dependencies { compile fileTree(dir: 'libs', include: ['*.jar']) compile 'com.android.support:appcompat-v7:23.0.1' compile 'com.android.support:design:23.0.1' compile 'com.android.support:cardview-v7:23.0.1' compile 'com.android.support:recyclerview-v7:23.0.1' compile 'com.google.android.gms:play-services-location:8.4.0' compile 'com.google.android.gms:play-services-gcm:8.4.0' compile 'com.google.android.gms:play-services-maps:8.4.0' compile 'com.google.android.gms:play-services-analytics:8.4.0' }}apply plugin: 'com.google.gms.google-services''",
    "code": "dependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\ncompile 'com.android.support:appcompat-v7:23.0.1'\ncompile 'com.android.support:design:23.0.1'\ncompile 'com.android.support:cardview-v7:23.0.1'\ncompile 'com.android.support:recyclerview-v7:23.0.1'\ncompile 'com.google.android.gms:play-services-location:8.4.0'\ncompile 'com.google.android.gms:play-services-gcm:8.4.0'\ncompile 'com.google.android.gms:play-services-maps:8.4.0'\ncompile 'com.google.android.gms:play-services-analytics:8.4.0' }}apply plugin: 'com.google.gms.google-services''\n\n\n# Solution Code:\n1) in android studio double tap the shift button and search for terminal \n2) $ mv path-to-download/google-services.json app/ for Ubuntu/MAC OS \n3) For google-service.json use generate file button from this link \n",
    "resolution": "You have miss to add google-service.json file. As I know you have created your app on google Developer from there you need to download the google-service.json file and put it into your app folder Step for putting google-service.json to app folder: 1) in android studio double tap the shift button and search for terminal 2) $ mv path-to-download/google-services.json app/ for Ubuntu/MAC OS 3) For google-service.json use generate file button from this link https://developers.google.com/identity/sign-in/android/start-integrating for more detail please refer below link GoogleService failed to initialize",
    "severity": "high",
    "tags": [
      "android"
    ],
    "metadata": {
      "stackoverflow_question_id": "35081705",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 13968,
      "stackoverflow_creation_date": "2016-01-29T10:04:42.010Z"
    },
    "idempotency_key": "stackoverflow-35081705",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Retrieving a parameter in an object within an ArrayList in C#?",
    "body": "using UnityEngine; using System.Collections; public class People{ public string name; public int type; } public class Game{ public ArrayList people; public void start(){ People p = new People(); p.name = \"Vitor\"; p.type = 1; people = new ArrayList (); people.add(p); Debug.Log(p[0].name); } } Returned error: Type 'object' does not contain a definition for 'name' and no extension method 'name' of type 'object' could be found (are you missing a using directive or an assembly reference?)",
    "code": "using UnityEngine;\nusing System.Collections;\n\npublic class People{\n\n    public string name;\n    public int type;\n\n}\n\npublic class Game{\n    public ArrayList people;\n\n    public void start(){\n        People p = new People();\n        p.name = \"Vitor\";\n        p.type = 1;\n\n        people = new ArrayList ();\n        people.add(p);\n\n        Debug.Log(p[0].name);\n    }\n}\n\n\n# Solution Code:\nDebug.Log(((People)people[0]).name);\n\n\nArrayList",
    "resolution": "The ArrayList is comprised of objects, so you need to cast it: Debug.Log(((People)people[0]).name);",
    "severity": "low",
    "tags": [
      "c#"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "35107435",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 96,
      "stackoverflow_creation_date": "2016-01-30T21:37:44.113Z"
    },
    "idempotency_key": "stackoverflow-35107435",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "laravel 5.1 localization not working",
    "body": "I have some issue with the localization in laravel 5.1 I have inserted the various langs files in the main lang folder. There, i have \"en\" folder and \"ru\" folder etc.. ex: home.php: return [ 'something' => 'something testing', ]; In the route i have this GET: get('/gui/{lang}/{id}/{ver}/',['as' => 'gui', 'uses' => 'GuiController@home']); but the langs didn't change. if i change the route URL the text stays always in the \"en\" default lang. some example: http://domain.com/gui/en/1/home http://domain.com/gui/ru/1/home",
    "code": "return [\n 'something' =&gt; 'something testing',\n]; \n\n\nget('/gui/{lang}/{id}/{ver}/',['as' =&gt; 'gui', 'uses' =&gt; 'GuiController@home']);\n\n\n# Solution Code:\npublic function home($lang, $id, $ver){\n    App::setLocale($lang)\n    echo trans('home.something');\n}\n\n\nGuiController@home",
    "resolution": "I advise you to read the docs, because it seems to me you haven't done that. On your GuiController@home you have to set your locale, public function home($lang, $id, $ver){ App::setLocale($lang) echo trans('home.something'); }",
    "severity": "low",
    "tags": [
      "php",
      "laravel",
      "laravel-5",
      "laravel-5.1"
    ],
    "metadata": {
      "language": "php",
      "framework": "laravel",
      "stackoverflow_question_id": "35156575",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 676,
      "stackoverflow_creation_date": "2016-02-02T14:48:55.917Z"
    },
    "idempotency_key": "stackoverflow-35156575",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to provide custom name to column in pivoting",
    "body": "I have a table like this: id unit 1 mm 2 cm 3 kg When I perform pivot operation on this, I am getting result as follows: 1 2 3 mm cm kg Is it possible to get custom column names here, something like this: d1 d2 d3 mm cm kg I am using Pivot for this as: IF OBJECT_ID('tempdb..#t') IS NOT NULL DROP TABLE #t GO CREATE table #t (id varchar(max),unit varchar(max)) insert into #t (id,unit)values (1,'kg'), (2,'cm'), (3,'mm'), (4,'m') DECLARE @statement NVARCHAR(max) ,@columns NVARCHAR(max) SELECT @columns = ISNULL(@columns + ',', '') + N'[' + cast(tbl.id as varchar(max)) + ']' FROM ( SELECT DISTINCT id FROM #t ) AS tbl SELECT @statement = 'select * INTO ##temp from ( SELECT id,[unit] FROM #t ) as s PIVOT (max(unit) FOR id in(' + @columns + ')) as pvt ' EXEC sp_executesql @statement = @statement SELECT * FROM ##temp DROP TABLE #t DROP TABLE ##temp Is it possible? Thanks",
    "code": "id  unit\n1   mm  \n2   cm \n3   kg\n\n\n1  2  3\nmm cm kg\n\n\nd1  d2  d3\nmm  cm  kg\n\n\nIF OBJECT_ID('tempdb..#t') IS NOT NULL \nDROP TABLE #t\nGO\n\nCREATE  table #t \n(id varchar(max),unit varchar(max))\ninsert into #t (id,unit)values \n(1,'kg'),\n(2,'cm'),\n(3,'mm'),\n(4,'m')\n\nDECLARE @statement NVARCHAR(max)\n   ,@columns NVARCHAR(max)\n\nSELECT @columns = ISNULL(@columns + ',', '') + N'[' + cast(tbl.id as varchar(max)) + ']'\n   FROM (\n   SELECT DISTINCT id\n   FROM #t\n   ) AS tbl\n\n   SELECT @statement =  'select * \n                  INTO ##temp \n                  from (\n                    SELECT id,[unit]\n                    FROM #t\n                    ) as s \nPIVOT\n(max(unit) FOR id in(' + @columns + ')) as pvt\n'\n\n\nEXEC sp_executesql @statement = @statement\n\n\n\n\nSELECT * FROM ##temp\nDROP TABLE #t\nDROP TABLE ##temp\n\n\n# Solution Code:\nIF OBJECT_ID('tempdb..#t') IS NOT NULL\n    DROP TABLE #t\nGO\n\nCREATE TABLE #t (\n    id VARCHAR(10),\n    unit VARCHAR(100)\n)\nINSERT INTO #t (id, unit)\nVALUES\n    ('1', 'kg'),\n    ('2', 'cm'),\n    ('3', 'mm'),\n    ('4', 'mm')\n\nDECLARE @SQL NVARCHAR(MAX), @columns NVARCHAR(MAX)\n\nSELECT @columns = STUFF((\n    SELECT ',[D' + id + ']'\n    FROM #t\n    FOR XML PATH('')), 1, 1, '')\n\nSELECT @SQL =  '\n    SELECT * \n    FROM (\n        SELECT [unit], col = N''D'' + id\n        FROM #t\n    ) s \n    PIVOT (MAX(unit) FOR col IN (' + @columns + ')) p'\n\nEXEC sys.sp_executesql @SQL\n",
    "resolution": "IF OBJECT_ID('tempdb..#t') IS NOT NULL DROP TABLE #t GO CREATE TABLE #t ( id VARCHAR(10), unit VARCHAR(100) ) INSERT INTO #t (id, unit) VALUES ('1', 'kg'), ('2', 'cm'), ('3', 'mm'), ('4', 'mm') DECLARE @SQL NVARCHAR(MAX), @columns NVARCHAR(MAX) SELECT @columns = STUFF(( SELECT ',[D' + id + ']' FROM #t FOR XML PATH('')), 1, 1, '') SELECT @SQL = ' SELECT * FROM ( SELECT [unit], col = N''D'' + id FROM #t ) s PIVOT (MAX(unit) FOR col IN (' + @columns + ')) p' EXEC sys.sp_executesql @SQL",
    "severity": "low",
    "tags": [
      "sql",
      "sql-server",
      "sql-server-2008",
      "t-sql",
      "pivot"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "35173481",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 91,
      "stackoverflow_creation_date": "2016-02-03T09:47:22.707Z"
    },
    "idempotency_key": "stackoverflow-35173481",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "setting headers and sending data with $http POST to pocket api returns CORS",
    "body": "Unable to send a http post request to pocket api for obtaining the request token. I've got the consumer key already. The problem appears to be in setting the headers and sending the data in the request. The request when viewed in the browser displays none of the headers and the data. Configuring Request var req = { method:'POST', url:'https://getpocket.com/v3/oauth/request', headers: { 'Content-Type': \"application/x-www-form-urlencoded; charset=UTF8\", 'X-Accept':'application/x-www-form-urlencoded' }, transformRequest: function(obj) { var str = []; for(var p in obj) str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p])); return str.join(\"&\"); }, data: pocket_data }; $http(req).then(function(result){console.log(result); },function(error){ console.log(error); }); Request from the browser. I don't get why the request method is OPTIONS instead of POST. Request URL:https://getpocket.com/v3/oauth/request Request Method:OPTIONS Status Code:400 Bad Request Remote Address:52.0.87.91:443 Response headers and Request headers sent. I don't get why the content-type is text/html when i've set it to application/x-www-form-urlencoded . **Response Headers** view source Cache-Control:private Connection:keep-alive Content-Length:15 Content-Type:text/html; charset=UTF-8 Date:Thu, 04 Feb 2016 07:22:35 GMT Expires:Thu, 19 Nov 1981 08:52:00 GMT P3P:policyref=\"/w3c/p3p.xml\", CP=\"ALL CURa ADMa DEVa OUR IND UNI COM NAV INT STA PRE\" Pragma:no-cache Server:Apache Set-Cookie:PHPSESSID=ogqn0s0gmjpo24j6oo6rlj6vm6; path=/ Status:400 Bad Request X-Error:Missing consumer key. X-Error-Code:138 X-Source:Pocket **Request Headers** Accept:*/* Accept-Encoding:gzip, deflate, sdch Accept-Language:en-US,en;q=0.8 Access-Control-Request-Headers:accept, content-type, x-accept Access-Control-Request-Method:POST Cache-Control:no-cache Connection:keep-alive Host:getpocket.com Origin:http://localhost:9000 Pragma:no-cache Referer:http://localhost:9000/create I've even tried setting content-type to 'application/json' , didn't work. The api documentation for pocket.",
    "code": "var req = {\n        method:'POST',\n        url:'https://getpocket.com/v3/oauth/request',\n        headers: { 'Content-Type': \"application/x-www-form-urlencoded; charset=UTF8\",\n                    'X-Accept':'application/x-www-form-urlencoded'\n         },\n         transformRequest: function(obj) {\n            var str = [];\n            for(var p in obj)\n            str.push(encodeURIComponent(p) + \"=\" + encodeURIComponent(obj[p]));\n            return str.join(\"&amp;\");\n        },\n        data: pocket_data\n    };\n\n    $http(req).then(function(result){console.log(result); \n    },function(error){\n        console.log(error);\n    });\n\n\nRequest URL:https://getpocket.com/v3/oauth/request\nRequest Method:OPTIONS\nStatus Code:400 Bad Request\nRemote Address:52.0.87.91:443\n\n\n **Response Headers**\nview source\nCache-Control:private\nConnection:keep-alive\nContent-Length:15\nContent-Type:text/html; charset=UTF-8\nDate:Thu, 04 Feb 2016 07:22:35 GMT\nExpires:Thu, 19 Nov 1981 08:52:00 GMT\nP3P:policyref=\"/w3c/p3p.xml\", CP=\"ALL CURa ADMa DEVa OUR IND UNI COM NAV INT STA PRE\"\nPragma:no-cache\nServer:Apache\nSet-Cookie:PHPSESSID=ogqn0s0gmjpo24j6oo6rlj6vm6; path=/\nStatus:400 Bad Request\nX-Error:Missing consumer key.\nX-Error-Code:138\nX-Source:Pocket\n**Request Headers**\nAccept:*/*\nAccept-Encoding:gzip, deflate, sdch\nAccept-Language:en-US,en;q=0.8\nAccess-Control-Request-Headers:accept, content-type, x-accept\nAccess-Control-Request-Method:POST\nCache-Control:no-cache\nConnection:keep-alive\nHost:getpocket.com\nOrigin:http://localhost:9000\nPragma:no-cache\nReferer:http://localhost:9000/create\n",
    "severity": "low",
    "tags": [
      "http",
      "http-headers",
      "pocket"
    ],
    "metadata": {
      "stackoverflow_question_id": "35194986",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 971,
      "stackoverflow_creation_date": "2016-02-04T07:29:18.257Z"
    },
    "idempotency_key": "stackoverflow-35194986",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Getting handles data with MiniDump (DbgHelp.h)",
    "body": "I am struggling with getting handles information via Minidump (DbgHelp.h). I am getting a list of MINIDUMP_HANDLE_DESCRIPTOR_2 from mapped file stream.. Then I am getting for each descriptor a MINIDUMP_HANDLE_OBJECT_INFORMATION by using the ObjectInfoRva field. However I cannot understand what information this MINIDUMP_HANDLE_OBJECT_INFORMATION structure gives me, I couldn't find any examples on the web for extracting a meaningful information from the MINIDUMP_HANDLE_OBJECT_INFORMATION, and the documentation is not very helpful. How can I use MINIDUMP_HANDLE_OBJECT_INFORMATION structure data to get a a human readable data? I mean what do I need to do with it? I always get 0 at InfoType filed which means - MiniHandleObjectInformationNone. MINIDUMP_HANDLE_OBJECT_INFORMATION struct: public struct MINIDUMP_HANDLE_OBJECT_INFORMATION { public uint NextInfoRva; public MINIDUMP_HANDLE_OBJECT_INFORMATION_TYPE InfoType; public UInt32 SizeOfInfo; } I've done some experiment with MINIDUMP_HANDLE_OBJECT_INFORMATION struct When I am getting the struct, I am capable of reading a string from the RVA address with SizeOfInfo size. Here I am allays getting 'Directory' as a string on all the handles descriptors that I got... link to doc: https://msdn.microsoft.com/en-us/library/windows/desktop/ms680375(v=vs.85).aspx Any help will be appreciated :) My process, on which I am trying to apply it, uses WaitForMultipleObjects and WaitForSingleObject Kernel32 calls. Link to my implementation: https://github.com/Pavel-Durov/Multithreading-Debugging-Asignments/blob/master/Assignments/Assignments.Core/Handlers/MiniDumpHandler.cs Link to WinDbg !handle command output which I execute on the same dump file: https://docs.google.com/document/d/1Hjid-2dcM0aZrg5A1p5VrCBSysU_VQhynXdBAvXV29Q/edit?usp=sharing Maybe the issue is that I don't set a valid values for my MINIDUMP_HANDLE_OBJECT_INFORMATION_TYPE enumeration, does anyone familiar with a reliable source with this enum values declaration? I didn't found anything official. Just to make it clear. In WinDbj, I get the same information as I get from the MINIDUMP_HANDLE_DESCRIPTOR_2, For instance if WinDbg !handle command has this output: Handle 00000004 Type Directory Handle 00000008 Type Directory Handle 0000000c Type Event Handle 00000010 Type Event Handle 00000014 Type File … I can getthe same data from the MINIDUMP_HANDLE_DESCRIPTOR_2 ObjectName and TypeName which are of MINIDUMP_STRING type. The information that I cannot get is the one located in the MINIDUMP_HANDLE_OBJECT_INFORMATION struct. Which is not visible on the !hanlde command output. What kind of information suppose to be located in MINIDUMP_HANDLE_OBJECT_INFORMATION ?",
    "code": "public struct MINIDUMP_HANDLE_OBJECT_INFORMATION\n{\n    public uint NextInfoRva;\n    public MINIDUMP_HANDLE_OBJECT_INFORMATION_TYPE InfoType;\n    public UInt32 SizeOfInfo;\n}\n\n\nHandle 00000004\n  Type                   Directory\nHandle 00000008\n  Type                   Directory\nHandle 0000000c\n  Type                   Event\nHandle 00000010\n  Type                   Event\nHandle 00000014\n  Type                   File\n…\n\n\nMINIDUMP_HANDLE_DESCRIPTOR_2\n\nMINIDUMP_HANDLE_OBJECT_INFORMATION\n\nObjectInfoRva\n\nMINIDUMP_HANDLE_OBJECT_INFORMATION\n\nMINIDUMP_HANDLE_OBJECT_INFORMATION\n\nMINIDUMP_HANDLE_OBJECT_INFORMATION\n\nInfoType\n\nMiniHandleObjectInformationNone\n\nSizeOfInfo\n\nWaitForMultipleObjects\n\nWaitForSingleObject\n\nKernel32\n\n!handle\n\nMINIDUMP_HANDLE_DESCRIPTOR_2\n\nMINIDUMP_STRING\n\nMINIDUMP_HANDLE_OBJECT_INFORMATION\n\n!hanlde",
    "severity": "low",
    "tags": [
      "c#",
      "windows",
      "handle",
      "minidump",
      "dbghelp"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "35242105",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 585,
      "stackoverflow_creation_date": "2016-02-06T14:23:36.757Z"
    },
    "idempotency_key": "stackoverflow-35242105",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android - how to detect a touch on screen is a \"scroll\" touch?",
    "body": "I am creating an android app in Java in which I have a lot of <TextView> around the screen, all of them with onTouchListeners defined. They are wrapped in a <ScrollView> because they occupy more space than available in the screen. My problem is: when I scroll the app, up/down, by touching at the screen and moving my finger up/down, the scroll works as expected but the onTouchListener of the touched <TextView> is also fired (which is probably expected as well) - I don't want that to happen though. I want the onTouchListener to be ignored when I'm touching the screen to scroll it. How can I accomplish this? I don't want my function to run when the user is scrolling and \"accidentally\" fires the onTouchListener on a certain <TextView>.",
    "code": "&lt;TextView&gt;\n\n&lt;ScrollView&gt;\n\n&lt;TextView&gt;\n\n&lt;TextView&gt;\n\n# Solution Code:\nview.setOnTouchListener(new OnTouchListener() {\n\n    private long startClickTime;\n\n    @Override\n    public boolean onTouch(View view, MotionEvent event) {\n\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n\n            startClickTime = System.currentTimeMillis();\n\n        } else if (event.getAction() == MotionEvent.ACTION_UP) {\n\n            if (System.currentTimeMillis() - startClickTime &lt; ViewConfiguration.getTapTimeout()) {\n\n                // Touch was a simple tap. Do whatever.\n\n            } else {\n\n                // Touch was a not a simple tap.\n\n            }\n\n        }\n\n        return true;\n    }\n\n});\n\n\nACTION_DOWN\n\nACTION_UP\n\nViewConfiguration.getTapTimeout()",
    "resolution": "After searching more, I found this solution by Stimsoni. The idea is to check if the time between the ACTION_DOWN and ACTION_UP events is lower or higher than the value given by ViewConfiguration.getTapTimeout(). From the documentation: [Returns] the duration in milliseconds we will wait to see if a touch event is a tap or a scroll. If the user does not move within this interval, it is considered to be a tap. Code: view.setOnTouchListener(new OnTouchListener() { private long startClickTime; @Override public boolean onTouch(View view, MotionEvent event) { if (event.getAction() == MotionEvent.ACTION_DOWN) { startClickTime = System.currentTimeMillis(); } else if (event.getAction() == MotionEvent.ACTION_UP) { if (System.currentTimeMillis() - startClickTime < ViewConfiguration.getTapTimeout()) { // Touch was a simple tap. Do whatever. } else { // Touch was a not a simple tap. } } return true; } });",
    "severity": "high",
    "tags": [
      "java",
      "android",
      "android-scrollview",
      "android-touch-event"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "35293125",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 19170,
      "stackoverflow_creation_date": "2016-02-09T13:17:43.570Z"
    },
    "idempotency_key": "stackoverflow-35293125",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why does the Scala compiler differently treat these two code blocks?",
    "body": "This compiles. (Note that implicit val subscriptionReads composes emailIdReads and intervalReads declared outside the implicit, whereas subscriptionWrites is composed of Writes declared inside the implicit.) import play.api.libs.json.Reads._ import play.api.libs.json.Writes._ import play.api.libs.json._ import play.api.libs.functional.syntax._ case class Subscription(emailId: String, interval: String) object Subscription { val emailIdReads: Reads[String] = (JsPath \\ \"emailId\").read[String] val intervalReads: Reads[String] = (JsPath \\ \"interval\").read[String] implicit val subscriptionReads: Reads[Subscription] = ( emailIdReads and intervalReads )(Subscription.apply _) implicit val subscriptionWrites: Writes[Subscription] = ( (JsPath \\ \"emailId\").write[String] and (JsPath \\ \"interval\").write[String] )(unlift(Subscription.unapply)) } Yet the code below -- where the two Writes values are declared outside the implicit -- does not compile, yielding the error message: \"value and is not a member of play.api.libs.json.Writes[String].\" import play.api.libs.json.Reads._ import play.api.libs.json.Writes._ import play.api.libs.json._ import play.api.libs.functional.syntax._ case class Subscription(emailId: String, interval: String) object Subscription { val emailIdReads: Reads[String] = (JsPath \\ \"emailId\").read[String] val intervalReads: Reads[String] = (JsPath \\ \"interval\").read[String] implicit val subscriptionReads: Reads[Subscription] = ( emailIdReads and intervalReads )(Subscription.apply _) val emailIdWrites: Writes[String] = (JsPath \\ \"emailId\").write[String] val intervalWrites: Writes[String] = (JsPath \\ \"interval\").write[String] implicit val subscriptionWrites: Writes[Subscription] = ( emailIdWrites and intervalWrites )(unlift(Subscription.unapply)) } What am I missing? Why can't I substitute equals-for-equals? Moreover, why can I do it with Reads but not Writes. I'd like to understand why this doesn't work. The relevant definition of and is set out in play.api.libs.functional. package play.api.libs.functional import scala.language.higherKinds case class ~[A, B](_1: A, _2: B) trait FunctionalCanBuild[M[_]] { def apply[A, B](ma: M[A], mb: M[B]): M[A ~ B] } class FunctionalBuilderOps[M[_], A](ma: M[A])(implicit fcb: FunctionalCanBuild[M]) { def ~[B](mb: M[B]): FunctionalBuilder[M]#CanBuild2[A, B] = { val b = new FunctionalBuilder(fcb) new b.CanBuild2[A, B](ma, mb) } def and[B](mb: M[B]): FunctionalBuilder[M]#CanBuild2[A, B] = this.~(mb) } /* Additional arities elided */",
    "code": "import play.api.libs.json.Reads._\nimport play.api.libs.json.Writes._\nimport play.api.libs.json._\nimport play.api.libs.functional.syntax._\n\ncase class Subscription(emailId: String, interval: String)\n\nobject Subscription {\n\n  val emailIdReads: Reads[String]  = (JsPath \\ \"emailId\").read[String]\n\n  val intervalReads: Reads[String] = (JsPath \\ \"interval\").read[String]\n\n  implicit val subscriptionReads: Reads[Subscription] = (\n      emailIdReads and\n      intervalReads\n    )(Subscription.apply _)\n\n  implicit val subscriptionWrites: Writes[Subscription] = (\n    (JsPath \\ \"emailId\").write[String] and\n    (JsPath \\ \"interval\").write[String]\n    )(unlift(Subscription.unapply))\n}\n\n\nimport play.api.libs.json.Reads._\nimport play.api.libs.json.Writes._\nimport play.api.libs.json._\nimport play.api.libs.functional.syntax._\n\ncase class Subscription(emailId: String, interval: String)\n\nobject Subscription {\n\n  val emailIdReads: Reads[String]  = (JsPath \\ \"emailId\").read[String]\n\n  val intervalReads: Reads[String] = (JsPath \\ \"interval\").read[String]\n\n  implicit val subscriptionReads: Reads[Subscription] = (\n      emailIdReads and\n      intervalReads\n    )(Subscription.apply _)\n\n  val emailIdWrites: Writes[String]  = (JsPath \\ \"emailId\").write[String]\n\n  val intervalWrites: Writes[String] = (JsPath \\ \"interval\").write[String]\n\n  implicit val subscriptionWrites: Writes[Subscription] = (\n      emailIdWrites and\n      intervalWrites\n    )(unlift(Subscription.unapply))\n\n}\n\n\npackage play.api.libs.functional\n\nimport scala.language.higherKinds\n\ncase class ~[A, B](_1: A, _2: B)\n\ntrait FunctionalCanBuild[M[_]] {\n\n  def apply[A, B](ma: M[A], mb: M[B]): M[A ~ B]\n\n}\n\nclass FunctionalBuilderOps[M[_], A](ma: M[A])(implicit fcb: FunctionalCanBuild[M]) {\n\n  def ~[B](mb: M[B]): FunctionalBuilder[M]#CanBuild2[A, B] = {\n    val b = new FunctionalBuilder(fcb)\n    new b.CanBuild2[A, B](ma, mb)\n  }\n\n  def and[B](mb: M[B]): FunctionalBuilder[M]#CanBuild2[A, B] = this.~(mb)\n}\n\n/* Additional arities elided */\n\n\nimplicit val subscriptionReads\n\nemailIdReads\n\nintervalReads\n\nsubscriptionWrites\n\nWrites\n\nWrites\n\nand\n\nReads\n\nWrites\n\nand\n\nplay.api.libs.functional",
    "severity": "low",
    "tags": [
      "json",
      "scala",
      "playframework"
    ],
    "metadata": {
      "language": "scala",
      "stackoverflow_question_id": "35352966",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 88,
      "stackoverflow_creation_date": "2016-02-12T00:54:49.440Z"
    },
    "idempotency_key": "stackoverflow-35352966",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "DynamoDB consistent reads for Global Secondary Index",
    "body": "Why can't I get consistent reads for global-secondary-indexes? I have the following setup: The table: tblUsers (id as hash) Global Secondary Index: tblUsersEmailIndex (email as hash, id as attribute) Global Secondary Index: tblUsersUsernameIndex (username as hash, id as attribute) I query the indexes to check if a given email or username is present, so I don't create a duplicate user. Now, the problem is I can't do consistent reads for queries on the indexes. But why not? This is one of the few occasions I actually need up-to-date data. According to AWS documentation: Queries on global secondary indexes support eventual consistency only. Changes to the table data are propagated to the global secondary indexes within a fraction of a second, under normal conditions. However, in some unlikely failure scenarios, longer propagation delays might occur. Because of this, your applications need to anticipate and handle situations where a query on a global secondary index returns results that are not up-to-date. But how do i handle this situation? How can I make sure that a given email or username is not already present in the db?",
    "code": "tblUsers\n\ntblUsersEmailIndex\n\ntblUsersUsernameIndex\n\n# Solution Code:\nConditionExpression — (String)\nA condition that must be satisfied in order for a conditional PutItem operation to succeed.\n\nAn expression can contain any of the following:\n\nFunctions: attribute_exists | attribute_not_exists | attribute_type | contains | begins_with | size\nThese function names are case-sensitive.\n\nComparison operators: = | &lt;&gt; | &lt; | &gt; | &lt;= | &gt;= | BETWEEN | IN\nLogical operators: AND | OR | NOT\nFor more information on condition expressions, see Condition Expressions in the Amazon DynamoDB Developer Guide.\n\n\nputItem\n\nConditionExpression\n\nemail\n\nusername",
    "resolution": "When you try to use putItem, you have a ConditionExpression to use to check if the condition is satisfied to put the item, which means you can check if the email or username exists. ConditionExpression — (String) A condition that must be satisfied in order for a conditional PutItem operation to succeed. An expression can contain any of the following: Functions: attribute_exists | attribute_not_exists | attribute_type | contains | begins_with | size These function names are case-sensitive. Comparison operators: = | <> | < | > | <= | >= | BETWEEN | IN Logical operators: AND | OR | NOT For more information on condition expressions, see Condition Expressions in the Amazon DynamoDB Developer Guide. https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/DynamoDB.html#putItem-property",
    "severity": "high",
    "tags": [
      "asp.net",
      "amazon-web-services",
      "asp.net-mvc-5",
      "asp.net-identity",
      "amazon-dynamodb"
    ],
    "metadata": {
      "framework": "aspnet",
      "stackoverflow_question_id": "35414372",
      "stackoverflow_score": 26,
      "stackoverflow_view_count": 28881,
      "stackoverflow_creation_date": "2016-02-15T16:30:45.873Z"
    },
    "idempotency_key": "stackoverflow-35414372",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Can I create a reusable .xib file that I can actually view in the storyboard?",
    "body": "I've looked at all of the questions on StackOverflow that come up related to Swift and Xcode 7, but I can't seem to find a solution that allows me to do both. I've figured out the layoutSubviews allows me to lay out a view and will display it in the storyboard. I also know that prepareForInterfaceBuilder will let me load dummy data into the view specifically for Interface Builder. I've also figured out that I can link a class to the File's Owner of a custom .xib file and load it as follows within the class: required init?(coder: NSCoder) { super.init(coder: coder) contentView = NSBundle.mainBundle().loadNibNamed(\"MyNib\", owner: self, options: nil).first! as! UIView contentView.autoresizingMask = [.FlexibleHeight, .FlexibleWidth] contentView.frame = self.bounds self.addSubview(contentView) } My problem is that I can't seem to accomplish having both of these things work together. I've tried moving the .loadNibNamed method and everything into the layoutSubviews method, but then the rendering agents don't respond. Is it possible to achieve both of these means? I'd like to be able to edit the code, view it in the custom .xib, and see it everywhere in the storyboard that I've placed it.",
    "code": "required init?(coder: NSCoder)\n{\n    super.init(coder: coder)\n\n    contentView = NSBundle.mainBundle().loadNibNamed(\"MyNib\", owner: self, options: nil).first! as! UIView\n    contentView.autoresizingMask = [.FlexibleHeight, .FlexibleWidth]\n    contentView.frame = self.bounds\n\n    self.addSubview(contentView)\n}\n\n\nlayoutSubviews\n\nprepareForInterfaceBuilder\n\n.loadNibNamed\n\nlayoutSubviews",
    "severity": "low",
    "tags": [
      "ios",
      "xcode",
      "swift"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "35443976",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 76,
      "stackoverflow_creation_date": "2016-02-16T22:09:51.733Z"
    },
    "idempotency_key": "stackoverflow-35443976",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Realm Swift returning objects with all nil values",
    "body": "I am using ObjectMapper to parse JSON objects into Realm. My class Trip looks like this: class Trip: Object, Mappable { dynamic var Id : String? = nil dynamic var CreatedOn : String? = nil dynamic var LastModified : String? = nil required convenience init?(_ map: Map) { self.init() } func mapping(map: Map) { Id <- map[\"Id\"]; CreatedOn <- map[\"CreatedOn\"]; LastModified <- map[\"LastModified\"]; } } I am calling a web service request using Alamofire: Alamofire.request(.GET, path, headers: [\"Token\" : auth_token]).responseJSON { response in let dict : NSDictionary? = response.result.value as? NSDictionary let test = Mapper<Trip>().map(dict!) let realm = try! Realm() realm.beginWrite() realm.add(test!) try! realm.commitWrite() let alltrips : Results<Trip> = realm.objects(Trip) let firstTrip = alltrips.first } In the above code, when I print test, I get: (AwesomeApp.Trip?) test = 0x0000000154e8f0d0 { RealmSwift.Object = { Realm.RLMObjectBase = { ObjectiveC.NSObject = {} } } Id = \"47d86d34-b6f2-4a9f-9e31-30c81a915492\" CreatedOn = \"2016-01-20T23:39:41.995Z\" LastModified = \"2016-01-20T23:44:39.363Z\" } When I print, firstTrip, I get (AwesomeApp.Trip?) firstTrip = 0x0000000154f1f370 { RealmSwift.Object = { Realm.RLMObjectBase = { ObjectiveC.NSObject = {} } } Id = nil CreatedOn = nil LastModified = nil } I used the Realm Browser and it looks like the values have been written to the database correctly. However, reading the values returns a trip object with all nil values. Why is this ? EDIT: I printed allTrips using print (allTrips) and this printed out: Results<Trip> ( [0] Trip { Id = 47d86d34-b6f2-4a9f-9e31-30c81a915492; CreatedOn = 2016-01-20T23:39:41.995Z; LastModified = 2016-01-20T23:44:39.363Z; } )",
    "code": "class Trip: Object, Mappable {\n    dynamic var Id : String? = nil\n    dynamic var CreatedOn : String? = nil\n    dynamic var LastModified : String? = nil\n\n    required convenience init?(_ map: Map) {\n        self.init()\n    }\n\n    func mapping(map: Map) {\n        Id &lt;- map[\"Id\"];\n        CreatedOn &lt;- map[\"CreatedOn\"];\n        LastModified &lt;- map[\"LastModified\"];\n    }\n}\n\n\nAlamofire.request(.GET, path, headers: [\"Token\" : auth_token]).responseJSON { response in\n\n    let dict : NSDictionary? = response.result.value as? NSDictionary\n\n    let test = Mapper&lt;Trip&gt;().map(dict!)\n    let realm = try! Realm()\n    realm.beginWrite()\n    realm.add(test!)\n    try! realm.commitWrite()\n\n    let alltrips : Results&lt;Trip&gt; = realm.objects(Trip)\n    let firstTrip = alltrips.first\n}\n\n\n(AwesomeApp.Trip?) test = 0x0000000154e8f0d0 {\n  RealmSwift.Object = {\n    Realm.RLMObjectBase = {\n      ObjectiveC.NSObject = {}\n    }\n  }\n  Id = \"47d86d34-b6f2-4a9f-9e31-30c81a915492\"\n  CreatedOn = \"2016-01-20T23:39:41.995Z\"\n  LastModified = \"2016-01-20T23:44:39.363Z\"\n}\n\n\n(AwesomeApp.Trip?) firstTrip = 0x0000000154f1f370 {\n  RealmSwift.Object = {\n    Realm.RLMObjectBase = {\n      ObjectiveC.NSObject = {}\n    }\n  }\n  Id = nil\n  CreatedOn = nil\n  LastModified = nil\n}\n\n\nResults&lt;Trip&gt; (\n    [0] Trip {\n        Id = 47d86d34-b6f2-4a9f-9e31-30c81a915492;\n        CreatedOn = 2016-01-20T23:39:41.995Z;\n        LastModified = 2016-01-20T23:44:39.363Z;\n    }\n )\n\n\nprint (allTrips)\n\n# Solution Code:\nObject",
    "resolution": "The instance variables of a Realm Object subclass are only used for objects that have not yet been added to a Realm. After an object has been added to a Realm, or for an object that was retrieved from a Realm, the objects getters and setters access data directly from the Realm without the use of the instance variables. This is why the instance variables do not have the values you expect.",
    "severity": "medium",
    "tags": [
      "ios",
      "swift",
      "realm",
      "alamofire",
      "objectmapper"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "35451430",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 3298,
      "stackoverflow_creation_date": "2016-02-17T08:29:00.347Z"
    },
    "idempotency_key": "stackoverflow-35451430",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why is the expiration of the refresh token not returned?",
    "body": "When requesting access/refresh tokens the refresh token is sent, however the \"refresh_token_expires_in\" property is missing in the API response. I have no idea what the offical expiration timestamp is. Why is the documented property missing? I receive the same response body for both grant type \"authorization_code\" and \"refresh_token\" authorization requests. Below is an example of what I receive. { \"token_type\": \"Bearer\", \"expires_in\": \"3599\", \"scope\": \"Calendars.Read Calendars.ReadWrite Files.Read Files.ReadWrite User.Read User.Read.All\", \"expires_on\": \"1455797016\", \"not_before\": \"1455793116\", \"resource\": \"https://graph.microsoft.com/\", \"access_token\": \"eyJ0eXAiOiJKV1QiL...\", \"refresh_token\": \"AAABAAAAiL9Kn2Z27Uub...\" } As you can see only the access token expiration is included. A bonus question is what is this \"not_before\"? I cannot find reference to what this property means. http://graph.microsoft.io/en-us/docs/authorization/app_authorization Renew expiring access token using refresh token \"The new expiration times are the number of seconds, specified in the expires_in and refresh_token_expires_in values, respectively, from the time when the token-refreshing request was submitted successfully.\" The section, \"Acquire an access token\", even states: \"In any production code, your app needs to watch for the expiration of these tokens and renew the expiring access token before the refresh token expires.\" However, it does not seem to give this expiration that I should monitor. There seems to be an open issue for this on getHub https://github.com/OfficeDev/microsoft-graph-docs/issues/115",
    "code": "{  \n   \"token_type\": \"Bearer\",\n   \"expires_in\": \"3599\",\n   \"scope\": \"Calendars.Read Calendars.ReadWrite Files.Read Files.ReadWrite User.Read User.Read.All\",\n   \"expires_on\": \"1455797016\",\n   \"not_before\": \"1455793116\",\n   \"resource\": \"https://graph.microsoft.com/\",\n   \"access_token\": \"eyJ0eXAiOiJKV1QiL...\",\n   \"refresh_token\": \"AAABAAAAiL9Kn2Z27Uub...\"\n}\n",
    "severity": "medium",
    "tags": [
      "microsoft-graph-api"
    ],
    "metadata": {
      "stackoverflow_question_id": "35481252",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2923,
      "stackoverflow_creation_date": "2016-02-18T12:16:13.920Z"
    },
    "idempotency_key": "stackoverflow-35481252",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PostgresQL: Insert with key-value instead of two lists",
    "body": "PostgresQL allows you to INSERT with two lists, one of field names, the other of values. INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99); For long lists, it gets hard to figure out which list index you're on. Is there a way to insert by specifying the column name alongside the value, ie key-value pairs? Note: This is different than hstore. ie. INSERT INTO products (product_no => 1, name => 'Cheese', price => 9.99);",
    "code": "INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99);\n\n\nINSERT INTO products (product_no =&gt; 1, name =&gt; 'Cheese', price =&gt; 9.99);\n\n\nhstore\n\n# Solution Code:\nINSERT INTO products (product_no, name, price) VALUES\n  (1, 'Cheese', 9.99),\n  (2, 'Sausages', 9.99),\n  ...;\n\n\ncreate or replace function insert_product(\n  in product_no products.product_no%type, \n  in name products.name%type, \n  in price products.price%type) returns products.product_no%type as $$\n  insert into products(product_no, name, price) values (product_no, name, price) returning product_no;\n$$ language sql;\n\nselect insert_product(1, 'Mashrooms', 1.99); -- Parameters by order \nselect insert_product(product_no := 2, name := 'Cheese', price := 9.99); -- Parameters by name\nselect insert_product(product_no := 3, price := 19.99, name := 'Sosages'); -- Order does mot matter\n",
    "resolution": "It is impossible for regular DML. As an alternative: Use list of values to make DML shorter: INSERT INTO products (product_no, name, price) VALUES (1, 'Cheese', 9.99), (2, 'Sausages', 9.99), ...; Or create function that you can execute with parameter specifying: create or replace function insert_product( in product_no products.product_no%type, in name products.name%type, in price products.price%type) returns products.product_no%type as $$ insert into products(product_no, name, price) values (product_no, name, price) returning product_no; $$ language sql; select insert_product(1, 'Mashrooms', 1.99); -- Parameters by order select insert_product(product_no := 2, name := 'Cheese', price := 9.99); -- Parameters by name select insert_product(product_no := 3, price := 19.99, name := 'Sosages'); -- Order does mot matter",
    "severity": "medium",
    "tags": [
      "postgresql",
      "postgresql-9.2"
    ],
    "metadata": {
      "stackoverflow_question_id": "35495580",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2197,
      "stackoverflow_creation_date": "2016-02-19T01:12:47.547Z"
    },
    "idempotency_key": "stackoverflow-35495580",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to save and set headers on each request with Angular Interceptors",
    "body": "I'm trying to setup token auth but can't seem to figure out a good way to save the headers the server is sending me into a cookie. I then need to read that value out of the cookie and into the new request headers. I'm using Angular 1.5 Here's some simple code I've been trying to work with: os.config(['$httpProvider', function ($httpProvider) { return { 'request': function(config) { var access_token = $cookies.get('access-token'); var token_type = $cookies.get('token-type'); var client = $cookies.get('client'); var uid = $cookies.get('uid'); $httpProvider.defaults.headers.post['access-token'] = access_token; $httpProvider.defaults.headers.post['token-type'] = token_type; $httpProvider.defaults.headers.post['client'] = client; $httpProvider.defaults.headers.post['uid'] = uid; }, 'response': function(response) { $cookies.put('access-token', 'oatmeal'); $cookies.put('token-type', 'oatmeal'); $cookies.put('client', 'oatmeal'); $cookies.put('uid', 'oatmeal'); } }; }]); EDIT: People have been commenting trying to show me how to set headers. I can do that easily, as you can see in the example. What I need to do is save the response headers after I've made a request. These need to be saved into a cookie which is what my question pertains to. I'm interested in a method that doesn't require me to run some function in the .then part of every single API request I do, that's not DRY and seems like madness...",
    "code": "os.config(['$httpProvider', function ($httpProvider) {\n\n  return {\n   'request': function(config) {\n\n       var access_token = $cookies.get('access-token');\n       var token_type = $cookies.get('token-type');\n       var client = $cookies.get('client');\n       var uid = $cookies.get('uid');\n\n        $httpProvider.defaults.headers.post['access-token'] = access_token;\n        $httpProvider.defaults.headers.post['token-type'] = token_type;\n        $httpProvider.defaults.headers.post['client'] = client;\n        $httpProvider.defaults.headers.post['uid'] = uid;\n\n    },\n\n    'response': function(response) {\n\n       $cookies.put('access-token', 'oatmeal');\n       $cookies.put('token-type', 'oatmeal');\n       $cookies.put('client', 'oatmeal');\n       $cookies.put('uid', 'oatmeal');\n\n    }\n  };\n\n}]);\n",
    "severity": "medium",
    "tags": [
      "angularjs",
      "header",
      "session-cookies",
      "angular-http-interceptors"
    ],
    "metadata": {
      "stackoverflow_question_id": "35640860",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1906,
      "stackoverflow_creation_date": "2016-02-26T00:02:57.760Z"
    },
    "idempotency_key": "stackoverflow-35640860",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Not able to access tomcat application on Docker VM with host(windows) IP while using docker toolbox",
    "body": "I am running docker on my windows system using docker toolbox. I ran tomcat container using command docker run -it --rm -p 8888:8080 tomcat:8.0. As per documentation I should be able to access tomcat using http://localhost:8888, but this is not working. Rather, I can access the tomcat app using docker-machine ip which is http://192.168.99.100:8888. But this is not what I need. I need to access the tomcat container app from outside my system itself, through the network. So, how do I map tomcat application to my windows host system ? While googling around, I could see an option of port-forwarding for boot2docker vm. But, again I am not using boot2docker. I am using docker toolbox.",
    "code": "docker run -it --rm -p 8888:8080 tomcat:8.0\n\n# Solution Code:\nVBoxManage controlvm \"default\" natpf1 \"tcp-port8888,tcp,,8888,,8888\"\nVBoxManage controlvm \"default\" natpf1 \"udp-port8888,udp,,8888,,8888\"\n\n\nboot2docker.iso\n\ndefault\n\ndocker-machine ls",
    "resolution": "I could see an option of port-forwarding for boot2docker vm. But, again I am not using boot2docker. I am using docker toolbox. Yes, you are using boot2docker. Toolbox is just a bundle of boot2docker + docker-machine + kitematic. Open your VirtualBox, and you will see a VM which, in the storage settings, is based on boot2docker.iso. See do port-forward 8888 to your host: see \"Connect to a Service running inside a docker container from outside\" VBoxManage controlvm \"default\" natpf1 \"tcp-port8888,tcp,,8888,,8888\" VBoxManage controlvm \"default\" natpf1 \"udp-port8888,udp,,8888,,8888\" (Replace default with the name of your docker-machine: see docker-machine ls)",
    "severity": "medium",
    "tags": [
      "windows",
      "tomcat",
      "docker"
    ],
    "metadata": {
      "stackoverflow_question_id": "35642821",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 4499,
      "stackoverflow_creation_date": "2016-02-26T03:20:50.760Z"
    },
    "idempotency_key": "stackoverflow-35642821",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Customize x-axis ticks with scale_x_discrete and scale_x_continuous",
    "body": "I wanted to have my ticks on x-axis looking like this(but no dash needed) 3(12) - 5(20) - 7(28) - 9(36) - 11(44) - 13(52) The original graph is made with n.clusters mean.cluster mean.bucket variable value 1 3 21.64790 21.49858 sd.cluster 5.643380 2 5 21.63516 21.54975 sd.cluster 4.369756 3 7 21.55446 21.49889 sd.cluster 3.643280 4 9 21.59585 21.57022 sd.cluster 3.237870 5 11 21.63110 21.58452 sd.cluster 3.012060 6 13 21.55224 21.56104 sd.cluster 2.643777 7 3 21.64790 21.49858 sd.bucket 5.648886 8 5 21.63516 21.54975 sd.bucket 4.397690 9 7 21.55446 21.49889 sd.bucket 3.654752 10 9 21.59585 21.57022 sd.bucket 3.262954 11 11 21.63110 21.58452 sd.bucket 3.023834 12 13 21.55224 21.56104 sd.bucket 2.716441 ggplot(data, aes(n.clusters, value, shape=variable, group=variable)) + geom_line(size = 1) + geom_point(size = 3.5) + scale_x_continuous(breaks = seq(1, 13, 2)) + scale_shape_discrete(solid=F, name = \"Variable\", breaks = c(\"sd.cluster\", \"sd.bucket\"), labels = c(\"sd.cluster\", \"sd.bucket\")) + theme_bw() + theme(axis.text=element_text(size=16), axis.title=element_text(size=16,face=\"bold\")) + labs(x = \"Number of cluster\", y = \"Value\") As referred to these links, I made some changes in the code https://github.com/hadley/ggplot2/issues/501 Customizing x-axis of graph and got these at best but not resulted what I wanted. ggplot(data = mu.est.summary.long, aes(n.clusters, value, shape=variable, group=variable)) + geom_line(size = 1) + geom_point(size = 3.5) + scale_x_discrete(breaks = c(\"3\",\"5\",\"7\",\"9\",\"11\",\"13\"), labels = c(\"3(12)\", \"5(20)\", \"7(28)\", \"9(36)\", \"11(44)\", \"13(52)\") + scale_shape_discrete(solid=F, name = \"Variable\", breaks = c(\"sd.cluster\", \"sd.bucket\"), labels = c(\"sd.cluster\", \"sd.bucket\")) + theme_bw() + theme(axis.text=element_text(size=16), axis.title=element_text(size=16,face=\"bold\")) + labs(x = \"Number of cluster\", y = \"Value\") Within scale_x_discrete: Using neither limits=c(levels(n.clusters$data) nor breaks=c() nor breaks= seq() didn't work. R keeps saying that something is missing... What did I miss? Thanks for any help.",
    "code": "scale_x_discrete\n\nlimits=c(levels(n.clusters$data)\n\nbreaks=c()\n\nbreaks= seq()\n\n# Solution Code:\nscale_x_discrete\n\nas.factor(df$name)",
    "resolution": "When using scale_x_discrete, make sure the variable for the x axis is not continuous. If you are labeling the x-axis with numbers, R will read them in as continuous and you need to specify as.factor(df$name) to work with a discrete axis.",
    "severity": "high",
    "tags": [
      "r",
      "ggplot2"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "35905094",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 11694,
      "stackoverflow_creation_date": "2016-03-09T23:59:13.130Z"
    },
    "idempotency_key": "stackoverflow-35905094",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to use MongoDB with ColdFusion",
    "body": "I am using MongoDB 3.2.3 and the mongo-java-driver-3.2.2.jar library. I did the following in order to connect to the server and then to a specific database. I then create a collection named col1: <cfset Mongo = CreateObject(\"java\",\"com.mongodb.MongoClient\")> <cfset Mongo.init(\"192.168.0.30\")> <cfset db = Mongo.getDatabase('testaj')> <cfset db.createCollection(\"col1\") > I got the following code from the internet in order to insert a document into the collection: <cffunction name=\"m\" returntype=\"any\"> <cfargument name=\"value\" type=\"any\"> <cfif IsJSON(arguments.value)> <cfset local.retrun = CreateObject(\"java\",\"com.mongodb.util.JSON\").parse(arguments.value)> <cfelse> <cfset local.retrun = CreateObject(\"java\",\"com.mongodb.util.JSON\").parse( SerializeJSON(arguments.value) )> </cfif> <cfreturn local.retrun> </cffunction> <cfset doc = { \"Name\" = \"Marc\", \"Spouse\"= \"Heather\", \"Fruit\" = \"Mango\", \"Kids\" = [ {\"Name\"=\"Alexis\", \"Age\"=7, \"Hair\"=\"blonde\", \"Description\"=\"crazy\" }, {\"Name\"=\"Sidney\", \"Age\"=2, \"Hair\"=\"dirty blonde\", \"Description\"=\"ornery\" } ], \"Bike\" = \"Felt\", \"LoveSQL\" = true, \"TS\" = now(), \"Counter\" = 1 }> <cfset doc = SerializeJSON(doc)> <cfset doc = m(doc)> <cfset col1.save(doc)> Unfortunately the last line generates the following error: No matching Method/Function for com.mongodb.MongoCollectionImpl.save(com.mongodb.BasicDBObject) found It seems to be completely logical because when I output (via a cfdump) the content of the class com.mongodb.MongoCollectionImpl, I don't see the method save. Does anyone know how to insert a MongoDB document in ColdFusion using this Java driver? Should I import another library or class?",
    "code": "&lt;cfset Mongo  = CreateObject(\"java\",\"com.mongodb.MongoClient\")&gt;\n&lt;cfset Mongo.init(\"192.168.0.30\")&gt;\n&lt;cfset db = Mongo.getDatabase('testaj')&gt;\n&lt;cfset db.createCollection(\"col1\") &gt;\n\n\n&lt;cffunction name=\"m\" returntype=\"any\"&gt;\n    &lt;cfargument name=\"value\" type=\"any\"&gt;\n    &lt;cfif IsJSON(arguments.value)&gt;\n        &lt;cfset local.retrun = CreateObject(\"java\",\"com.mongodb.util.JSON\").parse(arguments.value)&gt;\n    &lt;cfelse&gt;\n        &lt;cfset local.retrun = CreateObject(\"java\",\"com.mongodb.util.JSON\").parse( SerializeJSON(arguments.value) )&gt;     \n    &lt;/cfif&gt;\n    &lt;cfreturn local.retrun&gt;\n&lt;/cffunction&gt;\n\n&lt;cfset doc = {\n    \"Name\"  = \"Marc\",\n    \"Spouse\"= \"Heather\",\n    \"Fruit\" = \"Mango\",\n    \"Kids\"  = [\n                {\"Name\"=\"Alexis\", \"Age\"=7, \"Hair\"=\"blonde\", \"Description\"=\"crazy\" },\n                {\"Name\"=\"Sidney\", \"Age\"=2, \"Hair\"=\"dirty blonde\", \"Description\"=\"ornery\" }\n            ],\n    \"Bike\" = \"Felt\",\n    \"LoveSQL\" = true,\n    \"TS\" = now(),\n    \"Counter\" = 1\n    }&gt;\n&lt;cfset doc = SerializeJSON(doc)&gt;\n&lt;cfset doc = m(doc)&gt;\n\n&lt;cfset col1.save(doc)&gt;\n\n\nNo matching Method/Function for com.mongodb.MongoCollectionImpl.save(com.mongodb.BasicDBObject) found\n\n\ncol1\n\ncfdump\n\ncom.mongodb.MongoCollectionImpl\n\nsave\n\n# Solution Code:\ncol1.insertOne(doc)\n\ncol1.insertMany(docs)\n\ncol1.updateOne(query, values)\n\ncol1.updatedMany(query, values)",
    "resolution": "Hopefully you have found the answer by now since this ticket is now 5 months old but just for reference: To insert a new document you should use col1.insertOne(doc) or col1.insertMany(docs) (if you have an array) To update a document you should use col1.updateOne(query, values) or col1.updatedMany(query, values) As mentioned by Leigh more information about this can be found at: http://mongodb.github.io/mongo-java-driver/3.2/driver/getting-started/quick-tour/#mongodb-driver-quick-tour",
    "severity": "medium",
    "tags": [
      "java",
      "mongodb",
      "coldfusion"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "36308764",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 2219,
      "stackoverflow_creation_date": "2016-03-30T12:22:49.763Z"
    },
    "idempotency_key": "stackoverflow-36308764",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to import a _global.scss file with Webpack only once, and not in every single .scss file?",
    "body": "Trying to find a way to import a _.global.scss file with my webpack build once, instead of importing it in each .scss file (I have a scss file for each component). The only possible solution I found so far, was to use a baggage-loader, but I couldn't make it work. The loaders in my webpack.config looks like this: loaders: [{ test: /\\.scss$/, loader: \"style-loader!raw-loader!sass-loader\" + \"!baggage?\"+ path.resolve(__dirname, \"./src/_config/_global.scss\") }] Thanks!",
    "code": "var path = require('path');\n\nmodule.exports = {\n  entry: './src/app.js',\n  output: {\n    filename: 'build/bundle.js'\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.scss$/,\n        exclude: /node_modules/,\n        loader: 'style!css!sass!' + path.resolve('loaders/inject-global-scss') \n      }\n    ]\n  }\n}\n\n\nmodule.exports = function(source) {\n  this.cacheable();\n  return `@import './src/_config/_global';\n    ${source}`;\n}\n",
    "resolution": "You can create a custom loader that will inject an @import statement in all of your scss files. Here's a webpack.config.js file for that: var path = require('path'); module.exports = { entry: './src/app.js', output: { filename: 'build/bundle.js' }, module: { loaders: [ { test: /\\.scss$/, exclude: /node_modules/, loader: 'style!css!sass!' + path.resolve('loaders/inject-global-scss') } ] } } This snippet assumes that you have a loaders folder and inside of it, a inject-global-scss.js file. Here's the contents of this file: module.exports = function(source) { this.cacheable(); return `@import './src/_config/_global'; ${source}`; } Now, I'm assuming you have a _global.scss file inside the src/_config folder. And that you're using node 5+ because of the string template syntax.",
    "severity": "medium",
    "tags": [
      "webpack",
      "sass-loader"
    ],
    "metadata": {
      "stackoverflow_question_id": "36339163",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3376,
      "stackoverflow_creation_date": "2016-03-31T16:43:11.497Z"
    },
    "idempotency_key": "stackoverflow-36339163",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to force binding re-evaluate or re-rendering in Aurelia",
    "body": "I am starting with a simple TODO app with Aurelia, RethinkDB & Socket.IO. I seem to have problem with re-rendering or re-evaluating an object that is changed through Socket.IO. So basically, everything works good on the first browser but doesn't get re-rendered in the second browser while displaying the object in the console does show differences in my object. The problem is only on updating an object, it works perfectly on creating/deleting object from the array of todo items. HTML <ul> <li repeat.for=\"item of items\"> <div show.bind=\"!item.isEditing\"> <input type=\"checkbox\" checked.two-way=\"item.completed\" click.delegate=\"toggleComplete(item)\" /> <label class=\"${item.completed ? 'done': ''} ${item.archived ? 'archived' : ''}\" click.delegate=\"$parent.editBegin(item)\"> ${item.title} </label> <a href=\"#\" click.delegate=\"$parent.deleteItem(item, $event)\"><i class=\"glyphicon glyphicon-trash\"></i></a> </div> <div show.bind=\"item.isEditing\"> <form submit.delegate=\"$parent.editEnd(item)\"> <input type=\"text\" value.bind=\"item.title\" blur.delegate=\"$parent.editEnd(item)\" /> </form> </div> </li> </ul> NodeJS with RethinkDB changefeeds // attach a RethinkDB changefeeds to watch any changes r.table(config.table) .changes() .run() .then(function(cursor) { //cursor.each(console.log); cursor.each(function(err, item) { if (!!item && !!item.new_val && item.old_val == null) { io.sockets.emit(\"todo_create\", item.new_val); }else if (!!item && !!item.new_val && !!item.old_val) { io.sockets.emit(\"todo_update\", item.new_val); }else if(!!item && item.new_val == null && !!item.old_val) { io.sockets.emit(\"todo_delete\", item.old_val); } }); }) .error(function(err){ console.log(\"Changefeeds Failure: \", err); }); Aurelia code watching Socket.on // update item socket.on(\"todo_update\", data => { let pos = arrayFindObjectIndex(this.items, 'id', data.id); if(pos >= 0) { console.log('before update'); console.log(this.items[pos]); this.items[pos] = data; this.items[pos].title = this.items[pos].title + ' [updated]'; console.log('after update'); console.log(this.items[pos]); } }); // create item, only add the item if we don't have it already in the items list to avoid dupes socket.on(\"todo_create\", data => { if (!_.some(this.items, function (p) { return p.id === data.id; })) { this.items.unshift(data); } }); // delete item, only delete item if found in items list socket.on(\"todo_delete\", data => { let pos = arrayFindObjectIndex(this.items, 'id', data.id); if(pos >= 0) { this.items.splice(pos, 1); } }); The socket.on(\"todo_update\", ...){} is not making the second browser re-render but showing the object in the console before/after update does show differences in the object itself. I even changed the todo title property and that too doesn't get re-rendered. How can I get Aurelia to re-render in my second browser with the new object properties? Don't be too hard on me, I'm learning Aurelia/RethinkDB/NodeJS/Socket.IO all the same time...",
    "code": "socket.on(\"todo_update\", ...){}\n\n# Solution Code:\nmyArray[6] = 'foo'",
    "resolution": "Aurelia observes changes to the contents of an array by overriding the array's mutator methods (push, pop, splice, shift, etc). This works well for most use-cases and performs really well (no dirty-checking, extremely lightweight in terms of memory and cpu). Unfortunately this leaves one way of mutating an array that aurelia can't \"see\": indexed assignment... eg myArray[6] = 'foo'. Since no array methods were called, the binding system doesn't know the array changed. In your case, try changing this: // update item socket.on(\"todo_update\", data => { let pos = arrayFindObjectIndex(this.items, 'id', data.id); if(pos >= 0) { console.log('before update'); console.log(this.items[pos]); this.items[pos] = data; // <-- change this to: this.items.splice(pos, 1, data); this.items[pos].title = this.items[pos].title + ' [updated]'; console.log('after update'); console.log(this.items[pos]); } });",
    "severity": "medium",
    "tags": [
      "javascript",
      "sockets",
      "rethinkdb",
      "aurelia"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "36394399",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 5984,
      "stackoverflow_creation_date": "2016-04-04T04:04:11.350Z"
    },
    "idempotency_key": "stackoverflow-36394399",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is an alternative for using com.nineoldandroids library",
    "body": "I want to replace the dependency of com.nineoldandroids library from my project and replace it with an android native library. I am trying to make a project based on this http://www.tutecentral.com/android-swipe-listview/ . However, I don't need to have support for android versions less than v11. Therefore there is no need to use this library. But I cannot find what to use in its place, while not making changes to the code itself. The project import the classes import com.nineoldandroids.animation.Animator; import com.nineoldandroids.animation.AnimatorListenerAdapter; import com.nineoldandroids.animation.ValueAnimator; import com.nineoldandroids.view.ViewHelper; import static com.nineoldandroids.view.ViewHelper.setAlpha; import static com.nineoldandroids.view.ViewHelper.setTranslationX; import static com.nineoldandroids.view.ViewPropertyAnimator.animate; Thank you.",
    "code": "import com.nineoldandroids.animation.Animator;\nimport com.nineoldandroids.animation.AnimatorListenerAdapter;\nimport com.nineoldandroids.animation.ValueAnimator;\nimport com.nineoldandroids.view.ViewHelper;\nimport static com.nineoldandroids.view.ViewHelper.setAlpha;\nimport static com.nineoldandroids.view.ViewHelper.setTranslationX;\nimport static com.nineoldandroids.view.ViewPropertyAnimator.animate;\n\n\n# Solution Code:\nViewHelper.setScaleX -&gt; view.setScaleX\nViewHelper.setY -&gt; view.setY\nViewHelper.setAlpha -&gt; view.setAlpha\n",
    "resolution": "I had the same issue, wanted to get rid of nineoldandroids library. As per @Selvin comment this is what you need to do: 1.) Remove all Imports 2.) Animation and ValueAnimator are available as part of the android.animation package 3.) ViewHelper doesn't really do anything that is not already available as part of each view's method. For example: ViewHelper.setScaleX -> view.setScaleX ViewHelper.setY -> view.setY ViewHelper.setAlpha -> view.setAlpha Hope it helps.",
    "severity": "medium",
    "tags": [
      "android",
      "animation",
      "nineoldandroids",
      "animator",
      "viewhelper"
    ],
    "metadata": {
      "stackoverflow_question_id": "36447778",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 2741,
      "stackoverflow_creation_date": "2016-04-06T10:01:30.277Z"
    },
    "idempotency_key": "stackoverflow-36447778",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "UITableView with variable cell height: Working in IB but not programmatically",
    "body": "TL;DR My programmatically created table view cells are not resizing according to the intrinsic content height of their custom views, even though I am using UITableViewAutomaticDimension and setting both the top and bottom constraints. The problem probably lies in my implementation of the UITableViewCell subclass. See the code below under Doesn't work programmatically > Code > MyCustomCell.swift. Goal I'm trying to make a suggestion bar for a custom Mongolian keyboard. Mongolian is written vertically. In Android it looks like this: Progress I've learned that I should use a UITableView with variable cell heights, which is available starting with iOS 8. This requires using auto layout and telling the table view to use automatic dimensions for the cell heights. Some things I've had to learn along the way are represented in my recent SO questions and answers: How to make a custom table view cell Getting variable height to work with in a table view with a standard UILabel Getting intrinsic content size to work for a custom view Using a programmatically created UITableViewCell Set constraints programmatically So I have come to the point where I have the vertical labels that support intrinsic content size. These labels go in my custom table view cells. And as described in the next section, they work when I do it in the storyboard, but not when I create everything programmatically. Works in IB In order to isolate the problem I created two basic projects: one for where I use the storyboard and one where I do everything programmatically. The storyboard project works. As can be seen in the following image, each table view cell resizes to match the height of custom vertical label. In IB I set constraints to pin the top and bottom as well as centering the label. Code ViewController.swift import UIKit class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource { let myStrings: [String] = [\"a\", \"bbbbbbb\", \"cccc\", \"dddddddddd\", \"ee\"] let cellReuseIdentifier = \"cell\" @IBOutlet var tableView: UITableView! override func viewDidLoad() { super.viewDidLoad() tableView.delegate = self tableView.dataSource = self tableView.estimatedRowHeight = 44.0 tableView.rowHeight = UITableViewAutomaticDimension } // number of rows in table view func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int { return self.myStrings.count } // create a cell for each table view row func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell { let cell:MyCustomCell = self.tableView.dequeueReusableCellWithIdentifier(cellReuseIdentifier) as! MyCustomCell cell.myCellLabel.text = self.myStrings[indexPath.row] return cell } // method to run when table view cell is tapped func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { print(\"You tapped cell number \\(indexPath.row).\") } } MyCustomCell.swift import UIKit class MyCustomCell: UITableViewCell { @IBOutlet weak var myCellLabel: UIMongolSingleLineLabel! } Doesn't work programmatically Since I want the suggestion bar to be a part of the final keyboard, I need to be able to create it programmatically. However, when I try to recreate the above example project programmatically, it isn't working. I get the following result. The cell heights are not resizing and the custom vertical labels are overlapping each other. I also get the following error: Warning once only: Detected a case where constraints ambiguously suggest a height of zero for a tableview cell's content view. We're considering the collapse unintentional and using standard height instead. This error has been brought up before multiple times on Stack Overflow: iOS8 - constraints ambiguously suggest a height of zero Detected a case where constraints ambiguously suggest a height of zero custom UITableviewcell height not set correctly ios 8 (UITableViewCell) : Constraints ambiguously suggest a height of zero for a tableview cell's content view However, the problem for most of those people is that they were not setting both a top and bottom pin constraint. I am, or at least I think I am, as is shown in my code below. Code ViewController.swift import UIKit class ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource { let myStrings: [String] = [\"a\", \"bbbbbbb\", \"cccc\", \"dddddddddd\", \"ee\"] let cellReuseIdentifier = \"cell\" var tableView = UITableView() override func viewDidLoad() { super.viewDidLoad() // Suggestion bar tableView.frame = CGRect(x: 0, y: 20, width: view.bounds.width, height: view.bounds.height) tableView.registerClass(MyCustomCell.self, forCellReuseIdentifier: cellReuseIdentifier) tableView.delegate = self tableView.dataSource = self tableView.estimatedRowHeight = 44.0 tableView.rowHeight = UITableViewAutomaticDimension view.addSubview(tableView) } // number of rows in table view func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -> Int { return self.myStrings.count } // create a cell for each table view row func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -> UITableViewCell { let cell:MyCustomCell = self.tableView.dequeueReusableCellWithIdentifier(cellReuseIdentifier) as! MyCustomCell cell.myCellLabel.text = self.myStrings[indexPath.row] return cell } // method to run when table view cell is tapped func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { print(\"You tapped cell number \\(indexPath.row).\") } } MyCustomCell.swift I think the problem is probably in here since this is the main difference from the IB project. import UIKit class MyCustomCell: UITableViewCell { var myCellLabel = UIMongolSingleLineLabel() override init(style: UITableViewCellStyle, reuseIdentifier: String?) { super.init(style: style, reuseIdentifier: reuseIdentifier) self.setup() } required init?(coder aDecoder: NSCoder) { fatalError(\"init(coder:) has not been implemented\") } func setup() { self.myCellLabel.translatesAutoresizingMaskIntoConstraints = false self.myCellLabel.centerText = false self.myCellLabel.backgroundColor = UIColor.yellowColor() self.addSubview(myCellLabel) // Constraints // pin top NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.Top, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.TopMargin, multiplier: 1.0, constant: 0).active = true // pin bottom NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.Bottom, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.BottomMargin, multiplier: 1.0, constant: 0).active = true // center horizontal NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.CenterX, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.CenterX, multiplier: 1, constant: 0).active = true } override internal class func requiresConstraintBasedLayout() -> Bool { return true } } Supplemental Code I'll also include the code for the custom vertical label that I used in both projects above, but since the IB project works, I don't think the main problem is here. import UIKit @IBDesignable class UIMongolSingleLineLabel: UIView { private let textLayer = LabelTextLayer() var useMirroredFont = false // MARK: Primary input value @IBInspectable var text: String = \"A\" { didSet { textLayer.displayString = text updateTextLayerFrame() } } @IBInspectable var fontSize: CGFloat = 17 { didSet { updateTextLayerFrame() } } @IBInspectable var centerText: Bool = true { didSet { updateTextLayerFrame() } } // MARK: - Initialization override init(frame: CGRect) { super.init(frame: frame) setup() } required init?(coder: NSCoder) { super.init(coder: coder) setup() } func setup() { // Text layer textLayer.backgroundColor = UIColor.yellowColor().CGColor textLayer.useMirroredFont = useMirroredFont textLayer.contentsScale = UIScreen.mainScreen().scale layer.addSublayer(textLayer) } override func intrinsicContentSize() -> CGSize { return textLayer.frame.size } func updateTextLayerFrame() { let myAttribute = [ NSFontAttributeName: UIFont.systemFontOfSize(fontSize) ] let attrString = NSMutableAttributedString(string: textLayer.displayString, attributes: myAttribute ) let size = dimensionsForAttributedString(attrString) // This is the frame for the soon-to-be rotated layer var x: CGFloat = 0 var y: CGFloat = 0 if layer.bounds.width > size.height { x = (layer.bounds.width - size.height) / 2 } if centerText { y = (layer.bounds.height - size.width) / 2 } textLayer.frame = CGRect(x: x, y: y, width: size.height, height: size.width) textLayer.string = attrString invalidateIntrinsicContentSize() } func dimensionsForAttributedString(attrString: NSAttributedString) -> CGSize { var ascent: CGFloat = 0 var descent: CGFloat = 0 var width: CGFloat = 0 let line: CTLineRef = CTLineCreateWithAttributedString(attrString) width = CGFloat(CTLineGetTypographicBounds(line, &ascent, &descent, nil)) // make width an even integer for better graphics rendering width = ceil(width) if Int(width)%2 == 1 { width += 1.0 } return CGSize(width: width, height: ceil(ascent+descent)) } } // MARK: - Key Text Layer Class class LabelTextLayer: CATextLayer { // set this to false if not using a mirrored font var useMirroredFont = true var displayString = \"\" override func drawInContext(ctx: CGContext) { // A frame is passed in, in which the frame size is already rotated at the center but the content is not. CGContextSaveGState(ctx) if useMirroredFont { CGContextRotateCTM(ctx, CGFloat(M_PI_2)) CGContextScaleCTM(ctx, 1.0, -1.0) } else { CGContextRotateCTM(ctx, CGFloat(M_PI_2)) CGContextTranslateCTM(ctx, 0, -self.bounds.width) } super.drawInContext(ctx) CGContextRestoreGState(ctx) } } Update The entire code for the project is all here, so if anyone is interested enough to try it out, just make a new project and cut and paste the code above into the following three files: ViewController.swift MyCustomCell.swift UIMongolSingleLineLabel.swift",
    "code": "import UIKit\nclass ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {\n\n    let myStrings: [String] = [\"a\", \"bbbbbbb\", \"cccc\", \"dddddddddd\", \"ee\"]\n    let cellReuseIdentifier = \"cell\"\n\n    @IBOutlet var tableView: UITableView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        tableView.delegate = self\n        tableView.dataSource = self\n\n        tableView.estimatedRowHeight = 44.0\n        tableView.rowHeight = UITableViewAutomaticDimension\n    }\n\n    // number of rows in table view\n    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {\n        return self.myStrings.count\n    }\n\n    // create a cell for each table view row\n    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {\n\n        let cell:MyCustomCell = self.tableView.dequeueReusableCellWithIdentifier(cellReuseIdentifier) as! MyCustomCell\n        cell.myCellLabel.text = self.myStrings[indexPath.row]\n        return cell\n    }\n\n    // method to run when table view cell is tapped\n    func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {\n        print(\"You tapped cell number \\(indexPath.row).\")\n    }\n}\n\n\nimport UIKit\nclass MyCustomCell: UITableViewCell {\n    @IBOutlet weak var myCellLabel: UIMongolSingleLineLabel!\n}\n\n\nimport UIKit\nclass ViewController: UIViewController, UITableViewDelegate, UITableViewDataSource {\n\n    let myStrings: [String] = [\"a\", \"bbbbbbb\", \"cccc\", \"dddddddddd\", \"ee\"]\n    let cellReuseIdentifier = \"cell\"\n    var tableView = UITableView()\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        // Suggestion bar\n        tableView.frame = CGRect(x: 0, y: 20, width: view.bounds.width, height: view.bounds.height)\n        tableView.registerClass(MyCustomCell.self, forCellReuseIdentifier: cellReuseIdentifier)\n        tableView.delegate = self\n        tableView.dataSource = self\n        tableView.estimatedRowHeight = 44.0\n        tableView.rowHeight = UITableViewAutomaticDimension\n        view.addSubview(tableView)\n    }\n\n    // number of rows in table view\n    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {\n        return self.myStrings.count\n    }\n\n    // create a cell for each table view row\n    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {\n\n        let cell:MyCustomCell = self.tableView.dequeueReusableCellWithIdentifier(cellReuseIdentifier) as! MyCustomCell\n        cell.myCellLabel.text = self.myStrings[indexPath.row]\n        return cell\n    }\n\n    // method to run when table view cell is tapped\n    func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {\n        print(\"You tapped cell number \\(indexPath.row).\")\n    }\n}\n\n\nimport UIKit\nclass MyCustomCell: UITableViewCell {\n\n    var myCellLabel = UIMongolSingleLineLabel()\n\n    override init(style: UITableViewCellStyle, reuseIdentifier: String?) {\n        super.init(style: style, reuseIdentifier: reuseIdentifier)\n        self.setup()\n    }\n\n    required init?(coder aDecoder: NSCoder) {\n        fatalError(\"init(coder:) has not been implemented\")\n    }\n\n    func setup() {\n        self.myCellLabel.translatesAutoresizingMaskIntoConstraints = false\n        self.myCellLabel.centerText = false\n        self.myCellLabel.backgroundColor = UIColor.yellowColor()\n        self.addSubview(myCellLabel)\n\n        // Constraints\n        // pin top\n        NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.Top, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.TopMargin, multiplier: 1.0, constant: 0).active = true\n        // pin bottom\n        NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.Bottom, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.BottomMargin, multiplier: 1.0, constant: 0).active = true\n        // center horizontal\n        NSLayoutConstraint(item: myCellLabel, attribute: NSLayoutAttribute.CenterX, relatedBy: NSLayoutRelation.Equal, toItem: self.contentView, attribute: NSLayoutAttribute.CenterX, multiplier: 1, constant: 0).active = true\n\n    }\n\n    override internal class func requiresConstraintBasedLayout() -&gt; Bool {\n        return true\n    }\n}\n\n\nimport UIKit\n@IBDesignable\nclass UIMongolSingleLineLabel: UIView {\n\n    private let textLayer = LabelTextLayer()\n    var useMirroredFont = false\n\n    // MARK: Primary input value\n\n    @IBInspectable var text: String = \"A\" {\n        didSet {\n            textLayer.displayString = text\n            updateTextLayerFrame()\n        }\n    }\n\n    @IBInspectable var fontSize: CGFloat = 17 {\n        didSet {\n            updateTextLayerFrame()\n        }\n    }\n\n    @IBInspectable var centerText: Bool = true {\n        didSet {\n            updateTextLayerFrame()\n        }\n    }\n\n    // MARK: - Initialization\n\n    override init(frame: CGRect) {\n        super.init(frame: frame)\n        setup()\n    }\n\n    required init?(coder: NSCoder) {\n        super.init(coder: coder)\n        setup()\n    }\n\n    func setup() {\n\n\n        // Text layer\n        textLayer.backgroundColor = UIColor.yellowColor().CGColor\n        textLayer.useMirroredFont = useMirroredFont\n        textLayer.contentsScale = UIScreen.mainScreen().scale\n        layer.addSublayer(textLayer)\n\n    }\n\n    override func intrinsicContentSize() -&gt; CGSize {\n        return textLayer.frame.size\n    }\n\n    func updateTextLayerFrame() {\n\n        let myAttribute = [ NSFontAttributeName: UIFont.systemFontOfSize(fontSize) ]\n        let attrString = NSMutableAttributedString(string: textLayer.displayString, attributes: myAttribute )\n        let size = dimensionsForAttributedString(attrString)\n\n        // This is the frame for the soon-to-be rotated layer\n        var x: CGFloat = 0\n        var y: CGFloat = 0\n        if layer.bounds.width &gt; size.height {\n            x = (layer.bounds.width - size.height) / 2\n        }\n        if centerText {\n            y = (layer.bounds.height - size.width) / 2\n        }\n        textLayer.frame = CGRect(x: x, y: y, width: size.height, height: size.width)\n        textLayer.string = attrString\n        invalidateIntrinsicContentSize()\n    }\n\n    func dimensionsForAttributedString(attrString: NSAttributedString) -&gt; CGSize {\n\n        var ascent: CGFloat = 0\n        var descent: CGFloat = 0\n        var width: CGFloat = 0\n        let line: CTLineRef = CTLineCreateWithAttributedString(attrString)\n        width = CGFloat(CTLineGetTypographicBounds(line, &amp;ascent, &amp;descent, nil))\n\n        // make width an even integer for better graphics rendering\n        width = ceil(width)\n        if Int(width)%2 == 1 {\n            width += 1.0\n        }\n\n        return CGSize(width: width, height: ceil(ascent+descent))\n    }\n}\n\n// MARK: - Key Text Layer Class\n\nclass LabelTextLayer: CATextLayer {\n\n    // set this to false if not using a mirrored font\n    var useMirroredFont = true\n    var displayString = \"\"\n\n    override func drawInContext(ctx: CGContext) {\n        // A frame is passed in, in which the frame size is already rotated at the center but the content is not.\n\n        CGContextSaveGState(ctx)\n\n        if useMirroredFont {\n            CGContextRotateCTM(ctx, CGFloat(M_PI_2))\n            CGContextScaleCTM(ctx, 1.0, -1.0)\n        } else {\n            CGContextRotateCTM(ctx, CGFloat(M_PI_2))\n            CGContextTranslateCTM(ctx, 0, -self.bounds.width)\n        }\n\n        super.drawInContext(ctx)\n        CGContextRestoreGState(ctx)\n    }\n}\n\n\nUITableViewAutomaticDimension\n\nUITableViewCell\n\nUITableView\n\nUILabel\n\nUITableViewCell\n\n# Solution Code:\nself.addSubview(myCellLabel)\n\n\nself.contentView.addSubview(myCellLabel)\n\n\n// pin top\nNSLayoutConstraint(...).active = true\n// pin bottom\nNSLayoutConstraint(...).active = true\n// center horizontal\nNSLayoutConstraint(...).active = true\n\n\nlet topConstraint = NSLayoutConstraint(...)\nlet bottomConstraint = NSLayoutConstraint(...)\nlet centerConstraint = NSLayoutConstraint(...)\n\nself.contentView.addConstraints([topConstraint, bottomConstraint, centerConstraint])\n\n\nactive = true\n\ncontentView\n\nmyCellLabel\n\nUITableViewCell\n\nUITableViewCell\n\ncontentView",
    "resolution": "The error is pretty trivial: Instead of self.addSubview(myCellLabel) use self.contentView.addSubview(myCellLabel) Also, I would replace // pin top NSLayoutConstraint(...).active = true // pin bottom NSLayoutConstraint(...).active = true // center horizontal NSLayoutConstraint(...).active = true with let topConstraint = NSLayoutConstraint(...) let bottomConstraint = NSLayoutConstraint(...) let centerConstraint = NSLayoutConstraint(...) self.contentView.addConstraints([topConstraint, bottomConstraint, centerConstraint]) which is more explicit (you have to specify the constraint owner) and thus safer. The problem is that when calling active = true on a constraint, the layout system has to decide to which view it should add the constraints. In your case, because the first common ancestor of contentView and myCellLabel is your UITableViewCell, they were added to your UITableViewCell, so they were not actually constraining the contentView (constraints were between siblings not between superview-subview). Your code actually triggered a console warning: Warning once only: Detected a case where constraints ambiguously suggest a height of zero for a tableview cell's content view. We're considering the collapse unintentional and using standard height instead. Which made me to look immediately at the way the constraints are created for your label.",
    "severity": "medium",
    "tags": [
      "ios",
      "swift",
      "uitableview",
      "mongolian-vertical-script"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "36546137",
      "stackoverflow_score": 25,
      "stackoverflow_view_count": 2170,
      "stackoverflow_creation_date": "2016-04-11T10:29:58.990Z"
    },
    "idempotency_key": "stackoverflow-36546137",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "how to get same value from different rows using php",
    "body": "I have a database and 1 table.table name is : cranetype they have 4 fields (cf_did,cf_firstname, cf_comment,cf_cranetype) . database values below. cf_did cf_firstname cf_comment cf_cranetype 1 Alexy tfhgfnjh 2,3 2 Thomas fdghfgh 11,6,3 3 Thomas cgjkjhl 5,6,11,3 4 Thomasxc cgjkjhl 1,6,9,4 5 Thomaseg fdghgh 11,12,3 6 Thomasm fsgdfgbd 11,6,3 7 Thomabs dgtrty 7,9,11 8 Rdgfghfdg bfdhh 1,3,4 9 Gngfdytyt eertret 1,6,3 10 Dvbgfj hfdhhyrtyr 6,3 11 Hnfhghyt bfgfdhg 11,6,3 12 Adgfdyh dfsdtrst 1 13 Rida gfhgfjgh 3,7,68 I have a select box, they have values (1,2,3,4,...). If I select value 1 from select box. I want to check database table(cranetype) field cf_cranetype. E.g : $sql= mysql_query(\"SELECT * FROM `cranetype` WHERE `cf_cranetype`='1'\"); while($row=mysql_fetch_array($sql)) { <?Php echo $row['cf_did'];?> } I want output like this: if cf_cranetype =1. 4,8,9,12. (these are cf_did) My code is: $cranetype = $_POST['cranetype']; $words = explode(',', $cranetype); if (strlen($cranetype) > 0) { $Where = ''; foreach ($words as $Item) { $Where = \"cf_cranetype LIKE '%$Item%' AND\"; } $Where = substr($Where, 0, -4); $list_ul = \"(SELECT * FROM cf_directory` WHERE $Where)\"; $query = mysql_query($list_ul) or die(mysql_error()); }",
    "code": "cf_did  cf_firstname cf_comment   cf_cranetype \n\n1       Alexy         tfhgfnjh       2,3    \n2       Thomas        fdghfgh       11,6,3  \n3       Thomas         cgjkjhl      5,6,11,3        \n4       Thomasxc       cgjkjhl      1,6,9,4         \n5       Thomaseg       fdghgh       11,12,3     \n6       Thomasm        fsgdfgbd     11,6,3  \n7       Thomabs        dgtrty       7,9,11  \n8       Rdgfghfdg      bfdhh        1,3,4   \n9       Gngfdytyt      eertret      1,6,3   \n10      Dvbgfj         hfdhhyrtyr   6,3     \n11      Hnfhghyt       bfgfdhg      11,6,3  \n12      Adgfdyh      dfsdtrst        1  \n13      Rida       gfhgfjgh         3,7,68  \n\n\n$sql= mysql_query(\"SELECT * FROM `cranetype` WHERE `cf_cranetype`='1'\");\nwhile($row=mysql_fetch_array($sql))\n{\n    &lt;?Php echo $row['cf_did'];?&gt;\n}\n\n\nif cf_cranetype =1.\n4,8,9,12. (these are cf_did)\n\n\n$cranetype = $_POST['cranetype'];\n$words = explode(',', $cranetype);\nif (strlen($cranetype) &gt; 0) {\n    $Where = '';\n    foreach ($words as $Item) {\n        $Where = \"cf_cranetype LIKE '%$Item%' AND\";\n    } \n    $Where = substr($Where, 0, -4);\n    $list_ul = \"(SELECT * FROM cf_directory` WHERE $Where)\";\n    $query = mysql_query($list_ul) or die(mysql_error());\n}\n\n\n(1,2,3,4,...)\n\ncf_cranetype\n\n# Solution Code:\nSELECT GROUP_CONCAT(cf_did) as cf_dids\nFROM `cranetype` \nWHERE FIND_IN_SET('1', `cf_cranetype`) &gt; 0;\n\n\ncreate table cranetype(cf_did int,  cf_firstname varchar(100), cf_comment varchar(100),  cf_cranetype varchar(50)); \ninsert into cranetype values\n(4,       'Thomasxc',       'cgjkjhl',      '1,6,9,4'),         \n(7,       'Thomabs',        'dgtrty',       '7,9,11'),  \n(8,       'Rdgfghfdg',      'bfdhh',        '1,3,4'),   \n(9,       'Gngfdytyt',      'eertret',      '1,6,3'),\n(12,      'Adgfdyh',      'dfsdtrst',        '1');\n\nSELECT GROUP_CONCAT(cf_did) as cf_dids\nFROM `cranetype` \nWHERE FIND_IN_SET('1', `cf_cranetype`) &gt; 0;\n\n\nmysql&gt; SELECT GROUP_CONCAT(cf_did) as cf_dids\n    -&gt; FROM `cranetype`\n    -&gt; WHERE FIND_IN_SET('1', `cf_cranetype`) &gt; 0;\n+----------+\n| cf_dids  |\n+----------+\n| 4,8,9,12 |\n+----------+\n1 row in set (0.00 sec)\n\n\nfind_in_set\n\ngroup_concat",
    "resolution": "A solution is using find_in_set and group_concat: SELECT GROUP_CONCAT(cf_did) as cf_dids FROM `cranetype` WHERE FIND_IN_SET('1', `cf_cranetype`) > 0; Demo: create table cranetype(cf_did int, cf_firstname varchar(100), cf_comment varchar(100), cf_cranetype varchar(50)); insert into cranetype values (4, 'Thomasxc', 'cgjkjhl', '1,6,9,4'), (7, 'Thomabs', 'dgtrty', '7,9,11'), (8, 'Rdgfghfdg', 'bfdhh', '1,3,4'), (9, 'Gngfdytyt', 'eertret', '1,6,3'), (12, 'Adgfdyh', 'dfsdtrst', '1'); SELECT GROUP_CONCAT(cf_did) as cf_dids FROM `cranetype` WHERE FIND_IN_SET('1', `cf_cranetype`) > 0; Output： mysql> SELECT GROUP_CONCAT(cf_did) as cf_dids -> FROM `cranetype` -> WHERE FIND_IN_SET('1', `cf_cranetype`) > 0; +----------+ | cf_dids | +----------+ | 4,8,9,12 | +----------+ 1 row in set (0.00 sec)",
    "severity": "low",
    "tags": [
      "php",
      "mysql"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "36568402",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 532,
      "stackoverflow_creation_date": "2016-04-12T09:01:30.953Z"
    },
    "idempotency_key": "stackoverflow-36568402",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python multiprocessing - How to monitor the memory usage?",
    "body": "I haven't found a good way to monitor the memory usage of a Python script using multiprocessing. More specifically, say I do this: import time biglist = range(pow(10, 7)) time.sleep(5) The memory usage is 1.3 GB, as measured by both /usr/bin/time -v and top. But now, say I do this: import time from multiprocessing import Pool def worker(x): biglist = range(pow(10, 7)) time.sleep(5) return Pool(5).map(worker, range(5)) Now top reports 5 x 1.3 GB, which is correct. But /usr/bin/time -v still reports 1.3 GB, which doesn't make sense. If it is measuring the consumption of the parent process, then it should say 0. If it is measuring the parent and the children, then it should report 5 x 1.3 GB. Why does it say 1.3 GB? Now let's try copy-on-write: import time from multiprocessing import Pool biglist = range(pow(10, 7)) def worker(x): time.sleep(5) return Pool(5).map(worker, range(5)) Now /usr/bin/time -v reports 1.3 GB (again), which is correct. But top reports 6 x 1.3 GB, which is incorrect. With copy-on-write, it should only report 1.3 GB. How can I reliably monitor the memory usage of a Python script using multiprocessing?",
    "code": "import time\n\nbiglist = range(pow(10, 7))\ntime.sleep(5)\n\n\nimport time\nfrom multiprocessing import Pool\n\ndef worker(x):\n    biglist = range(pow(10, 7))\n    time.sleep(5)\n    return\n\nPool(5).map(worker, range(5))\n\n\nimport time\nfrom multiprocessing import Pool\n\nbiglist = range(pow(10, 7))\n\ndef worker(x):\n    time.sleep(5)\n    return\n\nPool(5).map(worker, range(5))\n\n\nmultiprocessing\n\n/usr/bin/time -v\n\ntop\n\ntop\n\n/usr/bin/time -v\n\n/usr/bin/time -v\n\ntop\n\nmultiprocessing\n\n# Solution Code:\npmap &lt;pid&gt;\n\ntotal\n\nps --forest\n\n/proc/[pid]/{smaps,status,maps}",
    "resolution": "It really depends on what is meant by \"reliable\". You may want to use pmap <pid> command to get statistics on memory usage of the processes (I guess you are interested in total field). You need to track all processes which were created during execution of your program (I guess ps --forest may help you here). If you want to get details, then you may want to use /proc/[pid]/{smaps,status,maps} (man pages). Also please remember about difference between RSS and VSZ.",
    "severity": "medium",
    "tags": [
      "python",
      "python-2.7",
      "python-multiprocessing"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "36568532",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 2072,
      "stackoverflow_creation_date": "2016-04-12T09:06:31.007Z"
    },
    "idempotency_key": "stackoverflow-36568532",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "HMAC SHA256 hash computation in C#",
    "body": "I need to calculate the HMAC by using the SHA256 hash function. I have a secret key encoded in base64 format. Also there is an online tool that correctly calculate the HMAC (verified). http://www.freeformatter.com/hmac-generator.html I wrote the following code snippet: var signatureHashHexExpected = \"559bd871bfd21ab76ad44513ed5d65774f9954d3232ab68dab1806163f806447\"; var signature = \"123456:some-string:2016-04-12T12:44:16Z\"; var key = \"AgQGCAoMDhASFAIEBggKDA4QEhQCBAYICgwOEBIUAgQ=\"; var shaKeyBytes = Convert.FromBase64String(key); using (var shaAlgorithm = new System.Security.Cryptography.HMACSHA256(shaKeyBytes)) { var signatureBytes = System.Text.Encoding.UTF8.GetBytes(signature); var signatureHashBytes = shaAlgorithm.ComputeHash(signatureBytes); var signatureHashHex = string.Concat(Array.ConvertAll(signatureHashBytes, b => b.ToString(\"X2\"))).ToLower(); System.Diagnostics.Debug.Assert(signatureHashHex == signatureHashHexExpected); } PROBLEM: My code does not generate the correct HMAC. I verified different steps by using different online tools and alternative C# implementations. Only the conversion from base64 is not confirmed. What am i missing? UPDATE: Calculated signatureHashHex by my code is \"a40e0477a02de1d134a5c55e4befa55d6fca8e29e0aa0a0d8acf7a4370208efc\" ANSWER: The issue was caused by a misleading documentation stating the key is provided in Base64 format. See the accepted answer: var shaKeyBytes = System.Text.Encoding.UTF8.GetBytes(key);",
    "code": "var signatureHashHexExpected = \"559bd871bfd21ab76ad44513ed5d65774f9954d3232ab68dab1806163f806447\";\nvar signature = \"123456:some-string:2016-04-12T12:44:16Z\";\nvar key = \"AgQGCAoMDhASFAIEBggKDA4QEhQCBAYICgwOEBIUAgQ=\";\n\nvar shaKeyBytes = Convert.FromBase64String(key);\nusing (var shaAlgorithm = new System.Security.Cryptography.HMACSHA256(shaKeyBytes))\n{\n    var signatureBytes = System.Text.Encoding.UTF8.GetBytes(signature);\n    var signatureHashBytes = shaAlgorithm.ComputeHash(signatureBytes);\n    var signatureHashHex = string.Concat(Array.ConvertAll(signatureHashBytes, b =&gt; b.ToString(\"X2\"))).ToLower();\n\n    System.Diagnostics.Debug.Assert(signatureHashHex == signatureHashHexExpected);\n}\n\n\nvar shaKeyBytes = System.Text.Encoding.UTF8.GetBytes(key);\n\n\n# Solution Code:\nvar shaKeyBytes = System.Text.Encoding.UTF8.GetBytes(\"AgQGCAoMDhASFAIEBggKDA4QEhQCBAYICgwOEBIUAgQ=\");\n\n\n559bd871bfd21ab76ad44513ed5d65774f9954d3232ab68dab1806163f806447\n",
    "resolution": "Your result is correct, the difference is because the tool you link to does not decode Base64 for the key value and treats it as a series of characters. E.g. To duplicate its result treat your key as a string: var shaKeyBytes = System.Text.Encoding.UTF8.GetBytes(\"AgQGCAoMDhASFAIEBggKDA4QEhQCBAYICgwOEBIUAgQ=\"); Which yields 559bd871bfd21ab76ad44513ed5d65774f9954d3232ab68dab1806163f806447 (This is obviously not the right way to do it)",
    "severity": "high",
    "tags": [
      "c#",
      "hash",
      "hmac"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "36575195",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 17967,
      "stackoverflow_creation_date": "2016-04-12T13:45:20.987Z"
    },
    "idempotency_key": "stackoverflow-36575195",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why does a Rails engine's gem name have to \"match\" the module/namespace name?",
    "body": "I am building my first Rails engine. I called it my_engine, so it generates the files lib/my_engine.rb lib/my_engine/engine.rb lib/my_engine/version.rb That all have the module named MyEngine. And in the gemspec, the gem name is also set to my_engine. If I create a model my_model, it goes into app/models/my_engine/my_model.rb, and is generated as module MyEngine class MyModel < ActiveRecord::Base end end If I make a class method in here, and put the gem in a Rails project, it all works fine. def self.hello \"Hello from your Engine's model!\" end $ bundle exec rails c [1] (pry) main: 0> MyEngine::MyModel.hello => \"Hello from your Engine's model!\" However, I do not want the gem name to be my_engine. But if I change the name in the gemspec to something else, like what-i-really-want-to-name-it, everything stops working. Rails cannot see my model, although it can see my namespace. I am indeed changing the gem name in the Rails app and re-bundling, so it's not an issue of that. $ bundle exec rails c [1] (pry) main: 0> MyEngine::VERSION => \"0.0.1\" # default version from engine generation [2] (pry) main: 0> MyEngine::MyModel.hello NameError: uninitialized constant MyEngine::MyModel from (pry):2:in `__pry__' Why is \"this\" tied directly to the gem name? Is there any kind of workaround for this? I would really like to have the gem name and the module name to be different values. Using: Rails 4.2.6, Ruby 2.3.0",
    "code": "lib/my_engine.rb\nlib/my_engine/engine.rb\nlib/my_engine/version.rb\n\n\nmodule MyEngine\n  class MyModel &lt; ActiveRecord::Base\n  end\nend\n\n\ndef self.hello\n  \"Hello from your Engine's model!\"\nend\n\n$ bundle exec rails c\n[1] (pry) main: 0&gt; MyEngine::MyModel.hello\n=&gt; \"Hello from your Engine's model!\"\n\n\n$ bundle exec rails c\n[1] (pry) main: 0&gt; MyEngine::VERSION\n=&gt; \"0.0.1\"   # default version from engine generation\n[2] (pry) main: 0&gt; MyEngine::MyModel.hello\nNameError: uninitialized constant MyEngine::MyModel\nfrom (pry):2:in `__pry__'\n\n\nmy_engine\n\nMyEngine\n\nmy_engine\n\nmy_model\n\napp/models/my_engine/my_model.rb\n\nmy_engine\n\nwhat-i-really-want-to-name-it",
    "severity": "low",
    "tags": [
      "ruby-on-rails-4",
      "module",
      "namespaces",
      "rubygems"
    ],
    "metadata": {
      "stackoverflow_question_id": "36877210",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 681,
      "stackoverflow_creation_date": "2016-04-26T22:51:25.030Z"
    },
    "idempotency_key": "stackoverflow-36877210",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Using in memory repo for data protection when running in IIS",
    "body": "I'm running a production server (Windows Server 2012) with an AspNet Mvc Core RC1 website. I'm seeing the following in the logs: Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits. After inspecting the source code for DataProtection, I tracked the problem to the following method call: Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData); This is probably returning null on the server for some reason. I don't have any special custom configuration in place and I've read the docs so I thought the default would work. I think the problem is with the IIS website not running in a certain user's context but I have no idea how to confirm or fix this. My website is configured with its own pool. As an aside: the result of running an in memory repository for storing keys causes them to recycle whenever the application exits which is very annoying and not even intended for use in production environments.",
    "code": "Environment.GetFolderPath(Environment.SpecialFolder.LocalApplicationData);\n\n\n# Solution Code:\npublic void ConfigureServices(IServiceCollection services)\n{\n    services.AddDataProtection()\n    .PersistKeysToFileSystem(new DirectoryInfo(@\"\\\\server\\share\\directory\\\"));\n}\n",
    "resolution": "Those who are on the hosted environment where the access rights are very limited can use PersistKeysToFileSystem instead. Adding the following listing into the Startup.cs will resolve your issue: public void ConfigureServices(IServiceCollection services) { services.AddDataProtection() .PersistKeysToFileSystem(new DirectoryInfo(@\"\\\\server\\share\\directory\\\")); } You can change the path string acording to your needs. Please also check ProtectKeysWith if you want to configure the system to protect keys at rest by calling any of the ProtectKeysWith* configuration APIs.",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net-core",
      "iis",
      "iis-8",
      "data-protection"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "37099136",
      "stackoverflow_score": 48,
      "stackoverflow_view_count": 28433,
      "stackoverflow_creation_date": "2016-05-08T11:10:01.303Z"
    },
    "idempotency_key": "stackoverflow-37099136",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to configure local DynamoDB as ASP.NET session state provider",
    "body": "I have been tasked to write a proof of concept for using Amazon's DynamoDB service to store ASP.NET session state. I downloaded Amazon's local DynamoDB server from here, and got it running successfully. I created a test MVC website, and added the following NuGet packages. <package id=\"AWS.SessionProvider\" version=\"3.1.0.2\" targetFramework=\"net461\" /> <package id=\"AWSSDK.Core\" version=\"3.1.4.3\" targetFramework=\"net461\" /> <package id=\"AWSSDK.DynamoDBv2\" version=\"3.1.4.0\" targetFramework=\"net461\" /> I added the following to web.config. <sessionState mode=\"Custom\" customProvider=\"DynamoDB\"> <providers> <add name=\"DynamoDB\" type=\"Amazon.SessionProvider.DynamoDBSessionStateStore\" AWSProfileName=\"\" Region=\"\" /> </providers> </sessionState> Now I'm stuck. Amazon's documentation for local DynamoDB only talks about defining the service URL, not profile or region settings. Amazon's documentation for the session provider only talks about using a real online DynamoDB service with real credentials. The only mention I can find online of setting the service URL assumes that you are creating a DynamoDB client in code for arbitrary data access. I can't seem to find any overlap between these three concepts. Can anyone tell me how to configure local DynamoDB only as a session provider without referencing real Amazon credentials or regions?",
    "code": "&lt;package id=\"AWS.SessionProvider\" version=\"3.1.0.2\" targetFramework=\"net461\" /&gt;\n&lt;package id=\"AWSSDK.Core\" version=\"3.1.4.3\" targetFramework=\"net461\" /&gt;\n&lt;package id=\"AWSSDK.DynamoDBv2\" version=\"3.1.4.0\" targetFramework=\"net461\" /&gt;\n\n\n    &lt;sessionState mode=\"Custom\" customProvider=\"DynamoDB\"&gt;\n        &lt;providers&gt;\n            &lt;add name=\"DynamoDB\" type=\"Amazon.SessionProvider.DynamoDBSessionStateStore\" AWSProfileName=\"\" Region=\"\" /&gt;\n        &lt;/providers&gt;\n    &lt;/sessionState&gt;\n\n\nweb.config",
    "severity": "low",
    "tags": [
      "asp.net-mvc",
      "amazon-dynamodb"
    ],
    "metadata": {
      "stackoverflow_question_id": "37348082",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 698,
      "stackoverflow_creation_date": "2016-05-20T13:33:05.437Z"
    },
    "idempotency_key": "stackoverflow-37348082",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "React Native Error - Can't find variable: self",
    "body": "After adding a node module,isomorphic-fetch(version : ^2.2.1) in React Native app, I am getting an error of Can't find variable: self. Here I have attached a screenshot. The error is thrown from the file, located at node_modules > isomorphic-fetch > fetch-npm-browserify.js. Following is the code of that file. // the whatwg-fetch polyfill installs the fetch() function // on the global object (window or self) // // Return that as the export for use in Webpack, Browserify etc. require('whatwg-fetch'); module.exports = self.fetch.bind(self);",
    "code": "// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n\n\nisomorphic-fetch\n\nCan't find variable: self\n\nfetch-npm-browserify.js\n\n# Solution Code:\nvar globalObject = typeof self === \"undefined\" ? global : self;\nmodule.exports = globalObject.fetch.bind(globalObject);\n//module.exports = fetch;\n",
    "resolution": "@Nirav Dangi,按新建fetch-npm-react-native.js 的方式在我的项目里面没有起作用； 我这边处理方式，是直接修改，node_modules > isomorphic-fetch > fetch-npm-browserify.js 文件的返回： Google Translate: @Nirav Dangi, in accordance with the new way fetch-npm-react-native.js in my project which is not working; I am here to deal with direct changes, node_modules> isomorphic-fetch> fetch-npm-browserify.js file Back: var globalObject = typeof self === \"undefined\" ? global : self; module.exports = globalObject.fetch.bind(globalObject); //module.exports = fetch;",
    "severity": "medium",
    "tags": [
      "node.js",
      "react-native",
      "isomorphic-fetch-api"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "37544189",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5749,
      "stackoverflow_creation_date": "2016-05-31T11:15:37.220Z"
    },
    "idempotency_key": "stackoverflow-37544189",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to capture full output of `git clone`?",
    "body": "When I run git clone like usual, I see this: $ git clone https://github.com/bensmithett/webpack-css-example Cloning into 'webpack-css-example'... remote: Counting objects: 179, done. remote: Total 179 (delta 0), reused 0 (delta 0), pack-reused 179 Receiving objects: 100% (179/179), 24.07 KiB | 0 bytes/s, done. Resolving deltas: 100% (79/79), done. Checking connectivity... done However, when I try to redirect that to a file (or store it in a shell variable) I only see this: Cloning into 'webpack-css-example'... Here is what I tried: $ git clone https://github.com/bensmithett/webpack-css-example 2>&1 | tee out.log $ cat out.log Cloning into 'sample-data'... I tried it in Node.js as well, and it does the same thing: const fs = require('fs'); const child = spawn('git clone https://github.com/bensmithett/webpack-css-example'); child.stdout.on('data', function(data){ console.log(String(data)); }); child.stderr.on('data', function(data){ console.log(String(data)); }); // Cloning into 'webpack-css-example'... Why is all the remote: etc. stuff not getting piped to either stdin/stderr? Is there any way to capture the output? If not, what is happening that makes it so the output is displayed in the terminal, yet it is not being passed through either stdout or stderr?",
    "code": "$ git clone https://github.com/bensmithett/webpack-css-example\nCloning into 'webpack-css-example'...\nremote: Counting objects: 179, done.\nremote: Total 179 (delta 0), reused 0 (delta 0), pack-reused 179\nReceiving objects: 100% (179/179), 24.07 KiB | 0 bytes/s, done.\nResolving deltas: 100% (79/79), done.\nChecking connectivity... done\n\n\nCloning into 'webpack-css-example'...\n\n\n$ git clone https://github.com/bensmithett/webpack-css-example 2&gt;&amp;1 | tee out.log\n$ cat out.log\nCloning into 'sample-data'...\n\n\nconst fs = require('fs');\nconst child = spawn('git clone https://github.com/bensmithett/webpack-css-example');\nchild.stdout.on('data', function(data){\n  console.log(String(data));\n});\nchild.stderr.on('data', function(data){\n  console.log(String(data));\n});\n// Cloning into 'webpack-css-example'...\n\n\nremote:\n\n# Solution Code:\ngit clone --progress https://github.com/foo/bar 2&gt; out.log\n\n\nout=$(git clone --progress https://github.com/foo/bar 2&gt;&amp;1)\n\n\n--progress\n\nman git-clone\n\n--progress\n\n-q\n\nisatty()\n\nman isatty",
    "resolution": "By default Git will display the cloning progress only when the standard error stream is directed to a terminal. Since you're redirecting it to the pipe, the output stream is no longer attached to the terminal. So in order to capture the output, you need to add --progress parameter to force the progress status, e.g. git clone --progress https://github.com/foo/bar 2> out.log or, in order to store the output in a shell variable out=$(git clone --progress https://github.com/foo/bar 2>&1) See: man git-clone --progress Progress status is reported on the standard error stream by default when it is attached to a terminal, unless -q is specified. This flag forces progress status even if the standard error stream is not directed to a terminal. To force the terminal in any other way, you'll have to preload some library to force isatty() to return always true (see: man isatty). This function is used by git across the source code.",
    "severity": "high",
    "tags": [
      "git",
      "shell",
      "unix",
      "pipe"
    ],
    "metadata": {
      "language": "shell",
      "stackoverflow_question_id": "37669115",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 10149,
      "stackoverflow_creation_date": "2016-06-07T01:23:35.827Z"
    },
    "idempotency_key": "stackoverflow-37669115",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What is the cause of this NetworkOnMainThreadException",
    "body": "Before you hover over the close button. Please fully read this question. Preface Obviously, this exception is caused by running a network operation on the Main Thread. However, as you can see from the stacktrace, this error originates within doInBackground of an AsyncTask! I also do not transition onto the Main Thread after that point. Interestingly, I cannot replicate this issue on my devices. It is also not an issue that crops up for the vast majority of my users. Therefore, it cannot be a general implementation error. Steps Main Thread Something causes the channel list to refresh (be it manual or initial load) My API library is called (appendix 1) Background Thread The AsyncTask calls the API library to get the body of a URL (appendix 2) My Cache library checks whether the body has already been saved, it does not change the Thread. The API library calls the necessary OkHttp methods to pull the body of the URL (appendix 3) Stacktrace Fatal Exception: java.lang.RuntimeException: An error occurred while executing doInBackground() at android.os.AsyncTask$3.done(AsyncTask.java:309) at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354) at java.util.concurrent.FutureTask.setException(FutureTask.java:223) at java.util.concurrent.FutureTask.run(FutureTask.java:242) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Caused by android.os.NetworkOnMainThreadException at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1273) at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:249) at libcore.io.IoBridge.recvfrom(IoBridge.java:549) at java.net.PlainSocketImpl.read(PlainSocketImpl.java:481) at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:37) at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:237) at okio.Okio$2.read(SourceFile:139) at okio.AsyncTimeout$2.read(SourceFile:211) at okio.RealBufferedSource.indexOf(SourceFile:306) at okio.RealBufferedSource.indexOf(SourceFile:300) at okio.RealBufferedSource.readUtf8LineStrict(SourceFile:196) at okhttp3.internal.http.Http1xStream.readResponse(SourceFile:184) at okhttp3.internal.http.Http1xStream.readResponseHeaders(SourceFile:125) at okhttp3.internal.http.HttpEngine.readNetworkResponse(SourceFile:723) at okhttp3.internal.http.HttpEngine.access$200(SourceFile:81) at okhttp3.internal.http.HttpEngine$NetworkInterceptorChain.proceed(SourceFile:708) at okhttp3.internal.http.HttpEngine.readResponse(SourceFile:563) at okhttp3.RealCall.getResponse(SourceFile:241) at okhttp3.RealCall$ApplicationInterceptorChain.proceed(SourceFile:198) at okhttp3.RealCall.getResponseWithInterceptorChain(SourceFile:160) at okhttp3.RealCall.execute(SourceFile:57) at com.mypackagename.app.http.Api.getBody(SourceFile:1472) at com.mypackagename.app.tasks.GetChannelListTask$2.renewCache(SourceFile:72) at com.mypackagename.app.utils.Cache.get(SourceFile:27) at com.mypackagename.app.tasks.GetChannelListTask.doInBackground(SourceFile:69) at com.mypackagename.app.tasks.GetChannelListTask.doInBackground(SourceFile:24) at android.os.AsyncTask$2.call(AsyncTask.java:295) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Appendix 1 public void getChannelList(final IGetChannelListCallback callback) { try { GetChannelListTask task = new GetChannelListTask(mContext.get(), callback); AsyncTaskCompat.executeParallel(task); } catch (RejectedExecutionException e) { Crashlytics.logException(e); } } Appendix 2 protected ArrayList<Channel> doInBackground(String... urls) { final ArrayList<Channel> channelList = new ArrayList<Channel>(); // ... String json = Cache.get(context, GET_CHANNELS_CACHE, GET_CHANNELS_CACHE_TIME, new IBadCache() { public String renewCache() { return Api.getInstance(context).getBody(GET_CHANNELS_URL); } }); // ... return channelList; } Appendix 3 @WorkerThread @NonNull public String getBody(@NonNull final String url) { try { Request request = new Request.Builder() .url(logUrl(url)) .build(); Response response = mClient.newCall(request).execute(); return response.body().string(); } catch (IOException e) { Utils.log(\"API\", \"E::\"+e.toString()); } catch (SecurityException e) { reportNoInternetPermission(); } return \"\"; } Update 1 Checking the Thread resulted in the expected: refreshChannelList: MainThread: true getChannelList: MainThread: true onPreExecute: MainThread: true doInBackground: MainThread: false renewCache: MainThread: false getBody: MainThread: false onPostExecute: MainThread: true Moving to a background Thread upon doInBackground and continuing through to the OkHttp call, returning to the Main Thread once at onPostExecute.",
    "code": "Fatal Exception: java.lang.RuntimeException: An error occurred while executing doInBackground()\n       at android.os.AsyncTask$3.done(AsyncTask.java:309)\n       at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\n       at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\n       at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n       at java.lang.Thread.run(Thread.java:818)\nCaused by android.os.NetworkOnMainThreadException\n       at android.os.StrictMode$AndroidBlockGuardPolicy.onNetwork(StrictMode.java:1273)\n       at libcore.io.BlockGuardOs.recvfrom(BlockGuardOs.java:249)\n       at libcore.io.IoBridge.recvfrom(IoBridge.java:549)\n       at java.net.PlainSocketImpl.read(PlainSocketImpl.java:481)\n       at java.net.PlainSocketImpl.access$000(PlainSocketImpl.java:37)\n       at java.net.PlainSocketImpl$PlainSocketInputStream.read(PlainSocketImpl.java:237)\n       at okio.Okio$2.read(SourceFile:139)\n       at okio.AsyncTimeout$2.read(SourceFile:211)\n       at okio.RealBufferedSource.indexOf(SourceFile:306)\n       at okio.RealBufferedSource.indexOf(SourceFile:300)\n       at okio.RealBufferedSource.readUtf8LineStrict(SourceFile:196)\n       at okhttp3.internal.http.Http1xStream.readResponse(SourceFile:184)\n       at okhttp3.internal.http.Http1xStream.readResponseHeaders(SourceFile:125)\n       at okhttp3.internal.http.HttpEngine.readNetworkResponse(SourceFile:723)\n       at okhttp3.internal.http.HttpEngine.access$200(SourceFile:81)\n       at okhttp3.internal.http.HttpEngine$NetworkInterceptorChain.proceed(SourceFile:708)\n       at okhttp3.internal.http.HttpEngine.readResponse(SourceFile:563)\n       at okhttp3.RealCall.getResponse(SourceFile:241)\n       at okhttp3.RealCall$ApplicationInterceptorChain.proceed(SourceFile:198)\n       at okhttp3.RealCall.getResponseWithInterceptorChain(SourceFile:160)\n       at okhttp3.RealCall.execute(SourceFile:57)\n       at com.mypackagename.app.http.Api.getBody(SourceFile:1472)\n       at com.mypackagename.app.tasks.GetChannelListTask$2.renewCache(SourceFile:72)\n       at com.mypackagename.app.utils.Cache.get(SourceFile:27)\n       at com.mypackagename.app.tasks.GetChannelListTask.doInBackground(SourceFile:69)\n       at com.mypackagename.app.tasks.GetChannelListTask.doInBackground(SourceFile:24)\n       at android.os.AsyncTask$2.call(AsyncTask.java:295)\n       at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\n       at java.lang.Thread.run(Thread.java:818)\n\n\npublic void getChannelList(final IGetChannelListCallback callback) {\n    try {\n        GetChannelListTask task = new GetChannelListTask(mContext.get(), callback);\n        AsyncTaskCompat.executeParallel(task);\n    } catch (RejectedExecutionException e) {\n        Crashlytics.logException(e);\n    }\n}\n\n\nprotected ArrayList&lt;Channel&gt; doInBackground(String... urls) {\n    final ArrayList&lt;Channel&gt; channelList = new ArrayList&lt;Channel&gt;();\n\n    // ...\n\n    String json = Cache.get(context, GET_CHANNELS_CACHE, GET_CHANNELS_CACHE_TIME, new IBadCache() {\n        public String renewCache() {\n            return Api.getInstance(context).getBody(GET_CHANNELS_URL);\n        }\n    });\n\n    // ...\n\n    return channelList;\n}\n\n\n@WorkerThread\n@NonNull\npublic String getBody(@NonNull final String url) {\n    try {\n        Request request = new Request.Builder()\n                .url(logUrl(url))\n                .build();\n\n        Response response = mClient.newCall(request).execute();\n\n        return response.body().string();\n    } catch (IOException e) {\n        Utils.log(\"API\", \"E::\"+e.toString());\n    } catch (SecurityException e) {\n        reportNoInternetPermission();\n    }\n\n    return \"\";\n}\n\n\nrefreshChannelList: MainThread: true\ngetChannelList: MainThread: true\nonPreExecute: MainThread: true\ndoInBackground: MainThread: false\nrenewCache: MainThread: false\ngetBody: MainThread: false\nonPostExecute: MainThread: true\n\n\ndoInBackground\n\nAsyncTask\n\nAsyncTask\n\nThread\n\nOkHttp\n\ndoInBackground\n\nOkHttp\n\nonPostExecute",
    "severity": "low",
    "tags": [
      "android",
      "android-asynctask",
      "okhttp"
    ],
    "metadata": {
      "stackoverflow_question_id": "37702610",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 581,
      "stackoverflow_creation_date": "2016-06-08T12:32:24.493Z"
    },
    "idempotency_key": "stackoverflow-37702610",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to call a list of AWS Lambda permissions for a function",
    "body": "To allow a AWS service to invoke a lambda function you need to apply permissions. The json for this permission could look a little something like so: { \"FunctionName\": \"someFunction\", \"StatementId\": \"1\", \"Action\": \"lambda:InvokeFunction\", \"Principal\": \"codecommit.amazonaws.com\", \"SourceArn\": \"arn:aws:codecommit:us-east-1:80398EXAMPLE:MyDemoRepo\", \"SourceAccount\": \"80398EXAMPLE\" } above taken from http://docs.aws.amazon.com/codecommit/latest/userguide/how-to-notify-lambda.html A permission is easy enough to add using the command line interface (cli). See http://docs.aws.amazon.com/cli/latest/reference/lambda/add-permission.html. And it can be removed using the command at http://docs.aws.amazon.com/cli/latest/reference/lambda/remove-permission.html What I cannot find is a way to list existing permissions. I've looked everywhere in the Lambda and the IAM GUI. I've looked at the list of cli commands for Lambda at http://docs.aws.amazon.com/cli/latest/reference/lambda/index.html#cli-aws-lambda - there seems to be no command to list permissions. I also looked at the iam commands for a laugh at http://docs.aws.amazon.com/cli/latest/reference/iam/index.html#cli-aws-iam. Nothing sticks out there. So the question : how do you get a list of Lambda permissions? What am I missing here and if it is actually impossible, why? Hopefully some AWS experts out there who can shed light on this",
    "code": "{\n    \"FunctionName\": \"someFunction\", \n    \"StatementId\": \"1\", \n    \"Action\": \"lambda:InvokeFunction\", \n    \"Principal\": \"codecommit.amazonaws.com\", \n    \"SourceArn\": \"arn:aws:codecommit:us-east-1:80398EXAMPLE:MyDemoRepo\", \n    \"SourceAccount\": \"80398EXAMPLE\"\n}\n\n\njson\n\n# Solution Code:\naws lambda add-permission\n\naws lambda remove-permission\n\naws lambda get-policy",
    "resolution": "This one confused me, too. You can add a permission to a Lambda function with the aws lambda add-permission command in the AWSCLI. You can remove a permission using aws lambda remove-permission. But to see the existing permissions you use aws lambda get-policy.",
    "severity": "medium",
    "tags": [
      "amazon-web-services",
      "aws-lambda"
    ],
    "metadata": {
      "stackoverflow_question_id": "37786384",
      "stackoverflow_score": 28,
      "stackoverflow_view_count": 8564,
      "stackoverflow_creation_date": "2016-06-13T09:39:46.213Z"
    },
    "idempotency_key": "stackoverflow-37786384",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "angularjs - $rootScope.$on called multiple times",
    "body": "In one controller I do : $rootScope.$emit(\"newAction\", {}); in another controller I do : $rootScope.$on('newAction', function() { vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); }); My problem is that $rootScope.$on is called multiple times. I don't know why. If anybody has a hint... Thanks",
    "code": "$rootScope.$emit(\"newAction\", {});\n\n\n$rootScope.$on('newAction', function() {\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n      });\n\n\n# Solution Code:\nvar customeEventListener = $rootScope.$on('newAction', function() {\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n          vm.newAction (...);\n      });\n\n$scope.$on('$destroy', function() {\n        customeEventListener();\n  });\n\n\n$rootScope\n\n$destroy",
    "resolution": "$rootScope listener are not destroyed automatically. You need to destroy it using $destroy. var customeEventListener = $rootScope.$on('newAction', function() { vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); vm.newAction (...); }); $scope.$on('$destroy', function() { customeEventListener(); }); Refer this link Working with $scope.$emit and $scope.$on",
    "severity": "medium",
    "tags": [
      "angularjs"
    ],
    "metadata": {
      "stackoverflow_question_id": "37920240",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 8637,
      "stackoverflow_creation_date": "2016-06-20T10:31:09.830Z"
    },
    "idempotency_key": "stackoverflow-37920240",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "glmer VS JAGS: different results in intercept-only hierarchical model",
    "body": "JAGS I have an intercept-only logistic model in JAGS, defined as follows: model{ for(i in 1:Ny){ y[i] ~ dbern(mu[s[i]]) } for(j in 1:Ns){ mu[j] <- ilogit(b0[j]) b0[j] ~ dnorm(0, sigma) } sigma ~ dunif(0, 100) } When I plot the posterior distribution of b0 collapsing across all subjects (i.e., all b0[j]), my 95% HDI includes 0: -0.55 to 2.13. The Effective Sample Size is way above 10,000 for every b0 (around 18,000 on average). Diagnostics look good. glmer() Now, this is the equivalent glmer() model: glmer(response ~ 1 + (1|subject), data = myData, family = \"binomial\") The result of this model, however, is as follows: Random effects: Groups Name Variance Std.Dev. speaker (Intercept) 0.3317 0.576 Number of obs: 1544, groups: subject, 27 Fixed effects: Estimate Std. Error z value Pr(>|z|) (Intercept) 0.7401 0.1247 5.935 2.94e-09 *** --- Signif. codes: 0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1 So here it says my estimate is significantly above 0. What the data look like Here are the proportions of 0s and 1s by subject. You can see that, for the vast majority of subjects, the proportion of 1 is above 50%. Any ideas why JAGS and glmer() are so different here? 0 1 1 0.47 0.53 2 0.36 0.64 3 0.29 0.71 4 0.42 0.58 5 0.12 0.88 6 0.22 0.78 7 0.54 0.46 8 0.39 0.61 9 0.30 0.70 10 0.32 0.68 11 0.36 0.64 12 0.66 0.34 13 0.38 0.62 14 0.49 0.51 15 0.35 0.65 16 0.32 0.68 17 0.12 0.88 18 0.45 0.55 19 0.36 0.64 20 0.36 0.64 21 0.28 0.72 22 0.40 0.60 23 0.41 0.59 24 0.19 0.81 25 0.27 0.73 26 0.08 0.92 27 0.12 0.88",
    "code": "model{\nfor(i in 1:Ny){\n    y[i] ~ dbern(mu[s[i]])\n}\nfor(j in 1:Ns){\n    mu[j] &lt;- ilogit(b0[j])\n    b0[j] ~ dnorm(0, sigma)\n}\n\nsigma ~ dunif(0, 100)\n}\n\n\nglmer(response ~ 1 + (1|subject), data = myData, family = \"binomial\")\n\n\nRandom effects:\nGroups  Name        Variance Std.Dev.\nspeaker (Intercept) 0.3317   0.576   \nNumber of obs: 1544, groups:  subject, 27\n\nFixed effects:\n            Estimate Std. Error z value Pr(&gt;|z|)    \n(Intercept)   0.7401     0.1247   5.935 2.94e-09 ***\n---\nSignif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1\n\n\n      0    1\n1  0.47 0.53\n2  0.36 0.64\n3  0.29 0.71\n4  0.42 0.58\n5  0.12 0.88\n6  0.22 0.78\n7  0.54 0.46\n8  0.39 0.61\n9  0.30 0.70\n10 0.32 0.68\n11 0.36 0.64\n12 0.66 0.34\n13 0.38 0.62\n14 0.49 0.51\n15 0.35 0.65\n16 0.32 0.68\n17 0.12 0.88\n18 0.45 0.55\n19 0.36 0.64\n20 0.36 0.64\n21 0.28 0.72\n22 0.40 0.60\n23 0.41 0.59\n24 0.19 0.81\n25 0.27 0.73\n26 0.08 0.92\n27 0.12 0.88\n\n\nb0\n\nb0[j]\n\n0\n\n-0.55 to 2.13\n\nb0\n\nglmer()\n\nglmer()\n\n0\n\n0s\n\n1s\n\n1\n\nglmer()\n\n# Solution Code:\nmodel{\nfor(i in 1:Ny){\n    y[i] ~ dbern(mu[s[i]])\n}\nfor(j in 1:Ns){\n    mu[j] &lt;- ilogit(b0[j])\n    b0[j] ~ dnorm(mu0, sigma)\n}\nmu0 ~ dnorm(0,0.001)\nsigma ~ dunif(0, 100)\n}\n\n\nmu0\n\nglmer\n\nresponse ~ -1 + (1|subject)\n\nglmer",
    "resolution": "You forgot to include a mean value, so your intercept parameter is fixed to zero. Something like this should work: model{ for(i in 1:Ny){ y[i] ~ dbern(mu[s[i]]) } for(j in 1:Ns){ mu[j] <- ilogit(b0[j]) b0[j] ~ dnorm(mu0, sigma) } mu0 ~ dnorm(0,0.001) sigma ~ dunif(0, 100) } Now the posterior density of mu0 should match the sampling distribution of the intercept parameter from glmer reasonably well. Alternatively, if you use response ~ -1 + (1|subject) as your glmer formula, you should get results that match your current JAGS model.",
    "severity": "low",
    "tags": [
      "r",
      "glm",
      "hierarchical",
      "jags"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "38003405",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 282,
      "stackoverflow_creation_date": "2016-06-23T23:22:13.947Z"
    },
    "idempotency_key": "stackoverflow-38003405",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Creating view-model for each UITableViewCell",
    "body": "I'm stuck on a design decision with creating view-models for table view's cells. Data for each cell is provided by a data source class (has an array of Contacts). In MVVM only view-model can talk to model, but it doesn't make sense to put data source in view-model because it would make possible to access data for all cells, also it's wrong to put data source in view controller as it must not have reference to the data. There are some other key moments: Each cell must have it's own instance of view-model not a shared one cellForRowAtindexPath must not be placed in a view-model because it shouldn't contain any UI references View/ViewController's view-model should not interact with cell's view-model What's the right way to \"insert\" data source for cells in MVVM's relationship ? Thanks.",
    "code": "Contacts\n\nMVVM\n\ncellForRowAtindexPath\n\nMVVM\n\n# Solution Code:\nUITableViewDataSource\n\ntableView(:cellForRowAt:)\n\nContacts\n\nUITableViewCell\n\nContacts",
    "resolution": "Let me start with some theory. MVVM is a specialization of the Presentation Model (or Application Model) for Microsoft's Silverlight and WPF. The main ideas behind this UI architectural pattern are: The view part is the only one that depends on the GUI framework. This means that for iOS, the view controller is part of the view. The view can only talk to the view model. Never to the model. The view model holds the state of the view. This state is offered to the view via view model properties. These properties contain not only the value of the labels, but also other view related information like if the save button is enabled or the color for a rating view. But the information of the state must be UI framework independent. So in the case of iOS, the property for the color should be an enum, for example, instead of a UIColor. The view model also provides methods that will take care of the UI actions. This actions will talk to the model, but they never change the state of the view that is data related directly. Instead, it talks to the model and asks for the required changes. The model should be autonomous, i.e. you should be able to use the same code for the model for a command line application and a UI interface. It will take care of all the business logic. The model doesn't know about the view model. So changes to the view model are propagated through an observation mechanism. For iOS and a model with plain NSObject subclasses or even Core Data, KVO can be used for that (also for Swift). Once the view model knows about changes in the model, it should update the state that it holds (if you use value types, then it should create an updated one and replace it). The view model doesn't know about the view. In its original conception it uses data binding, that not available for iOS. So changes in the view model are propagated through an observation mechanism. You can also use KVO here, or as you mention in the question, a simple delegation pattern, even better if combined with Swift property observers, will do. Some people prefer reactive frameworks, like RxSwift, ReactiveCocoa, or even Swift Bond. The benefits are as you mentioned: Better separation of concerns. UI independence: easier migration to other UIs. Better testability because of the separation of concerns and the decoupled nature of the code. So coming back to your question, the implementation of the UITableViewDataSource protocol belongs to the view part of the architecture, because of its dependencies on the UI framework. Notice that in order to use that protocol in your code, that file must import UIKit. Also methods like tableView(:cellForRowAt:) that returns a view is heavily dependent on UIKit. Then, your array of Contacts, that is indeed your model, cannot be operated or queried through the view (data source or otherwise). Instead you pass a view model to your table view controller, that, in the simplest case, has two properties (I recommend that they are stored, not computed properties). One of them is the number of sections and the other one is the number of rows per section: var numberOfSections: Int = 0 var rowsPerSection: [Int] = [] The view model is initialized with a reference to the model and as the last step in the initialization it sets the value of those two properties. The data source in the view controller uses the data of the view model: override func numberOfSections(in tableView: UITableView) -> Int { return viewModel.numberOfSections } override func tableView(_ tableView: UITableView, numberOfRowsInSection section: Int) -> Int { return viewModel.rowsPerSection[section] } Finally you can have a different view model struct for each of the cells: struct ContactCellViewModel { let name: String init(contact: Contact) { name = contact.name ?? \"\" } } And the UITableViewCell subclass will know how to use that struct: class ContactTableViewCell: UITableViewCell { var viewModel: ContactCellViewModel! func configure() { textLabel!.text = viewModel.name } } In order to have the corresponding view model for each of the cells, the table view view model will provide a method that generates them, and that can be used to populate the array of view models: func viewModelForCell(at index: Int) -> ContactCellViewModel { return ContactCellViewModel(contact: contacts[index]) } As you can see the view models here are the only ones talking to the model (your Contacts array), and the views only talk to the view models.",
    "severity": "high",
    "tags": [
      "ios",
      "swift",
      "uitableview",
      "design-patterns",
      "mvvm"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "38033596",
      "stackoverflow_score": 36,
      "stackoverflow_view_count": 20534,
      "stackoverflow_creation_date": "2016-06-25T22:45:22.893Z"
    },
    "idempotency_key": "stackoverflow-38033596",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Convert long to wchar_t *",
    "body": "thanks for reading. I think I'm close on this one, but I could use some expertise on understanding why my attempt at something is not performing the way I expect it to. What I need (for now) is to convert a type long (LONG, since I'm actually in VC++, but I know that's just a typedef) into a wchar_t *. I'm able to obtain the result I want but I'm unable to understand why the approach I think should work...isn't working. Here's the code that achieves the result I want: const std::wstring myString{ std::to_wstring(wRect.bottom) }; const wchar_t * myCharPointer{ myString.c_str() }; Vs the approach I would like to take: const wchar_t * lWind{ std::to_wstring(wRect.bottom).c_str() }; Using my debugger in VS Community I've determined that myCharPointer points to the correct value (\"600\"), but lWind gets assigned to point (or perhaps never gets a new assignment at all?) to a null string/empty string. I'm curious about the theoretical performance aspect of these two approaches, i.e. using 2 lines of code and 2 different types of variables to arrive at the value I want vs. 1 line of code. Obviously there's some backend code that gets called to perform each of these approaches but I'm unsure if one approach is more performance costly than the other. I'd appreciate any feedback people have about this; its very likely I'm missing something obvious and that the overall goal I'm trying to achieve may even be done in a better way but for now I'd like to satisfy my curiosity. Thanks!",
    "code": "const std::wstring myString{ std::to_wstring(wRect.bottom) };\nconst wchar_t * myCharPointer{ myString.c_str() };\n\n\nconst wchar_t * lWind{ std::to_wstring(wRect.bottom).c_str() };\n\n\n# Solution Code:\nconst wchar_t * lWind{ std::to_wstring(wRect.bottom).c_str() }; // after this line invalid pointer\n\n\nstd::wstring ws = std::to_wstring(100);\n\nconst wchar_t * lWind{ ws.c_str() };\n",
    "resolution": "to_wstring returns a wstring by value. The destructor of the temporary object gets called after calling c_str, when it loses scope on the next line, and then the pointer becomes invalid. const wchar_t * lWind{ std::to_wstring(wRect.bottom).c_str() }; // after this line invalid pointer You can fix it by storing a temporary string which lives as long as the wchar_t pointer. std::wstring ws = std::to_wstring(100); const wchar_t * lWind{ ws.c_str() };",
    "severity": "medium",
    "tags": [
      "c++",
      "performance",
      "visual-c++"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "38092099",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2008,
      "stackoverflow_creation_date": "2016-06-29T06:40:30.530Z"
    },
    "idempotency_key": "stackoverflow-38092099",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unexpected result of subtracting a NASM macro in an expression",
    "body": "I wrote the following code: section .text %define len msg-4 global _start msg: db \"Thank you\" var: dd 0x31323334 _start: mov ecx, msg debug: mov edx, var-len ; **** the problem is here mov ebx, 1 mov eax, 4 int 80h mov eax, 1 mov ebx, 1 int 80h ; exit I expected edx to hold the value 13, because var-len= var-msg+4= 13 (the distance of the address of var from msg is 9, since msg is 9 bytes). Therefore, I thought this code would print \"Thank you\". But instead, edx got 5, and \"Thank\" was printed. Why does edx get 5 and not 13?",
    "code": " section .text\n    %define len msg-4\n    global _start \n    msg: db \"Thank you\"\n    var: dd 0x31323334\n\n_start:\n    mov ecx, msg\n    debug:\n    mov edx, var-len ; **** the problem is here\n    mov ebx, 1\n    mov eax, 4\n    int 80h\n    mov eax, 1 \n    mov ebx, 1\n    int 80h ; exit         \n\n\nvar-len= var-msg+4= 13\n\n# Solution Code:\nsection .rodata           ; groups read-only together inside the .text section\n    msg: db \"Thank you\"\n    var: db 0x34, 0x33, 0x32, 0x31   ; dd 0x31323334  ; Since you're passing these bytes to write(2), writing them separately is probably less confusing.  (x86 is little-endian, so they will come out \"backwards\")\n\n    ;; apparently you want to include var as part of the message, for some reason\n    msglen equ $ - msg    ; $ is the current position\n\n    ;; msgend:            ; alternative: label the end.  There doesn't have to be a db or anything; it's fine to have multiple labels for the same address\n\n\nsection .text\n    global _start \n_start:\n    mov    edx, msglen        ; message length\n    ;; mov edx, msgend - msg  ; alternative\n\n\n %define len msg-4        ; first of all, this is a terrible name: it's not the length!\n mov    edx, var - len    ; expands to var-msg-4,  not var - (msg-4)\n\n %define msg_minus_varlen  (msg-4)\n mov    edx, var - msg_minus_varlen;  expands to var - (msg-4)\n\n\n%define len msg-4\n\n$ - start\n\n5\n\n%define\n\n(msg-4)\n\n()",
    "resolution": "%define len msg-4 is a textual substitution, see below. The normal way is to calculate the length with $ - start after an object. Simply labelling the end works, too. section .rodata ; groups read-only together inside the .text section msg: db \"Thank you\" var: db 0x34, 0x33, 0x32, 0x31 ; dd 0x31323334 ; Since you're passing these bytes to write(2), writing them separately is probably less confusing. (x86 is little-endian, so they will come out \"backwards\") ;; apparently you want to include var as part of the message, for some reason msglen equ $ - msg ; $ is the current position ;; msgend: ; alternative: label the end. There doesn't have to be a db or anything; it's fine to have multiple labels for the same address section .text global _start _start: mov edx, msglen ; message length ;; mov edx, msgend - msg ; alternative Why you got 5 %define is a textual substitution, like the C preprocessor. It would have worked the way you expected if you'd used (msg-4). All the reasons for using () religiously in CPP macros apply here, too. %define len msg-4 ; first of all, this is a terrible name: it's not the length! mov edx, var - len ; expands to var-msg-4, not var - (msg-4) %define msg_minus_varlen (msg-4) mov edx, var - msg_minus_varlen; expands to var - (msg-4) This is still a really confusing way to do it. You're getting the length by subtracting two positions offset by the same amount from the buffer you're actually going to print.",
    "severity": "low",
    "tags": [
      "assembly",
      "nasm"
    ],
    "metadata": {
      "stackoverflow_question_id": "38150945",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 155,
      "stackoverflow_creation_date": "2016-07-01T17:25:01.017Z"
    },
    "idempotency_key": "stackoverflow-38150945",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to check if a String is an Int in Swift?",
    "body": "I have a TextField which I want to verify if the inputted text is an integer. How could I do this? I want to write a function like this: func isStringAnInt(string: String) -> Bool { }",
    "code": "func isStringAnInt(string: String) -&gt; Bool {\n\n}\n\n\n# Solution Code:\nextension String {\n    var isInt: Bool {\n        return Int(self) != nil\n    }\n}\n\n\n\"1\".isInt // true\n\"Hello world\".isInt // false\n\"\".isInt // false\n\n\nString",
    "resolution": "String Extension & Computed Property You can also add to String a computed property. The logic inside the computed property is the same described by OOPer extension String { var isInt: Bool { return Int(self) != nil } } Now you can \"1\".isInt // true \"Hello world\".isInt // false \"\".isInt // false",
    "severity": "high",
    "tags": [
      "swift",
      "swift2"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "38159397",
      "stackoverflow_score": 33,
      "stackoverflow_view_count": 32272,
      "stackoverflow_creation_date": "2016-07-02T11:00:46.870Z"
    },
    "idempotency_key": "stackoverflow-38159397",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C# Tracing truncate long messages",
    "body": "In C# I've enabled tracing and a net tracing source. <?xml version=\"1.0\" encoding=\"utf-8\" ?> <configuration> <startup> <supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5\" /> </startup> <system.diagnostics> <sources> <source name=\"System.Net\" tracemode=\"includehex\" maxdatasize=\"1024\"> <listeners> <add name=\"System.Net\"/> </listeners> </source> </sources> <switches> <add name=\"System.Net\" value=\"Verbose\"/> </switches> <sharedListeners> <add name=\"System.Net\" type=\"TraceTest.StringWriterTraceListener, TraceTest\" initializeData=\"myfile.log\" /> </sharedListeners> <trace autoflush=\"true\" indentsize=\"4\" /> </system.diagnostics> </configuration> But longer messages get truncated (long like 12Kb/30 lines, not long like 1GB!) so I end up in a situation where only part of web reqiest headers are logged. How to fix that? Or do you know a book or some resource that explains .Net tracing and debugging in great detail? log example: System.Net Information: 0 : [1204] Connection#63291458 - Received headers { Transfer-Encoding: chunked Connection: keep-alive Keep-Alive: timeout=10 Content-Type: text/html; charset=windows-1251 Date: Mon, 04 Jul 2016 17:50:33 GMT Set-Cookie: uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,cats=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,cats=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,cats=deleted; expires=...}. This is one message, somehow Write method on the TraceListener is called whit that single message as parameter that is being truncated (the \"...}.\" at the end) Also cookies are terribly written and are almost unparsable, but I can live with that... Yeah, sadly enough apart from tampering with System.dlls or using some odd and complex type inheritance there is not much to be done.",
    "code": "    &lt;?xml version=\"1.0\" encoding=\"utf-8\" ?&gt;\n&lt;configuration&gt;\n    &lt;startup&gt; \n        &lt;supportedRuntime version=\"v4.0\" sku=\".NETFramework,Version=v4.5\" /&gt;\n    &lt;/startup&gt;\n  &lt;system.diagnostics&gt;\n    &lt;sources&gt;\n      &lt;source name=\"System.Net\" tracemode=\"includehex\" maxdatasize=\"1024\"&gt;\n        &lt;listeners&gt;\n          &lt;add name=\"System.Net\"/&gt;\n        &lt;/listeners&gt;\n      &lt;/source&gt;\n    &lt;/sources&gt;\n    &lt;switches&gt;\n      &lt;add name=\"System.Net\" value=\"Verbose\"/&gt;\n    &lt;/switches&gt;\n    &lt;sharedListeners&gt;\n      &lt;add name=\"System.Net\"\n        type=\"TraceTest.StringWriterTraceListener, TraceTest\"\n        initializeData=\"myfile.log\"\n      /&gt;\n    &lt;/sharedListeners&gt;\n    &lt;trace autoflush=\"true\" indentsize=\"4\" /&gt;    \n  &lt;/system.diagnostics&gt;\n&lt;/configuration&gt;\n\n\n            System.Net Information: 0 : [1204] Connection#63291458 - Received headers\n        {\n        Transfer-Encoding: chunked\n        Connection: keep-alive\n        Keep-Alive: timeout=10\n        Content-Type: text/html; charset=windows-1251\n        Date: Mon, 04 Jul 2016 17:50:33 GMT\n        Set-Cookie: uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,uid=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,pass=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,bitbucketz=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/; domain=.zamunda.net,cats=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0,cats=deleted; expires=Thu, 01-Jan-1970 00:00:01 GMT; Max-Age=0; path=/,cats=deleted;\nexpires=...}.\n\n\nWrite\n\nTraceListener\n\n# Solution Code:\nLogging.PrintInfo(Logging.Web, this, SR.GetString(\"net_log_received_headers\", new object[]\n    {\n        this.m_ResponseData.m_ResponseHeaders.ToString(true)\n    }));\n\n\npublic static string GetString(string name, params object[] args)\n{\n    SR sR = SR.GetLoader();\n    if (sR == null)\n    {\n        return null;\n    }\n    string @string = sR.resources.GetString(name, SR.Culture);\n    if (args != null &amp;&amp; args.Length != 0)\n    {\n        for (int i = 0; i &lt; args.Length; i++)\n        {\n            string text = args[i] as string;\n            if (text != null &amp;&amp; text.Length &gt; 1024)\n            {\n                args[i] = text.Substring(0, 1021) + \"...\";\n            }\n        }\n        return string.Format(CultureInfo.CurrentCulture, @string, args);\n    }\n    return @string;\n}\n\n\nif (text != null &amp;&amp; text.Length &gt; 1024)\n{\n    args[i] = text.Substring(0, 1021) + \"...\";\n}\n\n\nint maxDumpSizeSetting = Logging.GetMaxDumpSizeSetting(traceSource);\nif (length &gt; maxDumpSizeSetting)\n{\n    Logging.PrintLine(traceSource, TraceEventType.Verbose, 0, string.Concat(new string[]\n    {\n        \"(printing \",\n        maxDumpSizeSetting.ToString(NumberFormatInfo.InvariantInfo),\n        \" out of \",\n        length.ToString(NumberFormatInfo.InvariantInfo),\n        \")\"\n    }));\n    length = maxDumpSizeSetting;\n}\n\n\nParseResponseData\n\nSR\n\nGetString\n\nSR.GetString\n\nSR.GetString\n\nmaxdatasize\n\nDump\n\nLogging",
    "resolution": "You'll not get the extra data. Your typical example is coming from an private method called ParseResponseData which calls this: Logging.PrintInfo(Logging.Web, this, SR.GetString(\"net_log_received_headers\", new object[] { this.m_ResponseData.m_ResponseHeaders.ToString(true) })); The internal sealed static class SR with method GetString is the culprit here. The net_log_received_headers resource string is Received headers {{{0}}}.. ILSpy reveals this code: public static string GetString(string name, params object[] args) { SR sR = SR.GetLoader(); if (sR == null) { return null; } string @string = sR.resources.GetString(name, SR.Culture); if (args != null && args.Length != 0) { for (int i = 0; i < args.Length; i++) { string text = args[i] as string; if (text != null && text.Length > 1024) { args[i] = text.Substring(0, 1021) + \"...\"; } } return string.Format(CultureInfo.CurrentCulture, @string, args); } return @string; } You notice this piece: if (text != null && text.Length > 1024) { args[i] = text.Substring(0, 1021) + \"...\"; } What ever you throw at it, it will rewrite the arguments to limit its length to 1024 characters. As the ResponseHeaders collection write all its name/values to a single string, once it is handed to SR.GetString all that effort and memory is wasted. When SR.GetString is involved in the logging, you'll risk having your data truncated. The only way to know where that happens is by inspecting the assembly or the .Net Reference Source The maxdatasize setting in the config is used when the Dump method of the internal Logging class is called. However, you'll not have to guess if the data is truncated because it will tell you that in the log file: int maxDumpSizeSetting = Logging.GetMaxDumpSizeSetting(traceSource); if (length > maxDumpSizeSetting) { Logging.PrintLine(traceSource, TraceEventType.Verbose, 0, string.Concat(new string[] { \"(printing \", maxDumpSizeSetting.ToString(NumberFormatInfo.InvariantInfo), \" out of \", length.ToString(NumberFormatInfo.InvariantInfo), \")\" })); length = maxDumpSizeSetting; }",
    "severity": "medium",
    "tags": [
      "c#"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "38189689",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1214,
      "stackoverflow_creation_date": "2016-07-04T17:23:29.160Z"
    },
    "idempotency_key": "stackoverflow-38189689",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Clean application memory in swift",
    "body": "I've an XCode project programmed in swift with a registration/connection process. When you're connected, even if the app restarted you don't repeat this process until you click on \"log out\" button. I've noticed that if you follow the registration/connection process when you start the app, memory is about 500Mb whereas if the app started with a connected user, memory is about 140Mb. Registration process is composed of 3 view controllers connected with custom segue. Access to logged in view is made by following code : func switchRootViewController(rootViewController: UIViewController, animated: Bool, completion: (() -> Void)?) { if animated { UIView.transitionWithView(window!, duration: 0.5, options: .TransitionCrossDissolve, animations: { let oldState: Bool = UIView.areAnimationsEnabled() UIView.setAnimationsEnabled(false) self.window!.rootViewController = rootViewController UIView.setAnimationsEnabled(oldState) }, completion: { (finished: Bool) -> () in if (completion != nil) { completion!() } }) } else { window!.rootViewController = rootViewController } } Where rootViewController is replace by the logged in view I want to load as you can see here : func goToNextView() { let storyboard = UIStoryboard(name: \"Main\", bundle: nil) let homeViewController = storyboard.instantiateViewControllerWithIdentifier(\"conversationViewController\") as!ConversationViewController homeViewController.currentUser = self.currentUser let appDelegate = UIApplication.sharedApplication().delegate as! AppDelegate appDelegate.switchRootViewController(home, animated: true, completion: nil) } However it doesn't clean the memory. Here a screen of memory allocation : So my question is : is it possible to \"kill\" some view controller in order to clean the memory ? Here for example it can be obvious to \"kill\" registration process views when you're connected. Thank you for answers.",
    "code": "func switchRootViewController(rootViewController: UIViewController, animated: Bool, completion: (() -&gt; Void)?)\n    {\n        if animated\n        {\n            UIView.transitionWithView(window!, duration: 0.5, options: .TransitionCrossDissolve, animations:\n                {\n                let oldState: Bool = UIView.areAnimationsEnabled()\n                UIView.setAnimationsEnabled(false)\n                self.window!.rootViewController = rootViewController\n                UIView.setAnimationsEnabled(oldState)\n                }, completion: { (finished: Bool) -&gt; () in\n                    if (completion != nil)\n                    {\n                        completion!()\n                    }\n            })\n        }\n        else\n        {\n            window!.rootViewController = rootViewController\n        }\n    }\n\n\nfunc goToNextView()\n    {\n        let storyboard = UIStoryboard(name: \"Main\", bundle: nil)\n        let homeViewController = storyboard.instantiateViewControllerWithIdentifier(\"conversationViewController\") as!ConversationViewController\n        homeViewController.currentUser = self.currentUser\n        let appDelegate = UIApplication.sharedApplication().delegate as! AppDelegate\n        appDelegate.switchRootViewController(home, animated: true, completion: nil)\n    }\n",
    "severity": "medium",
    "tags": [
      "ios",
      "xcode",
      "swift",
      "memory-management"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "38219228",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1846,
      "stackoverflow_creation_date": "2016-07-06T08:14:49.067Z"
    },
    "idempotency_key": "stackoverflow-38219228",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Object pool pattern with FS2",
    "body": "I am trying to see what's the best way to implement the Object Pool pattern in FS2. Let's say we have the following MyPrinter definition: class MyPrinter { import scala.util.Random.nextInt Thread.sleep(5000 + nextInt(1000)) def doStuff(s: String): Unit = { println(s) Thread.sleep(1000 + nextInt(1000)) } def releaseResources(): Unit = println(\"Releasing resources\") } What is the best way to make a Stream[Task, MyPrinter] backed by a pool of n printers? When the stream ends, all the underlying resources should be properly released by calling releaseResources. Bonus question: if a printer ends for some reason, is it possible to create a new one in the pool?",
    "code": "class MyPrinter {\n  import scala.util.Random.nextInt\n  Thread.sleep(5000 + nextInt(1000))\n  def doStuff(s: String): Unit = {\n    println(s)\n    Thread.sleep(1000 + nextInt(1000))\n  }\n  def releaseResources(): Unit =\n    println(\"Releasing resources\")\n}\n\n\nMyPrinter\n\nStream[Task, MyPrinter]\n\nn\n\nreleaseResources\n\n# Solution Code:\nimplicit val S = Strategy.fromFixedDaemonPool(10, \"pooling\")\n\nval queue = new LinkedBlockingDeque[MyPrinter]()\nqueue.add(new MyPrinter)\nqueue.add(new MyPrinter)\n\nStream.repeatEval(Task.delay(queue.take()))\n  .map(p =&gt; try p.doStuff(\"test\") finally {\n    p.releaseResources()\n    queue.put(p)\n  })\n  .take(10)\n  .runLog\n  .unsafeRun()\n\n\nconcurrent.join(10)(\n  Stream\n    .repeatEval(Task.delay(queue.take()))\n    .map(p =&gt; Stream.eval(Task.delay(p.doStuff(\"test\"))\n    .map(_ =&gt; p /* done with this resource */)))\n).map(p =&gt; { p.releaseResources(); queue.put(p) /* release resource */})\n .take(10).runLog.unsafeRun()\n",
    "resolution": "Not sure that I got the question, but how about this implicit val S = Strategy.fromFixedDaemonPool(10, \"pooling\") val queue = new LinkedBlockingDeque[MyPrinter]() queue.add(new MyPrinter) queue.add(new MyPrinter) Stream.repeatEval(Task.delay(queue.take())) .map(p => try p.doStuff(\"test\") finally { p.releaseResources() queue.put(p) }) .take(10) .runLog .unsafeRun() Queue can be replaced with https://commons.apache.org/proper/commons-pool/ Upd: If you want to process each \"resource\" concurrently: concurrent.join(10)( Stream .repeatEval(Task.delay(queue.take())) .map(p => Stream.eval(Task.delay(p.doStuff(\"test\")) .map(_ => p /* done with this resource */))) ).map(p => { p.releaseResources(); queue.put(p) /* release resource */}) .take(10).runLog.unsafeRun()",
    "severity": "low",
    "tags": [
      "scala",
      "fs2"
    ],
    "metadata": {
      "language": "scala",
      "stackoverflow_question_id": "38335931",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 396,
      "stackoverflow_creation_date": "2016-07-12T17:57:30.410Z"
    },
    "idempotency_key": "stackoverflow-38335931",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Programmatically check the build configuration",
    "body": "Using the DEBUG configuration, I can switch behaviour on and off using this type of syntax: #if DEBUG Console.WriteLine(\"Debug\"); #else Console.WriteLine(\"Not Debug\"); #endif However, if I set up a different configuration, say: TEST then this doesn't work: #if TEST Console.WriteLine(\"Test\"); #else Console.WriteLine(\"Not Test\"); #endif Is there a way to check these?",
    "code": "#if DEBUG\n    Console.WriteLine(\"Debug\");\n#else\n    Console.WriteLine(\"Not Debug\");\n#endif\n\n\n#if TEST\n    Console.WriteLine(\"Test\");\n#else\n    Console.WriteLine(\"Not Test\");\n#endif\n\n\n# Solution Code:\nDEBUG\n\nDebug\n\nRelease",
    "resolution": "The DEBUG constant is a special one, and there's a setting for each project in each configuration whether it should be defined. The default is that it's on in Debug and off in Release, but it's completely configurable - open the properties page for a project and look under \"Build\", and there's a checkbox there saying \"Define DEBUG constant.\" Thus, defining a new build configuration, does not automatically give you any other compile constants for free. But that doesn't mean you can't create them manually. To create a compile constant, add it to the list of \"Conditional Compilation Symbols\" - but make sure to do so in the correct build configuration.",
    "severity": "high",
    "tags": [
      "c#",
      ".net",
      "c-preprocessor",
      "preprocessor-directive"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "38396377",
      "stackoverflow_score": 18,
      "stackoverflow_view_count": 13061,
      "stackoverflow_creation_date": "2016-07-15T12:40:29.763Z"
    },
    "idempotency_key": "stackoverflow-38396377",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C# Image.Save AccessViolationException",
    "body": "I have a function, which builds image from pixel array and saves it to file. It works without problems when called once. But if I call it twice (after it's fully executed for the first time), the function throws AccessViolationException. private void saveImage(byte[] bmpBytes) { Debug.Print(\"Image saving started\"); var arrayHandle = System.Runtime.InteropServices.GCHandle.Alloc(bmpBytes, System.Runtime.InteropServices.GCHandleType.Pinned); System.Drawing.Image bmp = new System.Drawing.Bitmap(960, 540, 960 * 3, PixelFormat.Format24bppRgb, arrayHandle.AddrOfPinnedObject()); bmp.Save(\"img.bmp\"); Debug.Print(\"Image saving completed\"); } So, bmp.Save(\"img.bmp\"); line throws the exception. I've also tried saving data in MemoryStream, but with the same result: success on the first call and AccessViolationException every other time. What the reason can be?",
    "code": "private void saveImage(byte[] bmpBytes)\n{\n    Debug.Print(\"Image saving started\");\n\n    var arrayHandle = System.Runtime.InteropServices.GCHandle.Alloc(bmpBytes, System.Runtime.InteropServices.GCHandleType.Pinned);\n    System.Drawing.Image bmp = new System.Drawing.Bitmap(960, 540, 960 * 3, PixelFormat.Format24bppRgb, arrayHandle.AddrOfPinnedObject());\n    bmp.Save(\"img.bmp\");\n\n    Debug.Print(\"Image saving completed\");\n}\n\n\nAccessViolationException\n\nbmp.Save(\"img.bmp\");\n\nMemoryStream\n\nAccessViolationException\n\n# Solution Code:\nint width = 960;\nint height = 540;\n\nvoid Main()\n{\n    var arr = Enumerable.Range(0, width * height * 3).Select(i =&gt;\n    {\n        i = i / 3;\n        var y = i / width;\n        var x = i - y * width;\n        var xd = x / (double)(width - 1);\n        var yd = y / (double)(height - 1);\n        return (byte)((xd + yd) / 2d * 255);\n    }).ToArray();\n    saveImage2(arr);\n}\n\nprivate void saveImage2(byte[] bmpBytes)\n{\n    if (bmpBytes == null)\n        throw new ArgumentNullException(\"bmpBytes\");\n\n    if (bmpBytes.Length != width * height * 3)\n        throw new ArgumentException(\"Invalid array length\", \"bmpBytes\");\n\n    var output = new Bitmap(width, height, PixelFormat.Format24bppRgb);\n    var rect = new Rectangle(0, 0, width, height);\n    var bmpData = output.LockBits(rect, ImageLockMode.WriteOnly, output.PixelFormat);\n\n    // Stride must be taken into account.\n    // Actual row length may be greater then required due to GDI's internal memory alignment.\n    // It is an error to copy entire array as-is, need to copy row-by-row.\n    var rowBytes = width * Image.GetPixelFormatSize(output.PixelFormat) / 8;\n    var ptr = bmpData.Scan0;\n    for (var i = 0; i &lt; height; i++)\n    {\n        Marshal.Copy(bmpBytes, i * rowBytes, ptr, rowBytes);\n        ptr += bmpData.Stride;\n    }\n\n    output.UnlockBits(bmpData);\n\n    output.Save(@\"d:\\temp\\img.bmp\");\n}\n\n\nFree",
    "resolution": "This error states that you are trying to access protected memory. Most likely you passed an array of a lesser size than your image required. It's similar to buffer overflow. So when GDI tries to read memory with your image, it goes beyond what's allocated for your process memory and a failure occurs. By the way, behavior is undefined. For example, if that piece of memory is already allocated to a process you will read whatever it has and receive no error. Most likely in this case you will see the image with some noise. Are you sure you're passing an array of valid length? Try to add corresponding checks. And do not forget to free allocated memory - GCHandle must be released with Free when it is no longer needed. Just ran that code and got no errors: int width = 960; int height = 540; void Main() { var arr = Enumerable.Range(0, width * height * 3).Select(i => { i = i / 3; var y = i / width; var x = i - y * width; var xd = x / (double)(width - 1); var yd = y / (double)(height - 1); return (byte)((xd + yd) / 2d * 255); }).ToArray(); saveImage2(arr); } private void saveImage2(byte[] bmpBytes) { if (bmpBytes == null) throw new ArgumentNullException(\"bmpBytes\"); if (bmpBytes.Length != width * height * 3) throw new ArgumentException(\"Invalid array length\", \"bmpBytes\"); var output = new Bitmap(width, height, PixelFormat.Format24bppRgb); var rect = new Rectangle(0, 0, width, height); var bmpData = output.LockBits(rect, ImageLockMode.WriteOnly, output.PixelFormat); // Stride must be taken into account. // Actual row length may be greater then required due to GDI's internal memory alignment. // It is an error to copy entire array as-is, need to copy row-by-row. var rowBytes = width * Image.GetPixelFormatSize(output.PixelFormat) / 8; var ptr = bmpData.Scan0; for (var i = 0; i < height; i++) { Marshal.Copy(bmpBytes, i * rowBytes, ptr, rowBytes); ptr += bmpData.Stride; } output.UnlockBits(bmpData); output.Save(@\"d:\\temp\\img.bmp\"); }",
    "severity": "medium",
    "tags": [
      "c#",
      "image",
      "memory-management",
      "access-violation"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "38459633",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4851,
      "stackoverflow_creation_date": "2016-07-19T13:10:40.717Z"
    },
    "idempotency_key": "stackoverflow-38459633",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Mancala game in Java - using int array in while loop",
    "body": "I am working on a Mancala game project. In case you are interested in the GUI, here it is: https://s32.postimg.org/hxzmhxt1x/mancala.png I am working on a method that will cause the computer player to select the pit closest to their store that will allow it to capture stones from the human player. A capture is made when the last stone lands in an empty pit directly across from a pit with stones on the other side. I am including the relevant method below. The parameter \"theBoard\" is an int array to represent all of the pits including the stores and how many stones are contained in each pit of the array. Here is the code I have for the method: public int selectPit(int[] theBoard) { int pitChoice = theBoard.length - 2; while (pitChoice >= theBoard.length / 2) { int destinationPit = theBoard[pitChoice] + pitChoice; int opposite = (theBoard.length - 2) - destinationPit; if (theBoard[destinationPit] == 0 && theBoard[opposite] > 0 && destinationPit <= (theBoard.length - 2) && destinationPit > (theBoard.length / 2)) { return pitChoice; } else { pitChoice--; } } return this.selectClosestPitWithStones(theBoard); } The last line that calls the selectClosestPitWithStones is a call to a backup method just in case there are no options that would allow a capture. The functionality of this backup method works as intended. However, my selectPit method keeps returning incorrect results or \"ArrayIndexOutOfBoundsException: -1\". I am using JUnit tests that are correctly written to test this method. Here is one such test: @Test public void testCapturePit0() { this.setUp(); int[] theBoard = {6, 0, 0, 0, 2, 0, 0, 0}; assertEquals(4, this.strategy.selectPit(theBoard)); } Any ideas on what could be causing incorrect results?",
    "code": "public int selectPit(int[] theBoard) {\n        int pitChoice = theBoard.length - 2;        \n\n        while (pitChoice &gt;= theBoard.length / 2) {\n            int destinationPit = theBoard[pitChoice] + pitChoice;\n            int opposite = (theBoard.length - 2) - destinationPit;\n            if (theBoard[destinationPit] == 0 &amp;&amp; theBoard[opposite] &gt; 0 &amp;&amp; destinationPit &lt;= (theBoard.length - 2) &amp;&amp; destinationPit &gt; (theBoard.length / 2)) {\n                return pitChoice;\n            } else {\n                pitChoice--;\n            }\n        }\n        return this.selectClosestPitWithStones(theBoard);\n    }\n\n\n@Test\n    public void testCapturePit0() {\n        this.setUp();\n        int[] theBoard = {6, 0, 0, 0, 2, 0, 0, 0};\n        assertEquals(4, this.strategy.selectPit(theBoard));\n    } \n\n\n# Solution Code:\nint destinationPit = theBoard[pitChoice] + pitChoice;\n\nint destinationPit = theBoard[pitChoice] + pitChoice;",
    "resolution": "Debug it and verify that variables have the values you expect. The problem at the moment is one of the variables going out of the bounds of the array. Remember that array indexes go from 0 to length minus one. Both int destinationPit = theBoard[pitChoice] + pitChoice; and int destinationPit = theBoard[pitChoice] + pitChoice; could go out of bounds depending on the input or the state of the array.",
    "severity": "medium",
    "tags": [
      "java",
      "arrays",
      "junit",
      "while-loop"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "38465879",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1561,
      "stackoverflow_creation_date": "2016-07-19T18:24:57.330Z",
      "stackoverflow_owner": "user5942759"
    },
    "idempotency_key": "stackoverflow-38465879",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "\"FINDSTR:\" Error when using special characters in a call function (Batch)",
    "body": "I'm making a game, and want to color the dialogues different characters say. Everything works well, but only if I'm not using '?' in the call function used to color the text (Comes up as a FINDSTR error). However, I can use an exclamation point with no problems. Any ideas on how to fix this? Just in case, I've included the code that colors the text. EDIT: This part goes at the very top of the batch file. for /F \"tokens=1,2 delims=#\" %%a in ('\"prompt #$H#$E# & echo on & for %%b in (1) do rem\"') do ( set \"DEL=%%a\" ) This part goes at the bottom of the batch file. :colorEcho echo off <nul set /p \".=%DEL%\" > \"%~2\" findstr /v /a:%1 /R \"^$\" \"%~2\" nul del \"%~2\" > nul 2>&1i This is the error that comes up: The filename, directory name, or volume label syntax is incorrect. FINDSTR: Cannot open 'When did it get so dark outside?' It was morning a few minutes ago...",
    "code": " for /F \"tokens=1,2 delims=#\" %%a in ('\"prompt #$H#$E# &amp; echo on &amp; for %%b in (1) do     rem\"') do (\n set \"DEL=%%a\"\n)\n\n\n:colorEcho\necho off\n&lt;nul set /p \".=%DEL%\" &gt; \"%~2\"\nfindstr /v /a:%1 /R \"^$\" \"%~2\" nul\ndel \"%~2\" &gt; nul 2&gt;&amp;1i  \n\n\nThe filename, directory name, or volume label syntax is incorrect.\nFINDSTR: Cannot open  'When did it get so dark outside?' It was morning a few minutes ago...\n\n\n# Solution Code:\n@echo off\nsetlocal EnableDelayedExpansion\nfor /F \"tokens=1,2 delims=#\" %%a in ('\"prompt #$H#$E# &amp; echo on &amp; for %%b in (1) do rem\"') do (\nset \"DEL=%%a\"\n)\n\nrem Prepare a file \"X\" with only one dot\n&lt;nul &gt; X set /p \".=.\"\n\n\n:colorEcho\nset \"param=^%~2\" !\nset \"param=!param:\"=\\\"!\"\nfindstr /p /A:%1 \".\" \"!param!\\..\\X\" nul\n&lt;nul set /p \".=%DEL%%DEL%%DEL%%DEL%%DEL%%DEL%%DEL%\"\nexit /b\n\n\n?\n\n*\n\n:\n\n\\\n\n/\n\n\"\n\n&lt;\n\n&gt;\n\n|\n\ncall :colorEcho [color] \"Text\"\n\ncall :colorEcho C \"Red\"\n\n\\..\\\n\n!",
    "resolution": "Ok, I did some digging around and found a way around this. It's possible to use special characters such as ?, *, :, \\, /, \", <, >, and |. Put this at the very top of the batch file: @echo off setlocal EnableDelayedExpansion for /F \"tokens=1,2 delims=#\" %%a in ('\"prompt #$H#$E# & echo on & for %%b in (1) do rem\"') do ( set \"DEL=%%a\" ) rem Prepare a file \"X\" with only one dot <nul > X set /p \".=.\" Put this at the very bottom of the batch file: :colorEcho set \"param=^%~2\" ! set \"param=!param:\"=\\\"!\" findstr /p /A:%1 \".\" \"!param!\\..\\X\" nul <nul set /p \".=%DEL%%DEL%%DEL%%DEL%%DEL%%DEL%%DEL%\" exit /b Use this format to color the text: call :colorEcho [color] \"Text\" E.g. call :colorEcho C \"Red\" This uses the rule for valid path/filenames. If a \\..\\ is in the path the prefixed element will be removed completely and it's not necessary that this element contains only valid filename characters. EDIT: Not able to use !. Will investigate further.",
    "severity": "medium",
    "tags": [
      "batch-file"
    ],
    "metadata": {
      "stackoverflow_question_id": "38600587",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1217,
      "stackoverflow_creation_date": "2016-07-26T22:01:22.407Z"
    },
    "idempotency_key": "stackoverflow-38600587",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "mypy \"invalid type\" error",
    "body": "I'm trying to implement type annotations in a current project, and am receiving errors from mypy that I don't understand. I'm using Python 2.7.11, and newly installed mypy in my base virtualenv. The following program runs fine: from __future__ import print_function from types import StringTypes from typing import List, Union, Callable def f(value): # type: (StringTypes) -> StringTypes return value if __name__ == '__main__': print(\"{}\".format(f('some text'))) print(\"{}\".format(f(u'some unicode text'))) But running mypy --py2 -s mypy_issue.py returns the following: mypy_issue.py: note: In function \"f\": mypy_issue.py:8: error: Invalid type \"types.StringTypes\" The above types appear to be in Typeshed... the mypy documentation says \"Mypy incorporates the typeshed project, which contains library stubs for the Python builtins and the standard library. \"... Not sure what \"incorporates\" means - do I need to do something to \"activate\", or provide a path to, Typeshed? Do I need to download and install(?) Typeshed locally?",
    "code": "from __future__ import print_function\nfrom types import StringTypes\nfrom typing import List, Union, Callable\n\ndef f(value):     # type: (StringTypes) -&gt; StringTypes\n    return value\n\nif __name__ == '__main__':\n    print(\"{}\".format(f('some text')))\n    print(\"{}\".format(f(u'some unicode text')))\n\n\nmypy_issue.py: note: In function \"f\":\nmypy_issue.py:8: error: Invalid type \"types.StringTypes\"\n\n\nmypy --py2 -s mypy_issue.py\n\n# Solution Code:\nStringTypes = (StringType, UnicodeType)\n\n\nfrom types import StringType, UnicodeType\nfrom typing import Union\n\nMyStringTypes = Union[StringType, UnicodeType]\n\ndef f(value):     \n    # type: (MyStringTypes) -&gt; MyStringTypes\n    return value\n\n\ntypes.StringTypes\n\nStringTypes\n\nStringType\n\nUnicodeType\n\nStringTypes\n\ntyping.AnyStr\n\nAnyStr = TypeVar('AnyStr', bytes, unicode)\n\nAnyStr\n\ntyping",
    "resolution": "The problem is that types.StringTypes is defined to be a sequence of types -- the formal type signature on Typeshed is: StringTypes = (StringType, UnicodeType) This corresponds to the official documentation, which states that the StringTypes constant is \"a sequence containing StringType and UnicodeType\"... So then, this explains the error you're getting -- StringTypes isn't an actual class (it's probably a tuple) and so mypy doesn't recognize it as a valid type. There are several possible fixes for this. The first way would probably be to use typing.AnyStr which is defined as AnyStr = TypeVar('AnyStr', bytes, unicode). Although AnyStr is included within the typing module, it is, unfortunately, somewhat poorly documented as of now -- you can find more detailed information about what it does within the mypy docs. A slightly less cleaner way of expression this would be to do: from types import StringType, UnicodeType from typing import Union MyStringTypes = Union[StringType, UnicodeType] def f(value): # type: (MyStringTypes) -> MyStringTypes return value This also works, but is less desirable because the return type is no longer obligated to be the same thing as the input type which is usually not what you want when working with different kinds of strings. And as for typeshed -- it's bundled by default when you install mypy. In an ideal world, you shouldn't need to worry about typeshed at all, but since mypy is in beta and so typeshed is being frequently updated to account for missing modules or incorrect type annotations, it might be worth installing mypy directly from the Github repo and installing typeshed locally if you find yourself frequently running into bugs with typeshed.",
    "severity": "medium",
    "tags": [
      "python",
      "mypy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "38836357",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 6012,
      "stackoverflow_creation_date": "2016-08-08T18:44:04.630Z"
    },
    "idempotency_key": "stackoverflow-38836357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Include html in another html file",
    "body": "I have a html \"head\" template and a navigation template that I want to include in all my other html files for my site. I found this post: Include another HTML file in a HTML file And my question is... what if it's the header that I want to include? So for example, I have the following file structure: /var/www/includes/templates/header.html navigation.html header.html might look like this: <!DOCTYPE html> <html lang=\"en\"> <head> <meta charset=\"utf-8\"> <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"> <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"> <meta name=\"description\" content=\"\"> <meta name=\"author\" content=\"\"> <title>Test Portal</title> </head> In a case like this, can I still follow the example in the other post where they create a div and populate the div via jquery?",
    "code": " /var/www/includes/templates/header.html\n                             navigation.html\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n    &lt;meta name=\"description\" content=\"\"&gt;\n    &lt;meta name=\"author\" content=\"\"&gt;\n\n    &lt;title&gt;Test Portal&lt;/title&gt;\n\n &lt;/head&gt;\n\n\n# Solution Code:\n&lt;html&gt; \n  &lt;head&gt; \n    &lt;script src=\"jquery.js\"&gt;&lt;/script&gt; \n    &lt;script&gt; \n    $(function(){\n      $(\"#DivContent\").load(\"another_file.html\"); \n    });\n    &lt;/script&gt; \n  &lt;/head&gt; \n\n  &lt;body&gt; \n     &lt;div id=\"DivContent\"&gt;&lt;/div&gt;\n  &lt;/body&gt; \n&lt;/html&gt;\n\n\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;script src=\"http://www.w3schools.com/lib/w3data.js\"&gt;&lt;/script&gt;\n\n&lt;body&gt;\n\n&lt;div w3-include-html=\"content.html\"&gt;&lt;/div&gt; \n\n&lt;script&gt;\nw3IncludeHTML();\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n&lt;!--#include virtual=\"a.html\" --&gt; \n\n\n$(\"#DivContent\").load(\"yourFile.html\");",
    "resolution": "Method 1: I think it would be best way to include an html content/file into another html file using jQuery. You can simply include the jQuery.js and load the HTML file using $(\"#DivContent\").load(\"yourFile.html\"); For example <html> <head> <script src=\"jquery.js\"></script> <script> $(function(){ $(\"#DivContent\").load(\"another_file.html\"); }); </script> </head> <body> <div id=\"DivContent\"></div> </body> </html> Method 2: There are no such tags available to include the file but there are some third party methods available like this: <!DOCTYPE html> <html> <script src=\"http://www.w3schools.com/lib/w3data.js\"></script> <body> <div w3-include-html=\"content.html\"></div> <script> w3IncludeHTML(); </script> </body> </html> Method 3: Some people also used server-side-includes (SSI): <!--#include virtual=\"a.html\" -->",
    "severity": "high",
    "tags": [
      "javascript",
      "jquery",
      "html",
      "include"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "38837835",
      "stackoverflow_score": 34,
      "stackoverflow_view_count": 128771,
      "stackoverflow_creation_date": "2016-08-08T20:19:36.960Z"
    },
    "idempotency_key": "stackoverflow-38837835",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Does JavaScript have an expression form of switch?",
    "body": "When getting a value conditionally, I like to use the ternary operator (?:) so that I can have const variable declarations: // Better const foo = x ? 'bar' : 'goo'; // Worse var foo; if (x) { foo = 'bar'; } else { foo = 'goo'; } I would like to do the same for switch statements. I can use a series of nested ?:, but this is quite cumbersome and does not scale well: const foo = x === 1 ? 'bar' : (x === 2 ? 'goo' : 'zoo'); I could even use a closure, but this is also verbose: const foo = (() => { switch(x) { case 1: return 'bar'; case 2: return 'goo'; default: return 'zoo'; } })(); Is there a switch expression in JavaScript?",
    "code": "// Better\nconst foo = x ? 'bar' : 'goo';\n\n// Worse\nvar foo;\nif (x) {\n    foo = 'bar';\n} else {\n    foo = 'goo';\n}\n\n\nconst foo = x === 1 ? 'bar' : (x === 2 ? 'goo' : 'zoo');\n\n\nconst foo = (() =&gt; {\n  switch(x) {\n    case 1: \n        return 'bar';\n    case 2: \n        return 'goo';\n    default:\n        return 'zoo';\n  }\n})();\n\n\n?:\n\nconst\n\nswitch\n\n?:\n\nswitch\n\n# Solution Code:\n  function getSomething(input)\n  {\n     if(input == 1)\n         // return for case 1\n     if(input == 2)\n         // return for case 2\n      ...\n  }\n",
    "resolution": "TL;DR: There is no such expression The ternary is possible The way you have done is with the ternary would be the correct approach in this case. But as you could see, it indeed does not scale well. But using a function seems better A fix would be to use a function that returns you a value. function getSomething(input) { if(input == 1) // return for case 1 if(input == 2) // return for case 2 ... }",
    "severity": "low",
    "tags": [
      "javascript",
      "switch-statement",
      "ternary-operator"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "38853059",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 79,
      "stackoverflow_creation_date": "2016-08-09T14:06:14.400Z"
    },
    "idempotency_key": "stackoverflow-38853059",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Disable gmail api request caching",
    "body": "I am using javascript gmail api to fetch email threads using threadId. I am using the following code: var request = gapi.client.gmail.users.threads.get({ 'userId': 'me', 'id': '123abc' }); request.execute(function(response) { var messages = response.messages; }); For the first time for a particular threadId it's working fine. And for further requests its returning the same number of messages even if the thread has more emails. But the response gives correct number of emails if I am clearing the browser cache of the gapi url from the Chrome developer tools - network option. Example: -> Executed the request with a threadId '123abc', presently the thread has 3 emails in it. The response for the request is correct with length 3 for response.messages. -> Then I sent one more email as reply to this thread, then executed the same request again. But the response is still the old one with length 3 for response.messages. -> Tried running the same request many times but getting the same response. -> Then cleared the browser cache for this url and requested again, now the response is correct with length 4 for response.messages. Tried adding following meta tag in the html page, but didn't work: <meta http-equiv='cache-control' content='no-cache'> <meta http-equiv='expires' content='0'> <meta http-equiv='pragma' content='no-cache'> Tried adding a random number with the page url and the request, but didn't work. Tried adding random number with gapi script link, but didn't work <script src=\"https://apis.google.com/js/client.js?onload=AuthIt&cacheBurster=123123123123\"></script> Is there any code to disable gapi request caching or any other method to solve this issue?",
    "code": "var request = gapi.client.gmail.users.threads.get({\n  'userId': 'me',\n  'id': '123abc'\n});\n\nrequest.execute(function(response) {\n\n    var messages = response.messages;\n\n});\n\n\n&lt;meta http-equiv='cache-control' content='no-cache'&gt;\n&lt;meta http-equiv='expires' content='0'&gt;\n&lt;meta http-equiv='pragma' content='no-cache'&gt;\n\n\nresponse.messages\n\nresponse.messages\n\nresponse.messages\n\n&lt;script src=\"https://apis.google.com/js/client.js?onload=AuthIt&amp;cacheBurster=123123123123\"&gt;&lt;/script&gt;\n\n# Solution Code:\nvar request = gapi.client.gmail.users.threads.get({\n  'userId': 'me',\n  'id': '123abc',\n  'metadataHeaders': Math.random()\n});\n",
    "resolution": "Finally got the solution by adding a random number to 'metadataHeaders' field in the gapi request: var request = gapi.client.gmail.users.threads.get({ 'userId': 'me', 'id': '123abc', 'metadataHeaders': Math.random() });",
    "severity": "low",
    "tags": [
      "javascript",
      "browser-cache",
      "gmail-api",
      "google-api-js-client"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "38869484",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 746,
      "stackoverflow_creation_date": "2016-08-10T09:32:42.327Z"
    },
    "idempotency_key": "stackoverflow-38869484",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can't Hide Status Bar—Swift 3,",
    "body": "I usually hide the status bar with override func prefersStatusBarHidden() -> Bool { return true } but Xcode is giving me an error, saying \"Method does not override anything from its superclass\". If I delete the override, Xcode gives a different error: \"Method 'prefersStatusBarHidden()' with Objective-C selector 'prefersStatusBarHidden' conflicts with getter for 'prefersStatusBarHidden' from superclass 'UIViewController' with the same Objective-C selector\" I also have \"Hide Status Bar\" checked in my Target's general settings: but the status bar still shows up. I found this method in another Stack Overflow answer UIApplication.shared.setStatusBarHidden(true, with: .none) but that doesn't hide the status bar either. In Xcode 8 Beta 1, I used the first and second methods, which worked to hide the status bar (the first method did not return an error). What can I do now to hide the status bar, with Xcode 8 Beta 4? Note: The status bar shows up on Simulator devices and physical devices, all running iOS 10.",
    "code": "override func prefersStatusBarHidden() -&gt; Bool {\n    return true\n}\n\n\nUIApplication.shared.setStatusBarHidden(true, with: .none)\n\n\noverride\n\n# Solution Code:\noverride var prefersStatusBarHidden: Bool {  \n    return true  \n}  \n\n\noverride var prefersStatusBarHidden: Bool { true }\n",
    "resolution": "We need to override the property itself on Swift 3 (this is new in Xcode 8 Beta 4): override var prefersStatusBarHidden: Bool { return true } updated Swift 5+ override var prefersStatusBarHidden: Bool { true } for another example also you can get here and here For more on what this change is and why it's necessary, see Matt's great answer on this.",
    "severity": "high",
    "tags": [
      "ios",
      "swift",
      "xcode",
      "swift3"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "38876249",
      "stackoverflow_score": 48,
      "stackoverflow_view_count": 25842,
      "stackoverflow_creation_date": "2016-08-10T14:28:09.090Z"
    },
    "idempotency_key": "stackoverflow-38876249",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python OpenCV cv2.VideoWriter Error",
    "body": "I'm trying to export the data coming from a thermal camera but I get an error message that says error: /build/opencv-ISmtkH/opencv-2.4.9.1+dfsg/modules/highgui/src/cap_ffmpeg.cpp:238: error: (-215) image->depth == 8 in function writeFrame Can someone look at what I'm doing and tell me what I'm doing wrong? I followed and example pretty closely so I don't understand what this error means or why it's happening. o = camera.add_overlay(np.getbuffer(a), size=(320,240), layer=3, alpha=int(alpha), crop=(0,0,80,60), vflip=flip_v) filename = time.strftime(\"%Y.%m.%d %H.%M.%S\", time.localtime()) + \".avi\" fourcc = cv2.cv.CV_FOURCC('I','4','2','0') out = cv2.VideoWriter(filename, fourcc, fps, (width, height)) try: time.sleep(0.2) # give the overlay buffers a chance to initialize with Lepton(device) as l: last_nr = 0 while True: _,nr = l.capture(lepton_buf) out.write(lepton_buf) if nr == last_nr: # no need to redo this frame continue last_nr = nr cv2.normalize(lepton_buf, lepton_buf, 0, 65535, cv2.NORM_MINMAX) np.right_shift(lepton_buf, 8, lepton_buf) a[:lepton_buf.shape[0], :lepton_buf.shape[1], :] = lepton_buf o.update(np.getbuffer(a)) except Exception: traceback.print_exc() finally: camera.remove_overlay(o)",
    "code": "error: /build/opencv-ISmtkH/opencv-2.4.9.1+dfsg/modules/highgui/src/cap_ffmpeg.cpp:238: error: (-215) image-&gt;depth == 8 in function writeFrame\n\n\no = camera.add_overlay(np.getbuffer(a), size=(320,240), layer=3, alpha=int(alpha), crop=(0,0,80,60), vflip=flip_v)\n\nfilename = time.strftime(\"%Y.%m.%d  %H.%M.%S\", time.localtime()) + \".avi\"\nfourcc =  cv2.cv.CV_FOURCC('I','4','2','0')\nout = cv2.VideoWriter(filename, fourcc, fps, (width, height))\n\ntry:\n  time.sleep(0.2) # give the overlay buffers a chance to initialize\n  with Lepton(device) as l:\n    last_nr = 0\n    while True:\n      _,nr = l.capture(lepton_buf)\n\n      out.write(lepton_buf)\n\n      if nr == last_nr:\n        # no need to redo this frame\n        continue\n      last_nr = nr\n      cv2.normalize(lepton_buf, lepton_buf, 0, 65535, cv2.NORM_MINMAX)\n      np.right_shift(lepton_buf, 8, lepton_buf)\n      a[:lepton_buf.shape[0], :lepton_buf.shape[1], :] = lepton_buf\n      o.update(np.getbuffer(a))\nexcept Exception:\n  traceback.print_exc()\nfinally:\n  camera.remove_overlay(o)\n\n\n# Solution Code:\nout.write(lepton_buf)\n\nout.write(np.uint8(lepton_buf))",
    "resolution": "You need to change out.write(lepton_buf) to out.write(np.uint8(lepton_buf)) What you're trying to write isn't a number and that's what's confusing it.",
    "severity": "high",
    "tags": [
      "python",
      "opencv",
      "camera",
      "thermal-printer"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "38880740",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 12172,
      "stackoverflow_creation_date": "2016-08-10T18:15:21.383Z"
    },
    "idempotency_key": "stackoverflow-38880740",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "org.springframework.security.authentication.InternalAuthenticationServiceException",
    "body": "I was trying to integrate Spring MVC application with Spring Security, but after logging in i'm getting this exception; org.springframework.security.authentication.InternalAuthenticationServiceException This is my spring-security.xml <beans:beans xmlns=\"http://www.springframework.org/schema/security\" xmlns:beans=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd\"> <http auto-config=\"true\"> <intercept-url pattern=\"/\" access=\"hasRole('USER')\"/> <intercept-url pattern=\"/student/**\" access=\"hasRole('ADMIN')\"/> <intercept-url pattern=\"/subject/**\" access=\"hasRole('ADMIN')\"/> <form-login login-page=\"/login\" username-parameter=\"username\" password-parameter=\"password\" authentication-success-handler-ref=\"customSuccessHandler\" authentication-failure-url=\"/accessdenied\"/> <csrf disabled=\"true\"/> </http> <authentication-manager> <authentication-provider user-service-ref=\"customUserDetailsService\"/> </authentication-manager> <beans:bean id=\"customUserDetailsService\" class=\"com.scc.security.service.CustomUserDetailsService\"/> <beans:bean id=\"customSuccessHandler\" class=\"com.scc.security.service.CustomSuccessHandler\"/> </beans:beans> This is my web.xml <?xml version=\"1.0\" encoding=\"UTF-8\"?> <web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\" id=\"WebApp_ID\" version=\"3.0\"> <!-- Spring MVC --> <servlet> <servlet-name>scc</servlet-name> <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class> <init-param> <param-name>contextConfigLocation</param-name> <param-value>/WEB-INF/config/scc-servlet.xml</param-value> </init-param> <load-on-startup>1</load-on-startup> </servlet> <servlet-mapping> <servlet-name>scc</servlet-name> <url-pattern>/</url-pattern> </servlet-mapping> <listener> <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class> </listener> <!-- Loads Spring Security config file --> <context-param> <param-name>contextConfigLocation</param-name> <param-value>/WEB-INF/spring-security.xml</param-value> </context-param> <!-- Spring Security --> <filter> <filter-name>springSecurityFilterChain</filter-name> <filter-class>org.springframework.web.filter.DelegatingFilterProxy</filter-class> </filter> <filter-mapping> <filter-name>springSecurityFilterChain</filter-name> <url-pattern>/*</url-pattern> </filter-mapping> </web-app> And these are the dependencies for spring security that i'm having in pom.xml; <!-- Spring Security --> <dependency> <groupId>org.springframework.security</groupId> <artifactId>spring-security-core</artifactId> <version>4.0.1.RELEASE</version> </dependency> <dependency> <groupId>org.springframework.security</groupId> <artifactId>spring-security-web</artifactId> <version>4.0.1.RELEASE</version> </dependency> <dependency> <groupId>org.springframework.security</groupId> <artifactId>spring-security-config</artifactId> <version>4.0.1.RELEASE</version> </dependency> For achieving role based login i'm using the following customSuccessHandler; import java.io.IOException; import java.util.ArrayList; import java.util.Collection; import java.util.List; import javax.servlet.http.HttpServletRequest; import javax.servlet.http.HttpServletResponse; import org.springframework.security.core.Authentication; import org.springframework.security.core.GrantedAuthority; import org.springframework.security.web.DefaultRedirectStrategy; import org.springframework.security.web.RedirectStrategy; import org.springframework.security.web.authentication.SimpleUrlAuthenticationSuccessHandler; import org.springframework.stereotype.Component; @Component public class CustomSuccessHandler extends SimpleUrlAuthenticationSuccessHandler{ private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy(); @Override protected void handle(HttpServletRequest request, HttpServletResponse response, Authentication authentication) throws IOException { String targetUrl = determineTargetUrl(authentication); if (response.isCommitted()) { System.out.println(\"Can't redirect\"); return; } redirectStrategy.sendRedirect(request, response, targetUrl); } protected String determineTargetUrl(Authentication authentication) { String url=\"\"; Collection<? extends GrantedAuthority> authorities = authentication.getAuthorities(); List<String> roles = new ArrayList<String>(); for (GrantedAuthority a : authorities) { roles.add(a.getAuthority()); } if (isAdmin(roles)) { url = \"/student\"; } else { url=\"/accessDenied\"; } return url; } public void setRedirectStrategy(RedirectStrategy redirectStrategy) { this.redirectStrategy = redirectStrategy; } protected RedirectStrategy getRedirectStrategy() { return redirectStrategy; } private boolean isAdmin(List<String> roles) { if (roles.contains(\"ROLE_ADMIN\")) { return true; } return false; } } This is my login.jsp page; <c:url var=\"loginUrl\" value=\"/login\"></c:url> <form:form commandName=\"userForm\" action=\"${loginUrl}\" method=\"post\" accept-charset=\"utf-8\" autocomplete=\"off\"> <div class=\"form-group\"> <form:input path=\"username\" id=\"username\" class=\"form-control\" type=\"text\" placeholder=\"Enter Username\" name=\"username\" autocomplete=\"off\"/> <form:errors path=\"username\" cssStyle=\"color: #ff0000;\"/> </div> <div class=\"form-group\"> <form:input path=\"password\" id=\"password\" class=\"form-control\" type=\"password\" placeholder=\"Enter Password\" name=\"password\" autocomplete=\"off\"/> <form:errors path=\"password\" cssStyle=\"color: #ff0000;\"/> </div> <a class=\"forgetPassword\" href=\"#\">Forgot Password ?</a> <div class=\"form-group mt-md\"> <input class=\"btn btn-block btn-primary\" type=\"submit\" value=\"SIGN IN\" name=\"submit\"> </div> </form:form> But after logging in, i'm getting the following exception. org.springframework.security.authentication.InternalAuthenticationServiceException at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:125) at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:143) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:167) at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:192) at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:93) at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53) at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91) at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330) at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213) at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176) at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346) at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262) at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243) at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210) at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222) at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123) at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502) at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171) at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99) at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953) at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118) at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408) at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023) at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589) at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:745) Caused by: java.lang.NullPointerException at com.scc.security.service.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:30) at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:114) ... 36 more And finally this is my customUserDetailsService; import java.util.ArrayList; import java.util.List; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.security.core.GrantedAuthority; import org.springframework.security.core.authority.SimpleGrantedAuthority; import org.springframework.security.core.userdetails.UserDetails; import org.springframework.security.core.userdetails.UserDetailsService; import org.springframework.security.core.userdetails.UsernameNotFoundException; import org.springframework.stereotype.Service; import org.springframework.transaction.annotation.Transactional; import com.scc.model.RoleModel; import com.scc.model.UserModel; import com.scc.model.UserRoleModel; import com.scc.security.model.SpringSecurityUser; import com.scc.service.UserService; @Service(\"customUserDetailsService\") public class CustomUserDetailsService implements UserDetailsService { @Autowired private UserService userService; @Transactional(readOnly=true) public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException { UserModel userModel = userService.loadUserByUsername(username); System.out.println(\"User : \" + userModel); if( userModel == null ) { System.out.println(\"User not found\"); throw new UsernameNotFoundException(\"Username not found\"); } return new SpringSecurityUser(userModel.getUserId(), userModel.getUsername(), userModel.getPassword(), null, null, null, getGrantedAuthorities(userModel)); } private List<GrantedAuthority> getGrantedAuthorities(UserModel user) { List<GrantedAuthority> authorities = new ArrayList<GrantedAuthority>(); UserRoleModel userRoleModel = user.getUserRoleModel(); RoleModel roleModel = userRoleModel.getRoleModel(); authorities.add(new SimpleGrantedAuthority(\"ROLE_\" + roleModel.getRoleCode())); System.out.print(\"authorities :\" + authorities); return authorities; } } To me everything look fine but obviously its not, can any one please tell me whats wrong with above codes.",
    "code": "org.springframework.security.authentication.InternalAuthenticationServiceException\n\n\n&lt;beans:beans xmlns=\"http://www.springframework.org/schema/security\"\n    xmlns:beans=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.1.xsd\n    http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-4.0.xsd\"&gt;\n\n    &lt;http auto-config=\"true\"&gt;\n        &lt;intercept-url pattern=\"/\" access=\"hasRole('USER')\"/&gt;\n        &lt;intercept-url pattern=\"/student/**\" access=\"hasRole('ADMIN')\"/&gt;\n        &lt;intercept-url pattern=\"/subject/**\" access=\"hasRole('ADMIN')\"/&gt;\n        &lt;form-login  login-page=\"/login\"\n                     username-parameter=\"username\"\n                     password-parameter=\"password\"\n                     authentication-success-handler-ref=\"customSuccessHandler\"\n                     authentication-failure-url=\"/accessdenied\"/&gt;\n        &lt;csrf disabled=\"true\"/&gt;\n    &lt;/http&gt;\n\n    &lt;authentication-manager&gt;\n        &lt;authentication-provider user-service-ref=\"customUserDetailsService\"/&gt;\n    &lt;/authentication-manager&gt;\n\n    &lt;beans:bean id=\"customUserDetailsService\" class=\"com.scc.security.service.CustomUserDetailsService\"/&gt;\n    &lt;beans:bean id=\"customSuccessHandler\" class=\"com.scc.security.service.CustomSuccessHandler\"/&gt;\n\n&lt;/beans:beans&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns=\"http://java.sun.com/xml/ns/javaee\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"\n    id=\"WebApp_ID\" version=\"3.0\"&gt;\n\n    &lt;!-- Spring MVC --&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;scc&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/config/scc-servlet.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;scc&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;!-- Loads Spring Security config file --&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring-security.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;!-- Spring Security --&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n\n&lt;/web-app&gt;\n\n\n&lt;!-- Spring Security --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.web.DefaultRedirectStrategy;\nimport org.springframework.security.web.RedirectStrategy;\nimport org.springframework.security.web.authentication.SimpleUrlAuthenticationSuccessHandler;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class CustomSuccessHandler extends SimpleUrlAuthenticationSuccessHandler{\n\n    private RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    protected void handle(HttpServletRequest request, \n      HttpServletResponse response, Authentication authentication) throws IOException {\n        String targetUrl = determineTargetUrl(authentication);\n\n        if (response.isCommitted()) {\n            System.out.println(\"Can't redirect\");\n            return;\n        }\n\n        redirectStrategy.sendRedirect(request, response, targetUrl);\n    }\n\n    protected String determineTargetUrl(Authentication authentication) {\n        String url=\"\";\n\n        Collection&lt;? extends GrantedAuthority&gt; authorities =  authentication.getAuthorities();\n\n        List&lt;String&gt; roles = new ArrayList&lt;String&gt;();\n\n        for (GrantedAuthority a : authorities) {\n            roles.add(a.getAuthority());\n        }\n\n        if (isAdmin(roles)) {\n            url = \"/student\";\n        } else {\n            url=\"/accessDenied\";\n        }\n\n        return url;\n    }\n\n    public void setRedirectStrategy(RedirectStrategy redirectStrategy) {\n        this.redirectStrategy = redirectStrategy;\n    }\n    protected RedirectStrategy getRedirectStrategy() {\n        return redirectStrategy;\n    }\n\n    private boolean isAdmin(List&lt;String&gt; roles) {\n        if (roles.contains(\"ROLE_ADMIN\")) {\n            return true;\n        }\n        return false;\n    }\n\n}\n\n\n&lt;c:url var=\"loginUrl\" value=\"/login\"&gt;&lt;/c:url&gt;\n        &lt;form:form commandName=\"userForm\" action=\"${loginUrl}\" method=\"post\" accept-charset=\"utf-8\" autocomplete=\"off\"&gt;\n\n                &lt;div class=\"form-group\"&gt;\n\n                    &lt;form:input path=\"username\" id=\"username\" class=\"form-control\" type=\"text\" placeholder=\"Enter Username\" name=\"username\" autocomplete=\"off\"/&gt;\n                    &lt;form:errors path=\"username\" cssStyle=\"color: #ff0000;\"/&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group\"&gt;\n\n                    &lt;form:input path=\"password\" id=\"password\" class=\"form-control\" type=\"password\" placeholder=\"Enter Password\" name=\"password\" autocomplete=\"off\"/&gt;\n                    &lt;form:errors path=\"password\" cssStyle=\"color: #ff0000;\"/&gt;\n                &lt;/div&gt;\n\n                &lt;a class=\"forgetPassword\" href=\"#\"&gt;Forgot Password ?&lt;/a&gt;\n\n                &lt;div class=\"form-group mt-md\"&gt;\n\n                    &lt;input class=\"btn btn-block btn-primary\" type=\"submit\" value=\"SIGN IN\" name=\"submit\"&gt;\n\n                &lt;/div&gt;\n\n        &lt;/form:form&gt;\n\n\norg.springframework.security.authentication.InternalAuthenticationServiceException\n    at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:125)\n    at org.springframework.security.authentication.dao.AbstractUserDetailsAuthenticationProvider.authenticate(AbstractUserDetailsAuthenticationProvider.java:143)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:167)\n    at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:192)\n    at org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter.attemptAuthentication(UsernamePasswordAuthenticationFilter.java:93)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:217)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:120)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:53)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:91)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:213)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:176)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:99)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1023)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:589)\n    at org.apache.tomcat.util.net.AprEndpoint$SocketProcessor.run(AprEndpoint.java:1852)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NullPointerException\n    at com.scc.security.service.CustomUserDetailsService.loadUserByUsername(CustomUserDetailsService.java:30)\n    at org.springframework.security.authentication.dao.DaoAuthenticationProvider.retrieveUser(DaoAuthenticationProvider.java:114)\n    ... 36 more\n\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.scc.model.RoleModel;\nimport com.scc.model.UserModel;\nimport com.scc.model.UserRoleModel;\nimport com.scc.security.model.SpringSecurityUser;\nimport com.scc.service.UserService;\n\n@Service(\"customUserDetailsService\")\npublic class CustomUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    private UserService userService;\n\n    @Transactional(readOnly=true)\n    public UserDetails loadUserByUsername(String username)\n            throws UsernameNotFoundException {\n       UserModel userModel = userService.loadUserByUsername(username);\n        System.out.println(\"User : \" + userModel);\n        if( userModel == null ) {\n            System.out.println(\"User not found\");\n            throw new UsernameNotFoundException(\"Username not found\");\n        }\n        return new SpringSecurityUser(userModel.getUserId(), userModel.getUsername(), userModel.getPassword(), null, null, null, \n                getGrantedAuthorities(userModel));\n    }\n\n    private List&lt;GrantedAuthority&gt; getGrantedAuthorities(UserModel user) {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;GrantedAuthority&gt;();\n\n        UserRoleModel userRoleModel = user.getUserRoleModel();\n        RoleModel roleModel = userRoleModel.getRoleModel();\n\n        authorities.add(new SimpleGrantedAuthority(\"ROLE_\" + roleModel.getRoleCode()));\n\n        System.out.print(\"authorities :\" + authorities);\n        return authorities;\n    }\n\n}\n",
    "severity": "high",
    "tags": [
      "java",
      "spring",
      "maven",
      "spring-mvc",
      "spring-security"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "39003177",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 11157,
      "stackoverflow_creation_date": "2016-08-17T17:45:35.523Z"
    },
    "idempotency_key": "stackoverflow-39003177",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "create textboxes and Insert data at page loading",
    "body": "I would like to know how can I create textboxes and insert data at page load. What I'm trying to do is open an array string from a database, create the textboxes and populate the textboxes at page load. I have an array string from an ms sql database that looks something like this test,test;bla;bla2;test44;test55;test66 I separated each individual array with ; and I would like to create textboxes and insert the values into a textbox, one-by-one, so the end result would look like this: I don't know how to do it using the code below. Whatever I try I mess up the add/remove functions or I end up cloning all textboxes when the plus button is clicked. THANKS SEE CODE BELOW OR GO TO https://jsfiddle.net/kj3cwww0 <script type='text/javascript'>//<![CDATA[ $(function() { var clone = function(tmpl) { return $((tmpl.clone()).html()) }, $template = $('#template_add_form'), formArray = [ clone($template) ], // init array with first row $formEntries = $('#entries'); $(document).on('click', '.btn-add', function() { formArray.push(clone($template)); updateForm(); // set focus to adding row = last element in array $(formArray).last()[0] .find('input') .first() .focus(); }); // remove not working yet $(document).on('click', '.btn-remove', function(evt) { var id; // iterate over formArray to find the currently clicked row $.each(formArray, function(index, row) { if ( row.has(evt.currentTarget).length == 1 ) { id = index; // click target in current row return false; // exit each loop } }); formArray.splice(id, 1); updateForm(); }); var updateForm = function() { // redraw form --> problem values are cleared!! var lastIndex = formArray.length - 1, name; // stores current name of input $formEntries.empty(); // clear entries from DOM becaue we re-create them $.each(formArray, function(index, $input) { // update names of inputs and add index $.each($input.find('input'), function(inputIndex, input) { name = $(input).attr('name').replace(/\\d+/g, ''); // remove ids $(input).attr('name', name); }); if (index < lastIndex) { // not last element --> change button to minus $input.find('.btn-add') .removeClass('btn-add').addClass('btn-remove') .removeClass('btn-success').addClass('btn-danger') .html('<span class=\"glyphicon glyphicon-minus\"></span>'); } $formEntries.append($input); }); }; updateForm(); // first init. of form }); //]]> </script> <script id=\"template_add_form\" type=\"text/template\"> <div class = \"entry input-group col-xs-9\"> <div class = \"col-xs-3\"> <input class = \"form-control\" name=\"balance\" type = \"text\" placeholder = \"Loan Balance\" required = \"required\"/> </div> <div class=\"col-xs-3\"> <input class=\"form-control\" name=\"rate\" type=\"text\" placeholder=\"Interest Rate\" required=\"required\" /> </div> <div class=\"col-xs-3\"> <input class=\"form-control\" name=\"payment\" type=\"text\" placeholder=\"Minimum Payment\" required=\"required\"/> </div> <span class=\"input-group-btn col-xs-1\"> <button class=\"btn btn-success btn-add\" type=\"button\"> <span class=\"glyphicon glyphicon-plus\"></span > </button> </span> </div> </script> <div class=\"container\"> <div class=\"row\"> <div class=\"control-group\" id=\"fields\"> <label class=\"control-label\" for=\"field1\"> <h3>Enter your loans below</h3> </label> <div class=\"controls\"> <div class=\"entry input-group col-xs-3\">How much extra money can you pay per month? <input class=\"form-control\" name=\"extra\" type=\"text\" placeholder=\"Extra/month\"> </div> <br> <div id=\"entries\"></div> </div> <div class=\"input-group-btn\"> <div class=\"col-xs-5\"> <button type=\"submit\" class=\"btn btn-primary\">Submit</button> </div> </div> <br> <small>Press <span class=\"glyphicon glyphicon-plus gs\"></span> to add another loan</small> </div> </div> </div> FORM SUBMIT CODE: <body> <form id=\"loanform\" name=\"loanform\" action=\"test5.asp\" role=\"form\" autocomplete=\"off\" method=\"post\"> <INPUT type=\"hidden\" name=\"action\" value=\"submit\"> <div class=\"container\"> ......the rest of the existing code goes here... </div> </form> </body> CALLING IT VIA CLASSIC ASP: if strComp(Request.Form(\"action\"), \"submit\")= 0 then Response.write(\"IT WORKS\") end if",
    "code": "test,test;bla;bla2;test44;test55;test66\n\n\n&lt;script type='text/javascript'&gt;//&lt;![CDATA[\n $(function() {\n    var clone = function(tmpl) {\n            return $((tmpl.clone()).html())\n        },\n        $template = $('#template_add_form'),\n        formArray = [ clone($template) ], // init array with first row\n        $formEntries = $('#entries');\n\n    $(document).on('click', '.btn-add', function() {\n        formArray.push(clone($template));\n        updateForm();\n\n        // set focus to adding row = last element in array\n        $(formArray).last()[0]\n            .find('input')\n            .first()\n            .focus();\n    });\n\n    // remove not working yet\n\n    $(document).on('click', '.btn-remove', function(evt) {\n        var id;\n\n        // iterate over formArray to find the currently clicked row\n        $.each(formArray, function(index, row) {\n            if ( row.has(evt.currentTarget).length == 1 ) {\n                id = index; // click target in current row\n                return false; // exit each loop\n            }\n        });\n        formArray.splice(id, 1);\n        updateForm();\n    });\n\n    var updateForm = function() {\n        // redraw form --&gt; problem values are cleared!!\n        var lastIndex = formArray.length - 1,\n            name; // stores current name of input\n\n        $formEntries.empty(); // clear entries from DOM becaue we re-create them\n        $.each(formArray, function(index, $input) {\n            // update names of inputs and add index\n            $.each($input.find('input'), function(inputIndex, input) {\n                name = $(input).attr('name').replace(/\\d+/g, ''); // remove ids\n                $(input).attr('name', name);\n            });\n\n            if (index &lt; lastIndex) {\n                // not last element --&gt; change button to minus\n                $input.find('.btn-add')\n                     .removeClass('btn-add').addClass('btn-remove')\n                     .removeClass('btn-success').addClass('btn-danger')\n                     .html('&lt;span class=\"glyphicon glyphicon-minus\"&gt;&lt;/span&gt;');\n            }\n\n            $formEntries.append($input);\n        });\n    };\n\n    updateForm(); // first init. of form\n\n});\n//]]&gt; \n\n&lt;/script&gt;\n\n\n&lt;script id=\"template_add_form\" type=\"text/template\"&gt;\n    &lt;div class = \"entry input-group col-xs-9\"&gt;\n        &lt;div class = \"col-xs-3\"&gt;\n            &lt;input class = \"form-control\" name=\"balance\" type = \"text\" \n                   placeholder = \"Loan Balance\" required = \"required\"/&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-xs-3\"&gt;\n            &lt;input class=\"form-control\" name=\"rate\" type=\"text\" placeholder=\"Interest Rate\" required=\"required\" /&gt;\n        &lt;/div&gt;\n        &lt;div class=\"col-xs-3\"&gt;\n            &lt;input class=\"form-control\" name=\"payment\" type=\"text\" placeholder=\"Minimum Payment\" required=\"required\"/&gt;\n        &lt;/div&gt; \n        &lt;span class=\"input-group-btn col-xs-1\"&gt;\n            &lt;button class=\"btn btn-success btn-add\" type=\"button\"&gt;\n                &lt;span class=\"glyphicon glyphicon-plus\"&gt;&lt;/span &gt;\n            &lt;/button&gt;\n        &lt;/span&gt;\n    &lt;/div&gt;\n&lt;/script&gt;\n\n\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"row\"&gt;\n        &lt;div class=\"control-group\" id=\"fields\"&gt;\n            &lt;label class=\"control-label\" for=\"field1\"&gt;\n                 &lt;h3&gt;Enter your loans below&lt;/h3&gt;\n\n            &lt;/label&gt;\n            &lt;div class=\"controls\"&gt;\n                    &lt;div class=\"entry input-group col-xs-3\"&gt;How much extra money can you pay per month?\n                        &lt;input class=\"form-control\" name=\"extra\" type=\"text\" placeholder=\"Extra/month\"&gt;\n                    &lt;/div&gt;\n                    &lt;br&gt;\n                    &lt;div id=\"entries\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"input-group-btn\"&gt;\n                &lt;div class=\"col-xs-5\"&gt;\n                    &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;br&gt; &lt;small&gt;Press &lt;span class=\"glyphicon glyphicon-plus gs\"&gt;&lt;/span&gt; to add another loan&lt;/small&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;body&gt;\n&lt;form id=\"loanform\" name=\"loanform\" action=\"test5.asp\" role=\"form\" autocomplete=\"off\" method=\"post\"&gt;\n&lt;INPUT type=\"hidden\" name=\"action\" value=\"submit\"&gt;\n\n&lt;div class=\"container\"&gt;\n......the rest of the existing code goes here...\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;/body&gt;\n\n\nif strComp(Request.Form(\"action\"), \"submit\")= 0 then\n Response.write(\"IT WORKS\")\nend if\n\n\n;\n\n# Solution Code:\nvar addToForm = function (stringValue) {\n    values = stringValue.split(\";\");\n    for (var i = 0; i &lt; values.length; i+=3) {\n        var newLine = clone($template);\n        var fields = newLine.find('.form-control');\n        var toAdd = Math.min(values.length-i, 3);\n        for (var j = 0; j &lt; toAdd; j++) {\n             fields[j].value = values[i+j];\n        }\n        formArray.push(newLine);\n    }\n }\n\n\naddToForm(\"2;3;4;5;6;7\");\nformArray.push(clone($template));\nupdateForm();\n\n\n&lt;script&gt;\n\n&lt;div&gt;\n\nstyle=\"display: none;\"\n\n&lt;div id=\"template_add_form\" type=\"text/template\" style=\"display: none;\"&gt;\n\nformArray = [  ],\n\n$('#template_add_form').remove();\n\n$template = $('&lt;div&gt;').addClass(\"entry input-group col-xs-9\").append(clone($('#template_add_form'))),",
    "resolution": "Here is a solution that works : $(function() { var clone = function(tmpl) { return $((tmpl.clone()).html()) }, $template = $('<div>').addClass(\"entry input-group col-xs-9\").append(clone($('#template_add_form'))), formArray = [ ], // init array enpty $formEntries = $('#entries'); $(document).on('click', '.btn-add', function() { formArray.push(clone($template)); updateForm(); // set focus to adding row = last element in array $(formArray).last()[0] .find('input') .first() .focus(); }); // remove not working yet $(document).on('click', '.btn-remove', function(evt) { var id; // iterate over formArray to find the currently clicked row $.each(formArray, function(index, row) { if ( row.has(evt.currentTarget).length == 1 ) { id = index; // click target in current row return false; // exit each loop } }); formArray.splice(id, 1); updateForm(); }); var addToForm = function (stringValue) { values = stringValue.split(\";\"); for (var i = 0; i < values.length; i+=3) { var newLine = clone($template); var fields = newLine.find('.form-control'); var toAdd = Math.min(values.length-i, 3); for (var j = 0; j < toAdd; j++) { fields[j].value = values[i+j]; } formArray.push(newLine); } } var updateForm = function() { // redraw form --> problem values are cleared!! var lastIndex = formArray.length - 1, name; // stores current name of input $formEntries.empty(); // clear entries from DOM becaue we re-create them $.each(formArray, function(index, $input) { // update names of inputs and add index $.each($input.find('input'), function(inputIndex, input) { name = $(input).attr('name').replace(/\\d+/g, ''); // remove ids $(input).attr('name', name); }); if (index < lastIndex) { // not last element --> change button to minus $input.find('.btn-add') .removeClass('btn-add').addClass('btn-remove') .removeClass('btn-success').addClass('btn-danger') .html('<span class=\"glyphicon glyphicon-minus\"></span>'); } $formEntries.append($input); }); }; addToForm(\"2;3;4;5;6;7\"); formArray.push(clone($template)); updateForm(); $('#template_add_form').remove(); }); .entry:not(:first-of-type) { margin-top: 10px; } .glyphicon { font-size: 12px; } <script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"></script> <body> <link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css\" rel=\"stylesheet\"/> <script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js\"></script> <form id=\"loanform\" name=\"loanform\" action=\"test5.asp\" role=\"form\" autocomplete=\"off\" method=\"post\"> <INPUT type=\"hidden\" name=\"action\" value=\"submit\"> <div class=\"container\"> <div class=\"row\"> <div class=\"control-group\" id=\"fields\"> <label class=\"control-label\" for=\"field1\"> <h3>Enter your loans below</h3> </label> <div class=\"controls\"> <div class=\"entry input-group col-xs-3\">How much extra money can you pay per month? <input class=\"form-control\" name=\"extra\" type=\"text\" placeholder=\"Extra/month\"> </div> <br> <div id=\"entries\"></div> </div> <div class=\"input-group-btn\"> <div class=\"col-xs-5\"> <button type=\"submit\" class=\"btn btn-primary\">Submit</button> </div> </div> <br> <small>Press <span class=\"glyphicon glyphicon-plus gs\"></span> to add another loan</small> </div> </div> </div> <div id=\"template_add_form\" type=\"text/template\" style=\"display: none;\"> <div class = \"entry input-group col-xs-9\"> <div class = \"col-xs-3\"> <input class = \"form-control\" name=\"balance\" type = \"text\" placeholder = \"Loan Balance\" required = \"required\"/> </div> <div class=\"col-xs-3\"> <input class=\"form-control\" name=\"rate\" type=\"text\" placeholder=\"Interest Rate\" required=\"required\" /> </div> <div class=\"col-xs-3\"> <input class=\"form-control\" name=\"payment\" type=\"text\" placeholder=\"Minimum Payment\" required=\"required\"/> </div> <span class=\"input-group-btn col-xs-1\"> <button class=\"btn btn-success btn-add\" type=\"button\"> <span class=\"glyphicon glyphicon-plus\"></span > </button> </span> </div> </div> </form> </body> Here's what I changed to your code : Changed the template which was a <script> to a <div>, and hid it by default using style=\"display: none;\" : <div id=\"template_add_form\" type=\"text/template\" style=\"display: none;\"> Initialized array empty, so that we can put our own first line : formArray = [ ], Created a function to add a string in the form : var addToForm = function (stringValue) { values = stringValue.split(\";\"); for (var i = 0; i < values.length; i+=3) { var newLine = clone($template); var fields = newLine.find('.form-control'); var toAdd = Math.min(values.length-i, 3); for (var j = 0; j < toAdd; j++) { fields[j].value = values[i+j]; } formArray.push(newLine); } } At the end, I added some example data, then pushed an empty line and updated the form : addToForm(\"2;3;4;5;6;7\"); formArray.push(clone($template)); updateForm(); EDIT : I also deleted the template div at the end so that it isn't taken into the form when you submit : $('#template_add_form').remove(); To be able to do that, I cloned it entirely at start : $template = $('<div>').addClass(\"entry input-group col-xs-9\").append(clone($('#template_add_form'))),",
    "severity": "low",
    "tags": [
      "javascript",
      "jquery",
      "asp-classic"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "39103831",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 214,
      "stackoverflow_creation_date": "2016-08-23T14:20:52.343Z"
    },
    "idempotency_key": "stackoverflow-39103831",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "React - Why is input field still readonly (i.e. not editable) even though I've added onChange?",
    "body": "I know this question has been asked before, but I've tried all of solutions I could find, and after wasting days on this, I'm literally about cry. What am I doing wrong? The input field remains readonly and onChange won't fire despite my varied and increasingly desperate attempts to coax it into behaving like the most basic of text input fields. here's my code: import React, { Component, PropTypes } from 'react'; export default class Contact extends Component { constructor(props) { super(props); this.state = { name: '' }; } handleChange(e) { this.setState ({ name: e.target.value }); } render() { return ( <div> <form> <input type = \"text\" value = { this.state.name } onChange = { this.handleChange.bind(this) } /> </form> </div> ); } } EDIT: I just realized that it does work as expected as long as I add <Contact /> to a component that doesn't invoke componentDidMount(). It would be super helpful if someone could give a breakdown of why that would make input fields readonly, i.e. does invoking componentDidMount() somehow interfere with onChangeor setState? EDIT 2: componentDidMount() only appeared to be the issue because the components where I invoked it were the ones that contained transitions/animations which I'd attempted to layer using z-index. It turns out that a negative z-index on a parent div can disable an input field by preventing you from being able to click into the text field, even if the input appears completely unobscured.",
    "code": "import React, { Component, PropTypes } from 'react';\n\nexport default class Contact extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = { name: '' };\n        }\n\n    handleChange(e) {\n        this.setState ({ name: e.target.value });\n    }\n\n    render() {\n        return (\n          &lt;div&gt;\n              &lt;form&gt;    \n                  &lt;input\n                    type = \"text\"\n                    value = { this.state.name } \n                    onChange = { this.handleChange.bind(this) }\n                  /&gt;\n              &lt;/form&gt;\n          &lt;/div&gt;\n        );\n    }\n\n}\n\n\nreadonly\n\nonChange\n\n&lt;Contact /&gt;\n\ncomponentDidMount()\n\ncomponentDidMount()\n\nonChange\n\nsetState\n\ncomponentDidMount()\n\n# Solution Code:\nimport React, { Component, PropTypes } from 'react';\n\nexport default class Contact extends Component {\n\nconstructor(props) {\n    super(props);\n    this.state = { name: '' };\n    }\n\nhandleChange(e) {\n console.log(e.target.value); // make sure you are receiving the the value   \n this.setState ({ name: e.target.value });\n}\n\nrender() {\n    return (\n      &lt;div&gt;\n          &lt;form&gt;    \n              &lt;input\n                type = \"text\"\n                defaultValue = { this.state.name } // here write defaultValue instead of value\n                onChange = { this.handleChange.bind(this) }\n              /&gt;\n          &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\n\nvalue\n\ndefaultValue\n\nvalue",
    "resolution": "To, fixed this you need to replace value as defaultValue so that you can change the value property of input field import React, { Component, PropTypes } from 'react'; export default class Contact extends Component { constructor(props) { super(props); this.state = { name: '' }; } handleChange(e) { console.log(e.target.value); // make sure you are receiving the the value this.setState ({ name: e.target.value }); } render() { return ( <div> <form> <input type = \"text\" defaultValue = { this.state.name } // here write defaultValue instead of value onChange = { this.handleChange.bind(this) } /> </form> </div> ); } }",
    "severity": "medium",
    "tags": [
      "javascript",
      "reactjs",
      "meteor-react"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "39113461",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 9126,
      "stackoverflow_creation_date": "2016-08-24T02:24:45.580Z"
    },
    "idempotency_key": "stackoverflow-39113461",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "View Controller doesn't dealloc when perform segue",
    "body": "I have a problem in my apps that its memory increase constantly. So here is my app structure. I am using SWrevealViewController for slidemenu. Slidemenu - View Controller A - View Controller B - View Controller C My View Controller A consist of UICollectionView and ScrollView. When I perform segue from View Controller A to View Controller B, the memory is doing fine. But if I am going to View Controller A with slide menu, the memory increases. Here is my didSelectRowAtIndexPath on SWRevealViewController's table delegate. I am using performSegueWithIdentifier override func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) { if isLoggedIn { self.performSegueWithIdentifier(idSegueLoggedIn[indexPath.row], sender: self) } } Then I am going to View Controller B via slide menu and then going to View Controller A again, on that point memory increases constantly. It looks like my View Controller A that consist of UICollectionView doesn't release its object on memory. But if I remove my UICollectionView, my memory issue was dissapear and it runs well. So I think it was about my reference to UICollectionView. I already declared that with weak property but it does nothing. @IBOutlet weak var othersCollectionView: UICollectionView! I try to called deinit() in my View Controlle A but it doesn't called. Here is my memory usage graph, on each \"black arrow\", I move to View Controller A with slide menu. Pls let me know if I am doing something wrong. Thank you so much.",
    "code": "Slidemenu\n    - View Controller A\n    - View Controller B\n    - View Controller C\n\n\noverride func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {\n    if isLoggedIn {\n        self.performSegueWithIdentifier(idSegueLoggedIn[indexPath.row], sender: self)\n    }\n}\n\n\n@IBOutlet weak var othersCollectionView: UICollectionView!\n\n\nSWrevealViewController\n\nUICollectionView\n\nScrollView\n\ndidSelectRowAtIndexPath\n\nperformSegueWithIdentifier\n\nUICollectionView\n\nUICollectionView\n\nUICollectionView\n\nweak",
    "severity": "low",
    "tags": [
      "ios",
      "swift",
      "memory-management",
      "uicollectionview",
      "swrevealviewcontroller"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "39120090",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 793,
      "stackoverflow_creation_date": "2016-08-24T09:58:32.713Z"
    },
    "idempotency_key": "stackoverflow-39120090",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "`suffix-out` in Racket",
    "body": "I can use prefix-out to rename my exported identifiers to have all have a similar prefix. For example: #lang racket (provide (prefix-out mymod: (all-defined-out))) (define x 5) (define y 6) And now mymod:x and mymod:y should be bound to x and y inside of that file. Is there a similar way to add a suffix to all of the identifiers a module is exporting? So that I can do something like: #lang racket (provide (suffix-out -from-mymod (all-defined-out))) (define x 5) (define y 6) And now any module that required this one would have x-from-mymod and y-from-mymod bound to x and y in this module.",
    "code": "#lang racket\n(provide (prefix-out mymod: (all-defined-out)))\n(define x 5)\n(define y 6)\n\n\n#lang racket\n(provide (suffix-out -from-mymod (all-defined-out)))\n(define x 5)\n(define y 6)\n\n\nprefix-out\n\nmymod:x\n\nmymod:y\n\nx\n\ny\n\nx-from-mymod\n\ny-from-mymod\n\nx\n\ny\n\n# Solution Code:\nfiltered-out",
    "resolution": "You can use filtered-out for this purpose: (require (for-syntax racket/base racket/provide-transform syntax/parse) racket/provide) (define-syntax suffix-out (make-provide-transformer (lambda (stx modes) (syntax-parse stx [(_ suffix:id provide-spec) (expand-export #'(filtered-out (lambda (name) (string-append name (symbol->string 'suffix))) provide-spec) modes)]))))",
    "severity": "low",
    "tags": [
      "module",
      "racket"
    ],
    "metadata": {
      "stackoverflow_question_id": "39196461",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 127,
      "stackoverflow_creation_date": "2016-08-28T22:43:47.437Z"
    },
    "idempotency_key": "stackoverflow-39196461",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Storing pure python datetime.datetime in pandas DataFrame",
    "body": "Since matplotlib doesn't support eitherpandas.TimeStamp ornumpy.datetime64, and there are no simple workarounds, I decided to convert a native pandas date column into a pure python datetime.datetime so that scatter plots are easier to make. However: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31')]}) t.dtypes # date datetime64[ns], as expected pure_python_datetime_array = t.date.dt.to_pydatetime() # works fine t['date'] = pure_python_datetime_array # doesn't do what I hoped t.dtypes # date datetime64[ns] as before, no luck changing it I'm guessing pandas auto-converts the pure python datetime produced by to_pydatetime into its native format. I guess it's convenient behavior in general, but is there a way to override it?",
    "code": "t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31')]})\nt.dtypes # date    datetime64[ns], as expected\npure_python_datetime_array = t.date.dt.to_pydatetime() # works fine\nt['date'] = pure_python_datetime_array # doesn't do what I hoped\nt.dtypes # date    datetime64[ns] as before, no luck changing it\n\n\nmatplotlib\n\npandas.TimeStamp\n\nnumpy.datetime64\n\ndatetime.datetime\n\ndatetime\n\nto_pydatetime\n\n# Solution Code:\nIn [87]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')]})\n\nIn [88]: t.date.dt.to_pydatetime()\nOut[88]: \narray([datetime.datetime(2012, 12, 31, 0, 0),\n       datetime.datetime(2013, 12, 31, 0, 0)], dtype=object)\n\n\nIn [117]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')], 'sample_data': [1, 2]})\n\nIn [118]: t['date_int'] = t.date.astype(np.int64)\n\nIn [119]: t\nOut[119]: \n        date  sample_data             date_int\n0 2012-12-31            1  1356912000000000000\n1 2013-12-31            2  1388448000000000000\n\nIn [120]: t.plot(kind='scatter', x='date_int', y='sample_data')\nOut[120]: &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3c852662d0&gt;\n\nIn [121]: plt.show()\n\n\nIn [126]: t.plot(x='date', y='sample_data', style='.')\nOut[126]: &lt;matplotlib.axes._subplots.AxesSubplot at 0x7f3c850f5750&gt;\n\n\nIn [141]: import matplotlib.pyplot as plt\n\nIn [142]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')], 'sample_data': [100, 20000]})\n\nIn [143]: t\nOut[143]: \n        date  sample_data\n0 2012-12-31          100\n1 2013-12-31        20000\nIn [144]: plt.scatter(t.date.dt.to_pydatetime()  , t.sample_data)\nOut[144]: &lt;matplotlib.collections.PathCollection at 0x7f3c84a10510&gt;\n\nIn [145]: plt.show()\n\n\nt.date\n\ndatetime64",
    "resolution": "The use of to_pydatetime() is correct. In [87]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')]}) In [88]: t.date.dt.to_pydatetime() Out[88]: array([datetime.datetime(2012, 12, 31, 0, 0), datetime.datetime(2013, 12, 31, 0, 0)], dtype=object) When you assign it back to t.date, it automatically converts it back to datetime64 pandas.Timestamp is a datetime subclass anyway :) One way to do the plot is to convert the datetime to int64: In [117]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')], 'sample_data': [1, 2]}) In [118]: t['date_int'] = t.date.astype(np.int64) In [119]: t Out[119]: date sample_data date_int 0 2012-12-31 1 1356912000000000000 1 2013-12-31 2 1388448000000000000 In [120]: t.plot(kind='scatter', x='date_int', y='sample_data') Out[120]: <matplotlib.axes._subplots.AxesSubplot at 0x7f3c852662d0> In [121]: plt.show() Another workaround is (to not use scatter, but ...): In [126]: t.plot(x='date', y='sample_data', style='.') Out[126]: <matplotlib.axes._subplots.AxesSubplot at 0x7f3c850f5750> And, the last work around: In [141]: import matplotlib.pyplot as plt In [142]: t = pd.DataFrame({'date': [pd.to_datetime('2012-12-31'), pd.to_datetime('2013-12-31')], 'sample_data': [100, 20000]}) In [143]: t Out[143]: date sample_data 0 2012-12-31 100 1 2013-12-31 20000 In [144]: plt.scatter(t.date.dt.to_pydatetime() , t.sample_data) Out[144]: <matplotlib.collections.PathCollection at 0x7f3c84a10510> In [145]: plt.show() This has an issue at github, which is open as of now.",
    "severity": "high",
    "tags": [
      "python",
      "python-3.x",
      "datetime",
      "pandas"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "39278042",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 11379,
      "stackoverflow_creation_date": "2016-09-01T17:55:29.790Z"
    },
    "idempotency_key": "stackoverflow-39278042",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "EditText setCompoundDrawablesWithIntrinsicBounds() not working after setError()",
    "body": "I have an custom widget which has an clear button set as the right drawable using setCompoundDrawablesWithIntrinsicBounds() method. Now I need to add errors to the widget and I've tried to use the default functionality and rely on the setError() method. The issue I'm having is that after I set the error, my right drawable won't be shown again, even if I set it again afterwards. Does anyone encountered this issue and maybe found an solution to the problem? Thank you. LE: I forgot to mention that if I use setError(\"My error hint text\", null) instead of setError(\"Please choose an valid destination!\") everything works fine, but as you can guess the error icon won't be shown. LLE: This is my custom class which handles the display of the clear icon and the action for it. /** * Class of {@link android.widget.AutoCompleteTextView} that includes a clear (dismiss / close) button with a * OnClearListener to handle the event of clicking the button * <br/> * Created by ionut on 26.04.2016. */ public class ClearableAutoCompleteTextView extends AppCompatAutoCompleteTextView implements View.OnTouchListener { /** * The time(in milliseconds) used for transitioning between the supported states. */ private static final int TRANSITION_TIME = 500; /** * Flag for hide transition. */ private static final int TRANSITION_HIDE = 101; /** * Flag for show transition. */ private static final int TRANSITION_SHOW = 102; /** * Image representing the clear button. (will always be set to the right of the view). */ @DrawableRes private static int mImgClearButtonRes = R.drawable.ic_clear_dark; /** * Task with the role of showing the clear action button. */ private final Runnable showClearButtonRunnable = new Runnable() { @Override public void run() { Message msg = transitionHandler.obtainMessage(TRANSITION_SHOW); msg.sendToTarget(); } }; /** * Task with the role of hiding the clear action button. */ private final Runnable hideClearButtonRunnable = new Runnable() { @Override public void run() { Message msg = transitionHandler.obtainMessage(TRANSITION_HIDE); msg.sendToTarget(); } }; /** * Flag indicating if the default clear functionality should be disabled. */ private boolean mDisableDefaultFunc; // The default clear listener which will clear the input of any text private OnClearListener mDefaultClearListener = new OnClearListener() { @Override public void onClear() { getEditableText().clear(); setText(null); } }; /** * Touch listener which will receive any touch events that this view handles. */ private OnTouchListener mOnTouchListener; /** * Custom listener which will be notified when an clear event was made from the clear button. */ private OnClearListener onClearListener; /** * Transition drawable used when showing the clear action. */ private TransitionDrawable mTransitionClearButtonShow = null; /** * Transition drawable used when hiding the clear action. */ private TransitionDrawable mTransitionClearButtonHide = null; private AtomicBoolean isTransitionInProgress = new AtomicBoolean(false); private final Handler transitionHandler = new Handler(Looper.getMainLooper()) { @Override public void handleMessage(Message msg) { switch (msg.what) { case TRANSITION_HIDE: setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0); isTransitionInProgress.set(false); break; case TRANSITION_SHOW: setCompoundDrawablesWithIntrinsicBounds(0, 0, mImgClearButtonRes, 0); isTransitionInProgress.set(false); break; default: super.handleMessage(msg); } } }; /* Required methods, not used in this implementation */ public ClearableAutoCompleteTextView(Context context) { super(context); init(); } /* Required methods, not used in this implementation */ public ClearableAutoCompleteTextView(Context context, AttributeSet attrs, int defStyle) { super(context, attrs, defStyle); init(); } /* Required methods, not used in this implementation */ public ClearableAutoCompleteTextView(Context context, AttributeSet attrs) { super(context, attrs); init(); } @Override public boolean onTouch(View v, MotionEvent event) { if (getCompoundDrawables()[2] == null) { // Pass the touch event to other listeners, if none, the normal flow is resumed return null != mOnTouchListener && mOnTouchListener.onTouch(v, event); } // React only when the UP event is detected if (event.getAction() != MotionEvent.ACTION_UP) { return false; } // Detect the clear button area of touch int x = (int) event.getX(); int y = (int) event.getY(); int left = getWidth() - getPaddingRight() - getCompoundDrawables()[2].getIntrinsicWidth(); int right = getWidth(); boolean tappedX = x >= left && x <= right && y >= 0 && y <= (getBottom() - getTop()); if (tappedX) { // Allow clear events only when the transition is not in progress if (!isTransitionInProgress.get()) { if (!mDisableDefaultFunc) { // Call the default functionality only if it wasn't disabled mDefaultClearListener.onClear(); } if (null != onClearListener) { // Call the custom clear listener so that any member listening is notified of the clear event onClearListener.onClear(); } } } // Pass the touch event to other listeners, if none, the normal flow is resumed return null != mOnTouchListener && mOnTouchListener.onTouch(v, event); } @Override public void setOnTouchListener(OnTouchListener l) { // Instead of using the super, we manually handle the touch event (only one listener can exist normally at a // time) mOnTouchListener = l; } private void init() { // Set the bounds of the button setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0); if (getCompoundDrawablePadding() == 0) { // We want to have some default padding, in case no one is specified in the xml setCompoundDrawablePadding(Dimensions.dpToPx(getContext(), 5f)); } enableTransitionClearButton(); // if the clear button is pressed, fire up the handler. Otherwise do nothing super.setOnTouchListener(this); } @Override public void onRestoreInstanceState(Parcelable state) { super.onRestoreInstanceState(state); updateClearButton(); } @Override protected void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) { super.onTextChanged(text, start, lengthBefore, lengthAfter); updateClearButton(); } /** * When hiding/showing the clear button an transition drawable will be used instead of the default drawable res. */ public void enableTransitionClearButton() { mTransitionClearButtonShow = (TransitionDrawable) ContextCompat.getDrawable(getContext(), R.drawable.ic_clear_fade_in); mTransitionClearButtonHide = (TransitionDrawable) ContextCompat.getDrawable(getContext(), R.drawable.ic_clear_fade_out); mTransitionClearButtonShow.setCrossFadeEnabled(true); mTransitionClearButtonHide.setCrossFadeEnabled(true); } /** * When hiding/showing the clear button the default drawable res will be used instead of the transition drawable. */ @SuppressWarnings(\"unused\") public void disableTransitionClearButton() { mTransitionClearButtonShow = null; isTransitionInProgress.set(false); transitionHandler.removeCallbacks(hideClearButtonRunnable); transitionHandler.removeCallbacks(showClearButtonRunnable); } /** * Set an custom listener which will get notified when an clear event was triggered from the clear button. * * @param clearListener * The listener * @param disableDefaultFunc * {@code true} to disable the default clear functionality, usually meaning it will be * handled by the * calling member. {@code false} allow the default functionality of clearing the input. * * @see #setOnClearListener(OnClearListener) */ public void setOnClearListener(final OnClearListener clearListener, boolean disableDefaultFunc) { this.onClearListener = clearListener; this.mDisableDefaultFunc = disableDefaultFunc; } /** * Set an custom listener which will get notified when an clear event was triggered from the clear button. * * @param clearListener * The listener * * @see #setOnClearListener(OnClearListener, boolean) */ public void setOnClearListener(final OnClearListener clearListener) { setOnClearListener(clearListener, false); } /** * Disable the default functionality of the clear event - calling this won't allow for the input to be * automatically * cleared (it will give the ability to make custom implementations and react to the event before the clear). */ @SuppressWarnings(\"unused\") public void disableDefaultClearFunctionality() { mDisableDefaultFunc = true; } /** * Enable the default functionality of the clear event. Will automatically clear the input when the clear button is * clicked. */ @SuppressWarnings(\"unused\") public void enableDefaultClearFunctionality() { mDisableDefaultFunc = false; } /** * Automatically show/hide the clear button based on the current input detected. * <br/> * If there is no input the clear button will be hidden. If there is input detected the clear button will be shown. */ public void updateClearButton() { if (isEmpty()) { hideClearButton(); } else { showClearButton(); } } private boolean isEmpty() { if (null == getText()) { // Invalid editable text return true; } else if (TextUtils.isEmpty(getText().toString())) { // Empty return true; } else if (TextUtils.isEmpty(getText().toString().trim())) { // White spaces only return true; } return false; } /** * Hide the clear button. * <br/> * If an transition drawable was provided, it will be used to create an fade out effect, otherwise the default * drawable resource will be used. */ public void hideClearButton() { if (getCompoundDrawables()[2] == null) { // The clear button was already hidden - do nothing return; } if (null == mTransitionClearButtonHide) { setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0); return; } mTransitionClearButtonHide.resetTransition(); isTransitionInProgress.set(true); mTransitionClearButtonHide.startTransition(TRANSITION_TIME); setCompoundDrawablesWithIntrinsicBounds(null, null, mTransitionClearButtonHide, null); transitionHandler.removeCallbacks(showClearButtonRunnable); transitionHandler.removeCallbacks(hideClearButtonRunnable); transitionHandler.postDelayed(hideClearButtonRunnable, TRANSITION_TIME); } /** * Show the clear button. * <br/> * If an transition drawable was provided, it will be used to create an fade in effect, otherwise the default * drawable resource will be used. */ public void showClearButton() { if (getCompoundDrawables()[2] != null) { // The clear button was already set - do nothing return; } if (null == mTransitionClearButtonShow) { setCompoundDrawablesWithIntrinsicBounds(0, 0, mImgClearButtonRes, 0); return; } isTransitionInProgress.set(true); mTransitionClearButtonShow.startTransition(TRANSITION_TIME); setCompoundDrawablesWithIntrinsicBounds(null, null, mTransitionClearButtonShow, null); transitionHandler.removeCallbacks(hideClearButtonRunnable); transitionHandler.removeCallbacks(showClearButtonRunnable); transitionHandler.postDelayed(showClearButtonRunnable, TRANSITION_TIME); } /** * Custom contract which is used to notify any listeners that an clear event was triggered. */ public interface OnClearListener { /** * Clear event from the clear button triggered. */ void onClear(); } } When I want to display the error I use the following command: // Enable and show the error mClearView.requestFocus(); // we need to request focus, otherwise the error won't be shown mClearView.setError(\"Please choose an valid destination!\", null); If I use: mClearView.setError(\"Please choose an valid destination!\"), so that the error icon to be shown, the clear button won't be shown anymore after this.",
    "code": "/**\n * Class of {@link android.widget.AutoCompleteTextView} that includes a clear (dismiss / close) button with a\n * OnClearListener to handle the event of clicking the button\n * &lt;br/&gt;\n * Created by ionut on 26.04.2016.\n */\npublic class ClearableAutoCompleteTextView extends AppCompatAutoCompleteTextView implements View.OnTouchListener {\n\n    /**\n     * The time(in milliseconds) used for transitioning between the supported states.\n     */\n    private static final int TRANSITION_TIME = 500;\n\n    /**\n     * Flag for hide transition.\n     */\n    private static final int TRANSITION_HIDE = 101;\n\n    /**\n     * Flag for show transition.\n     */\n    private static final int TRANSITION_SHOW = 102;\n\n    /**\n     * Image representing the clear button. (will always be set to the right of the view).\n     */\n    @DrawableRes\n    private static int mImgClearButtonRes = R.drawable.ic_clear_dark;\n\n    /**\n     * Task with the role of showing the clear action button.\n     */\n    private final Runnable showClearButtonRunnable = new Runnable() {\n        @Override\n        public void run() {\n            Message msg = transitionHandler.obtainMessage(TRANSITION_SHOW);\n            msg.sendToTarget();\n        }\n    };\n\n    /**\n     * Task with the role of hiding the clear action button.\n     */\n    private final Runnable hideClearButtonRunnable = new Runnable() {\n        @Override\n        public void run() {\n            Message msg = transitionHandler.obtainMessage(TRANSITION_HIDE);\n            msg.sendToTarget();\n        }\n    };\n\n    /**\n     * Flag indicating if the default clear functionality should be disabled.\n     */\n    private boolean mDisableDefaultFunc;\n    // The default clear listener which will clear the input of any text\n    private OnClearListener mDefaultClearListener = new OnClearListener() {\n        @Override\n        public void onClear() {\n            getEditableText().clear();\n            setText(null);\n        }\n    };\n\n    /**\n     * Touch listener which will receive any touch events that this view handles.\n     */\n    private OnTouchListener mOnTouchListener;\n\n    /**\n     * Custom listener which will be notified when an clear event was made from the clear button.\n     */\n    private OnClearListener onClearListener;\n\n    /**\n     * Transition drawable used when showing the clear action.\n     */\n    private TransitionDrawable mTransitionClearButtonShow = null;\n\n    /**\n     * Transition drawable used when hiding the clear action.\n     */\n\n    private TransitionDrawable mTransitionClearButtonHide = null;\n\n    private AtomicBoolean isTransitionInProgress = new AtomicBoolean(false);\n\n    private final Handler transitionHandler = new Handler(Looper.getMainLooper()) {\n        @Override\n        public void handleMessage(Message msg) {\n            switch (msg.what) {\n                case TRANSITION_HIDE:\n                    setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0);\n                    isTransitionInProgress.set(false);\n                    break;\n                case TRANSITION_SHOW:\n                    setCompoundDrawablesWithIntrinsicBounds(0, 0, mImgClearButtonRes, 0);\n                    isTransitionInProgress.set(false);\n                    break;\n                default:\n                    super.handleMessage(msg);\n            }\n        }\n    };\n\n    /* Required methods, not used in this implementation */\n    public ClearableAutoCompleteTextView(Context context) {\n        super(context);\n        init();\n    }\n\n    /* Required methods, not used in this implementation */\n    public ClearableAutoCompleteTextView(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n        init();\n    }\n\n    /* Required methods, not used in this implementation */\n    public ClearableAutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init();\n    }\n\n    @Override\n    public boolean onTouch(View v, MotionEvent event) {\n        if (getCompoundDrawables()[2] == null) {\n            // Pass the touch event to other listeners, if none, the normal flow is resumed\n            return null != mOnTouchListener &amp;&amp; mOnTouchListener.onTouch(v, event);\n        }\n\n        // React only when the UP event is detected\n        if (event.getAction() != MotionEvent.ACTION_UP) {\n            return false;\n        }\n\n        // Detect the clear button area of touch\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n        int left = getWidth() - getPaddingRight() - getCompoundDrawables()[2].getIntrinsicWidth();\n        int right = getWidth();\n        boolean tappedX = x &gt;= left &amp;&amp; x &lt;= right &amp;&amp; y &gt;= 0 &amp;&amp; y &lt;= (getBottom() - getTop());\n        if (tappedX) {\n            // Allow clear events only when the transition is not in progress\n            if (!isTransitionInProgress.get()) {\n                if (!mDisableDefaultFunc) {\n                    // Call the default functionality only if it wasn't disabled\n                    mDefaultClearListener.onClear();\n                }\n\n                if (null != onClearListener) {\n                    // Call the custom clear listener so that any member listening is notified of the clear event\n                    onClearListener.onClear();\n                }\n            }\n        }\n\n        // Pass the touch event to other listeners, if none, the normal flow is resumed\n        return null != mOnTouchListener &amp;&amp; mOnTouchListener.onTouch(v, event);\n    }\n\n    @Override\n    public void setOnTouchListener(OnTouchListener l) {\n        // Instead of using the super, we manually handle the touch event (only one listener can exist normally at a\n        // time)\n        mOnTouchListener = l;\n    }\n\n    private void init() {\n        // Set the bounds of the button\n        setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0);\n        if (getCompoundDrawablePadding() == 0) {\n            // We want to have some default padding, in case no one is specified in the xml\n            setCompoundDrawablePadding(Dimensions.dpToPx(getContext(), 5f));\n        }\n        enableTransitionClearButton();\n\n        // if the clear button is pressed, fire up the handler. Otherwise do nothing\n        super.setOnTouchListener(this);\n    }\n\n    @Override\n    public void onRestoreInstanceState(Parcelable state) {\n        super.onRestoreInstanceState(state);\n        updateClearButton();\n    }\n\n    @Override\n    protected void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\n        super.onTextChanged(text, start, lengthBefore, lengthAfter);\n        updateClearButton();\n    }\n\n    /**\n     * When hiding/showing the clear button an transition drawable will be used instead of the default drawable res.\n     */\n    public void enableTransitionClearButton() {\n        mTransitionClearButtonShow =\n                (TransitionDrawable) ContextCompat.getDrawable(getContext(), R.drawable.ic_clear_fade_in);\n        mTransitionClearButtonHide =\n                (TransitionDrawable) ContextCompat.getDrawable(getContext(), R.drawable.ic_clear_fade_out);\n        mTransitionClearButtonShow.setCrossFadeEnabled(true);\n        mTransitionClearButtonHide.setCrossFadeEnabled(true);\n    }\n\n    /**\n     * When hiding/showing the clear button the default drawable res will be used instead of the transition drawable.\n     */\n    @SuppressWarnings(\"unused\")\n    public void disableTransitionClearButton() {\n        mTransitionClearButtonShow = null;\n        isTransitionInProgress.set(false);\n        transitionHandler.removeCallbacks(hideClearButtonRunnable);\n        transitionHandler.removeCallbacks(showClearButtonRunnable);\n    }\n\n    /**\n     * Set an custom listener which will get notified when an clear event was triggered from the clear button.\n     *\n     * @param clearListener\n     *         The listener\n     * @param disableDefaultFunc\n     *         {@code true} to disable the default clear functionality, usually meaning it will be\n     *         handled by the\n     *         calling member. {@code false} allow the default functionality of clearing the input.\n     *\n     * @see #setOnClearListener(OnClearListener)\n     */\n    public void setOnClearListener(final OnClearListener clearListener, boolean disableDefaultFunc) {\n        this.onClearListener = clearListener;\n        this.mDisableDefaultFunc = disableDefaultFunc;\n    }\n\n    /**\n     * Set an custom listener which will get notified when an clear event was triggered from the clear button.\n     *\n     * @param clearListener\n     *         The listener\n     *\n     * @see #setOnClearListener(OnClearListener, boolean)\n     */\n    public void setOnClearListener(final OnClearListener clearListener) {\n        setOnClearListener(clearListener, false);\n    }\n\n    /**\n     * Disable the default functionality of the clear event - calling this won't allow for the input to be\n     * automatically\n     * cleared (it will give the ability to make custom implementations and react to the event before the clear).\n     */\n    @SuppressWarnings(\"unused\")\n    public void disableDefaultClearFunctionality() {\n        mDisableDefaultFunc = true;\n    }\n\n    /**\n     * Enable the default functionality of the clear event. Will automatically clear the input when the clear button is\n     * clicked.\n     */\n    @SuppressWarnings(\"unused\")\n    public void enableDefaultClearFunctionality() {\n        mDisableDefaultFunc = false;\n    }\n\n    /**\n     * Automatically show/hide the clear button based on the current input detected.\n     * &lt;br/&gt;\n     * If there is no input the clear button will be hidden. If there is input detected the clear button will be shown.\n     */\n    public void updateClearButton() {\n        if (isEmpty()) {\n            hideClearButton();\n        } else {\n            showClearButton();\n        }\n    }\n\n    private boolean isEmpty() {\n        if (null == getText()) {\n            // Invalid editable text\n            return true;\n        } else if (TextUtils.isEmpty(getText().toString())) {\n            // Empty\n            return true;\n        } else if (TextUtils.isEmpty(getText().toString().trim())) {\n            // White spaces only\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Hide the clear button.\n     * &lt;br/&gt;\n     * If an transition drawable was provided, it will be used to create an fade out effect, otherwise the default\n     * drawable resource will be used.\n     */\n    public void hideClearButton() {\n        if (getCompoundDrawables()[2] == null) {\n            // The clear button was already hidden - do nothing\n            return;\n        }\n\n        if (null == mTransitionClearButtonHide) {\n            setCompoundDrawablesWithIntrinsicBounds(0, 0, 0, 0);\n            return;\n        }\n\n        mTransitionClearButtonHide.resetTransition();\n        isTransitionInProgress.set(true);\n\n        mTransitionClearButtonHide.startTransition(TRANSITION_TIME);\n        setCompoundDrawablesWithIntrinsicBounds(null, null, mTransitionClearButtonHide, null);\n\n        transitionHandler.removeCallbacks(showClearButtonRunnable);\n        transitionHandler.removeCallbacks(hideClearButtonRunnable);\n        transitionHandler.postDelayed(hideClearButtonRunnable, TRANSITION_TIME);\n    }\n\n    /**\n     * Show the clear button.\n     * &lt;br/&gt;\n     * If an transition drawable was provided, it will be used to create an fade in effect, otherwise the default\n     * drawable resource will be used.\n     */\n    public void showClearButton() {\n        if (getCompoundDrawables()[2] != null) {\n            // The clear button was already set - do nothing\n            return;\n        }\n\n        if (null == mTransitionClearButtonShow) {\n            setCompoundDrawablesWithIntrinsicBounds(0, 0, mImgClearButtonRes, 0);\n            return;\n        }\n\n        isTransitionInProgress.set(true);\n\n        mTransitionClearButtonShow.startTransition(TRANSITION_TIME);\n        setCompoundDrawablesWithIntrinsicBounds(null, null, mTransitionClearButtonShow, null);\n\n        transitionHandler.removeCallbacks(hideClearButtonRunnable);\n        transitionHandler.removeCallbacks(showClearButtonRunnable);\n        transitionHandler.postDelayed(showClearButtonRunnable, TRANSITION_TIME);\n    }\n\n    /**\n     * Custom contract which is used to notify any listeners that an clear event was triggered.\n     */\n    public interface OnClearListener {\n\n        /**\n         * Clear event from the clear button triggered.\n         */\n        void onClear();\n    }\n}\n\n\n // Enable and show the error\nmClearView.requestFocus(); // we need to request focus, otherwise the error won't be shown\nmClearView.setError(\"Please choose an valid destination!\", null);\n\n\nsetCompoundDrawablesWithIntrinsicBounds()\n\nsetError()\n\nsetError(\"My error hint text\", null)\n\nsetError(\"Please choose an valid destination!\")\n\nmClearView.setError(\"Please choose an valid destination!\")\n\n# Solution Code:\nvoid setError(String error) {\n    editText.setError(error);\n}\n\nvoid setCompoundDrawableRight(Drawable rightDrawable) {\n    editText.setError(null);\n    editText.setCompoundDrawables(null, null, null, null);\n\n    editText.setCompoundDrawablesWithIntrinsicBounds(null, null, rightDrawable, null);\n}\n\n\nsetCompoundDrawablesWithIntrinsicBounds()\n\nsetError()\n\nsetError(null)\n\nnull",
    "resolution": "Since the documentation of setCompoundDrawablesWithIntrinsicBounds() (not so) clearly states that subsequent calls should overwrite the previously set drawables, and the documentation of setError() says the following: Sets the right-hand compound drawable of the TextView to the \"error\" icon and sets an error message that will be displayed in a popup when the TextView has focus. I assume this is a bug. Calling setError(null) and setting the previously set drawables to null before setting your new drawable is a possible workaround: void setError(String error) { editText.setError(error); } void setCompoundDrawableRight(Drawable rightDrawable) { editText.setError(null); editText.setCompoundDrawables(null, null, null, null); editText.setCompoundDrawablesWithIntrinsicBounds(null, null, rightDrawable, null); }",
    "severity": "medium",
    "tags": [
      "android",
      "error-handling",
      "android-edittext",
      "android-drawable"
    ],
    "metadata": {
      "stackoverflow_question_id": "39364379",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1884,
      "stackoverflow_creation_date": "2016-09-07T08:01:56.873Z"
    },
    "idempotency_key": "stackoverflow-39364379",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to run a project on node.js",
    "body": "I am a beginner to node.js and i did a sample code it shown below, var http = require(\"http\"); var server = http.createServer(function(request,response) { response.writeHead(200, { \"content-Type\" : \"text/html\" }); response.end(\"Hello again\"); }).listen(8888); and when i run this file on eclise Run as ------> Node project and when i open the browser with url localhost:8888 it shows web page not availble. can u guys help me to find out. I already installed node.js on my system and npm alse. am i missing something?",
    "code": "  var http = require(\"http\");\n  var server = http.createServer(function(request,response) {\n   response.writeHead(200, {\n    \"content-Type\" : \"text/html\"\n   });\n  response.end(\"Hello again\");\n }).listen(8888);\n\n\n# Solution Code:\nvar http = require(\"http\");\nvar server = http.createServer(function(request, response) {\n  response.writeHead(200, {\n    \"content-Type\" : \"text/html\"\n  });\n  response.end(\"Hello again\");\n}).listen(8888);\n\n\nrequest\n\nresponse",
    "resolution": "There is no request or response object in the scope of your request callback. You need to define them as arguments of the callback function. var http = require(\"http\"); var server = http.createServer(function(request, response) { response.writeHead(200, { \"content-Type\" : \"text/html\" }); response.end(\"Hello again\"); }).listen(8888); You should definitely get an error though - are you sure your IDE is set up properly?",
    "severity": "low",
    "tags": [
      "javascript",
      "node.js",
      "localhost"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "39366164",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 143,
      "stackoverflow_creation_date": "2016-09-07T09:29:21.330Z"
    },
    "idempotency_key": "stackoverflow-39366164",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Eclipse by default run eclipse plugin headless",
    "body": "I have a eclipse plugin project which runs by opening eclipse UI. I have added an extension org.eclipse.core.runtime.applications to run that plugin headless for some testing purpose. Now if I run that plugin project from context menu run option. It always run project in headless mode until i do not choose UI launch configuration by opening run configuration window. Any idea how we can set default launch configuration to run it via opening UI? so i do not need to select launch configuration every time through run configuration window. Same problem is there in case of debug.",
    "code": "org.eclipse.core.runtime.applications\n",
    "severity": "low",
    "tags": [
      "eclipse-plugin"
    ],
    "metadata": {
      "stackoverflow_question_id": "39407800",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 401,
      "stackoverflow_creation_date": "2016-09-09T09:04:58.317Z"
    },
    "idempotency_key": "stackoverflow-39407800",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is the sort-order of table-valued-parameters guaranteed to remain the same?",
    "body": "I need to know if i need to add a sort-column to my custom table-type which i could then use to sort or if i can trust that the order of parameters remains the same even without such a column. This is my type: CREATE TYPE [dbo].[VwdCodeList] AS TABLE( [VwdCode] [varchar](50) NOT NULL ) and this is one of the sql where is use it: /// <summary> /// Inserts all new WatchListCodes for a given watchlist /// </summary> public const string InsertWatchListCodes = @\" INSERT INTO [dbo].[WatchListCodes] ([WatchListID] ,[VwdCode] ,[Sort]) SELECT @WatchListID, VwdCode, ROW_NUMBER()OVER(ORDER BY (SELECT 1)) FROM @VwdCodeList;\"; as you can see i'm using ROW_NUMBER to get the sort-column value. Do i need to add also a sort-column to the table-type or is it guaranteed(documented) that it remains the same? It seems to work. This is the ADO.NET code where i use it: SqlParameter vwdCodeListParameter = insertWatchListCodeCommand.Parameters.Add(\"@VwdCodeList\", SqlDbType.Structured); vwdCodeListParameter.TypeName = \"[dbo].[VwdCodeList]\"; vwdCodeListParameter.Value = WatchListSql.GetVwdCodeRecords(newVwdCodes, true); int inserted = insertWatchListCodeCommand.ExecuteNonQuery(); GetVwdCodeRecords returns IEnumerable<SqlDataRecord> for an IEnumerable<string>. Thanks all. If a future reader is interested to know how i've guaranteed the sort-order. I've modifed the table-type as suggested by adding another column: CREATE TYPE [dbo].[VwdCodeList] AS TABLE( [VwdCode] [varchar](50) NOT NULL, [Sort] [smallint] NOT NULL ) The insert-sql is even simpler because the sort-column is passed in and not calculated: public const string InsertWatchListCodes = @\" INSERT INTO [dbo].[WatchListCodes] ([WatchListID] ,[VwdCode] ,[Sort]) SELECT @WatchListID, cl.VwdCode, cl.Sort FROM @VwdCodeList cl;\"; For the sake of completeness, here is the method that returns the IEnumerable<SqlDataRecord> used as value for the table-valued-parameter(omitted error-handling): public static IEnumerable<SqlDataRecord> GetVwdCodeRecords(IEnumerable<string> vwdCodes, bool trimCode = true) { short currentSort = 0; foreach (string vwdCode in vwdCodes) { var record = new SqlDataRecord( new SqlMetaData(\"VwdCode\", SqlDbType.VarChar, 50), new SqlMetaData(\"Sort\", SqlDbType.SmallInt)); record.SetString(0, trimCode ? vwdCode.Trim() : vwdCode); record.SetInt16(1, ++currentSort); yield return record; } }",
    "code": "CREATE TYPE [dbo].[VwdCodeList] AS TABLE(\n    [VwdCode] [varchar](50) NOT NULL\n)\n\n\n/// &lt;summary&gt;\n///     Inserts all new WatchListCodes for a given watchlist\n/// &lt;/summary&gt;\npublic const string InsertWatchListCodes = @\"\nINSERT INTO [dbo].[WatchListCodes]\n   ([WatchListID]\n   ,[VwdCode]\n   ,[Sort])\n SELECT @WatchListID, VwdCode, ROW_NUMBER()OVER(ORDER BY (SELECT 1)) \n FROM @VwdCodeList;\";\n\n\nSqlParameter vwdCodeListParameter = insertWatchListCodeCommand.Parameters.Add(\"@VwdCodeList\", SqlDbType.Structured);\nvwdCodeListParameter.TypeName = \"[dbo].[VwdCodeList]\";\nvwdCodeListParameter.Value = WatchListSql.GetVwdCodeRecords(newVwdCodes, true);\nint inserted = insertWatchListCodeCommand.ExecuteNonQuery();\n\n\nCREATE TYPE [dbo].[VwdCodeList] AS TABLE(\n    [VwdCode] [varchar](50) NOT NULL,\n    [Sort] [smallint] NOT NULL\n)\n\n\npublic const string InsertWatchListCodes = @\"\nINSERT INTO [dbo].[WatchListCodes]\n   ([WatchListID]\n   ,[VwdCode]\n   ,[Sort])\n SELECT @WatchListID, cl.VwdCode, cl.Sort \n FROM @VwdCodeList cl;\";\n\n\npublic static IEnumerable&lt;SqlDataRecord&gt; GetVwdCodeRecords(IEnumerable&lt;string&gt; vwdCodes, bool trimCode = true)\n{\n    short currentSort = 0;\n    foreach (string vwdCode in vwdCodes)\n    {\n        var record = new SqlDataRecord(\n            new SqlMetaData(\"VwdCode\", SqlDbType.VarChar, 50), \n            new SqlMetaData(\"Sort\", SqlDbType.SmallInt));\n        record.SetString(0, trimCode ? vwdCode.Trim() : vwdCode);\n        record.SetInt16(1, ++currentSort);\n\n        yield return record;\n    }\n}\n\n\nROW_NUMBER\n\nGetVwdCodeRecords\n\nIEnumerable&lt;SqlDataRecord&gt;\n\nIEnumerable&lt;string&gt;\n\nIEnumerable&lt;SqlDataRecord&gt;\n\n# Solution Code:\nORDER BY\n\nROW_NUMBER() OVER(ORDER BY ...)\n\nORDER BY\n\nSELECT 1",
    "resolution": "In general: There is no implicit sort order on any result set. The only way to achieve a guaranteed sort order is an ORDER BY on the outer-most query. I'm sure you knew this already... There is one specialty with ROW_NUMBER() OVER(ORDER BY ...) Read \"General Remarks\". But this is dangerous. The sort-order is only sure, if you are using a unique sort criterium in ORDER BY. You are using SELECT 1, which will not guarantee any sort order. This might work hundreds of tests and suddenly breaks... Any later action can destroy this sort-order. Just imagin you have a working function and - some months later - you use this function in a complex query. I use this for example to create XML with a sure order, because within XML there is an implicit order given by position...",
    "severity": "medium",
    "tags": [
      "c#",
      "sql-server",
      "ado.net",
      "sql-server-2014",
      "table-valued-parameters"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "39467251",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 1659,
      "stackoverflow_creation_date": "2016-09-13T10:01:13.560Z"
    },
    "idempotency_key": "stackoverflow-39467251",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Upload app using old version of Xcode. Will the app be available on iOS 10 devices?",
    "body": "I don't want to update to Xcode 8 after hearing that people got problems withcocoa pods. I know that I have to eventually, but what I wonder is if I can upload an app to the App store using Xcode 7 and Swift 2.3 and still have it available for iOS 10 users?",
    "code": "Xcode 8\n\ncocoa pods\n\nXcode 7\n\nSwift 2.3\n\niOS 10",
    "severity": "low",
    "tags": [
      "ios",
      "swift",
      "xcode"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "39592784",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 157,
      "stackoverflow_creation_date": "2016-09-20T11:22:56.877Z"
    },
    "idempotency_key": "stackoverflow-39592784",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Could not cast value of type 'SKScene'",
    "body": "I created a new Xcode Game project. I stripped the default animations in the project and added a new Swift file and a new .sks both called MenuScene. In my GameViewController, I replaced references to by GameScene with MenuScene as I want this scene to launch first: override func viewDidLoad() { super.viewDidLoad() // Load 'GameScene.sks' as a GKScene. This provides gameplay related content // including entities and graphs. if let scene = GKScene(fileNamed: \"MenuScene\") { // Get the SKScene from the loaded GKScene if let sceneNode = scene.rootNode as! MenuScene? { // Set the scale mode to scale to fit the window sceneNode.scaleMode = .aspectFill // Present the scene if let view = self.view as! SKView? { view.presentScene(sceneNode) view.ignoresSiblingOrder = true view.showsFPS = true view.showsNodeCount = true } } } } When I try to launch I get the following error: Could not cast value of type 'SKScene' (0x1105624) to 'Spritekit10.MenuScene' (0x104c38). If I change it back to GameScene, which appears to have the exact same setup, all seems fine. Can anyone point me in the right direction with what the problem is with this? On my MenuScene.sks under Custom Class, I've added MenuScene thinking that was the problem but the error still shows (and the textfield seems to randomly clear itself when I go back to it. import SpriteKit import GameplayKit class GameScene: SKScene { override func sceneDidLoad() { } } . import SpriteKit import GameplayKit class MenuScene: SKScene { override func sceneDidLoad() { } }",
    "code": "override func viewDidLoad() {\n    super.viewDidLoad()\n\n    // Load 'GameScene.sks' as a GKScene. This provides gameplay related content\n    // including entities and graphs.\n    if let scene = GKScene(fileNamed: \"MenuScene\") {\n\n        // Get the SKScene from the loaded GKScene\n        if let sceneNode = scene.rootNode as! MenuScene? {\n\n            // Set the scale mode to scale to fit the window\n            sceneNode.scaleMode = .aspectFill\n\n            // Present the scene\n            if let view = self.view as! SKView? {\n                view.presentScene(sceneNode)\n\n                view.ignoresSiblingOrder = true\n\n                view.showsFPS = true\n                view.showsNodeCount = true\n            }\n        }\n    }\n}\n\n\nimport SpriteKit\nimport GameplayKit\n\nclass GameScene: SKScene {\n\n    override func sceneDidLoad() {\n\n    }\n}\n\n\nimport SpriteKit\nimport GameplayKit\n\nclass MenuScene: SKScene {\n\n    override func sceneDidLoad() {\n\n    }\n}\n\n\nCould not cast value of type 'SKScene' (0x1105624) to 'Spritekit10.MenuScene' (0x104c38).\n\nMenuScene.sks\n\nMenuScene\n\n# Solution Code:\nimport SpriteKit\nimport GameplayKit\n\nclass Menuscene: SKScene {\n\noverride func didMove(to view: SKView) {\n    let menutext = SKLabelNode()\n    menutext.text = \"MEnuscene\"\n    menutext.position = CGPoint(x: 0, y: 0)\n    menutext.fontSize = 120\n\n    self.backgroundColor = UIColor.blue\n    addChild(menutext)\n\n}\n\n\noverride func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) {\n    let gamescene = SKScene(fileNamed: \"GameScene\")\n    gamescene?.scaleMode = .fill\n    self.scene?.view?.presentScene(gamescene!,transition: SKTransition.doorsCloseHorizontal(withDuration: 1.0))\n\n}\n\noverride func update(_ currentTime: TimeInterval) {\n\n  }\n}\n\n\nclass GameScene: SKScene {\n\n\n   override func touchesBegan(_ touches: Set&lt;UITouch&gt;, with event: UIEvent?) {\n    let Menuscene = SKScene(fileNamed: \"Menuscene\")\n    Menuscene?.scaleMode = .fill\n    self.scene?.view?.presentScene(Menuscene!,transition: SKTransition.doorsOpenVertical(withDuration: 1.0))\n\n    }\n\n\nimport UIKit\nimport SpriteKit\nimport GameplayKit\n\nclass GameViewController: UIViewController {\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    if let view = self.view as! SKView? {\n        // Load the SKScene from 'GameScene.sks'\n        if let scene = SKScene(fileNamed: \"Menuscene\") {\n            // Set the scale mode to scale to fit the window\n            scene.scaleMode = .aspectFill\n\n            // Present the scene\n            view.presentScene(scene)\n        }\n\n        view.ignoresSiblingOrder = true\n\n        view.showsFPS = true\n        view.showsNodeCount = true\n    }\n}\n\noverride var shouldAutorotate: Bool {\n    return true\n}\n\noverride var supportedInterfaceOrientations: UIInterfaceOrientationMask {\n    if UIDevice.current.userInterfaceIdiom == .phone {\n        return .allButUpsideDown\n    } else {\n        return .all\n    }\n}\n\noverride func didReceiveMemoryWarning() {\n    super.didReceiveMemoryWarning()\n    // Release any cached data, images, etc that aren't in use.\n}\n\noverride var prefersStatusBarHidden: Bool {\n    return true\n}\n}\n",
    "resolution": "For Xcode 8.0/8.1 , create a swift file named \"Menuscene\" and an sks file named \"Menuscene\" too. delete everything in the Menuscene swift file and insert this code import SpriteKit import GameplayKit class Menuscene: SKScene { override func didMove(to view: SKView) { let menutext = SKLabelNode() menutext.text = \"MEnuscene\" menutext.position = CGPoint(x: 0, y: 0) menutext.fontSize = 120 self.backgroundColor = UIColor.blue addChild(menutext) } override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) { let gamescene = SKScene(fileNamed: \"GameScene\") gamescene?.scaleMode = .fill self.scene?.view?.presentScene(gamescene!,transition: SKTransition.doorsCloseHorizontal(withDuration: 1.0)) } override func update(_ currentTime: TimeInterval) { } } and in the attribute inspector tab, set name to \"Menuscene\", hit enter (very important). then on the next tab, set custom class name to \"Menuscene\",hit enter (very important). In your Gamescene.swift file, double-check to be sure your class starts with class GameScene: SKScene { add this code to your touchesBegan func override func touchesBegan(_ touches: Set<UITouch>, with event: UIEvent?) { let Menuscene = SKScene(fileNamed: \"Menuscene\") Menuscene?.scaleMode = .fill self.scene?.view?.presentScene(Menuscene!,transition: SKTransition.doorsOpenVertical(withDuration: 1.0)) } finally in your Gameviewcontroller file, delete everything and insert this code import UIKit import SpriteKit import GameplayKit class GameViewController: UIViewController { override func viewDidLoad() { super.viewDidLoad() if let view = self.view as! SKView? { // Load the SKScene from 'GameScene.sks' if let scene = SKScene(fileNamed: \"Menuscene\") { // Set the scale mode to scale to fit the window scene.scaleMode = .aspectFill // Present the scene view.presentScene(scene) } view.ignoresSiblingOrder = true view.showsFPS = true view.showsNodeCount = true } } override var shouldAutorotate: Bool { return true } override var supportedInterfaceOrientations: UIInterfaceOrientationMask { if UIDevice.current.userInterfaceIdiom == .phone { return .allButUpsideDown } else { return .all } } override func didReceiveMemoryWarning() { super.didReceiveMemoryWarning() // Release any cached data, images, etc that aren't in use. } override var prefersStatusBarHidden: Bool { return true } } you're welcome! you should be able to tap from game screen to menu screen.",
    "severity": "medium",
    "tags": [
      "sprite-kit",
      "swift3",
      "ios10"
    ],
    "metadata": {
      "stackoverflow_question_id": "39650179",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1790,
      "stackoverflow_creation_date": "2016-09-22T23:07:54.903Z"
    },
    "idempotency_key": "stackoverflow-39650179",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "SSL certificate error while pushing to Heroku",
    "body": "Today I'm receiving this error after 'git push heroku master' command: fatal: unable to access 'https://git.heroku.com/myserver.git/': SSL certificate problem: Invalid certificate chain What should I do?",
    "code": "fatal: unable to access 'https://git.heroku.com/myserver.git/': SSL certificate problem: Invalid certificate chain\n",
    "severity": "medium",
    "tags": [
      "git",
      "ssl",
      "heroku"
    ],
    "metadata": {
      "stackoverflow_question_id": "39661265",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1806,
      "stackoverflow_creation_date": "2016-09-23T12:51:45.510Z"
    },
    "idempotency_key": "stackoverflow-39661265",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to alias variables with terraform?",
    "body": "To get the current AWS id I do: data \"aws_caller_identity\" \"current\" { } Which makes it available in data.aws_caller_identity.current.account_id. Is there some way to make it available as just account_id? I tried: variable \"account_id\" { default = \"${data.aws_caller_identity.current.account_id}\" } but it says I can't do string interpolation in variables.",
    "code": "data \"aws_caller_identity\" \"current\" { }\n\n\nvariable \"account_id\" {\n  default = \"${data.aws_caller_identity.current.account_id}\"\n}\n\n\ndata.aws_caller_identity.current.account_id\n\naccount_id\n\n# Solution Code:\nlocals {\n  account_id = \"${data.aws_caller_identity.current.account_id}\"\n}\n\n\nvariable \"foo\" {}\nvariable \"bar\" {}\n\nlocals {\n  account_id = \"${data.aws_caller_identity.current.account_id}\"\n  foo_BAR    = \"${var.foo}_${upper(var.bar)}\"\n}\n\n\ndata \"aws_caller_identity\" \"current\" {}\noutput \"account_id\" { value = \"data.aws_caller_identity.current.account_id\" }\n\ndata \"aws_availability_zones\" \"zones\" {}\noutput \"zones\" { value = \"data.aws_availability_zones.zones.names }\n\n\nmodule \"data_sources\" {\n    source = \"path/to/data-sources-module.tf\"\n}\n\n...\n    account_id = \"${module.data_sources.account_id}\"\n...\n    availability_zone = \"${module.data_sources.zones[0]}\"\n\n\nnull_resource\n\nnull_data_source",
    "resolution": "Since 0.10.3, you can use locals to get around the lack of variable interpolation. This allows you to define a \"friendly\" name for all sorts of things that might require interpolation. In your case you would simply use: locals { account_id = \"${data.aws_caller_identity.current.account_id}\" } But you can combine any amount of interpolations and functions: variable \"foo\" {} variable \"bar\" {} locals { account_id = \"${data.aws_caller_identity.current.account_id}\" foo_BAR = \"${var.foo}_${upper(var.bar)}\" } Old answer As Terraform points out in your error, you can't do variable interpolation directly although there are known hacky workarounds for when you need some form of variable interpolation. Unfortunately all of these involve slightly convoluted uses of modules, templates or the null_resource or null_data_source which would then still leave you accessing the variable in an awkward way. One option that might be more palatable for you is to wrap a bunch of data sources into a module like this: data \"aws_caller_identity\" \"current\" {} output \"account_id\" { value = \"data.aws_caller_identity.current.account_id\" } data \"aws_availability_zones\" \"zones\" {} output \"zones\" { value = \"data.aws_availability_zones.zones.names } And then access these like so: module \"data_sources\" { source = \"path/to/data-sources-module.tf\" } ... account_id = \"${module.data_sources.account_id}\" ... availability_zone = \"${module.data_sources.zones[0]}\" But that doesn't really make these values as easily exposed as intermediate variables unfortunately.",
    "severity": "medium",
    "tags": [
      "terraform"
    ],
    "metadata": {
      "stackoverflow_question_id": "39687615",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3718,
      "stackoverflow_creation_date": "2016-09-25T13:55:59.260Z"
    },
    "idempotency_key": "stackoverflow-39687615",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Firebase Notification not received on device when sent via cURL/PHP",
    "body": "I have an iOS app which is live on the app store. I am able to send push notifications to iOS devices which have the app installed, but only when I send them from the Firebase console. When I try to send push notifications via a cURL request, the response from the server indicates that I was successful but the message isn't received on the device. I have tried this with both multicast and single recipient payloads. I must be missing something more fundamental, but I can't see it. Here is my PHP code: <?php // API access key from Google API's Console define( 'API_ACCESS_KEY', 'AI*****4LPGkx8xtDG2tBl*****7KWJfmp1szcA' ); $registrationIds = array( $_GET['id'] ); // prep the bundle $msg = array ( 'message' => 'here is a message. message', 'title' => 'This is a title. title' ); $fields = array ( 'to' => \"cUxd-iTVVWo:APA*****kQTuqJ5RREKhhlJjm27NCuVfUn5APg3lBFqh-YWjgx*****iOpAQeLB14CzM2YTwIJo_75jzCmbFLKj0_zpKSHvAEbmJz*****BBezGJIng-N4H-cAD6ahY7mQNYZtEJLAIE\", 'data' => $msg ); $headers = array ( 'Authorization: key=' . API_ACCESS_KEY, 'Content-Type: application/json' ); $ch = curl_init(); curl_setopt( $ch,CURLOPT_URL, 'https://fcm.googleapis.com/fcm/send' ); curl_setopt( $ch,CURLOPT_POST, true ); curl_setopt( $ch,CURLOPT_HTTPHEADER, $headers ); curl_setopt( $ch,CURLOPT_RETURNTRANSFER, true ); curl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false ); curl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) ); $result = curl_exec($ch ); curl_close( $ch ); echo $result; Here is the response I get when running this code: {\"multicast_id\":5814921248239922706,\"success\":1,\"failure\":0,\"canonical_ids\":0,\"results\":[{\"message_id\":\"0:1476193002715692%a4ddee3cf9fd7ecd\"}]}",
    "code": "&lt;?php\n// API access key from Google API's Console\ndefine( 'API_ACCESS_KEY', 'AI*****4LPGkx8xtDG2tBl*****7KWJfmp1szcA' );\n$registrationIds = array( $_GET['id'] );\n// prep the bundle\n$msg = array\n(\n    'message'   =&gt; 'here is a message. message',\n    'title'     =&gt; 'This is a title. title'\n);\n$fields = array\n(\n    'to'            =&gt; \"cUxd-iTVVWo:APA*****kQTuqJ5RREKhhlJjm27NCuVfUn5APg3lBFqh-YWjgx*****iOpAQeLB14CzM2YTwIJo_75jzCmbFLKj0_zpKSHvAEbmJz*****BBezGJIng-N4H-cAD6ahY7mQNYZtEJLAIE\",\n    'data'          =&gt; $msg\n);\n\n$headers = array\n(\n    'Authorization: key=' . API_ACCESS_KEY,\n    'Content-Type: application/json'\n);\n\n$ch = curl_init();\ncurl_setopt( $ch,CURLOPT_URL, 'https://fcm.googleapis.com/fcm/send' );\ncurl_setopt( $ch,CURLOPT_POST, true );\ncurl_setopt( $ch,CURLOPT_HTTPHEADER, $headers );\ncurl_setopt( $ch,CURLOPT_RETURNTRANSFER, true );\ncurl_setopt( $ch,CURLOPT_SSL_VERIFYPEER, false );\ncurl_setopt( $ch,CURLOPT_POSTFIELDS, json_encode( $fields ) );\n$result = curl_exec($ch );\ncurl_close( $ch );\necho $result;\n\n\n# Solution Code:\nshell_exec('curl -X POST --header \"Authorization: key=&lt;key here&gt;\" --header \"Content-Type: application/json\" https://fcm.googleapis.com/fcm/send -d \"{\\\"to\\\":\\\"'.$to.'\\\",\\\"priority\\\":\\\"high\\\",\\\"notification\\\":{\\\"body\\\": \\\"'.stripslashes($message).'\\\"}}\"');\n\n\nnotification\n\ndata\n\nshell_exec()",
    "resolution": "There were two issues: I needed to include a notification section in the payload instead of data Somehow the payload wasn't being formatted properly by PHP. In the end I used the PHP function shell_exec() to do a cURL request over SSH instead. This isn't ideal but it got the job done. Example code: shell_exec('curl -X POST --header \"Authorization: key=<key here>\" --header \"Content-Type: application/json\" https://fcm.googleapis.com/fcm/send -d \"{\\\"to\\\":\\\"'.$to.'\\\",\\\"priority\\\":\\\"high\\\",\\\"notification\\\":{\\\"body\\\": \\\"'.stripslashes($message).'\\\"}}\"');",
    "severity": "medium",
    "tags": [
      "php",
      "ios",
      "curl",
      "firebase",
      "firebase-cloud-messaging"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "39979235",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 8560,
      "stackoverflow_creation_date": "2016-10-11T14:10:53.743Z"
    },
    "idempotency_key": "stackoverflow-39979235",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Differences between iterator and for loop in hashmap",
    "body": "Below are the scenario of iterator and for loop: 1) Using iterator: ihm.put(\"Zara\", new Double(3434.34)); ihm.put(\"Mahnaz\", new Double(123.22)); ihm.put(\"Ayan\", new Double(1378.00)); ihm.put(\"Daisy\", new Double(99.22)); ihm.put(\"Qadir\", new Double(-19.08)); // Get a set of the entries Set set = ihm.entrySet(); // Get an iterator Iterator i = set.iterator(); // Display elements while(i.hasNext()) { Map.Entry me = (Map.Entry)i.next(); System.out.print(me.getKey() + \": \"); System.out.println(me.getValue()); } System.out.println(); ===================================== Using For Loop: HashMap<String, Integer> map = new HashMap<String, Integer>(); //Adding key-value pairs map.put(\"ONE\", 1); map.put(\"TWO\", 2); map.put(\"THREE\", 3); map.put(\"FOUR\", 4); //Adds key-value pair 'ONE-111' only if it is not present in map map.putIfAbsent(\"ONE\", 111); //Adds key-value pair 'FIVE-5' only if it is not present in map map.putIfAbsent(\"FIVE\", 5); //Printing key-value pairs of map Set<Entry<String, Integer>> entrySet = map.entrySet(); for (Entry<String, Integer> entry : entrySet) { System.out.println(entry.getKey()+\" : \"+entry.getValue()); } } In the above both cases iterator and for loop are doing the same job.So can anyone tell me what is the differences between them and when i can use iterator and for loop.",
    "code": "  ihm.put(\"Zara\", new Double(3434.34));\n  ihm.put(\"Mahnaz\", new Double(123.22));\n  ihm.put(\"Ayan\", new Double(1378.00));\n  ihm.put(\"Daisy\", new Double(99.22));\n  ihm.put(\"Qadir\", new Double(-19.08));\n\n  // Get a set of the entries\n  Set set = ihm.entrySet();\n\n  // Get an iterator\n  Iterator i = set.iterator();\n\n  // Display elements\n  while(i.hasNext()) {\n     Map.Entry me = (Map.Entry)i.next();\n     System.out.print(me.getKey() + \": \");\n     System.out.println(me.getValue());\n  }\n  System.out.println();\n\n\n    HashMap&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n\n    //Adding key-value pairs\n\n    map.put(\"ONE\", 1);\n\n    map.put(\"TWO\", 2);\n\n    map.put(\"THREE\", 3);\n\n    map.put(\"FOUR\", 4);\n\n    //Adds key-value pair 'ONE-111' only if it is not present in map\n\n    map.putIfAbsent(\"ONE\", 111);\n\n    //Adds key-value pair 'FIVE-5' only if it is not present in map\n\n    map.putIfAbsent(\"FIVE\", 5);\n\n    //Printing key-value pairs of map\n\n    Set&lt;Entry&lt;String, Integer&gt;&gt; entrySet = map.entrySet();\n\n    for (Entry&lt;String, Integer&gt; entry : entrySet) \n    {\n        System.out.println(entry.getKey()+\" : \"+entry.getValue());\n    }        \n}    \n\n\n# Solution Code:\nIterator&lt;Entry&gt; it = map.iterator();\nwhile(it.hasNext())\n      if(check(it.next()))\n           it.remove();\n",
    "resolution": "The only significant difference between loop and iterator (apart from readability) is that while using iterator you can edit content of the collection through that Iterator instance. If you try to edit map while looping through it you will get Concurrent ModificationException You should use iterator when you want to update map while iterating over it e.g. remove entries which match some conditions. Iterator<Entry> it = map.iterator(); while(it.hasNext()) if(check(it.next())) it.remove(); I have to note that for-loop is a syntactic sugar for iterator and in resulting bytecode they will look the same way.",
    "severity": "medium",
    "tags": [
      "java",
      "collections",
      "hashmap"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "39992063",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1237,
      "stackoverflow_creation_date": "2016-10-12T06:42:43.747Z"
    },
    "idempotency_key": "stackoverflow-39992063",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Efficient way for finding all the complete subgraphs of a given graph (Python)?",
    "body": "Is there an efficient way for finding all the fully-connected components (i.e. the complete subgraphs) of a given (undirected) graph with networkx? For example, I have the following adjacency matrix (without self-loops): |0 1 1 0 0| |1 0 1 0 0| G = |1 1 0 1 0| |0 0 1 0 1| |0 0 0 1 0| which corresponds to the following graph The code should return the following tuples of nodes: (0,1), (1,2), (0,2), (3,4), (2,3), (0,1,2) I know networkx has routines for finding cycles, strongly-connected components, etc, but I cannot find anything about fully-connected components. If it's not possible with networkx, it would also be fine with Numpy + Scipy. Many thanks in advance! EDIT This is what I did: import networkx as nx import itertools def findsubsets(S, m): return set(itertools.combinations(S, m)) A = np.array([[0, 1, 1, 0, 0], [1, 0, 1, 0, 0], [1, 1, 0, 1, 0], [0, 0, 1, 0, 1], [0, 0, 0, 1, 0]]) G = nx.from_numpy_matrix(A) M = np.sqrt(np.size(A)) for m in range(2, M+1): for a in findsubsets(range(0, M), m): if(nx.number_of_edges(G.subgraph(a)) == (m**2 - m)/2.): print nx.nodes(G.subgraph(a)) which basically finds all the possible mXm subgraphs of the given one, and then checks if they have the maximum (i.e. (m**2 - m)/2) number of connections. But I was wondering if there is a more efficient way to do that, because the performance of the function itertools.combinations is not very good for large graphs.",
    "code": "    |0 1 1 0 0|\n    |1 0 1 0 0|\nG = |1 1 0 1 0|\n    |0 0 1 0 1|\n    |0 0 0 1 0|\n\n\n(0,1), (1,2), (0,2), (3,4), (2,3), (0,1,2)\n\n\nimport networkx as nx\nimport itertools\n\n\ndef findsubsets(S, m):\n    return set(itertools.combinations(S, m))\n\n\n\nA = np.array([[0, 1, 1, 0, 0],\n              [1, 0, 1, 0, 0],\n              [1, 1, 0, 1, 0],\n              [0, 0, 1, 0, 1],\n              [0, 0, 0, 1, 0]])\n\n\nG = nx.from_numpy_matrix(A)\n\nM = np.sqrt(np.size(A))\n\n\nfor m in range(2, M+1):\n\n    for a in findsubsets(range(0, M), m):\n\n        if(nx.number_of_edges(G.subgraph(a)) == (m**2 - m)/2.):\n\n            print nx.nodes(G.subgraph(a))\n\n\nitertools.combinations\n\n# Solution Code:\n[s for s in nx.enumerate_all_cliques(G) if len(s) &gt; 1]\n\n\nlist(nx.find_cliques(G))\n\nlist(nx.find_cliques(G))\n\nlist(nx.enumerate_all_cliques(G))",
    "resolution": "Ok, I found it. It's simply list(nx.find_cliques(G)), just because I didn't know that in graph theory a clique is a fully connected subgraph. EDIT More precisely, list(nx.find_cliques(G)) finds the maximal cliques, therefore it's not what I need. I found a similar post at this link. So the correct answer is to use list(nx.enumerate_all_cliques(G)). However, this function returns also cliques of size 1, which I don't like since I don't have self-loops in my graph. Therefore the final solution is to use the following line of code: [s for s in nx.enumerate_all_cliques(G) if len(s) > 1]",
    "severity": "medium",
    "tags": [
      "python",
      "graph",
      "networkx"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "40284774",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7561,
      "stackoverflow_creation_date": "2016-10-27T12:37:48.417Z"
    },
    "idempotency_key": "stackoverflow-40284774",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Setting up our own private docker hub",
    "body": "I want to set up my own private docker hub from where I can pull docker images on docker clients. Taking this link as reference, I executed following commands on one machine: docker pull registry docker run -d -p 5000:5000 --name localregistry registry docker ps docker pull alpine docker tag alpine:latest localhost:5000/alpine:latest docker push localhost:5000/alpine:latest I want to pull this image on some other machine which is reachable to/from this machine. $ docker pull <ip_of_machine>:5000/alpine Using default tag: latest Error response from daemon: Get https://<ip_of_machine>:5000/v1/_ping: http: server gave HTTP response to HTTPS client Is it possible to pull docker image from one machine which acts as a docker hub to another machine which is reachable?",
    "code": "docker pull registry\ndocker run -d -p 5000:5000 --name localregistry registry\ndocker ps\ndocker pull alpine\ndocker tag alpine:latest localhost:5000/alpine:latest\ndocker push localhost:5000/alpine:latest\n\n\n$ docker pull &lt;ip_of_machine&gt;:5000/alpine\nUsing default tag: latest\nError response from daemon: Get https://&lt;ip_of_machine&gt;:5000/v1/_ping: http: server gave HTTP response to HTTPS client\n\n\n# Solution Code:\nINSECURE_REGISTRY='--insecure-registry &lt;ip&gt;:5000'\n",
    "resolution": "Adding below line in docker client machine's /etc/sysconfig/docker file resolved the issue: INSECURE_REGISTRY='--insecure-registry <ip>:5000'",
    "severity": "medium",
    "tags": [
      "docker",
      "docker-compose",
      "dockerfile",
      "boot2docker",
      "docker-registry"
    ],
    "metadata": {
      "stackoverflow_question_id": "40351475",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2813,
      "stackoverflow_creation_date": "2016-10-31T22:25:46.487Z",
      "stackoverflow_owner": "user5154816"
    },
    "idempotency_key": "stackoverflow-40351475",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "iOS - Objective-C - widget texts and images are doubled - old data are not cleared",
    "body": "In iOS app widget, I can see on only some devices, doubled data (see figure below). I have tried to identify device, iOS version, but it seems to be \"random\". Plus, I am unable to debug this by myself, because on every of my devices, all is rendered correctly and doing blind debugging is not working (several updates on AppStore but still with the same error). In widget, I download (in background thread) new data from web and put them (in dispatch_get_main_queue()) into labels, images etc. All is working OK, but sometimes the old data are not \"cleared\". In my design file for widget, I have cleared all \"default\" texts, so this is not this problem. Doubled icon & texts 4.1°C and 7.9°C are overlapping Main part of my widget code is (shortened by removing other labels, tables and geolocation): - (void)viewDidLoad { [super viewDidLoad]; if ([self.extensionContext respondsToSelector:@selector(widgetLargestAvailableDisplayMode)]) { //this is iOS >= 10 self.extensionContext.widgetLargestAvailableDisplayMode = NCWidgetDisplayModeExpanded; } [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(FinishDownload:) name:@\"FinishDownload\" object:nil]; self.preferredContentSize = CGSizeMake(320, 160); [self updateData]; } -(void)viewDidAppear:(BOOL)animated { [super viewDidAppear:animated]; [self updateData]; } -(void)viewWillAppear:(BOOL)animated { [super viewWillAppear:animated]; [self updateData]; } -(void)updateData { [[[DataManager SharedManager] settings] Reload]; [[CoreDataManager SharedManager] reset]; if ([[DataManager SharedManager] DownloadDataWithAfterSelector:@\"FinishDownload\"] == NO) { //no need to download update - refill data now //if downloading - wait for download [self FillData]; } } } -(void)FinishDownload:(NSNotification *)notification { dispatch_async(dispatch_get_main_queue(), ^{ [self FillData]; }); } -(void)FillData { //a lot of code - example of setting temperature NSString *str = [NSString stringWithFormat:@\"%@ °C\", act.temp_act]; self.lblTemp.text = str; [self.lblTemp sizeToFit]; if (self.completionHandler != nil) { self.completionHandler(NCUpdateResultNewData); } } - (void)widgetPerformUpdateWithCompletionHandler:(void (^)(NCUpdateResult))completionHandler { // Perform any setup necessary in order to update the view. // If an error is encountered, use NCUpdateResultFailed // If there's no update required, use NCUpdateResultNoData // If there's an update, use NCUpdateResultNewData //completionHandler(NCUpdateResultNewData); NSLog(@\"=== widgetPerformUpdateWithCompletionHandler === \"); self.completionHandler = completionHandler; [self updateData]; } - (UIEdgeInsets)widgetMarginInsetsForProposedMarginInsets:(UIEdgeInsets)defaultMarginInsets { return UIEdgeInsetsMake(0, 0, 5, 5); } - (void)widgetActiveDisplayModeDidChange:(NCWidgetDisplayMode)activeDisplayMode withMaximumSize:(CGSize)maxSize { if (activeDisplayMode == NCWidgetDisplayModeExpanded) { self.preferredContentSize = CGSizeMake(320, 160); } else if (activeDisplayMode == NCWidgetDisplayModeCompact) { self.preferredContentSize = maxSize; } }",
    "code": "- (void)viewDidLoad\n{\n    [super viewDidLoad];\n    if ([self.extensionContext respondsToSelector:@selector(widgetLargestAvailableDisplayMode)])\n    {\n        //this is iOS &gt;= 10                \n        self.extensionContext.widgetLargestAvailableDisplayMode = NCWidgetDisplayModeExpanded;\n    }\n\n\n    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(FinishDownload:) name:@\"FinishDownload\" object:nil];\n\n\n    self.preferredContentSize = CGSizeMake(320, 160);\n\n     [self updateData];\n}\n\n-(void)viewDidAppear:(BOOL)animated\n{\n    [super viewDidAppear:animated];\n\n    [self updateData];\n}\n\n-(void)viewWillAppear:(BOOL)animated\n{\n    [super viewWillAppear:animated];\n\n    [self updateData];\n}\n\n-(void)updateData\n{\n\n    [[[DataManager SharedManager] settings] Reload];\n\n\n    [[CoreDataManager SharedManager] reset];\n\n    if ([[DataManager SharedManager] DownloadDataWithAfterSelector:@\"FinishDownload\"] == NO)\n        {\n            //no need to download update - refill data now\n            //if downloading - wait for download\n            [self FillData];\n        }\n    }\n\n\n}\n\n\n-(void)FinishDownload:(NSNotification *)notification\n{\n    dispatch_async(dispatch_get_main_queue(), ^{\n        [self FillData];\n    });\n\n}\n\n-(void)FillData\n{\n    //a lot of code - example of setting temperature\n    NSString *str = [NSString stringWithFormat:@\"%@ °C\", act.temp_act];\n    self.lblTemp.text = str;\n    [self.lblTemp sizeToFit];\n\n\n    if (self.completionHandler != nil)\n    {\n        self.completionHandler(NCUpdateResultNewData);\n    }\n}\n\n\n\n- (void)widgetPerformUpdateWithCompletionHandler:(void (^)(NCUpdateResult))completionHandler\n{\n    // Perform any setup necessary in order to update the view.\n\n    // If an error is encountered, use NCUpdateResultFailed\n    // If there's no update required, use NCUpdateResultNoData\n    // If there's an update, use NCUpdateResultNewData\n\n    //completionHandler(NCUpdateResultNewData);\n    NSLog(@\"=== widgetPerformUpdateWithCompletionHandler === \");\n\n    self.completionHandler = completionHandler;\n\n    [self updateData];\n\n\n}\n\n- (UIEdgeInsets)widgetMarginInsetsForProposedMarginInsets:(UIEdgeInsets)defaultMarginInsets\n{\n    return UIEdgeInsetsMake(0, 0, 5, 5);\n}\n\n\n- (void)widgetActiveDisplayModeDidChange:(NCWidgetDisplayMode)activeDisplayMode withMaximumSize:(CGSize)maxSize\n{\n    if (activeDisplayMode == NCWidgetDisplayModeExpanded)\n    {\n        self.preferredContentSize = CGSizeMake(320, 160);            \n    }\n    else if (activeDisplayMode == NCWidgetDisplayModeCompact)\n    {\n        self.preferredContentSize = maxSize;            \n    }\n}\n\n\ndispatch_get_main_queue()\n\n# Solution Code:\nif (nil != self.completionHandler) {\n    self.completionHandler(NCUpdateResultNewData);\n    self.completionHandler = nil; // One time use\n}\n\n\nviewDidLoad\n\nviewWillAppear/viewDidAppear\n\nviewDidLoad\n\nUIViewController\n\n[self updateData]\n\nNCUpdateResult\n\naddObserver\n\nremoveObserver\n\nview___Appear\n\nview___Disappear\n\nNCUpdateResultNewData\n\nNCUpdateResult\n\nwidgetPerformUpdateWithCompletionHandler\n\nupdateData\n\nFillData\n\nwidgetPerformUpdateWithCompletionHandler",
    "resolution": "View Lifecycle Do not duplicate the work in viewDidLoad and viewWillAppear/viewDidAppear. A view that was loaded will hit all three methods. Use viewDidLoad for operations that must be performed exactly once for the life of the UIViewController. Potential problem: Triggering 3 invocations, possibly conflicting, to [self updateData] back to back, possibly with competing NCUpdateResult completion handlers3. Balance Observers It appears that addObserver is never balanced by a removeObserver. A good location for these registration methods is a set of balanced messages, such as the view___Appear and view___Disappear methods, as outlined in this StackOverflow answer. Potential problem: Lasting registration to notifications on objects that may go out of scope. Do not cache OS handlers Possible misuse of NCUpdateResultNewData completion handler: the NCUpdateResult is passed to widgetPerformUpdateWithCompletionHandler to be used for that specific invocation, not stored for multiple reuse. It should probably be handed down to updateData as a parameter rather than stored in a global, in turn passed to FillData, and eventually cleared after a one-time use. if (nil != self.completionHandler) { self.completionHandler(NCUpdateResultNewData); self.completionHandler = nil; // One time use } Every invocation to widgetPerformUpdateWithCompletionHandler has its own cycle, as outlined in this StackOverflow answer. Layout & Autolayout Be aware that the iOS is making a snapshot of your widget ; in Interface Builder, make sure that you use proper layering of views. Pay special attention to transparency and drawing flags. Leverage Autolayout to resize/size/snap objects",
    "severity": "low",
    "tags": [
      "ios",
      "widget"
    ],
    "metadata": {
      "stackoverflow_question_id": "40471989",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 192,
      "stackoverflow_creation_date": "2016-11-07T18:25:26.557Z"
    },
    "idempotency_key": "stackoverflow-40471989",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Spark performance enhancements by storing sorted Parquet files",
    "body": "Will data extracts run quicker if a DataFrame is sorted before being persisted as Parquet files. Suppose we have the following peopleDf DataFrame (pretend this a sample and the real one has 20 billion rows): +-----+----------------+ | age | favorite_color | +-----+----------------+ | 54 | blue | | 10 | black | | 13 | blue | | 19 | red | | 89 | blue | +-----+----------------+ Let's write out sorted and unsorted versions of this DataFrame to Parquet files. peopleDf.write.parquet(\"s3a://some-bucket/unsorted/\") peopleDf.sort($\"favorite_color\").write.parquet(\"s3a://some-bucket/sorted/\") Are there any performance gains when reading in the sorted data and doing a data extract based on favorite_color? val pBlue1 = spark.read.parquet(\"s3a://some-bucket/unsorted/\").filter($\"favorite_color\" === \"blue\") // is this faster? val pBlue2 = spark.read.parquet(\"s3a://some-bucket/sorted/\").filter($\"favorite_color\" === \"blue\")",
    "code": "+-----+----------------+\n| age | favorite_color |\n+-----+----------------+\n|  54 | blue           |\n|  10 | black          |\n|  13 | blue           |\n|  19 | red            |\n|  89 | blue           |\n+-----+----------------+\n\n\npeopleDf.write.parquet(\"s3a://some-bucket/unsorted/\")\npeopleDf.sort($\"favorite_color\").write.parquet(\"s3a://some-bucket/sorted/\")\n\n\nval pBlue1 = spark.read.parquet(\"s3a://some-bucket/unsorted/\").filter($\"favorite_color\" === \"blue\")\n\n// is this faster?\n\nval pBlue2 = spark.read.parquet(\"s3a://some-bucket/sorted/\").filter($\"favorite_color\" === \"blue\")\n\n\npeopleDf\n\nfavorite_color",
    "severity": "medium",
    "tags": [
      "sorting",
      "apache-spark",
      "parquet"
    ],
    "metadata": {
      "stackoverflow_question_id": "40580229",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 6099,
      "stackoverflow_creation_date": "2016-11-14T00:08:36.603Z"
    },
    "idempotency_key": "stackoverflow-40580229",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Visual Studio 2017 RC Install Error \"The specified account already exists.\"",
    "body": "When I try to install Visual Studio 2017 RC I got this error : [1764:001d][2016-11-20T10:14:21] Package 'Microsoft.Ancm.IISExpress.Msi,version=1.0.1967,chip=x64' failed to repair. MSI: C:\\ProgramData\\Microsoft\\VisualStudio\\Packages\\Microsoft.Ancm.IISExpress.Msi,version=1.0.1967,chip=x64\\ancm_iis_express_x64_en.msi, Properties: REBOOT=ReallySuppress ARPSYSTEMCOMPONENT=1 ALLUSERS=\"1\" MSIFASTINSTALL=\"7\" REINSTALL=ALL REINSTALLMODE=\"cmuse\" IGNOREDEPENDENCIES=ALL , Return code: 1316, Details: The specified account already exists. Installation process gives me (Failed to setup) on 94% progress with above log error Can anyone help me solve this problem ?",
    "code": "[1764:001d][2016-11-20T10:14:21] Package 'Microsoft.Ancm.IISExpress.Msi,version=1.0.1967,chip=x64' failed to repair. MSI: C:\\ProgramData\\Microsoft\\VisualStudio\\Packages\\Microsoft.Ancm.IISExpress.Msi,version=1.0.1967,chip=x64\\ancm_iis_express_x64_en.msi, Properties:  REBOOT=ReallySuppress ARPSYSTEMCOMPONENT=1  ALLUSERS=\"1\"  MSIFASTINSTALL=\"7\"  REINSTALL=ALL  REINSTALLMODE=\"cmuse\" IGNOREDEPENDENCIES=ALL , Return code: 1316, Details: The specified account already exists.\n",
    "severity": "medium",
    "tags": [
      "visual-studio-2017"
    ],
    "metadata": {
      "stackoverflow_question_id": "40701935",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2444,
      "stackoverflow_creation_date": "2016-11-20T08:07:37.810Z"
    },
    "idempotency_key": "stackoverflow-40701935",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cassandra does not start as a service",
    "body": "If I try to run cassandra as a service: sudo service cassandra start no errors or logs get traced to terminal, seems that it's working.. if I try to run on another node: /usr/bin/nodetool status mynamespace I get its status as DN, Only when run cassandra like this: /usr/sbin/cassandra -f then /usr/bin/nodetool status mynamespace would state the node as UN: Any idea?",
    "code": "sudo service cassandra start\n\n\n/usr/bin/nodetool status mynamespace\n\n\n/usr/sbin/cassandra -f\n\n\n/usr/bin/nodetool status mynamespace\n\n# Solution Code:\n/var/log/cassandra/system.log\n\ncassandra -f\n\ncassandra",
    "resolution": "Can you check the /var/log/cassandra/system.log after the service start? If you ran with cassandra -f first you may of created files with your user instead of the cassandra user which would cause permission issues when service starts",
    "severity": "high",
    "tags": [
      "cassandra"
    ],
    "metadata": {
      "stackoverflow_question_id": "40784005",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 12383,
      "stackoverflow_creation_date": "2016-11-24T10:31:14.723Z"
    },
    "idempotency_key": "stackoverflow-40784005",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Search bar in Laravel 5.3 to filter the table",
    "body": "1) I added the search bar to the view : {!! Form::open(['method'=>'GET','url'=>'home','class'=>'navbar-form navbar-left','role'=>'search']) !!} <div class=\"input-group custom-search-form\"> <input type=\"text\" class=\"form-control\" name=\"search\" placeholder=\"Search...\"> <span class=\"input-group-btn\"> <button class=\"btn btn-default-sm\" type=\"submit\"> <i class=\"fa fa-search\">i </button> </span> 2) In my controller I'm displaying all my users in a table and the search bar is on top of it public function index() { $user = User::all(); $search = \\Request::get('search'); the param of URI $users = User::where('name','=','%'.$search.'%') ->orderBy('name') ->paginate(20); return view('home',compact('users'))->withuser($user); } Here is what the table looks like @foreach($user as $users) <th scope=\"row\">1</th> <td><a href=\"{{ url('/user').'/'.$users->id }}\">show</a></td> <td>{{$users->name}}</td> <td>{{$users->city}}</td> <td>{{$users->phone}}</td> <td>{{$users->street}}</td> <td>{{$users->national_id}}</td> <td>{{$users->name}}</td> </tr> @endforeach What I'm trying to get is when I search in the bar I want to do a loop like this @foreach($users as $user) {{ $user->name }} @endforeach and replace the view to the searched names only. and here is the route for the index Route::get('/home', 'HomeController@index'); how can I achive that ? sorry for the long question in advance.",
    "code": "{!! Form::open(['method'=&gt;'GET','url'=&gt;'home','class'=&gt;'navbar-form navbar-left','role'=&gt;'search'])  !!}\n\n            &lt;div class=\"input-group custom-search-form\"&gt;\n                &lt;input type=\"text\" class=\"form-control\" name=\"search\" placeholder=\"Search...\"&gt;\n                &lt;span class=\"input-group-btn\"&gt;\n    &lt;button class=\"btn btn-default-sm\" type=\"submit\"&gt;\n        &lt;i class=\"fa fa-search\"&gt;i\n    &lt;/button&gt;\n&lt;/span&gt;\n\n\npublic function index()\n{\n    $user = User::all();\n\n    $search = \\Request::get('search');  the param of URI\n\n    $users = User::where('name','=','%'.$search.'%')\n        -&gt;orderBy('name')\n        -&gt;paginate(20);\n\n    return view('home',compact('users'))-&gt;withuser($user);\n\n}\n\n\n @foreach($user as $users)\n                    &lt;th scope=\"row\"&gt;1&lt;/th&gt;\n                     &lt;td&gt;&lt;a href=\"{{ url('/user').'/'.$users-&gt;id }}\"&gt;show&lt;/a&gt;&lt;/td&gt;\n                      &lt;td&gt;{{$users-&gt;name}}&lt;/td&gt;\n                    &lt;td&gt;{{$users-&gt;city}}&lt;/td&gt;\n                    &lt;td&gt;{{$users-&gt;phone}}&lt;/td&gt;\n                    &lt;td&gt;{{$users-&gt;street}}&lt;/td&gt;\n                    &lt;td&gt;{{$users-&gt;national_id}}&lt;/td&gt;\n                    &lt;td&gt;{{$users-&gt;name}}&lt;/td&gt;\n\n                &lt;/tr&gt;\n     @endforeach\n\n\n    Route::get('/home', 'HomeController@index');\n\n\n# Solution Code:\n$users = User::where('name', 'like', '%'.$search.'%')\n    -&gt;orderBy('name')\n    -&gt;paginate(20);\n\n\npublic function scopeSearch($q)\n{\n    return empty(request()-&gt;search) ? $q : $q-&gt;where('name', 'like', '%'.request()-&gt;search.'%');\n}\n\n\npublic function index()\n{\n    $users = User::search()-&gt;orderBy('name')-&gt;paginate(20);\n\n    return view('home', compact('users'));\n}\n\n\nlike\n\n=",
    "resolution": "You need to use like instead of =: $users = User::where('name', 'like', '%'.$search.'%') ->orderBy('name') ->paginate(20); Also, you're trying to create two queries. Much better way is to create local scope: public function scopeSearch($q) { return empty(request()->search) ? $q : $q->where('name', 'like', '%'.request()->search.'%'); } And then use it in controller: public function index() { $users = User::search()->orderBy('name')->paginate(20); return view('home', compact('users')); } This code will paginate all users if there is no search parameter or it will filter users and paginate them.",
    "severity": "high",
    "tags": [
      "php",
      "html",
      "laravel",
      "search",
      "laravel-blade"
    ],
    "metadata": {
      "language": "php",
      "framework": "laravel",
      "stackoverflow_question_id": "41014940",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 23518,
      "stackoverflow_creation_date": "2016-12-07T10:25:28.150Z"
    },
    "idempotency_key": "stackoverflow-41014940",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Basic BeautifulSoup Wikipedia scrape",
    "body": "I'm trying to get a very basic, and short, basic unordered list <ul> off of Wikipedia. My end goal is to put it into a DataFrame. My question is, where do I go from here? In [28]: from bs4 import BeautifulSoup import urllib2 import requests from pandas import Series,DataFrame In [29]: url = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\" In [31]: result = requests.get(url) In [32]: c = result.content In [33]: soup = BeautifulSoup(c) I cant seem to find any answers on this StackOverflow, so I would appreciate any advice anyone could give me. This is the specific list I'm looking for: Active teams[edit] Baltimore Anthem (2015–present) Boston Iron (2014–present) DC Brawlers (2014–present) Los Angeles Reign (2014–present) Miami Surge (2014–present) New York Rhinos (2014–present) Phoenix Rise (2014–present) San Francisco Fire (2014–present)",
    "code": "In [28]: from bs4 import BeautifulSoup\n\n         import urllib2\n\n         import requests\n\n         from pandas import Series,DataFrame\n\nIn [29]: url = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\"\n\nIn [31]: result = requests.get(url)\n\nIn [32]: c = result.content\n\nIn [33]: soup = BeautifulSoup(c)\n\n\nActive teams[edit]\nBaltimore Anthem (2015–present)\nBoston Iron (2014–present)\nDC Brawlers (2014–present)\nLos Angeles Reign (2014–present)\nMiami Surge (2014–present)\nNew York Rhinos (2014–present)\nPhoenix Rise (2014–present)\nSan Francisco Fire (2014–present)\n\n\n&lt;ul&gt;\n\nDataFrame\n\n# Solution Code:\nfrom bs4 import BeautifulSoup\nimport requests\n\nurl = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\"\nr = requests.get(url)\nsoup = BeautifulSoup(r.content)\n\nheading = soup.find(id='Active_teams_at_league_closing')\nteams = heading.find_next('ul')\nfor team in teams:\n    print(team.string)\n\n\nid=\"Active_teams_at_league_closing\"\n\n&lt;ul&gt;",
    "resolution": "First you'll want to find the correct part of the page. You can do this by finding the heading with id=\"Active_teams_at_league_closing\" and then finding the next <ul> element from there. from bs4 import BeautifulSoup import requests url = \"https://en.wikipedia.org/wiki/National_Pro_Grid_League\" r = requests.get(url) soup = BeautifulSoup(r.content) heading = soup.find(id='Active_teams_at_league_closing') teams = heading.find_next('ul') for team in teams: print(team.string)",
    "severity": "medium",
    "tags": [
      "python",
      "pandas",
      "web-scraping",
      "beautifulsoup"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "41152492",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3382,
      "stackoverflow_creation_date": "2016-12-14T21:29:09.807Z"
    },
    "idempotency_key": "stackoverflow-41152492",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to check standard library documentation offline?",
    "body": "I found rustdoc command and I kind of expected it to work like pydoc. Unfortunately, rustdoc std::io:stdin doesn't do what I'd like it to. Is there a way to view standard library documentation in an offline form, either via command line or some kind of built in web server, like Python's pydoc allows?",
    "code": "rustdoc\n\npydoc\n\nrustdoc std::io:stdin\n\npydoc\n\n# Solution Code:\nrustdoc\n\nrustup\n\nrustup doc --std",
    "resolution": "rustdoc is used to build the documentation of a package. Not to access standard doc. If you use rustup, you can open the offline documentation using rustup doc --std and then use the search box on the page (works offline too). If you don't use rustup, the documentation might still have been installed somewhere on your system but the path would depend on the system and installation procedure.",
    "severity": "medium",
    "tags": [
      "command-line",
      "rust",
      "rustdoc"
    ],
    "metadata": {
      "language": "rust",
      "stackoverflow_question_id": "41199122",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1833,
      "stackoverflow_creation_date": "2016-12-17T13:34:04.170Z"
    },
    "idempotency_key": "stackoverflow-41199122",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Handlebars math expressions when looping through array",
    "body": "I'm practicing node, and I ran to a little problem. I'm using handlebars as a templating engine, and mongoose for interaction with my database. In my .hbs template I am looping through each record from the database, and of course I passed the records to my view with router.get('/', function(req, res, next) { Exam.find(function(err, predmeti) { if (err) { console.log(err); } res.render('index',{ predmeti: predmeti }) }) }); Now when im looping through predmeti with #each, engine throws an error when I try doing math expressions such as {{#each predmeti}} <h1>{{100/(brKolokvijuma/finished)}}</h1> {{/each}} brKolokvijuma and finished both have a number value, but for some reason I get a error Expecting ID got OPEN_SEXPR So I'm assuming handlebars won't let me do math expressions when I'm looping through an array. How can I solve this?",
    "code": "router.get('/', function(req, res, next) {\nExam.find(function(err, predmeti) {\nif (err) {\n  console.log(err);\n}\n  res.render('index',{\n    predmeti: predmeti\n  })\n})\n\n}); \n\n\n{{#each predmeti}}\n &lt;h1&gt;{{100/(brKolokvijuma/finished)}}&lt;/h1&gt;\n{{/each}}\n\n\npredmeti\n\nbrKolokvijuma and finished\n\n# Solution Code:\n{{#each predmeti}}\n   &lt;h1&gt;{{divide 100 (divide brKolokvijuma finished)}}&lt;/h1&gt;\n{{/each}}\n\n\nHandlebars.registerHelper(\"divideMyThings\", function(thing1, thing2, thing3) {\n  return thing1 / thing2 / thing3;\n});\n\n\n{{divideMyThings 100 brKolokvijuma finished}}\n",
    "resolution": "There are plugins for Handlebars to enable you to do the things they think you shouldn't do in views, but everyone still wants to. For example the Assemble.io maths helpers and nested expressions would enable you to do something like: {{#each predmeti}} <h1>{{divide 100 (divide brKolokvijuma finished)}}</h1> {{/each}} A second method, if your maths expressions are not so varied and reused around your views (common calculations e.g. tax or rounding), you could write your own simpler/lighter plugin: Handlebars.registerHelper(\"divideMyThings\", function(thing1, thing2, thing3) { return thing1 / thing2 / thing3; }); Called in your template: {{divideMyThings 100 brKolokvijuma finished}} Thirdly you can often precompute data-tables until you only have one variable, and then use the builtin lookup feature. This requires no additional plugins. This is probably not helpful to this specific question, but I thought I'd mention it as a tool.",
    "severity": "high",
    "tags": [
      "javascript",
      "node.js",
      "express",
      "handlebars.js"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "41262138",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 24481,
      "stackoverflow_creation_date": "2016-12-21T11:49:09.757Z"
    },
    "idempotency_key": "stackoverflow-41262138",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Webpack style-loader appendChild no CSP friendly",
    "body": "Content Security Policy (CSP) doesn't like how webpack's style-loader is using appendChild. Any ideas how to customize these tools to work together?",
    "code": "appendChild\n\n# Solution Code:\n{\n  loader: 'style-loader',\n  options: {\n    attrs: {\n      nonce: 'devOnly',\n    }\n  }\n}\n\n\nattr\n\n&lt;script&gt;\n\nnonce\n\nExtractTextPlugin\n\nstyle-src 'self' 'nonce-devOnly'",
    "resolution": "There is a new attr option in style-loader allowing you to add custom attributes to the <script> tag. I am using it to add a nonce attr : { loader: 'style-loader', options: { attrs: { nonce: 'devOnly', } } } Then I added this nonce to my CSP policy, only for the development environment (you should use ExtractTextPlugin for production anyway) : style-src 'self' 'nonce-devOnly'",
    "severity": "medium",
    "tags": [
      "security",
      "webpack",
      "content-security-policy",
      "webpack-style-loader"
    ],
    "metadata": {
      "stackoverflow_question_id": "41326019",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2610,
      "stackoverflow_creation_date": "2016-12-26T02:52:16.090Z"
    },
    "idempotency_key": "stackoverflow-41326019",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Mongodb sort documents by complex computed value",
    "body": "items = collection.aggregate([ {\"$match\": {}}, {\"$project\": { 'temp_score': { \"$add\": [\"$total_score\", 100], }, 'temp_votes': { \"$add\": [\"$total_votes\", 20], }, 'weight': { \"$divide\": [\"$temp_score\", \"$temp_votes\"] } } } ]) The total_score and total_votes have stored in the document, I can get temp_score and temp_votes as expected, but can't get weight, any suggestion?",
    "code": "items = collection.aggregate([\n        {\"$match\": {}},\n        {\"$project\": {\n            'temp_score': {\n                \"$add\": [\"$total_score\", 100],\n            },\n            'temp_votes': {\n                \"$add\": [\"$total_votes\", 20],\n            },\n            'weight': {\n                \"$divide\": [\"$temp_score\", \"$temp_votes\"]\n            }\n\n            }\n        }\n    ])\n\n\n# Solution Code:\ndb.user.aggregate([{\n    \"$project\": {\n        'temp_score': {\n            \"$add\": [\"$total_score\", 100],\n        },\n        'temp_votes': {\n            \"$add\": [\"$total_votes\", 20],\n        }\n    }\n}, {\n    \"$project\": {\n        'temp_score':1,\n        'temp_votes':1,\n        'weight': {\n            \"$divide\": [\"$temp_score\", \"$temp_votes\"]\n        }\n    }\n}])\n\n\ndb.user.aggregate([{\n    \"$project\": {\n        'temp_score': {\n            \"$add\": [\"$total_score\", 100],\n        },\n        'temp_votes': {\n            \"$add\": [\"$total_votes\", 20],\n        },\n        'weight': {\n            \"$divide\": [\n                { \"$add\": [\"$total_score\", 100] },\n                { \"$add\": [\"$total_votes\", 20] }\n            ]\n        }\n    }\n}]);\n\n\ndb.user.aggregate([{\n    $project: {\n        total: {\n            $let: {\n                vars: {\n                    temp_score: { $add: [\"$total_score\", 100] },\n                    temp_votes: { $add: [\"$total_votes\", 20] }\n                },\n                in : {\n                    temp_score: \"$$temp_score\",\n                    temp_votes: \"$$temp_votes\",\n                    weight: { $divide: [\"$$temp_score\", \"$$temp_votes\"] }\n                }\n            }\n        }\n    }\n}])\n\n\n$temp_score\n\n$temp_votes\n\n$divide\n\n$project\n\ntemp_score\n\ntemp_votes\n\n$divide\n\n$project\n\n$let\n\ntemp_score\n\ntemp_votes\n\ntotal",
    "resolution": "Your $temp_score and $temp_votes are not existing yet in your $divide. You can do another $project : db.user.aggregate([{ \"$project\": { 'temp_score': { \"$add\": [\"$total_score\", 100], }, 'temp_votes': { \"$add\": [\"$total_votes\", 20], } } }, { \"$project\": { 'temp_score':1, 'temp_votes':1, 'weight': { \"$divide\": [\"$temp_score\", \"$temp_votes\"] } } }]) or re-computing temp_score and temp_votes in $divide : db.user.aggregate([{ \"$project\": { 'temp_score': { \"$add\": [\"$total_score\", 100], }, 'temp_votes': { \"$add\": [\"$total_votes\", 20], }, 'weight': { \"$divide\": [ { \"$add\": [\"$total_score\", 100] }, { \"$add\": [\"$total_votes\", 20] } ] } } }]); You can also do this in one single $project using the $let operator that will be used to create 2 variables temp_score and temp_votes. But the results will be accessible under a single field (here total) : db.user.aggregate([{ $project: { total: { $let: { vars: { temp_score: { $add: [\"$total_score\", 100] }, temp_votes: { $add: [\"$total_votes\", 20] } }, in : { temp_score: \"$$temp_score\", temp_votes: \"$$temp_votes\", weight: { $divide: [\"$$temp_score\", \"$$temp_votes\"] } } } } } }])",
    "severity": "low",
    "tags": [
      "mongodb",
      "mongodb-query",
      "aggregation-framework",
      "pymongo",
      "mongoengine"
    ],
    "metadata": {
      "stackoverflow_question_id": "41326073",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 778,
      "stackoverflow_creation_date": "2016-12-26T03:07:10.993Z"
    },
    "idempotency_key": "stackoverflow-41326073",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to get actual name of invalid/unresolved type in clang AST",
    "body": "Consider the following code int function() { unknownType variable; } In the above code snippet, \"unknownType\" is not resolved at compile time, so clang will put default type as int in the AST and mark the declaration as invalid. Now the question is while traversing the AST, how to get the name \"unknownType\". Getting the type name with existing API will give int, and its source range is also invalid. Does anybody encounter such problem? Please help? Thanks, Hemant",
    "code": "int function()\n{\n  unknownType variable;\n}\n",
    "severity": "low",
    "tags": [
      "c++",
      "parsing",
      "abstract-syntax-tree",
      "llvm-clang",
      "libtooling"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "41407400",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 515,
      "stackoverflow_creation_date": "2016-12-31T10:16:33.013Z"
    },
    "idempotency_key": "stackoverflow-41407400",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "React Native Image Not Working with specific URL",
    "body": "I have the following code below, where the Image component encompasses two Image component. <View style={styles.container} > <Image style={{width: 50, height: 50}} source={{uri: 'https://facebook.github.io/react/img/logo_og.png'}} /> <Image style={{width: 50, height: 50}} source={{uri: 'http://lghttp.24811.nexcesscdn.net/80B00B/qpb/media/catalog/product/cache/11/image/439x334/9df78eab33525d08d6e5fb8d27136e95/q/w/qw_neverdonejoggers_p_.png'}} /> </View> For the first github URL it renders the img logo correctly as expected. However for the second Image it doesn't render the source: qw_neverdonejoggers_p_.png Which leads me to the conclusion that something wrong URL, however clicking on the URL correctly load the Img: http://lghttp.24811.nexcesscdn.net/80B00B/qpb/media/catalog/product/cache/11/image/439x334/9df78eab33525d08d6e5fb8d27136e95/q/w/qw_neverdonejoggers_p_.png I attempted to replicate the issue here, https://rnplay.org/apps/_dQXXw but it renders both the images properly. So its only on the local my computer that for some reason I can render second image ? Using: \"react\": \"15.4.1\", \"react-native\": \"^0.39.2\",",
    "code": "  &lt;View style={styles.container} &gt;\n    &lt;Image\n      style={{width: 50, height: 50}}\n      source={{uri: 'https://facebook.github.io/react/img/logo_og.png'}}\n    /&gt;\n          &lt;Image\n      style={{width: 50, height: 50}}\n      source={{uri: 'http://lghttp.24811.nexcesscdn.net/80B00B/qpb/media/catalog/product/cache/11/image/439x334/9df78eab33525d08d6e5fb8d27136e95/q/w/qw_neverdonejoggers_p_.png'}}\n    /&gt;\n  &lt;/View&gt;\n\n\n# Solution Code:\nuri",
    "resolution": "uri only works with https. In Android it should work fine with either http or https. You will find further information here.",
    "severity": "high",
    "tags": [
      "image",
      "reactjs",
      "react-native"
    ],
    "metadata": {
      "stackoverflow_question_id": "41432984",
      "stackoverflow_score": 31,
      "stackoverflow_view_count": 84993,
      "stackoverflow_creation_date": "2017-01-02T20:34:55.740Z"
    },
    "idempotency_key": "stackoverflow-41432984",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Run clean task before every build automatically in Gradle",
    "body": "I want to run a project \"clean\" before the assembleRelease task in Gradle. How can I trigger the clean task basically before everything?",
    "code": "assembleRelease\n\n# Solution Code:\nB.dependsOn A\n\n\nassembleRelease.dependsOn clean\n\n\ndependsOn",
    "resolution": "In gradle you can use the dependsOn method. B.dependsOn A In this way: task B depends on task A gradle executes A task everytime before the B task execution. In your case: assembleRelease.dependsOn clean",
    "severity": "medium",
    "tags": [
      "android",
      "gradle",
      "android-gradle-plugin",
      "build.gradle",
      "gradle-task"
    ],
    "metadata": {
      "stackoverflow_question_id": "41532108",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 8391,
      "stackoverflow_creation_date": "2017-01-08T11:16:59.857Z"
    },
    "idempotency_key": "stackoverflow-41532108",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Create 32 bit color Icon programmatically",
    "body": "I would like to create 32 bit color icons programmatically using C++ and Win API. For this purpose I use the following code which I found here. HICON CreateSolidColorIcon(COLORREF iconColor, int width, int height) { // Obtain a handle to the screen device context. HDC hdcScreen = GetDC(NULL); // Create a memory device context, which we will draw into. HDC hdcMem = CreateCompatibleDC(hdcScreen); // Create the bitmap, and select it into the device context for drawing. HBITMAP hbmp = CreateCompatibleBitmap(hdcScreen, width, height); HBITMAP hbmpOld = (HBITMAP)SelectObject(hdcMem, hbmp); // Draw your icon. // // For this simple example, we're just drawing a solid color rectangle // in the specified color with the specified dimensions. HPEN hpen = CreatePen(PS_SOLID, 1, iconColor); HPEN hpenOld = (HPEN)SelectObject(hdcMem, hpen); HBRUSH hbrush = CreateSolidBrush(iconColor); HBRUSH hbrushOld = (HBRUSH)SelectObject(hdcMem, hbrush); Rectangle(hdcMem, 0, 0, width, height); SelectObject(hdcMem, hbrushOld); SelectObject(hdcMem, hpenOld); DeleteObject(hbrush); DeleteObject(hpen); // Create an icon from the bitmap. // // Icons require masks to indicate transparent and opaque areas. Since this // simple example has no transparent areas, we use a fully opaque mask. HBITMAP hbmpMask = CreateCompatibleBitmap(hdcScreen, width, height); ICONINFO ii; ii.fIcon = TRUE; ii.hbmMask = hbmpMask; ii.hbmColor = hbmp; HICON hIcon = CreateIconIndirect(&ii); DeleteObject(hbmpMask); // Clean-up. SelectObject(hdcMem, hbmpOld); DeleteObject(hbmp); DeleteDC(hdcMem); ReleaseDC(NULL, hdcScreen); // Return the icon. return hIcon; } In principle the code works and I can use it to create colored icons at runtime using the Win API. However, I have some problems and questions about that code (and creating icons in general) which I would like to discuss. The icons created with this function don't seem to be of 32 bit color depth. If I use a color like RGB(218, 112, 214) I would expect it to be some light purple. However, the actual displayed color is gray. How can I change the code such that the color is really 32 bit RGB? The icon created is completly filled with the color, I would like to have a thin black boarder around it... how can this be achieved? In the MSDN documentation (a bit downwards) it is mentioned that \"Before closing, your application must use DestroyIcon to destroy any icon it created by using CreateIconIndirect. It is not necessary to destroy icons created by other functions. \" However, in the documentation for e.g. CreateIcon in MSDN it is said that \"When you are finished using the icon, destroy it using the DestroyIcon function.\" which is pretty much a contradiction. When do I actually have to destroy the icon? Do these rules then also apply when I add the icon to an image list and this list to a combobox? I.e. do I have to clean up the image list and each associated icon? Any help is highly appreciated.",
    "code": "HICON CreateSolidColorIcon(COLORREF iconColor, int width, int height)\n{\n    // Obtain a handle to the screen device context.\n    HDC hdcScreen = GetDC(NULL);\n\n    // Create a memory device context, which we will draw into.\n    HDC hdcMem = CreateCompatibleDC(hdcScreen);\n\n    // Create the bitmap, and select it into the device context for drawing.\n    HBITMAP hbmp = CreateCompatibleBitmap(hdcScreen, width, height);\n    HBITMAP hbmpOld = (HBITMAP)SelectObject(hdcMem, hbmp);\n\n    // Draw your icon.\n    // \n    // For this simple example, we're just drawing a solid color rectangle\n    // in the specified color with the specified dimensions.\n    HPEN hpen = CreatePen(PS_SOLID, 1, iconColor);\n    HPEN hpenOld = (HPEN)SelectObject(hdcMem, hpen);\n    HBRUSH hbrush = CreateSolidBrush(iconColor);\n    HBRUSH hbrushOld = (HBRUSH)SelectObject(hdcMem, hbrush);\n    Rectangle(hdcMem, 0, 0, width, height);\n    SelectObject(hdcMem, hbrushOld);\n    SelectObject(hdcMem, hpenOld);\n    DeleteObject(hbrush);\n    DeleteObject(hpen);\n\n    // Create an icon from the bitmap.\n    // \n    // Icons require masks to indicate transparent and opaque areas. Since this\n    // simple example has no transparent areas, we use a fully opaque mask.\n    HBITMAP hbmpMask = CreateCompatibleBitmap(hdcScreen, width, height);\n    ICONINFO ii;\n    ii.fIcon = TRUE;\n    ii.hbmMask = hbmpMask;\n    ii.hbmColor = hbmp;\n    HICON hIcon = CreateIconIndirect(&amp;ii);\n    DeleteObject(hbmpMask);\n\n    // Clean-up.\n    SelectObject(hdcMem, hbmpOld);\n    DeleteObject(hbmp);\n    DeleteDC(hdcMem);\n    ReleaseDC(NULL, hdcScreen);\n\n    // Return the icon.\n    return hIcon;\n}\n\n\n# Solution Code:\nHICON CreateGradientColorIcon(COLORREF iconColor, int width, int height)\n{\n    HICON hIcon = 0;\n\n    ICONINFO ii = { TRUE };\n\n    ULONG n = width * height;\n\n    if (PULONG lpBits = new ULONG[n])\n    {\n        PULONG p = lpBits;\n\n        ULONG x, y = height, t;\n        do \n        {\n            x = width, t = --y &lt;&lt; 8;\n            do \n            {\n                *p++ = iconColor | ((t * --x) / n &lt;&lt; 24);\n            } while (x);\n\n        } while (y);\n\n        if (ii.hbmColor = CreateBitmap(width, height, 1, 32, lpBits))\n        {\n            if (ii.hbmMask = CreateBitmap(width, height, 1, 1, 0))\n            {\n                hIcon = CreateIconIndirect(&amp;ii);\n\n                DeleteObject(ii.hbmMask);\n            }\n\n            DeleteObject(ii.hbmColor);\n        }\n\n        delete [] lpBits;\n    }\n\n    return hIcon;\n}\n\n\nDestroyIcon\n\nCreateIconFromResourceEx\n\nLR_SHARED\n\nCreateIconIndirect\n\nCopyIcon\n\nLoadIcon\n\nLoadImage\n\nLR_SHARED\n\nCopyImage\n\nLR_COPYRETURNORG\n\nhImage\n\nCreateIconFromResource\n\nCreateIconFromResourceEx\n\nLR_SHARED\n\nDestroyIcon\n\nComboBoxEx\n\nCBEM_SETIMAGELIST\n\nComboBoxEx\n\nImageList_AddIcon\n\nImageList_AddIcon\n\nDrawIconEx(, DI_IMAGE|DI_MASK)",
    "resolution": "When do I actually have to destroy the icon? read about DestroyIcon It is only necessary to call DestroyIcon for icons and cursors created with the following functions: CreateIconFromResourceEx (if called without the LR_SHARED flag), CreateIconIndirect, and CopyIcon. Do not use this function to destroy a shared icon. A shared icon is valid as long as the module from which it was loaded remains in memory. The following functions obtain a shared icon. LoadIcon LoadImage (if you use the LR_SHARED flag) CopyImage (if you use the LR_COPYRETURNORG flag and the hImage parameter is a shared icon) CreateIconFromResource CreateIconFromResourceEx (if you use the LR_SHARED flag) so you need call DestroyIcon for not shared icon, when you are finished using it ComboBoxEx not destroy image list which you assign to it with CBEM_SETIMAGELIST - so this image list must be valid until ComboBoxEx valid and you must destroy it yourself later. ImageList_AddIcon Because the system does not save hicon, you can destroy it after the macro returns in other words ImageList_AddIcon make copy of your icon, and you can destroy your original icon, after macro return for create 32 bit color icon try code like this: HICON CreateGradientColorIcon(COLORREF iconColor, int width, int height) { HICON hIcon = 0; ICONINFO ii = { TRUE }; ULONG n = width * height; if (PULONG lpBits = new ULONG[n]) { PULONG p = lpBits; ULONG x, y = height, t; do { x = width, t = --y << 8; do { *p++ = iconColor | ((t * --x) / n << 24); } while (x); } while (y); if (ii.hbmColor = CreateBitmap(width, height, 1, 32, lpBits)) { if (ii.hbmMask = CreateBitmap(width, height, 1, 1, 0)) { hIcon = CreateIconIndirect(&ii); DeleteObject(ii.hbmMask); } DeleteObject(ii.hbmColor); } delete [] lpBits; } return hIcon; } when I draw (DrawIconEx(, DI_IMAGE|DI_MASK)) this icon over green mesh I view next:",
    "severity": "medium",
    "tags": [
      "c++",
      "winapi"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "41533158",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4415,
      "stackoverflow_creation_date": "2017-01-08T13:22:14.257Z"
    },
    "idempotency_key": "stackoverflow-41533158",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Convert TextIO stream into BinIO stream in Standard ML",
    "body": "In Standard ML, I have a function that writes to BinIO.outstream and I would like it to write to the standard output. While TextIO structure has stdOut of TextIO.outstream type, BinIO has no such variable, and TexIO.outstream is not compatible with BinIO.outstream: - f; val it = fn : BinIO.outstream -> unit - TextIO.stdOut; val it = - : TextIO.outstream - f TextIO.stdOut; stdIn:6.1-6.16 Error: operator and operand don't agree [tycon mismatch] operator domain: BinIO.outstream operand: TextIO.outstream in expression: f TextIO.stdOut Now what is easiest way to convert TextIO.outstream into BinIO.outstream? i.e. how to implement ??? below? - f (??? TextIO.stdOut); Update: For those who are interested, here is an implementation in accordance with Andreas' answer: fun textWriterToBinWriter (TextPrimIO.WR { name, chunkSize, writeVec, writeArr, writeVecNB, writeArrNB, block, canOutput, getPos, setPos, endPos, verifyPos, close, ioDesc }) = let fun convertWriteVec textWriteVec = textWriteVec o CharVectorSlice.full o Byte.unpackStringVec fun convertWriteArr textWriteArr = textWriteArr o CharArraySlice.full o CharArray.fromList o explode o Byte.unpackString in BinPrimIO.WR { name = name, chunkSize = chunkSize, writeVec = Option.map convertWriteVec writeVec, writeArr = Option.map convertWriteArr writeArr, writeVecNB = Option.map convertWriteVec writeVecNB, writeArrNB = Option.map convertWriteArr writeArrNB, block = block, canOutput = canOutput, getPos = getPos, setPos = setPos, endPos = endPos, verifyPos = verifyPos, close = close, ioDesc = ioDesc } end fun textStreamToBinStream' textStream = let val (textWriter, bufferMode) = TextIO.StreamIO.getWriter textStream in BinIO.StreamIO.mkOutstream (textWriterToBinWriter textWriter, bufferMode) end fun textStreamToBinStream textStream = let val textStream' = TextIO.getOutstream textStream in BinIO.mkOutstream (textStreamToBinStream' textStream') end",
    "code": "- f;\nval it = fn : BinIO.outstream -&gt; unit\n- TextIO.stdOut;\nval it = - : TextIO.outstream\n- f TextIO.stdOut;\nstdIn:6.1-6.16 Error: operator and operand don't agree [tycon mismatch]\n  operator domain: BinIO.outstream\n  operand:         TextIO.outstream\n  in expression:\n    f TextIO.stdOut\n\n\n- f (??? TextIO.stdOut);\n\n\nfun textWriterToBinWriter (TextPrimIO.WR { name,\n                                           chunkSize,\n                                           writeVec,\n                                           writeArr,\n                                           writeVecNB,\n                                           writeArrNB,\n                                           block,\n                                           canOutput,\n                                           getPos,\n                                           setPos,\n                                           endPos,\n                                           verifyPos,\n                                           close,\n                                           ioDesc }) =\n      let\n        fun convertWriteVec textWriteVec =\n            textWriteVec o CharVectorSlice.full o Byte.unpackStringVec\n        fun convertWriteArr textWriteArr =\n            textWriteArr o CharArraySlice.full o CharArray.fromList o explode o Byte.unpackString\n      in\n        BinPrimIO.WR {\n          name = name,\n          chunkSize = chunkSize,\n          writeVec = Option.map convertWriteVec writeVec,\n          writeArr = Option.map convertWriteArr writeArr,\n          writeVecNB = Option.map convertWriteVec writeVecNB,\n          writeArrNB = Option.map convertWriteArr writeArrNB,\n          block = block,\n          canOutput = canOutput,\n          getPos = getPos,\n          setPos = setPos,\n          endPos = endPos,\n          verifyPos = verifyPos,\n          close = close,\n          ioDesc = ioDesc }\n      end\n\nfun textStreamToBinStream' textStream =\n      let\n        val (textWriter, bufferMode) = TextIO.StreamIO.getWriter textStream\n      in\n        BinIO.StreamIO.mkOutstream (textWriterToBinWriter textWriter, bufferMode)\n      end\n\nfun textStreamToBinStream textStream =\n      let\n        val textStream' = TextIO.getOutstream textStream\n      in\n        BinIO.mkOutstream (textStreamToBinStream' textStream')\n      end\n\n\nBinIO.outstream\n\nTextIO\n\nstdOut\n\nTextIO.outstream\n\nBinIO\n\nTexIO.outstream\n\nBinIO.outstream\n\nTextIO.outstream\n\nBinIO.outstream\n\n???\n\n# Solution Code:\nByte\n\nTextPrimIO.writer -&gt; BinPrimIO.writer\n\nTextIO.StreamIO.outstream -&gt; BinIO.StreamIO.outstream\n\nTextIO.outstream -&gt; BinIO.outstream\n\nstdout\n\nByte",
    "resolution": "In principle, it should be possible to write a TextIO.outstream to BinIO.outstream conversion function (or vice versa), but while relatively mechanical, it requires a bit of work. You need to implement: using the Byte structure, a conversion function TextPrimIO.writer -> BinPrimIO.writer using that, a conversion function TextIO.StreamIO.outstream -> BinIO.StreamIO.outstream using that, a conversion function TextIO.outstream -> BinIO.outstream However, I doubt it is recommended doing a conversion like that. In particular, OS interfaces and tools typically assume that stdout and friends are, in fact, text streams. If all you need is to write a Word8 vector, then it should be enough to convert it to string beforehand, e.g. using the Byte structure.",
    "severity": "low",
    "tags": [
      "sml"
    ],
    "metadata": {
      "stackoverflow_question_id": "41548892",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 179,
      "stackoverflow_creation_date": "2017-01-09T13:12:59.587Z"
    },
    "idempotency_key": "stackoverflow-41548892",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Create a color vector in VBA",
    "body": "I want to check through multiple years worth of data sheets to find specifically colored cells. Humans have not consistently chosen the same cell color throughout the years (they may all be the same to the human eye, but have different RGB values). If I have a cell with the interior color RGB(255,23,50), is there a way to create a color vector to see if a cell's interior color falls on it? I am looking to create a vector with +/- 15 RGB points, so if I am searching for cells with RGB(255,23,50) I want a vector between RGB(255,38,65) and RGB(240,8,35). I could use an IF statement to see if the color falls between those two values, but I could use a color vector for more applications (and the code would be easier to modify if it needed to be changed). This if statement works: If ActiveWorkbook.Worksheets(\"Sheet1\").Range(\"e5\").Interior.Color >= RGB(240, 8, 35) And ActiveWorkbook.Worksheets(\"Sheet1\").Range(\"e5\").Interior.Color <= RGB(255, 38, 65) Then MsgBox (\"yes\") Else MsgBox (\"no\") End If I am looking for something more along the lines of: dim redVector as long ' or other appropriate variable type ' ***** code that defines the red vector ***** if range(\"e5\").interior.color = redVector then ' do stuff end if",
    "code": "If ActiveWorkbook.Worksheets(\"Sheet1\").Range(\"e5\").Interior.Color &gt;= RGB(240, 8, 35) And ActiveWorkbook.Worksheets(\"Sheet1\").Range(\"e5\").Interior.Color &lt;= RGB(255, 38, 65) Then\n    MsgBox (\"yes\")\nElse\n    MsgBox (\"no\")\nEnd If\n\n\ndim redVector as long ' or other appropriate variable type\n\n' ***** code that defines the red vector *****\n\nif range(\"e5\").interior.color = redVector then\n    ' do stuff\nend if\n\n\n# Solution Code:\nFunction IsInVector(srcColor, newColor, lOffset As Long) As Boolean\n\n    Dim lSrcColor As Long\n    Dim lNewColor As Long\n    Dim lTemp     As Long\n\n    lSrcColor = CLng(srcColor)\n    lNewColor = CLng(newColor)\n\n    lTemp = (lSrcColor - lNewColor) / 65536\n    lTemp = Abs(Round(lTemp, 0))\n\n    If lOffset &lt;&gt; lTemp Then\n        IsInVector = False\n    Else\n        IsInVector = True\n    End If\n\nEnd Function\n\n'/ Example usage::::  \nSub test()\n\n    Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 38, 65), 15) '~~~&gt; True\n    Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 43, 63), 15) '~~~&gt; False\n    Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 38, 65), 15) '~~~&gt; True\n\nEnd Sub\n",
    "resolution": "This should do: Function IsInVector(srcColor, newColor, lOffset As Long) As Boolean Dim lSrcColor As Long Dim lNewColor As Long Dim lTemp As Long lSrcColor = CLng(srcColor) lNewColor = CLng(newColor) lTemp = (lSrcColor - lNewColor) / 65536 lTemp = Abs(Round(lTemp, 0)) If lOffset <> lTemp Then IsInVector = False Else IsInVector = True End If End Function '/ Example usage:::: Sub test() Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 38, 65), 15) '~~~> True Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 43, 63), 15) '~~~> False Debug.Print IsInVector(RGB(255, 23, 50), RGB(255, 38, 65), 15) '~~~> True End Sub",
    "severity": "low",
    "tags": [
      "excel",
      "vba",
      "colors"
    ],
    "metadata": {
      "stackoverflow_question_id": "41699348",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 198,
      "stackoverflow_creation_date": "2017-01-17T14:12:14.677Z"
    },
    "idempotency_key": "stackoverflow-41699348",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to archive the content of a folder recursively as artifacts on Jenkins?",
    "body": "My jenkins job creates a temporary subfolder, say \"mydir\", within the workspace that I then want to archive using the postbuild step \"Archive artifacts\". I'm using the following command: mydir/**/* It works well but the archive will always contains mydir as the root of the artifacts whereas I would like to have the contents of this folder only. How to do this?",
    "code": "mydir/**/*\n\n\n# Solution Code:\n    stage('Archive') {\n        steps {\n            dir('mydir') {\n                archiveArtifacts artifacts: '**'\n            }\n        }\n    }\n\n\ndir()",
    "resolution": "You can use dir() to archive the artifact from inside the desired directory: stage('Archive') { steps { dir('mydir') { archiveArtifacts artifacts: '**' } } } https://jenkins.io/doc/pipeline/steps/workflow-basic-steps/#dir-change-current-directory",
    "severity": "high",
    "tags": [
      "recursion",
      "jenkins",
      "directory",
      "artifacts"
    ],
    "metadata": {
      "stackoverflow_question_id": "41839885",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 22919,
      "stackoverflow_creation_date": "2017-01-24T22:09:39.173Z"
    },
    "idempotency_key": "stackoverflow-41839885",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Picasso + RxJava2: Method call should happen from the main thread",
    "body": "This was my initial Question: I am trying to show a few images in the AutoScrollViewPager. I am using Picasso to achieve the same. However, I would like to do the same with using Rxjava2 + Picasso. I am kinda new to this RxJava concept. So if anyone can help me with details if possible, to convert the below into RxJava code, I would really appreciate it. This is what I do in onViewCreated() imageAdapter = new ImageAdapter(getActivity()); autoScrollViewPager.setAdapter(imageAdapter); autoScrollViewPager.setCurrentItem(imageAdapter.getCount() - 1); autoScrollViewPager.startAutoScroll(); autoScrollViewPager.setInterval(4000); This is my ImageAdapter ImageAdapter(Context context){ this.context=context; mLayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE); } @Override public int getCount() { return GalImages.length; } @Override public boolean isViewFromObject(View view, Object object) { return view == ((RelativeLayout) object); } @Override public Object instantiateItem(ViewGroup container, int position) { LayoutInflater inflater = (LayoutInflater) container.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE); View view = inflater.inflate(R.layout.pager_item,null); ((ViewPager) container).addView(view); final ImageView img = (ImageView) view.findViewById(R.id.imageView); Picasso.with(context) .load(GalImages[position]) .fit() .into(img); return view; } @Override public void destroyItem(ViewGroup container, int position, Object object) { container.removeView((RelativeLayout)object); } How can I convert this into RxJava code? Any help will be appreciated. This is what I tried to do I changed my ImageAdapter a bit: @Override public Object instantiateItem(ViewGroup container, int position) { LayoutInflater inflater = (LayoutInflater) container.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE); View view = inflater.inflate(R.layout.pager_item,null); ((ViewPager) container).addView(view); img = (ImageView) view.findViewById(R.id.imageView); loadImagesWithPicasso(position) .subscribeOn(Schedulers.newThread()) .observeOn(AndroidSchedulers.mainThread()) .subscribe(); return view; } public Completable loadImagesWithPicasso(int position) { return Completable.fromAction(new Action() { @Override public void run() throws Exception { Picasso.with(context) .load(GalImages[position]) .fit() .into(new Target() { @Override public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) { } @Override public void onBitmapFailed(Drawable errorDrawable) { } @Override public void onPrepareLoad(Drawable placeHolderDrawable) { img.setImageDrawable(placeHolderDrawable); } }); } }); } But this, unfortunately, did not work and I ended up with this error: java.lang.IllegalStateException: Method call should happen from the main thread. at com.squareup.picasso.Utils.checkMain(Utils.java:136) at com.squareup.picasso.RequestCreator.into(RequestCreator.java:496) at com.kaaddevelopers.myprescriptor.ImageAdapter$1.run(ImageAdapter.java:79) at io.reactivex.internal.operators.completable.CompletableFromAction.subscribeActual(CompletableFromAction.java:34) at io.reactivex.Completable.subscribe(Completable.java:1613) at io.reactivex.internal.operators.completable.CompletableSubscribeOn$SubscribeOnObserver.run(CompletableSubscribeOn.java:64) at io.reactivex.Scheduler$1.run(Scheduler.java:134) at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:59) at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:51) at java.util.concurrent.FutureTask.run(FutureTask.java:237) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588) at java.lang.Thread.run(Thread.java:818) Any help will be appreciated. :)",
    "code": "imageAdapter = new ImageAdapter(getActivity());\nautoScrollViewPager.setAdapter(imageAdapter);\nautoScrollViewPager.setCurrentItem(imageAdapter.getCount() - 1);\nautoScrollViewPager.startAutoScroll();\nautoScrollViewPager.setInterval(4000);\n\n\nImageAdapter(Context context){\n    this.context=context;\n    mLayoutInflater = (LayoutInflater) context.getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n}\n\n@Override\npublic int getCount() {\n    return GalImages.length;\n}\n\n@Override\npublic boolean isViewFromObject(View view, Object object) {\n    return view == ((RelativeLayout) object);\n}\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    LayoutInflater inflater = (LayoutInflater) container.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View view = inflater.inflate(R.layout.pager_item,null);\n    ((ViewPager) container).addView(view);\n    final ImageView img = (ImageView) view.findViewById(R.id.imageView);\n    Picasso.with(context)\n            .load(GalImages[position])\n            .fit()\n            .into(img);\n    return view;\n}\n\n@Override\npublic void destroyItem(ViewGroup container, int position, Object object) {\n    container.removeView((RelativeLayout)object);\n}\n\n\n@Override\npublic Object instantiateItem(ViewGroup container, int position) {\n    LayoutInflater inflater = (LayoutInflater) container.getContext().getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n    View view = inflater.inflate(R.layout.pager_item,null);\n    ((ViewPager) container).addView(view);\n    img = (ImageView) view.findViewById(R.id.imageView);\n    loadImagesWithPicasso(position)\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe();\n    return view;\n}\n\npublic Completable loadImagesWithPicasso(int position) {\n   return Completable.fromAction(new Action() {\n       @Override\n       public void run() throws Exception {\n           Picasso.with(context)\n                  .load(GalImages[position])\n                  .fit()\n                  .into(new Target() {\n                            @Override\n                            public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n\n                            }\n\n                            @Override\n                            public void onBitmapFailed(Drawable errorDrawable) {\n\n                            }\n\n                            @Override\n                            public void onPrepareLoad(Drawable placeHolderDrawable) {\n                                img.setImageDrawable(placeHolderDrawable);\n                            }\n                        });\n       }\n   });\n}\n\n\njava.lang.IllegalStateException: Method call should happen from the main thread.\nat com.squareup.picasso.Utils.checkMain(Utils.java:136)\nat com.squareup.picasso.RequestCreator.into(RequestCreator.java:496)\nat com.kaaddevelopers.myprescriptor.ImageAdapter$1.run(ImageAdapter.java:79)\nat io.reactivex.internal.operators.completable.CompletableFromAction.subscribeActual(CompletableFromAction.java:34)\nat io.reactivex.Completable.subscribe(Completable.java:1613)\nat io.reactivex.internal.operators.completable.CompletableSubscribeOn$SubscribeOnObserver.run(CompletableSubscribeOn.java:64)\nat io.reactivex.Scheduler$1.run(Scheduler.java:134)\nat io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:59)\nat io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:51)\nat java.util.concurrent.FutureTask.run(FutureTask.java:237)\nat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:269)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1113)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:588)\nat java.lang.Thread.run(Thread.java:818)\n\n\nAutoScrollViewPager\n\nonViewCreated()\n\nImageAdapter\n\nImageAdapter\n\n# Solution Code:\ncontext.runOnUiThread(new Runnable() {\n    @Override\n    public void run() {\n         // Can call RequestCreator.into here\n    }\n});\n\n\ninstantiateItem\n\nLooper.getMainLooper()\n\nRequestCreator.get()\n\nRequestCreator.into()\n\nPicasso",
    "resolution": "You are loading the image from the executor thread, which Picasso doesn't allow (this is pour choice if you ask me, there are better ways to deal with sync issues, but that's the way it is now). You can see the details of this decision in this thread: It was a mistake from Picasso to allow external callers to invoke into() other than the main thread. Those methods deal with view recycling and canceling without synchronization, hence in Picasso 2.3 we added the checks. There are several options for you. You can do the whole instantiateItem work in the UI thread, if you pass Looper.getMainLooper() in, or you can use RequestCreator.get() method instead of RequestCreator.into(), or wrap your Picasso work with: context.runOnUiThread(new Runnable() { @Override public void run() { // Can call RequestCreator.into here } });",
    "severity": "medium",
    "tags": [
      "java",
      "android",
      "picasso",
      "rx-java2"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "41908613",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3861,
      "stackoverflow_creation_date": "2017-01-28T10:17:54.443Z"
    },
    "idempotency_key": "stackoverflow-41908613",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "UIAlertController how add the tag value in obj c",
    "body": "Using this for UIAlertView - (void) alertStatus:(NSString *)msg :(NSString *)title :(int) tag { UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:title message:msg delegate:self cancelButtonTitle:@\"OK\" otherButtonTitles:nil, nil]; alertView.tag = tag; [alertView show]; } But now UIAlertView get deprecated. change my code UIAlertController *alertController = [UIAlertController alertControllerWithTitle:title message:msg preferredStyle:UIAlertControllerStyleAlert]; UIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:nil]; [alertController addAction:MyAlert]; [self presentViewController:alertController animated:YES completion:nil]; Here how can pass this tag value alertView.tag = tag; Help how to pass the tag value in UIAlertController. Thanks advance.",
    "code": "- (void) alertStatus:(NSString *)msg :(NSString *)title :(int) tag\n{\n    UIAlertView *alertView = [[UIAlertView alloc] initWithTitle:title\n                                                        message:msg\n                                                       delegate:self\n                                              cancelButtonTitle:@\"OK\"\n                                              otherButtonTitles:nil, nil];\n    alertView.tag = tag;\n    [alertView show];\n}\n\n\n UIAlertController *alertController = [UIAlertController alertControllerWithTitle:title message:msg preferredStyle:UIAlertControllerStyleAlert];\n    UIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:nil];\n    [alertController addAction:MyAlert];\n   [self presentViewController:alertController animated:YES completion:nil];\n\n\nalertView.tag = tag;\n\n\n# Solution Code:\nUIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"sds\" message:@\"sdf\" preferredStyle:UIAlertControllerStyleAlert];\nalertController.view.tag = tag;\nUIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:nil];\n[alertController addAction:MyAlert];\n[self presentViewController:alertController animated:YES completion:nil];\n\n\nUIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"sds\" message:@\"sdf\" preferredStyle:UIAlertControllerStyleAlert];\nalertController.view.tag = 3;\nUIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action)\n                          {\n                              // OK button tappped.\n                              [self dismissViewControllerAnimated:YES completion:^{\n\n                              }];\n\n                          }];\n[alertController addAction:MyAlert];\n[self presentViewController:alertController animated:YES completion:nil];\n\n\nUIAlertController\n\nUIViewController\n\nalertController.view.tag",
    "resolution": "UIAlertController is the UIViewController , so we need to assign the tag for view, soe use alertController.view.tag. UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"sds\" message:@\"sdf\" preferredStyle:UIAlertControllerStyleAlert]; alertController.view.tag = tag; UIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:nil]; [alertController addAction:MyAlert]; [self presentViewController:alertController animated:YES completion:nil]; update UIAlertController *alertController = [UIAlertController alertControllerWithTitle:@\"sds\" message:@\"sdf\" preferredStyle:UIAlertControllerStyleAlert]; alertController.view.tag = 3; UIAlertAction* MyAlert = [UIAlertAction actionWithTitle:@\"OK\" style:UIAlertActionStyleDefault handler:^(UIAlertAction *action) { // OK button tappped. [self dismissViewControllerAnimated:YES completion:^{ }]; }]; [alertController addAction:MyAlert]; [self presentViewController:alertController animated:YES completion:nil];",
    "severity": "medium",
    "tags": [
      "ios",
      "objective-c",
      "iphone",
      "uialertview"
    ],
    "metadata": {
      "stackoverflow_question_id": "41931826",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 5591,
      "stackoverflow_creation_date": "2017-01-30T08:48:22.770Z"
    },
    "idempotency_key": "stackoverflow-41931826",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Infinite ListView on iOS after refreshing jumps to first item",
    "body": "I have been created ListView that has infinite scrolling with help on ObservableRangeCollection. It works good on Android, but on iOS it jumps to start whenever it adds new items. Paginating is done with behavior. ListView is a FlowListView. Here is XAML: ... FlowItemsSource=\"{Binding Profiles.Result} ... <controls:FlowListView.Behaviors> <behaviors:FlowListViewPaginating Command=\"{Binding LoadMoreCommand}\" Converter=\"{StaticResource ItemVisibilityConverter}\"> </behaviors:FlowListViewPaginating> </controls:FlowListView.Behaviors> ... Behavior: public class FlowListViewPaginating : Behavior<FlowListView> { public FlowListView AssosiatedObject { get; private set; } public static readonly BindableProperty CommandProperty = BindableProperty.Create(\"Command\", typeof(DelegateCommand<Profile>), typeof(FlowListViewPaginating), null); public static readonly BindableProperty InputConverterProperty = BindableProperty.Create(\"Converter\", typeof(IValueConverter), typeof(FlowListViewPaginating), null); public DelegateCommand<Profile> Command { get { return ( DelegateCommand<Profile> )GetValue(CommandProperty); } set { SetValue(CommandProperty, value); } } public IValueConverter Converter { get { return ( IValueConverter )GetValue(InputConverterProperty); } set { SetValue(InputConverterProperty, value); } } protected override void OnAttachedTo(FlowListView bindable) { base.OnAttachedTo(bindable); AssosiatedObject = bindable; bindable.BindingContextChanged += OnBindingContextChanged; bindable.ItemAppearing += OnItemAppearing; } protected override void OnDetachingFrom(FlowListView bindable) { base.OnDetachingFrom(bindable); bindable.BindingContextChanged -= OnBindingContextChanged; bindable.ItemAppearing -= OnItemAppearing; AssosiatedObject = null; } private void OnItemAppearing(object sender, ItemVisibilityEventArgs e) { var flowListView = ( FlowListView )sender; if ( flowListView.IsRefreshing ) return; if ( Command == null ) return; var parameter = Converter.Convert(e, typeof(object), null, null) as Profile; if ( Command.CanExecute(parameter) ) Command.Execute(parameter); } protected void OnBindingContextChanged(object sender, EventArgs e) { OnBindingContextChanged(); } protected override void OnBindingContextChanged() { base.OnBindingContextChanged(); BindingContext = AssosiatedObject.BindingContext; } } Converter for Behavior: public class ItemVisibilityEventConverter : IValueConverter { public object Convert(object value, Type targetType, object parameter, CultureInfo culture) { var eventArgs = value as ItemVisibilityEventArgs; var collection = eventArgs?.Item as System.Collections.ObjectModel.ObservableCollection<object>; return collection[0]; } public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture) { throw new NotImplementedException(); } } My collection: public NotifyTask<ObservableRangeCollection<Profile>> Profiles { get; set; } NotifyTask has nothing to do with the collection. It is just a wrapper. A method where I add items: private async Task OnLoadMore(Profile lastProfile) { IsBusy = true; _pageNumber++; Profiles.Result.AddRange(await _manager.GetProfilesAsync(_parameters.NextPage())); IsBusy = false; }",
    "code": "...\nFlowItemsSource=\"{Binding Profiles.Result}\n...\n&lt;controls:FlowListView.Behaviors&gt;\n        &lt;behaviors:FlowListViewPaginating\n          Command=\"{Binding LoadMoreCommand}\"\n          Converter=\"{StaticResource ItemVisibilityConverter}\"&gt;\n        &lt;/behaviors:FlowListViewPaginating&gt;\n      &lt;/controls:FlowListView.Behaviors&gt;\n...\n\n\npublic class FlowListViewPaginating : Behavior&lt;FlowListView&gt;\n    {\n        public FlowListView AssosiatedObject { get; private set; }\n\n        public static readonly BindableProperty CommandProperty =\n            BindableProperty.Create(\"Command\", typeof(DelegateCommand&lt;Profile&gt;), typeof(FlowListViewPaginating), null);\n\n        public static readonly BindableProperty InputConverterProperty =\n            BindableProperty.Create(\"Converter\", typeof(IValueConverter), typeof(FlowListViewPaginating), null);\n\n\n        public DelegateCommand&lt;Profile&gt; Command\n        {\n            get { return ( DelegateCommand&lt;Profile&gt; )GetValue(CommandProperty); }\n            set { SetValue(CommandProperty, value); }\n        }\n\n        public IValueConverter Converter\n        {\n            get { return ( IValueConverter )GetValue(InputConverterProperty); }\n            set { SetValue(InputConverterProperty, value); }\n        }\n\n        protected override void OnAttachedTo(FlowListView bindable)\n        {\n            base.OnAttachedTo(bindable);\n\n            AssosiatedObject = bindable;\n            bindable.BindingContextChanged += OnBindingContextChanged;\n            bindable.ItemAppearing += OnItemAppearing;\n        }\n\n        protected override void OnDetachingFrom(FlowListView bindable)\n        {\n            base.OnDetachingFrom(bindable);\n\n            bindable.BindingContextChanged -= OnBindingContextChanged;\n            bindable.ItemAppearing -= OnItemAppearing;\n            AssosiatedObject = null;\n        }\n\n        private void OnItemAppearing(object sender, ItemVisibilityEventArgs e)\n        {\n            var flowListView = ( FlowListView )sender;\n\n            if ( flowListView.IsRefreshing ) return;\n            if ( Command == null ) return;\n\n            var parameter = Converter.Convert(e, typeof(object), null, null) as Profile;\n            if ( Command.CanExecute(parameter) )\n                Command.Execute(parameter);\n        }\n\n        protected void OnBindingContextChanged(object sender, EventArgs e)\n        {\n            OnBindingContextChanged();\n        }\n\n        protected override void OnBindingContextChanged()\n        {\n            base.OnBindingContextChanged();\n\n            BindingContext = AssosiatedObject.BindingContext;\n        }\n\n\n    }\n\n\npublic class ItemVisibilityEventConverter : IValueConverter\n    {\n        public object Convert(object value, Type targetType, object parameter, CultureInfo culture)\n        {\n            var eventArgs = value as ItemVisibilityEventArgs;\n            var collection = eventArgs?.Item as System.Collections.ObjectModel.ObservableCollection&lt;object&gt;;\n            return collection[0];\n        }\n\n        public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)\n        {\n            throw new NotImplementedException();\n        }\n    }\n\n\npublic NotifyTask&lt;ObservableRangeCollection&lt;Profile&gt;&gt; Profiles { get; set; }\n\n\nprivate async Task OnLoadMore(Profile lastProfile)\n        {\n            IsBusy = true;\n            _pageNumber++;\n            Profiles.Result.AddRange(await _manager.GetProfilesAsync(_parameters.NextPage()));\n            IsBusy = false;\n        }\n\n\nNotifyTask\n\n# Solution Code:\n&lt;flv:FlowListView FlowColumnCount=\"3\" SeparatorVisibility=\"None\" HasUnevenRows=\"false\"\n    FlowItemTappedCommand=\"{Binding ItemTappedCommand}\" FlowLastTappedItem=\"{Binding LastTappedItem}\"\n    FlowItemsSource=\"{Binding Items}\" Grid.ColumnSpan=\"2\"&gt;\n\n    &lt;flv:FlowListView.FlowColumnTemplate&gt;\n        &lt;DataTemplate&gt;\n            &lt;Label HorizontalOptions=\"Fill\" VerticalOptions=\"Fill\" \n                XAlign=\"Center\" YAlign=\"Center\" Text=\"{Binding Title}\"/&gt;\n        &lt;/DataTemplate&gt;\n    &lt;/flv:FlowListView.FlowColumnTemplate&gt;\n\n&lt;/flv:FlowListView&gt;\n\n\npublic UpdateItemsPageModel()\n{\n    AddCommand = new BaseCommand((arg) =&gt;\n    {\n        insertId++;\n        Items.Insert(10, new SimpleItem() { Title = string.Format(\"New {0}\", insertId) }); \n    });\n\n    RemoveCommand = new BaseCommand((arg) =&gt;\n    {\n        Items.RemoveAt(10);\n    });\n}\n\npublic ObservableCollection&lt;object&gt; Items\n{\n    get { return GetField&lt;ObservableCollection&lt;object&gt;&gt;(); }\n    set { SetField(value); }\n}\n\n\nFlowItemAppearing\n\nFlowItemDissappearing\n\nItemAppearing\n\nItemDissappearing\n\nFlowListView",
    "resolution": "You should use FlowItemAppearing / FlowItemDissappearing instead ItemAppearing / ItemDissappearing. It provides actual FlowListView items. There's an example with adding / removing items to the list, here: https://github.com/daniel-luberda/DLToolkit.Forms.Controls/blob/master/Samples/DLToolkitControlsSamples/SamplesFlowListView/UpdateItemsPage.xaml https://github.com/daniel-luberda/DLToolkit.Forms.Controls/blob/master/Samples/DLToolkitControlsSamples/SamplesFlowListView/UpdateItemsPageModel.cs Those examples won't scroll your list on iOS / Android when items are updated. Please be sure to use the newest nuget package. XAML: <flv:FlowListView FlowColumnCount=\"3\" SeparatorVisibility=\"None\" HasUnevenRows=\"false\" FlowItemTappedCommand=\"{Binding ItemTappedCommand}\" FlowLastTappedItem=\"{Binding LastTappedItem}\" FlowItemsSource=\"{Binding Items}\" Grid.ColumnSpan=\"2\"> <flv:FlowListView.FlowColumnTemplate> <DataTemplate> <Label HorizontalOptions=\"Fill\" VerticalOptions=\"Fill\" XAlign=\"Center\" YAlign=\"Center\" Text=\"{Binding Title}\"/> </DataTemplate> </flv:FlowListView.FlowColumnTemplate> </flv:FlowListView> View model: public UpdateItemsPageModel() { AddCommand = new BaseCommand((arg) => { insertId++; Items.Insert(10, new SimpleItem() { Title = string.Format(\"New {0}\", insertId) }); }); RemoveCommand = new BaseCommand((arg) => { Items.RemoveAt(10); }); } public ObservableCollection<object> Items { get { return GetField<ObservableCollection<object>>(); } set { SetField(value); } }",
    "severity": "medium",
    "tags": [
      "listview",
      "xamarin",
      "xamarin.ios",
      "xamarin.forms",
      "observablecollection"
    ],
    "metadata": {
      "framework": "xamarin",
      "stackoverflow_question_id": "41978469",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1103,
      "stackoverflow_creation_date": "2017-02-01T11:18:37.897Z"
    },
    "idempotency_key": "stackoverflow-41978469",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "In pytest, how to make sure the module level fixture is called before class level",
    "body": "My pytest is old(version 2.8.3). pytestmark = pytest.mark.usefixtures(\"module_level\") @pytest.fixture(scope='module') def module_level(request): print(\"module start\") def fin(): print(\"module end\") request.addfinalizer(fin) @pytest.fixture(scope='class') def class_level(request): print(\"class start\") def fin(): print(\"class end\") request.addfinalizer(fin) @pytest.mark.usefixtures(\"class_level\") class TestMyClass: def test_func(self): pass However, the order I got is: class start module start class end module end which is not what I want. So what's the right way to write a module level setup/cleanup fixture (and make sure it does the setup before everything and clean up after everything)?",
    "code": "pytestmark = pytest.mark.usefixtures(\"module_level\")\n\n@pytest.fixture(scope='module')\ndef module_level(request):\n    print(\"module start\")\n    def fin():\n        print(\"module end\")\n    request.addfinalizer(fin)\n\n@pytest.fixture(scope='class')\ndef class_level(request):\n    print(\"class start\")\n    def fin():\n        print(\"class end\")\n    request.addfinalizer(fin)\n\n@pytest.mark.usefixtures(\"class_level\")\nclass TestMyClass:  \n    def test_func(self):\n        pass\n\n\nclass start\nmodule start\nclass end\nmodule end\n\n\n# Solution Code:\nimport pytest\n\n@pytest.fixture(scope='module')\ndef module_level(request):\n    print(\"module start\")\n    def fin():\n        print(\"module end\")\n    request.addfinalizer(fin)\n\n@pytest.fixture(scope='class')\ndef class_level(request, module_level):\n    print(\"class start\")\n    def fin():\n        print(\"class end\")\n    request.addfinalizer(fin)\n\n@pytest.mark.usefixtures(\"class_level\")\nclass TestMyClass:\n    def test_func(self):\n        pass\n\n\nimport pytest\n\npytestmark = pytest.mark.usefixtures(\"module_level\")\n\n@pytest.fixture(scope='module')\ndef module_level(request):\n    print(\"module start\")\n    def fin():\n        print(\"module end\")\n    request.addfinalizer(fin)\n\n@pytest.fixture(scope='class')\ndef class_level(request):\n    print(\"class start\")\n    def fin():\n        print(\"class end\")\n    request.addfinalizer(fin)\n\n@pytest.mark.usefixtures(\"class_level\")\n@pytestmark\nclass TestMyClass:\n    def test_func(self):\n        pass\n\n\nimport pytest\n\npytestmark = pytest.mark.usefixtures(\"module_level\")\n\n@pytest.fixture(scope='module')\ndef module_level(request):\n    print(\"module start\")\n    def fin():\n        print(\"module end\")\n    request.addfinalizer(fin)\n\n@pytest.fixture(scope='class')\ndef class_level(request):\n    print(\"class start\")\n    def fin():\n        print(\"class end\")\n    request.addfinalizer(fin)\n\ndef test_case():\n    assert True\n\n@pytest.mark.usefixtures(\"class_level\")\nclass TestMyClass:\n    def test_func(self):\n        pass\n\n\n::TestMyClass::test_func module start\nclass start\nclass end\nmodule end\n\n\n::TestMyClass::test_func module start\nclass start\nclass end\nmodule end\n\n\n::test_case module start\n::TestMyClass::test_func class start\nclass end\nmodule end\n",
    "resolution": "pytest process the tests in the order they are written in a test file and loads the fixtures in the sequence as they are needed. See the documentation about fixtures. In your example, you pytest starts first with a class test, and the module dependency is loaded afterwards. There are multiple possibilities if you want to setup the \"module\" first a) module_level is used as a parameter by class_level and therefore loaded in front (pytestmark is not needed) import pytest @pytest.fixture(scope='module') def module_level(request): print(\"module start\") def fin(): print(\"module end\") request.addfinalizer(fin) @pytest.fixture(scope='class') def class_level(request, module_level): print(\"class start\") def fin(): print(\"class end\") request.addfinalizer(fin) @pytest.mark.usefixtures(\"class_level\") class TestMyClass: def test_func(self): pass b) using @pytestmark as as requirement for the class-test and therefore it is loaded in front import pytest pytestmark = pytest.mark.usefixtures(\"module_level\") @pytest.fixture(scope='module') def module_level(request): print(\"module start\") def fin(): print(\"module end\") request.addfinalizer(fin) @pytest.fixture(scope='class') def class_level(request): print(\"class start\") def fin(): print(\"class end\") request.addfinalizer(fin) @pytest.mark.usefixtures(\"class_level\") @pytestmark class TestMyClass: def test_func(self): pass c) setup a function-test in front a class-test, this will execute module_level first import pytest pytestmark = pytest.mark.usefixtures(\"module_level\") @pytest.fixture(scope='module') def module_level(request): print(\"module start\") def fin(): print(\"module end\") request.addfinalizer(fin) @pytest.fixture(scope='class') def class_level(request): print(\"class start\") def fin(): print(\"class end\") request.addfinalizer(fin) def test_case(): assert True @pytest.mark.usefixtures(\"class_level\") class TestMyClass: def test_func(self): pass this loads \"module\" in front of \"class\" in each case (pytest-2.8.7): a) ::TestMyClass::test_func module start class start class end module end b) ::TestMyClass::test_func module start class start class end module end c) ::test_case module start ::TestMyClass::test_func class start class end module end",
    "severity": "medium",
    "tags": [
      "python",
      "pytest",
      "fixture"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "42032084",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 4707,
      "stackoverflow_creation_date": "2017-02-03T19:56:47.500Z"
    },
    "idempotency_key": "stackoverflow-42032084",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "google recaptcha response is null [PHP, localhost]",
    "body": "I need a little help for a problem with Google Recaptcha in a site I am developing in my pc (so localhost) before transferring to the open internet. I signed up for Google Recaptcha and got a pair of keys. I created this form in a php page: <div> <form action=\"\" method=\"POST\" name=\"formEmail\"> <section> <ul class=\"formMail\" id=\"ulMsg\"> <li> <label for=\"msg\">Messagge</label> </li><li> <textarea class=\"datoForm autoExpand\" name=\"msg\" id=\"msg\" placeholder=\"Type Msg\" rows='3' data-min-rows='3'></textarea> </li> </ul> </section> <div class=\"formMail\" id=\"captchaContainer\"> <div class=\"g-recaptcha\" data-sitekey=\"[Public_Key]\"></div> </div> <br/><input type=\"button\" value=\"Invia\" onclick=\"formSubmit();\"> </form> </div> Instead of a submit button I call a JS file to validate user input, if everything is fine I submit data to another php page which checks captcha too. Source of this php page is: if(isset($_POST['g-recaptcha-response'])){$captcha=$_POST['g-recaptcha-response'];} $secretKey = \"[Private_Key]\"; $ip = $_SERVER['REMOTE_ADDR']; $response=file_get_contents(\"https://www.google.com/recaptcha/api/siteverify?secret=\".$secretKey.\"&response=\".$captcha.\"&remoteip=\".$ip); $responseKeys = json_decode($response,true); Here is the problem: I don't get anything! I tried var_dump($responseKeys); but all I get is NULL. I do not get any other error, the captcha shows fine in the form and seems to work regularly. I am working in localhost, so my IP is 127.0.0.1, this should help but is useless. I do not have an \"open\" site to paste it and try, what am I doing wrong?",
    "code": "&lt;div&gt;\n  &lt;form action=\"\" method=\"POST\" name=\"formEmail\"&gt;\n    &lt;section&gt;\n      &lt;ul class=\"formMail\" id=\"ulMsg\"&gt;\n        &lt;li&gt;\n          &lt;label for=\"msg\"&gt;Messagge&lt;/label&gt;\n        &lt;/li&gt;&lt;li&gt;\n          &lt;textarea class=\"datoForm autoExpand\" name=\"msg\" id=\"msg\" placeholder=\"Type Msg\" rows='3' data-min-rows='3'&gt;&lt;/textarea&gt;\n        &lt;/li&gt;\n      &lt;/ul&gt;\n    &lt;/section&gt;\n\n    &lt;div class=\"formMail\" id=\"captchaContainer\"&gt;\n      &lt;div class=\"g-recaptcha\" data-sitekey=\"[Public_Key]\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;br/&gt;&lt;input type=\"button\" value=\"Invia\" onclick=\"formSubmit();\"&gt;                            \n  &lt;/form&gt;\n&lt;/div&gt;\n\n\nif(isset($_POST['g-recaptcha-response'])){$captcha=$_POST['g-recaptcha-response'];}\n$secretKey = \"[Private_Key]\";\n$ip = $_SERVER['REMOTE_ADDR'];\n$response=file_get_contents(\"https://www.google.com/recaptcha/api/siteverify?secret=\".$secretKey.\"&amp;response=\".$captcha.\"&amp;remoteip=\".$ip);\n$responseKeys = json_decode($response,true);\n\n\nvar_dump($responseKeys);\n\n\n# Solution Code:\n&lt;div&gt;\n\n&lt;div&gt;\n\n&lt;form&gt;\n\n&lt;div&gt;\n\n&lt;form&gt;\n\n&lt;div&gt;\n\n&lt;table&gt;\n\n&lt;form&gt;\n\n&lt;div&gt;\n\n&lt;form&gt;",
    "resolution": "Just had the same problem. It was a <div> tag causing the problem. My form was within a main <div> used to format the general layout of the form. The <form> tag doesn't HAVE to be within the main <div> I was using for the form layout. I moved the <form> tag just before my form layout <div> tag and it started working perfectly. The same can happen with <table> tags. You need to start the <form> tag before any tables used for formatting the form. So your problem is the <div> just before the <form>: <div> <form action=\"\" method=\"POST\" name=\"formEmail\"> Just reverse the 2 tags and it will work fine: <form action=\"\" method=\"POST\" name=\"formEmail\"> <div>",
    "severity": "high",
    "tags": [
      "php",
      "forms",
      "validation",
      "recaptcha"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "42054477",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 10947,
      "stackoverflow_creation_date": "2017-02-05T16:30:23.620Z"
    },
    "idempotency_key": "stackoverflow-42054477",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to *ngIf on router link?",
    "body": "I need to show some content on certain page, in other pages it shouldn't be visible. How do I achieve it ? it doesn't work *ngIf=\"[routerLink]=\"['/home']\"",
    "code": "*ngIf=\"[routerLink]=\"['/home']\"\n\n# Solution Code:\n// mycomponent.component.ts\nclass MyComponent {\n    constructor(public router: Router) {\n\n    }\n}\n\n// mycomponent.component.html\n&lt;div *ngIf=\"router.url === '/some/route'\"&gt;\n\n&lt;/div&gt;\n",
    "resolution": "You can inject Router from '@angular/router' and get the current route you're on. For example: // mycomponent.component.ts class MyComponent { constructor(public router: Router) { } } // mycomponent.component.html <div *ngIf=\"router.url === '/some/route'\"> </div>",
    "severity": "high",
    "tags": [
      "angular"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "42139277",
      "stackoverflow_score": 39,
      "stackoverflow_view_count": 54618,
      "stackoverflow_creation_date": "2017-02-09T14:27:52.607Z"
    },
    "idempotency_key": "stackoverflow-42139277",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why can't I find the int value in a binary",
    "body": "I compiled the following program on a 64-bit linux machine: #include <stdio.h> main() { int a = 12345; if (a == 12346) printf (\"YES\\n\"); return; } If I output the binary file using hexdump, I can find the 12346 (which is 303a in hex), but not the 12345 value (0x3039). Why is that? (little or big endian should make no difference in finding that value)",
    "code": "#include &lt;stdio.h&gt;\n\nmain()\n{\n    int a = 12345;\n\n    if (a == 12346)\n        printf (\"YES\\n\");\n\n    return;\n}\n\n\n# Solution Code:\nhexdump\n\n3039",
    "resolution": "Here’s where the values are in the output of plain hexdump for me; look at the bolded areas. 0000500 39fc 0030 8100 fc7d 303a 0000 0a75 a4bf If you were expecting to see 3039 as one group, that would explain the confusion. The actual bytes are: fc 39 30 00 00 81 7d fc 3a 30 00 00 75 0a bf a4 If you don’t want hexdump to do its “helpful” default output where it reinterprets the input as a sequence of little-endian two-byte words, you could spend an hour figuring out how to use its format strings or just pick xxd instead.",
    "severity": "low",
    "tags": [
      "c",
      "linux",
      "elf",
      "hexdump"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "42202384",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 151,
      "stackoverflow_creation_date": "2017-02-13T10:57:33.707Z"
    },
    "idempotency_key": "stackoverflow-42202384",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Is epoll_ctl() safe to be called simultaneously from multiple threads?",
    "body": "Assuming I have the epoll instance mEPoll, can I safely add (via EPOLL_CTL_ADD) or remove (via EPOLL_CTL_DEL) a socket handle via struct epoll_event event; event.data.fd = newFD; event.events = eventmask; epoll_ctl(mEPoll, EPOLL_CTL_ADD, newFD, &event); ...simultaneously from multiple threads, or do I need to add my own synchronisation primitive around epoll_ctl? EDIT: It has been suggested that this question answers my question here. However, that question seems to focus on whether it is safe to call epoll_ctl whilst waiting on epoll_wait: I already know that is safe. This question is purely asking about whether I can simultaneously make two calls to epoll_ctl and not run into problems.",
    "code": "struct epoll_event event;\nevent.data.fd = newFD;\nevent.events = eventmask;\nepoll_ctl(mEPoll, EPOLL_CTL_ADD, newFD, &amp;event);\n\n\nmEPoll\n\nEPOLL_CTL_ADD\n\nEPOLL_CTL_DEL\n\nepoll_ctl\n\nepoll_ctl\n\nepoll_wait\n\nepoll_ctl",
    "severity": "medium",
    "tags": [
      "c",
      "linux",
      "multithreading"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "42442052",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1506,
      "stackoverflow_creation_date": "2017-02-24T15:12:51.947Z"
    },
    "idempotency_key": "stackoverflow-42442052",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Raspberry pi, libarmmem.so (cannot open shared object file) error",
    "body": "I'm using my Pi as a file server, recently when I logged in I saw a error message stating that libarmmem.so (cannot open shared object file), and despite some suggestions to run apt-get update + upgrade it did not bring much joy as it freezes the progress and just hanging. Does anyone have any suggestion what else I could try other than reflash the card, which i would like to avoid. From the console after \"sudo apt-get update\": The programs included with the Debian GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. Last login: Fri Feb 24 15:55:35 2017 from vpn.lshtm.ac.uk ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. /usr/bin/xauth: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. admin@ProxyPi:~$ sudo apt-get update ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. 0% [Working]ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. Hit http://archive.raspberrypi.org jessie InRelease Hit http://mirrordirector.raspbian.org jessie InRelease Hit http://archive.raspbian.org jessie InRelease 12% [Waiting for headers] [Waiting for headers]ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. Hit http://mirrordirector.raspbian.org jessie/main armhf Packages Hit http://archive.raspbian.org jessie/main Sources Hit http://archive.raspberrypi.org jessie/main armhf Packages Hit http://mirrordirector.raspbian.org jessie/contrib armhf Packages Hit http://archive.raspbian.org jessie/contrib Sources Hit http://mirrordirector.raspbian.org jessie/non-free armhf Packages Hit http://archive.raspbian.org jessie/non-free Sources Hit http://archive.raspberrypi.org jessie/ui armhf Packages Hit http://mirrordirector.raspbian.org jessie/rpi armhf Packages Hit http://archive.raspbian.org jessie/rpi Sources Ign http://mirrordirector.raspbian.org jessie/contrib Translation-en_GB Ign http://archive.raspberrypi.org jessie/main Translation-en_GB Ign http://mirrordirector.raspbian.org jessie/contrib Translation-en Ign http://mirrordirector.raspbian.org jessie/main Translation-en_GB Ign http://archive.raspberrypi.org jessie/main Translation-en Ign http://mirrordirector.raspbian.org jessie/main Translation-en Ign http://mirrordirector.raspbian.org jessie/non-free Translation-en_GB Ign http://archive.raspberrypi.org jessie/ui Translation-en_GB Ign http://mirrordirector.raspbian.org jessie/non-free Translation-en Ign http://mirrordirector.raspbian.org jessie/rpi Translation-en_GB Ign http://archive.raspberrypi.org jessie/ui Translation-en Ign http://mirrordirector.raspbian.org jessie/rpi Translation-en ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable) E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it? And here is after suggested libfix command : The programs included with the Debian GNU/Linux system are free software; the exact distribution terms for each program are described in the individual files in /usr/share/doc/*/copyright. Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law. Last login: Fri Feb 24 15:39:44 2017 from vpn.lshtm.ac.uk ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. /usr/bin/xauth: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. admin@ProxyPi:~$ sudo ldconfig -v ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored. /sbin/ldconfig.real: Path `/lib/arm-linux-gnueabihf' given more than once /sbin/ldconfig.real: Path `/usr/lib/arm-linux-gnueabihf' given more than once /opt/vc/lib: libmmal_core.so -> libmmal_core.so libmmal_components.so -> libmmal_components.so libopenmaxil.so -> libopenmaxil.so libmmal.so -> libmmal.so libWFC.so -> libWFC.so libEGL.so -> libEGL.so libvcsm.so -> libvcsm.so libmmal_util.so -> libmmal_util.so libvchiq_arm.so -> libvchiq_arm.so libdebug_sym.so -> libdebug_sym.so libGLESv2.so -> libGLESv2.so libbcm_host.so -> libbcm_host.so libOpenVG.so -> libOpenVG.so libmmal_vc_client.so -> libmmal_vc_client.so libvcos.so -> libvcos.so libcontainers.so -> libcontainers.so /lib/arm-linux-gnueabihf: libm.so.6 -> libm-2.19.so librt.so.1 -> librt-2.19.so libpcre.so.3 -> libpcre.so.3.13.1 libreadline.so.6 -> libreadline.so.6.3 libnss_mdns4_minimal.so.2 -> libnss_mdns4_minimal.so.2 libdbus-1.so.3 -> libdbus-1.so.3.8.13 libnss_mdns_minimal.so.2 -> libnss_mdns_minimal.so.2 libmemusage.so -> libmemusage.so libdevmapper-event.so.1.02.1 -> libdevmapper-event.so.1.02.1 libpthread.so.0 -> libpthread-2.19.so libSegFault.so -> libSegFault.so libkmod.so.2 -> libkmod.so.2.2.8 libiw.so.30 -> libiw.so.30 libnss_nis.so.2 -> libnss_nis-2.19.so libthread_db.so.1 -> libthread_db-1.0.so libgpg-error.so.0 -> libgpg-error.so.0.13.0 libpam.so.0 -> libpam.so.0.83.1 libntfs-3g.so.852 -> libntfs-3g.so.852.0.0 libcap.so.2 -> libcap.so.2.24 libcryptsetup.so.4 -> libcryptsetup.so.4.6.0 libcom_err.so.2 -> libcom_err.so.2.1 libprocps.so.3 -> libprocps.so.3.0.0 libhistory.so.6 -> libhistory.so.6.3 libisccfg-export.so.90 -> libisccfg-export.so.90.1.0 libudev.so.1 -> libudev.so.1.5.0 libnl-3.so.200 -> libnl-3.so.200.19.0 libdevmapper.so.1.02.1 -> libdevmapper.so.1.02.1 libgcc_s.so.1 -> libgcc_s.so.1 libusb-1.0.so.0 -> libusb-1.0.so.0.1.0 libpam_misc.so.0 -> libpam_misc.so.0.82.0 libfuse.so.2 -> libfuse.so.2.9.3 libnss_mdns.so.2 -> libnss_mdns.so.2 libncurses.so.5 -> libncurses.so.5.9 libattr.so.1 -> libattr.so.1.1.0 libresolv.so.2 -> libresolv-2.19.so libnss_compat.so.2 -> libnss_compat-2.19.so libcidn.so.1 -> libcidn-2.19.so libselinux.so.1 -> libselinux.so.1 libgcrypt.so.20 -> libgcrypt.so.20.0.3 libparted.so.2 -> libparted.so.2.0.1 libirs-export.so.91 -> libirs-export.so.91.0.0 libudev.so.0 -> libudev.so.0.13.0 libpopt.so.0 -> libpopt.so.0.0.0 libss.so.2 -> libss.so.2.0 libsysfs.so.2 -> libsysfs.so.2.0.1 libuuid.so.1 -> libuuid.so.1.3.0 libncursesw.so.5 -> libncursesw.so.5.9 liblzma.so.5 -> liblzma.so.5.0.0 libmount.so.1 -> libmount.so.1.1.0 libacl.so.1 -> libacl.so.1.1.0 libnss_nisplus.so.2 -> libnss_nisplus-2.19.so libglib-2.0.so.0 -> libglib-2.0.so.0.4200.1 libpng12.so.0 -> libpng12.so.0.50.0 libnss_hesiod.so.2 -> libnss_hesiod-2.19.so libatasmart.so.4 -> libatasmart.so.4.0.5 libbsd.so.0 -> libbsd.so.0.7.0 libwrap.so.0 -> libwrap.so.0.7.6 libpamc.so.0 -> libpamc.so.0.82.1 libnss_mdns6_minimal.so.2 -> libnss_mdns6_minimal.so.2 libsystemd.so.0 -> libsystemd.so.0.3.1 libaio.so.1 -> libaio.so.1.0.1 libslang.so.2 -> libslang.so.2.3.0 libply.so.2 -> libply.so.2.1.0 libnss_dns.so.2 -> libnss_dns-2.19.so liblzo2.so.2 -> liblzo2.so.2.0.0 liblvm2app.so.2.2 -> liblvm2app.so.2.2 libply-boot-client.so.2 -> libply-boot-client.so.2.1.0 libe2p.so.2 -> libe2p.so.2.3 libtinfo.so.5 -> libtinfo.so.5.9 libanl.so.1 -> libanl-2.19.so libblkid.so.1 -> libblkid.so.1.1.0 libc.so.6 -> libc-2.19.so libusb-0.1.so.4 -> libusb-0.1.so.4.4.4 libnss_mdns6.so.2 -> libnss_mdns6.so.2 libsmartcols.so.1 -> libsmartcols.so.1.1.0 libcrypt.so.1 -> libcrypt-2.19.so libbz2.so.1.0 -> libbz2.so.1.0.4 libexpat.so.1 -> libexpat.so.1.6.0 libply-splash-core.so.2 -> libply-splash-core.so.2.1.0 libnss_mdns4.so.2 -> libnss_mdns4.so.2 libnl-genl-3.so.200 -> libnl-genl-3.so.200.19.0 libz.so.1 -> libz.so.1.2.8 libnsl.so.1 -> libnsl-2.19.so libtirpc.so.1 -> libtirpc.so.1.0.10 libply-splash-graphics.so.2 -> libply-splash-graphics.so.2.1.0 /sbin/ldconfig.real: /lib/arm-linux-gnueabihf/ld-2.19.so is the dynamic linker, ignoring ld-linux-armhf.so.3 -> ld-2.19.so libBrokenLocale.so.1 -> libBrokenLocale-2.19.so libdns-export.so.100 -> libdns-export.so.100.2.2 libaudit.so.1 -> libaudit.so.1.0.0 libsepol.so.1 -> libsepol.so.1 libjson-c.so.2 -> libjson-c.so.2.0.0 libdl.so.2 -> libdl-2.19.so libutil.so.1 -> libutil-2.19.so libnfsidmap.so.0 -> libnfsidmap.so.0.3.0 libpcprofile.so -> libpcprofile.so libnss_files.so.2 -> libnss_files-2.19.so libulockmgr.so.1 -> libulockmgr.so.1.0.1 libkeyutils.so.1 -> libkeyutils.so.1.5 libext2fs.so.2 -> libext2fs.so.2.4 libisc-export.so.95 -> libisc-export.so.95.5.0 /usr/lib/arm-linux-gnueabihf: /sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4.8 is empty, not checked. /sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4.8 is not an ELF file - it has the wrong magic bytes at the start. /sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4 is not an ELF file - it has the wrong magic bytes at the start. /sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4.8.6 is empty, not checked. /sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtNetwork.so.4.8 is not an ELF file - it has the wrong magic bytes at the start. /sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4 is empty, not checked. /sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4.8.6 is not an ELF file - it has the wrong magic bytes at the start.",
    "code": "The programs included with the Debian GNU/Linux system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nDebian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\npermitted by applicable law.\nLast login: Fri Feb 24 15:55:35 2017 from vpn.lshtm.ac.uk\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\n/usr/bin/xauth: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nadmin@ProxyPi:~$ sudo apt-get update\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\n0% [Working]ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nHit http://archive.raspberrypi.org jessie InRelease\nHit http://mirrordirector.raspbian.org jessie InRelease\nHit http://archive.raspbian.org jessie InRelease\n12% [Waiting for headers] [Waiting for headers]ERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nHit http://mirrordirector.raspbian.org jessie/main armhf Packages\nHit http://archive.raspbian.org jessie/main Sources\nHit http://archive.raspberrypi.org jessie/main armhf Packages\nHit http://mirrordirector.raspbian.org jessie/contrib armhf Packages\nHit http://archive.raspbian.org jessie/contrib Sources\nHit http://mirrordirector.raspbian.org jessie/non-free armhf Packages\nHit http://archive.raspbian.org jessie/non-free Sources\nHit http://archive.raspberrypi.org jessie/ui armhf Packages\nHit http://mirrordirector.raspbian.org jessie/rpi armhf Packages\nHit http://archive.raspbian.org jessie/rpi Sources\nIgn http://mirrordirector.raspbian.org jessie/contrib Translation-en_GB\nIgn http://archive.raspberrypi.org jessie/main Translation-en_GB\nIgn http://mirrordirector.raspbian.org jessie/contrib Translation-en\nIgn http://mirrordirector.raspbian.org jessie/main Translation-en_GB\nIgn http://archive.raspberrypi.org jessie/main Translation-en\nIgn http://mirrordirector.raspbian.org jessie/main Translation-en\nIgn http://mirrordirector.raspbian.org jessie/non-free Translation-en_GB\nIgn http://archive.raspberrypi.org jessie/ui Translation-en_GB\nIgn http://mirrordirector.raspbian.org jessie/non-free Translation-en\nIgn http://mirrordirector.raspbian.org jessie/rpi Translation-en_GB\nIgn http://archive.raspberrypi.org jessie/ui Translation-en\nIgn http://mirrordirector.raspbian.org jessie/rpi Translation-en\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nE: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable)\nE: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it?\n\n\nThe programs included with the Debian GNU/Linux system are free software;\nthe exact distribution terms for each program are described in the\nindividual files in /usr/share/doc/*/copyright.\n\nDebian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent\npermitted by applicable law.\nLast login: Fri Feb 24 15:39:44 2017 from vpn.lshtm.ac.uk\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\n/usr/bin/xauth: error while loading shared libraries: libX11.so.6: cannot open shared object file: No such file or directory\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nadmin@ProxyPi:~$ sudo ldconfig -v\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\nERROR: ld.so: object '/usr/lib/arm-linux-gnueabihf/libarmmem.so' from /etc/ld.so.preload cannot be preloaded (cannot open shared object file): ignored.\n/sbin/ldconfig.real: Path `/lib/arm-linux-gnueabihf' given more than once\n/sbin/ldconfig.real: Path `/usr/lib/arm-linux-gnueabihf' given more than once\n/opt/vc/lib:\n        libmmal_core.so -&gt; libmmal_core.so\n        libmmal_components.so -&gt; libmmal_components.so\n        libopenmaxil.so -&gt; libopenmaxil.so\n        libmmal.so -&gt; libmmal.so\n        libWFC.so -&gt; libWFC.so\n        libEGL.so -&gt; libEGL.so\n        libvcsm.so -&gt; libvcsm.so\n        libmmal_util.so -&gt; libmmal_util.so\n        libvchiq_arm.so -&gt; libvchiq_arm.so\n        libdebug_sym.so -&gt; libdebug_sym.so\n        libGLESv2.so -&gt; libGLESv2.so\n        libbcm_host.so -&gt; libbcm_host.so\n        libOpenVG.so -&gt; libOpenVG.so\n        libmmal_vc_client.so -&gt; libmmal_vc_client.so\n        libvcos.so -&gt; libvcos.so\n        libcontainers.so -&gt; libcontainers.so\n/lib/arm-linux-gnueabihf:\n        libm.so.6 -&gt; libm-2.19.so\n        librt.so.1 -&gt; librt-2.19.so\n        libpcre.so.3 -&gt; libpcre.so.3.13.1\n        libreadline.so.6 -&gt; libreadline.so.6.3\n        libnss_mdns4_minimal.so.2 -&gt; libnss_mdns4_minimal.so.2\n        libdbus-1.so.3 -&gt; libdbus-1.so.3.8.13\n        libnss_mdns_minimal.so.2 -&gt; libnss_mdns_minimal.so.2\n        libmemusage.so -&gt; libmemusage.so\n        libdevmapper-event.so.1.02.1 -&gt; libdevmapper-event.so.1.02.1\n        libpthread.so.0 -&gt; libpthread-2.19.so\n        libSegFault.so -&gt; libSegFault.so\n        libkmod.so.2 -&gt; libkmod.so.2.2.8\n        libiw.so.30 -&gt; libiw.so.30\n        libnss_nis.so.2 -&gt; libnss_nis-2.19.so\n        libthread_db.so.1 -&gt; libthread_db-1.0.so\n        libgpg-error.so.0 -&gt; libgpg-error.so.0.13.0\n        libpam.so.0 -&gt; libpam.so.0.83.1\n        libntfs-3g.so.852 -&gt; libntfs-3g.so.852.0.0\n        libcap.so.2 -&gt; libcap.so.2.24\n        libcryptsetup.so.4 -&gt; libcryptsetup.so.4.6.0\n        libcom_err.so.2 -&gt; libcom_err.so.2.1\n        libprocps.so.3 -&gt; libprocps.so.3.0.0\n        libhistory.so.6 -&gt; libhistory.so.6.3\n        libisccfg-export.so.90 -&gt; libisccfg-export.so.90.1.0\n        libudev.so.1 -&gt; libudev.so.1.5.0\n        libnl-3.so.200 -&gt; libnl-3.so.200.19.0\n        libdevmapper.so.1.02.1 -&gt; libdevmapper.so.1.02.1\n        libgcc_s.so.1 -&gt; libgcc_s.so.1\n        libusb-1.0.so.0 -&gt; libusb-1.0.so.0.1.0\n        libpam_misc.so.0 -&gt; libpam_misc.so.0.82.0\n        libfuse.so.2 -&gt; libfuse.so.2.9.3\n        libnss_mdns.so.2 -&gt; libnss_mdns.so.2\n        libncurses.so.5 -&gt; libncurses.so.5.9\n        libattr.so.1 -&gt; libattr.so.1.1.0\n        libresolv.so.2 -&gt; libresolv-2.19.so\n        libnss_compat.so.2 -&gt; libnss_compat-2.19.so\n        libcidn.so.1 -&gt; libcidn-2.19.so\n        libselinux.so.1 -&gt; libselinux.so.1\n        libgcrypt.so.20 -&gt; libgcrypt.so.20.0.3\n        libparted.so.2 -&gt; libparted.so.2.0.1\n        libirs-export.so.91 -&gt; libirs-export.so.91.0.0\n        libudev.so.0 -&gt; libudev.so.0.13.0\n        libpopt.so.0 -&gt; libpopt.so.0.0.0\n        libss.so.2 -&gt; libss.so.2.0\n        libsysfs.so.2 -&gt; libsysfs.so.2.0.1\n        libuuid.so.1 -&gt; libuuid.so.1.3.0\n        libncursesw.so.5 -&gt; libncursesw.so.5.9\n        liblzma.so.5 -&gt; liblzma.so.5.0.0\n        libmount.so.1 -&gt; libmount.so.1.1.0\n        libacl.so.1 -&gt; libacl.so.1.1.0\n        libnss_nisplus.so.2 -&gt; libnss_nisplus-2.19.so\n        libglib-2.0.so.0 -&gt; libglib-2.0.so.0.4200.1\n        libpng12.so.0 -&gt; libpng12.so.0.50.0\n        libnss_hesiod.so.2 -&gt; libnss_hesiod-2.19.so\n        libatasmart.so.4 -&gt; libatasmart.so.4.0.5\n        libbsd.so.0 -&gt; libbsd.so.0.7.0\n        libwrap.so.0 -&gt; libwrap.so.0.7.6\n        libpamc.so.0 -&gt; libpamc.so.0.82.1\n        libnss_mdns6_minimal.so.2 -&gt; libnss_mdns6_minimal.so.2\n        libsystemd.so.0 -&gt; libsystemd.so.0.3.1\n        libaio.so.1 -&gt; libaio.so.1.0.1\n        libslang.so.2 -&gt; libslang.so.2.3.0\n        libply.so.2 -&gt; libply.so.2.1.0\n        libnss_dns.so.2 -&gt; libnss_dns-2.19.so\n        liblzo2.so.2 -&gt; liblzo2.so.2.0.0\n        liblvm2app.so.2.2 -&gt; liblvm2app.so.2.2\n        libply-boot-client.so.2 -&gt; libply-boot-client.so.2.1.0\n        libe2p.so.2 -&gt; libe2p.so.2.3\n        libtinfo.so.5 -&gt; libtinfo.so.5.9\n        libanl.so.1 -&gt; libanl-2.19.so\n        libblkid.so.1 -&gt; libblkid.so.1.1.0\n        libc.so.6 -&gt; libc-2.19.so\n        libusb-0.1.so.4 -&gt; libusb-0.1.so.4.4.4\n        libnss_mdns6.so.2 -&gt; libnss_mdns6.so.2\n        libsmartcols.so.1 -&gt; libsmartcols.so.1.1.0\n        libcrypt.so.1 -&gt; libcrypt-2.19.so\n        libbz2.so.1.0 -&gt; libbz2.so.1.0.4\n        libexpat.so.1 -&gt; libexpat.so.1.6.0\n        libply-splash-core.so.2 -&gt; libply-splash-core.so.2.1.0\n        libnss_mdns4.so.2 -&gt; libnss_mdns4.so.2\n        libnl-genl-3.so.200 -&gt; libnl-genl-3.so.200.19.0\n        libz.so.1 -&gt; libz.so.1.2.8\n        libnsl.so.1 -&gt; libnsl-2.19.so\n        libtirpc.so.1 -&gt; libtirpc.so.1.0.10\n        libply-splash-graphics.so.2 -&gt; libply-splash-graphics.so.2.1.0\n/sbin/ldconfig.real: /lib/arm-linux-gnueabihf/ld-2.19.so is the dynamic linker, ignoring\n\n        ld-linux-armhf.so.3 -&gt; ld-2.19.so\n        libBrokenLocale.so.1 -&gt; libBrokenLocale-2.19.so\n        libdns-export.so.100 -&gt; libdns-export.so.100.2.2\n        libaudit.so.1 -&gt; libaudit.so.1.0.0\n        libsepol.so.1 -&gt; libsepol.so.1\n        libjson-c.so.2 -&gt; libjson-c.so.2.0.0\n        libdl.so.2 -&gt; libdl-2.19.so\n        libutil.so.1 -&gt; libutil-2.19.so\n        libnfsidmap.so.0 -&gt; libnfsidmap.so.0.3.0\n        libpcprofile.so -&gt; libpcprofile.so\n        libnss_files.so.2 -&gt; libnss_files-2.19.so\n        libulockmgr.so.1 -&gt; libulockmgr.so.1.0.1\n        libkeyutils.so.1 -&gt; libkeyutils.so.1.5\n        libext2fs.so.2 -&gt; libext2fs.so.2.4\n        libisc-export.so.95 -&gt; libisc-export.so.95.5.0\n/usr/lib/arm-linux-gnueabihf:\n/sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4.8 is empty, not checked.\n/sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4.8 is not an ELF file - it has the wrong magic bytes at the start.\n\n/sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4 is not an ELF file - it has the wrong magic bytes at the start.\n\n/sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4.8.6 is empty, not checked.\n/sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtNetwork.so.4.8 is not an ELF file - it has the wrong magic bytes at the start.\n\n/sbin/ldconfig.real: File /usr/lib/arm-linux-gnueabihf/libQtCLucene.so.4 is empty, not checked.\n/sbin/ldconfig.real: /usr/lib/arm-linux-gnueabihf/libQtXmlPatterns.so.4.8.6 is not an ELF file - it has the wrong magic bytes at the start.\n\n\n# Solution Code:\nsudo nano /etc/ld.so.preload\n\n/usr/lib/arm-linux-gnueabihf/libarmmem.so\n\n#/usr/lib/arm-linux-gnueabihf/libarmmem.so",
    "resolution": "I experienced the same error coming from a snapd 'snap'. I went into the preload file mentioned sudo nano /etc/ld.so.preload and commented the offending line out from /usr/lib/arm-linux-gnueabihf/libarmmem.so to #/usr/lib/arm-linux-gnueabihf/libarmmem.so",
    "severity": "high",
    "tags": [
      "raspberry-pi"
    ],
    "metadata": {
      "stackoverflow_question_id": "42443273",
      "stackoverflow_score": 20,
      "stackoverflow_view_count": 25585,
      "stackoverflow_creation_date": "2017-02-24T16:11:15.323Z"
    },
    "idempotency_key": "stackoverflow-42443273",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "npm installs different version than specified in package.json, how is this possible ? how to fix this?",
    "body": "If I use the package.json given below to execute npm install then that will install react-15.4.2 (see npm ls below) even though I specified version 15.3.2. How is this possible ? Why is this happening? How can I avoid this ? content of package.json: { \"name\": \"sbt-demo\", \"version\": \"0.1.0\", \"description\": \"Webpack configuration for sbt-demo\", \"license\": \"GPL-3.0\", \"scripts\": { \"build\": \"webpack --config webpack.config.prod.js\", \"dist\": \"webpack --config webpack.config.prod.js\" }, \"devDependencies\": { \"compression-webpack-plugin\": \"^0.2.0\", \"css-loader\": \"^0.23.0\", \"file-loader\": \"^0.8.4\", \"ghooks\": \"^1.3.2\", \"gulp-decompress\": \"^1.1.0\", \"image-webpack-loader\": \"^1.6.1\", \"imagemin\": \"^4.0.0\", \"lodash\": \"^4.14.1\", \"node-libs-browser\": \"^0.5.2\", \"react-hot-loader\": \"^1.2.7\", \"style-loader\": \"^0.13.0\", \"url-loader\": \"^0.5.6\", \"webpack\": \"^1.9.10\", \"webpack-dev-server\": \"^1.9.0\" }, \"dependencies\": { \"highlight.js\": \"8.9.1\", \"material-ui\": \"^0.15.2\", \"react\": \"^15.3.2\", \"react-addons-create-fragment\": \"15.3.2\", \"react-addons-css-transition-group\": \"15.3.2\", \"react-addons-pure-render-mixin\": \"15.3.2\", \"react-addons-transition-group\": \"15.3.2\", \"react-addons-update\": \"15.3.2\", \"react-dom\": \"^15.3.2\", \"react-geomicons\": \"^2.0.4\", \"react-grid-layout\": \"^0.13.9\", \"react-infinite\": \"^0.7.1\", \"react-select\": \"^1.0.0-beta\", \"react-sortable-hoc\": \"^0.2.0\", \"react-spinner\": \"^0.2.3\", \"react-tagsinput\": \"^3.0.3\", \"react-tap-event-plugin\": \"^1.0.0\", \"svg-loader\": \"0.0.2\" } } npm ls gives: ├─┬ react@15.4.2 │ ├─┬ fbjs@0.8.9 │ │ ├── core-js@1.2.7 │ │ ├─┬ isomorphic-fetch@2.2.1 │ │ │ ├─┬ node-fetch@1.6.3 │ │ │ │ └─┬ encoding@0.1.12 │ │ │ │ └── iconv-lite@0.4.15 │ │ │ └── whatwg-fetch@2.0.2 │ │ ├─┬ promise@7.1.1 │ │ │ └── asap@2.0.5 │ │ ├── setimmediate@1.0.5 │ │ └── ua-parser-js@0.7.12 │ └─┬ loose-envify@1.3.1 │ └── js-tokens@3.0.1 ├── react-addons-create-fragment@15.3.2 ├── react-addons-css-transition-group@15.3.2 ├── react-addons-pure-render-mixin@15.3.2 ├── react-addons-transition-group@15.3.2 ├── react-addons-update@15.3.2 ├── react-dom@15.4.2 ├─┬ react-geomicons@2.1.0 │ └── geomicons-open@3.0.0-beta.2 ├─┬ react-grid-layout@0.13.9 │ ├── lodash.isequal@4.5.0 │ ├── react-draggable@2.2.3 │ └── react-resizable@1.6.0 ├─┬ react-hot-loader@1.3.1 │ ├── react-hot-api@0.4.7 │ └─┬ source-map@0.4.4 │ └── amdefine@1.0.1 ├─┬ react-infinite@0.7.3 │ ├── lodash.isarray@3.0.4 │ ├── lodash.isfinite@3.2.0 │ ├── object-assign@4.0.1 │ ├─┬ react@0.14.8 │ │ ├─┬ envify@3.4.1 │ │ │ ├─┬ jstransform@11.0.3 │ │ │ │ ├── base62@1.1.2 │ │ │ │ ├─┬ commoner@0.10.8 │ │ │ │ │ ├── detective@4.3.2 │ │ │ │ │ ├── private@0.1.7 │ │ │ │ │ └─┬ recast@0.11.22 │ │ │ │ │ ├── ast-types@0.9.5 │ │ │ │ │ ├── esprima@3.1.3 │ │ │ │ │ └── source-map@0.5.6 │ │ │ │ ├── esprima-fb@15001.1.0-dev-harmony-fb │ │ │ │ └── object-assign@2.1.1",
    "code": "{\n  \"name\": \"sbt-demo\",\n  \"version\": \"0.1.0\",\n  \"description\": \"Webpack configuration for sbt-demo\",\n  \"license\": \"GPL-3.0\",\n  \"scripts\": {\n    \"build\": \"webpack --config webpack.config.prod.js\",\n    \"dist\": \"webpack --config webpack.config.prod.js\"\n  },\n  \"devDependencies\": {\n    \"compression-webpack-plugin\": \"^0.2.0\",\n    \"css-loader\": \"^0.23.0\",\n    \"file-loader\": \"^0.8.4\",\n    \"ghooks\": \"^1.3.2\",\n    \"gulp-decompress\": \"^1.1.0\",\n    \"image-webpack-loader\": \"^1.6.1\",\n    \"imagemin\": \"^4.0.0\",\n    \"lodash\": \"^4.14.1\",\n    \"node-libs-browser\": \"^0.5.2\",\n    \"react-hot-loader\": \"^1.2.7\",\n    \"style-loader\": \"^0.13.0\",\n    \"url-loader\": \"^0.5.6\",\n    \"webpack\": \"^1.9.10\",\n    \"webpack-dev-server\": \"^1.9.0\"\n  },\n  \"dependencies\": {\n    \"highlight.js\": \"8.9.1\",\n    \"material-ui\": \"^0.15.2\",\n    \"react\": \"^15.3.2\",\n    \"react-addons-create-fragment\": \"15.3.2\",\n    \"react-addons-css-transition-group\": \"15.3.2\",\n    \"react-addons-pure-render-mixin\": \"15.3.2\",\n    \"react-addons-transition-group\": \"15.3.2\",\n    \"react-addons-update\": \"15.3.2\",\n    \"react-dom\": \"^15.3.2\",\n    \"react-geomicons\": \"^2.0.4\",\n    \"react-grid-layout\": \"^0.13.9\",\n    \"react-infinite\": \"^0.7.1\",\n    \"react-select\": \"^1.0.0-beta\",\n    \"react-sortable-hoc\": \"^0.2.0\",\n    \"react-spinner\": \"^0.2.3\",\n    \"react-tagsinput\": \"^3.0.3\",\n    \"react-tap-event-plugin\": \"^1.0.0\",\n    \"svg-loader\": \"0.0.2\"\n  }\n}\n\n\n├─┬ react@15.4.2\n│ ├─┬ fbjs@0.8.9\n│ │ ├── core-js@1.2.7\n│ │ ├─┬ isomorphic-fetch@2.2.1\n│ │ │ ├─┬ node-fetch@1.6.3\n│ │ │ │ └─┬ encoding@0.1.12\n│ │ │ │   └── iconv-lite@0.4.15\n│ │ │ └── whatwg-fetch@2.0.2\n│ │ ├─┬ promise@7.1.1\n│ │ │ └── asap@2.0.5\n│ │ ├── setimmediate@1.0.5\n│ │ └── ua-parser-js@0.7.12\n│ └─┬ loose-envify@1.3.1\n│   └── js-tokens@3.0.1\n├── react-addons-create-fragment@15.3.2\n├── react-addons-css-transition-group@15.3.2\n├── react-addons-pure-render-mixin@15.3.2\n├── react-addons-transition-group@15.3.2\n├── react-addons-update@15.3.2\n├── react-dom@15.4.2\n├─┬ react-geomicons@2.1.0\n│ └── geomicons-open@3.0.0-beta.2\n├─┬ react-grid-layout@0.13.9\n│ ├── lodash.isequal@4.5.0\n│ ├── react-draggable@2.2.3\n│ └── react-resizable@1.6.0\n├─┬ react-hot-loader@1.3.1\n│ ├── react-hot-api@0.4.7\n│ └─┬ source-map@0.4.4\n│   └── amdefine@1.0.1\n├─┬ react-infinite@0.7.3\n│ ├── lodash.isarray@3.0.4\n│ ├── lodash.isfinite@3.2.0\n│ ├── object-assign@4.0.1\n│ ├─┬ react@0.14.8\n│ │ ├─┬ envify@3.4.1\n│ │ │ ├─┬ jstransform@11.0.3\n│ │ │ │ ├── base62@1.1.2\n│ │ │ │ ├─┬ commoner@0.10.8\n│ │ │ │ │ ├── detective@4.3.2\n│ │ │ │ │ ├── private@0.1.7\n│ │ │ │ │ └─┬ recast@0.11.22\n│ │ │ │ │   ├── ast-types@0.9.5\n│ │ │ │ │   ├── esprima@3.1.3\n│ │ │ │ │   └── source-map@0.5.6\n│ │ │ │ ├── esprima-fb@15001.1.0-dev-harmony-fb\n│ │ │ │ └── object-assign@2.1.1\n\n\npackage.json\n\nnpm install\n\nreact-15.4.2\n\nnpm ls\n\n15.3.2\n\npackage.json\n\nnpm ls\n\n# Solution Code:\n\"react\": \"^15.3.2\"\n\n\"react\": \"15.3.2\"",
    "resolution": "Since you gave \"react\" a caret sign \"react\": \"^15.3.2\" it will always fetch the latest version which is less than 16.0.0. To get the exact version of react remove the caret before the version \"react\": \"15.3.2\". But by doing so you have to manually check/change the version dependencies for other dependencies which use react. Since they might be incompatible with the version of react you specify. For official docs refer https://docs.npmjs.com/misc/semver#caret-ranges-123-025-004.",
    "severity": "medium",
    "tags": [
      "npm",
      "npm-install",
      "node-modules"
    ],
    "metadata": {
      "stackoverflow_question_id": "42470586",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1490,
      "stackoverflow_creation_date": "2017-02-26T15:45:10.890Z"
    },
    "idempotency_key": "stackoverflow-42470586",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to add a constraint to a table with Laravel's migrations?",
    "body": "Let's say I have a table periods with columns start_date and end_date and I want to add a constraint start_date < end_date. The PostgreSQL query would be: ALTER TABLE periods ADD CONSTRAINT check_dates CHECK (\"start_date\" < \"end_date\"); But I want to do it as a migration with PHP. I guess it will look something like this: Schema::table('periods', function (Blueprint $table) { $table->something(); }); ...but even with IntelliSense I couldn't guess what to write instead of \"something()\". I'm not using the newest version of Laravel so it would be nice if you add from which version your code works and what can you do in older versions.",
    "code": "ALTER TABLE periods ADD CONSTRAINT check_dates CHECK (\"start_date\" &lt; \"end_date\");\n\n\nSchema::table('periods', function (Blueprint $table) { $table-&gt;something(); });\n\n\nperiods\n\nstart_date\n\nend_date\n\nstart_date &lt; end_date",
    "resolution": "You can run some raw SQL like below as constraints are still not supported by the Blueprint class. public function up() { DB::statement('ALTER TABLE periods ADD CONSTRAINT check_dates CHECK (\"start_date\" < \"end_date\")'); }",
    "severity": "medium",
    "tags": [
      "laravel",
      "laravel-migrations"
    ],
    "metadata": {
      "framework": "laravel",
      "stackoverflow_question_id": "42498585",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2791,
      "stackoverflow_creation_date": "2017-02-28T01:08:13.750Z"
    },
    "idempotency_key": "stackoverflow-42498585",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Apache configuration to get Laravel API in this url : www.example.com/api",
    "body": "I'm not sure this is working or not, I tried but it had no effect. So no errors but something still seems to be wrong. What I want is that my api (Laravel 5.4) get this root url : www.example.com/api Here is what fits my idea : <VirtualHost \\*:80> ServerName example.com DocumentRoot /var/www/vhosts/angular-client </VirtualHost> <VirtualHost> ServerName example.com/api DocumentRoot /var/www/vhosts/api/public </VirtualHost> Any suggestion is welcome. Best regards, Joseph Gremaud EDIT : Just found out it's easier to use Directory with an alias like this : <VirtualHost *:80> DocumentRoot /var/www/spmo ServerName spmo.corp.sftcm.ch Header set Access-Control-Allow-Origin \"*\" <Directory /var/www/spmo> Require all granted DirectoryIndex index.html Options +Indexes </Directory> Alias /api /var/www/api/public <Directory /var/www/api/public> Require all granted Options +Indexes DirectoryIndex index.php index.html </Directory> </VirtualHost> Now only one problem remains in Laravel configuration because all my routes are redirecting like this : Expected : spmo.corp.sftcm.ch/api/api/v1/teams -> should give me JSON response. Result : spmo.corp.sftcm.ch/api/api/v1/teams -> gave me a 404 error. I know that this not good to have api/api but i'll change laravel prefixes when I solve my issue.",
    "code": "&lt;VirtualHost \\*:80&gt;\n  ServerName example.com\n  DocumentRoot /var/www/vhosts/angular-client\n&lt;/VirtualHost&gt;      \n\n&lt;VirtualHost&gt;     \n  ServerName example.com/api\n  DocumentRoot /var/www/vhosts/api/public\n&lt;/VirtualHost&gt;\n\n\n&lt;VirtualHost *:80&gt;\n        DocumentRoot    /var/www/spmo\n        ServerName      spmo.corp.sftcm.ch\n        Header set Access-Control-Allow-Origin \"*\"\n&lt;Directory /var/www/spmo&gt;\n        Require all granted\n        DirectoryIndex  index.html\n        Options +Indexes\n&lt;/Directory&gt;\nAlias /api /var/www/api/public\n&lt;Directory /var/www/api/public&gt;\n        Require all granted\n        Options +Indexes\n        DirectoryIndex index.php index.html\n&lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n\n\n# Solution Code:\n&lt;VirtualHost \\*:80&gt;     \n  ServerName example.com/api\n  DocumentRoot /var/www/vhosts/api/public\n&lt;/VirtualHost&gt;\n\n\njournalctl | tail",
    "resolution": "You are missing the IP of the virtual host argument on the VirtualHost directive: <VirtualHost \\*:80> ServerName example.com/api DocumentRoot /var/www/vhosts/api/public </VirtualHost> You can use journalctl | tail on console to see those type of errors.",
    "severity": "medium",
    "tags": [
      "angularjs",
      "apache",
      "laravel-5.4"
    ],
    "metadata": {
      "stackoverflow_question_id": "42528335",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1091,
      "stackoverflow_creation_date": "2017-03-01T09:46:22.930Z"
    },
    "idempotency_key": "stackoverflow-42528335",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Laravel 5.4 Backpack can't delete item, returns \"403 Forbidden\" error",
    "body": "I was working on an admin panel using backpack for Laravel. When I want to delete some item by hitting the delete button, I get a Not Deleted error - see screenshots. It looks like the 403 and 405 errors that can occur when the CRUD::resource() or Route::resource method are used but the server (apache in my case) does not allow them on dynamic resources - whatever that means in detail ... Is there a way to enable these methods on Apache? I got it working, but I would like to use the default HTTP methods. Quick Fix I was able to fix this problem by duplicating and modifying the list.blade.php CRUD view of backpack. Duplicate the view vendor/backpack/crud/src/resources/views/list.blade.php and move it to resources/views/vendor/backpack/crud/list.blade.php Modify the AJAX request defined on line 271. if (confirm(\"{{ trans('backpack::crud.delete_confirm') }}\") == true) { $.ajax({ url: delete_url, type: 'POST', // change from DELETE to POST data: { // \"spoof\" the HTTP verb \"DELETE\" \"_method\": \"DELETE\" },",
    "code": " if (confirm(\"{{ trans('backpack::crud.delete_confirm') }}\") == true) {\n      $.ajax({\n          url: delete_url,\n          type: 'POST', // change from DELETE to POST\n          data: { // \"spoof\" the HTTP verb \"DELETE\"\n            \"_method\": \"DELETE\"\n          },\n\n\nCRUD::resource()\n\nRoute::resource\n\nlist.blade.php\n\nvendor/backpack/crud/src/resources/views/list.blade.php\n\nresources/views/vendor/backpack/crud/list.blade.php\n\n# Solution Code:\ntype: 'POST',\ndata: {\n      \"_method\": \"DELETE\"\n},  \n\n\ntype: 'DELETE',",
    "resolution": "laravel/framework: 5.8.2 backpack/crud: 3.6 vendor/backpack/crud/src/resources/views/buttons/delete.blade.php replace this code: type: 'DELETE', with this lines: type: 'POST', data: { \"_method\": \"DELETE\" },",
    "severity": "medium",
    "tags": [
      "laravel",
      "apache2",
      "laravel-backpack"
    ],
    "metadata": {
      "framework": "laravel",
      "stackoverflow_question_id": "42621376",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2191,
      "stackoverflow_creation_date": "2017-03-06T09:00:52.240Z"
    },
    "idempotency_key": "stackoverflow-42621376",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "HttpWebRequest returns (400) Bad Request",
    "body": "The request gives the following error: The remote server returned an error: (400) Bad Request. I cann't find a solution on internet. Does anyone knows how to solve this? HttpWebRequest request = (HttpWebRequest)WebRequest.Create(@\"https://maps.googleapis.com/maps/api/geocode/json\"); request.ContentType = \"application/x-www-form-urlencoded\"; request.Method = \"POST\"; var parameters = string.Format(\"language={0}&latlng={1}&client={2}&signature={3}\", \"nl\", \"51.123456,5.612345\", \"gme-aa\", \"******_******=\"); byte[] byteArray = Encoding.UTF8.GetBytes(parameters); request.ContentLength = byteArray.Length; Stream dataStream = request.GetRequestStream(); dataStream.Write(byteArray, 0, byteArray.Length); dataStream.Close(); /* * Read HttpWeb Response */ HttpWebResponse response = (HttpWebResponse)request.GetResponse(); dataStream = response.GetResponseStream(); StreamReader reader = new StreamReader(dataStream); string Response = reader.ReadToEnd(); response.Close(); EDIT: I'm working inside Lowcode platform Outsystems. Outsystems creates the url inside WebRequest.Create() without the paramaters. So, I have access to webRequest object and need to pass the parameters.",
    "code": "HttpWebRequest request = (HttpWebRequest)WebRequest.Create(@\"https://maps.googleapis.com/maps/api/geocode/json\");\n            request.ContentType = \"application/x-www-form-urlencoded\";\n            request.Method = \"POST\";\n            var parameters = string.Format(\"language={0}&amp;latlng={1}&amp;client={2}&amp;signature={3}\", \"nl\", \"51.123456,5.612345\", \"gme-aa\", \"******_******=\");\n\n            byte[] byteArray = Encoding.UTF8.GetBytes(parameters);\n            request.ContentLength = byteArray.Length;\n            Stream dataStream = request.GetRequestStream();\n            dataStream.Write(byteArray, 0, byteArray.Length);\n            dataStream.Close();\n\n            /*\n             * Read HttpWeb Response\n             */\n            HttpWebResponse response = (HttpWebResponse)request.GetResponse();\n            dataStream = response.GetResponseStream();\n            StreamReader reader = new StreamReader(dataStream);\n            string Response = reader.ReadToEnd();\n            response.Close();\n",
    "severity": "medium",
    "tags": [
      "c#",
      "httpwebrequest"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "42672915",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5498,
      "stackoverflow_creation_date": "2017-03-08T13:40:08.933Z"
    },
    "idempotency_key": "stackoverflow-42672915",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Should a JS package have a shrinkwrap?",
    "body": "I understand that using npm shrinkwrap helps to lock down dependencies to help guarantee a replicable build for an application. My question is, what if you're building a module instead of an application? Should each release of the module include a npm-shrinkwrap.json? I've taken a look at some open source modules and haven't seen them in their repositories (for instance: express, react, chai, async). My understanding is the benefit that npm (>=3) provides by consolidating compatible versions. For example, if pkg-a depends on lodash ^4.0.0 and pkg-b depends on lodash ^4.3.5, it'll just install a single copy of the latest lodash 4 release. But if pkg-a and pkg-b had both created shrinkwraps, most likely they would not correspond to the exact same version of lodash, and two copies of the library would need to be installed, even though they're entirely compatible releases. The downside of not including a shrinkwrap is that the library author is building a package that will be relied upon by other applications and which could become broken at any time when any of its dependencies (or dependencies' dependencies, recursively) releases a breaking change in a minor or patch release. And in the case of a dependency's dependency breaking, there's nothing that the library author can do save for publishing a shrinkwrap. For instance, if my library depends on request, which depends on hawk, and hawk releases a breaking change in a patch release, then even locking down to an exact version of request won't fix my library -- the only way (as far as I can see) to fix my library is to publish a shrinkwrap that pares down the exact version of hawk. This is getting long-winded, but I'm trying to understand if there's a better argument for having shrinkwraps in Node modules versus taking advantage of the benefits npm provides by not using them.",
    "code": "npm shrinkwrap\n\nnpm-shrinkwrap.json\n\n^4.0.0\n\n^4.3.5",
    "severity": "low",
    "tags": [
      "npm",
      "package-managers",
      "npm-shrinkwrap",
      "dependency-resolution"
    ],
    "metadata": {
      "stackoverflow_question_id": "42684307",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 181,
      "stackoverflow_creation_date": "2017-03-09T00:04:13.420Z"
    },
    "idempotency_key": "stackoverflow-42684307",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Find leftest duplicate of binary search result",
    "body": "Say I have an ordered array with lots of duplicates: var array = [ 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, ]; I also have code to perform a binary search for the index of the closest value within a sorted array: function binaryClosestIndexOf(array, value) { var mid, lo = 0, hi = array.length - 1; while (hi - lo > 1) { mid = (lo + hi) >>> 1; if (array[mid] > value) hi = mid; else lo = mid; } if (value - array[lo] <= array[hi] - value) return lo; else return hi; } Performing a few example searches unveils my issue: binaryClosestIndexOf(array, 3.5); > 14 // array[14] = 3 binaryClosestIndexOf(array, 3.50001); > 15 // array[15] = 4 binaryClosestIndexOf(array, 3.9); > 15 // array[15] = 4 binaryClosestIndexOf(array, 4); > 19 // array[19] = 4 binaryClosestIndexOf(array, 4.49999); > 19 // array[19] = 4 As we can see, there is no issue with the algorithm, it does return the closest value. But it returns an interesting mixture of indices, from the leftest to the rightest. I want to get the leftest duplicate index. I could introduce an O(n) search after the binary search, iterating through each value in the array after until a value is found that is smaller than the current value. I don't want to do this. Is there a way to elegantly perform a binary search that will end up with the leftest duplicate value? Bonus points for an algorithm for the rightest value, too!",
    "code": "var array = [ 1, 1, 1, 1, 1,\n              2, 2, 2, 2, 2,\n              3, 3, 3, 3, 3,\n              4, 4, 4, 4, 4,\n              5, 5, 5, 5, 5, ];\n\n\nfunction binaryClosestIndexOf(array, value) {\n  var mid,\n    lo = 0,\n    hi = array.length - 1;\n\n  while (hi - lo &gt; 1) {\n    mid = (lo + hi) &gt;&gt;&gt; 1;\n\n    if (array[mid] &gt; value)\n      hi = mid;\n    else\n      lo = mid;\n  }\n\n  if (value - array[lo] &lt;= array[hi] - value)\n    return lo;\n  else \n    return hi;\n}\n\n\nbinaryClosestIndexOf(array, 3.5);\n&gt; 14 // array[14] = 3\nbinaryClosestIndexOf(array, 3.50001);\n&gt; 15 // array[15] = 4\nbinaryClosestIndexOf(array, 3.9);\n&gt; 15 // array[15] = 4\nbinaryClosestIndexOf(array, 4);\n&gt; 19 // array[19] = 4\nbinaryClosestIndexOf(array, 4.49999);\n&gt; 19 // array[19] = 4\n",
    "severity": "low",
    "tags": [
      "javascript",
      "arrays",
      "algorithm",
      "binary-search"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "42740618",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 302,
      "stackoverflow_creation_date": "2017-03-11T21:04:45.920Z"
    },
    "idempotency_key": "stackoverflow-42740618",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "F#, loop control until n-2",
    "body": "I am currently learning functional programming and F#, and I want to do a loop control until n-2. For example: Given a list of doubles, find the pairwise average, e.g. pairwiseAverage [1.0; 2.0; 3.0; 4.0; 5.0] will give [1.5; 2.5; 3.5; 4.5] After doing some experimenting and searching, I have a few ways to do it: Method 1: let pairwiseAverage (data: List<double>) = [for j in 0 .. data.Length-2 do yield (data.[j]+data.[j+1])/2.0] Method 2: let pairwiseAverage (data: List<double>) = let averageWithNone acc next = match acc with | (_,None) -> ([],Some(next)) | (result,Some prev) -> ((prev+next)/2.0)::result,Some(next)) let resultTuple = List.fold averageWithNone ([],None) data match resultTuple with | (x,_) -> List.rev x Method 3: let pairwiseAverage (data: List<double>) = // Get elements from 1 .. n-1 let after = List.tail data // Get elements from 0 .. n-2 let before = data |> List.rev |> List.tail |> List.rev List.map2 (fun x y -> (x+y)/2.0) before after I just like to know if there are other ways to approach this problem. Thank you.",
    "code": "Given a list of doubles, find the pairwise average,\ne.g. pairwiseAverage [1.0; 2.0; 3.0; 4.0; 5.0] will give [1.5; 2.5; 3.5; 4.5]\n\n\nlet pairwiseAverage (data: List&lt;double&gt;) = \n        [for j in 0 .. data.Length-2 do  \n            yield (data.[j]+data.[j+1])/2.0]\n\n\nlet pairwiseAverage (data: List&lt;double&gt;) =\n        let averageWithNone acc next =\n            match acc with\n            | (_,None)           -&gt; ([],Some(next))\n            | (result,Some prev) -&gt; ((prev+next)/2.0)::result,Some(next))\n\n        let resultTuple = List.fold averageWithNone ([],None) data\n\n        match resultTuple with\n        | (x,_) -&gt; List.rev x\n\n\nlet pairwiseAverage (data: List&lt;double&gt;) =\n        // Get elements from 1 .. n-1\n        let after = List.tail data\n\n        // Get elements from 0 .. n-2\n        let before = \n            data    |&gt; List.rev \n                    |&gt; List.tail\n                    |&gt; List.rev\n\n        List.map2 (fun x y -&gt; (x+y)/2.0) before after\n\n\n# Solution Code:\nlist |&gt; Seq.windowed 2 |&gt; Seq.map Array.average\n",
    "resolution": "Using only built-ins: list |> Seq.windowed 2 |> Seq.map Array.average Seq.windowed n gives you sliding windows of n elements each.",
    "severity": "low",
    "tags": [
      "f#"
    ],
    "metadata": {
      "stackoverflow_question_id": "42761575",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 162,
      "stackoverflow_creation_date": "2017-03-13T10:39:38.547Z"
    },
    "idempotency_key": "stackoverflow-42761575",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to get value of array key from query in golang",
    "body": "I have this query site.com/?status[0]=1&status[1]=2&status[1]=3&name=John I want to get all the values of status key like 1, 2, 3 I tried something like this for _, status:= range r.URL.Query()[\"status\"] { fmt.Println(status) } but it only works if the query is without array key: site.com/?status=1&status=2&status=3&name=John",
    "code": "site.com/?status[0]=1&amp;status[1]=2&amp;status[1]=3&amp;name=John\n\n\nfor _, status:= range r.URL.Query()[\"status\"] {\n    fmt.Println(status)\n}\n\n\nsite.com/?status=1&amp;status=2&amp;status=3&amp;name=John\n\n# Solution Code:\nr.ParseForm()  // parses request body and query and stores result in r.Form\nvar a []string\nfor i := 0; ; i++ {\n    key := fmt.Sprintf(\"status[%d]\", i)\n    values := r.Form[key] // form values are a []string\n    if len(values) == 0 {\n        // no more values\n        break\n    }\n    a = append(a, values[i])\n    i++\n}\n\n\n site.com/?status=1&amp;status=2&amp;status=3&amp;name=John\n\n\n r.ParseForm()\n a := r.Form[\"status\"]  // a is []string{\"1\", \"2\", \"3\"}\n",
    "resolution": "One approach is to loop over the possible values and append to a slice as you go: r.ParseForm() // parses request body and query and stores result in r.Form var a []string for i := 0; ; i++ { key := fmt.Sprintf(\"status[%d]\", i) values := r.Form[key] // form values are a []string if len(values) == 0 { // no more values break } a = append(a, values[i]) i++ } If you have control over the query string, then use this format: site.com/?status=1&status=2&status=3&name=John and get status values using: r.ParseForm() a := r.Form[\"status\"] // a is []string{\"1\", \"2\", \"3\"}",
    "severity": "high",
    "tags": [
      "arrays",
      "url",
      "go"
    ],
    "metadata": {
      "language": "go",
      "stackoverflow_question_id": "42870319",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 20415,
      "stackoverflow_creation_date": "2017-03-18T04:03:29.070Z"
    },
    "idempotency_key": "stackoverflow-42870319",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to (unit)test a weakrefence list's memory management function?",
    "body": "Excuses for the bad title: if someone can describe it better please do. I have a WeakList<T> class, which \"is\" basically a List<WeakReference<T>> (Though not in the literal sense that it derives from list, but rather it should be completelly transparent for the user). Now the underlying idea is that \"items are ignored if the referenced variable is gone\", ie a part of the WeakList<T> source is: public class WeakList<T> : IReadOnlyList<T>, IWeakList<T>, IWeakCollection<T>, IReadOnlyCollection<T>, ICollection<T>, IEnumerable<T>, IEnumerable where T : class { private readonly List<WeakReference<T>> _myList; public void Add(T item) { _myList.Add(new WeakReference<T>(item)); } IEnumerator<T> IEnumerable<T>.GetEnumerator() { foreach (var reference in _myList) { T elem; if (reference.TryGetTarget(out elem)) { yield return elem; } } } } I am still contemplating if List actually makes sense here, weaklist[n] won't be always the same as getting it through iterating to the nth element. - Is there a collection-name for something which does have an order, but no index-based-access? But besides that point: This class also includes a \"purge\" function, which is aimed at \"removing no longer existing references\". public void Purge() { for (int i = _myList.Count - 1; i >= 0; i--) { T elem; if (!_myList[i].TryGetTarget(out elem)) { _myList.RemoveAt(i); } } } Now my question is: how do I test above method in a unit-test (for Nunit)? How can I setup a list, then make sure some elements are removed, and then call purge and test it, something like: [TestFixture] public class WeakListTests { [Test] public static void PurgeTest() { var myList = new WeakList<string>; string s1 = \"hello world 1\"; string s2 = \"hello world 2\"; string s3 = \"hello world 3\"; myList.Add(s1); myList.Add(s2); myList.Add(s3); // \"clear\", force s1 & s2 away. (yet keep a reference so I can test it gets removed) myList.Purge(); Assert.That(myList, Does.Not.Contain(s1)); Assert.That(myList, Does.Not.Contain(s2)); Assert.That(myList, Does.Contain(s3)); } } The comment describes at what point I'm stuck.",
    "code": "public class WeakList&lt;T&gt; : IReadOnlyList&lt;T&gt;, IWeakList&lt;T&gt;, IWeakCollection&lt;T&gt;, IReadOnlyCollection&lt;T&gt;,\n    ICollection&lt;T&gt;, IEnumerable&lt;T&gt;, IEnumerable where T : class\n{\n    private readonly List&lt;WeakReference&lt;T&gt;&gt; _myList;\n    public void Add(T item) {\n        _myList.Add(new WeakReference&lt;T&gt;(item));\n    }\n    IEnumerator&lt;T&gt; IEnumerable&lt;T&gt;.GetEnumerator() {\n        foreach (var reference in _myList) {\n            T elem;\n            if (reference.TryGetTarget(out elem)) {\n                yield return elem;\n            }\n        }\n    }\n}\n\n\n    public void Purge() {\n        for (int i = _myList.Count - 1; i &gt;= 0; i--) {\n            T elem;\n            if (!_myList[i].TryGetTarget(out elem)) {\n                _myList.RemoveAt(i);\n            }\n        }\n    }\n\n\n[TestFixture]\npublic class WeakListTests\n{\n    [Test]\n    public static void PurgeTest() {\n        var myList = new WeakList&lt;string&gt;;\n        string s1 = \"hello world 1\";\n        string s2 = \"hello world 2\";\n        string s3 = \"hello world 3\";\n        myList.Add(s1);\n        myList.Add(s2);\n        myList.Add(s3);\n        // \"clear\", force s1 &amp; s2 away. (yet keep a reference so I can test it gets removed)\n        myList.Purge();\n        Assert.That(myList, Does.Not.Contain(s1));\n        Assert.That(myList, Does.Not.Contain(s2));\n        Assert.That(myList, Does.Contain(s3));\n\n    }\n}\n\n\nWeakList&lt;T&gt;\n\nList&lt;WeakReference&lt;T&gt;&gt;\n\nWeakList&lt;T&gt;\n\nList\n\n# Solution Code:\n[TestFixture]\npublic class WeakListTests\n{\n    [Test]\n    public static void PurgeTest()\n    {\n        var myList = new WeakList&lt;string&gt;();\n        // construct strings like this to prevent interning\n        string s1 = new string(new[] { 'h', 'e', 'l', 'l', 'o' });\n        string s2 = new string(new[] { 'h', 'e', 'l', 'l', 'o', '2' });\n        // this string can be interned, we don't want it to be collected anyway\n        string s3 = \"hello world 3\";            \n        myList.Add(s1);\n        myList.Add(s2);\n        myList.Add(s3);\n        // set to null for that to work even in application built with \"Debug\"\n        // in Release it will work without setting to null\n        s1 = null;\n        s2 = null;\n        // force GC collection\n        GC.Collect(2, GCCollectionMode.Forced);            \n        // now s1 and s2 are away\n        myList.Purge();\n        // invoke your enumerator\n        var left = myList.ToArray();            \n        // should contain 1 item and that item should be s3\n        Assert.That(left.Length == 1);\n        Assert.AreEqual(s3, left[0]);            \n    }\n}\n",
    "resolution": "You can do it like this (see comments): [TestFixture] public class WeakListTests { [Test] public static void PurgeTest() { var myList = new WeakList<string>(); // construct strings like this to prevent interning string s1 = new string(new[] { 'h', 'e', 'l', 'l', 'o' }); string s2 = new string(new[] { 'h', 'e', 'l', 'l', 'o', '2' }); // this string can be interned, we don't want it to be collected anyway string s3 = \"hello world 3\"; myList.Add(s1); myList.Add(s2); myList.Add(s3); // set to null for that to work even in application built with \"Debug\" // in Release it will work without setting to null s1 = null; s2 = null; // force GC collection GC.Collect(2, GCCollectionMode.Forced); // now s1 and s2 are away myList.Purge(); // invoke your enumerator var left = myList.ToArray(); // should contain 1 item and that item should be s3 Assert.That(left.Length == 1); Assert.AreEqual(s3, left[0]); } }",
    "severity": "low",
    "tags": [
      "c#",
      "unit-testing",
      "memory-management",
      "garbage-collection",
      "nunit"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "42886982",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 116,
      "stackoverflow_creation_date": "2017-03-19T13:12:58.323Z"
    },
    "idempotency_key": "stackoverflow-42886982",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How does this float square root approximation work?",
    "body": "I found a rather strange but working square root approximation for floats; I really don't get it. Can someone explain me why this code works? float sqrt(float f) { const int result = 0x1fbb4000 + (*(int*)&f >> 1); return *(float*)&result; } I've test it a bit and it outputs values off of std::sqrt() by about 1 to 3%. I know of the Quake III's fast inverse square root and I guess it's something similar here (without the newton iteration) but I'd really appreciate an explanation of how it works. (nota: I've tagged it both c and c++ since it's both valid-ish (see comments) C and C++ code)",
    "code": "float sqrt(float f)\n{\n    const int result = 0x1fbb4000 + (*(int*)&amp;f &gt;&gt; 1);\n    return *(float*)&amp;result;   \n}\n\n\nfloat\n\nstd::sqrt()\n\n# Solution Code:\n(*(int*)&amp;f &gt;&gt; 1)\n\nf\n\n0x1fbb4000\n\nfloat\n\nfloat\n\nsqrtf",
    "resolution": "(*(int*)&f >> 1) right-shifts the bitwise representation of f. This almost divides the exponent by two, which is approximately equivalent to taking the square root.1 Why almost? In IEEE-754, the actual exponent is e - 127.2 To divide this by two, we'd need e/2 - 64, but the above approximation only gives us e/2 - 127. So we need to add on 63 to the resulting exponent. This is contributed by bits 30-23 of that magic constant (0x1fbb4000). I'd imagine the remaining bits of the magic constant have been chosen to minimise the maximum error across the mantissa range, or something like that. However, it's unclear whether it was determined analytically, iteratively, or heuristically. It's worth pointing out that this approach is somewhat non-portable. It makes (at least) the following assumptions: The platform uses single-precision IEEE-754 for float. The endianness of float representation. That you will be unaffected by undefined behaviour due to the fact this approach violates C/C++'s strict-aliasing rules. Thus it should be avoided unless you're certain that it gives predictable behaviour on your platform (and indeed, that it provides a useful speedup vs. sqrtf!). 1. sqrt(a^b) = (a^b)^0.5 = a^(b/2) 2. See e.g. https://en.wikipedia.org/wiki/Single-precision_floating-point_format#Exponent_encoding",
    "severity": "high",
    "tags": [
      "c++",
      "c",
      "optimization",
      "floating-point",
      "ieee-754"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "43120045",
      "stackoverflow_score": 54,
      "stackoverflow_view_count": 7266,
      "stackoverflow_creation_date": "2017-03-30T13:57:12.990Z"
    },
    "idempotency_key": "stackoverflow-43120045",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Alternative to gets?",
    "body": "I used to use gets but then I heard that it got removed from c11 and that its overall very dangerous. So I did some searching and found out that you can use fgets() to do the same thing. The problems is that when I do use fgets() it seems to also copy the end of the line aswell, which ends up making an extra unwanted line. To show you what I mean: //if I have char key[30]; fgets(key, sizeof(key), stdin); //now if ender for instance: Doggo and do: printf(\"The key is:%s|hozaah!\\n\", key); //I expect it to print: The key is:Doggo|hozaah! //Instead it prints: The key is:Doggo |hozaah! Is there a way to get around this? Or is there another function I can use instead?",
    "code": "//if I have \nchar key[30];\nfgets(key, sizeof(key), stdin);\n\n//now if ender for instance: Doggo and do:\nprintf(\"The key is:%s|hozaah!\\n\", key);\n\n//I expect it to print:\nThe key is:Doggo|hozaah!\n\n//Instead it prints:\nThe key is:Doggo\n|hozaah!\n\n\n# Solution Code:\nif (fgets(buf, sizeof buf, fp)) {\n    buf[strcspn(buf, \"\\n\")] = '\\0';\n}\n\n\nif (fgets(buf, sizeof buf, fp)) {\n    size_t len = strlen(buf);\n    if (len &gt; 0 &amp;&amp; buf[len - 1] == '\\n')\n        buf[--len] = '\\0';\n}\n\n\nif (fgets(buf, sizeof buf, fp)) {\n    char *p = strchr(buf, '\\n');\n    if (p != NULL)\n        *p = '\\0';\n}\n\n\n#include &lt;stdio.h&gt;\nssize_t getline(char **lineptr, size_t *n, FILE *stream);\n\n\ngets()\n\nstrcspn\n\n&lt;string.h&gt;\n\nstrlen\n\nstrchr\n\ngetline()\n\nmalloc()\n\n*n\n\nlineptr = NULL\n\nn = 0",
    "resolution": "There is no standard direct replacement for gets(), but there are many easy ways to get rid of the newline if present: The simplest using strcspn (declared in <string.h>): if (fgets(buf, sizeof buf, fp)) { buf[strcspn(buf, \"\\n\")] = '\\0'; } The classic using strlen: if (fgets(buf, sizeof buf, fp)) { size_t len = strlen(buf); if (len > 0 && buf[len - 1] == '\\n') buf[--len] = '\\0'; } Another classic with strchr: if (fgets(buf, sizeof buf, fp)) { char *p = strchr(buf, '\\n'); if (p != NULL) *p = '\\0'; } An alternative is the POSIX function getline() which might be available on your system: #include <stdio.h> ssize_t getline(char **lineptr, size_t *n, FILE *stream); The buffer is allocated or reallocated with malloc() and its size is updated into *n. The initial values should be lineptr = NULL and n = 0.",
    "severity": "high",
    "tags": [
      "c",
      "fgets",
      "gets"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "43174201",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 13775,
      "stackoverflow_creation_date": "2017-04-02T22:26:24.187Z"
    },
    "idempotency_key": "stackoverflow-43174201",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Should I always use std::move in a constructor?",
    "body": "Are the move semantics used in Example A necessary, and which struct is superior? Example A: struct A { std::string a; A( std::string a ) : a( std::move(a) ){ } }; Example B: struct B { std::string b; B( const std::string& b ) : b( b ){ } }; I don't believe this is a duplicate question. I am asking specifically which example is superior from the perspective of using member initialization in a class constructor. None of the examples or answers listed in the other question dealt with member initialization. I don't like that the constructor is called with a reference parameter, then copied into the member. It seems that it could be wasteful to have multiple copy operations. I want to \"pipe\" the data into the members as efficiently as possible but I don't want to take rvalues as the constructor parameters.",
    "code": "struct A\n{\n    std::string a;\n    A( std::string a ) : a( std::move(a) ){ }\n};\n\n\nstruct B\n{\n    std::string b;\n    B( const std::string&amp; b ) : b( b ){ }\n};\n",
    "resolution": "Struct A is superior. Moving an object is usually very cheap (and can often be completely optimized out), so typically one shouldn't care about the number of moves. But it's important to minimize the number of copies. The number of copies in example A is equal to or less than the number of copies in example B. More specifically, A and B are equivalent if the original string is an L-value: std::string s; ... A a(s); // one copy B b(s); // one copy but A is better when the original string is an R-value: std::string MakeString(); ... A a(MakeString()); // zero copies B b(MakeString()); // one copy",
    "severity": "medium",
    "tags": [
      "c++",
      "c++11",
      "move-semantics"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "43196826",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 2669,
      "stackoverflow_creation_date": "2017-04-04T01:24:36.190Z"
    },
    "idempotency_key": "stackoverflow-43196826",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why does GetLastError have an error before my program begins?",
    "body": "While using GetLastError after calling a Windows API function wrapper like ExtractShortPathName I noticed that GetLastError returns a non-zero error code regardless of whether the call to ExtractShortPathName succeeded or failed. In fact, there seems to be a \"last error\" before my program even executes, e.g. program TestGetLastError; {$APPTYPE CONSOLE} {$R *.res} uses System.SysUtils; var ErrorCode: Integer; begin try ErrorCode := GetLastError; if ErrorCode <> 0 then RaiseLastOSError; except on E: Exception do WriteLn(E.ClassName, ': ', E.Message); end; end. results in: EOSError: System Error. Code: 122. The data area passed to a system call is too small Am I misunderstanding something or doing something wrong? If the Delphi run-time is doing something that results in GetLastError being set, what is the correct way to clear that error before my program starts executing? Should I use SetLastError(ERROR_SUCCESS); like this example from the Delphi API documentation: procedure TForm2.btRaiseLastClick(Sender: TObject); begin { Set the last OS error to a bogus value. } System.SetLastError(ERROR_ACCESS_DENIED); try RaiseLastOSError(); except on Ex : EOSError do MessageDlg('Caught an OS error with code: ' + IntToStr(Ex.ErrorCode), mtError, [mbOK], 0); end; { Let the Delphi Exception dialog appear. } RaiseLastOSError(ERROR_NOT_ENOUGH_MEMORY); { Finally set the last error to none. } System.SetLastError(ERROR_SUCCESS); if GetLastError() <> ERROR_SUCCESS then MessageDlg('Whoops, something went wrong in the mean time!', mtError, [mbOK], 0); { No exception should be thrown here because last OS error is \"ERROR_SUCCESS\". } CheckOSError(GetLastError()); end; http://docwiki.embarcadero.com/CodeExamples/Tokyo/en/LastOSError_(Delphi)",
    "code": "program TestGetLastError;\n\n{$APPTYPE CONSOLE}\n{$R *.res}\n\nuses\n  System.SysUtils;\n\nvar\n  ErrorCode: Integer;\n\nbegin\n  try\n    ErrorCode := GetLastError;\n    if ErrorCode &lt;&gt; 0 then\n      RaiseLastOSError;\n  except\n    on E: Exception do\n      WriteLn(E.ClassName, ': ', E.Message);\n  end;\nend.\n\n\nEOSError: System Error.  Code: 122.\nThe data area passed to a system call is too small\n\n\nprocedure TForm2.btRaiseLastClick(Sender: TObject);\nbegin\n  { Set the last OS error to a bogus value. }\n  System.SetLastError(ERROR_ACCESS_DENIED);\n\n  try\n    RaiseLastOSError();\n  except\n    on Ex : EOSError do\n      MessageDlg('Caught an OS error with code: ' + IntToStr(Ex.ErrorCode), mtError, [mbOK], 0);\n  end;\n\n  { Let the Delphi Exception dialog appear. }\n  RaiseLastOSError(ERROR_NOT_ENOUGH_MEMORY);\n\n  { Finally set the last error to none. }\n  System.SetLastError(ERROR_SUCCESS);\n\n  if GetLastError() &lt;&gt; ERROR_SUCCESS then\n    MessageDlg('Whoops, something went wrong in the mean time!', mtError, [mbOK], 0);\n\n  { No exception should be thrown here because last OS error is \"ERROR_SUCCESS\". }\n  CheckOSError(GetLastError());\nend;\n\n\nGetLastError\n\nExtractShortPathName\n\nGetLastError\n\nExtractShortPathName\n\nGetLastError\n\nSetLastError(ERROR_SUCCESS);\n\n# Solution Code:\nGetLastError()\n\nGetLastError()\n\nGetLastError()",
    "resolution": "The value returned by GetLastError() is only relevant immediately after a Windows API call that has failed and where the documentation for that function specifies that extended error information is available by calling GetLastError(). Calling it outside of that context will return something from an earlier call, which could be from your code, the Delphi runtime, a DLL that you have called or even something in the Windows API... As the Windows API documentation for GetLastError() states: You should call the GetLastError function immediately when a function's return value indicates that such a call will return useful data.",
    "severity": "medium",
    "tags": [
      "delphi",
      "winapi",
      "error-handling",
      "delphi-xe8"
    ],
    "metadata": {
      "stackoverflow_question_id": "43244719",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1177,
      "stackoverflow_creation_date": "2017-04-06T02:36:49.797Z"
    },
    "idempotency_key": "stackoverflow-43244719",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "liftM in ghci: why is there such difference?",
    "body": "When I define such functions inside ghci: > :m Control.Monad > let f n = n+1 > let g = liftM f they work well: > g $ Just 2 > Just 3 > g $ [1,2] > [2,3] But when I define the same functions in file (probl.hs): import Control.Monad f :: Integer -> Integer f n = n + 2 g = liftM f and then run this file via ghci: ghci probl.hs I got such message: probl.hs:6:5: error: * Ambiguous type variable `m0' arising from a use of `liftM' prevents the constraint `(Monad m0)' from being solved. Relevant bindings include g :: m0 Integer -> m0 Integer (bound at probl.hs:6:1) ... Failed, modules loaded: none. Why is there such difference? And how to solve problem with second situation (I want the same behavior like in first one)?",
    "code": "&gt; :m Control.Monad\n&gt; let f n = n+1\n&gt; let g = liftM f\n\n\n&gt; g $ Just 2\n&gt; Just 3\n&gt; g $ [1,2]\n&gt; [2,3]\n\n\n import Control.Monad\n\n f :: Integer -&gt; Integer\n f n = n + 2\n\n g = liftM f\n\n\n ghci probl.hs\n\n\nprobl.hs:6:5: error:\n    * Ambiguous type variable `m0' arising from a use of `liftM'\n      prevents the constraint `(Monad m0)' from being solved.\n      Relevant bindings include\n        g :: m0 Integer -&gt; m0 Integer (bound at probl.hs:6:1)\n...\nFailed, modules loaded: none.\n\n\n# Solution Code:\n{-# LANGUAGE NoMonomorphismRestriction #-}",
    "resolution": "You are being hit by the dreaded Monomorphism Restriction! It is an unintuitive rule that is turned off in GHCi, but on when you compile. Use a type signature (recommended), or {-# LANGUAGE NoMonomorphismRestriction #-} to disable it. Basically, it sometimes makes expressions without type signatures less polymorphic than you would expect. Further reading",
    "severity": "low",
    "tags": [
      "haskell",
      "monads",
      "ghci",
      "lifting"
    ],
    "metadata": {
      "stackoverflow_question_id": "43255051",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 107,
      "stackoverflow_creation_date": "2017-04-06T12:19:40.207Z"
    },
    "idempotency_key": "stackoverflow-43255051",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "React Native - Is there any way to find/search all images (.jpg/.png) from the external/internal storage?",
    "body": "I am new to react-native development and using RNFetchBlob to work with files in internal storage, I wanted to create a gallery application and for that I need to fetch all the images present in the phone. What i was able to do is fetch all files from a particular directory and search for images in it. RNFetchBlob.fs.ls(RNFetchBlob.fs.dirs.DCIMDir).then((files) => { //Returns all files present in the directory console.log(files); //Returns files with .png or .jpg extension. console.log(files.find((element) => {return element.match('/(.png)$|(.jpg)$|(.jpeg)$/g')})); }).catch((err) =>{ console.log(err); }); But with this approach I need to search in every directory by iterating into them with recursion, I wanted to know if there is some way fetching all the image files just with one command.",
    "code": "RNFetchBlob.fs.ls(RNFetchBlob.fs.dirs.DCIMDir).then((files) =&gt; {\n        //Returns all files present in the directory\n        console.log(files);\n        //Returns files with .png or .jpg extension.            \n        console.log(files.find((element) =&gt; {return element.match('/(.png)$|(.jpg)$|(.jpeg)$/g')}));\n\n    }).catch((err) =&gt;{\n        console.log(err);\n    });\n\n\nRNFetchBlob",
    "severity": "low",
    "tags": [
      "javascript",
      "react-native"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "43627495",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 314,
      "stackoverflow_creation_date": "2017-04-26T07:20:09.860Z"
    },
    "idempotency_key": "stackoverflow-43627495",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Excel hyperlinks 'Can't open specified file' on Mac",
    "body": "I'm using Microsoft Excel (Version 15.33) on Mac and try to insert hyperlinks for images stored locally. The hyperlink function doesn't work whether I do =HYPERLINK(\"/Users/kestrel/Desktop/photos/a.jpg\") or =HYPERLINK(A1) where A column has the path to the file names (e.g., /Users/kestrel/Desktop/photos/a.jpg) I'm positive those paths are correct, because those links work on previous Mac Excel versions. Can this be due to the new Excel version or can someone please suggest another way for mass inserting hyperlinks in this version please? Thanks!",
    "code": "=HYPERLINK(\"/Users/kestrel/Desktop/photos/a.jpg\")\n\n=HYPERLINK(A1)\n\n# Solution Code:\n=HYPERLINK(\"file:\\\\\\Users\\kestrel\\Desktop\\photos\\a.jpg\")\n",
    "resolution": "Try using: =HYPERLINK(\"file:\\\\\\Users\\kestrel\\Desktop\\photos\\a.jpg\") Note the backslashes (\\ - Windows path delimiter) instead of forward slashes (/ - Mac, Linux, Unix path delimiter). Works consistently for me on Excel v 15.29.1 on Mac.",
    "severity": "medium",
    "tags": [
      "excel",
      "hyperlink",
      "macos-sierra"
    ],
    "metadata": {
      "stackoverflow_question_id": "43632638",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8072,
      "stackoverflow_creation_date": "2017-04-26T11:16:18.967Z"
    },
    "idempotency_key": "stackoverflow-43632638",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "how to write metadata into Excel workbooks using Apache POI in Java",
    "body": "MetaData Excel Expected File Properties Need to write custom data into excel file using Apache POI.I am using POI 3.1.1 version jar. This is my code: FileInputStream fis = new FileInputStream(sample); workbook = new XSSFWorkbook(fis); POIXMLProperties props = workbook.getProperties(); /* Let us set some core properties now*/ POIXMLProperties.CoreProperties coreProp = props.getCoreProperties(); coreProp.setCreator(\"Thinktibits\"); //set document creator coreProp.setDescription(\"set Metadata using Apache POI / Java\"); coreProp.setCategory(\"Programming\"); //category /* Finally, we can set some custom Properies */ POIXMLProperties.CustomProperties custProp = props.getCustomProperties(); custProp.addProperty(\"Author\", \"Thinktibits\");// String custProp.addProperty(\"Year\", 2014); // Number Property custProp.addProperty(\"Published\", true); //Yes No Property custProp.addProperty(\"Typist\", \"tika\"); FileOutputStream fos = new FileOutputStream(sample); workbook.write(fos); fos.close(); Can anyone help me where it went wrong in my code to get the expected custom tab?",
    "code": "FileInputStream fis = new FileInputStream(sample);\nworkbook = new XSSFWorkbook(fis);\nPOIXMLProperties props = workbook.getProperties();\n\n/* Let us set some core properties now*/\nPOIXMLProperties.CoreProperties coreProp = props.getCoreProperties();\ncoreProp.setCreator(\"Thinktibits\"); //set document creator\ncoreProp.setDescription(\"set Metadata using Apache POI / Java\");\ncoreProp.setCategory(\"Programming\"); //category\n\n/* Finally, we can set some custom Properies */\nPOIXMLProperties.CustomProperties custProp = props.getCustomProperties();\ncustProp.addProperty(\"Author\", \"Thinktibits\");// String\ncustProp.addProperty(\"Year\", 2014);     // Number Property\ncustProp.addProperty(\"Published\", true); //Yes No Property\ncustProp.addProperty(\"Typist\", \"tika\");\nFileOutputStream fos = new FileOutputStream(sample);\nworkbook.write(fos);\nfos.close();\n\n\n# Solution Code:\npublic class ApachePOI {\n\n    public static void main(final String[] args) throws Exception {\n        FileInputStream fis = new FileInputStream(\"C:\\\\Mappe1.xlsx\");\n        XSSFWorkbook workbook = new XSSFWorkbook(fis);\n        POIXMLProperties props = workbook.getProperties();\n\n        /* Let us set some core properties now */\n        POIXMLProperties.CoreProperties coreProp = props.getCoreProperties();\n        coreProp.setCreator(\"Thinktibits\"); // set document creator\n        coreProp.setDescription(\"set Metadata using Apache POI / Java\");\n        coreProp.setCategory(\"Programming\"); // category\n\n        /* Finally, we can set some custom Properies */\n        POIXMLProperties.CustomProperties custProp = props.getCustomProperties();\n        custProp.addProperty(\"Author\", \"Thinktibits\");// String\n        custProp.addProperty(\"Year\", 2014); // Number Property\n        custProp.addProperty(\"Published\", true); // Yes No Property\n        custProp.addProperty(\"Typist\", \"tika\");\n        FileOutputStream fos = new FileOutputStream(\"C:\\\\Mappe1.xlsx\");\n        workbook.write(fos);\n        fos.close();\n    }\n}\n\n\n&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;3.16&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;3.16&lt;/version&gt;\n&lt;/dependency&gt;\n",
    "resolution": "Here this code works for me with Excel 2011 and XLSX (of course the xlsx needs to be not open in EXCEL): public class ApachePOI { public static void main(final String[] args) throws Exception { FileInputStream fis = new FileInputStream(\"C:\\\\Mappe1.xlsx\"); XSSFWorkbook workbook = new XSSFWorkbook(fis); POIXMLProperties props = workbook.getProperties(); /* Let us set some core properties now */ POIXMLProperties.CoreProperties coreProp = props.getCoreProperties(); coreProp.setCreator(\"Thinktibits\"); // set document creator coreProp.setDescription(\"set Metadata using Apache POI / Java\"); coreProp.setCategory(\"Programming\"); // category /* Finally, we can set some custom Properies */ POIXMLProperties.CustomProperties custProp = props.getCustomProperties(); custProp.addProperty(\"Author\", \"Thinktibits\");// String custProp.addProperty(\"Year\", 2014); // Number Property custProp.addProperty(\"Published\", true); // Yes No Property custProp.addProperty(\"Typist\", \"tika\"); FileOutputStream fos = new FileOutputStream(\"C:\\\\Mappe1.xlsx\"); workbook.write(fos); fos.close(); } } As dependency I got: <!-- https://mvnrepository.com/artifact/org.apache.poi/poi --> <dependency> <groupId>org.apache.poi</groupId> <artifactId>poi</artifactId> <version>3.16</version> </dependency> <!-- https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml --> <dependency> <groupId>org.apache.poi</groupId> <artifactId>poi-ooxml</artifactId> <version>3.16</version> </dependency>",
    "severity": "medium",
    "tags": [
      "java",
      "excel",
      "apache-poi"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "43796819",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 7320,
      "stackoverflow_creation_date": "2017-05-05T04:57:34.270Z"
    },
    "idempotency_key": "stackoverflow-43796819",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "App directory doesn't show up on google cloud shell",
    "body": "Probably a stupid question. I'm new to google app engine. So I followed the tutorial and successfully deployed their HelloWorld app, where the final steps are done on the cloud shell. Then I built my own app in flask on my local machine, tested it (pushed the repo to the project's cloud repo) and deployed it from the command line (gcloud app deploy) and it works fine, anyone can use the app on their browser and I can also see the source code in the console website. But I don't see any directories when I use the cloud shell. I get the prompt username@project-id:~$ but when I ls, there's just one README file and no other directories, therefore I can't use the devapp_sever.py, gcloud app deploy or any other shell function on this project. But when I choose the hello world project that was created initially, the shell shows an src directory which contains the app's code and I can use the shell and deploy the app from there. What's happening here and what am I supposed to do.?",
    "code": "gcloud app deploy\n\nusername@project-id:~$\n\nls\n\ndevapp_sever.py\n\ngcloud app deploy\n\nsrc\n\n# Solution Code:\ngit clone",
    "resolution": "Think of your Cloud Shell as just another workstation with local disk similar to your local machine. To deploy code to an app engine app, Google will create a Cloud Source Repository. Having said that, this is not related to your Cloud Shell. You can of course git clone any Git repo into your Cloud Shell. Dan also wrote a nice explanation here - https://stackoverflow.com/a/42123320/7947020 Hope this clarifies it!",
    "severity": "medium",
    "tags": [
      "python",
      "google-app-engine",
      "google-cloud-platform"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "43824407",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1828,
      "stackoverflow_creation_date": "2017-05-06T19:09:51.237Z"
    },
    "idempotency_key": "stackoverflow-43824407",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MySQL with JOIN not using index",
    "body": "Problem with MySQL version 5.7.18. Earlier versions of MySQL behaves as supposed to. Here are two tables. Table 1: CREATE TABLE `test_events` ( `id` int(11) NOT NULL, `event` int(11) DEFAULT '0', `manager` int(11) DEFAULT '0', `base_id` int(11) DEFAULT '0', `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `client` int(11) DEFAULT '0', `event_time` datetime DEFAULT '0000-00-00 00:00:00' ) ENGINE=InnoDB DEFAULT CHARSET=utf8; ALTER TABLE `test_events` ADD PRIMARY KEY (`id`), ADD KEY `client` (`client`), ADD KEY `event_time` (`event_time`), ADD KEY `manager` (`manager`), ADD KEY `base_id` (`base_id`), ADD KEY `create_time` (`create_time`); And the second table: CREATE TABLE `test_event_types` ( `id` int(11) NOT NULL, `name` varchar(255) DEFAULT NULL, `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP, `base` varchar(255) DEFAULT NULL ) ENGINE=InnoDB DEFAULT CHARSET=utf8; ALTER TABLE `test_event_types` ADD PRIMARY KEY (`id`); Let's try to select last event from base \"314\": EXPLAIN SELECT `test_events`.`create_time` FROM `test_events` LEFT JOIN `test_event_types` ON ( `test_events`.`event` = `test_event_types`.`id` ) WHERE base = 314 ORDER BY `test_events`.`create_time` DESC LIMIT 1; +----+-------------+------------------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+------------------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+ | 1 | SIMPLE | test_events | NULL | ALL | NULL | NULL | NULL | NULL | 434928 | 100.00 | Using temporary; Using filesort | | 1 | SIMPLE | test_event_types | NULL | ALL | PRIMARY | NULL | NULL | NULL | 44 | 2.27 | Using where; Using join buffer (Block Nested Loop) | +----+-------------+------------------+------------+------+---------------+------+---------+------+--------+----------+----------------------------------------------------+ 2 rows in set, 1 warning (0.00 sec) MySQL is not using index and reads the whole table. Without WHERE statement: EXPLAIN SELECT `test_events`.`create_time` FROM `test_events` LEFT JOIN `test_event_types` ON ( `test_events`.`event` = `test_event_types`.`id` ) ORDER BY `test_events`.`create_time` DESC LIMIT 1; +----+-------------+------------------+------------+--------+---------------+-------------+---------+-----------------------+------+----------+-------------+ | id | select_type | table | partitions | type | possible_keys | key | key_len | ref | rows | filtered | Extra | +----+-------------+------------------+------------+--------+---------------+-------------+---------+-----------------------+------+----------+-------------+ | 1 | SIMPLE | test_events | NULL | index | NULL | create_time | 4 | NULL | 1 | 100.00 | NULL | | 1 | SIMPLE | test_event_types | NULL | eq_ref | PRIMARY | PRIMARY | 4 | m16.test_events.event | 1 | 100.00 | Using index | +----+-------------+------------------+------------+--------+---------------+-------------+---------+-----------------------+------+----------+-------------+ 2 rows in set, 1 warning (0.00 sec) Now it uses index. MySQL 5.5.55 uses index in both cases. Why is it so and what to do with it?",
    "code": "CREATE TABLE `test_events` (\n  `id` int(11) NOT NULL,\n  `event` int(11) DEFAULT '0',\n  `manager` int(11) DEFAULT '0',\n  `base_id` int(11) DEFAULT '0',\n  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `client` int(11) DEFAULT '0',\n  `event_time` datetime DEFAULT '0000-00-00 00:00:00'\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\n\nALTER TABLE `test_events`\n  ADD PRIMARY KEY (`id`),\n  ADD KEY `client` (`client`),\n  ADD KEY `event_time` (`event_time`),\n  ADD KEY `manager` (`manager`),\n  ADD KEY `base_id` (`base_id`),\n  ADD KEY `create_time` (`create_time`);\n\n\nCREATE TABLE `test_event_types` (\n  `id` int(11) NOT NULL,\n  `name` varchar(255) DEFAULT NULL,\n  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `base` varchar(255) DEFAULT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n\nALTER TABLE `test_event_types`\n  ADD PRIMARY KEY (`id`);\n\n\nEXPLAIN  SELECT  `test_events`.`create_time`\n    FROM  `test_events`\n    LEFT JOIN  `test_event_types`\n           ON ( `test_events`.`event` = `test_event_types`.`id` )\n    WHERE  base = 314\n    ORDER BY  `test_events`.`create_time` DESC\n    LIMIT  1;\n\n\nEXPLAIN  SELECT  `test_events`.`create_time`\n    FROM  `test_events`\n    LEFT JOIN  `test_event_types`\n          ON ( `test_events`.`event` = `test_event_types`.`id` )\n    ORDER BY  `test_events`.`create_time` DESC\n    LIMIT  1;\n\n\n# Solution Code:\nSELECT  test_events.create_time  FROM  test_events  LEFT JOIN  test_event_types ON (  test_events.event =  test_event_types.id )  ORDER BY  test_events.create_time DESC LIMIT 1; \n\n\nSELECT  test_events.create_time  FROM  test_events  LEFT JOIN  test_event_types ON (  test_events.event =  test_event_types.id ) WHERE base = 314 ORDER BY  test_events.create_time DESC LIMIT 1\n\n\nALTER TABLE test_events\n  ADD PRIMARY KEY (id),\n  ADD KEY client (client),\n  ADD KEY event_time (event_time),\n  ADD KEY manager (manager),\n  ADD KEY base_id (base_id),\n  ADD KEY create_time (create_time);\n\n\ncreate_time\n\ncreate_time\n\nbase",
    "resolution": "I don't know the difference you are seeing in your previous and current installations but the servers behaviour makes sense. SELECT test_events.create_time FROM test_events LEFT JOIN test_event_types ON ( test_events.event = test_event_types.id ) ORDER BY test_events.create_time DESC LIMIT 1; In this query you do not have a where clause but you are fetching one row only. And that's after sorting by create_time which happens to have an index. And that index can be used for sorting. But let's see the second query. SELECT test_events.create_time FROM test_events LEFT JOIN test_event_types ON ( test_events.event = test_event_types.id ) WHERE base = 314 ORDER BY test_events.create_time DESC LIMIT 1 You don't have an index on the base column. So no index can be used on that. To find the relevent records mysql has to do a table scan. Having identified the relevent rows, they need to be sorted. But in this case the query planner has decided that it's just not worth it to use the index on create_time I see several problems with your setup, the first being not having and index on base as already mentioned. But why is base varchar? You appear to be storing integers in it. ALTER TABLE test_events ADD PRIMARY KEY (id), ADD KEY client (client), ADD KEY event_time (event_time), ADD KEY manager (manager), ADD KEY base_id (base_id), ADD KEY create_time (create_time); And making multiple indexes like this doesn't make much sense in mysql. That's because mysql can use only one index per table for queries. You would be far better off with one or two indexes. Possibly multi column indexes. I think your ideal index would contain both create_time and event fields",
    "severity": "medium",
    "tags": [
      "mysql",
      "join",
      "optimization",
      "indexing"
    ],
    "metadata": {
      "stackoverflow_question_id": "43839078",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4057,
      "stackoverflow_creation_date": "2017-05-08T02:55:16.447Z"
    },
    "idempotency_key": "stackoverflow-43839078",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Jobs not executing via Airflow that runs celery with RabbitMQ",
    "body": "Below is the config im using [core] # The home folder for airflow, default is ~/airflow airflow_home = /root/airflow # The folder where your airflow pipelines live, most likely a # subfolder in a code repository dags_folder = /root/airflow/dags # The folder where airflow should store its log files. This location base_log_folder = /root/airflow/logs # An S3 location can be provided for log backups # For S3, use the full URL to the base folder (starting with \"s3://...\") s3_log_folder = None # The executor class that airflow should use. Choices include # SequentialExecutor, LocalExecutor, CeleryExecutor #executor = SequentialExecutor #executor = LocalExecutor executor = CeleryExecutor # The SqlAlchemy connection string to the metadata database. # SqlAlchemy supports many different database engine, more information # their website #sql_alchemy_conn = sqlite:////home/centos/airflow/airflow.db sql_alchemy_conn = mysql://username:password@XXX.XXX.XXX.XXX:3306/airflow_prod [celery] # This section only applies if you are using the CeleryExecutor in # [core] section above # The app name that will be used by celery celery_app_name = airflow.executors.celery_executor # The concurrency that will be used when starting workers with the # \"airflow worker\" command. This defines the number of task instances that # a worker will take, so size up your workers based on the resources on # your worker box and the nature of your tasks celeryd_concurrency = 16 # When you start an airflow worker, airflow starts a tiny web server # subprocess to serve the workers local log files to the airflow main # web server, who then builds pages and sends them to users. This defines # the port on which the logs are served. It needs to be unused, and open # visible from the main web server to connect into the workers. worker_log_server_port = 8793 # The Celery broker URL. Celery supports RabbitMQ, Redis and experimentally # a sqlalchemy database. Refer to the Celery documentation for more # information. broker_url = pyamqp://guest:guest@XXX.XXX.XXX.XXX:5672/ # Another key Celery setting celery_result_backend = db+mysql://username:password@XXX.XXX.XXX.XXX:3306/airflow_prod # Celery Flower is a sweet UI for Celery. Airflow has a shortcut to start # it `airflow flower`. This defines the port that Celery Flower runs on flower_port = 5556 # Default queue that tasks get assigned to and that worker listen on. default_queue = = default But jobs dont run.. the scheduler shows that it is checking for the state as below [2017-05-11 05:09:13,070] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2015-06-13 00:00:00: scheduled__2015-06-13T00:00:00, externally triggered: False> [2017-05-11 05:09:13,072] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2015-06-14 00:00:00: scheduled__2015-06-14T00:00:00, externally triggered: False> [2017-05-11 05:09:13,074] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2015-06-15 00:00:00: scheduled__2015-06-15T00:00:00, externally triggered: False> [2017-05-11 05:09:13,076] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2015-06-16 00:00:00: scheduled__2015-06-16T00:00:00, externally triggered: False> [2017-05-11 05:09:13,078] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2017-05-10 04:46:29: manual__2017-05-10T04:46:28.756946, externally triggered: True> [2017-05-11 05:09:13,080] {models.py:2274} INFO - Checking state for <DagRun tutorial @ 2017-05-10 05:08:20: manual__2017-05-10T05:08:20.252573, externally triggered: True> Airflow UI is up and running. Cerlery flower doesnt show any workers. My jobs are not running. Below is the sequence i follow to get started. Airflow scheduler airflow webserver -p 8080 Airflow worker Is there anything i am missing?",
    "code": "[core]\n# The home folder for airflow, default is ~/airflow\nairflow_home = /root/airflow\n\n# The folder where your airflow pipelines live, most likely a\n# subfolder in a code repository\ndags_folder = /root/airflow/dags\n\n# The folder where airflow should store its log files. This location\nbase_log_folder = /root/airflow/logs\n\n# An S3 location can be provided for log backups\n# For S3, use the full URL to the base folder (starting with \"s3://...\")\ns3_log_folder = None\n\n# The executor class that airflow should use. Choices include\n# SequentialExecutor, LocalExecutor, CeleryExecutor\n#executor = SequentialExecutor\n#executor = LocalExecutor\nexecutor = CeleryExecutor\n\n# The SqlAlchemy connection string to the metadata database.\n# SqlAlchemy supports many different database engine, more information\n# their website\n#sql_alchemy_conn = sqlite:////home/centos/airflow/airflow.db\nsql_alchemy_conn = mysql://username:password@XXX.XXX.XXX.XXX:3306/airflow_prod\n\n[celery]\n# This section only applies if you are using the CeleryExecutor in\n# [core] section above\n\n\n# The app name that will be used by celery\ncelery_app_name = airflow.executors.celery_executor\n\n# The concurrency that will be used when starting workers with the\n# \"airflow worker\" command. This defines the number of task instances that\n# a worker will take, so size up your workers based on the resources on\n# your worker box and the nature of your tasks\nceleryd_concurrency = 16\n\n# When you start an airflow worker, airflow starts a tiny web server\n# subprocess to serve the workers local log files to the airflow main\n# web server, who then builds pages and sends them to users. This defines\n# the port on which the logs are served. It needs to be unused, and open\n# visible from the main web server to connect into the workers.\nworker_log_server_port = 8793\n\n# The Celery broker URL. Celery supports RabbitMQ, Redis and experimentally\n# a sqlalchemy database. Refer to the Celery documentation for more\n# information.\nbroker_url = pyamqp://guest:guest@XXX.XXX.XXX.XXX:5672/\n\n\n# Another key Celery setting\ncelery_result_backend = db+mysql://username:password@XXX.XXX.XXX.XXX:3306/airflow_prod\n\n# Celery Flower is a sweet UI for Celery. Airflow has a shortcut to start\n# it `airflow flower`. This defines the port that Celery Flower runs on\nflower_port = 5556\n\n# Default queue that tasks get assigned to and that worker listen on.\ndefault_queue = = default\n\n\n[2017-05-11 05:09:13,070] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2015-06-13 00:00:00: scheduled__2015-06-13T00:00:00, externally triggered: False&gt;\n[2017-05-11 05:09:13,072] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2015-06-14 00:00:00: scheduled__2015-06-14T00:00:00, externally triggered: False&gt;\n[2017-05-11 05:09:13,074] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2015-06-15 00:00:00: scheduled__2015-06-15T00:00:00, externally triggered: False&gt;\n[2017-05-11 05:09:13,076] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2015-06-16 00:00:00: scheduled__2015-06-16T00:00:00, externally triggered: False&gt;\n[2017-05-11 05:09:13,078] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2017-05-10 04:46:29: manual__2017-05-10T04:46:28.756946, externally triggered: True&gt;\n[2017-05-11 05:09:13,080] {models.py:2274} INFO - Checking state for &lt;DagRun tutorial @ 2017-05-10 05:08:20: manual__2017-05-10T05:08:20.252573, externally triggered: True&gt;\n\n\n# Solution Code:\n# Configure RabbitMQ: create user and grant privileges\nrabbitmqctl add_user rabbitmq_user_name rabbitmq_password\nrabbitmqctl add_vhost rabbitmq_virtual_host_name\nrabbitmqctl set_user_tags rabbitmq_user_name rabbitmq_tag_name\nrabbitmqctl set_permissions -p rabbitmq_virtual_host_name rabbitmq_user_name \".*\" \".*\" \".*\"\n\n\npip uninstall celery\npip install celery==3.1.7\n\n\nairflow.cfg\n\nrabbitmqctl",
    "resolution": "Without knowing what version of Airflow you are running and how you have configured your rabbitmq-server, it is somewhat difficult to answer your question with surety. However, I can offer some things for you to look into. Here is the Celery documentation for specifying a broker URL. The broker URL in your airflow.cfg does not specify a virtual host, so per the documentation the default virtual host will be used. I did some digging but could not find what the default virtual host for pyampq is, but this is worth looking in to. Alternatively, you could explicitly configure a virtual host using rabbitmqctl. Here is a post where someone lays out how to do this with Airflow. I have copy and pasted the relevant information below: # Configure RabbitMQ: create user and grant privileges rabbitmqctl add_user rabbitmq_user_name rabbitmq_password rabbitmqctl add_vhost rabbitmq_virtual_host_name rabbitmqctl set_user_tags rabbitmq_user_name rabbitmq_tag_name rabbitmqctl set_permissions -p rabbitmq_virtual_host_name rabbitmq_user_name \".*\" \".*\" \".*\" Finally, you may be running into an issue with the Celery version you are using. At time of posting, Celery 4.X.X does not play nicely with Airflow. Try uninstalling Celery and reinstalling a version that works. pip uninstall celery pip install celery==3.1.7",
    "severity": "medium",
    "tags": [
      "python-2.7",
      "rabbitmq",
      "celery",
      "airflow"
    ],
    "metadata": {
      "stackoverflow_question_id": "43907040",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4810,
      "stackoverflow_creation_date": "2017-05-11T05:14:51.973Z"
    },
    "idempotency_key": "stackoverflow-43907040",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Hide scrollbar in FlatList (React Native) in Android",
    "body": "I am trying to use FlatList (React-native) in my app. I am using it horizontally and can see the scrollbar. There is an option in ScrollView to hide the scrollbar but not in FlatList. Has anyone been able to hide it some other way. I tried using the solution of parent & child container (Hide scroll bar, but still being able to scroll) but did not work. import React, { Component } from 'react'; import { Text, View, FlatList, StyleSheet, ScrollView } from 'react-native'; import { Card, Button } from 'react-native-elements'; const data = [ { id: 1, title: 'title 1', details: 'details 1 details 1 details 1' }, { id: 2, title: 'title 2', details: 'details 2 details 2 details 2 details 2 details 2 details 2' }, { id: 3, title: 'title 3', details: 'details 3 details 3' }, { id: 4, title: 'title 4 title 4', details: 'details 4' }, ]; class CategoryRow extends Component { _keyExtractor = (item, index) => item.id; _renderItem = (item) => { return ( <Card style={styles.cardContainer}> <Text>{item.title}</Text> <Text>{item.details}</Text> </Card> ); } render() { return ( <View style={{ flex: 1, overflow:'hidden' }}> <View style={{ overflow:'hidden' }}> <Text>Category 1</Text> <FlatList horizontal data={data} renderItem={({ item }) => this._renderItem(item)} keyExtractor={this._keyExtractor} /> </View> </View> ); } } const styles = StyleSheet.create({ cardContainer: { width: 140, height: 150, borderWidth: 0.5, borderColor: 'grey', overflow: 'scroll', }, }) export default CategoryRow;",
    "code": "import React, { Component } from 'react';\nimport { Text, View, FlatList, StyleSheet, ScrollView } from 'react-native';\nimport { Card, Button } from 'react-native-elements';\n\nconst data = [\n    { id: 1, title: 'title 1', details: 'details 1 details 1 details 1' },\n    { id: 2, title: 'title 2', details: 'details 2 details 2 details 2 details 2 details 2 details 2' },\n    { id: 3, title: 'title 3', details: 'details 3 details 3' },\n    { id: 4, title: 'title 4 title 4', details: 'details 4' },\n];\nclass CategoryRow extends Component {\n\n    _keyExtractor = (item, index) =&gt; item.id;\n\n    _renderItem = (item) =&gt; {\n        return (\n            &lt;Card style={styles.cardContainer}&gt;\n                &lt;Text&gt;{item.title}&lt;/Text&gt;   \n                &lt;Text&gt;{item.details}&lt;/Text&gt; \n            &lt;/Card&gt;\n        );\n    }\n\n    render() {\n        return (\n            &lt;View style={{ flex: 1, overflow:'hidden' }}&gt;\n                &lt;View style={{ overflow:'hidden' }}&gt;\n                    &lt;Text&gt;Category 1&lt;/Text&gt;\n                    &lt;FlatList\n                        horizontal\n                        data={data}\n                        renderItem={({ item }) =&gt; this._renderItem(item)}\n                        keyExtractor={this._keyExtractor}\n\n                    /&gt;\n                &lt;/View&gt;\n            &lt;/View&gt;\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n    cardContainer: {\n        width: 140,\n        height: 150,\n        borderWidth: 0.5,\n        borderColor: 'grey',\n        overflow: 'scroll',\n    },\n})\n\nexport default CategoryRow;\n\n\n# Solution Code:\n&lt;ScrollView\n  showsVerticalScrollIndicator={false}\n  showsHorizontalScrollIndicator={false}\n /&gt;\n",
    "resolution": "disable vertical and horizontal scroll indicator <ScrollView showsVerticalScrollIndicator={false} showsHorizontalScrollIndicator={false} />",
    "severity": "high",
    "tags": [
      "react-native",
      "react-native-flatlist"
    ],
    "metadata": {
      "stackoverflow_question_id": "43987917",
      "stackoverflow_score": 157,
      "stackoverflow_view_count": 205709,
      "stackoverflow_creation_date": "2017-05-15T20:06:09.393Z"
    },
    "idempotency_key": "stackoverflow-43987917",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to get all childs of a particular node in neo4j",
    "body": "I have this relationship in my neo4j: Parent -> Childs F -> D,E D -> A,B,C Use case: I am trying to get all child of a particular node using this query MATCH (p:Person{name:\"F\"})<-[:REPORTS_TO*]-(c) RETURN {parent : p.name, child : {name :collect( c.name)}} This returns me this : {\"parent\":\"F\",\"child\":{\"name\":[\"D\",\"A\",\"B\",\"C\",\"E\"]}} A, B, C are not direct child of F as they are child of D Required response is [ \"F\" : [ Childs i.e \"E\", \"D\" ] \"E\" : [] \"D\" : [ \"A\", \"B\", \"C\" ] and so on .... ] One way to achieve this is fire this below query recursively : MATCH (p:Person{name:\"F\"})<-[:REPORTS_TO]-(c) RETURN {parent : p.name, child : {name :collect( c.name)}} Which returns {\"parent\":\"F\",\"child\":{\"name\":[\"E\",\"D\"]}} Then search for all childs of E and D and then childs of childs and so on.. My question is can I achieve this in a single query or in a more better way? Edit1 : Adding dataset CREATE (f:Person {name: \"F\"}) CREATE (e:Person {name: \"E\"}) CREATE (d:Person {name: \"D\"}) CREATE (c:Person {name: \"C\"}) CREATE (b:Person {name: \"B\"}) CREATE (a:Person {name: \"A\"}) CREATE (x:Person {name: \"X\"}) CREATE (a)-[:REPORTS_TO]->(x) CREATE (d)-[:REPORTS_TO]->(a) CREATE (d)-[:REPORTS_TO]->(b) CREATE (d)-[:REPORTS_TO]->(c) CREATE (f)-[:REPORTS_TO]->(d) CREATE (f)-[:REPORTS_TO]->(e)",
    "code": "Parent -&gt; Childs\nF -&gt; D,E\nD -&gt; A,B,C\n\n\nMATCH (p:Person{name:\"F\"})&lt;-[:REPORTS_TO*]-(c) \nRETURN {parent : p.name, child : {name :collect( c.name)}}\n\n\n{\"parent\":\"F\",\"child\":{\"name\":[\"D\",\"A\",\"B\",\"C\",\"E\"]}}\n\n\n[\n\"F\" : [ Childs i.e \"E\", \"D\" ]\n\"E\" : []\n\"D\" : [ \"A\", \"B\", \"C\" ]\n and so on ....\n]\n\n\nMATCH (p:Person{name:\"F\"})&lt;-[:REPORTS_TO]-(c) \nRETURN {parent : p.name, child : {name :collect( c.name)}}\n\n\n{\"parent\":\"F\",\"child\":{\"name\":[\"E\",\"D\"]}}\n\n\nCREATE (f:Person {name: \"F\"})\nCREATE (e:Person {name: \"E\"})\nCREATE (d:Person {name: \"D\"})\nCREATE (c:Person {name: \"C\"})\nCREATE (b:Person {name: \"B\"})\nCREATE (a:Person {name: \"A\"})\nCREATE (x:Person {name: \"X\"})\nCREATE (a)-[:REPORTS_TO]-&gt;(x)\nCREATE (d)-[:REPORTS_TO]-&gt;(a)\nCREATE (d)-[:REPORTS_TO]-&gt;(b)\nCREATE (d)-[:REPORTS_TO]-&gt;(c)\nCREATE (f)-[:REPORTS_TO]-&gt;(d)\nCREATE (f)-[:REPORTS_TO]-&gt;(e)\n\n\nA, B, C\n\nD\n\nE and D\n\n# Solution Code:\nMATCH (p:Person)\nOPTIONAL MATCH (p)&lt;-[:REPORTS_TO]-(c) \nRETURN {parent : p.name, child : {name :collect( c.name)}}\n\n\n+-----------------------------------------------------+\n| {parent : p.name, child : {name :collect( c.name)}} |\n+-----------------------------------------------------+\n| {parent=D, child={name=[C, B, A]}}                  |\n| {parent=A, child={name=[]}}                         |\n| {parent=C, child={name=[]}}                         |\n| {parent=F, child={name=[E, D]}}                     |\n| {parent=E, child={name=[]}}                         |\n| {parent=B, child={name=[]}}                         |\n+-----------------------------------------------------+\n\n\nMATCH (p:Person)\nWHERE p.name = \"D\"\nOPTIONAL MATCH (p)&lt;-[:REPORTS_TO]-(c) \nWITH COLLECT (c) + p AS all\nUNWIND all as p\nMATCH (p)\nOPTIONAL MATCH (p)&lt;-[:REPORTS_TO]-(c) \nRETURN {parent : p.name, child : {name :collect( c.name)}}\n\n\n+-----------------------------------------------------+\n| {parent : p.name, child : {name :collect( c.name)}} |\n+-----------------------------------------------------+\n| {parent=D, child={name=[C, B, A]}}                  |\n| {parent=A, child={name=[]}}                         |\n| {parent=C, child={name=[]}}                         |\n| {parent=B, child={name=[]}}                         |\n+-----------------------------------------------------+\n\n\nMATCH (p:Person)&lt;-[:REPORTS_TO*]-(c:Person)\nWHERE p.name = \"X\"\nWITH COLLECT (c) + p AS all UNWIND all as p\nMATCH (p)&lt;-[:REPORTS_TO]-(c)\nRETURN {parent : p.name, child : {name :collect( c.name)}}\n\n\n+-----------------------------------------------------+\n| {parent : p.name, child : {name :collect( c.name)}} |\n+-----------------------------------------------------+\n| {parent=D, child={name=[F]}}                        |\n| {parent=A, child={name=[D]}}                        |\n| {parent=X, child={name=[A]}}                        |\n+-----------------------------------------------------+\n",
    "resolution": "You can use OPTIONAL MATCH to achieve your goal. Your data set looks like this: Try it: MATCH (p:Person) OPTIONAL MATCH (p)<-[:REPORTS_TO]-(c) RETURN {parent : p.name, child : {name :collect( c.name)}} Query results: +-----------------------------------------------------+ | {parent : p.name, child : {name :collect( c.name)}} | +-----------------------------------------------------+ | {parent=D, child={name=[C, B, A]}} | | {parent=A, child={name=[]}} | | {parent=C, child={name=[]}} | | {parent=F, child={name=[E, D]}} | | {parent=E, child={name=[]}} | | {parent=B, child={name=[]}} | +-----------------------------------------------------+ In case you need only a specific parent and yours respective children you can do: MATCH (p:Person) WHERE p.name = \"D\" OPTIONAL MATCH (p)<-[:REPORTS_TO]-(c) WITH COLLECT (c) + p AS all UNWIND all as p MATCH (p) OPTIONAL MATCH (p)<-[:REPORTS_TO]-(c) RETURN {parent : p.name, child : {name :collect( c.name)}} As result: +-----------------------------------------------------+ | {parent : p.name, child : {name :collect( c.name)}} | +-----------------------------------------------------+ | {parent=D, child={name=[C, B, A]}} | | {parent=A, child={name=[]}} | | {parent=C, child={name=[]}} | | {parent=B, child={name=[]}} | +-----------------------------------------------------+ EDIT: From the comment by @Prakash Pandey: how can we do something like childs, childs of childs and so on where p.name = \"Tom\" Based on the data set added in the question, you can do: MATCH (p:Person)<-[:REPORTS_TO*]-(c:Person) WHERE p.name = \"X\" WITH COLLECT (c) + p AS all UNWIND all as p MATCH (p)<-[:REPORTS_TO]-(c) RETURN {parent : p.name, child : {name :collect( c.name)}} Result: +-----------------------------------------------------+ | {parent : p.name, child : {name :collect( c.name)}} | +-----------------------------------------------------+ | {parent=D, child={name=[F]}} | | {parent=A, child={name=[D]}} | | {parent=X, child={name=[A]}} | +-----------------------------------------------------+",
    "severity": "medium",
    "tags": [
      "neo4j",
      "cypher",
      "graph-databases"
    ],
    "metadata": {
      "stackoverflow_question_id": "44025445",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5192,
      "stackoverflow_creation_date": "2017-05-17T12:52:54.507Z"
    },
    "idempotency_key": "stackoverflow-44025445",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Java Spring Scheduler Stuck after a while",
    "body": "I have scheduler which runs after every 1 minute, but after a while it got stuck without any error/logs. so took the thread dump using \"kill -3 \". In thread dump i found that Most of the threads were in WAITING(Parking)/(Sleeping) state. So, How do i resolve this stuck issue. Please help. My scheduler configuration is as following : <bean id=\"ProcessPayloadScheduler\" class=\"com.sfi.scheduler.ProcessPayloadScheduler\"></bean> <task:scheduler id=\"processPayloadSchedulerTask\" pool-size=\"10\" /> <task:scheduled-tasks scheduler=\"processPayloadSchedulerTask\"> <task:scheduled ref=\"ProcessPayloadScheduler\" method=\"processData\" cron=\"0 0/1 * 1/1 * ?\" /> </task:scheduled-tasks> **Thread Dump is :** 2017-05-24 07:40:04 Full thread dump OpenJDK 64-Bit Server VM (25.131-b11 mixed mode): \"processPayloadSchedulerTask-10\" #49 prio=5 os_prio=0 tid=0x00007f966845c000 nid=0xdc9b waiting on condition [0x00007f9636343000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-9\" #48 prio=5 os_prio=0 tid=0x00007f964c052800 nid=0xdc97 waiting on condition [0x00007f9636444000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-8\" #47 prio=5 os_prio=0 tid=0x00007f9650094800 nid=0xdc93 waiting on condition [0x00007f9636545000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-7\" #46 prio=5 os_prio=0 tid=0x00007f9640009000 nid=0xdc60 waiting on condition [0x00007f9636646000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-6\" #45 prio=5 os_prio=0 tid=0x00007f9648002800 nid=0xdc5d runnable [0x00007f9636745000] java.lang.Thread.State: RUNNABLE at java.net.SocketInputStream.socketRead0(Native Method) at java.net.SocketInputStream.socketRead(SocketInputStream.java:116) at java.net.SocketInputStream.read(SocketInputStream.java:171) at java.net.SocketInputStream.read(SocketInputStream.java:141) at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:112) at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:159) at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:187) - locked <0x00000000c0d89c58> (a com.mysql.jdbc.util.ReadAheadInputStream) at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3158) at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3615) at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3604) at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4155) at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615) at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776) at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2832) - locked <0x00000000c0d7eb18> (a com.mysql.jdbc.JDBC4Connection) at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2781) at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1569) - locked <0x00000000c0d7eb18> (a com.mysql.jdbc.JDBC4Connection) at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208) at org.apache.commons.dbcp.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:658) at org.apache.commons.dbcp.PoolableConnectionFactory.validateObject(PoolableConnectionFactory.java:635) at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1165) at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106) at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044) at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:139) at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380) at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228) at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171) at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67) at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162) at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435) at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:474) at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373) at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420) at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257) at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95) at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179) at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644) at com.sfi.scheduler.ProcessPayloadScheduler$$EnhancerBySpringCGLIB$$871a0ddd.processData(<generated>) at sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65) at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-5\" #44 prio=5 os_prio=0 tid=0x00007f964c052000 nid=0xdbc6 waiting on condition [0x00007f9636848000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-4\" #43 prio=5 os_prio=0 tid=0x00007f9640005000 nid=0xdbc2 waiting on condition [0x00007f9636949000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-3\" #42 prio=5 os_prio=0 tid=0x00007f964c1df800 nid=0xdbba waiting on condition [0x00007f9636a4a000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"http-nio-9090-exec-10\" #41 daemon prio=5 os_prio=0 tid=0x00007f96500a8000 nid=0xdb78 waiting on condition [0x00007f9636b4b000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000fcb91b10> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748) \"processPayloadSchedulerTask-2\" #40 prio=5 os_prio=0 tid=0x00007f964c1db800 nid=0xdb77 waiting on condition [0x00007f9636c4c000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000c10fabd8> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088) at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at java.lang.Thread.run(Thread.java:748) \"http-nio-9090-exec-9\" #39 daemon prio=5 os_prio=0 tid=0x00007f9650038800 nid=0xdb76 waiting on condition [0x00007f9636e2e000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000fcb91b10> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748) \"http-nio-9090-exec-8\" #38 daemon prio=5 os_prio=0 tid=0x00007f9650098000 nid=0xdb75 waiting on condition [0x00007f9636f2f000] **java.lang.Thread.State: WAITING (parking)** at sun.misc.Unsafe.park(Native Method) - parking to wait for <0x00000000fcb91b10> (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject) at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175) at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039) at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103) at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31) at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) at java.lang.Thread.run(Thread.java:748) \"VM Thread\" os_prio=0 tid=0x00007f966806f800 nid=0xdb4e runnable \"GC task thread#0 (ParallelGC)\" os_prio=0 tid=0x00007f966801d800 nid=0xdb4d runnable \"VM Periodic Task Thread\" os_prio=0 tid=0x00007f96680b2000 nid=0xdb55 waiting on condition JNI global references: 340 Heap PSYoungGen total 295424K, used 182333K [0x00000000eab00000, 0x0000000100000000, 0x0000000100000000) eden space 241664K, 72% used [0x00000000eab00000,0x00000000f5625aa0,0x00000000f9700000) from space 53760K, 13% used [0x00000000fcb80000,0x00000000fd269a80,0x0000000100000000) to space 53760K, 0% used [0x00000000f9700000,0x00000000f9700000,0x00000000fcb80000) ParOldGen total 349696K, used 20886K [0x00000000c0000000, 0x00000000d5580000, 0x00000000eab00000) object space 349696K, 5% used [0x00000000c0000000,0x00000000c1465b58,0x00000000d5580000) Metaspace used 45242K, capacity 46416K, committed 46592K, reserved 1089536K class space used 5309K, capacity 5554K, committed 5632K, reserved 1048576K",
    "code": " &lt;bean id=\"ProcessPayloadScheduler\" \nclass=\"com.sfi.scheduler.ProcessPayloadScheduler\"&gt;&lt;/bean&gt;\n    &lt;task:scheduler id=\"processPayloadSchedulerTask\" pool-size=\"10\" /&gt;\n    &lt;task:scheduled-tasks scheduler=\"processPayloadSchedulerTask\"&gt;\n        &lt;task:scheduled ref=\"ProcessPayloadScheduler\" method=\"processData\" cron=\"0 0/1 * 1/1 * ?\" /&gt;\n    &lt;/task:scheduled-tasks&gt;\n\n\n**Thread Dump is :** \n\n2017-05-24 07:40:04\nFull thread dump OpenJDK 64-Bit Server VM (25.131-b11 mixed mode):\n\n\"processPayloadSchedulerTask-10\" #49 prio=5 os_prio=0 tid=0x00007f966845c000 nid=0xdc9b waiting on condition [0x00007f9636343000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-9\" #48 prio=5 os_prio=0 tid=0x00007f964c052800 nid=0xdc97 waiting on condition [0x00007f9636444000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-8\" #47 prio=5 os_prio=0 tid=0x00007f9650094800 nid=0xdc93 waiting on condition [0x00007f9636545000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-7\" #46 prio=5 os_prio=0 tid=0x00007f9640009000 nid=0xdc60 waiting on condition [0x00007f9636646000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-6\" #45 prio=5 os_prio=0 tid=0x00007f9648002800 nid=0xdc5d runnable [0x00007f9636745000]\n   java.lang.Thread.State: RUNNABLE\n    at java.net.SocketInputStream.socketRead0(Native Method)\n    at java.net.SocketInputStream.socketRead(SocketInputStream.java:116)\n    at java.net.SocketInputStream.read(SocketInputStream.java:171)\n    at java.net.SocketInputStream.read(SocketInputStream.java:141)\n    at com.mysql.jdbc.util.ReadAheadInputStream.fill(ReadAheadInputStream.java:112)\n    at com.mysql.jdbc.util.ReadAheadInputStream.readFromUnderlyingStreamIfNecessary(ReadAheadInputStream.java:159)\n    at com.mysql.jdbc.util.ReadAheadInputStream.read(ReadAheadInputStream.java:187)\n    - locked &lt;0x00000000c0d89c58&gt; (a com.mysql.jdbc.util.ReadAheadInputStream)\n    at com.mysql.jdbc.MysqlIO.readFully(MysqlIO.java:3158)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3615)\n    at com.mysql.jdbc.MysqlIO.reuseAndReadPacket(MysqlIO.java:3604)\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:4155)\n    at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2615)\n    at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2776)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2832)\n    - locked &lt;0x00000000c0d7eb18&gt; (a com.mysql.jdbc.JDBC4Connection)\n    at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2781)\n    at com.mysql.jdbc.StatementImpl.executeQuery(StatementImpl.java:1569)\n    - locked &lt;0x00000000c0d7eb18&gt; (a com.mysql.jdbc.JDBC4Connection)\n    at org.apache.commons.dbcp.DelegatingStatement.executeQuery(DelegatingStatement.java:208)\n    at org.apache.commons.dbcp.PoolableConnectionFactory.validateConnection(PoolableConnectionFactory.java:658)\n    at org.apache.commons.dbcp.PoolableConnectionFactory.validateObject(PoolableConnectionFactory.java:635)\n    at org.apache.commons.pool.impl.GenericObjectPool.borrowObject(GenericObjectPool.java:1165)\n    at org.apache.commons.dbcp.PoolingDataSource.getConnection(PoolingDataSource.java:106)\n    at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:139)\n    at org.hibernate.internal.AbstractSessionImpl$NonContextualJdbcConnectionAccess.obtainConnection(AbstractSessionImpl.java:380)\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.obtainConnection(LogicalConnectionImpl.java:228)\n    at org.hibernate.engine.jdbc.internal.LogicalConnectionImpl.getConnection(LogicalConnectionImpl.java:171)\n    at org.hibernate.engine.transaction.internal.jdbc.JdbcTransaction.doBegin(JdbcTransaction.java:67)\n    at org.hibernate.engine.transaction.spi.AbstractTransactionImpl.begin(AbstractTransactionImpl.java:162)\n    at org.hibernate.internal.SessionImpl.beginTransaction(SessionImpl.java:1435)\n    at org.springframework.orm.hibernate4.HibernateTransactionManager.doBegin(HibernateTransactionManager.java:474)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.createTransactionIfNecessary(TransactionAspectSupport.java:420)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:257)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:95)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:644)\n    at com.sfi.scheduler.ProcessPayloadScheduler$$EnhancerBySpringCGLIB$$871a0ddd.processData(&lt;generated&gt;)\n    at sun.reflect.GeneratedMethodAccessor39.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-5\" #44 prio=5 os_prio=0 tid=0x00007f964c052000 nid=0xdbc6 waiting on condition [0x00007f9636848000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-4\" #43 prio=5 os_prio=0 tid=0x00007f9640005000 nid=0xdbc2 waiting on condition [0x00007f9636949000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-3\" #42 prio=5 os_prio=0 tid=0x00007f964c1df800 nid=0xdbba waiting on condition [0x00007f9636a4a000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"http-nio-9090-exec-10\" #41 daemon prio=5 os_prio=0 tid=0x00007f96500a8000 nid=0xdb78 waiting on condition [0x00007f9636b4b000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000fcb91b10&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"processPayloadSchedulerTask-2\" #40 prio=5 os_prio=0 tid=0x00007f964c1db800 nid=0xdb77 waiting on condition [0x00007f9636c4c000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000c10fabd8&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1088)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:809)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"http-nio-9090-exec-9\" #39 daemon prio=5 os_prio=0 tid=0x00007f9650038800 nid=0xdb76 waiting on condition [0x00007f9636e2e000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000fcb91b10&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"http-nio-9090-exec-8\" #38 daemon prio=5 os_prio=0 tid=0x00007f9650098000 nid=0xdb75 waiting on condition [0x00007f9636f2f000]\n   **java.lang.Thread.State: WAITING (parking)**\n    at sun.misc.Unsafe.park(Native Method)\n    - parking to wait for  &lt;0x00000000fcb91b10&gt; (a java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)\n    at java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(AbstractQueuedSynchronizer.java:2039)\n    at java.util.concurrent.LinkedBlockingQueue.take(LinkedBlockingQueue.java:442)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:103)\n    at org.apache.tomcat.util.threads.TaskQueue.take(TaskQueue.java:31)\n    at java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1067)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1127)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\n\n\"VM Thread\" os_prio=0 tid=0x00007f966806f800 nid=0xdb4e runnable \n\n\"GC task thread#0 (ParallelGC)\" os_prio=0 tid=0x00007f966801d800 nid=0xdb4d runnable \n\n\"VM Periodic Task Thread\" os_prio=0 tid=0x00007f96680b2000 nid=0xdb55 waiting on condition \n\nJNI global references: 340\n\nHeap\n PSYoungGen      total 295424K, used 182333K [0x00000000eab00000, 0x0000000100000000, 0x0000000100000000)\n  eden space 241664K, 72% used [0x00000000eab00000,0x00000000f5625aa0,0x00000000f9700000)\n  from space 53760K, 13% used [0x00000000fcb80000,0x00000000fd269a80,0x0000000100000000)\n  to   space 53760K, 0% used [0x00000000f9700000,0x00000000f9700000,0x00000000fcb80000)\n ParOldGen       total 349696K, used 20886K [0x00000000c0000000, 0x00000000d5580000, 0x00000000eab00000)\n  object space 349696K, 5% used [0x00000000c0000000,0x00000000c1465b58,0x00000000d5580000)\n Metaspace       used 45242K, capacity 46416K, committed 46592K, reserved 1089536K\n  class space    used 5309K, capacity 5554K, committed 5632K, reserved 1048576K\n",
    "severity": "low",
    "tags": [
      "java",
      "spring",
      "multithreading",
      "scheduler"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "44150987",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 817,
      "stackoverflow_creation_date": "2017-05-24T06:53:26.983Z"
    },
    "idempotency_key": "stackoverflow-44150987",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to use vue-infinite-loading in Nuxt.js (Vue.js)",
    "body": "I developing web app in Nuxt.js (Vue.js) first, vue init nuxt/express MyProject ~page/help.vue <template> <div> <p v-for=\"item in list\"> Line: <span v-text=\"item\"></span> </p> <infinite-loading :on-infinite=\"onInfinite\" spinner=\"bubbles\" ref=\"infiniteLoading\"></infinite-loading> </div> </template> <script> let InfiniteLoading = require('vue-infinite-loading') export default { ... components: { InfiniteLoading }, methods: { onInfinite: function () { setTimeout(() => { const temp = [] for (let i = this.list.length + 1; i <= this.list.length + 20; i++) { temp.push(i) } this.list = this.list.concat(temp) this.$refs.infiniteLoading.$emit('$InfiniteLoading:loaded') }, 1000) } } } </script> and, Moving from '/home' to '/help' window is not defined So, I tried the following let InfiniteLoading; if (process.BROWSER_BUILD) { InfiniteLoading = require('vue-infinite-loading') } result, Failed to mount component: template or render function not defined.(found in InfiniteLoading) I've tried the nuxt.js document method. However, I could not solve it. I want to find a more accurate answer. help me, Thanks.",
    "code": "&lt;template&gt;\n  &lt;div&gt;\n    &lt;p v-for=\"item in list\"&gt;\n      Line:\n      &lt;span v-text=\"item\"&gt;&lt;/span&gt;\n    &lt;/p&gt;\n    &lt;infinite-loading :on-infinite=\"onInfinite\" spinner=\"bubbles\" ref=\"infiniteLoading\"&gt;&lt;/infinite-loading&gt;\n   &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nlet InfiniteLoading = require('vue-infinite-loading')\nexport default {\n  ...\n  components: {\n    InfiniteLoading\n  },\n  methods: {\n    onInfinite: function () {\n      setTimeout(() =&gt; {\n      const temp = []\n\n      for (let i = this.list.length + 1; i &lt;= this.list.length + 20; i++) {\n          temp.push(i)\n        }\n      this.list = this.list.concat(temp)\n      this.$refs.infiniteLoading.$emit('$InfiniteLoading:loaded')\n      }, 1000)\n    }\n  }\n} \n&lt;/script&gt;\n\n\nlet InfiniteLoading;\nif (process.BROWSER_BUILD) {\n  InfiniteLoading = require('vue-infinite-loading')\n}\n\n\n# Solution Code:\nnpm install vue-infinite-scroll --save\n\n\nimport Vue from 'vue'\nimport InfiniteScroll from 'vue-infinite-scroll'\n\nVue.use(InfiniteScroll);\n\n\nplugins: [\n    {src: '~plugins/vue-infinite-scroll.js', ssr: false}\n],\n\n\n    computed: {\n        autoLoadDisabled() {\n            return this.loading || this.commentsData.length === 0;\n        },\n    },\n",
    "resolution": "Just did it myself and works like a charm. See it in action on comment section at https://guessthatshit.com Install: npm install vue-infinite-scroll --save Create file vue-infinite-scroll.js in plugins directory: import Vue from 'vue' import InfiniteScroll from 'vue-infinite-scroll' Vue.use(InfiniteScroll); Update nuxt.config.js to include following entry: plugins: [ {src: '~plugins/vue-infinite-scroll.js', ssr: false} ], HINT: Dont forget to set infinite-scroll-disabled=\"autoLoadDisabled\" properly otherwise you may spam your load function. I also recognized that (only on nuxt production, not in dev) HTML is written before variables are assigned through \"props: ['commentsData'],\". therefore autoscroll function is triggered before some variable exists. Fix this with: computed: { autoLoadDisabled() { return this.loading || this.commentsData.length === 0; }, },",
    "severity": "medium",
    "tags": [
      "javascript",
      "node.js",
      "vue.js",
      "nuxt.js",
      "server-side-rendering"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "44217587",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 8018,
      "stackoverflow_creation_date": "2017-05-27T13:44:06.423Z"
    },
    "idempotency_key": "stackoverflow-44217587",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why 'checkout master' takes longer than 'checkout feature-branch'?",
    "body": "I've just noticed, sometimes when switching between master and feature-branch, even when everything is already pulled/pushed + up-to-date... If I do git checkout featureBranch it is instant (and no progress info). But when I do git checkout master It takes longer, and you also get progress info: Checking out files: 100% (312/312), done. And this behaviour is repeatable even when I just switch back and forth several times. Just curious -- What's the underlying implementation-detail(?) that causes this?",
    "code": "git checkout featureBranch\n\n\ngit checkout master\n\n\nChecking out files: 100% (312/312), done.\n\n\n# Solution Code:\nA --- B --- C &lt;--(master)\n             \\\n              D &lt;--(feature)\n\n\ngit checkout master\ngit branch featureOldMasterBranch\ngit checkout featureBranch\ngit branch -f master\n\n\nmaster\n\nD\n\nfeature\n\nC\n\nmaster\n\ndevelop\n\ndevelop\n\nmaster\n\nmaster\n\nmaster\n\nmaster\n\nfeatureOldMasterBranch\n\nmaster",
    "resolution": "Update - torek points out (in comments) that git runs out a timer before it starts showing status - so quick checkouts don't show status at all, but if it starts taking long enough you might notice, you can see progress. Updated a few words to reflect that. At some level I'd say this must be something to do with the particular repo, as I'm not aware of any ways (other than \"being the default name of the first branch\") that git considers master special as branches go. But I can make an educated guess. When there are packed objects, git optimizes for the latest version of any given file. For example, say you have A --- B --- C <--(master) \\ D <--(feature) Every file in D will be \"the latest version\" of that particular file; so either it's a loose object, or its a \"non-diff\" object in a pack file. So checking out feature doesn't have to patch any files; it just reads the blobs. It can happen fast enough that git doesn't feel the need to start showing status. In theory C could have \"older versions\" of some files, that could be represented as \"diff from newer-version-of-file\" in a pack. In practice, with just one newer commit in your active branch, I doubt it would come to that. But in a real repo, where master might be behind develop and develop might be behind any number of feature branches, it's not unlikely that the master head commit has some packed-and-diffed objects to resolve. I suspect the application of patches is what takes enough time for visible status reports to be given. It's not the only possible explanation. Maybe you have a bigger work tree under master, or maybe usage of LFS would be a factor (though I think you'd see different output in that case). Like I said, generally I'd suspect repo-specific factors to be at play. It's just that what I described above is a \"repo-specific factor\" that probably applies to most non-trivial repos. Update 2 - My underlying claim here - that master is not special - is pretty easy to test. Clone the repo, and in the clone git checkout master git branch featureOldMasterBranch git checkout featureBranch git branch -f master And now, within the clone checkout of master should be instant while checkout of featureOldMasterBranch should take enough time to show visible progress updates. Remembering that a branch is just a ref is just a pointer, this demonstrates that it's something different about the commits - i.e. something repo-specific - and not any special handling of master.",
    "severity": "low",
    "tags": [
      "git",
      "git-branch",
      "git-checkout"
    ],
    "metadata": {
      "stackoverflow_question_id": "44309482",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 250,
      "stackoverflow_creation_date": "2017-06-01T13:54:06.930Z"
    },
    "idempotency_key": "stackoverflow-44309482",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Scatter plotting pandas DataFrame with categorically labeled rows/columns",
    "body": "I would like to produce a scatter plot of pandas DataFrame with categorical row and column labels using matplotlib. A sample DataFrame looks like this: import pandas as pd df = pd.DataFrame({\"a\": [1,2], \"b\": [3,4]}, index=[\"c\",\"d\"]) # a b #c 1 2 #d 3 4 The marker size is the function of the respective DataFrame values. So far, I came up with an awkward solution that essentially enumerates the rows and columns, plots the data, and then reconstructs the labels: flat = df.reset_index(drop=True).T.reset_index(drop=True).T.stack().reset_index() # level_0 level_1 0 #0 0 0 1 #1 0 1 2 #2 1 0 3 #3 1 1 4 flat.plot(kind='scatter', x='level_0', y='level_1', s=100*flat[0]) plt.xticks(range(df.shape[1]), df.columns) plt.yticks(range(df.shape[0]), df.index) plt.show() Which kind of works. Now, question: Is there a more intuitive, more integrated way to produce this scatter plot, ideally without splitting the data and the metadata?",
    "code": "import pandas as pd\ndf = pd.DataFrame({&quot;a&quot;: [1,2], &quot;b&quot;: [3,4]}, index=[&quot;c&quot;,&quot;d&quot;])\n#   a  b\n#c  1  2\n#d  3  4\n\n\nflat = df.reset_index(drop=True).T.reset_index(drop=True).T.stack().reset_index()\n#   level_0  level_1  0\n#0        0        0  1\n#1        0        1  2\n#2        1        0  3\n#3        1        1  4\n\nflat.plot(kind='scatter', x='level_0', y='level_1', s=100*flat[0])\nplt.xticks(range(df.shape[1]), df.columns)\nplt.yticks(range(df.shape[0]), df.index)\nplt.show()\n\n\nmatplotlib\n\n# Solution Code:\ndfu = df.unstack()\n\nprint(dfu.index)\nMultiIndex(levels=[[u'a', u'b'], [u'c', u'd']],\n           labels=[[0, 0, 1, 1], [0, 1, 0, 1]])\n\n\nxlabels, ylabels = dfu.index.levels\nxs, ys = dfu.index.labels\n\n\nplt.scatter(xs, ys, s=dfu*100)\nplt.xticks(range(len(xlabels)), xlabels)\nplt.yticks(range(len(ylabels)), ylabels)\nplt.show()\n\n\nflat=\n\nlabels\n\nlevels\n\nlabels\n\nDataFrame",
    "resolution": "Maybe not the entire answer you're looking for, but an idea to help save time and readability with the flat= line of code. Pandas unstack method will produce a Series with a MultiIndex. dfu = df.unstack() print(dfu.index) MultiIndex(levels=[[u'a', u'b'], [u'c', u'd']], labels=[[0, 0, 1, 1], [0, 1, 0, 1]]) The MultiIndex contains contains the necessary x and y points to construct the plot (in labels). Here, I assign levels and labels to more informative variable names better suited for plotting. xlabels, ylabels = dfu.index.levels xs, ys = dfu.index.labels Plotting is pretty straight-forward from here. plt.scatter(xs, ys, s=dfu*100) plt.xticks(range(len(xlabels)), xlabels) plt.yticks(range(len(ylabels)), ylabels) plt.show() I tried this on a few different DataFrame shapes and it seemed to hold up.",
    "severity": "medium",
    "tags": [
      "python",
      "pandas",
      "matplotlib",
      "dataframe",
      "scatter-plot"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "44320230",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 2107,
      "stackoverflow_creation_date": "2017-06-02T03:17:13.037Z"
    },
    "idempotency_key": "stackoverflow-44320230",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Swift pattern matching with protocol",
    "body": "Don't know if it's a bug in compiler or there's something that I'n not aware of. When matching against concrete types I can combine two cases like: enum SomeEnum { case a, b, c } let param: (SomeEnum, Any) = something switch (param) { case (.a, let param as Int), (.b, let param as Int): print(\"a or b with solid type (Int) \\(param)\") default: print(\"none of above\") } However, if I would like to match against protocol like: switch (param) { case (.a, let param as Equatable), (.b, let param as Equatable): print(\"a or b with protocol \\(param)\") default: print(\"none of above\") } I get Segmentation fault: 11 during compilation. Solution for this is to duplicate code like: switch (param) { case (.a, let param as Equatable): print(\"a or b with protocol \\(param)\") case (.b, let param as Equatable): print(\"a or b with protocol \\(param)\") default: print(\"none of above\") } Can someone tell me why it behaves like this?",
    "code": "    enum SomeEnum {\n        case a, b, c\n    }\n\n    let param: (SomeEnum, Any) = something\n    switch (param) {\n        case (.a, let param as Int),\n             (.b, let param as Int):\n            print(\"a or b with solid type (Int) \\(param)\")\n        default: print(\"none of above\")\n    }\n\n\n    switch (param) {\n        case (.a, let param as Equatable),\n             (.b, let param as Equatable):\n            print(\"a or b with protocol \\(param)\")\n        default: print(\"none of above\")\n    }\n\n\n    switch (param) {\n        case (.a, let param as Equatable):\n            print(\"a or b with protocol \\(param)\")\n         case (.b, let param as Equatable):\n            print(\"a or b with protocol \\(param)\")\n        default: print(\"none of above\")\n    }\n\n\nSegmentation fault: 11",
    "severity": "low",
    "tags": [
      "swift",
      "pattern-matching",
      "protocols"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "44328735",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 559,
      "stackoverflow_creation_date": "2017-06-02T12:15:46.947Z"
    },
    "idempotency_key": "stackoverflow-44328735",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "List Sorting with HTML5 Drag'n'Drop - Drop Above or Below Depending on Mouse",
    "body": "Background I am working on a sortable list, to avoid having to manually type in sorting order numbers in a database. It works via HTML5's drag'n'drop functionality, i.e. the new drag* events in Javascript. I currently have it working for the most part. I can click, and drag, and it'll sort itself. Problem From what I can tell, the drop, along with the dragstart and dragend events, only are aware of the element they are going into. They can't tell if the mouse is on the top half of the dropzone, or the bottom half. What I'd like, is when I'm hovering over the top half of a list item, for the dragged content to be placed ABOVE the item. Then if I'm hovering over the bottom half, for the dragged content to be placed BELOW the item. Currently: In the screencap below, I show a working (simplified) example of my code. I'm using a border-bottom on the drop target to show that it's the target. Notice how when \"Item 1\" is above \"Item 2\", \"Item 2\" is lit up on the bottom, regardless of if I'm hovering over the top half or bottom half. Code var dragging = null; document.addEventListener('dragstart', function(event) { dragging = event.target; event.dataTransfer.setData('text/html', dragging); }); document.addEventListener('dragover', function(event) { event.preventDefault(); }); document.addEventListener('dragenter', function(event) { event.target.style['border-bottom'] = 'solid 4px blue'; }); document.addEventListener('dragleave', function(event) { event.target.style['border-bottom'] = ''; }); document.addEventListener('drop', function(event) { event.preventDefault(); event.target.style['border-bottom'] = ''; event.target.parentNode.insertBefore(dragging, event.target.nextSibling); }); ul { margin:0; padding:0 } li { cursor:move; display:block; padding:20px 10px; background:white; border-bottom:solid 1px gray; } <ul> <li draggable=\"true\" class=\"sortable-bulk\">List Item 1</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 2</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 3</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 4</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 5</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 6</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 7</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 8</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 9</li> <li draggable=\"true\" class=\"sortable-bulk\">List Item 10</li> </ul> Question Is there a way I can have it drop either above or below, not always below, depending on the mouse position while dragging?",
    "code": "drag*\n\ndrop\n\ndragstart\n\ndragend\n\nborder-bottom\n\n# Solution Code:\ndocument.addEventListener('dragenter', function(event) {\n    event.target.style['border-bottom'] = 'solid 4px blue';\n});\n\n\ndocument.addEventListener('dragover', function(event) {\n    event.preventDefault();\n    var bounding = event.target.getBoundingClientRect()\n    var offset = bounding.y + (bounding.height/2);\n    if ( event.clientY - offset &gt; 0 ) {\n        event.target.style['border-bottom'] = 'solid 4px blue';\n        event.target.style['border-top'] = '';\n    } else {\n        event.target.style['border-top'] = 'solid 4px blue';\n        event.target.style['border-bottom'] = '';\n    }\n});\n\n\ndragover\n\ndragenter\n\ndragover\n\ndragenter\n\ndrop",
    "resolution": "Answer So in a twist of fate, a comment response on another question pointed me to the answer here. wolf-war deserves credit here for pointing me to the right event and method. Anyway, on to the answer. The solution lies in using the dragover event, rather than using the dragenter event. dragover keeps firing as long as you are hovering. Code Changes From Question Code We get rid of the dragenter code: document.addEventListener('dragenter', function(event) { event.target.style['border-bottom'] = 'solid 4px blue'; }); Replace it with: document.addEventListener('dragover', function(event) { event.preventDefault(); var bounding = event.target.getBoundingClientRect() var offset = bounding.y + (bounding.height/2); if ( event.clientY - offset > 0 ) { event.target.style['border-bottom'] = 'solid 4px blue'; event.target.style['border-top'] = ''; } else { event.target.style['border-top'] = 'solid 4px blue'; event.target.style['border-bottom'] = ''; } }); Then in the drop section, we check to see which border the drop target has, and use that to insert the dragged content either above or below. Full Working Code: var dragging = null; document.addEventListener('dragstart', function(event) { var target = getLI( event.target ); dragging = target; event.dataTransfer.setData('text/plain', null); event.dataTransfer.setDragImage(self.dragging,0,0); }); document.addEventListener('dragover', function(event) { event.preventDefault(); var target = getLI( event.target ); var bounding = target.getBoundingClientRect() var offset = bounding.y + (bounding.height/2); if ( event.clientY - offset > 0 ) { target.style['border-bottom'] = 'solid 4px blue'; target.style['border-top'] = ''; } else { target.style['border-top'] = 'solid 4px blue'; target.style['border-bottom'] = ''; } }); document.addEventListener('dragleave', function(event) { var target = getLI( event.target ); target.style['border-bottom'] = ''; target.style['border-top'] = ''; }); document.addEventListener('drop', function(event) { event.preventDefault(); var target = getLI( event.target ); if ( target.style['border-bottom'] !== '' ) { target.style['border-bottom'] = ''; target.parentNode.insertBefore(dragging, event.target.nextSibling); } else { target.style['border-top'] = ''; target.parentNode.insertBefore(dragging, event.target); } }); function getLI( target ) { while ( target.nodeName.toLowerCase() != 'li' && target.nodeName.toLowerCase() != 'body' ) { target = target.parentNode; } if ( target.nodeName.toLowerCase() == 'body' ) { return false; } else { return target; } } ul { margin:0; padding:0 } li { cursor:move; display:block; padding:20px 10px; background:white; border-bottom:solid 1px gray; } <ul> <li draggable=\"true\">List Item 1</li> <li draggable=\"true\">List Item 2</li> <li draggable=\"true\">List Item 3</li> <li draggable=\"true\">List Item 4</li> <li draggable=\"true\">List Item 5</li> <li draggable=\"true\">List Item 6</li> <li draggable=\"true\">List Item 7</li> <li draggable=\"true\">List Item 8</li> <li draggable=\"true\">List Item 9</li> <li draggable=\"true\">List Item 10</li> </ul>",
    "severity": "high",
    "tags": [
      "javascript",
      "html",
      "drag-and-drop"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "44415228",
      "stackoverflow_score": 21,
      "stackoverflow_view_count": 13885,
      "stackoverflow_creation_date": "2017-06-07T14:16:45.157Z"
    },
    "idempotency_key": "stackoverflow-44415228",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Explode array data into rows in spark",
    "body": "I have a dataset in the following way: FieldA FieldB ArrayField 1 A {1,2,3} 2 B {3,5} I would like to explode the data on ArrayField so the output will look in the following way: FieldA FieldB ExplodedField 1 A 1 1 A 2 1 A 3 2 B 3 2 B 5 I mean I want to generate an output line for each item in the array the in ArrayField while keeping the values of the other fields. How would you implement it in Spark. Notice that the input dataset is very large.",
    "code": "FieldA    FieldB    ArrayField\n1         A         {1,2,3}\n2         B         {3,5}\n\n\nFieldA    FieldB    ExplodedField\n1         A         1\n1         A         2\n1         A         3\n2         B         3\n2         B         5\n\n\n# Solution Code:\n&gt;&gt;&gt; df = spark.createDataFrame([(1, \"A\", [1,2,3]), (2, \"B\", [3,5])],[\"col1\", \"col2\", \"col3\"])\n&gt;&gt;&gt; from pyspark.sql.functions import explode\n&gt;&gt;&gt; df.withColumn(\"col3\", explode(df.col3)).show()\n+----+----+----+\n|col1|col2|col3|\n+----+----+----+\n|   1|   A|   1|\n|   1|   A|   2|\n|   1|   A|   3|\n|   2|   B|   3|\n|   2|   B|   5|\n+----+----+----+\n\n\nscala&gt; val df = Seq((1, \"A\", Seq(1,2,3)), (2, \"B\", Seq(3,5))).toDF(\"col1\", \"col2\", \"col3\")\ndf: org.apache.spark.sql.DataFrame = [col1: int, col2: string ... 1 more field]\n\nscala&gt; df.withColumn(\"col3\", explode($\"col3\")).show()\n+----+----+----+\n|col1|col2|col3|\n+----+----+----+\n|   1|   A|   1|\n|   1|   A|   2|\n|   1|   A|   3|\n|   2|   B|   3|\n|   2|   B|   5|\n+----+----+----+\n",
    "resolution": "The explode function should get that done. pyspark version: >>> df = spark.createDataFrame([(1, \"A\", [1,2,3]), (2, \"B\", [3,5])],[\"col1\", \"col2\", \"col3\"]) >>> from pyspark.sql.functions import explode >>> df.withColumn(\"col3\", explode(df.col3)).show() +----+----+----+ |col1|col2|col3| +----+----+----+ | 1| A| 1| | 1| A| 2| | 1| A| 3| | 2| B| 3| | 2| B| 5| +----+----+----+ Scala version scala> val df = Seq((1, \"A\", Seq(1,2,3)), (2, \"B\", Seq(3,5))).toDF(\"col1\", \"col2\", \"col3\") df: org.apache.spark.sql.DataFrame = [col1: int, col2: string ... 1 more field] scala> df.withColumn(\"col3\", explode($\"col3\")).show() +----+----+----+ |col1|col2|col3| +----+----+----+ | 1| A| 1| | 1| A| 2| | 1| A| 3| | 2| B| 3| | 2| B| 5| +----+----+----+",
    "severity": "high",
    "tags": [
      "apache-spark",
      "pyspark"
    ],
    "metadata": {
      "stackoverflow_question_id": "44436856",
      "stackoverflow_score": 47,
      "stackoverflow_view_count": 129344,
      "stackoverflow_creation_date": "2017-06-08T13:17:32.333Z"
    },
    "idempotency_key": "stackoverflow-44436856",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Gson with Kotlin nested class",
    "body": "I fail to properly deserialize a nested Kotlin class as the correct type with Gson. When I try to deserialize the same Java class, it works fine. Java Class: package example; import java.util.List; import java.util.Map; class TestJsonJava { Map<String, List<Entry>> outer; static class Entry { String inner; } } Kotlin class: package example class TestJsonKotlin { var outer: Map<String, List<Entry>>? = null class Entry { var inner: String? = null } } Kotlin main: package example import com.google.gson.GsonBuilder class Main { companion object { @JvmStatic fun main(args: Array<String>) { val json = \"\"\" { \"outer\": { \"keyA\": [ { \"inner\": \"hello\" } ] } } \"\"\" val javaObject = GsonBuilder().create().fromJson(json, TestJsonJava::class.java) val javaWorks = javaObject.outer!![\"keyA\"]!![0] is TestJsonJava.Entry println(\"Java works : $javaWorks\") println(javaObject.outer!![\"keyA\"]!![0].inner) val kotlinObject = GsonBuilder().create().fromJson(json, TestJsonKotlin::class.java) val kotlinWorks = kotlinObject.outer!![\"keyA\"]!![0] is TestJsonKotlin.Entry println(\"Kotlin works: $kotlinWorks\") println(kotlinObject.outer!![\"keyA\"]!![0].inner) } } } This prints: Java works : true hello Kotlin works: false Exception in thread \"main\" java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to example.TestJsonKotlin$Entry at example.Main$Companion.main(TestJsonmain.kt:28) at example.Main.main(TestJsonmain.kt) How do I tell gson to deserialize the value of keyA to a List<Entry> instead of LinkedTreeMap?",
    "code": "package example;\n\nimport java.util.List;\nimport java.util.Map;\n\nclass TestJsonJava {\n    Map&lt;String, List&lt;Entry&gt;&gt; outer;\n\n    static class Entry {\n        String inner;\n    }\n}\n\n\npackage example\n\nclass TestJsonKotlin {\n    var outer: Map&lt;String, List&lt;Entry&gt;&gt;? = null\n\n    class Entry {\n        var inner: String? = null\n    }\n}\n\n\npackage example\n\nimport com.google.gson.GsonBuilder\n\nclass Main {\n    companion object {\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n            val json = \"\"\"\n{\n    \"outer\": {\n        \"keyA\": [\n            {\n                \"inner\": \"hello\"\n            }\n        ]\n    }\n}\n\"\"\"\n            val javaObject = GsonBuilder().create().fromJson(json, TestJsonJava::class.java)\n            val javaWorks = javaObject.outer!![\"keyA\"]!![0] is TestJsonJava.Entry\n            println(\"Java works  : $javaWorks\")\n            println(javaObject.outer!![\"keyA\"]!![0].inner)\n\n            val kotlinObject = GsonBuilder().create().fromJson(json, TestJsonKotlin::class.java)\n            val kotlinWorks = kotlinObject.outer!![\"keyA\"]!![0] is TestJsonKotlin.Entry\n            println(\"Kotlin works: $kotlinWorks\")\n            println(kotlinObject.outer!![\"keyA\"]!![0].inner)\n        }\n    }\n}\n\n\nJava works  : true\nhello\nKotlin works: false\nException in thread \"main\" java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to example.TestJsonKotlin$Entry\n    at example.Main$Companion.main(TestJsonmain.kt:28)\n    at example.Main.main(TestJsonmain.kt)\n\n\nkeyA\n\nList&lt;Entry&gt;\n\nLinkedTreeMap\n\n# Solution Code:\nvar outer: Map&lt;String, @JvmSuppressWildcards List&lt;Entry&gt;&gt;? = null\n\n\nMap&lt;String, ? extends List&lt;TestJsonKotlin.Entry&gt;&gt; outer;\n\n\nMap&lt;String, List&lt;TestJsonKotlin.Entry&gt;&gt; outer;\n\n\n// `TestJsonKotlin` with `val outer` is compiled to\npublic final class TestJsonKotlin {\n  private final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; outer;\n  public final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; getOuter();\n  // ...\n}\n\n// `TestJsonKotlin` with `var outer` is compiled to\npublic final class TestJsonKotlin {\n  private java.util.Map&lt;java.lang.String, ? extends java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; outer;\n  public final java.util.Map&lt;java.lang.String, java.util.List&lt;TestJsonKotlin$Entry&gt;&gt; getOuter();\n  // ...\n}\n\n\nList\n\n@JvmSuppressWildcards\n\n@JvmSuppressWildcards\n\n? extends\n\njavap\n\nvar\n\n? extends\n\njava.util.List&lt;TestJsonKotlin$Entry&gt;",
    "resolution": "Annotating the List with @JvmSuppressWildcards seems to help: var outer: Map<String, @JvmSuppressWildcards List<Entry>>? = null If we don't use @JvmSuppressWildcards, then the Kotlin code is translated to: Map<String, ? extends List<TestJsonKotlin.Entry>> outer; If we do use it, then the code is translated to: Map<String, List<TestJsonKotlin.Entry>> outer; The difference is in the wildcard ? extends – this is not supported even if you write this in Java. I have filed an issue in Gson's repository here. The javap highlights the difference between the two cases: // `TestJsonKotlin` with `val outer` is compiled to public final class TestJsonKotlin { private final java.util.Map<java.lang.String, java.util.List<TestJsonKotlin$Entry>> outer; public final java.util.Map<java.lang.String, java.util.List<TestJsonKotlin$Entry>> getOuter(); // ... } // `TestJsonKotlin` with `var outer` is compiled to public final class TestJsonKotlin { private java.util.Map<java.lang.String, ? extends java.util.List<TestJsonKotlin$Entry>> outer; public final java.util.Map<java.lang.String, java.util.List<TestJsonKotlin$Entry>> getOuter(); // ... } The var case adds ? extends in front of the java.util.List<TestJsonKotlin$Entry>.",
    "severity": "medium",
    "tags": [
      "gson",
      "deserialization",
      "kotlin"
    ],
    "metadata": {
      "language": "kotlin",
      "stackoverflow_question_id": "44472365",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2167,
      "stackoverflow_creation_date": "2017-06-10T10:41:20.747Z"
    },
    "idempotency_key": "stackoverflow-44472365",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "/usr/bin/ld: crtbegin.o: No such file: No such file or directory",
    "body": "I want to install llvm-clang but have no root access at work. many of our packages are outdated so I am installing everything locally under my home directory. I installed cmake and gcc but now having errors when installing llvm. I have my home directory structured this way: ~/gcc_build -> has the /bin directory which includes gcc, g++...etc (result of make install). ~/gcc-7.1.0 -> which has the main gcc build directory (where make was run) ~/llvm-4.0.0.src -> the main llvm directory ~/llvm_make -> where I am trying to make llvm in (empty) This is my command: [server-01:llvm_make]% ../cmake-3.8.2/bin/cmake ../llvm-4.0.0.src -DCMAKE_CXX_COMPILER=/home/sbay/gcc_build/bin/g++ -DCMAKE_C_COMPILER=/home/sbay/gcc_build/bin/gcc But I am getting this error: [server-01:llvm_make]% ../cmake-3.8.2/bin/cmake ../llvm-4.0.0.src -DCMAKE_CXX_COMPILER=/home/sbay/gcc_build/bin/g++ -DCMAKE_C_COMPILER=/home/sbay/gcc_build/bin/gcc -- The C compiler identification is GNU 7.1.0 -- The CXX compiler identification is GNU 7.1.0 -- The ASM compiler identification is GNU -- Found assembler: /home/sbay/bin/gcc -- Check for working C compiler: /home/sbay/gcc_build/bin/gcc -- Check for working C compiler: /whome/sbay/gcc_build/bin/gcc -- broken CMake Error at /home/sbay/cmake-3.8.2/Modules/CMakeTestCCompiler.cmake:51 (message): The C compiler \"/home/sbay/gcc_build/bin/gcc\" is not able to compile a simple test program. It fails with the following output: Change Dir: /home/sbay/llvm_make/CMakeFiles/CMakeTmp Run Build Command:\"/usr/bin/gmake\" \"cmTC_13e2f/fast\" /usr/bin/gmake -f CMakeFiles/cmTC_13e2f.dir/build.make CMakeFiles/cmTC_13e2f.dir/build gmake[1]: Entering directory `/home/sbay/llvm_make/CMakeFiles/CMakeTmp' Building C object CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o /home/sbay/gcc_build/bin/gcc -o CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o -c /home/sbay/llvm_make/CMakeFiles/CMakeTmp/testCCompiler.c Linking C executable cmTC_13e2f /home/sbay/cmake-3.8.2/bin/cmake -E cmake_link_script CMakeFiles/cmTC_13e2f.dir/link.txt --verbose=1 /home/sbay/gcc_build/bin/gcc CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o -o cmTC_13e2f /usr/bin/ld: crtbegin.o: No such file: No such file or directory collect2: error: ld returned 1 exit status gmake[1]: *** [cmTC_13e2f] Error 1 gmake[1]: Leaving directory `/home/sbay/llvm_make/CMakeFiles/CMakeTmp' gmake: *** [cmTC_13e2f/fast] Error 2 CMake will not be able to correctly generate this project. Call Stack (most recent call first): CMakeLists.txt:47 (project) -- Configuring incomplete, errors occurred! See also \"/home/sbay/llvm_make/CMakeFiles/CMakeOutput.log\". See also \"/home/sbay/llvm_make/CMakeFiles/CMakeError.log\". I would highly appreciate any input.",
    "code": "~/gcc_build -&gt; has the /bin directory which includes gcc, g++...etc (result of make install).\n\n~/gcc-7.1.0 -&gt; which has the main gcc build directory (where make was run)\n\n~/llvm-4.0.0.src -&gt; the main llvm directory \n\n~/llvm_make -&gt; where I am trying to make llvm in (empty)\n\n\n    [server-01:llvm_make]% ../cmake-3.8.2/bin/cmake ../llvm-4.0.0.src -DCMAKE_CXX_COMPILER=/home/sbay/gcc_build/bin/g++ -DCMAKE_C_COMPILER=/home/sbay/gcc_build/bin/gcc\n\n\n[server-01:llvm_make]% ../cmake-3.8.2/bin/cmake ../llvm-4.0.0.src -DCMAKE_CXX_COMPILER=/home/sbay/gcc_build/bin/g++ -DCMAKE_C_COMPILER=/home/sbay/gcc_build/bin/gcc\n-- The C compiler identification is GNU 7.1.0\n-- The CXX compiler identification is GNU 7.1.0\n-- The ASM compiler identification is GNU\n-- Found assembler: /home/sbay/bin/gcc\n-- Check for working C compiler: /home/sbay/gcc_build/bin/gcc\n-- Check for working C compiler: /whome/sbay/gcc_build/bin/gcc -- broken\nCMake Error at /home/sbay/cmake-3.8.2/Modules/CMakeTestCCompiler.cmake:51 (message):\n  The C compiler \"/home/sbay/gcc_build/bin/gcc\" is not able to\n  compile a simple test program.\n\n  It fails with the following output:\n\n   Change Dir: /home/sbay/llvm_make/CMakeFiles/CMakeTmp\n\n\n\n  Run Build Command:\"/usr/bin/gmake\" \"cmTC_13e2f/fast\"\n\n  /usr/bin/gmake -f CMakeFiles/cmTC_13e2f.dir/build.make\n  CMakeFiles/cmTC_13e2f.dir/build\n\n  gmake[1]: Entering directory\n  `/home/sbay/llvm_make/CMakeFiles/CMakeTmp'\n\n  Building C object CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o\n\n  /home/sbay/gcc_build/bin/gcc -o\n  CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o -c\n  /home/sbay/llvm_make/CMakeFiles/CMakeTmp/testCCompiler.c\n\n  Linking C executable cmTC_13e2f\n\n  /home/sbay/cmake-3.8.2/bin/cmake -E cmake_link_script\n  CMakeFiles/cmTC_13e2f.dir/link.txt --verbose=1\n\n  /home/sbay/gcc_build/bin/gcc\n  CMakeFiles/cmTC_13e2f.dir/testCCompiler.c.o -o cmTC_13e2f\n\n  /usr/bin/ld: crtbegin.o: No such file: No such file or directory\n\n  collect2: error: ld returned 1 exit status\n\n  gmake[1]: *** [cmTC_13e2f] Error 1\n\n  gmake[1]: Leaving directory\n  `/home/sbay/llvm_make/CMakeFiles/CMakeTmp'\n\n  gmake: *** [cmTC_13e2f/fast] Error 2\n\n\n\n\n\n  CMake will not be able to correctly generate this project.\nCall Stack (most recent call first):\n  CMakeLists.txt:47 (project)\n\n\n-- Configuring incomplete, errors occurred!\nSee also \"/home/sbay/llvm_make/CMakeFiles/CMakeOutput.log\".\nSee also \"/home/sbay/llvm_make/CMakeFiles/CMakeError.log\".\n",
    "severity": "high",
    "tags": [
      "c++",
      "gcc",
      "g++",
      "clang",
      "llvm"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "44528465",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 16000,
      "stackoverflow_creation_date": "2017-06-13T17:58:26.647Z"
    },
    "idempotency_key": "stackoverflow-44528465",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is merge without conflicts equivalent to rebase without conflicts?",
    "body": "Is it correct that a git merge will succeed with no conflicts if and only if the corresponding git rebase will succeed with no conflicts?",
    "code": "git merge\n\ngit rebase\n\n# Solution Code:\n...--o--A   &lt;-- mainline\n      \\\n       B--C--!C   &lt;-- branch\n\n\nC\n\nA\n\n!C\n\nbranch\n\nmainline\n\nB\n\nC\n\nA\n\n!C\n\nA\n\nC\n\n!C\n\nA",
    "resolution": "No, and in fact there's a trivial case where merge works fine but rebase doesn't: ...--o--A <-- mainline \\ B--C--!C <-- branch where C is a commit that conflicts with A, and !C is its reversion. Merging branch back into mainline is equivalent in source-tree effect to merging commit B back into mainline, while rebasing copies both C (which conflicts with A) and then !C (which when being resolved, also conflicts with A). Of course, you can rebase interactively and simply drop both C and !C in this case, but in more complex chains, you can see how a commit might conflict with A but a subsequent commit might effectively resolve that conflict \"in advance\", so that merging the tip of the branch back into the mainline has no conflicts.",
    "severity": "low",
    "tags": [
      "git",
      "merge",
      "rebase"
    ],
    "metadata": {
      "stackoverflow_question_id": "44530822",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 387,
      "stackoverflow_creation_date": "2017-06-13T20:21:20.970Z"
    },
    "idempotency_key": "stackoverflow-44530822",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "grid.arrange align all tables to the top in Rmarkdown",
    "body": "How do I align all tables in grid.arrange to top? The tables seem to mid-align by default. df1 = data.frame(x=c(1, 2, 3), y=c('a', 'b', 'c')) df2 = data.frame(x=rep(1, 10), y=rep('a', 10)) grid.arrange(tableGrob(df1), tableGrob(df2), nrow=1, ncol=2)",
    "code": "df1 = data.frame(x=c(1, 2, 3), y=c('a', 'b', 'c'))\ndf2 = data.frame(x=rep(1, 10), y=rep('a', 10))\ngrid.arrange(tableGrob(df1), tableGrob(df2),\n             nrow=1, ncol=2)\n\n\ngrid.arrange\n\n# Solution Code:\ng1 &lt;- tableGrob(df1)    \ng2 &lt;- tableGrob(df2)\n\ngrid.draw(combine(g1, g2, along=1))\n",
    "resolution": "g1 <- tableGrob(df1) g2 <- tableGrob(df2) grid.draw(combine(g1, g2, along=1))",
    "severity": "low",
    "tags": [
      "r",
      "knitr",
      "r-markdown"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "44561942",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 954,
      "stackoverflow_creation_date": "2017-06-15T08:02:28.230Z"
    },
    "idempotency_key": "stackoverflow-44561942",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Does FireBase RealTime DataBase account for downloading data view this data in the Developer Console?",
    "body": "I just can not figure out where the megabytes of downloaded data from FireBase RealTime DataBase come from, whereas I'm requesting a specific value in a particular line with a size of 10-20 characters. Values come. Requests for such values were not more than one hundred. Value Request string Firebase ref = new Firebase(\"https://XXXXXXXX.firebaseio.com/\"); ref.child(\"city\").child(\"street\").addValueEventListener(new ValueEventListener() { ... String street = snapshot.getValue().toString(); Perhaps FireBase RealTime DataBase takes into account for downloading data viewing this data in the Developer Console?",
    "code": "Firebase ref = new Firebase(\"https://XXXXXXXX.firebaseio.com/\");\nref.child(\"city\").child(\"street\").addValueEventListener(new ValueEventListener() {  \n\n...\n\nString street = snapshot.getValue().toString();\n",
    "severity": "low",
    "tags": [
      "firebase",
      "firebase-realtime-database"
    ],
    "metadata": {
      "stackoverflow_question_id": "44582360",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 891,
      "stackoverflow_creation_date": "2017-06-16T06:34:31.903Z"
    },
    "idempotency_key": "stackoverflow-44582360",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Go no install location for directory outside GOPATH error when run \"go get\"",
    "body": "Simple Go project, with a external dependence: import ( \"fmt\" \"html\" \"log\" \"net/http\" \"github.com/gorilla/mux\" ) My path working fine for other tasks like run, build, etc.: GOPATH=\"/home/racar/go\" But when I try to get a external package with \"go get\" command, I got this error: \"go install: no install location for directory... outside GOPATH\" Edit: I have set my PATH in ~/.bashrc: export PATH=$PATH:$GOROOT/bin:$GOPATH/bin",
    "code": "import (  \n        \"fmt\"  \n        \"html\"  \n        \"log\"  \n        \"net/http\"  \n        \"github.com/gorilla/mux\"  \n)\n\n\nGOPATH=\"/home/racar/go\"\n\nexport PATH=$PATH:$GOROOT/bin:$GOPATH/bin\n\n# Solution Code:\nexport GOBIN=$GOPATH/bin",
    "resolution": "According with this link: github.com/golang/go/wiki/SettingGOPATH Is needed to set GOBIN path in bash file: export GOBIN=$GOPATH/bin",
    "severity": "medium",
    "tags": [
      "go",
      "gopath"
    ],
    "metadata": {
      "language": "go",
      "stackoverflow_question_id": "44726753",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7915,
      "stackoverflow_creation_date": "2017-06-23T17:11:59.993Z"
    },
    "idempotency_key": "stackoverflow-44726753",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": ".NET Core - Could not load file or assembly",
    "body": "I'm trying to use a custom DLL (4.5 framework) in a aspnet core 1.1 app. I'm using Microsoft.NETCore.Portable.Compatibility When I run the project and try to make a call at some class of the library project, vs2017 throw the following exception. Could not load file or assembly 'ApiHelperSock, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'. O sistema não pode encontrar o arquivo especificado. If I check the bin\\Debug\\netcoreapp1.1 I can see my dll here. This is my project.json file { \"compilerOptions\": { \"noImplicitAny\": false, \"noEmitOnError\": true, \"removeComments\": false, \"sourceMap\": true, \"target\": \"es5\" }, \"exclude\": [ \"node_modules\", \"wwwroot\" ] } Any ideas ? --- EDIT --- Tried to setup a nuget package with my dll, getting the following error when trying to import: The package ApHelperSock 1.0.0 isn't compatible with netcoreapp1.1 (.NETCoreApp,Version=v1.1). The package ApiHelperSock 1.0.0 supports: net (.NETFramework,Version=v0.0) Tried to create a .NETFramework library project, import here and then call the library from my aspnetcore app, without success.",
    "code": "Could not load file or assembly 'ApiHelperSock, Version=0.0.0.0, Culture=neutral, PublicKeyToken=null'. O sistema não pode encontrar o arquivo especificado.\n\n\n{\n  \"compilerOptions\": {\n    \"noImplicitAny\": false,\n    \"noEmitOnError\": true,\n    \"removeComments\": false,\n    \"sourceMap\": true,\n    \"target\": \"es5\"\n  },\n  \"exclude\": [\n    \"node_modules\",\n    \"wwwroot\"\n  ]\n}\n\n\nThe package ApHelperSock 1.0.0 isn't compatible with netcoreapp1.1 (.NETCoreApp,Version=v1.1). The package ApiHelperSock 1.0.0 supports: net (.NETFramework,Version=v0.0)               \n\n\nMicrosoft.NETCore.Portable.Compatibility\n\nbin\\Debug\\netcoreapp1.1\n\n# Solution Code:\nnetstandard1.0\n\nnetstandard1.0\n\nnetstandard1.2\n\nnet45\n\nnet452\n\n#ifdef NET45\n\nnet452",
    "resolution": "You can't auto-magically use .NET 4.5 libraries in .NET Core applications! Your library has to target netstandard1.0 or higher. Convert your library to a netstandard1.0 (4.5.2) or netstandard1.2 (.NET 4.5.2) project. If you use .NET 4.5 only Api, you also need to add net45/net452 target and use #ifdef NET45 preprocessor directives to make your code inside it only compile for net452, but not for other platforms. In .NET Core 2.0 you'll get the ability to reference normal .NET 4.5 libraries, but the same limitations apply and you must be extremely carefully when using it: It will only then work on .NET Core, when the referenced library only uses API which is available on .NET Standard 2.0!!! Using any other API will blow up your program at runtime! This option is only there for people who need to reference a library which is .NET 4.5 but not yet ported for .NET Standard 2.0 (i.e. orphaned nuget packages).",
    "severity": "high",
    "tags": [
      "c#",
      ".net",
      "asp.net-core"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "dotnet",
      "stackoverflow_question_id": "44771733",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 22880,
      "stackoverflow_creation_date": "2017-06-27T03:15:11.663Z"
    },
    "idempotency_key": "stackoverflow-44771733",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Xdebug Profiler not working over apache",
    "body": "The issue is I get no output from Xdebug-Profiler if I request any page from my server over browser. If i call a script with php in terminal like php /var/www/html/index.php then the profiler's output will be created. So I guess my configurations are fine. Here the important setting from my phpinfo: xdebug.profiler_aggregate Off Off xdebug.profiler_append Off Off xdebug.profiler_enable On On xdebug.profiler_enable_trigger Off Off xdebug.profiler_enable_trigger_value no value no value xdebug.profiler_output_dir /home/duser/profiler /home/duser/profiler xdebug.profiler_output_name testgrind.out.%t-%s testgrind.out.%t-%s The output from https://xdebug.org/wizard.php for my phpinfo: Xdebug installed: 2.5.4 Server API: Apache 2.0 Handler Windows: no Zend Server: no PHP Version: 5.6.30 Zend API nr: 220131226 PHP API nr: 20131226 Debug Build: no Thread Safe Build: no Configuration File Path: /etc Configuration File: /etc/php.ini Extensions directory: /usr/lib64/php/modules You're already running the latest Xdebug version I have read a lot of topics here, where people had similar problem and it was often rights issue. Therefore i created the profiler folder in my home directory with rights like: drwxrwxrwx 2 duser duser 140 30. Jun 07:02 profiler The server is running on Centos 7, SELinux is disabled. The Xdebug-debugger works fine. Any help will be appreciated.",
    "code": "php /var/www/html/index.php\n\n\nxdebug.profiler_aggregate   Off Off\nxdebug.profiler_append  Off Off\nxdebug.profiler_enable  On  On\nxdebug.profiler_enable_trigger  Off Off\nxdebug.profiler_enable_trigger_value    no value    no value\nxdebug.profiler_output_dir  /home/duser/profiler /home/duser/profiler\nxdebug.profiler_output_name testgrind.out.%t-%s testgrind.out.%t-%s\n\n\n   drwxrwxrwx   2 duser duser  140 30. Jun 07:02 profiler\n",
    "severity": "medium",
    "tags": [
      "php",
      "xdebug",
      "xdebug-profiler"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "44839008",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2046,
      "stackoverflow_creation_date": "2017-06-30T05:12:56.007Z"
    },
    "idempotency_key": "stackoverflow-44839008",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to get the params from a saved XGBoost model",
    "body": "I'm trying to train a XGBoost model using the params below: xgb_params = { 'objective': 'binary:logistic', 'eval_metric': 'auc', 'lambda': 0.8, 'alpha': 0.4, 'max_depth': 10, 'max_delta_step': 1, 'verbose': True } Since my input data is too big to be fully loaded into the memory, I adapt the incremental training: xgb_clf = xgb.train(xgb_params, input_data, num_boost_round=rounds_per_batch, xgb_model=model_path) The code for prediction is xgb_clf = xgb.XGBClassifier() booster = xgb.Booster() booster.load_model(model_path) xgb_clf._Booster = booster raw_probas = xgb_clf.predict_proba(x) The result seemed good. But when I tried to invoke xgb_clf.get_xgb_params(), I got a param dict in which all params were set to default values. I can guess that the root cause is when I initialized the model, I didn't pass any params in. So the model was initialized using the default values but when it predicted, it used an internal booster that had been fitted using some pre-defined params. However, I wonder is there any way that, after I assign a pre-trained booster model to a XGBClassifier, I can see the real params that are used to train the booster, but not those which are used to initialize the classifier.",
    "code": "xgb_params = {\n    'objective': 'binary:logistic',\n    'eval_metric': 'auc',\n    'lambda': 0.8,\n    'alpha': 0.4,\n    'max_depth': 10,\n    'max_delta_step': 1,\n    'verbose': True\n}\n\n\nxgb_clf = xgb.train(xgb_params, input_data, num_boost_round=rounds_per_batch,\n                    xgb_model=model_path)\n\n\nxgb_clf = xgb.XGBClassifier()\nbooster = xgb.Booster()\nbooster.load_model(model_path)\nxgb_clf._Booster = booster\nraw_probas = xgb_clf.predict_proba(x)\n\n\nxgb_clf.get_xgb_params()\n\n# Solution Code:\nimport pickle\nimport numpy as np\nimport xgboost as xgb\nfrom sklearn.datasets import load_digits\n\n\ndigits = load_digits(2)\ny = digits['target']\nX = digits['data']\n\nxgb_params = {\n    'objective': 'binary:logistic',\n    'reg_lambda': 0.8,\n    'reg_alpha': 0.4,\n    'max_depth': 10,\n    'max_delta_step': 1,\n}\nclf = xgb.XGBClassifier(**xgb_params)\nclf.fit(X, y, eval_metric='auc', verbose=True)\n\npickle.dump(clf, open(\"xgb_temp.pkl\", \"wb\"))\nclf2 = pickle.load(open(\"xgb_temp.pkl\", \"rb\"))\n\nassert np.allclose(clf.predict(X), clf2.predict(X))\nprint(clf2.get_xgb_params())\n\n\n{'base_score': 0.5,\n 'colsample_bylevel': 1,\n 'colsample_bytree': 1,\n 'gamma': 0,\n 'learning_rate': 0.1,\n 'max_delta_step': 1,\n 'max_depth': 10,\n 'min_child_weight': 1,\n 'missing': nan,\n 'n_estimators': 100,\n 'objective': 'binary:logistic',\n 'reg_alpha': 0.4,\n 'reg_lambda': 0.8,\n 'scale_pos_weight': 1,\n 'seed': 0,\n 'silent': 1,\n 'subsample': 1}\n",
    "resolution": "You seem to be mixing the sklearn API with the functional API in your code, if you stick to either one you should get the parameters to persist in the pickle. Here's an example using the sklearn API. import pickle import numpy as np import xgboost as xgb from sklearn.datasets import load_digits digits = load_digits(2) y = digits['target'] X = digits['data'] xgb_params = { 'objective': 'binary:logistic', 'reg_lambda': 0.8, 'reg_alpha': 0.4, 'max_depth': 10, 'max_delta_step': 1, } clf = xgb.XGBClassifier(**xgb_params) clf.fit(X, y, eval_metric='auc', verbose=True) pickle.dump(clf, open(\"xgb_temp.pkl\", \"wb\")) clf2 = pickle.load(open(\"xgb_temp.pkl\", \"rb\")) assert np.allclose(clf.predict(X), clf2.predict(X)) print(clf2.get_xgb_params()) which produces {'base_score': 0.5, 'colsample_bylevel': 1, 'colsample_bytree': 1, 'gamma': 0, 'learning_rate': 0.1, 'max_delta_step': 1, 'max_depth': 10, 'min_child_weight': 1, 'missing': nan, 'n_estimators': 100, 'objective': 'binary:logistic', 'reg_alpha': 0.4, 'reg_lambda': 0.8, 'scale_pos_weight': 1, 'seed': 0, 'silent': 1, 'subsample': 1}",
    "severity": "high",
    "tags": [
      "python",
      "xgboost"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "44899515",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 35987,
      "stackoverflow_creation_date": "2017-07-04T07:24:07.540Z"
    },
    "idempotency_key": "stackoverflow-44899515",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Nil pointer to struct not deep equal to nil?",
    "body": "If I have a struct containing a nil pointer of type A, using reflect.DeepEqual to check if that property is nil will result in false, which strikes me as odd behaviour. type Container struct { O *Obj } type Obj struct { Message string } var c Container eq := reflect.DeepEqual(c.O, nil) fmt.Printf(\"O value: %v, is nil: %t\", c.O, eq) // Prints: \"O value: <nil>, is nil: false\" Specifically, I am marshaling a JSON object into a struct, where I would like to test that a specific property is nil when the corresponding JSON structure does not contain it. If reflect.DeepEqual is not the way to go, how should I do this?",
    "code": "nil\n\nA\n\nreflect.DeepEqual\n\nnil\n\nfalse\n\nnil\n\nreflect.DeepEqual\n\n# Solution Code:\nfunc DeepEqual(x, y interface{}) bool\n\n\nreflect.DeepEqual(c.O, (*Obj)(nil)) // This is true\n\n\nfmt.Println(\"c.O:\", c.O)\nfmt.Println(\"c.O == nil:\", c.O == nil)\nfmt.Println(\"c.O deep equal to nil:\", reflect.DeepEqual(c.O, nil))\nfmt.Println(\"c.O deep equal to (*Obj)(nil):\", reflect.DeepEqual(c.O, (*Obj)(nil)))\n\n\nc.O: &lt;nil&gt;\nc.O == nil: true\nc.O deep equal to nil: false\nc.O deep equal to (*Obj)(nil): true\n\n\nreflect.DeepEqual()\n\ninterface{}\n\ninterface{}\n\nnil\n\n(type; value)\n\nreflect.DeepEqual()\n\n(type; value)\n\n(*Obj, nil)\n\nnil\n\nnil\n\ntrue\n\nnil\n\nnil",
    "resolution": "Everything you pass to reflect.DeepEqual() is wrapped in an interface{} value (if it's not already that): func DeepEqual(x, y interface{}) bool interface{} values will be compared, where the first parameter value is not nil, only the value wrapped in it. An interface value is represented as a (type; value) pair. The first value you pass to reflect.DeepEqual() is a pair of (type; value) being (*Obj, nil), and the 2nd value is nil. They are not equal. The second value lacks type information. If you compare it to a \"typed\" nil, it will be true: reflect.DeepEqual(c.O, (*Obj)(nil)) // This is true See this example: fmt.Println(\"c.O:\", c.O) fmt.Println(\"c.O == nil:\", c.O == nil) fmt.Println(\"c.O deep equal to nil:\", reflect.DeepEqual(c.O, nil)) fmt.Println(\"c.O deep equal to (*Obj)(nil):\", reflect.DeepEqual(c.O, (*Obj)(nil))) Output (try it on the Go Playground): c.O: <nil> c.O == nil: true c.O deep equal to nil: false c.O deep equal to (*Obj)(nil): true See this question for a deeper insight: Hiding nil values, understanding why golang fails here If you want to check if the value wrapped inside a non-nil interface is nil, you can use reflection: reflect.Value.IsNil(). For more details see: Why interface type doesn't provide an \"IsNil\" method?",
    "severity": "medium",
    "tags": [
      "pointers",
      "go",
      "types",
      "interface",
      "null"
    ],
    "metadata": {
      "language": "go",
      "stackoverflow_question_id": "44900065",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3328,
      "stackoverflow_creation_date": "2017-07-04T07:51:48.517Z"
    },
    "idempotency_key": "stackoverflow-44900065",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Download a file in django with a button using xmlhttprequest",
    "body": "I looked at many same questions but none resolved my problem, I'm trying to download a file generated in my view using a button. Problem : I get an empty file while clicking on download button My view: class dumpView(View): template_name = 'download.html' def get(self, request): file = open(\"/home/test.pdf\", \"rwbt\") response = HttpResponse(file.read(), content_type=\"application/pdf\") response['Content-Disposition'] = 'attachement; filename=%s' % file return render(request, 'download.html') My url: url(r'^dump/', dumpView.as_view()), My template: {% extends 'base.html' %} {% load staticfiles %} {% block content %} <div class=\"container\"> <div class=\"row\"> <div class=\"jumbotron\"> <div class=\"row\"> <center> <a href=\"javascript:void(0)\" class=\"btn btn-primary btn-lg dump\">Download</a> </center> </div> </div> </div> </div> {% endblock %} {% block javascript %} <script src=\"{% static 'js/home.js' %}\"></script> {% endblock %} My Django view is rendering the response. I did add an on click handler to the button with class dump in the UI to make a XHR request to the “/dump” URL and recieve response as a blob and download the file with custom name and date. My js : $(\".dump\").on(\"click\", function() { xhttp = new XMLHttpRequest(); xhttp.onreadystatechange = function() { var a, today; if (xhttp.readyState === 4 && xhttp.status === 200) { a = document.createElement('a'); a.href = window.URL.createObjectURL(xhttp.response); today = new Date(); a.download = \"file_\" + today.toDateString().split(\" \").join(\"_\") + \".pdf\"; a.style.display = 'none'; document.body.appendChild(a); return a.click(); } }; xhttp.open(\"GET\", \"/dump\", true); xhttp.setRequestHeader(\"Content-Type\", \"application/json\"); xhttp.responseType = 'blob'; xhttp.send(); });",
    "code": "class dumpView(View):\n\ntemplate_name = 'download.html'\ndef get(self, request):\n    file = open(\"/home/test.pdf\", \"rwbt\")\n    response = HttpResponse(file.read(), content_type=\"application/pdf\")\n    response['Content-Disposition'] = 'attachement; filename=%s' % file\n    return render(request, 'download.html')\n\n\nurl(r'^dump/', dumpView.as_view()),\n\n\n {% extends 'base.html' %} \n {% load staticfiles %} \n {% block content %}\n &lt;div class=\"container\"&gt;\n &lt;div class=\"row\"&gt;\n    &lt;div class=\"jumbotron\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;center&gt;\n                &lt;a href=\"javascript:void(0)\" class=\"btn btn-primary btn-lg dump\"&gt;Download&lt;/a&gt;\n            &lt;/center&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n{% endblock %} \n{% block javascript %}\n&lt;script src=\"{% static 'js/home.js' %}\"&gt;&lt;/script&gt;\n{% endblock %}\n\n\n$(\".dump\").on(\"click\", function() {\nxhttp = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n    var a, today;\n    if (xhttp.readyState === 4 &amp;&amp; xhttp.status === 200) {\n        a = document.createElement('a');\n        a.href = window.URL.createObjectURL(xhttp.response);\n        today = new Date();\n        a.download = \"file_\" + today.toDateString().split(\" \").join(\"_\") + \".pdf\";\n        a.style.display = 'none';\n        document.body.appendChild(a);\n        return a.click();\n    }\n};\nxhttp.open(\"GET\", \"/dump\", true);\nxhttp.setRequestHeader(\"Content-Type\", \"application/json\");\nxhttp.responseType = 'blob';\nxhttp.send();\n});\n\n\n# Solution Code:\ncontent = file(filename).read()\nresponse = HttpResponse(content, content_type='text/plain')\nresponse['Content-Length'] = os.path.getsize(filename)\nresponse['Content-Disposition'] = 'attachment; filename=%s' % 'my_pdf.pdf'\n\n\n&lt;input type=\"button\" value=\"Download\" onclick=\"window.open('download_my_pdf')\"&gt;\n\n\n&lt;a href=\"javascript:void(0)\" class=\"btn btn-primary btn-lg dump\"&gt;Download&lt;/a&gt;\n\n\n&lt;input type=\"button\" value=\"Download\" onclick=\"window.open('download_my_pdf')\"&gt;\n\n\nfrom django.http import HttpResponse\nfrom wsgiref.util import FileWrapper\n\n@login_required\ndef download_pdf(request):\n    filename = 'whatever_in_absolute_path__or_not.pdf'\n    content = FileWrapper(filename)\n    response = HttpResponse(content, content_type='application/pdf')\n    response['Content-Length'] = os.path.getsize(filename)\n    response['Content-Disposition'] = 'attachment; filename=%s' % 'whatever_name_will_appear_in_download.pdf'\n    return response\n\n\nurlpatterns = (\n    [...]\n    url('download_my_pdf', download_pdf),\n)\n\n\nContent-Disposition\n\nfile\n\nhome.js\n\nviews.py\n\nresponse",
    "resolution": "In your view, I suggest adding a size to your response content = file(filename).read() response = HttpResponse(content, content_type='text/plain') response['Content-Length'] = os.path.getsize(filename) response['Content-Disposition'] = 'attachment; filename=%s' % 'my_pdf.pdf' As @bob-vork just said, the filename from Content-Disposition should not be the python file object, but the name your download will have. How about registering the view in urls.py then replace the javascript by: <input type=\"button\" value=\"Download\" onclick=\"window.open('download_my_pdf')\"> EDIT : Since you're going with the suggested HTML, then I'll put more details to my solution. First, you can drop the home.js. As you understood <a href=\"javascript:void(0)\" class=\"btn btn-primary btn-lg dump\">Download</a> becomes <input type=\"button\" value=\"Download\" onclick=\"window.open('download_my_pdf')\"> your views.py should return directly the response from django.http import HttpResponse from wsgiref.util import FileWrapper @login_required def download_pdf(request): filename = 'whatever_in_absolute_path__or_not.pdf' content = FileWrapper(filename) response = HttpResponse(content, content_type='application/pdf') response['Content-Length'] = os.path.getsize(filename) response['Content-Disposition'] = 'attachment; filename=%s' % 'whatever_name_will_appear_in_download.pdf' return response Pay attention to put the right content_type as well. Note that I haven't tested the view (especially the FileWrapper), I adapted some code I had for plain text. This is also why you have a TypeError if you treat the pdf as a text file. In urls.py urlpatterns = ( [...] url('download_my_pdf', download_pdf), )",
    "severity": "high",
    "tags": [
      "javascript",
      "python",
      "django",
      "download"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "django",
      "stackoverflow_question_id": "44905660",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 21333,
      "stackoverflow_creation_date": "2017-07-04T12:11:34.407Z"
    },
    "idempotency_key": "stackoverflow-44905660",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ConfigParser - Create file if it doesn't exist",
    "body": "So I am working on creating a program in Python that reads a .ini file to set up some boot variables for the main program. My only thing is, I want the program on initialization, to check if the .ini file exists, and if it doesn't, create it with a set of default values. Kind of a preemptive bug fix on if someone accidentally deletes the file. I can't seem to find any examples anywhere of how to do this, and I'm not super experienced with Python (only been programming with it for about a week) so I'd appreciate any assistance :) Edit: Upon further thought, I want to pursue this a bit further. Let's assume the file does exist. How do I check it to make sure it has the appropriate sections? If it doesn't have the appropriate sections, how would I go about deleting the file or removing the contents and rewriting the contents of the file? I'm trying to idiot proof this :P",
    "code": ".ini\n\n# Solution Code:\n#!usr/bin/python\nimport configparser, os\n\nconfig = configparser.ConfigParser()\n\n# Just a small function to write the file\ndef write_file():\n    config.write(open('config.ini', 'w'))\n\nif not os.path.exists('config.ini'):\n    config['testing'] = {'test': '45', 'test2': 'yes'}\n\n    write_file()\nelse:\n    # Read File\n    config.read('config.ini')\n\n    # Get the list of sections\n    print config.sections()\n\n    # Print value at test2\n    print config.get('testing', 'test2')\n\n    # Check if file has section\n    try:\n        config.get('testing', 'test3')\n\n    # If it doesn't i.e. An exception was raised\n    except configparser.NoOptionError:\n        print &quot;NO OPTION CALLED TEST 3&quot;\n\n        # Delete this section, you can also use config.remove_option\n        # config.remove_section('testing')\n        config.remove_option('testing', 'test2')\n\n        write_file()\n\n\n[DEFAULT]\ntest = 45\ntest2 = yes\n",
    "resolution": "You can use ConfigParser and the OS library, here's a quick example: #!usr/bin/python import configparser, os config = configparser.ConfigParser() # Just a small function to write the file def write_file(): config.write(open('config.ini', 'w')) if not os.path.exists('config.ini'): config['testing'] = {'test': '45', 'test2': 'yes'} write_file() else: # Read File config.read('config.ini') # Get the list of sections print config.sections() # Print value at test2 print config.get('testing', 'test2') # Check if file has section try: config.get('testing', 'test3') # If it doesn't i.e. An exception was raised except configparser.NoOptionError: print \"NO OPTION CALLED TEST 3\" # Delete this section, you can also use config.remove_option # config.remove_section('testing') config.remove_option('testing', 'test2') write_file() Output: [DEFAULT] test = 45 test2 = yes Linked above are the docs that are extremely useful to learn more about writing configuration files and other in-built modules.",
    "severity": "high",
    "tags": [
      "python",
      "config",
      "configparser"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "44907415",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 10123,
      "stackoverflow_creation_date": "2017-07-04T13:32:16.310Z"
    },
    "idempotency_key": "stackoverflow-44907415",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Reduction axis 1 is empty in shape [x,0]",
    "body": "I'm trying to train the SVHN (street view house numbers) dataset for object-detection in tensorflow (to do some basic OCR on numbers). So far I have successfully followed the pet-training example from the object-detection-tensorflow guides. When I train the network based on the sample faster_rcnn_resnet101.config, after a few dozen steps I get: INFO:tensorflow:Error reported to Coordinator: <class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'>, Reduction axis 1 is empty in shape [3,0] [[Node: Loss/RPNLoss/Match/cond/ArgMax_1 = ArgMax[T=DT_FLOAT, Tidx=DT_INT32, _device=\"/job:localhost/replica:0/task:0/cpu:0\"] (Loss/RPNLoss/Match/cond/ArgMax/Switch:1, Loss/RPNLoss/Match/cond/ArgMax_1/dimension)]] I have no clue what to change or improve. Has someone seen this before? What is going wrong here? Is it simply a wrong config-setting? The only parameter I changed (besides path-info) is num_classes: 10 (10 digits) Thanks for any hints. My label-map looks like this: item { id: 0 name: 'none_of_the_above' } item { id: 1 name: '1' } item { id: 2 name: '2' } ... with id: 10 being '0' As supposed here https://github.com/tensorflow/models/blob/master/object_detection/g3doc/running_pets.md I used the pretrained COCO-model faster_rcnn_resnet101 and also the config-file from that: https://github.com/tensorflow/models/blob/master/object_detection/samples/configs/faster_rcnn_resnet101_pets.config The only things I adapted are the paths and: faster_rcnn { num_classes: 11 image_resizer { keep_aspect_ratio_resizer { min_dimension: 64 max_dimension: 900 } } Due to the fact that the images from SVHN are rather small, I adapted the dimensions here and removed all images that are smaller than 64px in height or width. I didn't pay attention to clear the training-directory until now. But I tried now and the same error occurs. I'm currently trying with the pretrained inception-model, maybe this works out.",
    "code": "    INFO:tensorflow:Error reported to Coordinator: \n&lt;class 'tensorflow.python.framework.errors_impl.InvalidArgumentError'&gt;, \nReduction axis 1 is empty in shape [3,0]\n[[Node: Loss/RPNLoss/Match/cond/ArgMax_1 = ArgMax[T=DT_FLOAT, Tidx=DT_INT32, _device=\"/job:localhost/replica:0/task:0/cpu:0\"]\n(Loss/RPNLoss/Match/cond/ArgMax/Switch:1, \nLoss/RPNLoss/Match/cond/ArgMax_1/dimension)]]\n\n\nitem {\n  id: 0\n  name: 'none_of_the_above'\n}\n\nitem {\n  id: 1\n  name: '1'\n}\n\nitem {\n  id: 2\n  name: '2'\n}\n... with id: 10 being '0'\n\n\nfaster_rcnn {\n    num_classes: 11\n    image_resizer {\n      keep_aspect_ratio_resizer {\n        min_dimension: 64\n        max_dimension: 900\n      }\n    }\n",
    "severity": "medium",
    "tags": [
      "tensorflow",
      "object-detection"
    ],
    "metadata": {
      "stackoverflow_question_id": "44995679",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3080,
      "stackoverflow_creation_date": "2017-07-09T11:03:09.417Z"
    },
    "idempotency_key": "stackoverflow-44995679",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Printing String with an edited character using array of char instead of creating a new String object",
    "body": "The objective of this code is to change the String \"A Happy\" to \"A Hippy\". String originalStr = \"A Happy\"; char[] charOriStr = originalStr.toCharArray(); charOriStr[3] = 'i'; //simplified code, we are supposed to loop through the String To print the revised String, I use: System.out.println(charOriStr); However the recommended solution is as below: String revised = new String(charOriStr); System.out.println(revised); I'm a beginner and I'm not sure if I should follow the recommended solution as a best practice guideline? Appreciate some guidance on this, thank you.",
    "code": "String originalStr = \"A Happy\";\nchar[] charOriStr = originalStr.toCharArray();\ncharOriStr[3] = 'i'; //simplified code, we are supposed to loop through the String\n\n\nSystem.out.println(charOriStr);\n\n\nString revised = new String(charOriStr);\nSystem.out.println(revised);\n\n\n# Solution Code:\nprintln",
    "resolution": "Whom so ever recommended is clearly wrong here. Since you already have char array in your hand, you doesn't need to convert that to String again, just to print. Because the println method you are using will convert your String again to a char array inside.",
    "severity": "low",
    "tags": [
      "java",
      "string"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "45031493",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 98,
      "stackoverflow_creation_date": "2017-07-11T10:07:39.643Z"
    },
    "idempotency_key": "stackoverflow-45031493",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python/Pandas return column and row index of found string",
    "body": "I've searched previous answers relating to this but those answers seem to utilize numpy because the array contains numbers. I am trying to search for a keyword in a sentence in a dataframe ('Timeframe') where the full sentence is 'Timeframe for wave in ____' and would like to return the column and row index. For example: df.iloc[34,0] returns the string I am looking for but I am avoiding a hard code for dynamic reasons. Is there a way to return the [34,0] when I search the dataframe for the keyword 'Timeframe'",
    "code": "    df.iloc[34,0] \n\n\n# Solution Code:\ndf = pd.DataFrame({'A':['Timeframe for wave in ____', 'a', 'c']})\nprint (df)\n                            A\n0  Timeframe for wave in ____\n1                           a\n2                           c\n\n\n\ndef check(val):\n    a = df.index[df['A'].str.contains(val)]\n    if a.empty:\n        return 'not found'\n    elif len(a) &gt; 1:\n        return a.tolist()\n    else:\n        #only one value - return scalar  \n        return a.item()\n\n\nprint (check('Timeframe'))\n0\n\nprint (check('a'))\n[0, 1]\n\nprint (check('rr'))\nnot found\n\n\ndf = pd.DataFrame({'A':list('abcdef'),\n                   'B':[4,5,4,5,5,4],\n                   'C':[7,8,9,4,2,'Timeframe'],\n                   'D':[1,3,5,7,1,0],\n                   'E':[5,3,6,9,2,4],\n                   'F':list('aaabbb')})\n\nprint (df)\n   A  B          C  D  E  F\n0  a  4          7  1  5  a\n1  b  5          8  3  3  a\n2  c  4          9  5  6  a\n3  d  5          4  7  9  b\n4  e  5          2  1  2  b\n5  f  4  Timeframe  0  4  b\n\n\na = np.where(df.values == 'Timeframe')\nprint (a)\n(array([5], dtype=int64), array([2], dtype=int64))\n\nb = [x[0] for x in a]\nprint (b)\n[5, 2]\n\n\ncontains\n\nboolean indexing\n\nnumpy.where\n\nTimeframe",
    "resolution": "EDIT: For check index need contains with boolean indexing, but then there are possible 3 values: df = pd.DataFrame({'A':['Timeframe for wave in ____', 'a', 'c']}) print (df) A 0 Timeframe for wave in ____ 1 a 2 c def check(val): a = df.index[df['A'].str.contains(val)] if a.empty: return 'not found' elif len(a) > 1: return a.tolist() else: #only one value - return scalar return a.item() print (check('Timeframe')) 0 print (check('a')) [0, 1] print (check('rr')) not found Old solution: It seems you need if need numpy.where for check value Timeframe: df = pd.DataFrame({'A':list('abcdef'), 'B':[4,5,4,5,5,4], 'C':[7,8,9,4,2,'Timeframe'], 'D':[1,3,5,7,1,0], 'E':[5,3,6,9,2,4], 'F':list('aaabbb')}) print (df) A B C D E F 0 a 4 7 1 5 a 1 b 5 8 3 3 a 2 c 4 9 5 6 a 3 d 5 4 7 9 b 4 e 5 2 1 2 b 5 f 4 Timeframe 0 4 b a = np.where(df.values == 'Timeframe') print (a) (array([5], dtype=int64), array([2], dtype=int64)) b = [x[0] for x in a] print (b) [5, 2]",
    "severity": "high",
    "tags": [
      "python-3.x",
      "pandas"
    ],
    "metadata": {
      "stackoverflow_question_id": "45042005",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 14225,
      "stackoverflow_creation_date": "2017-07-11T18:23:55.783Z"
    },
    "idempotency_key": "stackoverflow-45042005",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Iterating over columns in a data frame in order to replace values from matching data in list of data frames",
    "body": "I'm interested in building a function making use of apply/sapply or Map that would iterate over available columns in dta and replace values in each column with matched values from data frame available in a nameless list of data frames with list item index corresponding to the column number of the dta data frame. Example Given objects: set.seed(1) size <- 20 # Data set dta <- data.frame( unitA = sample(LETTERS[1:4], size = size, replace = TRUE), unitB = sample(letters[16:20], size = size, replace = TRUE), unitC = sample(month.abb[1:4], size = size, replace = TRUE), someValue = sample(1:1e6, size = size, replace = TRUE) ) # Meta data lstMeta <- list( # Unit A definitions data.frame( V1 = c(\"A\", \"B\", \"D\"), V2 = c(\"Letter A\", \"Letter B\", \"Letter D\") ), # Unit B definitions data.frame( V1 = c(\"t\", \"q\"), V2 = c(\"small t\", \"small q\") ), # Unit C definitions data.frame( V1 = c(\"Mar\", \"Jan\"), V2 = c(\"March\", \"January\") ) ) Desired results When applied on dta, the function should return a data.frame corresponding to the extract below: unitA unitB unitC someValue Letter B small t Apr 912876 Letter B small q March 293604 C s Apr 459066 Letter D p March 332395 Letter A small q March 650871 Letter D small q Apr 258017 Letter D p January 478546 C small q Feb 766311 C small t March 84247 Letter A small q March 875322 Letter A r Feb 339073 Letter A r Ap 839441 C r Feb 346684 Letter B p January 333775 Letter D small t January 476352 (...) Existing approach replaceLbls <- function(dataSet, lstDict) { sapply(seq_along(dataSet), function(i) { # Take corresponding metadata data frame dtaDict <- lstDict[[i]] # Replace values in selected column # Where matches on V1 push corrsponding values from V2 dataSet[,i][match(dataSet[,i], dtaDict[,1])] <- dtaDict[,2][match(dtaDict[,1], dataSet[,i])] }) } # Testing ----------------------------------------------------------------- replaceLbls(dataSet = dta, lstDict = lstMeta) Of course the approach proposed above does not work as it will try to use NA in assignments; but it summarises what I want to achieve: Error in x[...] <- m : NAs are not allowed in subscripted assignments In addition: Warning message: In [<-.factor(*tmp*, match(dataSet[, i], dtaDict[, 1]), value = c(NA, : invalid factor level, NA generated Additional remarks Source data set The key characteristics of the data are: The list is nameless so subsetting has to be done by item numbers not by names Item number correspond to column numbers There is no full match between metadata data frames available in the list of data frames and unit columns available in the data The someValue column also should be iterated over as it may contain labels that should be replaced Solution I'm not interested in dplyr/data.table/sqldf-based solutions. I'm not interested in nested for-loops",
    "code": "set.seed(1)\nsize &lt;- 20\n\n# Data set\ndta &lt;-\n    data.frame(\n        unitA = sample(LETTERS[1:4], size = size, replace = TRUE),\n        unitB = sample(letters[16:20], size = size, replace = TRUE),\n        unitC = sample(month.abb[1:4], size = size, replace = TRUE),\n        someValue = sample(1:1e6, size = size, replace = TRUE)\n    )\n\n# Meta data\nlstMeta &lt;- list(\n    # Unit A definitions\n    data.frame(\n        V1 = c(\"A\", \"B\", \"D\"),\n        V2 = c(\"Letter A\", \"Letter B\", \"Letter D\")\n    ),\n    # Unit B definitions\n    data.frame(\n        V1 = c(\"t\", \"q\"),\n        V2 = c(\"small t\", \"small q\")\n    ),\n    # Unit C definitions\n    data.frame(\n        V1 = c(\"Mar\", \"Jan\"),\n        V2 = c(\"March\", \"January\")\n    )\n)\n\n\nunitA       unitB    unitC      someValue\nLetter B    small t  Apr        912876\nLetter B    small q  March      293604\n       C    s        Apr        459066\nLetter D    p        March      332395\nLetter A    small q  March      650871\nLetter D    small q  Apr        258017\nLetter D    p        January    478546\nC           small q  Feb        766311\nC           small t  March      84247\nLetter A    small q  March      875322\nLetter A    r        Feb        339073\nLetter A    r        Ap         839441\nC           r        Feb        346684\nLetter B    p        January    333775\nLetter D    small t  January    476352\n(...)\n\n\nreplaceLbls &lt;- function(dataSet, lstDict) {\n    sapply(seq_along(dataSet), function(i) {\n        # Take corresponding metadata data frame\n        dtaDict &lt;- lstDict[[i]]\n\n        # Replace values in selected column\n        # Where matches on V1 push corrsponding values from V2\n        dataSet[,i][match(dataSet[,i], dtaDict[,1])] &lt;- dtaDict[,2][match(dtaDict[,1], dataSet[,i])]  \n    })\n}\n\n# Testing -----------------------------------------------------------------\n\nreplaceLbls(dataSet = dta, lstDict = lstMeta)\n\n\napply\n\nsapply\n\nMap\n\ndta\n\ndta\n\ndta\n\ndata.frame\n\nNA\n\nx[...] &lt;- m\n\nNAs\n\nsomeValue\n\ndplyr\n\ndata.table\n\nsqldf\n\nfor\n\n# Solution Code:\nreplaceLbls &lt;- function(dataSet, lstDict) {\n  dataSet[seq_along(lstDict)] &lt;- Map(function(x, lst) {\n    x &lt;- as.character(x)\n    idx &lt;- match(x, as.character(lst$V1))\n    replace(x, !is.na(idx), as.character(lst$V2)[na.omit(idx)])\n  }, dataSet[seq_along(lstDict)], lstDict)\n  dataSet\n}\n\n\nhead(replaceLbls(dta, lstMeta))\n#      unitA   unitB unitC someValue\n# 1 Letter B small t   Apr    912876\n# 2 Letter B small q March    293604\n# 3        C       s   Apr    459066\n# 4 Letter D       p March    332395\n# 5 Letter A small q March    650871\n# 6 Letter D small q   Apr    258017\n",
    "resolution": "The following approach works well for the example data: replaceLbls <- function(dataSet, lstDict) { dataSet[seq_along(lstDict)] <- Map(function(x, lst) { x <- as.character(x) idx <- match(x, as.character(lst$V1)) replace(x, !is.na(idx), as.character(lst$V2)[na.omit(idx)]) }, dataSet[seq_along(lstDict)], lstDict) dataSet } head(replaceLbls(dta, lstMeta)) # unitA unitB unitC someValue # 1 Letter B small t Apr 912876 # 2 Letter B small q March 293604 # 3 C s Apr 459066 # 4 Letter D p March 332395 # 5 Letter A small q March 650871 # 6 Letter D small q Apr 258017 This assumes that you want to apply the changes to the first X column of the data that are as long as the meta-list. You might want to include an extra step to convert back to factor since this approach converts the adjusted columns to character class. Another remark on factors: you could potentially speed up the performance by working only on the levels of any factor variables instead the whole column. The general process would be similar but requires a few more steps to check classes etc.",
    "severity": "medium",
    "tags": [
      "r",
      "dataframe",
      "replace",
      "apply",
      "sapply"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "45320031",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1478,
      "stackoverflow_creation_date": "2017-07-26T07:18:41.460Z"
    },
    "idempotency_key": "stackoverflow-45320031",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "JSON parse error: Can not deserialize instance of java.util.ArrayList out of START_OBJECT token",
    "body": "I'm using spring boot and and spring data in my project and i have two classes: @Entity public class Mission implements Serializable { private static final long serialVersionUID = 1L; @Id @GeneratedValue( strategy = GenerationType.IDENTITY ) private Long id; private String departure; private String arrival; private Boolean isFreeWayEnabled; @OneToMany( mappedBy = \"mission\" ) private List<Station> stations; // getters and setters } and the second class: @Entity public class Station implements Serializable { private static final long serialVersionUID = 1L; @Id @GeneratedValue( strategy = GenerationType.IDENTITY ) private Long id; private String station; @ManyToOne( fetch = FetchType.LAZY ) @JsonBackReference private Mission mission; //getters and setters } and the controller: @RequestMapping( value = \"mission/addMission\", method = RequestMethod.POST, consumes = \"application/json;charset=UTF-8\" ) public Reponse addMission( @RequestBody Mission mission ) throws ServletException { if ( messages != null ) { return new Reponse( -1, messages ); } boolean flag = false; try { application.addMision( mission ); application.addStation( mission.getStations(), mission.getId() ); flag = true; } catch ( Exception e ) { return new Reponse( 5, Static.getErreursForException( e ) ); } return new Reponse( 0, flag ); } The problem is when I'm trying to add a new mission with JSON: {\"departure\":\"fff\",\"arrival\":\"ffff\",\"isFreeWayEnabled\":false,stations:{\"id\":1}",
    "code": "@Entity\npublic class Mission implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY )\n    private Long              id;\n    private String            departure;\n    private String            arrival;\n    private Boolean           isFreeWayEnabled;\n    @OneToMany( mappedBy = \"mission\" )\n    private List&lt;Station&gt;     stations;\n    // getters and setters\n}\n\n\n@Entity\npublic class Station implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue( strategy = GenerationType.IDENTITY )\n    private Long              id;\n    private String            station;\n\n    @ManyToOne( fetch = FetchType.LAZY )\n    @JsonBackReference\n    private Mission           mission;\n    //getters and setters\n}\n\n\n@RequestMapping( value = \"mission/addMission\", method = RequestMethod.POST, consumes = \"application/json;charset=UTF-8\" )\npublic Reponse addMission( @RequestBody Mission mission ) throws ServletException {\n    if ( messages != null ) {\n        return new Reponse( -1, messages );\n    }\n    boolean flag = false;\n    try {\n        application.addMision( mission );\n        application.addStation( mission.getStations(), mission.getId() );\n        flag = true;\n    } catch ( Exception e ) {\n        return new Reponse( 5, Static.getErreursForException( e ) );\n    }\n    return new Reponse( 0, flag );\n}\n\n\n# Solution Code:\n{\"departure\":\"fff\",\"arrival\":\"ffff\",\"isFreeWayEnabled\":false,stations:[{\"id\":1}, {\"id\":2}]}\n",
    "resolution": "You are trying to deserialize an object into a list. You need Stations to be JSON array {\"departure\":\"fff\",\"arrival\":\"ffff\",\"isFreeWayEnabled\":false,stations:[{\"id\":1}, {\"id\":2}]}",
    "severity": "high",
    "tags": [
      "java",
      "json",
      "spring",
      "spring-boot"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "45663891",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 61638,
      "stackoverflow_creation_date": "2017-08-13T19:02:38.937Z",
      "stackoverflow_owner": "user7035864"
    },
    "idempotency_key": "stackoverflow-45663891",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to set width based on content length using flex",
    "body": "I'm trying to make width of each item based on the content but what I have so far set the width all the way to available spaces. flex: 0 0 auto does not seem to do the trick. What am I doing wrong? Goal is have a width based on the content size. [Hello] [Hello world] Currently [Hello ] [Hello world ] https://jsfiddle.net/v6cgLjbd/8/ <span class='box'> <span class='item'>Hello</span> <span class='item'>Hello World</span> <span class='item'>Hello lOOOOONG text</span> </span> .box { height: 200px; width: auto; border: 1px solid red; display: flex; flex-direction: column; } .item { background-color: gray; flex: 0 0 auto; width: auto; }",
    "code": "[Hello]\n[Hello world]\n\n\n[Hello                   ]\n[Hello world             ]\n\n\n&lt;span class='box'&gt;\n  &lt;span class='item'&gt;Hello&lt;/span&gt;\n  &lt;span class='item'&gt;Hello World&lt;/span&gt;\n  &lt;span class='item'&gt;Hello lOOOOONG text&lt;/span&gt;\n&lt;/span&gt;\n\n.box {\n  height: 200px;\n  width: auto;\n  border: 1px solid red;\n  display: flex;\n  flex-direction: column;\n}\n\n.item {\n  background-color: gray;\n  flex: 0 0 auto;\n  width: auto;\n}\n\n\n# Solution Code:\nalign-items: flex-start\n\nflex-direction: column\n\nflex",
    "resolution": "You need to add align-items: flex-start on flex-container. When you use flex-direction: column on parent element, with flex property on child elements you control height not width. .box { height: 200px; border: 1px solid red; display: flex; flex-direction: column; align-items: flex-start; } .item { background-color: gray; } <span class='box'> <span class='item'>Hello</span> <span class='item'>Hello World</span> <span class='item'>Hello lOOOOONG text</span> </span>",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "flexbox"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "45681860",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2103,
      "stackoverflow_creation_date": "2017-08-14T19:38:45.217Z"
    },
    "idempotency_key": "stackoverflow-45681860",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What are proper status codes for CORS preflight requests?",
    "body": "What status code should a well-written HTTP server return when it gets a CORS preflight (OPTIONS) request? 200, 204 or something else? Should the status code be different in case origin is allowed (and corresponding headers will be set) or not allowed (and CORS headers will not be set or will not match the origin)?",
    "code": "OPTIONS\n\n200\n\n204\n\n# Solution Code:\nThe 200 (OK) status code indicates that the request has succeeded.\nThe payload sent in a 200 response depends on the request method.\nFor the methods defined by this specification, the intended meaning\nof the payload can be summarized as:\n…\nOPTIONS  a representation of the communications options;\n\n\n200\n\nOPTIONS\n\nOPTIONS\n\n200\n\n299\n\n200\n\n299\n\n200\n\n299\n\nAccess-Control-Allow-Methods\n\nAccess-Control-Allow-Headers\n\n200 OK\n\n2xx\n\nOPTIONS\n\n204 No Content\n\n204 No Content\n\nOPTIONS\n\nOPTIONS\n\nOPTIONS\n\n204\n\nOPTIONS\n\n200\n\n204\n\n200 OK\n\nOPTIONS\n\n200 OK",
    "resolution": "The gist of it is, just use 200. A little more generally: You should just send back the same status code for the CORS preflight OPTIONS request that you’d send back for any other OPTIONS request. The relevant specs don’t require or recommend anything more than that. What the specs say: The Fetch spec at https://fetch.spec.whatwg.org/ is where requirements for the CORS protocol are defined, and it says the status can be anything in the range 200-299. That’s from the CORS-preflight fetch algorithm, in a step saying it can be any “ok status\": If a CORS check for request and response returns success and response’s status is an ok status, run these substeps: … And as far as what an “ok status” is, the spec says this: An ok status is any status in the range 200 to 299, inclusive. Beyond that though, the Fetch spec doesn’t recommend any particular status within 200-299. The other relevant spec here is the HTTP 1.1 spec, which has a section defining semantics of all HTTP response status codes, and within that, a section that defines Successful 2xx codes. And within that section there’s a specific section for 200 OK, which says this: The 200 (OK) status code indicates that the request has succeeded. The payload sent in a 200 response depends on the request method. For the methods defined by this specification, the intended meaning of the payload can be summarized as: … OPTIONS a representation of the communications options; So a response to a CORS preflight OPTIONS just needs to be: an indication that the request has succeeded a representation of the communication options (which in this case includes the Access-Control-Allow-Methods and Access-Control-Allow-Headers response headers) That’s what 200 OK is defined by the HTTP spec to be, so you can stop right there. But if you read through the rest of the 2xx codes in that section, you can confirm the semantics of none of them make sense for an OPTIONS response—except for 204 No Content. Now as far as 204 No Content goes, there’s nothing wrong with using it for OPTIONS responses—but there’s also not really any point. That’s because: unlike for some other methods, the HTTP spec defines no use for an OPTIONS payload therefore in practice, clients don’t expect any payload (content) to come back for an OPTIONS (and wouldn’t do anything with any payload that did come back) …so there’s no practical purpose in using a specific 204 status code in an OPTIONS response to explicitly tell clients there’s no payload. Should the status code be different in case origin is allowed (and corresponding headers will be set) or not allowed (and CORS headers will not be set or will not match the origin)? No. There’s no standard-defined code other than 200 or 204 you could use anyway—but regardless of that, the specs don’t require it to be any different and don’t define any different use if it is. And think about it: What is any existing client code going to do any differently due to any difference in the status codes for those two cases? If the answer to that is, “Nothing”, then there’s no point in making it different. Given all the above, the bottom line is: just send 200 OK for CORS preflight OPTIONS responses. Sending any code other than just 200 OK isn’t necessary or useful.",
    "severity": "high",
    "tags": [
      "http",
      "cors",
      "http-status-codes",
      "preflight"
    ],
    "metadata": {
      "stackoverflow_question_id": "46026409",
      "stackoverflow_score": 52,
      "stackoverflow_view_count": 26555,
      "stackoverflow_creation_date": "2017-09-03T18:08:49.387Z"
    },
    "idempotency_key": "stackoverflow-46026409",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SpringBoot: EL1003E property values casting",
    "body": "I have a Spring Boot config file with this values: @Value(\"#{new Integer('${db.pool.size}')}\") private Integer dbPoolSize; @Value(\"#{new Integer('${db.minimum.idle}')}\") private Integer dbMinimumIdle; But when I start the application I got this error: Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1003E: A problem occurred whilst attempting to construct an object of type 'Integer' using arguments '(java.lang.String)' at org.springframework.expression.spel.ast.ConstructorReference.createNewInstance(ConstructorReference.java:168) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE] at org.springframework.expression.spel.ast.ConstructorReference.getValueInternal(ConstructorReference.java:98) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE] at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:120) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE] at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:242) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE] at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:161) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE] ... 42 common frames omitted",
    "code": "@Value(\"#{new Integer('${db.pool.size}')}\")\nprivate Integer dbPoolSize;\n\n@Value(\"#{new Integer('${db.minimum.idle}')}\")\nprivate Integer dbMinimumIdle;\n\n\nCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1003E: A problem occurred whilst attempting to construct an object of type 'Integer' using arguments '(java.lang.String)'\n    at org.springframework.expression.spel.ast.ConstructorReference.createNewInstance(ConstructorReference.java:168) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.expression.spel.ast.ConstructorReference.getValueInternal(ConstructorReference.java:98) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:120) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:242) ~[spring-expression-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:161) ~[spring-context-4.3.6.RELEASE.jar:4.3.6.RELEASE]\n    ... 42 common frames omitted\n\n\n# Solution Code:\n@Value(\"${db.minimum.idle}\")\nprivate Integer dbMinimumIdle;\n",
    "resolution": "Just use: @Value(\"${db.minimum.idle}\") private Integer dbMinimumIdle; No need to explicitly instantiate new integer using spel.",
    "severity": "medium",
    "tags": [
      "spring",
      "spring-mvc",
      "spring-boot",
      "properties-file",
      "spring-el"
    ],
    "metadata": {
      "framework": "spring",
      "stackoverflow_question_id": "46237880",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3707,
      "stackoverflow_creation_date": "2017-09-15T10:53:56.183Z"
    },
    "idempotency_key": "stackoverflow-46237880",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Unit testing class library using Realm.Net",
    "body": "I'm developing a class library(RealmClassLibrary) which using Realm Xamarin(.NET). I want to test the library using xunit(RealmClassLibrary.Test). And I got a TypeInitializationException when the library code calls Realm.GetInstance(config) This exception is not thrown when I embedded class library in Windows Application(RealmClassLibrary.Example). How could I fix this problem? Is there best practice to unit test realm based project? Any helps appreciated. Simple regeneration code https://github.com/engraphia/RealmClassLibrary Error log RealmClassLibrary.Tests.Class1Test.testMain [FAIL] System.TypeInitializationException : The type initializer for 'Realms.Realm' threw an exception. ---- System.DllNotFoundException : Unable to load DLL 'realm-wrappers': The specified module could not be found. (Exception from HRESULT: 0x8007007E) Stack Trace: at Realms.Realm.GetInstance(RealmConfigurationBase config) \\\\RealmClassLibrary\\RealmClassLibrary\\MainClass.cs(14,0): at RealmClassLibrary.MainClass.Main() \\\\RealmClassLibrary\\RealmClassLibrary.Tests\\Class1Test.cs(16,0): at RealmClassLibrary.Tests.Class1Test.testMain() ----- Inner Stack Trace ----- at Realms.NativeCommon.register_notify_realm_changed(NotifyRealmCallback callback) at Realms.Realm..cctor() version Visual Studio (windows) 2015 update3 .NETFramework v4.6.1 Realm Xamarin (.NET) 1.5.0 project structure RealmClassLibrary target class library RealmClassLibrary.Tests unit test project RealmClassLibrary.Example windows application project",
    "code": "RealmClassLibrary.Tests.Class1Test.testMain [FAIL]\n  System.TypeInitializationException : The type initializer for 'Realms.Realm' threw an exception.\n  ---- System.DllNotFoundException : Unable to load DLL 'realm-wrappers': The specified module could not be found. (Exception from HRESULT: 0x8007007E)\n  Stack Trace:\n       at Realms.Realm.GetInstance(RealmConfigurationBase config)\n    \\\\RealmClassLibrary\\RealmClassLibrary\\MainClass.cs(14,0): at RealmClassLibrary.MainClass.Main()\n    \\\\RealmClassLibrary\\RealmClassLibrary.Tests\\Class1Test.cs(16,0): at RealmClassLibrary.Tests.Class1Test.testMain()\n    ----- Inner Stack Trace -----\n       at Realms.NativeCommon.register_notify_realm_changed(NotifyRealmCallback callback)\n       at Realms.Realm..cctor()\n\n\nRealmClassLibrary\n\nRealmClassLibrary.Test\n\nTypeInitializationException\n\nRealm.GetInstance(config)\n\nRealmClassLibrary",
    "severity": "low",
    "tags": [
      "c#",
      "realm",
      "xunit"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "46403638",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 404,
      "stackoverflow_creation_date": "2017-09-25T11:01:36.260Z"
    },
    "idempotency_key": "stackoverflow-46403638",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ASP.NET MVC: Get user id of currently logged in user",
    "body": "I am new to ASP.NET MVC and am trying to create a web app. The problem I have is that in the controller class I need to get the UserID of the current user, but I am very confused about how one would do that. Also, it seems that the user is not authenticated after logging in, because if I use the [Authorize] annotation it throws an HTTP Error 401.0 - Unauthorized error. This is my Authentication.cs class: public static class Authentication { public static bool CreateNewTicket(User user, bool rememberMe) { try { FormsAuthenticationTicket ticket = new FormsAuthenticationTicket( 1, user.Email, DateTime.Now, DateTime.Now.AddDays(5), rememberMe, user.ID.ToString(), FormsAuthentication.FormsCookiePath ); string encryptedTicket = FormsAuthentication.Encrypt(ticket); HttpCookie cookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket); cookie.HttpOnly = true; if (!HttpContext.Current.Request.IsLocal) cookie.Secure = true; HttpContext.Current.Response.Cookies.Add(cookie); return true; } catch { return false; } } public static bool AuthUser(string Email, string Password) { using (var db = new AntContext()) { string password = Password; string email = Email; string hashedPW = GetHash(password); bool userValid = db.Users.Any(user => user.Email == email && user.Password == hashedPW); if (userValid) { var actUser = db.Users.FirstOrDefault(u => u.Email == Email && u.Password == hashedPW); if (!actUser.IsLocked) { if (CreateNewTicket(actUser, false)) { return true; } else { return false; } } else if (actUser.IsLocked) { } } return false; } } The actual problem happens when I try to store data in a database. [HttpPost] public ActionResult Q_FirstPage(ViewModels.Q1_Answer_VM vm) { vm.Qst = new Models.Questionnaire(); vm.Qst.NumericAnswers = new List<Models.NumericAnswer>(); vm.Qst.TextAnswers = new List<Models.TextAnswer>(); vm.Qst.IsComplete = false; vm.Qst.StartedOn = DateTime.Now; vm.Qst.NumericAnswers.Add(vm.Breite); vm.Qst.NumericAnswers.Add(vm.Tiefe); vm.Qst.NumericAnswers.Add(vm.Hoehe); vm.Qst.TextAnswers.Add(vm.Sonstiges); //vm.qst.User_ID = 22; if I set the User ID manually, it works db.Questionnaires.Add(vm.Qst); db.SaveChanges(); return View(); } The Viewmodel works fine and returns the data input, but the UserID is null. The data table \"Questionnaire\" uses the UserID as a foreign key, which makes it throw an error when it comes to the savedata() part because I guess it expects the correct UserID. So I guess I need to get the current UserID, pass it to the instantiated object which is then passed to the data context and then saved into the database. Unfortunately, I find it very hard to find complete information about how user authentication works in ASP.NET. If you need more information, please let me know. This is my Login method: [HttpPost] [ValidateAntiForgeryToken] public ActionResult Login(Login_VM login_vm) { if (!ModelState.IsValid) { return View(login_vm); } if (Authentication.AuthUser(login_vm.Email, login_vm.Password) == true && (login_vm.Email != null || login_vm.Password != null)) { Classes.Authentication.CreateNewTicket(login_vm.usr, true); return RedirectToAction(\"Login\"); } else return View(\"~/Views/Home/Index.cshtml\"); } And this is my registration method: [HttpPost] [ValidateAntiForgeryToken] public ActionResult AddUser(User model) // add new User to db { if (ModelState.IsValid) { User usr = new Models.User(); usr = model; model.Password = Authentication.GetHash(model.Password); db.Users.Add(model); db.SaveChanges(); } return View(); }",
    "code": "public static class Authentication\n{\n    public static bool CreateNewTicket(User user, bool rememberMe)\n    {\n\n        try\n        {\n            FormsAuthenticationTicket ticket = new FormsAuthenticationTicket(\n                1,\n                user.Email,\n                DateTime.Now,\n                DateTime.Now.AddDays(5),\n                rememberMe,\n                user.ID.ToString(),\n                FormsAuthentication.FormsCookiePath\n                );\n\n            string encryptedTicket = FormsAuthentication.Encrypt(ticket);\n\n            HttpCookie cookie = new HttpCookie(FormsAuthentication.FormsCookieName, encryptedTicket);\n            cookie.HttpOnly = true;\n            if (!HttpContext.Current.Request.IsLocal)\n                cookie.Secure = true;\n\n            HttpContext.Current.Response.Cookies.Add(cookie);\n\n            return true;\n        }\n        catch\n        {\n            return false;\n        }\n    }\n    public static bool AuthUser(string Email, string Password)\n    {\n        using (var db = new AntContext())\n        {\n            string password = Password;\n            string email = Email;\n\n            string hashedPW = GetHash(password);\n\n            bool userValid = db.Users.Any(user =&gt; user.Email == email &amp;&amp; user.Password == hashedPW);\n\n            if (userValid)\n            {\n                var actUser = db.Users.FirstOrDefault(u =&gt; u.Email == Email &amp;&amp; u.Password == hashedPW);\n\n                if (!actUser.IsLocked)\n                {\n                    if (CreateNewTicket(actUser, false))\n                    {\n\n                        return true;\n                    }\n                    else\n                    {\n                        return false;\n                    }\n                }\n                else if (actUser.IsLocked)\n                {\n\n\n\n                }\n            }\n            return false;\n\n        }\n    }\n\n\n[HttpPost]\n    public ActionResult Q_FirstPage(ViewModels.Q1_Answer_VM vm)\n    {\n        vm.Qst = new Models.Questionnaire();\n        vm.Qst.NumericAnswers = new List&lt;Models.NumericAnswer&gt;();\n        vm.Qst.TextAnswers = new List&lt;Models.TextAnswer&gt;();\n        vm.Qst.IsComplete = false;\n        vm.Qst.StartedOn = DateTime.Now;\n        vm.Qst.NumericAnswers.Add(vm.Breite);\n        vm.Qst.NumericAnswers.Add(vm.Tiefe);\n        vm.Qst.NumericAnswers.Add(vm.Hoehe);\n        vm.Qst.TextAnswers.Add(vm.Sonstiges);\n\n        //vm.qst.User_ID = 22; if I set the User ID manually, it works\n\n        db.Questionnaires.Add(vm.Qst);\n        db.SaveChanges();\n\n        return View();\n    }\n\n\n [HttpPost]\n    [ValidateAntiForgeryToken]\n    public ActionResult Login(Login_VM login_vm)\n    {\n        if (!ModelState.IsValid)\n        {\n            return View(login_vm);\n        }\n\n        if (Authentication.AuthUser(login_vm.Email, login_vm.Password) == true &amp;&amp; (login_vm.Email != null || login_vm.Password != null))\n        {\n\n            Classes.Authentication.CreateNewTicket(login_vm.usr, true);\n            return RedirectToAction(\"Login\");\n        }\n\n        else\n            return View(\"~/Views/Home/Index.cshtml\");\n    }\n\n\n[HttpPost]\n[ValidateAntiForgeryToken]\npublic ActionResult AddUser(User model)\n// add new User to db\n{\n\n    if (ModelState.IsValid)\n    {\n        User usr = new Models.User();\n        usr = model;\n        model.Password = Authentication.GetHash(model.Password);\n        db.Users.Add(model);\n        db.SaveChanges();\n    }\n    return View();\n}\n\n\nHTTP Error 401.0 - Unauthorized\n\n# Solution Code:\nSystem.Web.HttpContext.Current.User.Identity.Name\n\ndb.Users.Where(x =&gt; x.Email == System.Web.HttpContext.Current.User.Identity.Name).FirstOrDefault().ID;\n\ndb.Users.FirstOrDefault(x =&gt; x.Email == System.Web.HttpContext.Current.User.Identity.Name).ID;",
    "resolution": "Solved the problem by following this link: howto get the user id from a FormsAuthentication page in asp.net MVC? posted by https://stackoverflow.com/users/2516718/derloopkat The System.Web.HttpContext.Current.User.Identity.Name Function returns the \"name\" attribute in the Authentication Ticket, which in my case was the email address. I then got the User ID by having a query to the Users database. db.Users.Where(x => x.Email == System.Web.HttpContext.Current.User.Identity.Name).FirstOrDefault().ID; Thanks for everybody's help. Update in 2020: The query can be simplified to: db.Users.FirstOrDefault(x => x.Email == System.Web.HttpContext.Current.User.Identity.Name).ID;",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net-mvc",
      "forms-authentication"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "46447675",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 18511,
      "stackoverflow_creation_date": "2017-09-27T12:17:59.877Z"
    },
    "idempotency_key": "stackoverflow-46447675",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Multi-Rendering API Engine shader file management",
    "body": "I am developing a 3D engine that is designed to support the implementation of any given graphics API. I would like your feedback on how I'm planning to manage the shader files: I thought about creating a struct that contains 3 string variables, the directory and the file name (both vertex and fragment), something like this: class ShaderFile : public SerializableAsset { std::string nameID; //Identifier std::string directory; std::string vertexName; std::string fragmentName; }; The user would be able to set these variables in the editor. Then, my engine would load the shader files in like: void createShader(RenderAPI api) { ShaderFile shaderFile //Get it from some place std::string vertexPath = shaderFile.directory + shader.vertexName + api.name + api.extension; std::string fragmentPath = shaderFile.directory + shader.fragmentName + api.name + api.extension; //Create shader... } Which would create something like: Project/Assets/Shaders/standardVulkan.spv. Am I thinking in the right direction or is this a completely idiotic approach? Any feedback",
    "code": "class ShaderFile : public SerializableAsset\n{\n    std::string nameID; //Identifier\n    std::string directory;\n    std::string vertexName;\n    std::string fragmentName;\n};\n\n\nvoid createShader(RenderAPI api)\n{\n    ShaderFile shaderFile //Get it from some place\n    std::string vertexPath = shaderFile.directory + shader.vertexName + api.name + api.extension;\n    std::string fragmentPath = shaderFile.directory + shader.fragmentName + api.name + api.extension;\n    //Create shader...\n}\n",
    "severity": "low",
    "tags": [
      "c++",
      "design-patterns",
      "rendering",
      "game-engine"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "46448707",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 568,
      "stackoverflow_creation_date": "2017-09-27T13:06:19.500Z"
    },
    "idempotency_key": "stackoverflow-46448707",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to print the first ten elements from Counter?",
    "body": "With this code, I print all the elements sorted with the most common word used in the textfile first. How do I print only the first ten elements? with open(\"something.txt\") as f: words = Counter(f.read().split()) print(words)",
    "code": "with open(&quot;something.txt&quot;) as f:\n    words = Counter(f.read().split())\nprint(words)\n\n\n# Solution Code:\nwords = Counter(f.read().split()).most_common(10)\n",
    "resolution": "From the docs: most_common([n]) Return a list of the n most common elements and their counts from the most common to the least. If n is omitted or None, most_common() returns all elements in the counter. Elements with equal counts are ordered arbitrarily: I would try: words = Counter(f.read().split()).most_common(10) Source: here",
    "severity": "high",
    "tags": [
      "python",
      "counter"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "46692352",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 13084,
      "stackoverflow_creation_date": "2017-10-11T15:37:36.460Z"
    },
    "idempotency_key": "stackoverflow-46692352",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "ExtensionManager null in Visual Studio 2017",
    "body": "In previous versions of Visual Studio I could use the following code to retrieve information about a certain installed extension (vsix): IVsExtensionManager manager = ServiceProvider.GlobalProvider.GetService(typeof(SVsExtensionManager)) as IVsExtensionManager; if (manager != null) { VsExtension extension = new VsExtension(); IInstalledExtension info = manager.GetInstalledExtension(cExtensionProductId); } In the new Visual Studio 2017 version, the 'manager' variable is always null. Microsoft changed the way to retrieve the information (they no longer use the system registry), but I can't find another way to retrieve the info. Do you know where I can find more information and/or provide a sample of the new implementation? Thank you in advance!",
    "code": "IVsExtensionManager manager = ServiceProvider.GlobalProvider.GetService(typeof(SVsExtensionManager)) as IVsExtensionManager;\nif (manager != null)\n{\n    VsExtension extension = new VsExtension();\n    IInstalledExtension info = manager.GetInstalledExtension(cExtensionProductId);\n}\n\n\nmanager",
    "severity": "medium",
    "tags": [
      "c#",
      "visual-studio-2017",
      "vsix",
      "envdte"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "46744275",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1101,
      "stackoverflow_creation_date": "2017-10-14T11:57:16.193Z"
    },
    "idempotency_key": "stackoverflow-46744275",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to avoid vulnerability detected for netnamedpipeBinding using serface analyzer tool",
    "body": "I am new to WCF and Named pipes. we have created one WCF service, one host application to host the WCF service and UI application. UI application need to call methods of WCF service to perform some action and also need to receive message from the service. both host application and UI application are running on same machine. In host application( to host the WCF service), we used netNamedPipeBinding to create named pipe. below is code snipes string address = 'net.pipe://localhost/xyz/WCFService'; NetNamedPipeBinding binding = new NetNamedPipeBinding(NetNamedPipeSecurityMode.Transport); binding.ReceiveTimeout = TimeSpan.MaxValue; EndpointAddress ep = new EndpointAddress(address); channel = ChannelFactory<WCFServiceLib.ITest1Service>.CreateChannel(binding, ep); channel.start(); but when I tried using Attack Surface Analyzer tool @ http://www.microsoft.com/en-in/download/details.aspx?id=24487 it detected vulnerability with \"m_sf_namespace_pipe\" Attach surface analyzer.exe tool shows 'The following processes were found to have an open handle to this' message 'GENERIC_ALL GENERIC_WRITE WRITE_OWNER WRITE_DAC SECTION_MAP_WRITE' for my UI application. In WCF service, we used default setting, is there something I can control here? is there any way to provide better security/Access control so that analyzer tool should not detect any vulnerability? Thanks",
    "code": "string address = 'net.pipe://localhost/xyz/WCFService';\nNetNamedPipeBinding binding = new \nNetNamedPipeBinding(NetNamedPipeSecurityMode.Transport);\nbinding.ReceiveTimeout = TimeSpan.MaxValue;\nEndpointAddress ep = new EndpointAddress(address);\nchannel = ChannelFactory&lt;WCFServiceLib.ITest1Service&gt;.CreateChannel(binding, \nep);\n",
    "severity": "low",
    "tags": [
      "c#",
      "wcf",
      "wcf-security",
      "netnamedpipebinding"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "46764317",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 245,
      "stackoverflow_creation_date": "2017-10-16T06:41:32.690Z"
    },
    "idempotency_key": "stackoverflow-46764317",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "User defined function on pandas dataframe",
    "body": "Here is my Code: dfnew=pd.DataFrame({ 'year': [2015,2016], 'month': [10, 12], 'day': [25,31]}) print(dfnew) def calc(yy,n): if yy==2016: return yy*2*n else: return yy dfnew['nv']=map(calc, dfnew['year'],2) print(dfnew['nv']) How I can get this code running without error? I want the function to be applied only on the 'Year' column of the dataframe for all rows and store output on a new column named 'nv' of the same dataframe.",
    "code": "dfnew=pd.DataFrame({ 'year': [2015,2016],\n                      'month': [10, 12],\n                      'day': [25,31]}) \nprint(dfnew)\n\ndef calc(yy,n):\n\n    if yy==2016:\n        return yy*2*n\n    else: \n        return yy\n\ndfnew['nv']=map(calc, dfnew['year'],2)    \nprint(dfnew['nv'])\n\n\n# Solution Code:\ndfnew['nv']= dfnew['year'].apply(lambda x: calc(x, 2))\nprint (dfnew)\n   day  month  year    nv\n0   25     10  2015  2015\n1   31     12  2016  8064\n\n\ndfnew['nv']= dfnew['year'].mask(dfnew['year'] == 2016, dfnew['year'] * 2 * 2)\nprint (dfnew)\n   day  month  year    nv\n0   25     10  2015  2015\n1   31     12  2016  8064\n\n\nprint (dfnew['year'] == 2016)\n0    False\n1     True\nName: year, dtype: bool\n\n\napply\n\nmask",
    "resolution": "Need apply for custom function: dfnew['nv']= dfnew['year'].apply(lambda x: calc(x, 2)) print (dfnew) day month year nv 0 25 10 2015 2015 1 31 12 2016 8064 Better is use mask for change values by condition: dfnew['nv']= dfnew['year'].mask(dfnew['year'] == 2016, dfnew['year'] * 2 * 2) print (dfnew) day month year nv 0 25 10 2015 2015 1 31 12 2016 8064 Detail: print (dfnew['year'] == 2016) 0 False 1 True Name: year, dtype: bool",
    "severity": "medium",
    "tags": [
      "python",
      "function",
      "pandas"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "46809615",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 9640,
      "stackoverflow_creation_date": "2017-10-18T11:56:18.107Z"
    },
    "idempotency_key": "stackoverflow-46809615",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Run several maven projects within one repository with GitLab CI",
    "body": "I have one repository in GitLab which contains multiple maven projects in different subfolders. For example, let us say it is: /ProjectA/pom.xml /ProjectB/pom.xml I have two questions here: Can I configure .gitlab-ci.yml so it will run mvn install on each of these projects? Can I configure .gitlab-ci.yml somehow that it will automatically search for pom.xml files within the repo and sequentially run mvn install on all of them? UPD: I have just started working with GitLab and probably miss some important knowledge. But from what I understand, typically I should have a pom.xml file located in the root of the repository. Otherwise I should use a trick described here: How to run Maven from another directory (without cd to project dir)? But this doesn't answer the question about how to run deployment of multiple projects within one repo, and how to automatically search for this projects (if it is possible at all).",
    "code": "/ProjectA/pom.xml\n/ProjectB/pom.xml\n\n\n.gitlab-ci.yml\n\nmvn install\n\n.gitlab-ci.yml\n\npom.xml\n\nmvn install\n\npom.xml",
    "severity": "medium",
    "tags": [
      "git",
      "maven",
      "gitlab",
      "gitlab-ci",
      "gitlab-ci-runner"
    ],
    "metadata": {
      "stackoverflow_question_id": "46915636",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1486,
      "stackoverflow_creation_date": "2017-10-24T16:30:22.463Z"
    },
    "idempotency_key": "stackoverflow-46915636",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "screwy tableview sections in iOS11 - UITableViewAutomaticDimension issues",
    "body": "I have a tableView with collapsable sections. In iOS 10 or earlier, it works perfectly. In iOS 11, the tableView sections create floating section headers and duplicate section headers in the middle of other sections as seen here: I've been researching this issue, and it's been reported elsewhere and discussed here Here is my tableView code: class CollapsibleTableViewController: UITableViewController { var sections = sectionsData override func viewDidLoad() { super.viewDidLoad() let tableView = UITableView.init(frame: CGRect.zero, style: .grouped) // Auto resizing the height of the cell tableView.estimatedRowHeight = 44.0 tableView.rowHeight = UITableViewAutomaticDimension self.title = \"Education\" for index in 0 ..< sections.count { sections[index].collapsed = true } } } override func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -> CGFloat { return 44.0 } override func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -> CGFloat { return 1.0 } override func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat { return UITableViewAutomaticDimension //making this a fixed value fixes the drawing bug but doesn't let the cells autosize } In the other linked question I posted above, responders suggested pre-setting the estimated heights as follows: self.tableView.estimatedRowHeight = 0; self.tableView.estimatedSectionHeaderHeight = 0; self.tableView.estimatedSectionFooterHeight = 0; This fixes the duplicating sections but shrinks down my tableView cells so the label field is no longer visible and the cells don't autosize to show all of the data in them. It's been reported that iOS 11 changes the way tableView heights work by using estimated values. I've also tried using estimated values for all fields as follows: tableView.rowHeight = UITableViewAutomaticDimension tableView.sectionHeaderHeight = UITableViewAutomaticDimension tableView.sectionFooterHeight = UITableViewAutomaticDimension Nothing seems to work to both allow proper autosizing of the cells AND preventing the cells from duplicating with floating section headers. Any thoughts on how to fix this?",
    "code": "class CollapsibleTableViewController: UITableViewController {\n\n    var sections = sectionsData\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n        let tableView = UITableView.init(frame: CGRect.zero, style: .grouped)\n\n\n          // Auto resizing the height of the cell\n        tableView.estimatedRowHeight = 44.0\n        tableView.rowHeight = UITableViewAutomaticDimension\n\n        self.title = \"Education\"\n                for index in 0 ..&lt; sections.count {\n                        sections[index].collapsed = true\n                }\n    }\n}\noverride func tableView(_ tableView: UITableView, heightForHeaderInSection section: Int) -&gt; CGFloat {\n    return 44.0\n}\n\noverride func tableView(_ tableView: UITableView, heightForFooterInSection section: Int) -&gt; CGFloat {\n    return 1.0\n}\noverride func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -&gt; CGFloat {\n    return UITableViewAutomaticDimension   //making this a fixed value fixes the drawing bug but doesn't let the cells autosize\n}\n\n\nself.tableView.estimatedRowHeight = 0;\nself.tableView.estimatedSectionHeaderHeight = 0;\nself.tableView.estimatedSectionFooterHeight = 0;\n\n\ntableView.rowHeight = UITableViewAutomaticDimension\ntableView.sectionHeaderHeight = UITableViewAutomaticDimension          \ntableView.sectionFooterHeight = UITableViewAutomaticDimension\n\n\n# Solution Code:\nviewWillAppear()",
    "resolution": "in viewWillAppear() write your tableViews initial values, than provide a UItableViewAutomaticDimension as follows: tableView.estimatedRowHeight = 75 tableView.rowHeight = UITableViewAutomaticDimension Rinse and repeat as necessary for header, footer, etc.",
    "severity": "low",
    "tags": [
      "ios",
      "swift",
      "uitableview",
      "ios11"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "46945395",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 957,
      "stackoverflow_creation_date": "2017-10-26T03:27:27.257Z"
    },
    "idempotency_key": "stackoverflow-46945395",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Passing forwarding reference as lambda capture",
    "body": "Consider following code: template <typename C> void boo (C&& c) { c (); } template <typename T> void foo (T&& v) { // (X) boo ([&v] () { some_func (std::forward<T> (v)); }); // (Y) } As far as I am concerned v in (X) is a forwarding reference. Is v also a forwarding reference in (Y) if it was captured by reference? Or should I write it differently to take advantage of forwarding?",
    "code": "template &lt;typename C&gt;\nvoid boo (C&amp;&amp; c) {\n    c ();\n}\n\ntemplate &lt;typename T&gt;\nvoid foo (T&amp;&amp; v) { // (X)\n    boo ([&amp;v] () { some_func (std::forward&lt;T&gt; (v)); }); // (Y)\n}\n\n\nv\n\n(X)\n\nv\n\n(Y)\n\n# Solution Code:\nsome_func (std::forward&lt;T&gt; (v));\n\n\nsome_func (std::forward&lt;T&gt; (this_closure-&gt;v));\n\n\nv\n\n(X)\n\nv\n\n(Y)\n\nv\n\nv\n\nstd::forward\n\nv\n\nfoo\n\nstd::forward&lt;X&gt;(x)\n\nX\n\nx\n\nX&amp;&amp;\n\nX\n\nx\n\nX&amp;\n\nv\n\nstd::forward&lt;T&gt;\n\nfoo\n\nfoo\n\nforward",
    "resolution": "As far as I am concerned v in (X) is a forwarding reference. Correct. Is v also a forwarding reference in (Y) if it was captured by reference? No, v inside the body of the lambda refers to the anonymous closure instance's member variable v. Read some_func (std::forward<T> (v)); as some_func (std::forward<T> (this_closure->v)); Regardless, your use of std::forward here is correct - it will propagate temporariness if the v passed to foo was an rvalue. This is because std::forward<X>(x) does this: If X is a value type or an rvalue reference type, it casts x to X&&. If X is an lvalue reference type, it casts x to X&. v inside the lambda body is always an lvalue, but std::forward<T> depends on the type of the original type passed to foo. If you are sure that the lambda will be invoked once in the same call stack as the foo invocation, it is safe to capture by reference and forward in the body. Otherwise, you might want to \"capture by perfect-forwarding\".",
    "severity": "medium",
    "tags": [
      "c++",
      "c++11",
      "lambda"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "47100177",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1304,
      "stackoverflow_creation_date": "2017-11-03T16:16:58.177Z"
    },
    "idempotency_key": "stackoverflow-47100177",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to interpret the second part of an auto arima result in R?",
    "body": "I am performing a time series analysis on my data and I have run the auto arima function to determine the best coefficients to use in my ARIMA model. model1 <- auto.arima(log(mydata_ts)) model1 Series: log(mydata_ts) ARIMA(2,1,1)(1,0,0)[12] Coefficients: ar1 ar2 ma1 sar1 -1.1413 -0.3872 0.9453 0.7572 s.e. 0.1432 0.1362 0.0593 0.0830 sigma^2 estimated as 0.006575: log likelihood=48.35 AIC=-86.69 AICc=-85.23 BIC=-77.44 I understand that (2,1,1) in the result above refer to the values of p, d and q that will be used in the ARIMA model. But what about (1,0,0)?",
    "code": "model1 &lt;- auto.arima(log(mydata_ts))\nmodel1\n\nSeries: log(mydata_ts) \nARIMA(2,1,1)(1,0,0)[12] \n\nCoefficients:\n          ar1      ar2     ma1    sar1\n      -1.1413  -0.3872  0.9453  0.7572\ns.e.   0.1432   0.1362  0.0593  0.0830\n\nsigma^2 estimated as 0.006575:  log likelihood=48.35\nAIC=-86.69   AICc=-85.23   BIC=-77.44\n\n\ntime series\n\nARIMA\n\nARIMA\n\n# Solution Code:\nARIMA(2,1,1)(1,0,0)[12]\n\n[12]\n\n(1,0,0)",
    "resolution": "ARIMA(2,1,1)(1,0,0)[12] is seasonal ARIMA. [12] stands for number of periods in season, i.e. months in year in this case. (1,0,0) stands for seasonal part of model. Take a look at this.",
    "severity": "medium",
    "tags": [
      "r",
      "time-series",
      "arima"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "47119765",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7249,
      "stackoverflow_creation_date": "2017-11-05T08:47:42.370Z"
    },
    "idempotency_key": "stackoverflow-47119765",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "AVPlayer won't let me access URL",
    "body": "I am Attempting very simple Xcode OS X program with swift 4.0 - this program builds and runs but I'm getting errors accessing the URL video file. Probably related to privilege or security setting somewhere but can't figure out where. Here is my program under class ViewController: NSViewController: @IBOutlet var playerView: AVPlayerView! //var url: URL! override func viewDidLoad() { super.viewDidLoad() // Do any additional setup after loading the view. // guard let url = URL(string: \"https://devimages.apple.com.edgekey.net/samplecode/avfoundationMedia/AVF oundationQueuePlayer_HLS2/master.m3u8\") // else { // return // } let url1 = URL(string: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\") let player = AVPlayer(url: url1!) // Create a new AVPlayer and associate it with the player view let playerView = self.playerView playerView?.player = player playerView?.player!.play(); } Also I have modified the info.plist file with the following: <key>NSAppTransportSecurity</key> <dict> <key>NSAllowsArbitraryLoads</key> <true/> <key>NSAllowsArbitraryLoadsInWebContent</key> <true/> <key>NSExceptionDomains</key> <dict/> </dict> I get the following runtime errors trying to access either of the URLs above why? 2017-11-05 10:12:21.757333-0800 AVPlayer[54381:5617593] startLogging: logging starts... 2017-11-05 10:12:21.758024-0800 AVPlayer[54381:5617612] setMessageLoggingBlock: called 2017-11-05 10:12:21.758520-0800 AVPlayer[54381:5617612] initWithSessionInfo: XPC connection interrupted 2017-11-05 10:12:21.758842-0800 AVPlayer[54381:5617612] startConfigurationWithCompletionHandler: Failed to get remote object proxy: Error Domain=NSCocoaErrorDomain Code=4097 \"connection to service named com.apple.rtcreportingd\" UserInfo={NSDebugDescription=connection to service named com.apple.rtcreportingd} 2017-11-05 10:12:21.759003-0800 AVPlayer[54381:5617612] startConfigurationWithCompletionHandler: Failed to get remote object proxy: Error Domain=NSCocoaErrorDomain Code=4097 \"connection to service named com.apple.rtcreportingd\" UserInfo={NSDebugDescription=connection to service named com.apple.rtcreportingd} 2017-11-05 10:12:21.925221-0800 AVPlayer[54381:5617654] App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app's Info.plist file.",
    "code": "@IBOutlet var playerView: AVPlayerView!\n//var url: URL!\n\noverride func viewDidLoad() {\n    super.viewDidLoad()\n\n    // Do any additional setup after loading the view.\n\n    // guard let url = URL(string: \"https://devimages.apple.com.edgekey.net/samplecode/avfoundationMedia/AVF oundationQueuePlayer_HLS2/master.m3u8\")\n    //    else {\n    //        return\n    //    }\n\n   let url1 = URL(string: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\")\n\n\n    let player = AVPlayer(url: url1!)\n    // Create a new AVPlayer and associate it with the player view\n\n    let playerView = self.playerView\n    playerView?.player = player\n    playerView?.player!.play();\n}\n\n\n&lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n&lt;dict&gt;\n    &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;NSAllowsArbitraryLoadsInWebContent&lt;/key&gt;\n    &lt;true/&gt;\n    &lt;key&gt;NSExceptionDomains&lt;/key&gt;\n    &lt;dict/&gt;\n&lt;/dict&gt;\n\n\n# Solution Code:\n @IBOutlet weak var playerView: AVPlayerView!\n\n\nimport Cocoa\nimport AVKit\n\nclass ViewController: NSViewController {\n\n    @IBOutlet weak var playerView: AVPlayerView!\n\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        let fileURL = URL(string: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\")\n        let avAsset = AVURLAsset(url: fileURL!, options: nil)\n\n        let playerItem = AVPlayerItem(asset: avAsset)\n        let videoPlayer = AVPlayer(playerItem: playerItem)\n        playerView.player = videoPlayer\n        videoPlayer.play()\n    }\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"&gt;\n&lt;plist version=\"1.0\"&gt;\n&lt;dict&gt;\n    &lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;\n    &lt;string&gt;$(DEVELOPMENT_LANGUAGE)&lt;/string&gt;\n    &lt;key&gt;CFBundleExecutable&lt;/key&gt;\n    &lt;string&gt;$(EXECUTABLE_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundleIconFile&lt;/key&gt;\n    &lt;string&gt;&lt;/string&gt;\n    &lt;key&gt;CFBundleIdentifier&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_BUNDLE_IDENTIFIER)&lt;/string&gt;\n    &lt;key&gt;CFBundleInfoDictionaryVersion&lt;/key&gt;\n    &lt;string&gt;6.0&lt;/string&gt;\n    &lt;key&gt;CFBundleName&lt;/key&gt;\n    &lt;string&gt;$(PRODUCT_NAME)&lt;/string&gt;\n    &lt;key&gt;CFBundlePackageType&lt;/key&gt;\n    &lt;string&gt;APPL&lt;/string&gt;\n    &lt;key&gt;CFBundleShortVersionString&lt;/key&gt;\n    &lt;string&gt;1.0&lt;/string&gt;\n    &lt;key&gt;CFBundleVersion&lt;/key&gt;\n    &lt;string&gt;1&lt;/string&gt;\n    &lt;key&gt;LSMinimumSystemVersion&lt;/key&gt;\n    &lt;string&gt;$(MACOSX_DEPLOYMENT_TARGET)&lt;/string&gt;\n    &lt;key&gt;NSHumanReadableCopyright&lt;/key&gt;\n    &lt;string&gt;Copyright © 2017 :) &lt;/string&gt;\n    &lt;key&gt;NSMainStoryboardFile&lt;/key&gt;\n    &lt;string&gt;Main&lt;/string&gt;\n    &lt;key&gt;NSPrincipalClass&lt;/key&gt;\n    &lt;string&gt;NSApplication&lt;/string&gt;\n    &lt;key&gt;NSAppTransportSecurity&lt;/key&gt;\n    &lt;dict&gt;\n        &lt;key&gt;NSAllowsArbitraryLoads&lt;/key&gt;\n        &lt;true/&gt;\n    &lt;/dict&gt;\n&lt;/dict&gt;\n&lt;/plist&gt;\n\n\nAVPlayerView\n\nViewController\n\nViewController\n\nAVPlayerView\n\nViewController\n\nAVKit Player View\n\nViewController\n\noutlet\n\nViewController\n\nvideoPlayer\n\nlet playerView = self.playerView\n\nHTTPS\n\nHTTP\n\ninfo.plist\n\n.plist\n\nNSAppTransportSecurity\n\nOutgoing Connections (Client)\n\nCapabilities",
    "resolution": "I found your question after you commented on a question I had answered previously, so lets continue here :) I can get your code working by combining my original answer to that question with the answer provided by @callam above so...give him the credit for the correct answer :) To summarize, you need to: Add a AVPlayerView to your Storyboard and connect it to your ViewController Setup your ViewController Manage App Transport Security and the outgoing connection. In greater detail 1. Add a AVPlayerView to your Storyboard and connect it to your ViewController Drag a AVKit Player View to your view in the storyboard In your ViewController class, create an outlet for the view: @IBOutlet weak var playerView: AVPlayerView! And connect it. 2. Setup your ViewController Here is my code: import Cocoa import AVKit class ViewController: NSViewController { @IBOutlet weak var playerView: AVPlayerView! override func viewDidLoad() { super.viewDidLoad() let fileURL = URL(string: \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\") let avAsset = AVURLAsset(url: fileURL!, options: nil) let playerItem = AVPlayerItem(asset: avAsset) let videoPlayer = AVPlayer(playerItem: playerItem) playerView.player = videoPlayer videoPlayer.play() } } Seems familiar no :) Notice I create the videoPlayer right here, no need to for me to use the let playerView = self.playerView you mention in your comments. If you just do these two steps, you end up with a player view that cannot play video and errors in your console. So you need to add the final piece to the puzzle, kindly provided by @callam above. 3. Manage App Transport Security and the outgoing connection. First, if you cannot use a HTTPS connection you must allow HTTP connections in your info.plist file. Here is my .plist file in its entirety <?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE plist PUBLIC \"-//Apple//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\"> <plist version=\"1.0\"> <dict> <key>CFBundleDevelopmentRegion</key> <string>$(DEVELOPMENT_LANGUAGE)</string> <key>CFBundleExecutable</key> <string>$(EXECUTABLE_NAME)</string> <key>CFBundleIconFile</key> <string></string> <key>CFBundleIdentifier</key> <string>$(PRODUCT_BUNDLE_IDENTIFIER)</string> <key>CFBundleInfoDictionaryVersion</key> <string>6.0</string> <key>CFBundleName</key> <string>$(PRODUCT_NAME)</string> <key>CFBundlePackageType</key> <string>APPL</string> <key>CFBundleShortVersionString</key> <string>1.0</string> <key>CFBundleVersion</key> <string>1</string> <key>LSMinimumSystemVersion</key> <string>$(MACOSX_DEPLOYMENT_TARGET)</string> <key>NSHumanReadableCopyright</key> <string>Copyright © 2017 :) </string> <key>NSMainStoryboardFile</key> <string>Main</string> <key>NSPrincipalClass</key> <string>NSApplication</string> <key>NSAppTransportSecurity</key> <dict> <key>NSAllowsArbitraryLoads</key> <true/> </dict> </dict> </plist> The important part being the NSAppTransportSecurity part And then finally, you must enable Outgoing Connections (Client) under Capabilities of your project If I do that, I end up with this: But notice though, that I still see errors in the console. Hope you are able to get to the same result following these steps :)",
    "severity": "medium",
    "tags": [
      "swift",
      "xcode",
      "avplayer"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "47127618",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5342,
      "stackoverflow_creation_date": "2017-11-05T23:08:24.720Z"
    },
    "idempotency_key": "stackoverflow-47127618",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "spring jpa nested projection generating incorrect query",
    "body": "Lets consider these entities @Entity public class Room{ @Id private Integer id; private String number; private String floor; @ManyToOne private RoomType roomType; // Setters & Getters } @Entity public class RoomType{ @Id private Integer id; private String name; private String description; private Boolean enabled; // Setters & Getters } And also this interface for projection alongside repository class public interface RoomList{ public Number getId(); public String getNumber(); public RoomType getRoomType(); interface RoomType { String getName(); } } @Repository public interface RoomRepository extends JpaRepository<Room,Integer>{ public Collection<RoomList> findAllProjectedBy(); } Now if I look at generated SQL select room0_.id as col_0_0_, room0_.number as col_1_0_, roomtype1_.id as id1_3_, roomtype1_.description as descript2_3_, roomtype1_.enabled as isActive3_3_, roomtype1_.name as name5_3_ from Room room0_ inner join roomType roomtype1_ on room0_.roomType_id=roomtype1_.id The generated query should be something like this select room0_.id as col_0_0_, room0_.number as col_1_0_, roomtype1_.name as name5_3_ from Room room0_ inner join roomType roomtype1_ on room0_.roomType_id=roomtype1_.id Can someone explain this behaviour or either this is a bug ? also what other options do we have achieve this kind of result. I already tried JPA entitygraph but graph type fetch is not yet fully supported in hibernate, i don't want to use constructor jpql query either. Thanks !",
    "code": "select\n    room0_.id as col_0_0_,\n    room0_.number as col_1_0_,\n    roomtype1_.id as id1_3_,\n    roomtype1_.description as descript2_3_,\n    roomtype1_.enabled as isActive3_3_,\n    roomtype1_.name as name5_3_ \nfrom\n    Room room0_ \ninner join\n    roomType roomtype1_ \n        on room0_.roomType_id=roomtype1_.id\n\n\nselect\n    room0_.id as col_0_0_,\n    room0_.number as col_1_0_,\n    roomtype1_.name as name5_3_ \nfrom\n    Room room0_ \ninner join\n    roomType roomtype1_ \n        on room0_.roomType_id=roomtype1_.id\n",
    "severity": "medium",
    "tags": [
      "hibernate",
      "spring-data-jpa",
      "projection"
    ],
    "metadata": {
      "stackoverflow_question_id": "47159647",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 3655,
      "stackoverflow_creation_date": "2017-11-07T13:51:10.360Z"
    },
    "idempotency_key": "stackoverflow-47159647",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to exclude whole word only in negative lookahead",
    "body": "I have the following regex: ^(?!FIT|FAT|FUTURE)[F-I].* [F-I] shows that any words starting with F to I should match apart from the given list of words that shouldn't match. Currently, it doesn't match a word like FITTER, but I only want the regex to not match if it's a whole word such as FIT, FAT and FUTURE. These are following scenarios I want it to work for: Matches FUTURE-YES FITTER GOOD ITCHY Non Matches FIT FAT FUTURE",
    "code": "^(?!FIT|FAT|FUTURE)[F-I].*\n\n\nFUTURE-YES\nFITTER\nGOOD\nITCHY\n\n\nFIT\nFAT\nFUTURE\n\n\n[F-I]\n\nF\n\nI\n\nFITTER\n\nFIT\n\nFAT\n\nFUTURE\n\n# Solution Code:\n^(?!(?:FIT|FAT|FUTURE)(?![\\w-]))[F-I][\\w-]*$\n\n\nFUTURE-YES\nFITTER\nGOOD\nITCHY\n\nFIT\nFAT\nFUTURE\n\n\nFUTURE-YES\nFITTER\nGOOD\nITCHY\n\n\n\\b\n\n-\n\n^\n\n(?!(?:FIT|FAT|FUTURE)(?![\\w-]))\n\n(?:FIT|FAT|FUTURE)\n\nFIT\n\nFAT\n\nFUTURE\n\n(?![\\w-])\n\n-\n\n[F-I]\n\nF\n\nI\n\nFGHI\n\n[\\w-]*\n\n-\n\n$",
    "resolution": "Brief Usually, you would use word boundaries \\b to ensure the edge of a word. In your case, however, you have some words that use hyphens -, thus, this is likely the solution you're looking for. Code See regex in use here ^(?!(?:FIT|FAT|FUTURE)(?![\\w-]))[F-I][\\w-]*$ Results Input FUTURE-YES FITTER GOOD ITCHY FIT FAT FUTURE Output Note: Shown below are matches FUTURE-YES FITTER GOOD ITCHY Explanation ^ Assert position at the start of the line (?!(?:FIT|FAT|FUTURE)(?![\\w-])) Negative lookahead ensuring what follows does not match (?:FIT|FAT|FUTURE) Match either FIT, FAT or FUTURE literally (?![\\w-]) Negative lookahead ensuring what follows does not match a word character or hyphen - [F-I] Match a character between F and I (FGHI) [\\w-]* Match any word character or hyphen - character any number of times $ Assert position at the end of the line",
    "severity": "medium",
    "tags": [
      "regex"
    ],
    "metadata": {
      "stackoverflow_question_id": "47334839",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2631,
      "stackoverflow_creation_date": "2017-11-16T16:36:02.773Z"
    },
    "idempotency_key": "stackoverflow-47334839",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Angular 5 - how to keep auto recompiling on file changes even after errors (webpack failed to compile)",
    "body": "I've just very recently started using Angular5. I've created a project, and use ng serve to launch it - which seems to take ages to initially start up for me, easily 5-10 minutes or more. Not sure if this is normal, but maybe in some way related to slow network drives or anything else in the IT environment here. Anyway, once it has finally launched, things are smooth as it recompiles on the fly upon any changes. But sometimes, for certain mistakes in the source code (eg trying to import a module from an invalid path), compilation seems to fail and ng ends with \"webpack: Failed to compile\" If that happens, it seems Angular stops listening to file changes / stops automatically recompiling, and is gone for good - unless I shut down with Ctrl+C and run ng serve again. Which leaves me waiting for 5-10 minutes again... So, question is: Is this expected behavior? Is there any way to have Angular continue to monitor file changes and recompile automatically, even when one of those more serious errors have happened? Thanks",
    "code": "ng serve\n",
    "severity": "medium",
    "tags": [
      "angular",
      "angular5"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "47347326",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1036,
      "stackoverflow_creation_date": "2017-11-17T09:33:11.507Z"
    },
    "idempotency_key": "stackoverflow-47347326",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Does Perl 6 have an equivalent to Python's update method on dictionary?",
    "body": "In Python, if I update the dict dictionary with another dict called u(use Perl as key), it will update the value: >>> dict = {'Python':'2', 'Perl' : 5} >>> u = {'Perl' : 6} >>> dict.update(u) >>> dict {'Python': '2', 'Perl': 6} but in Perl 6 : > my %hash = 'Python' => 2, Perl => 5; > my %u = Perl => 6 > %hash.append(%u) {Perl => [5 6], Python => 2} So, Does Perl 6 have an equivalent to Python's update method on dictionary?",
    "code": "&gt;&gt;&gt; dict = {'Python':'2', 'Perl' : 5}\n&gt;&gt;&gt; u = {'Perl' : 6}\n&gt;&gt;&gt; dict.update(u)\n&gt;&gt;&gt; dict\n{'Python': '2', 'Perl': 6}\n\n\n&gt; my %hash = 'Python' =&gt; 2, Perl =&gt; 5;\n&gt; my %u = Perl =&gt; 6\n&gt; %hash.append(%u)\n{Perl =&gt; [5 6], Python =&gt; 2}\n\n\ndict\n\nu\n\nPerl\n\n# Solution Code:\nmy %u = Perl =&gt; 6;\nmy %hash = 'Python' =&gt; 2, Perl =&gt; 5;\n%hash = %hash, %u;\nsay %hash;   # =&gt; {Perl =&gt; 6, Python =&gt; 2}\n\n\n%hash ,= %u;\n\n\n,",
    "resolution": "You can use the , operator to do the update: my %u = Perl => 6; my %hash = 'Python' => 2, Perl => 5; %hash = %hash, %u; say %hash; # => {Perl => 6, Python => 2} And of course you can shorten the updating line to %hash ,= %u;",
    "severity": "medium",
    "tags": [
      "raku"
    ],
    "metadata": {
      "stackoverflow_question_id": "47407372",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 416,
      "stackoverflow_creation_date": "2017-11-21T07:20:54.333Z"
    },
    "idempotency_key": "stackoverflow-47407372",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Programmatically set System Time",
    "body": "I realise this question appears elsewhere on SO, however I've tried all solutions that I can find on the site and am still having difficulty. These questions (and their answers) are also several years old, and rather than commenting on old questions, I thought I'd consolidate information here for others and investigate potentially related changes to Android between then and now. Still, if you feel this question qualifies as a duplicate, mark it as such. Edit: As I stated, other answers on SO have not solved the problem. I don't see how commenting on each and every potential fix with \"Doesn't work for me\" is conducive to helping myself and others solve the problem, but if that's the case, so be it. For reference, 3 people have marked the questions as a potential duplicate of this question, so I have added those non-working answers to the list below. My application has some very specific needs, but for the sake of brevity, let's just assume I need to set the system time and date manually to a fixed value. Below I have detailed some notes about my progress in attempting to get this working. The app has a minimum SDK version of, and is targeting, 24. Others found that they needed to increase the version to this level. The device has been rooted, and the application is being installed to /system/app so that I can change the date/time. Some have commented that it is outright impossible for apps to set the time, however looking at apps such as ClockSync, this does not seem to be the case. I'm aware that my app will not be available on the Play store. The app must set the date/time automatically without user input, so using the following code to make a user set it will not help; startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS)); I added the set time permission to the manifest in two ways, on their own and then together. I also tried adding the part about removing the maxSDKversion. <uses-permission android:name=\"android.permission.SET_TIME\" tools:remove=\"android:maxSdkVersion\" /> <permission android:name=\"android.permission.SET_TIME\" android:protectionLevel=\"signature|system\"/> I had read that certain permissions required not only a manifest entry, but for the user to accept and allow them. However, SET_TIME is not listed among these. I did try doing it anyway, however my permission request was automatically rejected without showing the confirmation box, probably because it did not actually require the permission in the first place. The code I'm using to try and set the time is as follows: try { Calendar c = Calendar.getInstance(); c.set(2017, 11, 21, 12, 32, 30); AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE); am.setTime(c.getTimeInMillis()); } catch (Exception e) { Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show(); } The error I receive in a toast when this fails is: java.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME I have tried the two solutions in the question referenced in my above edit, both of which involve running code to set the date as such: Runtime.getRuntime().exec(\"su && date -s 20171122.153720\");} Both of those answers do nothing - the time does not change and no exceptions are thrown. The other answer requires internet access which is outside the scope of my question. Considering all of the above, is there any key step I have missed in making this work, or anything in the code that would indicate a problem?",
    "code": "startActivity(new Intent(android.provider.Settings.ACTION_DATE_SETTINGS));\n\n\n&lt;uses-permission android:name=\"android.permission.SET_TIME\" tools:remove=\"android:maxSdkVersion\" /&gt;\n\n&lt;permission android:name=\"android.permission.SET_TIME\"\n    android:protectionLevel=\"signature|system\"/&gt;\n\n\ntry {\n        Calendar c = Calendar.getInstance();\n        c.set(2017, 11, 21, 12, 32, 30);\n        AlarmManager am = (AlarmManager) this.getSystemService(Context.ALARM_SERVICE);\n        am.setTime(c.getTimeInMillis());\n    } catch (Exception e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n\n\njava.lang.securityexception: setTime: neither user 10051 nor current process has android.permission.SET_TIME\n\n\nRuntime.getRuntime().exec(\"su &amp;&amp; date -s 20171122.153720\");}\n\n\n# Solution Code:\n     try {\n\n        Process process = Runtime.getRuntime().exec(\"su\");\n        DataOutputStream os = new DataOutputStream(process.getOutputStream());\n        String command = \"date 1123104017\\n\";\n        // Log.e(\"command\",command);\n        os.writeBytes(command);\n        os.flush();\n        os.writeBytes(\"exit\\n\");\n        os.flush();\n        process.waitFor();\n\n    } catch (InterruptedException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    } catch (IOException e) {\n        Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show();\n    }\n",
    "resolution": "As it turns out, the answer did lie in the referenced question found here. However, the command is different for Android 7 (and possibly 6, I have not tested) devices. I do not have the reputation to comment over there, so if someone wishes to paste/reference this answer on that question, go right ahead. The date code I used was in the format MMddhhmmyy, rather than yyyyMMdd.hhmmss; this works for me on Android 7. I also removed the appended '-s'. The full working code I used to set the system time is below. Again it should be noted that this requires rooting the device so is only useful in certain scenarios like mine. try { Process process = Runtime.getRuntime().exec(\"su\"); DataOutputStream os = new DataOutputStream(process.getOutputStream()); String command = \"date 1123104017\\n\"; // Log.e(\"command\",command); os.writeBytes(command); os.flush(); os.writeBytes(\"exit\\n\"); os.flush(); process.waitFor(); } catch (InterruptedException e) { Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show(); } catch (IOException e) { Toast.makeText(getApplicationContext(), e.toString(), Toast.LENGTH_SHORT).show(); } The date I entered, for clarity, is November 23rd 2017 at 10:40 AM.",
    "severity": "high",
    "tags": [
      "java",
      "android",
      "date",
      "time"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "47437547",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 10797,
      "stackoverflow_creation_date": "2017-11-22T14:47:15.047Z"
    },
    "idempotency_key": "stackoverflow-47437547",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "When does Chapel pass by reference and when by constant?",
    "body": "I am looking for examples of Chapel passing by reference. This example works but it seems like bad form since I am \"returning\" the input. Does this waste memory? Is there an explicit way to operate on a class? class PowerPuffGirl { var secretIngredients: [1..0] string; } var bubbles = new PowerPuffGirl(); bubbles.secretIngredients.push_back(\"sugar\"); bubbles.secretIngredients.push_back(\"spice\"); bubbles.secretIngredients.push_back(\"everything nice\"); writeln(bubbles.secretIngredients); proc kickAss(b: PowerPuffGirl) { b.secretIngredients.push_back(\"Chemical X\"); return b; } bubbles = kickAss(bubbles); writeln(bubbles.secretIngredients); And it produces the output sugar spice everything nice sugar spice everything nice Chemical X What is the most efficient way to use a function to modify Bubbles?",
    "code": "class PowerPuffGirl {\n  var secretIngredients: [1..0] string;\n}\n\nvar bubbles = new PowerPuffGirl();\nbubbles.secretIngredients.push_back(\"sugar\");\nbubbles.secretIngredients.push_back(\"spice\");\nbubbles.secretIngredients.push_back(\"everything nice\");\n\nwriteln(bubbles.secretIngredients);\n\nproc kickAss(b: PowerPuffGirl) {\n  b.secretIngredients.push_back(\"Chemical X\");\n  return b;\n}\n\nbubbles = kickAss(bubbles);\nwriteln(bubbles.secretIngredients);\n\n\nsugar spice everything nice\nsugar spice everything nice Chemical X\n\n\n# Solution Code:\nproc increment(ref x:int) { // 'ref' here is an argument intent\n  x += 1;\n}\nvar x:int = 5;\nincrement(x);\nwriteln(x);                 // outputs 6\n\n\nproc kickAss(b: PowerPuffGirl) {\n  b.secretIngredients.push_back(\"Chemical X\");\n  return b;\n}\n\n\nproc identity(A) {\n  return A;\n} \nvar A:[1..100] int;\nwriteln(identity(A));\n\n\nproc refIdentity(ref arg) ref {\n  return arg;\n}\nvar B:[1..10] int;\nwriteln(refIdentity(B));\n\n\nconst ref\n\nref\n\nconst ref\n\nref\n\nb\n\nreturn b\n\nsecretIngredients\n\nreturn A\n\nidentity()\n\nidentity()\n\nconst ref\n\nref\n\nconst ref\n\nB",
    "resolution": "Whether Chapel passes an argument by reference or not can be controlled by the argument intent. For example, integers normally pass by value but we can pass one by reference: proc increment(ref x:int) { // 'ref' here is an argument intent x += 1; } var x:int = 5; increment(x); writeln(x); // outputs 6 The way that a type passes when you don't specify an argument is known as the default intent. Chapel passes records, domains, and arrays by reference by default; but of these only arrays are modifiable inside the function. ( Records and domains pass by const ref - meaning they are passed by reference but that the function they are passed to cannot modify them. Arrays pass by ref or const ref depending upon what the function does with them - see array default intent ). Now, to your question specifically, class instances pass by \"value\" by default, but Chapel considers the \"value\" of a class instance to be a pointer. That means that instead of allowing a field (say) to be mutated, passing a class instance by ref just means that it could be replaced with a different class instance. There isn't currently a way to say that a class instance's fields should not be modifiable in the function (other than making them to be explicitly immutable data types). Given all of that, I don't see any inefficiencies with the code sample you provided in the question. In particular, here: proc kickAss(b: PowerPuffGirl) { b.secretIngredients.push_back(\"Chemical X\"); return b; } the argument accepting b will receive a copy of the pointer to the instance and the return b will return a copy of that pointer. The contents of the instance (in particular the secretIngredients array) will remain stored where it was and won't be copied in the process. One more thing: This example works but it seems like bad form since I am \"returning\" the input. As I said, this isn't really a problem for class instances or integers. What about an array? proc identity(A) { return A; } var A:[1..100] int; writeln(identity(A)); In this example, the return A in identity() actually does cause a copy of the array to be made. That copy wasn't created when passing the array in to identity(), since the array was passed by with a const ref intent. But, since the function returns something \"by value\" that was a reference, it's necessary to copy it as part of returning. See also arrays return by value by default in the language evolution document. In any case, if one wants to return an array by reference, it's possible to do so with the ref or const ref return intent, e.g.: proc refIdentity(ref arg) ref { return arg; } var B:[1..10] int; writeln(refIdentity(B)); Now there is no copy of the array and everything is just referring to the same B. Note though that it's currently possible to write programs that return a reference to a variable that no longer exists. The compiler includes some checking in that area but it's not complete. Hopefully improvements in that area are coming soon.",
    "severity": "low",
    "tags": [
      "pass-by-reference",
      "chapel"
    ],
    "metadata": {
      "stackoverflow_question_id": "47557698",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 294,
      "stackoverflow_creation_date": "2017-11-29T16:43:25.617Z"
    },
    "idempotency_key": "stackoverflow-47557698",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Returning probabilities in a classification prediction in Keras?",
    "body": "I am trying to make a simple proof-of-concept where I can see the probabilities of different classes for a given prediction. However, everything I try seems to only output the predicted class, even though I am using a softmax activation. I am new to machine learning, so I'm not sure if I am making a simple mistake or if this is a feature not available in Keras. I'm using Keras + TensorFlow. I have adapted one of the basic examples given by Keras for classifying the MNIST dataset. My code below is exactly the same as the example, except for a few (commented) extra lines that exports the model to a local file. '''Trains a simple deep NN on the MNIST dataset. Gets to 98.40% test accuracy after 20 epochs (there is *a lot* of margin for parameter tuning). 2 seconds per epoch on a K520 GPU. ''' from __future__ import print_function import keras from keras.datasets import mnist from keras.models import Sequential from keras.layers import Dense, Dropout from keras.optimizers import RMSprop import h5py # added import because it is required for model.save model_filepath = 'test_model.h5' # added filepath config batch_size = 128 num_classes = 10 epochs = 20 # the data, shuffled and split between train and test sets (x_train, y_train), (x_test, y_test) = mnist.load_data() x_train = x_train.reshape(60000, 784) x_test = x_test.reshape(10000, 784) x_train = x_train.astype('float32') x_test = x_test.astype('float32') x_train /= 255 x_test /= 255 print(x_train.shape[0], 'train samples') print(x_test.shape[0], 'test samples') # convert class vectors to binary class matrices y_train = keras.utils.to_categorical(y_train, num_classes) y_test = keras.utils.to_categorical(y_test, num_classes) model = Sequential() model.add(Dense(512, activation='relu', input_shape=(784,))) model.add(Dropout(0.2)) model.add(Dense(512, activation='relu')) model.add(Dropout(0.2)) model.add(Dense(num_classes, activation='softmax')) model.summary() model.compile(loss='categorical_crossentropy', optimizer=RMSprop(), metrics=['accuracy']) history = model.fit(x_train, y_train, batch_size=batch_size, epochs=epochs, verbose=1, validation_data=(x_test, y_test)) score = model.evaluate(x_test, y_test, verbose=0) print('Test loss:', score[0]) print('Test accuracy:', score[1]) model.save(model_filepath) # added saving model print('Model saved') # added log Then the second part of this is a simple script that should import the model, predict the class for some given data, and print out the probabilities for each class. (I am using the same mnist class included with the Keras codebase to make an example as simple as possible). import keras from keras.datasets import mnist from keras.models import Sequential import keras.backend as K import numpy # loading model saved locally in test_model.h5 model_filepath = 'test_model.h5' prev_model = keras.models.load_model(model_filepath) # these lines are copied from the example for loading MNIST data (x_train, y_train), (x_test, y_test) = mnist.load_data() x_train = x_train.reshape(60000, 784) # for this example, I am only taking the first 10 images x_slice = x_train[slice(1, 11, 1)] # making the prediction prediction = prev_model.predict(x_slice) # logging each on a separate line for single_prediction in prediction: print(single_prediction) If I run the first script to export the model, then the second script to classify some examples, I get the following output: [ 1. 0. 0. 0. 0. 0. 0. 0. 0. 0.] [ 0. 0. 0. 0. 1. 0. 0. 0. 0. 0.] [ 0. 1. 0. 0. 0. 0. 0. 0. 0. 0.] [ 0. 0. 0. 0. 0. 0. 0. 0. 0. 1.] [ 0. 0. 1. 0. 0. 0. 0. 0. 0. 0.] [ 0. 1. 0. 0. 0. 0. 0. 0. 0. 0.] [ 0. 0. 0. 1. 0. 0. 0. 0. 0. 0.] [ 0. 1. 0. 0. 0. 0. 0. 0. 0. 0.] [ 0. 0. 0. 0. 1. 0. 0. 0. 0. 0.] [ 0. 0. 0. 1. 0. 0. 0. 0. 0. 0.] This is great for seeing which class each is predicted to be, but what if I want to see the relative probabilities of each class for each example? I am looking for something more like this: [ 0.94 0.01 0.02 0. 0. 0.01 0. 0.01 0.01 0.] [ 0. 0. 0. 0. 0.51 0. 0. 0. 0.49 0.] ... In other words, I need to know how sure each prediction is, not just the prediction itself. I thought seeing the relative probabilities was a part of using a softmax activation in the model, but I can't seem to find anything in the Keras documentation that would give me probabilities instead of the predicted answer. Am I making some kind of silly mistake, or is this feature not available?",
    "code": "'''Trains a simple deep NN on the MNIST dataset.\nGets to 98.40% test accuracy after 20 epochs\n(there is *a lot* of margin for parameter tuning).\n2 seconds per epoch on a K520 GPU.\n'''\n\nfrom __future__ import print_function\n\nimport keras\nfrom keras.datasets import mnist\nfrom keras.models import Sequential\nfrom keras.layers import Dense, Dropout\nfrom keras.optimizers import RMSprop\n\nimport h5py # added import because it is required for model.save\nmodel_filepath = 'test_model.h5' # added filepath config\n\nbatch_size = 128\nnum_classes = 10\nepochs = 20\n\n# the data, shuffled and split between train and test sets\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\n\nx_train = x_train.reshape(60000, 784)\nx_test = x_test.reshape(10000, 784)\nx_train = x_train.astype('float32')\nx_test = x_test.astype('float32')\nx_train /= 255\nx_test /= 255\nprint(x_train.shape[0], 'train samples')\nprint(x_test.shape[0], 'test samples')\n\n# convert class vectors to binary class matrices\ny_train = keras.utils.to_categorical(y_train, num_classes)\ny_test = keras.utils.to_categorical(y_test, num_classes)\n\nmodel = Sequential()\nmodel.add(Dense(512, activation='relu', input_shape=(784,)))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(512, activation='relu'))\nmodel.add(Dropout(0.2))\nmodel.add(Dense(num_classes, activation='softmax'))\n\nmodel.summary()\n\nmodel.compile(loss='categorical_crossentropy',\n          optimizer=RMSprop(),\n          metrics=['accuracy'])\n\nhistory = model.fit(x_train, y_train,\n                batch_size=batch_size,\n                epochs=epochs,\n                verbose=1,\n                validation_data=(x_test, y_test))\nscore = model.evaluate(x_test, y_test, verbose=0)\nprint('Test loss:', score[0])\nprint('Test accuracy:', score[1])\n\nmodel.save(model_filepath) # added saving model\nprint('Model saved') # added log\n\n\nimport keras\nfrom keras.datasets import mnist\nfrom keras.models import Sequential\nimport keras.backend as K\n\nimport numpy\n\n# loading model saved locally in test_model.h5\nmodel_filepath = 'test_model.h5'\nprev_model = keras.models.load_model(model_filepath)\n\n# these lines are copied from the example for loading MNIST data\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\nx_train = x_train.reshape(60000, 784)\n\n# for this example, I am only taking the first 10 images\nx_slice = x_train[slice(1, 11, 1)]\n\n# making the prediction\nprediction = prev_model.predict(x_slice)\n\n# logging each on a separate line\nfor single_prediction in prediction:\n    print(single_prediction)\n\n\n[ 1.  0.  0.  0.  0.  0.  0.  0.  0.  0.]\n[ 0.  0.  0.  0.  1.  0.  0.  0.  0.  0.]\n[ 0.  1.  0.  0.  0.  0.  0.  0.  0.  0.]\n[ 0.  0.  0.  0.  0.  0.  0.  0.  0.  1.]\n[ 0.  0.  1.  0.  0.  0.  0.  0.  0.  0.]\n[ 0.  1.  0.  0.  0.  0.  0.  0.  0.  0.]\n[ 0.  0.  0.  1.  0.  0.  0.  0.  0.  0.]\n[ 0.  1.  0.  0.  0.  0.  0.  0.  0.  0.]\n[ 0.  0.  0.  0.  1.  0.  0.  0.  0.  0.]\n[ 0.  0.  0.  1.  0.  0.  0.  0.  0.  0.]\n\n\n[ 0.94 0.01 0.02 0. 0. 0.01 0. 0.01 0.01 0.]\n[ 0. 0. 0. 0. 0.51 0. 0. 0. 0.49 0.]\n...\n\n\n# Solution Code:\n# these lines are copied from the example for loading MNIST data\n(x_train, y_train), (x_test, y_test) = mnist.load_data()\nx_train = x_train.reshape(60000, 784)\nx_train = x_train.astype('float32') # this line was missing\nx_train /= 255 # this line was missing too\n",
    "resolution": "So it turns out that the problem was I was not fully normalizing the data in the prediction script. My prediction script should have had the following lines: # these lines are copied from the example for loading MNIST data (x_train, y_train), (x_test, y_test) = mnist.load_data() x_train = x_train.reshape(60000, 784) x_train = x_train.astype('float32') # this line was missing x_train /= 255 # this line was missing too Because the data was not cast to float, and divided by 255 (so it would be between 0 and 1), it was just showing up as 1s and 0s.",
    "severity": "high",
    "tags": [
      "python",
      "tensorflow",
      "machine-learning",
      "keras",
      "neural-network"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "47599436",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 15839,
      "stackoverflow_creation_date": "2017-12-01T18:29:09.983Z"
    },
    "idempotency_key": "stackoverflow-47599436",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to use react-router 4.0 to refresh current route? not reload the whole page",
    "body": "'react-router-dom' has refresh function here, but I don't know how to call this method, also their well formatted document doesn't bother to explain this. window.location.reload() doesn't work for me, because it wipes out the app store as well. I changed some data, and then need to reload the route with updated data. I also read this: https://github.com/ReactTraining/react-router/issues/1982 https://github.com/ReactTraining/react-router/issues/2243 this thread is exactly discussing my question: https://github.com/ReactTraining/react-router/issues/4056 and still clueless how to do it. This basic function should not require too much effort, but after spending huge amount of effort, I can't reload current route. here is my code: @inject('store') @observer export default class PasswordInput extends Component { constructor (props) { super(props) this.setPwd = this.setPwd.bind(this) this.submit = this.submit.bind(this) } componentWillMount() { this.case = this.props.store.case this.setState({refresh: false}) } setPwd(e) { // console.log(e) this.case.pwd = e.target.value } submit() { console.log(this.props.caseId) this.setState({refresh: true}) } render() { return ( <Container> <div>{this.state.refresh}</div> { (this.state.refresh) && <Redirect refresh={true} to={'/cases/' + this.props.caseId}></Redirect>} <br /> <Grid columns=\"three\"> <Grid.Row> <Grid.Column key={2}> <Form> <label>Enter Password</label> <input placeholder=\"empty\" type=\"text\" onChange={this.setPwd} value={this.case.pwd}></input> <Button name=\"Save\" color=\"green\" size=\"mini\" style={{marginTop:'1em'}} onClick={this.submit}> Submit </Button> </Form> </Grid.Column> </Grid.Row> </Grid> </Container> ) } }",
    "code": "@inject('store') @observer\nexport default class PasswordInput extends Component {\n    constructor (props) {\n        super(props)\n        this.setPwd = this.setPwd.bind(this)\n        this.submit = this.submit.bind(this)\n    }\n\n    componentWillMount() {\n        this.case = this.props.store.case\n\n        this.setState({refresh: false})\n    }\n    setPwd(e) {\n        // console.log(e)\n        this.case.pwd = e.target.value\n\n    }\n    submit() {\n        console.log(this.props.caseId)\n        this.setState({refresh: true})\n\n    }\n\n    render() {\n        return (\n            &lt;Container&gt;\n                &lt;div&gt;{this.state.refresh}&lt;/div&gt;\n                { (this.state.refresh) &amp;&amp; &lt;Redirect refresh={true} to={'/cases/' + this.props.caseId}&gt;&lt;/Redirect&gt;}\n                &lt;br /&gt;\n                &lt;Grid columns=\"three\"&gt;\n                    &lt;Grid.Row&gt;\n                        &lt;Grid.Column key={2}&gt;\n                            &lt;Form&gt;\n                                &lt;label&gt;Enter Password&lt;/label&gt;\n                                &lt;input placeholder=\"empty\"  type=\"text\" onChange={this.setPwd} value={this.case.pwd}&gt;&lt;/input&gt;                               \n\n                                &lt;Button name=\"Save\" color=\"green\" size=\"mini\" \n                                style={{marginTop:'1em'}}\n                                onClick={this.submit}&gt;\n                                    Submit\n                                &lt;/Button&gt;                               \n                            &lt;/Form&gt;\n                        &lt;/Grid.Column&gt;\n                    &lt;/Grid.Row&gt;\n                &lt;/Grid&gt;\n            &lt;/Container&gt;\n        )\n    }\n}\n\n\n# Solution Code:\nif (routesEqual &amp;&amp; forceRefresh) {\n    router.push({ pathname: \"/empty\" });\n    router.replace({ pathname: \"/route-to-refresh\" });\n}\n",
    "resolution": "I solved this by pushing a new route into history, then replacing that route with the current route (or the route you want to refresh). This will trigger react-router to \"reload\" the route without refreshing the entire page. if (routesEqual && forceRefresh) { router.push({ pathname: \"/empty\" }); router.replace({ pathname: \"/route-to-refresh\" }); } React router works by using your browser history to navigate without reloading the entire page. If you force a route into the history react router will detect this and reload the route. It is important to replace the empty route so that your back button does not take you to the empty route after you push it in. According to react-router it looks like the react router library does not support this functionality and probably never will, so you have to force the refresh in a hacky way.",
    "severity": "high",
    "tags": [
      "reactjs",
      "react-router",
      "react-router-v4"
    ],
    "metadata": {
      "stackoverflow_question_id": "47602091",
      "stackoverflow_score": 19,
      "stackoverflow_view_count": 61466,
      "stackoverflow_creation_date": "2017-12-01T22:01:40.230Z"
    },
    "idempotency_key": "stackoverflow-47602091",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Adjusting Kubernetes configurations depending on environment",
    "body": "I want to describe my services in kubernetes template files. Is it possible to parameterise values like number or replicas, so that I can set this at deploy time. The goal here is to be able to run my services locally in minikube (where I'll only need one replica) and have them be as close to those running in staging/live as possible. I'd like to be able to change the number of replicas, use locally mounted volumes and make other minor changes, without having to write a seperate template files that would inevitably diverge from each other.",
    "code": "replicas\n\n# Solution Code:\n---\nkind: Deployment\nmetadata:\n  name: foo\nspec:\n  replicas: {{ .Values.replicaCount }}\n\n\nreplicaCount: 1\n\n\nhelm install foo --set replicaCount=42\n\n\nhelm install foo -f ./dev.yaml\nhelm install foo -f ./prod.yaml\n\n\n---\nreplicaCount: 1\n\n\n---\nreplicaCount: 42\n\n\nstable\n  |__mysql\n     |__Values.yaml\n     |__Charts\n  |__apache\n     |__Values.yaml\n     |__Charts\nincubator\n  |__mysql\n     |__Values.yaml\n     |__Charts\n  |__apache\n     |__Values.yaml\n     |__Charts\n\n\n\nvalues\n|__ mysql\n    |__dev\n       |__values.yaml\n       |__secrets.yaml\n    |__prod\n       |__values.yaml\n       |__secrets.yaml\n\n\n\nhelm secrets upgrade foo --install -f ./values/foo/$environment/values.yaml -f ./values/foo/$environment/secrets.yaml\n\n\napiVersion: extensions/v1beta1\nkind: Deployment\n# ...\n    architecture: ${GOOS}\n\n\nGOOS=amd64 envsubst &lt; mytemplate.tmpl &gt; mydeployment.yaml\n\n\napiVersion: extensions/v1beta1\nkind: Deployment\n# ...\n    architecture: amd64\n\n\n   someapp/\n   ├── base/\n   │   ├── kustomization.yaml\n   │   ├── deployment.yaml\n   │   ├── configMap.yaml\n   │   └── service.yaml\n   └── overlays/\n      ├── production/\n      │   └── kustomization.yaml\n      │   ├── replica_count.yaml\n      └── staging/\n          ├── kustomization.yaml\n          └── cpu_count.yaml\n\n\n--set\n\nHelm\n\nenvbsubst\n\nHelm\n\nhelm-secrets\n\nhelm\n\nhelm-secrets\n\nenvsubst\n\nkubectl\n\nHelm\n\nenvsubst\n\nbase\n\noverlays\n\nkustomize build someapp/overlays/production\n\nkustomize\n\nenvsubst",
    "resolution": "Helm Helm is becoming the standard for templatizing kubernetes deployments. A helm chart is a directory consisting of yaml files with golang variable placeholders --- kind: Deployment metadata: name: foo spec: replicas: {{ .Values.replicaCount }} You define the default value of a 'value' in the 'values.yaml' file replicaCount: 1 You can optionally overwrite the value using the --set command line helm install foo --set replicaCount=42 Helm can also point to an external answer file helm install foo -f ./dev.yaml helm install foo -f ./prod.yaml dev.yaml --- replicaCount: 1 prod.yaml --- replicaCount: 42 Another advantage of Helm over simpler solutions like envbsubst is that Helm supports plugins. One powerful plugin is the helm-secrets plugin that lets you encrypt sensitive data using pgp keys. https://github.com/futuresimple/helm-secrets If using helm + helm-secrets your setup may look like the following where your code is in one repo and your data is in another. git repo with helm charts stable |__mysql |__Values.yaml |__Charts |__apache |__Values.yaml |__Charts incubator |__mysql |__Values.yaml |__Charts |__apache |__Values.yaml |__Charts Then in another git repo that contains the environment specific data values |__ mysql |__dev |__values.yaml |__secrets.yaml |__prod |__values.yaml |__secrets.yaml You then have a wrapper script that references the values and the secrets files helm secrets upgrade foo --install -f ./values/foo/$environment/values.yaml -f ./values/foo/$environment/secrets.yaml envsubst As mentioned in other answers, envsubst is a very powerful yet simple way to make your own templates. An example from kiminehart apiVersion: extensions/v1beta1 kind: Deployment # ... architecture: ${GOOS} GOOS=amd64 envsubst < mytemplate.tmpl > mydeployment.yaml apiVersion: extensions/v1beta1 kind: Deployment # ... architecture: amd64 Kubectl There is a feature request to allow kubectl to do some of the same features of helm and allow for variable substitution. There is a background document that strongly suggest that the feature will never be added, and instead is up to external tools like Helm and envsubst to manage templating. (edit) Kustomize Kustomize is a new project developed by google that is very similar to helm. Basically you have 2 folders base and overlays. You then run kustomize build someapp/overlays/production and it will generate the yaml for that environment. someapp/ ├── base/ │ ├── kustomization.yaml │ ├── deployment.yaml │ ├── configMap.yaml │ └── service.yaml └── overlays/ ├── production/ │ └── kustomization.yaml │ ├── replica_count.yaml └── staging/ ├── kustomization.yaml └── cpu_count.yaml It is simpler and has less overhead than helm, but does not have plugins for managing secrets. You could combine kustomize with sops or envsubst to manage secrets. https://kubernetes.io/blog/2018/05/29/introducing-kustomize-template-free-configuration-customization-for-kubernetes/",
    "severity": "medium",
    "tags": [
      "kubernetes",
      "kubectl",
      "minikube"
    ],
    "metadata": {
      "stackoverflow_question_id": "47655363",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5520,
      "stackoverflow_creation_date": "2017-12-05T13:56:30.413Z"
    },
    "idempotency_key": "stackoverflow-47655363",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "option:disabled css style does not works on Chrome and Safari for MAC",
    "body": "I can not change color for a disabled option on Chrome and Safari for MAC OSx. On firefox this code works. How can i override styles cross browser? option:disabled { color: #a69474; } <select> <option value=\"volvo\">Volvo</option> <option disabled value=\"saab\">Saab</option> <option value=\"mercedes\">Mercedes</option> <option value=\"audi\">Audi</option> </select>",
    "resolution": "It is working fine in chrome option:disabled { color: #a69474; } <select> <option value=\"volvo\">Volvo</option> <option value=\"saab\">Saab</option> <option value=\"opel\">Opel</option> <option disabled value=\"audi\">Audi</option> </select>",
    "severity": "medium",
    "tags": [
      "css",
      "google-chrome"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "47675765",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1659,
      "stackoverflow_creation_date": "2017-12-06T13:41:28.353Z"
    },
    "idempotency_key": "stackoverflow-47675765",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Waiting for debugger to disconnect... - Node.js in VSCode",
    "body": "I'm trying to step through a simple javascript example in Visual Studio Code, but the debugger hangs trying to disconnect. macOS Sierra version 10.12.6 VSCode version 1.18.1 (up to date) Node.js v8.9.2 (up to date) installed with Homebrew Debugging with inspector protocol because Node.js v8.9.2 was detected. node --inspect-brk= /*(port)*/ jsSandbox.js Debugger listening on ws:// (ip address) Debugger attached. Waiting for the debugger to disconnect... This seems like it's been a closed issue with both Code and Node already, which is why I'm so confused. Am I doing something wrong? Here is the only javascript file I'm trying to debug: // learning about closure function increase() { // — gets called once var getBig = 0; return function() { // — — gets called each time getBig += 1; // — — increments each time console.log(getBig); }; } var bigOne = increase(); // -- a reference to the instance of the function bigOne(); //1 bigOne();//2 ...and the project's launch.json config: { \"type\": \"node\", \"request\": \"launch\", \"name\": \"Launch Program\", \"program\": \"${workspaceFolder}/jsSandbox.js\", \"console\": \"internalConsole\" }",
    "code": "Debugging with inspector protocol because Node.js v8.9.2 was detected.\nnode --inspect-brk= /*(port)*/ jsSandbox.js \nDebugger listening on ws:// (ip address)\nDebugger attached.\nWaiting for the debugger to disconnect...\n\n\n// learning about closure\n\nfunction increase() {  // — gets called once\n    var getBig = 0;\n    return function() {  // — — gets called each time \n        getBig += 1;      // — — increments each time\n        console.log(getBig);\n    };\n}\nvar bigOne = increase(); // --  a reference to the instance of the function\nbigOne(); //1\nbigOne();//2 \n\n\n        {\n            \"type\": \"node\",\n            \"request\": \"launch\",\n            \"name\": \"Launch Program\",\n            \"program\": \"${workspaceFolder}/jsSandbox.js\",\n            \"console\": \"internalConsole\"\n        }\n\n\n# Solution Code:\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [\n    {\n        &quot;type&quot;: &quot;node&quot;,\n        &quot;runtimeVersion&quot;: &quot;10.21.0&quot;, \n        &quot;request&quot;: &quot;launch&quot;,\n        &quot;name&quot;: &quot;Launch Program&quot;,\n        &quot;program&quot;: &quot;${workspaceFolder}/app.js&quot;\n    }\n]\n",
    "resolution": "click on the button as shown below to open launch.json- Give your correct file name here, where your server is starting. In my case it is app.js \"version\": \"0.2.0\", \"configurations\": [ { \"type\": \"node\", \"runtimeVersion\": \"10.21.0\", \"request\": \"launch\", \"name\": \"Launch Program\", \"program\": \"${workspaceFolder}/app.js\" } ] runtimeVersion is optional, its required if you want to run it on a specific node version.And that node version should be installed on your system.",
    "severity": "high",
    "tags": [
      "javascript",
      "node.js",
      "debugging",
      "visual-studio-code"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "47701801",
      "stackoverflow_score": 38,
      "stackoverflow_view_count": 90530,
      "stackoverflow_creation_date": "2017-12-07T18:47:34.993Z"
    },
    "idempotency_key": "stackoverflow-47701801",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Invalid JSON Text - SQL (Java JSON Object)",
    "body": "I'm putting in JSON into an SQL table (type: json) and it claims something is wrong - but I can't tell what it's pointing out directly. Current json I'm trying to input: '{\"{\\\"type\\\":\\\"HUMAN\\\"}\":\"1.0\"}' Yes, it is \"json within json\" but the code I'm writing is kind of dependent on it being that way. I'm not willing to really change that part. Here's the error: #3140 - Invalid JSON text: \"Missing a colon after a name of object member.\" at position 5 in value for column 'mines.materials'. If you need code, I have it. I really need to know whats wrong with the JSON, if it requires a fundamental change to the code I can provide what I have.",
    "code": "'{\"{\\\"type\\\":\\\"HUMAN\\\"}\":\"1.0\"}'\n\n\n#3140 - Invalid JSON text: \"Missing a colon after a name of object member.\" at position 5 in value for column 'mines.materials'.\n\n\n# Solution Code:\n'{&quot;{\\&quot;type\\&quot;:\\&quot;HUMAN\\&quot;}&quot;:&quot;1.0&quot;}'\n\n\\\\&quot;\n\n\\&quot;",
    "resolution": "You should really try validating some basic assumptions. '{\"{\\\"type\\\":\\\"HUMAN\\\"}\":\"1.0\"}' is not a valid JSON string as you can see below \"use strict\"; (function () { try { JSON.parse('{\"{\\\"type\\\":\\\"HUMAN\\\"}\":\"1.0\"}'); } catch (e) { console.error(e); } }()); You are using attempting to use a JSON encoded string as a property key in another JSON encoded string but have not escaped it correctly. You need to use \\\\\" instead of \\\" to escape the quotes \"use strict\"; (function() { try { console.log(JSON.parse('{\"{\\\\\"type\\\\\":\\\\\"HUMAN\\\\\"}\":\"1.0\"}')); } catch (e) { console.error(e); } }());",
    "severity": "medium",
    "tags": [
      "java",
      "sql",
      "json"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "47724990",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5246,
      "stackoverflow_creation_date": "2017-12-09T03:21:25.297Z"
    },
    "idempotency_key": "stackoverflow-47724990",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why can't we use the let keyword inside a class in typescript",
    "body": "I am new to TypeScript. I want to know why we can't use the let keyword for variable declaration inside a class as below. Thanks in advance. class Greeter { let greeting: string; constructor(message: string) { this.greeting = message; } greet() { return \"Hello, \" + this.greeting; } } let greeter = new Greeter(\"world\"); console.log(greeter.greet())",
    "code": "class Greeter {\n    let greeting: string;\n    constructor(message: string) {\n        this.greeting = message;\n    }\n    greet() {\n        return \"Hello, \" + this.greeting;\n    }\n}\n\nlet greeter = new Greeter(\"world\");\nconsole.log(greeter.greet())\n\n\nlet\n\n# Solution Code:\nclass Greeter {\n  greeting: string;\n  // or\n  public greeting: string;\n  //alternatively\n  private greeting: string;\n\n\nconst greeter = new Greeter;\n\n\npublic\n\nprivate\n\ngreeter.greeting\n\ngreeting\n\nProperty 'greeting' does not exist on type 'Greeter'",
    "resolution": "I believe your question is why can't we use let key word... In TypeScript: This is merely a syntactic choice I suppose, but class properties do not need a keyword. You can optionally add a public keyword or if you want the class property to be private for the type you can use the private keyword: class Greeter { greeting: string; // or public greeting: string; //alternatively private greeting: string; This is just to define the property for the purposes of the type. Later, when you do: const greeter = new Greeter; Now you will be able to use greeter.greeting and all string methods and TypeScript will transpile successfully. If greeting were not declared you would get an error when attempting to transpile Property 'greeting' does not exist on type 'Greeter' In JavaScript: There is currently no way to declare class properties in JavaScript at all. It's intentionally not supported.",
    "severity": "medium",
    "tags": [
      "javascript",
      "typescript"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "47732353",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 8045,
      "stackoverflow_creation_date": "2017-12-09T19:33:49.070Z"
    },
    "idempotency_key": "stackoverflow-47732353",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Vagrant up not startedcode E_FAIL (0x80004005)",
    "body": "I'm using W10 and I had a problem with Vagrant-suddenly I cannot do vagrant up. I received error: There was an error while executing VBoxManage, a CLI used by Vagrant for controlling VirtualBox. The command and stderr is shown below. Command: [\"startvm\", \"e11dfd77-f4e8-4125-8169-d81f7dc44e55\", \"--type\", \"headless\"] Stderr: VBoxManage.exe: error: Interface ('VirtualBox Host-Only Ethernet Adapter #3') is not a Host-Only Adapter interface (VERR_INTERNAL_ERROR) VBoxManage.exe: error: Details: code E_FAIL (0x80004005), component ConsoleWrap, interface IConsole\" used to work fine until yesterday. I had a Windows update as well yesterday, but after that update vagrant works well. What i tried: checked Hyper-V platform - is disabled. reinstalled VM Box, Vagrant but nothing helped. Any ideas?",
    "code": "VBoxManage\n\n[\"startvm\", \"e11dfd77-f4e8-4125-8169-d81f7dc44e55\", \"--type\", \"headless\"]\n\n# Solution Code:\nbcdedit /copy \"{current}\" /d \"Hyper-V\" \nbcdedit /set \"{current}\" hypervisorlaunchtype off\nbcdedit /set \"{current}\" description \"non Hyper-V\"\n",
    "resolution": "I know it's an old post but this link worked for me. Open CMD as administrator and run: bcdedit /copy \"{current}\" /d \"Hyper-V\" bcdedit /set \"{current}\" hypervisorlaunchtype off bcdedit /set \"{current}\" description \"non Hyper-V\"",
    "severity": "high",
    "tags": [
      "vagrant",
      "virtualbox",
      "hyper-v"
    ],
    "metadata": {
      "stackoverflow_question_id": "47732542",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 10756,
      "stackoverflow_creation_date": "2017-12-09T19:53:27.333Z"
    },
    "idempotency_key": "stackoverflow-47732542",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Add Swift framework to Cordova Plugin",
    "body": "I am having trouble importing frameworks to my Cordova plugin. When I try to access them in my source files, it fails with 'undeclared' errors. My plugin folder structure is as follows: plugin.xml ios/ERS.swift ios/ERS-Bridging-Header.h ios/libs/AEXML.framework ios/libs/KissXML.framework ios/libs/SwiftyRSA.framework ios/libs/XUCore.framework ios/libs/XUEETCommunicator.swift Content of bridging header is: #ifndef ERS_Bridging_Header_h #define ERS_Bridging_Header_h #import <AEXML/AEXML.h> #import <KissXML/KissXML.h> #import <SwiftyRSA/SwiftyRSA.h> #import <XUCore/XUCore.h> #endif And of my plugin.xml: <platform name=\"ios\"> <config-file parent=\"/*\" target=\"config.xml\"> <feature name=\"eet\"><param name=\"ios-package\" value=\"eet\" /> </feature> </config-file> <source-file src=\"src/ios/ERS.swift\" /> <source-file src=\"src/ios/ERS-Bridging-Header.h\" /> <!-- Library for EET --> <source-file src=\"src/ios/libs/XUCzechLocaleSpecificData.swift\" /> <source-file src=\"src/ios/libs/XUEETCommunicator.swift\" /> <framework src=\"src/ios/libs/AEXML.framework\" custom=\"true\" embed=\"true\"/> <framework src=\"src/ios/libs/KissXML.framework\" custom=\"true\" embed=\"true\" /> <framework src=\"src/ios/libs/SwiftyRSA.framework\" custom=\"true\" embed=\"true\" /> <framework src=\"src/ios/libs/XUCore.framework\" custom=\"true\" embed=\"true\" /> </platform> After this configuration, i am getting following error (along with others of the same type): XUEETCommunicator.swift:99:18: error: use of unresolved identifier 'AEXMLOptions' I am also using Cordova Swift Support plugin, but I still cant get it to work. Also tried this solution: https://stackoverflow.com/a/36723619/7141625 But after that, the project file is corrupted and can not be parsed. I am reviewing the code in XCode 9 and also trying to build it in Ionic3 project via ionic cordova build ios with the same result.",
    "code": "plugin.xml\nios/ERS.swift\nios/ERS-Bridging-Header.h\nios/libs/AEXML.framework\nios/libs/KissXML.framework\nios/libs/SwiftyRSA.framework\nios/libs/XUCore.framework\nios/libs/XUEETCommunicator.swift\n\n\n#ifndef ERS_Bridging_Header_h\n#define ERS_Bridging_Header_h\n\n#import &lt;AEXML/AEXML.h&gt;\n#import &lt;KissXML/KissXML.h&gt;\n#import &lt;SwiftyRSA/SwiftyRSA.h&gt;\n#import &lt;XUCore/XUCore.h&gt;\n\n#endif\n\n\n&lt;platform name=\"ios\"&gt;\n  &lt;config-file parent=\"/*\" target=\"config.xml\"&gt;\n    &lt;feature name=\"eet\"&gt;&lt;param name=\"ios-package\" value=\"eet\" /&gt;\n    &lt;/feature&gt;\n  &lt;/config-file&gt;\n  &lt;source-file src=\"src/ios/ERS.swift\" /&gt;\n  &lt;source-file src=\"src/ios/ERS-Bridging-Header.h\" /&gt;\n  &lt;!-- Library for EET --&gt;\n  &lt;source-file src=\"src/ios/libs/XUCzechLocaleSpecificData.swift\"  /&gt;\n  &lt;source-file src=\"src/ios/libs/XUEETCommunicator.swift\" /&gt;   \n\n  &lt;framework src=\"src/ios/libs/AEXML.framework\"  custom=\"true\" embed=\"true\"/&gt;\n  &lt;framework src=\"src/ios/libs/KissXML.framework\"  custom=\"true\" embed=\"true\"  /&gt;\n  &lt;framework src=\"src/ios/libs/SwiftyRSA.framework\"  custom=\"true\" embed=\"true\" /&gt;  \n  &lt;framework src=\"src/ios/libs/XUCore.framework\"  custom=\"true\" embed=\"true\" /&gt; \n&lt;/platform&gt;\n",
    "severity": "medium",
    "tags": [
      "ios",
      "swift",
      "cordova",
      "frameworks"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "47788576",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1253,
      "stackoverflow_creation_date": "2017-12-13T08:30:53.240Z"
    },
    "idempotency_key": "stackoverflow-47788576",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why is no value returned from my generator?",
    "body": "I've come across some surprising behavior with Python generators: >>> def f(n): ... if n < 2: ... return [n] ... for i in range(n): ... yield i * 2 ... >>> list(f(0)) [] >>> list(f(1)) [] >>> list(f(2)) [0, 2] Why is no value returned from the generator in the first two cases?",
    "code": "&gt;&gt;&gt; def f(n):\n...     if n &lt; 2:\n...         return [n]\n...     for i in range(n):\n...         yield i * 2\n... \n&gt;&gt;&gt; list(f(0))\n[]\n&gt;&gt;&gt; list(f(1))\n[]\n&gt;&gt;&gt; list(f(2))\n[0, 2]\n\n\n# Solution Code:\n yield n\n return\n\n\ndef f(n):\n    if n &lt; 2:\n         return [n]\n    for i in range(n):\n         yield i * 2\n\ng = f(1)\nres = []\nwhile True:\n    try:\n         res.append(next(g))\n    except StopIteration as e:\n         if e.value is not None:\n              res = e.value\n         break\n\n\nreturn\n\nyield\n\nreturn [n]",
    "resolution": "Because generator return statements don't return anything, they end the execution (python knows this is a generator because it contains at least one yield statement). Instead of return [n] do yield n return EDIT after raising this with the python core devs, they pointed me to the python docs where it says In a generator function, the return statement indicates that the generator is done and will cause StopIteration to be raised. The returned value (if any) is used as an argument to construct StopIteration and becomes the StopIteration.value attribute. So you can do def f(n): if n < 2: return [n] for i in range(n): yield i * 2 g = f(1) res = [] while True: try: res.append(next(g)) except StopIteration as e: if e.value is not None: res = e.value break if you really, really wanted.",
    "severity": "low",
    "tags": [
      "python",
      "python-3.x",
      "generator"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "47831240",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 552,
      "stackoverflow_creation_date": "2017-12-15T11:16:12.737Z"
    },
    "idempotency_key": "stackoverflow-47831240",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Pear Mail Factory Debug issue",
    "body": "I am hoping that someone can help me with an issue that i cam across while trying to trouble shoot. I have some code on my site that sends a daily email to me. the last time it ran was 12/1/17. THe only part not working is the code that sends the email, nothing is being reported in the PHP log but I never receive the email. I use gmail smtp and everything had been working properly for years. I turned on debug and the results have me stuck. Here is what I am seeing: DEBUG: Recv: 220 smtp.gmail.com ESMTP f67sm17798350pff.173 - gsmtp DEBUG: Send: EHLO localhost DEBUG: Recv: 250-smtp.gmail.com at your service, [xxx.xxx.xxx.xxx] DEBUG: Recv: 250-SIZE 35882577 DEBUG: Recv: 250-8BITMIME DEBUG: Recv: 250-STARTTLS DEBUG: Recv: 250-ENHANCEDSTATUSCODES DEBUG: Recv: 250-PIPELINING DEBUG: Recv: 250-CHUNKING DEBUG: Recv: 250 SMTPUTF8 DEBUG: Send: STARTTLS DEBUG: Recv: 220 2.0.0 Ready to start TLS DEBUG: Send: RSET DEBUG: Recv: M IA+!&amp;w����]];�ʻ��.~���]�v��J�MJk��+��s�������z��?|?�qI�s'Y&gt;H���LO����~����O�J��ˆ�F�0��UM�߇�\"Z�6ד�FL��J� ����vx�g�� ���L�����}���F�\u0013��~����Чg���ek�7�4� z^�\"��&lt;��dP[p�` W~����^=bG���=�U�K� 1+1؆�����;p\"W�WE�3���P���F��Ԛ/D�TD܃�\u000fʡ����â�d\"�3!��ّ 3���U�,&amp;r�X�@���.�@,��z��M�\u000e DEBUG: Send: QUIT It seems that something is scrambling the resulting debug information? I get the same results with different browsers and in the command prompt. I cannot figure out why (i suspect it may be related to TLS), and I am not sure how I can read the results to see if there is an error or not. Thank you in advance for any help. It would be greatly appreciated. Here is the code that sends the email, nothing has changed except to add the debug option. Thanks again function send_email ($email, $subject, $body, $from) { //Send an email to the user with thier password information //Pear Mail information for mime require_once \"Mail.php\"; require_once \"Mail\\mime.php\"; //Send to and subject headers $from = $from; $to = $email; //Pear mail information to send message $mime = new Mail_mime(); $mime->setHTMLbody($body); $body = $mime->get(); $headers = array( 'From' => $from, 'To' => $to, 'Subject' => $subject); $headers = $mime->headers($headers); $smtp = Mail::factory('smtp', array( 'host' => EMAIL_HOST, 'auth' => true, 'username' => EMAIL_USERNAME, 'password' => EMAIL_PASSWORD, 'port' => EMAIL_PORT, 'debug' => true)); $mail = $smtp->send($to, $headers, $body); if (PEAR::isError($mail)) { $result = (''.$mail->getMessage().''); } else { $result = (\"Message successfully sent! \\r\\n. Email was sent to $to \\r\\n\"); } return ($result); }",
    "code": "DEBUG: Recv: 220 smtp.gmail.com ESMTP f67sm17798350pff.173 - gsmtp\nDEBUG: Send: EHLO localhost\nDEBUG: Recv: 250-smtp.gmail.com at your service, [xxx.xxx.xxx.xxx]\nDEBUG: Recv: 250-SIZE 35882577\nDEBUG: Recv: 250-8BITMIME\nDEBUG: Recv: 250-STARTTLS\nDEBUG: Recv: 250-ENHANCEDSTATUSCODES\nDEBUG: Recv: 250-PIPELINING\nDEBUG: Recv: 250-CHUNKING\nDEBUG: Recv: 250 SMTPUTF8\nDEBUG: Send: STARTTLS\nDEBUG: Recv: 220 2.0.0 Ready to start TLS\nDEBUG: Send: RSET\nDEBUG: Recv: M\fIA+!&amp;amp;w����]];�ʻ��.~���]�v��J�MJk��+��s�������z��?|?�qI�s'Y&amp;gt;H���LO����~����O�J��ˆ�F�0��UM�߇�\"Z�6ד�FL��J� ����vx�g��\f���L�����}���F�\u0013��~����Чg���ek�7�4�    z^�\"��&amp;lt;��dP[p�`\u000bW~����^=bG���=�U�K�\u000b1+1؆�����;p\"W�WE�3���P���F��Ԛ/D�TD܃�\u000fʡ����â�d\"�3!��ّ   3���U�,&amp;amp;r�X�@���.�@,��z��M�\u000e\nDEBUG: Send: QUIT\n\n\nfunction send_email ($email, $subject, $body, $from) \n{\n//Send an email to the user with thier password information\n//Pear Mail information for mime\nrequire_once \"Mail.php\";\nrequire_once \"Mail\\mime.php\";\n//Send to and subject headers\n$from = $from;\n$to = $email;\n    //Pear mail information to send message\n$mime = new Mail_mime();\n$mime-&gt;setHTMLbody($body);\n$body = $mime-&gt;get();\n$headers = array(\n        'From' =&gt; $from,\n        'To' =&gt; $to,\n        'Subject' =&gt; $subject);\n$headers = $mime-&gt;headers($headers);\n$smtp = Mail::factory('smtp', array(\n        'host' =&gt; EMAIL_HOST,\n        'auth' =&gt; true,\n        'username' =&gt; EMAIL_USERNAME,\n        'password' =&gt; EMAIL_PASSWORD,\n        'port' =&gt; EMAIL_PORT,\n        'debug' =&gt; true));\n$mail = $smtp-&gt;send($to, $headers, $body);\nif (PEAR::isError($mail)) {\n        $result = (''.$mail-&gt;getMessage().'');\n    } else {\n        $result = (\"Message successfully sent! \\r\\n.  Email was sent to $to \\r\\n\");\n    }\nreturn ($result);\n}\n",
    "severity": "medium",
    "tags": [
      "php",
      "pear",
      "pear-mail"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "47848660",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1189,
      "stackoverflow_creation_date": "2017-12-16T18:15:42.010Z"
    },
    "idempotency_key": "stackoverflow-47848660",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can sklearn DecisionTreeClassifier truly work with categorical data?",
    "body": "While working with the DecisionTreeClassifier I visualized it using graphviz, and I have to say, to my astonishment, it seems it takes categorical data and uses it as continuous data. All my features are categorical and for example you can see the following tree (please note that the first feature, X[0], has 6 possible values 0, 1, 2, 3, 4, 5: From what I found here the class uses a tree class which is a binary tree, so it is a limitation in sklearn. Anyone knows a way that I am missing to use the tree categorically? (I know it is not better for the task but as I need categories currently I am using one hot vectors on the data). A sample of the original data looks like this: f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 c1 c2 c3 0 C S O 1 2 1 1 2 1 2 0 0 0 1 D S O 1 3 1 1 2 1 2 0 0 0 2 C S O 1 3 1 1 2 1 1 0 0 0 3 D S O 1 3 1 1 2 1 2 0 0 0 4 D A O 1 3 1 1 2 1 2 0 0 0 5 D A O 1 2 1 1 2 1 2 0 0 0 6 D A O 1 2 1 1 2 1 1 0 0 0 7 D A O 1 2 1 1 2 1 2 0 0 0 8 D K O 1 3 1 1 2 1 2 0 0 0 9 C R O 1 3 1 1 2 1 1 0 0 0 where X[0] = f1 and I encoded strings to integers as sklearn does not accept strings.",
    "code": "f1 f2 f3  f4  f5  f6  f7  f8  f9  f10  c1  c2  c3\n0  C  S  O   1   2   1   1   2   1    2   0   0   0\n1  D  S  O   1   3   1   1   2   1    2   0   0   0\n2  C  S  O   1   3   1   1   2   1    1   0   0   0\n3  D  S  O   1   3   1   1   2   1    2   0   0   0\n4  D  A  O   1   3   1   1   2   1    2   0   0   0\n5  D  A  O   1   2   1   1   2   1    2   0   0   0\n6  D  A  O   1   2   1   1   2   1    1   0   0   0\n7  D  A  O   1   2   1   1   2   1    2   0   0   0\n8  D  K  O   1   3   1   1   2   1    2   0   0   0\n9  C  R  O   1   3   1   1   2   1    1   0   0   0\n\n\n# Solution Code:\n['low', 'medium', 'high']\n\n[0, 1, 2]\n\n'low' &lt; 'medium' &lt; 'high'\n\n'low'\n\n'medium'\n\n'medium'\n\n'high'\n\n['red','green','blue']\n\n['male','female']\n\nOneHotEncoder",
    "resolution": "Well, I am surprised, but it turns out that sklearn's decision tree cannot handle categorical data indeed. There is a Github issue on this (#4899) from June 2015, but it is still open (UPDATE: it is now closed, but continued in #12866, so the issue is still not resolved). The problem with coding categorical variables as integers, as you have done here, is that it imposes an order on them, which may or may not be meaningful, depending on the case; for example, you could encode ['low', 'medium', 'high'] as [0, 1, 2], since 'low' < 'medium' < 'high' (we call these categorical variables ordinal), although you are still implicitly making the additional (and possibly undesired) assumption that the distance between 'low' and 'medium' is the same with the distance between 'medium' and 'high' (of no impact in decision trees, but of importance e.g. in k-nn and clustering). But this approach fails completely in cases like, say, ['red','green','blue'] or ['male','female'], since we cannot claim any meaningful relative order between them. So, for non-ordinal categorical variables, the way to properly encode them for use in sklearn's decision tree is to use the OneHotEncoder module. The Encoding categorical features section of the user's guide might also be helpful.",
    "severity": "high",
    "tags": [
      "python",
      "machine-learning",
      "scikit-learn",
      "decision-tree",
      "categorical-data"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "47873366",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 12881,
      "stackoverflow_creation_date": "2017-12-18T17:18:44.797Z"
    },
    "idempotency_key": "stackoverflow-47873366",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Quicksort Python sorting trouble",
    "body": "def quicksort(mas): if mas: mid = mas[0] menshe = [i for i in mas[1:] if i < mid] bolshe = [i for i in mas[1:] if i >= mid] return quicksort(menshe) + [mid] + quicksort(bolshe) else: return mas n = int(input()) mas = input().split() print(*quicksort(mas)) It fails on some tests, for example input: 3 8 21 22 output: 21 22 8 how to improve the code?",
    "code": "def quicksort(mas):\n    if mas:\n        mid = mas[0]\n        menshe = [i for i in mas[1:] if i &lt; mid]\n        bolshe = [i for i in mas[1:] if i &gt;= mid]\n        return quicksort(menshe) + [mid] + quicksort(bolshe)\n    else: \n        return mas\n\nn = int(input())\nmas = input().split()\nprint(*quicksort(mas))\n\n\ninput:\n3\n8 21 22\noutput:\n21 22 8\n\n\n# Solution Code:\nmas = input().split()\nprint(*quicksort(mas))\n\n\nmas = input().split()\nprint(*quicksort([int(item) for item in mas]))\n",
    "resolution": "Your code may very well work. I've yet to test it. (but now that I have it seems correct) Your mistake is that you discard your first input. So, you should use your own code like this: mas = input().split() print(*quicksort(mas)) You only need one input. Also, you are sorting strings, not necessarily numbers, so you may want to do this: mas = input().split() print(*quicksort([int(item) for item in mas]))",
    "severity": "low",
    "tags": [
      "python",
      "algorithm",
      "sorting",
      "quicksort"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "47993418",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 163,
      "stackoverflow_creation_date": "2017-12-27T13:54:22.737Z"
    },
    "idempotency_key": "stackoverflow-47993418",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Prometheus sum get no data , can i set to default value?",
    "body": "i am trying to sum network traffic in/out from different IDC, also using snmp_export to get those information, but sometimes the snmp export can't get some switch's infomations ,maybe timeout or lost. so there is no date update for this switch and \"/metric\" will only show parts traffic info. The problem is when i using sum(irate(ifInOctets{ifIndex=...,instance=...})) + sum(irate(ifInOctets{ifIndex=...,instance=...}))+ sum(irate(ifInOctets{ifIndex=...,instance=...})) to get all traffic total value , the expr will return no data and break the graph. I am newbie to prometheus. not sure if the using method is wrong . Thanks",
    "code": "sum(irate(ifInOctets{ifIndex=...,instance=...})) + \nsum(irate(ifInOctets{ifIndex=...,instance=...}))+ \nsum(irate(ifInOctets{ifIndex=...,instance=...}))\n\n\nsnmp_export\n\n# Solution Code:\nrate()\n\nsum without(instance) (rate(ifInOctects[5m]))",
    "resolution": "The way to approach this is to use rate() with a long enough range to tolerate a failed scrape. For example if you are scraping once a minute then 5m is enough so you would use sum without(instance) (rate(ifInOctects[5m]))",
    "severity": "medium",
    "tags": [
      "export",
      "snmp",
      "prometheus"
    ],
    "metadata": {
      "stackoverflow_question_id": "48091192",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4687,
      "stackoverflow_creation_date": "2018-01-04T08:14:53.527Z"
    },
    "idempotency_key": "stackoverflow-48091192",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "If button pressed X times within 1 second, do this?",
    "body": "I'm wondering how to make it if, for example, button \"F\" being pressed 5 times within a second, do // something. How though? At first, I thought about doing something like this: private float totalCount = 0f; private float countOne = 1f; void Update(){ if(Input.GetKeyDown(KeyCode.F)){ totalCount += countOne; } if (totalCount == 5){ // do some thing } } But obviously, this isn't exactly what I want. So how do I achieve that? Coroutine?",
    "code": "private float totalCount = 0f;\nprivate float countOne = 1f;\n\nvoid Update(){\n\n    if(Input.GetKeyDown(KeyCode.F)){\n\n        totalCount += countOne;\n    }\n\n    if (totalCount == 5){\n\n        // do some thing\n    }\n}\n\n\n# Solution Code:\nusing System;\nusing System.Collections.Generic;\nusing System.Diagnostics;\nusing System.Linq;\nusing System.Reactive.Linq;\n\nnamespace Anything\n{\n    public class Program\n    {\n        public static void Main(string[] _)\n        {\n            var sw = Stopwatch.StartNew();\n\n            Keys()\n                .ToObservable()\n                .Select(x =&gt; new\n                {\n                    Value = x,\n                    Seconds = sw.Elapsed.TotalSeconds\n                })\n                .Buffer(5, 1)\n                .Where(xs =&gt; xs.Last().Seconds - xs.First().Seconds &lt;= 1.0)\n                .Subscribe(ks =&gt; Console.WriteLine($\"More than five! {ks.Count}\"));\n        }\n\n        public static IEnumerable&lt;ConsoleKeyInfo&gt; Keys()\n        {\n            while (true)\n            {\n                yield return Console.ReadKey(true);\n            }\n        }\n    }\n}\n",
    "resolution": "Rx is an ideal way of doing this. You can use a simple buffer of one second. using System; using System.Collections.Generic; using System.Diagnostics; using System.Linq; using System.Reactive.Linq; namespace Anything { public class Program { public static void Main(string[] _) { var sw = Stopwatch.StartNew(); Keys() .ToObservable() .Select(x => new { Value = x, Seconds = sw.Elapsed.TotalSeconds }) .Buffer(5, 1) .Where(xs => xs.Last().Seconds - xs.First().Seconds <= 1.0) .Subscribe(ks => Console.WriteLine($\"More than five! {ks.Count}\")); } public static IEnumerable<ConsoleKeyInfo> Keys() { while (true) { yield return Console.ReadKey(true); } } } }",
    "severity": "low",
    "tags": [
      "c#",
      "unity-game-engine"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "48166579",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 412,
      "stackoverflow_creation_date": "2018-01-09T10:54:31.217Z"
    },
    "idempotency_key": "stackoverflow-48166579",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to call a function in kotlin with raw types",
    "body": "when a function declares a type parameter: fun <T> typedFunction(value: T, option: Option<T>) { ... } how should I call the raw un-typed typedFunction in kotlin? why? In java I have: // This is a method in an external library. I can not change it. void <T> typedFunction(T t, Option<T> o) { ... } // This is my code. optionsValues contains many types // such as Option<Integer>, Option<String>, and ... Map<Option<?>, ?> m = readAndParseFromConfigFile(); for (Map.Entry<Option<?>, ?> e : m.entrySet()) { // The cast does the trick! // I know my code is safe, I can tell the compiler to back off. typedFunction((Option) e.getKey(), e.getValue()); } On the call site I'm looping over multiple values whose exact type is unknown (but known to be safe, both parameters conform to same type), hence I have to cast it into a raw type. How can achieve the same in kotlin? What IntelliJ does: This is how IntelliJ converts my code: val m: Map<Option<*>, *>? = ... for ((key, value) in m!!) { typedFunction<*>(key, value) // ^^^ ERROR!! } But it gives an error afterwards: \"Projections are not allowed on type arguments of functions and properties\"",
    "code": "fun &lt;T&gt; typedFunction(value: T, option: Option&lt;T&gt;) { ... }\n\n\n// This is a method in an external library. I can not change it.\nvoid &lt;T&gt; typedFunction(T t, Option&lt;T&gt; o) { ... }\n\n// This is my code. optionsValues contains many types\n// such as Option&lt;Integer&gt;, Option&lt;String&gt;, and ...\nMap&lt;Option&lt;?&gt;, ?&gt; m = readAndParseFromConfigFile();\nfor (Map.Entry&lt;Option&lt;?&gt;, ?&gt; e : m.entrySet()) {\n   // The cast does the trick!\n   // I know my code is safe, I can tell the compiler to back off.\n   typedFunction((Option) e.getKey(), e.getValue());\n}\n\n\nval m: Map&lt;Option&lt;*&gt;, *&gt;? = ...\nfor ((key, value) in m!!) {\n    typedFunction&lt;*&gt;(key, value)\n    //           ^^^  ERROR!!\n}\n\n\ntypedFunction\n\n# Solution Code:\nval m: Map&lt;Option&lt;*&gt;, *&gt;? = ...\n\nfor ((key, value) in m!!) {\n    @Suppress(\"unchecked\")\n    typedFunction(key as Option&lt;Any&gt;, value) // inferred T := Any\n}\n\n\nT\n\nOption&lt;*&gt;\n\nOption&lt;Any&gt;\n\nT\n\nAny",
    "resolution": "Since Kotlin does not have raw types and does not provide a star-projection equivalent for function calls, there should be a concrete type for T. You can make an unchecked cast of the Option<*> argument to Option<Any>, so that T becomes Any: val m: Map<Option<*>, *>? = ... for ((key, value) in m!!) { @Suppress(\"unchecked\") typedFunction(key as Option<Any>, value) // inferred T := Any }",
    "severity": "medium",
    "tags": [
      "generics",
      "kotlin"
    ],
    "metadata": {
      "language": "kotlin",
      "stackoverflow_question_id": "48207170",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1066,
      "stackoverflow_creation_date": "2018-01-11T12:32:04.997Z"
    },
    "idempotency_key": "stackoverflow-48207170",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Fallback and optional dependencies in R packages the CRAN way?",
    "body": "I would like to add a fallback dependency to my package. Problem is I want to do it CRAN compliant and can't figure out how to do it properly. More specificly, I want to use data.table's fread / fwrite. Other than that I do not want to have a full data.table dependency. If data.table is not installed, my package should just fall back to using standard read.csv and write.csv. I've seen this similar thread: Proper way to handle optional package dependencies and also used a technique similar to what @Hadley suggested in the comments: req <- require(data.table) if(req){ data.table::fwrite(...) } else { write.csv(...) } This does work, but when running CHECK I get a NOTE: 'library' or 'require' call to ‘data.table’ in package code. Please use :: or requireNamespace() instead. Which means I won't get it past CRAN's supervisors... What's the correct way to handle this?",
    "code": "req &lt;- require(data.table)\nif(req){ \n   data.table::fwrite(...)\n } else {\n    write.csv(...)     \n\n  }\n\n\ndata.table's fread / fwrite\n\ndata.table\n\nread.csv\n\nwrite.csv\n\n# Solution Code:\nmyreader &lt;- function(file) {\n    if (requireNamespace(\"data.table\", quietly=TRUE)) {\n       dat &lt;- data.table::fread(file)\n    } else {\n       dat &lt;- read.csv(file)\n    }\n    ## postprocess dat as needed\n    dat\n}\n\n\nrequire()\n\nrequireNamespace()\n\nTRUE\n\n::\n\nuser:cran l=R yourTerm",
    "resolution": "Just as the text says: replace your (outdated) call to require() with one to requireNamespace() Then, in the TRUE cases, call the package. I often use :: to refer to the suggested package. So mocking this up (and note, untested) I'd do myreader <- function(file) { if (requireNamespace(\"data.table\", quietly=TRUE)) { dat <- data.table::fread(file) } else { dat <- read.csv(file) } ## postprocess dat as needed dat } Searches at GitHub are useful with user:cran l=R yourTerm so try this one. I use the very idiom in a number of packages.",
    "severity": "low",
    "tags": [
      "r",
      "dependencies",
      "cran"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "48266553",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 820,
      "stackoverflow_creation_date": "2018-01-15T16:00:51.587Z"
    },
    "idempotency_key": "stackoverflow-48266553",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sodium is not loading on XAMPP PHP 7.2",
    "body": "Hey for some reason when i use XAMPP PHP 7.2, all of the sodium functions are not working. When i run print_r(get_loaded_extensions()); it does not show sodium on the list. When i go to http://php.net/manual/en/sodium.installation.php it says no installation needed they are a part of the core. So i went to my php.ini configuration file and made sure that it did not disable sodium, it says extension=php_sodium.dll. I went to the console to double check to see if their were any errors, there was none. It was weird because Argon2i is working fine. The Argon2i constants are all defined and when used in the password_hash() function it generates a password hash no problem. I am using windows as my OS. Is there anything else that can cause something like this, any help would be nice. Thanks in advance.",
    "code": "print_r(get_loaded_extensions());\n\nphp.ini\n\nextension=php_sodium.dll\n\nArgon2i\n\npassword_hash()\n\n# Solution Code:\nextension=modulename\n\nextension=php_modulename.dll",
    "resolution": "Are you sure that you edit the correct php.ini? Starting with PHP 7.2, ini file (at least on my Windows PC), the syntax to load extension is now extension=modulename instead of extension=php_modulename.dll.",
    "severity": "high",
    "tags": [
      "php",
      "xampp",
      "libsodium"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "48287186",
      "stackoverflow_score": 17,
      "stackoverflow_view_count": 56205,
      "stackoverflow_creation_date": "2018-01-16T17:54:33.357Z"
    },
    "idempotency_key": "stackoverflow-48287186",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Reverse for 'account_email_verification_sent' not found. 'account_email_verification_sent' is not a valid view function or pattern name",
    "body": "I'm trying to use allauth and rest-auth in my project and try to use the built-in function in allauth to do email verification but this what I get : and here is my code settings.py ACCOUNT_EMAIL_VERIFICATION = 'mandatory' ACCOUNT_EMAIL_REQUIRED = True urls.py urlpatterns = [ re_path(r'^', include('rest_auth.urls')), re_path(r'^registration/', include('rest_auth.registration.urls')), ]",
    "code": "ACCOUNT_EMAIL_VERIFICATION = 'mandatory'\nACCOUNT_EMAIL_REQUIRED = True\n\n\nurlpatterns = [\nre_path(r'^', include('rest_auth.urls')),\nre_path(r'^registration/', include('rest_auth.registration.urls')),\n]\n\n\n# Solution Code:\nfrom rest_auth.registration.views import VerifyEmailView, RegisterView\n\n\nurlpatterns = [\npath('', include('rest_auth.urls')),\npath('login/', LoginView.as_view(), name='account_login'),\npath('registration/', include('rest_auth.registration.urls')),\npath('registration/', RegisterView.as_view(), name='account_signup'),\nre_path(r'^account-confirm-email/', VerifyEmailView.as_view(),\n     name='account_email_verification_sent'),\nre_path(r'^account-confirm-email/(?P&lt;key&gt;[-:\\w]+)/$', VerifyEmailView.as_view(),\n     name='account_confirm_email'),\n\n]\n",
    "resolution": "I found the solution, I have to add a URL to be able to make a post request to the backend to send an email, with the URL with regex which has the token that will verify the account and URLs, and add a URL for login with name account_login and URL for register with name account_signup and be like this : from rest_auth.registration.views import VerifyEmailView, RegisterView urlpatterns = [ path('', include('rest_auth.urls')), path('login/', LoginView.as_view(), name='account_login'), path('registration/', include('rest_auth.registration.urls')), path('registration/', RegisterView.as_view(), name='account_signup'), re_path(r'^account-confirm-email/', VerifyEmailView.as_view(), name='account_email_verification_sent'), re_path(r'^account-confirm-email/(?P<key>[-:\\w]+)/$', VerifyEmailView.as_view(), name='account_confirm_email'), ]",
    "severity": "high",
    "tags": [
      "django",
      "django-rest-framework",
      "django-allauth",
      "django-rest-auth"
    ],
    "metadata": {
      "framework": "django",
      "stackoverflow_question_id": "48390749",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 11570,
      "stackoverflow_creation_date": "2018-01-22T21:44:40.683Z"
    },
    "idempotency_key": "stackoverflow-48390749",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Dataflow analysis of execution path",
    "body": "Is it possible to use Frama-C to verify whether or not the execution flow or memory accesses depend on a particular variable? Background: There were once options -experimental-path-deps and -experimental-mem-deps, but these were removed in the Silicon release. In order to prevent side-channel attacks, I would like to ensure that the execution flow of the program does not depend upon secret data, rendering it vulnerable to timing attacks. For memory accesses, we can perform dataflow analysis on each index, but this is somewhat error-prone, and must be performed manually for every array access. There is no obvious workaround in the case of -experimental-path-deps. Does equivalent functionality exist elsewhere in Frama-C, or is the best option to simply revert to an older version?",
    "code": "-experimental-path-deps\n\n-experimental-mem-deps\n\n-experimental-path-deps\n\n# Solution Code:\n-experiment-{path,mem}-deps\n\n-calldeps",
    "resolution": "The -experiment-{path,mem}-deps were for the most part a duplication of the existing dependency analysis, which furthermore were never ported to be fully call-sensitive (option -calldeps). If you are willing to write a bit of OCaml code, modifying the existing call-aware dependency analysis is easy. And this will be more precise than reverting to a pre-Silicon version. If you are interested, I can expand this answer to point you to the function(s) to modify.",
    "severity": "low",
    "tags": [
      "frama-c"
    ],
    "metadata": {
      "stackoverflow_question_id": "48404139",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 128,
      "stackoverflow_creation_date": "2018-01-23T14:30:14.173Z"
    },
    "idempotency_key": "stackoverflow-48404139",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Rails and WebSockets using SSL/TLS in development environment",
    "body": "I have a Rails 4.2.x application using ActionCable. The goal I had to switch from HTTP to HTTPS as I'm using the Devise FIDO U2F gem. All the application is working fine, my (self-signed) certificate is valid in Chrome (Green lock icon) and present in KeyChain Access with When using this certificate from the Trust certificat section to Always Trust. I'm migrating WebSocket, which was listening on ws://my.app.eu:28080, to wss://my.app.eu:28080. The problem I was using Puma in order to run the ActionCable server, but I found that Puma is using eventmachine, which isn't compatible. From here, I migrated ActionCable server to thin but never get it working. I'm stuck with the error message from the Chrome console: WebSocket connection to 'wss://my.app.eu:28080/' failed: WebSocket opening handshake was canceled Weird thing I don't know yet why and how but it happened twice to me that it suddenly work in Chome (no more errors and seeing messages arriving through ActionCable to Chrome) but like something was unblocked. I mean the application is logging when subscribing to queues, when it suddenly worked, I saw those logs in the app's log file. Questions What would I miss to have it working? Is there a way to see where it is stuck? Do you know a place where it is explained how to get Rails development environment working with WebSockets through SSL?",
    "code": "WebSocket connection to 'wss://my.app.eu:28080/' failed: WebSocket opening handshake was canceled\n\n\nws://my.app.eu:28080\n\nwss://my.app.eu:28080",
    "severity": "medium",
    "tags": [
      "ruby-on-rails",
      "ssl",
      "websocket",
      "localhost",
      "tls1.2"
    ],
    "metadata": {
      "stackoverflow_question_id": "48420981",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1105,
      "stackoverflow_creation_date": "2018-01-24T11:07:50.257Z"
    },
    "idempotency_key": "stackoverflow-48420981",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to create a Date object, using UTC, at a specific time in the past?",
    "body": "Is it possible to create a java.util.Date object that is guaranteed to be UTC and at a specific time in the past, like an hour ago or a day ago, and is this a good idea? I have reviewed the Stack Overflow question get date as of 4 hours ago and its answers. But I want to avoid having to add more dependencies, like jodaTime, and the accepted answer uses System.currentTimeMillis() which would be the local timezone, would it not?",
    "code": "java.util.Date\n\njodaTime\n\nSystem.currentTimeMillis()\n\n# Solution Code:\nInstant fourHoursAgo = Instant.now().minus(Duration.ofHours(4));\nSystem.out.println(fourHoursAgo);\n\n\n2018-01-31T14:57:44.667255Z\n\n\nDate oldfashionedDate = Date.from(fourHoursAgo);\nSystem.out.println(oldfashionedDate);\n\n\nWed Jan 31 15:57:44 CET 2018\n\n\nOffsetDateTime fourHoursAgoInUtc = OffsetDateTime.now(ZoneOffset.UTC).minusHours(4);\nSystem.out.println(fourHoursAgoInUtc);\n\n\n2018-01-31T14:57:44.724147Z\n\n\nDate oldfashionedDate = Date.from(fourHoursAgoInUtc.toInstant());\nSystem.out.println(oldfashionedDate);\n\n\nWed Jan 31 15:57:44 CET 2018\n\n\njava.time\n\n18:58\n\nInstant\n\ntoString\n\nInstant\n\njava.util.Date\n\nEurope/Copenhagen\n\nDate\n\ntoString\n\nDate\n\nOffsetDateTime\n\nZ\n\nDate\n\njava.time",
    "resolution": "As discussed vividly in the comments, the recommendation is to use the java.time package. The easy solution: Instant fourHoursAgo = Instant.now().minus(Duration.ofHours(4)); System.out.println(fourHoursAgo); This just printed 2018-01-31T14:57:44.667255Z Since UTC time is now 18:58, the output is what you asked for. The Instant itself is offset neutral. Its toString delivers time in UTC, but there was no mention of UTC in producing the Instant, so whether it gives you what you want, I am not sure. I will give you a result that is explicitly in UTC later. But first, if you do need a java.util.Date, typically for a legacy API that you cannot change, the conversion is easy: Date oldfashionedDate = Date.from(fourHoursAgo); System.out.println(oldfashionedDate); On my computer in Europe/Copenhagen time zone this printed: Wed Jan 31 15:57:44 CET 2018 Again, this agrees with the time four hours before running the snippet. And again, a Date doesn’t have a UTC offset in it. Only its toString method grabs my JVM’s time zone setting and uses it for generating the string, this does not affect the Date. See the Stack Overflow question, How to set time zone of a java.util.Date?, and its answers. As promised, if you do need to represent not only the time but also the offset, use an OffsetDateTime: OffsetDateTime fourHoursAgoInUtc = OffsetDateTime.now(ZoneOffset.UTC).minusHours(4); System.out.println(fourHoursAgoInUtc); This printed 2018-01-31T14:57:44.724147Z Z at the end means offset zero from UTC or “Zulu time zone” (which isn’t a true time zone). The conversion to a Date is not much more complicated than before, but again, you will lose the offset information in the conversion: Date oldfashionedDate = Date.from(fourHoursAgoInUtc.toInstant()); System.out.println(oldfashionedDate); This printed: Wed Jan 31 15:57:44 CET 2018 Link: Oracle tutorial explaining how to use java.time",
    "severity": "low",
    "tags": [
      "java",
      "date",
      "utc"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "48549039",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 794,
      "stackoverflow_creation_date": "2018-01-31T18:25:12.773Z"
    },
    "idempotency_key": "stackoverflow-48549039",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to take thread-dump of a java process which runs for a less time",
    "body": "How to take threaddump of a java application which runs for a very less time. The application starts and dosent give me time to collect the pid of the process. Am using the following for taking thread dump. kill -3 <pid> Probably a appropriate Unix command is what am looking for. Regards, Nilotpal",
    "code": "kill -3 &lt;pid&gt;\n",
    "severity": "medium",
    "tags": [
      "java",
      "unix",
      "thread-dump"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "48692146",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2277,
      "stackoverflow_creation_date": "2018-02-08T18:13:02.420Z"
    },
    "idempotency_key": "stackoverflow-48692146",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Absence of dynamic loaded libraries in ldd executable ouput",
    "body": "Why dynamic loaded library do not appear when you give ldd executable name?Is this true?because I could not find when it is given. It could be because of dynamic loading and dynamic linking. Please help me out regarding this and let me know if you need any further details. The output is as follows. ldd example6 linux-vdso.so.1 => (0x00007ffe63369000) libdl.so.2 => /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f56a2676000) libstdc++.so.6 => /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f56a2372000) libc.so.6 => /lib/x86_64-linux-gnu/libc.so.6 (0x00007f56a1fa9000) /lib64/ld-linux-x86-64.so.2 (0x00007f56a287a000) libm.so.6 => /lib/x86_64-linux-gnu/libm.so.6 (0x00007f56a1ca3000) libgcc_s.so.1 => /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f56a1a8d000) I could see only libdl.so...but my executable,example6 is dependent on libtriangle.so which is created for some testing. If you are accessing the shared libraries without dlopen commands, I am able to find .so details in executable because it is static loading and dynamic linking I feel. Structure of the Program Here executable,main makes calls to shared library,libtriangle.so. Shared library,triangle.so makes calls to another shared library,man.so.. man.so makes call to pthread apis Makefile is present at the end man.so is obtained using livingbeing.hpp,man.cpp and man.cpp uses pthread apis.man.so depends on -lpthread triangle.so makes the function calls to man.so. triangle.so access shared library,man.so using dlopen,dlsym commands. Executable,main is dependent on triangle.so. main acccess triangle.so using dlopen,dlsym functions. ldconfig is also done for the .so files present in /usr/local/lib/MYDIR Please find the below files. livingbeing.hpp #ifndef LIVINGBEING_HPP #define LIVINGBEING_HPP #include <iostream> using namespace std; class livingbeing { protected: double side_length_; public: livingbeing() : side_length_(0) {} virtual ~livingbeing() {} void set_length(double side_length) { side_length_ = side_length; } virtual void eat() = 0; }; typedef livingbeing* get_instance_t(); typedef void destroy_instance_t(livingbeing*); #endif man.cpp #include \"livingbeing.hpp\" #include <stdio.h> #include <stdlib.h> #include <pthread.h> void *print_message_function( void *ptr ); class man : public livingbeing { public: man() { cout<<\"man constructor\\n\"; } ~man() { cout<<\"man destructor\\n\"; } virtual void eat() { cout<<\"man eating\\n\"; pthread_t thread1, thread2; int iret1; /* Create independent threads each of which will execute function */ iret1 = pthread_create( &thread1, NULL, print_message_function, (void*) NULL); pthread_join( thread1, NULL); } }; void *print_message_function( void *ptr ) { cout<<\"hello thread1 created\"; } extern \"C\" livingbeing * get_instance() { return new man; } extern \"C\" void destroy_instance(livingbeing *lb) { delete lb; } triangle.cpp #include \"polygon.hpp\" #include \"livingbeing.hpp\" #include <cmath> #include <dlfcn.h> //#include <iostream> class triangle : public polygon { public: virtual double area() const { // load the triangle library void* man = dlopen(\"/usr/local/lib/ramu/libman.so\", RTLD_LAZY); if (!man) { cerr << \"Cannot load library: \" << dlerror() << '\\n'; return 1; } // reset errors dlerror(); // load the symbols get_instance_t* get_instance_man = (get_instance_t*) dlsym(man, \"get_instance\"); const char* dlsym_error = dlerror(); if (dlsym_error) { cerr << \"Cannot load symbol create: \" << dlsym_error << '\\n'; return 1; } destroy_instance_t* destroy_instance_man = (destroy_instance_t*) dlsym(man, \"destroy_instance\"); dlsym_error = dlerror(); if (dlsym_error) { cerr << \"Cannot load symbol destroy: \" << dlsym_error << '\\n'; return 1; } // create an instance of the class livingbeing* living = get_instance_man(); // use the class living->set_length(7); cout << \"The livingbeing is: \"; living->eat(); cout<<\"\\n\"; // destroy the class destroy_instance_man(living); // unload the triangle library dlclose(man); return side_length_ * side_length_ * sqrt(3) / 2; } }; // the class factories extern \"C\" polygon* create() { return new triangle; } extern \"C\" void destroy(polygon* p) { delete p; } main.cpp #include \"polygon.hpp\" #include <iostream> #include <dlfcn.h> int main() { using std::cout; using std::cerr; // load the triangle library // void* triangle = dlopen(\"./triangle.so\", RTLD_LAZY); void* triangle = dlopen(\"/usr/local/lib/rakesh/libtriangle.so\", RTLD_LAZY); if (!triangle) { cerr << \"Cannot load library: \" << dlerror() << '\\n'; return 1; } // reset errors dlerror(); // load the symbols create_t* create_triangle = (create_t*) dlsym(triangle, \"create\"); const char* dlsym_error = dlerror(); if (dlsym_error) { cerr << \"Cannot load symbol create: \" << dlsym_error << '\\n'; return 1; } destroy_t* destroy_triangle = (destroy_t*) dlsym(triangle, \"destroy\"); dlsym_error = dlerror(); if (dlsym_error) { cerr << \"Cannot load symbol destroy: \" << dlsym_error << '\\n'; return 1; } // create an instance of the class polygon* poly = create_triangle(); // use the class poly->set_side_length(7); cout << \"The area is: \" << poly->area() << '\\n'; // destroy the class destroy_triangle(poly); // unload the triangle library dlclose(triangle); makefile example6: main.cpp triangle $(CXX) $(CXXFLAGS) main.cpp -o example6 -L/usr/local/lib/roh -ltriangle -ldl triangle: man triangle.cpp polygon.hpp $(CXX) $(CXXFLAGS) -shared -fPIC triangle.cpp -o libtriangle.so man: man.cpp livingbeing.hpp $(CXX) $(CXXFLAGS) -shared -fPIC -o man.so man.cpp -lpthread clean: rm -f example6 *.so *.o .PHONY: clean",
    "code": "ldd example6 \n\n    linux-vdso.so.1 =&gt;  (0x00007ffe63369000)\n    libdl.so.2 =&gt; /lib/x86_64-linux-gnu/libdl.so.2 (0x00007f56a2676000)\n    libstdc++.so.6 =&gt; /usr/lib/x86_64-linux-gnu/libstdc++.so.6 (0x00007f56a2372000)\n    libc.so.6 =&gt; /lib/x86_64-linux-gnu/libc.so.6 (0x00007f56a1fa9000)\n    /lib64/ld-linux-x86-64.so.2 (0x00007f56a287a000)\n    libm.so.6 =&gt; /lib/x86_64-linux-gnu/libm.so.6 (0x00007f56a1ca3000)\n    libgcc_s.so.1 =&gt; /lib/x86_64-linux-gnu/libgcc_s.so.1 (0x00007f56a1a8d000)\n\n\n #ifndef LIVINGBEING_HPP\n\n #define LIVINGBEING_HPP\n\n  #include &lt;iostream&gt;\n\nusing namespace std;\n\nclass livingbeing {\nprotected:\n    double side_length_;\n\n\n\n\npublic:\n    livingbeing()\n        : side_length_(0) {}\n\n    virtual ~livingbeing() {}\n    void set_length(double side_length) {\n        side_length_ = side_length;\n    }\n\n    virtual void eat() = 0;\n};\n\ntypedef livingbeing* get_instance_t();\ntypedef void destroy_instance_t(livingbeing*);\n\n #endif\n\n\n #include \"livingbeing.hpp\"\n #include &lt;stdio.h&gt;\n #include &lt;stdlib.h&gt;\n #include &lt;pthread.h&gt;\nvoid *print_message_function( void *ptr );\nclass man : public livingbeing {\npublic:\nman()\n{\ncout&lt;&lt;\"man constructor\\n\";\n\n}\n~man()\n{\ncout&lt;&lt;\"man destructor\\n\";\n}\n\n    virtual void eat() {\n        cout&lt;&lt;\"man eating\\n\";\n\n        pthread_t thread1, thread2;\n    int  iret1;\n\n   /* Create independent threads each of which will execute function */\n\n    iret1 = pthread_create( &amp;thread1, NULL, print_message_function, (void*) NULL);\n\n    pthread_join( thread1, NULL);\n\n    }\n};\n\nvoid *print_message_function( void *ptr )\n{\n        cout&lt;&lt;\"hello thread1 created\";\n}\nextern \"C\" livingbeing * get_instance()\n{\nreturn new man;\n}\nextern \"C\" void destroy_instance(livingbeing *lb)\n{\ndelete lb;\n}\n\n\n#include \"polygon.hpp\"\n #include \"livingbeing.hpp\"\n #include &lt;cmath&gt;\n\n#include &lt;dlfcn.h&gt;\n//#include &lt;iostream&gt;\n\nclass triangle : public polygon {\npublic:\n    virtual double area() const {\n\n    // load the triangle library\n    void* man = dlopen(\"/usr/local/lib/ramu/libman.so\", RTLD_LAZY);\n    if (!man) {\n        cerr &lt;&lt; \"Cannot load library: \" &lt;&lt; dlerror() &lt;&lt; '\\n';\n        return 1;\n    }\n\n    // reset errors\n    dlerror();\n\n    // load the symbols\n    get_instance_t* get_instance_man = (get_instance_t*) dlsym(man, \"get_instance\");\n    const char* dlsym_error = dlerror();\n    if (dlsym_error) {\n        cerr &lt;&lt; \"Cannot load symbol create: \" &lt;&lt; dlsym_error &lt;&lt; '\\n';\n        return 1;\n    }\n\n    destroy_instance_t* destroy_instance_man = (destroy_instance_t*) dlsym(man, \"destroy_instance\");\n    dlsym_error = dlerror();\n    if (dlsym_error) {\n        cerr &lt;&lt; \"Cannot load symbol destroy: \" &lt;&lt; dlsym_error &lt;&lt; '\\n';\n        return 1;\n    }\n\n    // create an instance of the class\n    livingbeing* living = get_instance_man();\n\n    // use the class\n    living-&gt;set_length(7);\n    cout &lt;&lt; \"The livingbeing is: \";\n\n    living-&gt;eat();\n    cout&lt;&lt;\"\\n\";\n\n\n    // destroy the class\n        destroy_instance_man(living);\n\n    // unload the triangle library\n    dlclose(man);\n\n\n        return side_length_ * side_length_ * sqrt(3) / 2;\n    }\n};\n\n// the class factories\nextern \"C\" polygon* create() {\n    return new triangle;\n}\n\nextern \"C\" void destroy(polygon* p) {\n    delete p;\n}\n\n\n#include \"polygon.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;dlfcn.h&gt;\n\nint main() {\n    using std::cout;\n    using std::cerr;\n\n    // load the triangle library\n//    void* triangle = dlopen(\"./triangle.so\", RTLD_LAZY);\n    void* triangle = dlopen(\"/usr/local/lib/rakesh/libtriangle.so\", RTLD_LAZY);\n    if (!triangle) {\n        cerr &lt;&lt; \"Cannot load library: \" &lt;&lt; dlerror() &lt;&lt; '\\n';\n        return 1;\n    }\n\n    // reset errors\n    dlerror();\n\n    // load the symbols\n    create_t* create_triangle = (create_t*) dlsym(triangle, \"create\");\n    const char* dlsym_error = dlerror();\n    if (dlsym_error) {\n        cerr &lt;&lt; \"Cannot load symbol create: \" &lt;&lt; dlsym_error &lt;&lt; '\\n';\n        return 1;\n    }\n\n    destroy_t* destroy_triangle = (destroy_t*) dlsym(triangle, \"destroy\");\n    dlsym_error = dlerror();\n    if (dlsym_error) {\n        cerr &lt;&lt; \"Cannot load symbol destroy: \" &lt;&lt; dlsym_error &lt;&lt; '\\n';\n        return 1;\n    }\n\n    // create an instance of the class\n    polygon* poly = create_triangle();\n\n    // use the class\n    poly-&gt;set_side_length(7);\n        cout &lt;&lt; \"The area is: \" &lt;&lt; poly-&gt;area() &lt;&lt; '\\n';\n\n    // destroy the class\n    destroy_triangle(poly);\n\n    // unload the triangle library\n    dlclose(triangle);\n\n\nexample6: main.cpp triangle\n        $(CXX) $(CXXFLAGS) main.cpp -o example6 -L/usr/local/lib/roh -ltriangle -ldl\n\ntriangle: man triangle.cpp polygon.hpp\n        $(CXX) $(CXXFLAGS) -shared -fPIC triangle.cpp -o libtriangle.so\n\nman: man.cpp livingbeing.hpp\n        $(CXX) $(CXXFLAGS) -shared -fPIC -o man.so man.cpp -lpthread\n\nclean:\n        rm -f example6 *.so *.o\n\n.PHONY: clean\n\n\n# Solution Code:\nmain\n\nlibtriangle\n\nlibtriangle\n\nldd\n\ndlopen\n\nlibtriangle\n\nmain",
    "resolution": "Executable main is not dependent on libtriangle in the sense of having libtriangle symbols in its import table. ldd is not aware of the libraries loaded at runtime with dlopen because it does not run or anyhow analyze the code. It only looks at symbols table. Note that even though you explicitly link libtriangle when building executable it has no effect. Linker will only really link library if executable has some unresolved symbols that are located in this library but in case of main executable there is none.",
    "severity": "medium",
    "tags": [
      "c++",
      "linux",
      "shared-libraries",
      "dynamic-loading",
      "ldd"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "48899940",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1312,
      "stackoverflow_creation_date": "2018-02-21T07:05:35.733Z"
    },
    "idempotency_key": "stackoverflow-48899940",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Unit testing Entity Framework Core 2.0 if using a stored procedure",
    "body": "I have a problem with unit testing data access layer. I query the database via stored procedures, so now I can't use Entity Framework in-memory database because in-memory database is not a relational database. Also, I read that I have to use integration tests but I can't find any example with testing using stored procedure. So my question is how to test data access layer, do I need to create a test database that is same as my real database? This is my code for data access layer: public class Repository<TEntity> : IRepository<TEntity> where TEntity : Domains.Users { private DbSet<TEntity> dbSet; private readonly DbContext context; public Repository(DbContext context) { this.context = context; dbSet = context.Set<TEntity>(); } public void Add(TEntity entity) { if (entity is Domains.Users) { SqlParameter param1 = new SqlParameter(); param1.ParameterName = \"@Adress\"; param1.DbType = System.Data.DbType.String; param1.Value = (entity as Domains.Users).Adress; SqlParameter param2 = new SqlParameter(); param2.ParameterName = \"@Email\"; param2.DbType = System.Data.DbType.String; param2.Value = (entity as Domains.Users).Email; SqlParameter param3 = new SqlParameter(); param3.ParameterName = \"@Name\"; param3.DbType = System.Data.DbType.String; param3.Value = (entity as Domains.Users).Name; SqlParameter param4 = new SqlParameter(); param4.ParameterName = \"@Lastname\"; param4.DbType = System.Data.DbType.String; param4.Value = (entity as Domains.Users).Lastname; context.Database.ExecuteSqlCommand(\"sp_AddUser @Adress, @Email, @Name, @Surname\", param1, param2, param3, param4); } } }",
    "code": "public class Repository&lt;TEntity&gt; : IRepository&lt;TEntity&gt; where TEntity : Domains.Users\n{\n    private DbSet&lt;TEntity&gt; dbSet;\n\n    private readonly DbContext context;\n\n    public Repository(DbContext context)\n    {\n        this.context = context;\n        dbSet = context.Set&lt;TEntity&gt;();\n    }\n\n    public void Add(TEntity entity)\n    {\n        if (entity is Domains.Users)\n        {\n            SqlParameter param1 = new SqlParameter();\n            param1.ParameterName = \"@Adress\";\n            param1.DbType = System.Data.DbType.String;\n            param1.Value = (entity as Domains.Users).Adress;\n\n            SqlParameter param2 = new SqlParameter();\n            param2.ParameterName = \"@Email\";\n            param2.DbType = System.Data.DbType.String;\n            param2.Value = (entity as Domains.Users).Email;\n\n            SqlParameter param3 = new SqlParameter();\n            param3.ParameterName = \"@Name\";\n            param3.DbType = System.Data.DbType.String;\n            param3.Value = (entity as Domains.Users).Name;\n\n            SqlParameter param4 = new SqlParameter();\n            param4.ParameterName = \"@Lastname\";\n            param4.DbType = System.Data.DbType.String;\n            param4.Value = (entity as Domains.Users).Lastname;\n\n            context.Database.ExecuteSqlCommand(\"sp_AddUser @Adress, @Email, @Name, @Surname\", param1, param2, param3, param4);\n        }\n    }\n}\n",
    "severity": "medium",
    "tags": [
      "c#",
      "unit-testing",
      "entity-framework-core"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "48972952",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1564,
      "stackoverflow_creation_date": "2018-02-25T11:36:33.040Z"
    },
    "idempotency_key": "stackoverflow-48972952",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "JavaFX not imported with Java 8",
    "body": "I'm doing a Java project which involves JavaFX. I'm using Eclipse Oxygen with Java 8 (java-8-openjdk-amd64) and I installed the Eclipse plugin e(fx)clipse. I don't understand why this project has two errors: The project was not built since its build path is incomplete. Cannot find the class file for javafx.geometry.Point2D. Fix the build path then try building this project and The type javafx.geometry.Point2D cannot be resolved. It is indirectly referenced from required .class files I searched on StackOverflow for similar problems, and tried some settings changes but nothing solved my problem. I tried to change the access rules in the Build Path of my project: Build Path > Configure Build Path > Libraries > JRE System Library > Add a new rule I added different rules: javafx/**, changed it to **/javafx/** but nothing changed. This project works well in Windows, I opened it with Eclipse on Windows and everything works fine. Do you have an idea on how to solve this problem? EDIT: Accepted answer: $ sudo apt install openjfx",
    "code": "java-8-openjdk-amd64\n\njavafx/**\n\n**/javafx/**\n\n$ sudo apt install openjfx\n\n# Solution Code:\nsudo apt install openjfx",
    "resolution": "It looks like you haven't installed JavaFX. Because some parts of JavaFX are not compatible with the distributions open source licenses, it often is not part of the packages shipped by default. If you're using Ubuntu, you can install it using sudo apt install openjfx. For further reading have a look at JavaFX and OpenJDK.",
    "severity": "medium",
    "tags": [
      "java",
      "linux",
      "eclipse",
      "javafx",
      "eclipse-oxygen"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "49028148",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5500,
      "stackoverflow_creation_date": "2018-02-28T11:09:13.870Z"
    },
    "idempotency_key": "stackoverflow-49028148",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why are compound definitions using 'var' not allowed?",
    "body": "Well, I really thought that this would work (inside a method): var x, y = 1; var x = 1, y = 2; But it does not, it would not compile - \"var is not allowed in a compound definition\". I guess the reason for this is an usual trade-off. This is not a very used feature and thus not implemented, but we could yes and may be might in a future release...",
    "code": "var x, y = 1;\n\nvar x = 1, y = 2;\n\n\n# Solution Code:\nint x, y = 1;\n\n\nvar x = 1, y = 2.0;\n\n\nx\n\nint\n\ny\n\nfloat",
    "resolution": "Well, if you give it a manifest type: int x, y = 1; This declares two int variables, and initializes one of them. But local variable type inference requires an initializer to infer a type. So you're dead out of the gate. But, suppose you meant to provide an initializer for both. It's \"obvious\" what to do when both initializers have the same type. So let's make it harder. Suppose you said: var x = 1, y = 2.0; What is this supposed to mean? Does this declare x as int and y as float? Or does it try to find some type that can be the type of both x and y? Whichever we decided, some people would think it should work the other way, and it would be fundamentally confusing. And, for what benefit? The incremental syntactic cost of saying what you mean is trivial compared to the potential semantic confusion. And that's why we excluded this from the scope of type inference for locals. You might say, then, \"well, only make it work if they are the same type.\" We could do that, but now the boundary of when you can use inference and when not is even more complicated. And I'd be answering the same sort of \"why don't you\" question right now anyway ... The reality is that inference schemes always have limits; what you get to pick is the boundary. Better to pick clean, clear limits (\"can use it in these contexts\") than fuzzy ones.",
    "severity": "medium",
    "tags": [
      "java",
      "java-10"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "49154458",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 1339,
      "stackoverflow_creation_date": "2018-03-07T14:35:33.987Z"
    },
    "idempotency_key": "stackoverflow-49154458",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "visual studio git: terminal prompts disabled",
    "body": "I cloned a VSTS (NOT GitHub) repository with bash on windows using URL like https://myproj.visualstudio.com/repo and now I'd like to be able to use in-built VS2017 git window for my work, however when I do say Pull I get a window asking for my username/password and after I provide them I get this error: Git failed with a fatal error. could not read Username for 'https://myproj.visualstudio.com': terminal prompts disabled which doesn't make any sense to me, I'm still able to do everything from git bash, I was also able to use VS2017 in-built window until today (we had some accounts migration which I'm not aware of the details), I tried relogging everywhere (at least what I'm aware of) and reinstalling git/visual studio, but still no success. All the suggestions I was able to find are either related to GitHub or suggest me to use ssh, which I don't want to, because my colleagues still have it working quite fine with https as before",
    "code": "Git failed with a fatal error.\ncould not read Username for 'https://myproj.visualstudio.com': terminal prompts disabled\n",
    "severity": "high",
    "tags": [
      "windows",
      "git",
      "visual-studio"
    ],
    "metadata": {
      "stackoverflow_question_id": "49240142",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 11521,
      "stackoverflow_creation_date": "2018-03-12T16:31:51.723Z"
    },
    "idempotency_key": "stackoverflow-49240142",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can we reduce the gap between tab layout text and its indicator",
    "body": "<android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" android:id=\"@+id/htab_maincontent\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\"> <android.support.design.widget.AppBarLayout android:id=\"@+id/htab_appbar\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:background=\"@color/colorBlack\" android:fitsSystemWindows=\"false\" android:theme=\"@style/AppTheme\"> <android.support.design.widget.CollapsingToolbarLayout android:id=\"@+id/htab_collapse_toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"256dp\" android:fitsSystemWindows=\"true\" app:layout_scrollFlags=\"scroll|exitUntilCollapsed\" app:titleEnabled=\"false\"> <ImageView android:id=\"@+id/htab_header\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:background=\"@drawable/logo_inner\" android:fitsSystemWindows=\"true\" app:layout_collapseMode=\"parallax\" /> <android.support.v7.widget.Toolbar android:id=\"@+id/htab_toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"@android:color/transparent\" app:contentInsetStart=\"0dp\" app:layout_collapseMode=\"pin\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /> <android.support.design.widget.TabLayout android:id=\"@+id/htab_tabs\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:layout_gravity=\"bottom\" android:background=\"@color/colorBlack\" app:tabGravity=\"center\" app:tabIndicatorColor=\"@color/colorSelectText\" app:tabPaddingEnd=\"@dimen/space_micro\" app:tabPaddingStart=\"@dimen/space_micro\" app:tabSelectedTextColor=\"@color/colorSelectText\" app:tabTextAppearance=\"@style/TabLayoutTextStyle\" app:tabTextColor=\"@color/colorWhite\"> </android.support.design.widget.TabLayout> </android.support.design.widget.CollapsingToolbarLayout> </android.support.design.widget.AppBarLayout> </android.support.design.widget.CoordinatorLayout> I want to reduce the space between Tab Layout text and its indicator. I am using tab layout with collapsing toolbar that when it slides up, Tab layout will pin on the top. I have 4 tabs with its corrosponding indicator. I am sharing my xml & have attached image also.",
    "code": "&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n            android:id=\"@+id/htab_maincontent\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\"&gt;\n\n            &lt;android.support.design.widget.AppBarLayout\n                android:id=\"@+id/htab_appbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@color/colorBlack\"\n                android:fitsSystemWindows=\"false\"\n                android:theme=\"@style/AppTheme\"&gt;\n\n                &lt;android.support.design.widget.CollapsingToolbarLayout\n                    android:id=\"@+id/htab_collapse_toolbar\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"256dp\"\n                    android:fitsSystemWindows=\"true\"\n                    app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n                    app:titleEnabled=\"false\"&gt;\n\n                    &lt;ImageView\n                        android:id=\"@+id/htab_header\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:background=\"@drawable/logo_inner\"\n                        android:fitsSystemWindows=\"true\"\n                        app:layout_collapseMode=\"parallax\" /&gt;\n\n                    &lt;android.support.v7.widget.Toolbar\n                        android:id=\"@+id/htab_toolbar\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"?attr/actionBarSize\"\n                        android:background=\"@android:color/transparent\"\n                        app:contentInsetStart=\"0dp\"\n                        app:layout_collapseMode=\"pin\"\n                        app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /&gt;\n\n                    &lt;android.support.design.widget.TabLayout\n                        android:id=\"@+id/htab_tabs\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:layout_gravity=\"bottom\"\n                        android:background=\"@color/colorBlack\"\n                        app:tabGravity=\"center\"\n                        app:tabIndicatorColor=\"@color/colorSelectText\"\n                        app:tabPaddingEnd=\"@dimen/space_micro\"\n                        app:tabPaddingStart=\"@dimen/space_micro\"\n                        app:tabSelectedTextColor=\"@color/colorSelectText\"\n                        app:tabTextAppearance=\"@style/TabLayoutTextStyle\"\n                        app:tabTextColor=\"@color/colorWhite\"&gt;\n\n\n                    &lt;/android.support.design.widget.TabLayout&gt;\n\n\n                &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n            &lt;/android.support.design.widget.AppBarLayout&gt;\n\n\n\n        &lt;/android.support.design.widget.CoordinatorLayout&gt;\n\n\n# Solution Code:\n&lt;android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/htab_maincontent\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/htab_appbar\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"#2fff00\"\n        android:fitsSystemWindows=\"true\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/htab_collapse_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:expandedTitleMarginEnd=\"64dp\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n            app:titleEnabled=\"false\"&gt;\n\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/htab_toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:background=\"@android:color/transparent\"\n                app:contentInsetStart=\"0dp\"\n                app:layout_collapseMode=\"pin\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/htab_header\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"@drawable/ic_launcher_background\"\n                app:layout_collapseMode=\"parallax\" /&gt;\n\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n        &lt;android.support.design.widget.TabLayout\n            android:id=\"@+id/htab_tabs\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"35dp\"\n            android:layout_gravity=\"bottom\"\n            android:background=\"@drawable/tab_selector\"\n            app:layout_anchor=\"@+id/MyAppbar\"\n            app:layout_anchorGravity=\"bottom\"\n            app:tabGravity=\"fill\"\n            app:tabIndicatorColor=\"#F21757\"\n            app:tabMode=\"scrollable\"\n            app:tabSelectedTextColor=\"#F21757\"\n            app:tabTextColor=\"@android:color/white\" /&gt;\n\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.view.ViewPager\n        android:id=\"@+id/viewpager\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_selected=\"true\" android:state_pressed=\"false\"&gt;\n        &lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n            &lt;item android:top=\"-2dp\" android:left=\"-5dp\" android:right=\"-5dp\" android:bottom=\"2dp\"&gt;\n                &lt;shape android:shape=\"rectangle\"&gt;\n\n                    &lt;solid android:color=\"@android:color/white\"/&gt;\n                    &lt;stroke android:color=\"@color/colorPrimary\" android:width=\"2dp\"/&gt;\n\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n\n    &lt;item android:state_selected=\"true\" android:state_pressed=\"true\"&gt;\n        &lt;layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n            &lt;item android:top=\"-2dp\" android:left=\"-5dp\" android:right=\"-5dp\" android:bottom=\"2dp\"&gt;\n                &lt;shape android:shape=\"rectangle\"&gt;\n\n                    &lt;solid android:color=\"@android:color/white\"/&gt;\n                    &lt;stroke android:color=\"@color/colorPrimary\" android:width=\"2dp\"/&gt;\n\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n\n&lt;/selector&gt;\n\n\ndrawable/tab_selector",
    "resolution": "Try this <android.support.design.widget.CoordinatorLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" android:id=\"@+id/htab_maincontent\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\"> <android.support.design.widget.AppBarLayout android:id=\"@+id/htab_appbar\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:background=\"#2fff00\" android:fitsSystemWindows=\"true\" android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"> <android.support.design.widget.CollapsingToolbarLayout android:id=\"@+id/htab_collapse_toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:fitsSystemWindows=\"true\" app:contentScrim=\"?attr/colorPrimary\" app:expandedTitleMarginEnd=\"64dp\" app:expandedTitleMarginStart=\"48dp\" app:layout_scrollFlags=\"scroll|exitUntilCollapsed\" app:titleEnabled=\"false\"> <android.support.v7.widget.Toolbar android:id=\"@+id/htab_toolbar\" android:layout_width=\"match_parent\" android:layout_height=\"?attr/actionBarSize\" android:background=\"@android:color/transparent\" app:contentInsetStart=\"0dp\" app:layout_collapseMode=\"pin\" app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\" /> <ImageView android:id=\"@+id/htab_header\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:background=\"@drawable/ic_launcher_background\" app:layout_collapseMode=\"parallax\" /> </android.support.design.widget.CollapsingToolbarLayout> <android.support.design.widget.TabLayout android:id=\"@+id/htab_tabs\" android:layout_width=\"match_parent\" android:layout_height=\"35dp\" android:layout_gravity=\"bottom\" android:background=\"@drawable/tab_selector\" app:layout_anchor=\"@+id/MyAppbar\" app:layout_anchorGravity=\"bottom\" app:tabGravity=\"fill\" app:tabIndicatorColor=\"#F21757\" app:tabMode=\"scrollable\" app:tabSelectedTextColor=\"#F21757\" app:tabTextColor=\"@android:color/white\" /> </android.support.design.widget.AppBarLayout> <android.support.v4.view.ViewPager android:id=\"@+id/viewpager\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /> </android.support.design.widget.CoordinatorLayout> drawable/tab_selector <?xml version=\"1.0\" encoding=\"utf-8\"?> <selector xmlns:android=\"http://schemas.android.com/apk/res/android\"> <item android:state_selected=\"true\" android:state_pressed=\"false\"> <layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"> <item android:top=\"-2dp\" android:left=\"-5dp\" android:right=\"-5dp\" android:bottom=\"2dp\"> <shape android:shape=\"rectangle\"> <solid android:color=\"@android:color/white\"/> <stroke android:color=\"@color/colorPrimary\" android:width=\"2dp\"/> </shape> </item> </layer-list> </item> <item android:state_selected=\"true\" android:state_pressed=\"true\"> <layer-list xmlns:android=\"http://schemas.android.com/apk/res/android\"> <item android:top=\"-2dp\" android:left=\"-5dp\" android:right=\"-5dp\" android:bottom=\"2dp\"> <shape android:shape=\"rectangle\"> <solid android:color=\"@android:color/white\"/> <stroke android:color=\"@color/colorPrimary\" android:width=\"2dp\"/> </shape> </item> </layer-list> </item> </selector>",
    "severity": "medium",
    "tags": [
      "android",
      "android-layout",
      "android-tablayout"
    ],
    "metadata": {
      "stackoverflow_question_id": "49321364",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 6083,
      "stackoverflow_creation_date": "2018-03-16T12:58:34.987Z"
    },
    "idempotency_key": "stackoverflow-49321364",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Azure CDN with Verizon - Rewriting URL to always load index.html",
    "body": "Context I've been struggling with the following problem for the last few days and due to the very nature of a CDN and the manual review of each new rule, it takes me each time up to 4h to deploy a new rule. As described in the following topic, I currently have my Angular application deployed to a storage account which has a single blob container called cdn Within the root of this blob container, the whole dist folder from my angular project has been copied via my CI setup. The CDN profile has also been set up, to point at the origin-path called /cdn Problem Unfortunately there is currently an ongoing issue that you can't directly access a default file. What I would like is to redirect all incoming traffic from my Angular application to the index.html file. This in order to satisfy the routing for Angular. Furthermore I would like to let any request for static files (e.g images) through without any specific url rewritting. I've seen various posts regarding this issue but none of the answer seem to cover my case or didn't in the deliver the expected result. Currently I am using the rules engines feature of the Azure CDN from Verizon. Regarding the patterns I used all the patterns mentioned in the following article, including which were mentioned in the comments. I've also spent at least two days to find various other articles and stackoverflow articles but none of them worked for my case. Furthermore I also created my own regex pattern but although they worked in my test environment, they would work once they were deployed to the CDN. I usually ended up with one of the following results: Top level domain https://myFancyWebsite.azureedge.net wouldn't rewrite the url to the index.html and I would receive a http error 404 Top level domain would redirect to index.html but would stop working once I added a url path https://myFancyWebsite.azureedge.net/login/callback - once again a http error 404 as soon as I started using /login/callback Top level domain would rewrite the url to something like https://myFancyWebsite.azureedge.net/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn .... in an http error 431 The offical documentation from Microsoft also didn't help in my case. I am pretty sure I am not the first one who is deploying an Angular application to storage account and someone has run in the same issues as I have. I am thankful for any information which points me in the right direction because at the moment I am definitely thinking about moving away from whole storage account deployment. Update 1 With the following source pattern ((?:[^\\?]*/)?)($|\\?.*) which was also mentioned in the article over here, I am able to handle at least the top level domain rewrite to the index.html file. Unfortunately, I still need an additional pattern to redirect from https://myFancyWebsite.azureedge.net/login/callback to https://myFancyWebsite.azureedge.net/index.html Update 2 I am currently updating the regex pattern once or twice a day and once again it works on my test environment but stops working once I deploy it. I start to believe that Azure CDN is appending something to the URL after the top-level domain but I have no idea how to verify that. https://regex101.com/r/KK0jCN/23 Update 3 We are writting the year 3025 and I still have no clue why for example the following pattern isn't handling the url rewritting of the top domain. https://regex101.com/r/KK0jCN/25",
    "code": "cdn\n\ndist\n\norigin-path\n\n/cdn\n\nindex.html\n\nhttps://myFancyWebsite.azureedge.net\n\nindex.html\n\n404\n\nindex.html\n\nhttps://myFancyWebsite.azureedge.net/login/callback\n\n404\n\n/login/callback\n\nhttps://myFancyWebsite.azureedge.net/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn/cdn ....\n\n431\n\nsource\n\n((?:[^\\?]*/)?)($|\\?.*)\n\nindex.html\n\nhttps://myFancyWebsite.azureedge.net/login/callback\n\nhttps://myFancyWebsite.azureedge.net/index.html\n\n# Solution Code:\n[^?.]*(\\?.*)?$\n\n.\n\norigin_path/document.ext\n\n/origin_path\n\nindex.html\n\norigin_path/index.html",
    "resolution": "Add a new rule with condition If Always You will need to add a new Feature for each endpoint. For the Pattern, enter [^?.]*(\\?.*)?$. This pattern catches URL paths with . in them, but doesn't care whether or not it's in the query string. For the Path, enter origin_path/document.ext. This is the tricky part. The Path is relative to the origin root. For instance, if your CDN endpoint's origin path is /origin_path and you want to redirect to index.html, you would enter origin_path/index.html. This will always be the case if your CDN is backed by an Azure Storage Account and the origin points to a container. Click Add to add your rule, wait N hours, and you're good to go.",
    "severity": "medium",
    "tags": [
      "angular",
      "azure",
      "url-rewriting",
      "azure-cdn",
      "azure-storage-account"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "49401118",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 7227,
      "stackoverflow_creation_date": "2018-03-21T08:11:07.207Z"
    },
    "idempotency_key": "stackoverflow-49401118",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Error \"503 Service Temporarily Unavailable\" when trying to scrape bitcointalk",
    "body": "I have been scraping a small amount of data once a day & the code was working before 5 days ago. Now I can't seem to get anything but a 503 error code when trying. Here's a simple cut of the code causing the issues: from urllib.request import Request, urlopen website = \"https://bitcointalk.org/index.php?board=1.0\" req = Request(website, headers={'User-Agent': 'Mozilla/5.0'}) data = urlopen(req).read() print(data) which gives the error: Traceback (most recent call last): File \"C:/Users/Clay/Desktop/python/airdrop/1.py\", line 6, in <module> data = urlopen(req).read() File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 223, in urlopen return opener.open(url, data, timeout) File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 532, in open response = meth(req, response) File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 642, in http_response 'http', request, response, code, msg, hdrs) File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 570, in error return self._call_chain(*args) File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 504, in _call_chain result = func(*args) File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 650, in http_error_default raise HTTPError(req.full_url, code, msg, hdrs, fp) urllib.error.HTTPError: HTTP Error 503: Service Temporarily Unavailable any ideas? I am quite lost after changing the User-Agent and still having the same issue. I also have multiple proxy servers that I've tried cycling through and it doesn't work on any of them.",
    "code": "from urllib.request import Request, urlopen\n\nwebsite = \"https://bitcointalk.org/index.php?board=1.0\"\n\nreq = Request(website, headers={'User-Agent': 'Mozilla/5.0'})\ndata = urlopen(req).read()\nprint(data)\n\n\nTraceback (most recent call last):\n  File \"C:/Users/Clay/Desktop/python/airdrop/1.py\", line 6, in &lt;module&gt;\n    data = urlopen(req).read()\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 223, in urlopen\n    return opener.open(url, data, timeout)\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 532, in open\n    response = meth(req, response)\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 642, in http_response\n    'http', request, response, code, msg, hdrs)\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 570, in error\n    return self._call_chain(*args)\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 504, in _call_chain\n    result = func(*args)\n  File \"C:\\Users\\Clay\\AppData\\Local\\Programs\\Python\\Python36\\lib\\urllib\\request.py\", line 650, in http_error_default\n    raise HTTPError(req.full_url, code, msg, hdrs, fp)\nurllib.error.HTTPError: HTTP Error 503: Service Temporarily Unavailable\n",
    "severity": "low",
    "tags": [
      "python-3.x",
      "web-scraping"
    ],
    "metadata": {
      "stackoverflow_question_id": "49463208",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 619,
      "stackoverflow_creation_date": "2018-03-24T09:33:54.650Z"
    },
    "idempotency_key": "stackoverflow-49463208",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Matlab: Odd linear indexing into array with singleton dimensions",
    "body": "I'm having trouble understanding the circumstances under which linear indexing applies. For a 2D array, it seems intuitive: >> clear x >> x=[1 2;3 4] x = 1 2 3 4 >> x([1 2]) ans = 1 3 >> x([1;2]) ans = 1 3 For a 3D matrix, it seems intuitive: >> clear y >> y(1:2,1:2,1)=x y = 1 2 3 4 >> y(1:2,1:2,2)=x+10 y(:,:,1) = 1 2 3 4 y(:,:,2) = 11 12 13 14 >> y([1 2]) ans = 1 3 >> y([1;2]) ans = 1 3 For a 3D matrix in which the 1st two dimensions are singletons, it's not what I would expect: >> clear y >> y(1,1,1)=1 y = 1 >> y(1,1,2)=2 y(:,:,1) = 1 y(:,:,2) = 2 >> y([1 2]) ans(:,:,1) = 1 ans(:,:,2) = 2 >> y([1;2]) ans(:,:,1) = 1 ans(:,:,2) = 2 I would have expected exactly the same as the 3D matrix without singleton dimensions. Is there a rule that can be relied on to predict the behaviour of linear indexing?",
    "code": "&gt;&gt; clear x\n&gt;&gt; x=[1 2;3 4]\nx =\n     1     2\n     3     4\n&gt;&gt; x([1 2])\nans =\n     1     3\n&gt;&gt; x([1;2])\nans =\n     1\n     3\n\n\n&gt;&gt; clear y\n&gt;&gt; y(1:2,1:2,1)=x\ny =\n     1     2\n     3     4\n&gt;&gt; y(1:2,1:2,2)=x+10\ny(:,:,1) =\n     1     2\n     3     4\ny(:,:,2) =\n    11    12\n    13    14\n&gt;&gt; y([1 2])\nans =\n     1     3\n&gt;&gt; y([1;2])\nans =\n     1\n     3\n\n\n&gt;&gt; clear y\n&gt;&gt; y(1,1,1)=1\ny =\n     1\n&gt;&gt; y(1,1,2)=2\ny(:,:,1) =\n     1\ny(:,:,2) =\n     2\n&gt;&gt; y([1 2])\nans(:,:,1) =\n     1\nans(:,:,2) =\n     2\n&gt;&gt; y([1;2])\nans(:,:,1) =\n     1\nans(:,:,2) =\n     2\n\n\n# Solution Code:\n&gt;&gt; x = rand(3,4);\n&gt;&gt; ind = [9 3];\n&gt;&gt; x(ind)\nans =\n   0.276922984960890   0.743132468124916\n\n&gt;&gt; x(ind.')\nans =\n   0.276922984960890\n   0.743132468124916\n\n&gt;&gt; x = rand(2,3,4);\n&gt;&gt; ind = [1 2; 5 6];\n&gt;&gt; x(ind)\nans =\n   0.814723686393179   0.905791937075619\n   0.632359246225410   0.097540404999410\n\n\n&gt;&gt; x = 10:10:70;\n&gt;&gt; ind = [1 3 5];\n&gt;&gt; x(ind)\nans =\n     10    30    50\n\n&gt;&gt; x(ind.')\nans =\n     10    30    50\n\n&gt;&gt; x = reshape(10:10:70,1,1,[]); % 1×1×7\n&gt;&gt; ind = reshape([2 3 4],1,1,1,1,[]); % 1×1×1×1×3\n&gt;&gt; x(ind)\nans(:,:,1) =\n    20\nans(:,:,2) =\n    30\nans(:,:,3) =\n    40\n\n\n&gt;&gt; x = [10 20 30 40; 50 60 70 80];\n&gt;&gt; x(2, [1 2; 3 4])\nans =\n    50    70    60    80\n\n&gt;&gt; x(2, [1 2 3 4])\nans =\n    50    60    70    80\n\n&gt;&gt; x(2, reshape([1 2 3 4],1,1,1,[]))\nans =\n    50    60    70    80\n\n\n&gt;&gt; x = [10 20 30 40; 50 60 70 80];\n&gt;&gt; x(:,:,2) = x+100;\n&gt;&gt; x([1 2], [1; 5; 7; 8])\nans =\n    10   110   130   140\n    50   150   170   180\n\n\nx\n\nind\n\nx\n\nind\n\nx\n\nind\n\nind\n\nx\n\nind\n\nx\n\nx\n\nind\n\nx\n\nx",
    "resolution": "The rule for linear indexing of an array x with an array ind is as follows (taken from this great post by Loren Shure): If at least one of x and ind is not a vector (that is, if x or ind have more than one non-singleton dimension) the output has the same shape (size) as ind: >> x = rand(3,4); >> ind = [9 3]; >> x(ind) ans = 0.276922984960890 0.743132468124916 >> x(ind.') ans = 0.276922984960890 0.743132468124916 >> x = rand(2,3,4); >> ind = [1 2; 5 6]; >> x(ind) ans = 0.814723686393179 0.905791937075619 0.632359246225410 0.097540404999410 If both x and ind are vectors, the output is a vector that has the same orientation as x (i.e. the output dimension which is non-singleton is that in x), and the same number of elements as ind: >> x = 10:10:70; >> ind = [1 3 5]; >> x(ind) ans = 10 30 50 >> x(ind.') ans = 10 30 50 >> x = reshape(10:10:70,1,1,[]); % 1×1×7 >> ind = reshape([2 3 4],1,1,1,1,[]); % 1×1×1×1×3 >> x(ind) ans(:,:,1) = 20 ans(:,:,2) = 30 ans(:,:,3) = 40 For completeness, if two or more indexing arrays are applied (so this is not linear indexing anymore), the shape of the output is determined by which dimensions of the original array are being indexed and by the number of elements of each indexing array. It is independent of the shape of the indexing arrays, which are simply read in column-major order as usual: >> x = [10 20 30 40; 50 60 70 80]; >> x(2, [1 2; 3 4]) ans = 50 70 60 80 >> x(2, [1 2 3 4]) ans = 50 60 70 80 >> x(2, reshape([1 2 3 4],1,1,1,[])) ans = 50 60 70 80 If there are fewer indices than the number of dimensions of x, the trailing dimensions of x are implicitly collapsed into one before the indexing is applied: >> x = [10 20 30 40; 50 60 70 80]; >> x(:,:,2) = x+100; >> x([1 2], [1; 5; 7; 8]) ans = 10 110 130 140 50 150 170 180",
    "severity": "low",
    "tags": [
      "matlab",
      "indexing"
    ],
    "metadata": {
      "language": "matlab",
      "stackoverflow_question_id": "49661246",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 79,
      "stackoverflow_creation_date": "2018-04-04T22:14:34.157Z"
    },
    "idempotency_key": "stackoverflow-49661246",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Is there any way to list the functions and data structures available from the native interface in Raku?",
    "body": "Mainly with the objective of creating sensible examples, I'd like to know which data structures and functions are available for use in Raku's native interface, as in class a-class is repr('CStruct') { has int $.whatever; } class another-class is repr('CPPStruct') { has int $.whateverelse; } sub a_native_function( another-class $object ) is native {*}; Is there some way of listing them? I'd like specially to obtain examples of C++ function and data structures, so that I don't have to create and compile an external library to create an example.",
    "code": "class a-class is repr('CStruct') { has int $.whatever; }\nclass another-class is repr('CPPStruct') { has int $.whateverelse; }\nsub a_native_function( another-class $object ) is native {*};\n\n\nnative",
    "severity": "medium",
    "tags": [
      "raku",
      "nativecall"
    ],
    "metadata": {
      "stackoverflow_question_id": "49999575",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 205,
      "stackoverflow_creation_date": "2018-04-24T10:37:30.060Z"
    },
    "idempotency_key": "stackoverflow-49999575",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Flask Google Cloud App Engine: OSError: [Errno 98] Address already in use",
    "body": "I am trying to deploy a flask app on google cloud app engine. It runs smooth in my virtual environment locally but I get an 502 error running it in the cloud. Now I am trying to debug my code on the cloud server, using debug mode and SSH into my instance. Using docker exec -it [ID] /bin/bash I am able to to access the root of my application. Now I upon running python app.py I get the following error: * Serving Flask app \"app\" (lazy loading) * Environment: production WARNING: Do not use the development server in a production environment. Use a production WSGI server instead. * Debug mode: off Traceback (most recent call last): File \"app.py\", line 479, in <module> app.run(port=8080) File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 941, in run run_simple(host, port, self, **options) File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 814, in run_simple inner() File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 774, in inner fd=fd) File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 660, in make_server passthrough_errors, ssl_context, fd=fd) File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 577, in __init__ self.address_family), handler) File \"/usr/local/lib/python3.6/socketserver.py\", line 453, in __init__ self.server_bind() File \"/usr/local/lib/python3.6/http/server.py\", line 136, in server_bind socketserver.TCPServer.server_bind(self) File \"/usr/local/lib/python3.6/socketserver.py\", line 467, in server_bind self.socket.bind(self.server_address) OSError: [Errno 98] Address already in use I've been trying to kill those processes listed when I run: ps -fA | grep python However, this does not solve the problem of the address being in use. Also changing the port in the app.run() does not solve the issue for me.",
    "code": " * Serving Flask app \"app\" (lazy loading)\n * Environment: production\n   WARNING: Do not use the development server in a production environment.\n   Use a production WSGI server instead.\n * Debug mode: off\nTraceback (most recent call last):\n  File \"app.py\", line 479, in &lt;module&gt;\n    app.run(port=8080)\n  File \"/usr/local/lib/python3.6/site-packages/flask/app.py\", line 941, in run\n    run_simple(host, port, self, **options)\n  File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 814, in run_simple\n    inner()\n  File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 774, in inner\n    fd=fd)\n  File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 660, in make_server\n    passthrough_errors, ssl_context, fd=fd)\n  File \"/usr/local/lib/python3.6/site-packages/werkzeug/serving.py\", line 577, in __init__\n    self.address_family), handler)\n  File \"/usr/local/lib/python3.6/socketserver.py\", line 453, in __init__\n    self.server_bind()\n  File \"/usr/local/lib/python3.6/http/server.py\", line 136, in server_bind\n    socketserver.TCPServer.server_bind(self)\n  File \"/usr/local/lib/python3.6/socketserver.py\", line 467, in server_bind\n    self.socket.bind(self.server_address)\nOSError: [Errno 98] Address already in use\n\n\nps -fA | grep python\n\n\ndocker exec -it [ID] /bin/bash\n\npython app.py\n\n# Solution Code:\nif __name__ == \"__main__\":\n    app.run()\n",
    "resolution": "I had a similar problem, it was caused by the Flask app also being run when the module was loaded, because I had if __name__ == \"__main__\": app.run() at the bottom. Note that the recent requirement to name your sever file \"main.py\" could cause this bug to emerge.",
    "severity": "medium",
    "tags": [
      "python",
      "google-app-engine"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "50177696",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2250,
      "stackoverflow_creation_date": "2018-05-04T14:51:33.500Z"
    },
    "idempotency_key": "stackoverflow-50177696",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "java.util.Map values() method performance",
    "body": "I have a map like this with several million entries: private final Map<String, SomeItem> tops = new HashMap<>(); I need to get list of values, which could be done by calling java.util.Map values() method. Is Collection of values created every time I call values() method or is it pre-computed from performance perspective? As my Map has several millions elements, I do not want to create new list object every time values() is called.",
    "code": "private final Map&lt;String, SomeItem&gt; tops = new HashMap&lt;&gt;();\n\n\njava.util.Map values()\n\nCollection\n\nvalues()\n\nMap\n\nvalues()\n\n# Solution Code:\npublic Collection&lt;V&gt; values() {\n    Collection&lt;V&gt; vs = values;\n    if (vs == null) {\n        vs = new Values();\n        values = vs;\n    }\n    return vs;\n}\n\n\nMap.values()\n\njava.util.HashMap\n\nvalues()",
    "resolution": "Below is the copied implementation of Map.values() in java.util.HashMap: public Collection<V> values() { Collection<V> vs = values; if (vs == null) { vs = new Values(); values = vs; } return vs; } This clearly shows that the value collection isn't created unless necessary. So, there should not be additional overhead caused by calls to values()",
    "severity": "medium",
    "tags": [
      "java",
      "performance",
      "dictionary",
      "collections",
      "hashmap"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "50190877",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2551,
      "stackoverflow_creation_date": "2018-05-05T15:07:29.233Z"
    },
    "idempotency_key": "stackoverflow-50190877",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I share a struct containing a phantom pointer among threads?",
    "body": "I have a structure that needs to be generic over a type, yet the type is not actually contained in the structure: it's used in methods of this structure, not in the structure itself. And so, the structure includes a PhantomData member: pub struct Map<T> { filename: String, phantom: PhantomData<*const T>, } The phantom member is defined as a pointer because the structure does not actually own data of type T. This is per advice in the documentation of std::marker::PhantomData: Adding a field of type PhantomData<T> indicates that your type owns data of type T. This in turn implies that when your type is dropped, it may drop one or more instances of the type T. This has bearing on the Rust compiler's drop check analysis. If your struct does not in fact own the data of type T, it is better to use a reference type, like PhantomData<&'a T> (ideally) or PhantomData<*const T> (if no lifetime applies), so as not to indicate ownership. So the pointer seems to be the right choice here. This, however, causes the structure to no longer be Send nor Sync, because PhantomData is only Send and Sync if its type parameter is, and since pointers are neither, the whole thing isn't either. And so, code like this // Given a master_map of type Arc<Map<Region>> ... let map = Arc::clone(&master_map); thread::spawn(move || { map.do_stuff(); }); fails to compile even though no Region values or even pointers are being moved: error[E0277]: the trait bound `*const Region: std::marker::Send` is not satisfied in `Map<Region>` --> src/main.rs:57:9 | 57 | thread::spawn(move || { | ^^^^^^^^^^^^^ `*const Region` cannot be sent between threads safely | = help: within `Map<Region>`, the trait `std::marker::Send` is not implemented for `*const Region` = note: required because it appears within the type `std::marker::PhantomData<*const Region>` = note: required because it appears within the type `Map<Region>` = note: required because of the requirements on the impl of `std::marker::Send` for `std::sync::Arc<Map<Region>>` = note: required because it appears within the type `[closure@src/main.rs:57:23: 60:10 map:std::sync::Arc<Map<Region>>]` = note: required by `std::thread::spawn` error[E0277]: the trait bound `*const Region: std::marker::Sync` is not satisfied in `Map<Region>` --> src/main.rs:57:9 | 57 | thread::spawn(move || { | ^^^^^^^^^^^^^ `*const Region` cannot be shared between threads safely | = help: within `Map<Region>`, the trait `std::marker::Sync` is not implemented for `*const Region` = note: required because it appears within the type `std::marker::PhantomData<*const Region>` = note: required because it appears within the type `Map<Region>` = note: required because of the requirements on the impl of `std::marker::Send` for `std::sync::Arc<Map<Region>>` = note: required because it appears within the type `[closure@src/main.rs:57:23: 60:10 map:std::sync::Arc<Map<Region>>]` = note: required by `std::thread::spawn` Here's a complete test case in the playground that exhibits this issue: use std::fmt::Debug; use std::marker::PhantomData; use std::sync::Arc; use std::thread; #[derive(Debug)] struct Region { width: usize, height: usize, // ... more stuff that would be read from a file } #[derive(Debug)] struct Map<T> { filename: String, phantom: PhantomData<*const T>, } // General Map methods impl<T> Map<T> where T: Debug, { pub fn new<S>(filename: S) -> Self where S: Into<String>, { Map { filename: filename.into(), phantom: PhantomData, } } pub fn do_stuff(&self) { println!(\"doing stuff {:?}\", self); } } // Methods specific to Map<Region> impl Map<Region> { pub fn get_region(&self) -> Region { Region { width: 10, height: 20, } } } fn main() { let master_map = Arc::new(Map::<Region>::new(\"mapfile\")); master_map.do_stuff(); let region = master_map.get_region(); println!(\"{:?}\", region); let join_handle = { let map = Arc::clone(&master_map); thread::spawn(move || { println!(\"In subthread...\"); map.do_stuff(); }) }; join_handle.join().unwrap(); } What is the best way to deal with this? This is what I've tried: Defining the phantom field as PhantomData<T>. A proper value instead of a pointer. This works, but I'm wary of it because I've no idea what effect it has, if any, on Rust compiler's \"drop check analysis\", as per the docs quoted above. Defining the phantom field as PhantomData<&'a T>. A reference. This should work, but it forces the structure to take an unneeded lifetime parameter, which propagates through my code. I'd rather not do this. Forcing the structure to implement Send and Sync. This is what I'm actually doing at the moment: unsafe impl<T> Sync for Map<T> {} unsafe impl<T> Send for Map<T> {} It seems to work, but those unsafe impls are ugly and make me nervous. To clarify what T is used for: It doesn't matter, really. It may not even be used, just provided as a marker for the type system. E.g. only needed so that Map<T> has a type parameter so different impl blocks can be provided: impl<T> struct Map<T> { // common methods of all Maps } impl struct Map<Region> { // additional methods available when T is Region } impl struct Map<Whatever> { // additional methods available when T is Whatever, etc. }",
    "code": "pub struct Map&lt;T&gt; {\n    filename: String,\n    phantom: PhantomData&lt;*const T&gt;,\n}\n\n\n// Given a master_map of type Arc&lt;Map&lt;Region&gt;&gt; ...\nlet map = Arc::clone(&amp;master_map);\n\nthread::spawn(move || {\n    map.do_stuff();\n});\n\n\nuse std::fmt::Debug;\nuse std::marker::PhantomData;\nuse std::sync::Arc;\nuse std::thread;\n\n#[derive(Debug)]\nstruct Region {\n    width: usize,\n    height: usize,\n    // ... more stuff that would be read from a file\n}\n\n#[derive(Debug)]\nstruct Map&lt;T&gt; {\n    filename: String,\n    phantom: PhantomData&lt;*const T&gt;,\n}\n\n// General Map methods\nimpl&lt;T&gt; Map&lt;T&gt;\nwhere\n    T: Debug,\n{\n    pub fn new&lt;S&gt;(filename: S) -&gt; Self\n    where\n        S: Into&lt;String&gt;,\n    {\n        Map {\n            filename: filename.into(),\n            phantom: PhantomData,\n        }\n    }\n\n    pub fn do_stuff(&amp;self) {\n        println!(\"doing stuff {:?}\", self);\n    }\n}\n\n// Methods specific to Map&lt;Region&gt;\nimpl Map&lt;Region&gt; {\n    pub fn get_region(&amp;self) -&gt; Region {\n        Region {\n            width: 10,\n            height: 20,\n        }\n    }\n}\n\nfn main() {\n    let master_map = Arc::new(Map::&lt;Region&gt;::new(\"mapfile\"));\n    master_map.do_stuff();\n    let region = master_map.get_region();\n    println!(\"{:?}\", region);\n\n    let join_handle = {\n        let map = Arc::clone(&amp;master_map);\n        thread::spawn(move || {\n            println!(\"In subthread...\");\n            map.do_stuff();\n        })\n    };\n\n    join_handle.join().unwrap();\n}\n\n\nunsafe impl&lt;T&gt; Sync for Map&lt;T&gt; {}\nunsafe impl&lt;T&gt; Send for Map&lt;T&gt; {}\n\n\nimpl&lt;T&gt; struct Map&lt;T&gt; {\n    // common methods of all Maps\n}\n\nimpl struct Map&lt;Region&gt; {\n    // additional methods available when T is Region\n}\n\nimpl struct Map&lt;Whatever&gt; {\n    // additional methods available when T is Whatever, etc.\n}\n\n\nPhantomData\n\nT\n\nstd::marker::PhantomData\n\nPhantomData&lt;T&gt;\n\nT\n\nT\n\nT\n\nPhantomData&lt;&amp;'a T&gt;\n\nPhantomData&lt;*const T&gt;\n\nSend\n\nSync\n\nPhantomData\n\nSend\n\nSync\n\nRegion\n\nPhantomData&lt;T&gt;\n\nPhantomData&lt;&amp;'a T&gt;\n\nSend\n\nSync\n\nunsafe impl\n\nT\n\nMap&lt;T&gt;\n\nimpl\n\n# Solution Code:\n#[derive(Debug)]\nstruct Map&lt;T&gt; {\n    filename: String,\n    phantom: PhantomData&lt;fn() -&gt; T&gt;,\n}\n\n\nPhantomData&lt;fn() -&gt; T&gt;\n\nfn() -&gt; T\n\nT\n\n*const T\n\n*const T\n\nSend\n\nSync\n\nT\n\nT\n\nPhantomData&lt;fn(T) -&gt; T&gt;",
    "resolution": "There's another option: PhantomData<fn() -> T>. fn() -> T has the same variance as T and *const T, but unlike *const T, it implements both Send and Sync. It also makes it clear that your struct only ever produces instances of T. (If some methods take T as input, then PhantomData<fn(T) -> T> might be more appropriate). #[derive(Debug)] struct Map<T> { filename: String, phantom: PhantomData<fn() -> T>, }",
    "severity": "medium",
    "tags": [
      "generics",
      "rust",
      "thread-safety",
      "phantom-types"
    ],
    "metadata": {
      "language": "rust",
      "stackoverflow_question_id": "50200197",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 1903,
      "stackoverflow_creation_date": "2018-05-06T13:24:43.263Z"
    },
    "idempotency_key": "stackoverflow-50200197",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I keep the name of user logged vue.js",
    "body": "Im trying to store the user logged on my application. Im using a store.js file to use vuex and save my variables. import Vue from 'vue' import Vuex from 'vuex' import createPersistedState from 'vuex-persistedstate' import Cookies from 'js-cookie' Vue.use(Vuex) export const store = new Vuex.Store({ state: { userloged: '' } }) I declared the store variable on my main.js and I used in this way, when I save the name of the user in my login component I use, this.$store.state.userloged = this.username; And when Im going to used in the others components I got it in this way, computed:{ userloged() { return this.$store.state.userloged; } }, But if I refresh the page I lost the information. What can I do?",
    "code": "import Vue from 'vue'\nimport Vuex from 'vuex'\nimport createPersistedState from 'vuex-persistedstate'\nimport Cookies from 'js-cookie'\n\n\nVue.use(Vuex)\n\nexport const store = new Vuex.Store({\n  state: {\n    userloged: ''\n  }\n})\n\n\n        this.$store.state.userloged = this.username;\n\n\n computed:{\n    userloged() {\n        return this.$store.state.userloged;\n    }\n},\n\n\n# Solution Code:\nimport createPersistedState from 'vuex-persistedstate';\n\nconst store = new Vuex.Store({\n  state: {\n    userlogged: ''\n  },\n  mutations: {\n    saveUserLogged (state, loggedUser) {\n      state.userLogged = loggedUser\n    }\n  },\n  actions: {\n    saveUserLogged (context, loggedUser) {\n      context.commit('saveUserLogged', loggedUser)\n    }\n  },\n  plugins: [createPersistedState()]\n})\n\n\nthis.$store.dispatch('saveUserLogged', this.username);\n\n\n'vuex-persistedstate'",
    "resolution": "You should use 'vuex-persistedstate' to persist Vuex state with localStorage. You should update the state through mutations and dispatching an action, redifine your vuex instance to contain the following objects: import createPersistedState from 'vuex-persistedstate'; const store = new Vuex.Store({ state: { userlogged: '' }, mutations: { saveUserLogged (state, loggedUser) { state.userLogged = loggedUser } }, actions: { saveUserLogged (context, loggedUser) { context.commit('saveUserLogged', loggedUser) } }, plugins: [createPersistedState()] }) So to save the loggedUser you should dispatch an action: this.$store.dispatch('saveUserLogged', this.username); You can learn more about mutations and actions in the Vuex official site Please take a look to this example https://codesandbox.io/s/0yy7vk29kv",
    "severity": "medium",
    "tags": [
      "javascript",
      "vue.js",
      "vuex"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "vue",
      "stackoverflow_question_id": "50355284",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4278,
      "stackoverflow_creation_date": "2018-05-15T16:39:10.063Z"
    },
    "idempotency_key": "stackoverflow-50355284",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unicode characters for font awesome 'search' not showing up after upgrading Font Awesome",
    "body": "I was using font awesomes 'search' font <i class=\"fas fa-search\"></i> unicode characters f002 in my search field placeholder like this <input id=\"navbarSearchField\" type=\"text\" class=\"form-control searchInputsHeight\" style=\"font-family:Arial, FontAwesome\" placeholder=\"&#xf002; Location\" aria-describedby=\"navbarDate\" /> and it was working fine until I upgraded to Font Awesome 5.0.13 from the older 4.4 Looking at the Font Awesome site the unicode characters are still the same. So I'm wondering if there is some file I missed when downloading the fonts or am I not implementing it correctly?",
    "code": "&lt;i class=\"fas fa-search\"&gt;&lt;/i&gt;\n\n\n&lt;input id=\"navbarSearchField\" type=\"text\" class=\"form-control searchInputsHeight\" style=\"font-family:Arial, FontAwesome\" placeholder=\"&amp;#xf002;  Location\" aria-describedby=\"navbarDate\" /&gt;\n\n\n# Solution Code:\nfont-weight: 900\n\nfont-family",
    "resolution": "I think this is a very interesting question, and I'm sure this is not a 100% perfect solution, but I found this Github Issue, where they say, that you also need to set font-weight: 900 for solid Font Awesome Icons. Also the font-family changed a bit, as mentioned in the comments. Please take a look at the snippet below, I am not sure if you can \"unbold\" the text after the icon. <link href=\"https://use.fontawesome.com/releases/v5.0.13/css/all.css\" rel=\"stylesheet\"/> <input id=\"navbarSearchField\" type=\"text\" class=\"form-control searchInputsHeight\" style=\"font-family: Arial, Font Awesome\\ 5 Free; font-weight: 900;\" placeholder=\"&#xf002 Location\" aria-describedby=\"navbarDate\" /> It seems like you would'nt need to set a specific font-weight with the \"Regular\" Icon Pack of FA, but unfortunaly this is part of FA Pro, which you would have to purchase.",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "fonts",
      "font-awesome-5",
      "fontawesome-4.4.0"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "50364733",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4091,
      "stackoverflow_creation_date": "2018-05-16T07:26:06.417Z"
    },
    "idempotency_key": "stackoverflow-50364733",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Deleting dataFrame row in Pandas if a combination of column values equals a tuple in a list",
    "body": "I currently do this to delete a row that has a specific column 'some_column' value that is found in a list removal_list df = df[~df['some_column'].isin(removal_list)] How can I do this if I want to compare a combination of values in say a list of tuples ? (doesn't necessarily need to be a list of tuples if there is a better way to achieve this) for example: removal_list = [(item1,store1),(item2,store1),(item2,store2)] if df['column_1'] and df['column_2'] of a specific row have values item1 and store1 (or any other tuple in removal_list), then delete that row also, it might be that there are more than two columns that need to be assessed EDIT better example: client account_type description 0 1 2 photographer 1 2 2 banker 2 3 3 banker 3 4 2 journalist 4 5 4 journalist remove_list = [(2,journalist),(3,banker)] check on columns account_type and description Output: client account_type description 0 1 2 photographer 1 2 2 banker 4 5 4 journalist",
    "code": "df = df[~df['some_column'].isin(removal_list)]\n\n\nremoval_list = [(item1,store1),(item2,store1),(item2,store2)]\n\n\nclient  account_type    description\n0   1   2   photographer\n1   2   2   banker\n2   3   3   banker\n3   4   2   journalist\n4   5   4   journalist\n\n\nclient  account_type    description\n0   1   2   photographer\n1   2   2   banker\n4   5   4   journalist\n\n\n'some_column'\n\nremoval_list\n\ndf['column_1']\n\ndf['column_2']\n\nitem1\n\nstore1\n\nremoval_list\n\nremove_list = [(2,journalist),(3,banker)]\n\naccount_type\n\ndescription\n\n# Solution Code:\nremoval_list = [(item1,store1),(item2,store1),(item2,store2)]\n\n\ndf[['column_1', 'column_2']].apply(tuple, axis=1)\n\n\ndf[['column_1', 'column_2']].apply(tuple, axis=1).isin(removal_list)\n\n\ndf = pd.DataFrame({'a': [1, 2], 'b': [3, 4]})\n&gt;&gt;&gt; df[['a', 'b']].apply(tuple, axis=1).isin([(1, 3), (30, 40)])\n0    (1, 3)\n1    (2, 4)\ndtype: object\n",
    "resolution": "Say you have removal_list = [(item1,store1),(item2,store1),(item2,store2)] Then df[['column_1', 'column_2']].apply(tuple, axis=1) should create a Series of tuples, and so df[['column_1', 'column_2']].apply(tuple, axis=1).isin(removal_list) is the binary condition you're after. Removal is the same as you did before. This should work for any number of columns. Example df = pd.DataFrame({'a': [1, 2], 'b': [3, 4]}) >>> df[['a', 'b']].apply(tuple, axis=1).isin([(1, 3), (30, 40)]) 0 (1, 3) 1 (2, 4) dtype: object",
    "severity": "medium",
    "tags": [
      "python",
      "pandas"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "50370467",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1811,
      "stackoverflow_creation_date": "2018-05-16T12:05:07.993Z"
    },
    "idempotency_key": "stackoverflow-50370467",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Smalltalk, increment a value from a dictionary of counters",
    "body": "im working on Smalltalk, i have \"tweets\" collection, each tweet have \"user\" and i want to count the tweets by user in a dictionary. So i have to add a counter in each key of the dictionary, and have to add keys for the first time i get the user. I was thinking in this code for the add, i want to know if is human redeable and efficient or is there a better way to do it tweetCountUserFrom: tweet in: aDictionary | user | user := tweet user. aDictionary at: user ifAbsentPut: 0. aDictionary at: user put: (result at: user) + 1",
    "code": "tweetCountUserFrom: tweet in: aDictionary\n    | user |\n    user := tweet user.\n    aDictionary at: user ifAbsentPut: 0.\n    aDictionary at: user put: (result at: user) + 1\n\n\n# Solution Code:\ntweetCountUserFrom: tweet in: aBag\n  aBag add: tweet user\n\n\n aBag occurrencesOf: user\n\n\nresult\n\naDictionary\n\nBag\n\nBag\n\nCollection\n\ntweets\n\nuser\n\naBag\n\nDictionary\n\nBags",
    "resolution": "Your code is clear enough (even though it likely includes a mistake as the result variable should have been aDictionary instead). Anyway, the intention is clear and does (or is expected to do) the same a well-known object does, which is Bag. So, let's see how the code would have been with an instance of Bag (it is always a good idea to become increasingly familiar with the Collection hierarchy of Smalltalk). Here is how you could arrive at the same result tweetCountUserFrom: tweet in: aBag aBag add: tweet user That's it! When it is time for you to see how many tweets a user has authored, you will only need to evaluate aBag occurrencesOf: user Internally, aBag will hold a Dictionary and will maintain it the way you intended in your code. However, by using an existing object you will keep your code simpler, shorter and easier to read and maintain. You will also decrease the probability of failure as Bags have been kicking around for more than 40 years now, so there is little chance for them to decieve you.",
    "severity": "low",
    "tags": [
      "dictionary",
      "smalltalk"
    ],
    "metadata": {
      "stackoverflow_question_id": "50430177",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 506,
      "stackoverflow_creation_date": "2018-05-19T22:50:51.193Z"
    },
    "idempotency_key": "stackoverflow-50430177",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "OCaml why does an empty array have polymorphic type?",
    "body": "OCaml arrays are mutable. For most mutable types, even an \"empty\" value does not have polymorphic type. For example, # ref None;; - : '_a option ref = {contents = None} # Hashtbl.create 0;; - : ('_a, '_b) Hashtbl.t = <abstr> However, an empty array does have a polymorphic type # [||];; - : 'a array = [||] This seems like it should be impossible since arrays are mutable. It happens to work out in this case because the length of an array can't change and thus there's no opportunity to break soundness. Are arrays special-cased in the type system to allow this?",
    "code": "# ref None;;\n- : '_a option ref = {contents = None}\n# Hashtbl.create 0;;\n- : ('_a, '_b) Hashtbl.t = &lt;abstr&gt;\n\n\n# [||];;\n- : 'a array = [||]\n\n\n# Solution Code:\n  | Texp_array [] -&gt; true\n\n\ntypecore.ml\n\n[||]\n\nref None\n\nref\n\ntype 'a ref = {mutable contents : 'a}\n\n[|None|]",
    "resolution": "The answer is simple -- an empty array has the polymorphic type because it is a constant. Is it special-cased? Well, sort of, mostly because an array is a built-in type, that is not represented as an ADT, so yes, in the typecore.ml in the is_nonexpansive function, there is a case for the array | Texp_array [] -> true However, this is not a special case, it is just a matter of inferring which syntactic expressions form constants. Note, in general, the relaxed value restriction allows generalization of expressions that are non-expansive (not just syntactic constants as in classical value restriction). Where non-expansive expression is either a expression in the normal form (i.e., a constant) or an expression whose computation wouldn't have any observable side effects. In our case, [||] is a perfect constant. The OCaml value restriction is even more relaxed than that, as it allows the generalization of some expansive expressions, in case if type variables have positive variance. But this is a completely different story. Also,ref None is not an empty value. A ref value by itself, is just a record with one mutable field, type 'a ref = {mutable contents : 'a} so it can never be empty. The fact that it contains an immutable value (or references the immutable value, if you like) doesn't make it either empty or polymorphic. The same as [|None|] that is also non-empty. It is a singleton. Besides, the latter has the weak polymorphic type.",
    "severity": "low",
    "tags": [
      "ocaml"
    ],
    "metadata": {
      "stackoverflow_question_id": "50500862",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 517,
      "stackoverflow_creation_date": "2018-05-24T04:14:33.623Z"
    },
    "idempotency_key": "stackoverflow-50500862",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "File being corrupt when upload using multer node js",
    "body": "I implemented the multer upload example on restful using express. The following code is the server code. var storage = multer.diskStorage({ destination: function (req, file, cb) { cb(null, './files/') }, filename: function (req, file, cb) { crypto.pseudoRandomBytes(16, function (err, raw) { cb(null, raw.toString('hex') + Date.now() + '.xsd'); }); } }); var cpUpload = multer({ storage: storage, limits: {fileSize: 1000000}}).single('schema-file'); var app = express(); app.use(function(req, res, next) { res.header(\"Access-Control-Allow-Origin\", \"*\"); res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\"); res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,PATCH,OPTIONS'); next(); }); app.post('/ws-api-designer-upload-files', cpUpload, function (req, res, next) { console.log(\"filepath \" + req.file.filename); cpUpload(req,res,function(err){ if(err){ res.set('Content-Type', 'application/json'); res.end(JSON.stringify({ status: 'ERROR 1', description: err.message })); return; }else{ res.set('Content-Type', 'application/json'); res.end(JSON.stringify({ status: 'SUCCESS 1', description: 'success' })); return; } }); }); But when i call this service using postman, the file are uploaded but when i compare original file between uploaded file, the uploaded file corrupted. I'm struggling on this problem for almost 1 week, please help. Note that this problem comes when code running on windows server 2008 r2. So when i run this server code on localhost there was no any problem like corrupted file. And I only upload a xsd file which is 173kb in size. This one is uploaded file (corrupt) uploaded file This one is original file original file",
    "code": "var storage = multer.diskStorage({\n        destination: function (req, file, cb) {\n          cb(null, './files/')\n        },\n        filename: function (req, file, cb) {\n          crypto.pseudoRandomBytes(16, function (err, raw) {\n            cb(null, raw.toString('hex') + Date.now() + '.xsd');\n          });\n        }\n});\n\nvar cpUpload = multer({ storage: storage, limits: {fileSize: 1000000}}).single('schema-file');\n\nvar app = express(); \napp.use(function(req, res, next) {\n        res.header(\"Access-Control-Allow-Origin\", \"*\");\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,PATCH,OPTIONS');\n        next();\n});\n\napp.post('/ws-api-designer-upload-files', cpUpload, function (req, res, next) {\n\n        console.log(\"filepath \" + req.file.filename);\n        cpUpload(req,res,function(err){\n\n            if(err){\n                res.set('Content-Type', 'application/json');\n                res.end(JSON.stringify({\n                    status: 'ERROR 1',\n                    description: err.message\n                }));\n                return;\n            }else{\n                res.set('Content-Type', 'application/json');\n                res.end(JSON.stringify({\n                    status: 'SUCCESS 1',\n                    description: 'success'\n                }));\n                return;             \n            }\n        });\n\n});\n",
    "severity": "medium",
    "tags": [
      "node.js",
      "express",
      "multer"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "50566503",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2104,
      "stackoverflow_creation_date": "2018-05-28T12:29:40.427Z"
    },
    "idempotency_key": "stackoverflow-50566503",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "postgres - syntax for updating a jsonb array",
    "body": "I'm struggling to find the right syntax for updating an array in a jsonb column in postgres 9.6.6 Given a column \"comments\", with this example: [ { \"Comment\": \"A\", \"LastModified\": \"1527579949\" }, { \"Comment\": \"B\", \"LastModified\": \"1528579949\" }, { \"Comment\": \"C\", \"LastModified\": \"1529579949\" } ] If I wanted to append Z to each comment (giving AZ, BZ, CZ). I know I need to use something like jsonb_set(comments, '{\"Comment\"}', Any hints on finishing this off? Thanks.",
    "code": "[\n  {\n    \"Comment\": \"A\",\n    \"LastModified\": \"1527579949\"\n  },\n  {\n    \"Comment\": \"B\",\n    \"LastModified\": \"1528579949\"\n  },\n  {\n    \"Comment\": \"C\",\n    \"LastModified\": \"1529579949\"\n  }\n]\n\n\njsonb_set(comments, '{\"Comment\"}',\n\n# Solution Code:\nUPDATE elbat\n       SET comments = array_to_json(ARRAY(SELECT jsonb_set(x.original_comment,\n                                                           '{Comment}',\n                                                           concat('\"',\n                                                                  x.original_comment-&gt;&gt;'Comment',\n                                                                  'Z\"')::jsonb)\n                                                 FROM (SELECT jsonb_array_elements(elbat.comments) original_comment) x))::jsonb;\n\n\njsonb_array_elements()\n\njsonb_set()\n\njson\n\narray_to_json()",
    "resolution": "Try: UPDATE elbat SET comments = array_to_json(ARRAY(SELECT jsonb_set(x.original_comment, '{Comment}', concat('\"', x.original_comment->>'Comment', 'Z\"')::jsonb) FROM (SELECT jsonb_array_elements(elbat.comments) original_comment) x))::jsonb; It uses jsonb_array_elements() to get the array elements as set, applies the changes on them using jsonb_set(), transforms this to an array and back to json with array_to_json(). But that's an awful lot of work. OK, maybe there is a more elegant solution, that I didn't find. But since your JSON seems to have a fixed schema anyway, I'd recommend a redesign to do it the relational way and have a simple table for the comments plus a linking table for the objects the comment is on. The change would have been very, very easy in such a model for sure.",
    "severity": "medium",
    "tags": [
      "postgresql",
      "jsonb"
    ],
    "metadata": {
      "stackoverflow_question_id": "50668305",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4580,
      "stackoverflow_creation_date": "2018-06-03T16:01:52.510Z"
    },
    "idempotency_key": "stackoverflow-50668305",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Scrapy downloading large files",
    "body": "I am new to python and scrapy. Recently I tried to crawl a video website which has over 3,000 pages, and each page contains 20 videos. I am using scrapy to fetch urls (including source of videos and next page) and requests to download the videos. The problem is, the script runs without any error, but the crawling speed is rather slow (about 4pages/min). I guess it's because scrapy is blocking next request, or pausing the download process, as a video is being downloaded? If so, is there any way I can improve the speed of scrapy instead of writing another script using multithreading? Here're my scripts: setting.py: BOT_NAME = 'video' SPIDER_MODULES = ['video.spiders'] NEWSPIDER_MODULE = 'video.spiders' LOG_LEVEL= 'DEBUG' DUPEFILTER_CLASS= 'video.custom_filters.ViewKeyFilter' DOWNLOAD_DELAY= 1 ITEM_PIPELINES= {'video.pipelines.VideoPipeline': 1, 'video.pipelines.Duplicates_Pipeline':300} FILES_STORE= '/root/OneDrive/HDvideo' custom_filters.py class ViewKeyFilter(RFPDupeFilter): def __init__(self,path=None,debug=False): self.urls_seen = set() RFPDupeFilter.__init__(self,path,debug) def request_seen(self, request): if 'viewkey=' in request.url: pattern = re.compile(r'viewkey=(\\w*)') if pattern.search(request.url).group(1) in self.urls_seen: return True else: self.urls_seen.add(request.url) spider.py class videoSpider(scrapy.Spider): name = 'video' def start_requests(self): url = \"http://video.com/v.php?next=watch&page=1\" yield Request(url,callback=self.parse,headers=headers,dont_filter=True) def parse(self, response): doc = HTML(html=response.text) if doc.find('a:contains(\">\")'): yield Request('http://video.com/v.php' + doc.find('a:contains(\">\")')[0].attrs['href'], callback=self.parse, headers=headers,dont_filter=True) for video_box in doc.find('div.listchannel'): title = video_box.find('a[target=\"blank\"]')[0].find('img')[0].attrs['title'] if not any(keyword in title for keyword in filterTitle): SDURL = video_box.find('a[target=\"blank\"]')[0].attrs['href'] if 'viewkey=' in SDURL: if video_box.find('div.hd-video'): vkey = pattern.search(SDURL).group(1) # Handling HD videos yield Request('http://video.com/video_hd.php?viewkey={}'.format(vkey), callback=self.parse_videoPage, headers=headers, cookies=cookies[random.randint(0,len(dummy_cookie) -1)]) else: yield Request(SDURL,callback=self.parse_videoPage, headers=headers) def parse_videoPage(self,response): if 'video_missing' not in response.url: doc = HTML(html=response.text) title = doc.find('#video-title')[0].text src = doc.find('source')[0].attrs['src'] item = VideoItem() item['title'] = title item['src'] = src item['vkey'] = pattern.search(response.url).group(1) self.logger.info('Return item. Title:{} src:{}'.format(title,src)) yield item pipelines.py class VideoPipeline(MediaPipeline): def process_item(self, item,spider): if item['src']: try: r =requests.get(item['src'],stream=True,timeout=5,headers=headers) log.logger.info('Downloading video: {}'.format(item['title'])) with open('/root/OneDrive/HDvideo/' + item['title'] + '.mp4','wb') as f: for chunk in r.iter_content(chunk_size=1024): if chunk: f.write(chunk) log.logger.info('Downloaded video: {}'.format(item['title'])) except: log.logger.exception('Something bad happened: ') finally: return class Duplicates_Pipeline(object): def __init__(self): self.vkeys_seen = set() def process_item(self,item,spider): if item is not None: if item['vkey'] in self.vkeys_seen: raise DropItem('Duplicate item found: {}'.format(item)) else: self.vkeys_seen.add(item['vkey']) return item Videos will be saved to /root/OneDrive/, it's a directory mounted on my Vultr VPS with rclone. Sorry for my English. Any help will be greatly appreciated.",
    "code": "BOT_NAME = 'video'\n\nSPIDER_MODULES = ['video.spiders']\nNEWSPIDER_MODULE = 'video.spiders'\n\nLOG_LEVEL= 'DEBUG'\n\nDUPEFILTER_CLASS= 'video.custom_filters.ViewKeyFilter'\n\nDOWNLOAD_DELAY= 1\n\nITEM_PIPELINES= {'video.pipelines.VideoPipeline': 1,\n                 'video.pipelines.Duplicates_Pipeline':300}\n\nFILES_STORE= '/root/OneDrive/HDvideo'\n\n\nclass ViewKeyFilter(RFPDupeFilter):\n\ndef __init__(self,path=None,debug=False):\n    self.urls_seen = set()\n    RFPDupeFilter.__init__(self,path,debug)\n\ndef request_seen(self, request):\n    if 'viewkey=' in request.url:\n        pattern = re.compile(r'viewkey=(\\w*)')\n        if pattern.search(request.url).group(1) in self.urls_seen:\n            return True\n        else:\n            self.urls_seen.add(request.url)\n\n\nclass videoSpider(scrapy.Spider):\nname = 'video'\n\ndef start_requests(self):\n    url = \"http://video.com/v.php?next=watch&amp;page=1\"\n    yield Request(url,callback=self.parse,headers=headers,dont_filter=True)\n\n\ndef parse(self, response):\n    doc = HTML(html=response.text)\n    if doc.find('a:contains(\"&gt;\")'):\n        yield Request('http://video.com/v.php' + doc.find('a:contains(\"&gt;\")')[0].attrs['href'],\n                      callback=self.parse, headers=headers,dont_filter=True)\n    for video_box in doc.find('div.listchannel'):\n        title = video_box.find('a[target=\"blank\"]')[0].find('img')[0].attrs['title']\n        if not any(keyword in title for keyword in filterTitle):\n            SDURL = video_box.find('a[target=\"blank\"]')[0].attrs['href']\n            if 'viewkey=' in SDURL:\n                if video_box.find('div.hd-video'):\n                    vkey = pattern.search(SDURL).group(1)  # Handling HD videos\n                    yield Request('http://video.com/video_hd.php?viewkey={}'.format(vkey),\n                                  callback=self.parse_videoPage, headers=headers, cookies=cookies[random.randint(0,len(dummy_cookie) -1)])\n                else:\n                    yield Request(SDURL,callback=self.parse_videoPage,\n                                  headers=headers)  \n\ndef parse_videoPage(self,response):\n    if 'video_missing' not in response.url:\n        doc = HTML(html=response.text)\n        title = doc.find('#video-title')[0].text\n        src = doc.find('source')[0].attrs['src']\n        item = VideoItem()\n        item['title'] = title\n        item['src'] = src\n        item['vkey'] = pattern.search(response.url).group(1)\n        self.logger.info('Return item. Title:{} src:{}'.format(title,src))\n        yield item\n\n\n class VideoPipeline(MediaPipeline):\n\n\n    def process_item(self, item,spider):\n        if item['src']:\n            try:\n                r =requests.get(item['src'],stream=True,timeout=5,headers=headers)\n                log.logger.info('Downloading video: {}'.format(item['title']))\n                with open('/root/OneDrive/HDvideo/' + item['title'] + '.mp4','wb') as f:\n                    for chunk in r.iter_content(chunk_size=1024):\n                        if chunk:\n                            f.write(chunk)\n                log.logger.info('Downloaded video: {}'.format(item['title']))\n            except:\n                log.logger.exception('Something bad happened: ')\n            finally:\n                return\n\n\nclass Duplicates_Pipeline(object):\n    def __init__(self):\n        self.vkeys_seen = set()\n\n    def process_item(self,item,spider):\n        if item is not None:\n            if item['vkey'] in self.vkeys_seen:\n                raise DropItem('Duplicate item found: {}'.format(item))\n            else:\n                self.vkeys_seen.add(item['vkey'])\n                return item\n\n\nscrapy\n\nrequests\n\nmultithreading\n\n/root/OneDrive/\n\nrclone",
    "severity": "medium",
    "tags": [
      "python",
      "scrapy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "50761567",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2945,
      "stackoverflow_creation_date": "2018-06-08T13:20:21.517Z"
    },
    "idempotency_key": "stackoverflow-50761567",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Array map in template literal renders an extra comma between items",
    "body": "In the following example I am trying to render a list of posts (title, body and their tags): const container = $('.container'); posts.forEach((post)=> { container.append( `<div> <h2>${post.title}</h2> <p>${post.body}</p> <div> ${post.tags.map((tag) => { `<span>${tag.name}</span>` })} </div> </div>`) }); The output however renders an extra comma between tags. I have tried to to outputting 'test' instead of the actual tag names as well as swapping the span tag for a different html tag, but the result is still the same. I have tried to search for this issue, but haven't had any luck finding anyone else having this issue with template literals.",
    "code": "const container = $('.container');\nposts.forEach((post)=&gt; {\n container.append(\n`&lt;div&gt;\n  &lt;h2&gt;${post.title}&lt;/h2&gt;\n  &lt;p&gt;${post.body}&lt;/p&gt;\n  &lt;div&gt;\n   ${post.tags.map((tag) =&gt; {\n     `&lt;span&gt;${tag.name}&lt;/span&gt;`\n   })}\n  &lt;/div&gt; \n &lt;/div&gt;`)\n});\n\n\n# Solution Code:\n${post.tags.map((tag) =&gt; `&lt;span&gt;${tag.name}&lt;/span&gt;`).join('')}\n",
    "resolution": "That's exactly how Array.join() works by default (which is called when implicitly stringifying an array), adding a comma between array entries - which is what is returned by map() -> an array. You can easily get rid of it by calling it yourself, passing an empty string as argument to join() ${post.tags.map((tag) => `<span>${tag.name}</span>`).join('')} Note that you would need to return from map too...",
    "severity": "medium",
    "tags": [
      "javascript",
      "ecmascript-6",
      "template-literals"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "50781725",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 4545,
      "stackoverflow_creation_date": "2018-06-10T08:04:17.293Z"
    },
    "idempotency_key": "stackoverflow-50781725",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible to change Gitlab CI variable value after pipeline has started?",
    "body": "I'm trying to create a dynamic gitlab pipeline based on it's own execution progress. For example I have 2 environments and deployment to each of them will be enabled/disabled based on the execution of the script in before_script. It doesn't work for me, seems that pipeline variable value can't be changed after pipeline has started. Any suggestions? (please see my gitlab-ci.yml below) variables: RELEASE: limited stages: - build - deploy before_script: - export RELEASE=${check-release-type-dynamically.sh} build1: stage: build script: - echo \"Do your build here\" ## DEPLOYMENT deploy_production_ga: stage: update_prod_env script: - echo \"deploy environment for all customers\" allow_failure: false only: - branches only: variables: - $RELEASE == \"general_availability\" deploy_production_limited: stage: update_prod_env script: - echo \"deploy environment for limited customers\" allow_failure: false only: - branches only: variables: - $RELEASE == \"limited\"",
    "code": "variables:\n  RELEASE: limited\n\nstages:\n  - build\n  - deploy\n\n\nbefore_script:\n  - export RELEASE=${check-release-type-dynamically.sh}\n\nbuild1:\n  stage: build\n  script:\n    - echo \"Do your build here\"\n\n## DEPLOYMENT\ndeploy_production_ga:\n  stage: update_prod_env\n  script:\n  - echo \"deploy environment for all customers\"\n  allow_failure: false\n  only:\n  - branches\n  only:\n   variables:\n   - $RELEASE == \"general_availability\"\n\n\ndeploy_production_limited:\n  stage: update_prod_env\n  script:\n  - echo \"deploy environment for limited customers\"\n  allow_failure: false\n  only:\n  - branches\n  only:\n   variables:\n   - $RELEASE == \"limited\"\n\n\n# Solution Code:\nstages:\n  - build\n  - update_prod_env\n\nbuild1:\n  stage: build\n  script:\n    - echo \"Do your build here\"\n\ndeploy_production_ga:\n  stage: update_prod_env\n  script:\n  - if [ \"$(./check-release-type-dynamically.sh)\" == \"general_availability\" ]; then\n      echo \"deploy environment for all customers\"\n    fi\n  only:\n  - branches    \n\ndeploy_production_limited:\n  stage: update_prod_env\n  script:\n  - if [ \"$(./check-release-type-dynamically.sh)\" == \"limited\" ]; then\n      echo \"deploy environment for all customers\"\n    fi\n  only:\n  - branches    \n\n\nstages:\n  - build\n  - update_prod_env\n\nbuild1:\n  stage: build\n  script:\n    - echo \"Do your build here\"\n\ndeploy_production_ga:\n  stage: update_prod_env\n  script:\n  - echo \"deploy environment for all customers\"\n  only:\n  - branches-general_availability    \n\ndeploy_production_limited:\n  stage: update_prod_env\n  script:\n  - echo \"deploy environment for all customers\"\n  only:\n  - branches-limited\n\n\nvariables:\n- $RELEASE == \"general_availability\"\n\n\nvariables:\n  VARIABLE_NAME: \"Value of Variable\"\n\n\nexport RELEASE=${check-release-type-dynamically.sh}\n\n./\n\nexport RELEASE=$(./check-release-type-dynamically.sh)\n\nallow_failure: false",
    "resolution": "Variables can't be evaluated in the definition. If you really want to use a shell script to decide what get's deployed you could use an bash if clause: stages: - build - update_prod_env build1: stage: build script: - echo \"Do your build here\" deploy_production_ga: stage: update_prod_env script: - if [ \"$(./check-release-type-dynamically.sh)\" == \"general_availability\" ]; then echo \"deploy environment for all customers\" fi only: - branches deploy_production_limited: stage: update_prod_env script: - if [ \"$(./check-release-type-dynamically.sh)\" == \"limited\" ]; then echo \"deploy environment for all customers\" fi only: - branches However this is really bad design. Both jobs will get executed on every commit, but only one will do something. It is better to distinguish them by branch. Only commit things to the branch you want to deploy to: stages: - build - update_prod_env build1: stage: build script: - echo \"Do your build here\" deploy_production_ga: stage: update_prod_env script: - echo \"deploy environment for all customers\" only: - branches-general_availability deploy_production_limited: stage: update_prod_env script: - echo \"deploy environment for all customers\" only: - branches-limited This way only the build job gets executed that you want to be executed. A couple of other things I noticed: export RELEASE=${check-release-type-dynamically.sh} use () instead of {} for subshells. Also if the shell script is in the same directory you must prepend an ./. It should look like: export RELEASE=$(./check-release-type-dynamically.sh) allow_failure: false this is the default in gitlab-ci and not necessary. variables: - $RELEASE == \"general_availability\" Wrong syntax for variables, use: variables: VARIABLE_NAME: \"Value of Variable\" Have a look at https://docs.gitlab.com/ee/ci/yaml/",
    "severity": "high",
    "tags": [
      "continuous-integration",
      "gitlab",
      "gitlab-ci",
      "continuous-deployment"
    ],
    "metadata": {
      "stackoverflow_question_id": "50842850",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 20360,
      "stackoverflow_creation_date": "2018-06-13T17:15:20.583Z"
    },
    "idempotency_key": "stackoverflow-50842850",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "in openlayer angular directive zoom buttons does not show",
    "body": "I don't have any zoom button in map <openlayers ol-center=\"center\" height=\"345px\" width=\"560px\"> <ol-marker ol-marker-properties=\"coords\"><ol-marker> </openlayers> how can i show them? plus and minus i use angular openlayer directive",
    "code": "&lt;openlayers ol-center=\"center\" height=\"345px\" width=\"560px\"&gt;\n    &lt;ol-marker ol-marker-properties=\"coords\"&gt;&lt;ol-marker&gt;\n&lt;/openlayers&gt;\n\n\n# Solution Code:\n&lt;link rel=\"stylesheet\" href=\"https://openlayers.org/en/v4.6.5/css/ol.css\" type=\"text/css\"&gt;\n",
    "resolution": "you need to import the css file <link rel=\"stylesheet\" href=\"https://openlayers.org/en/v4.6.5/css/ol.css\" type=\"text/css\">",
    "severity": "low",
    "tags": [
      "angularjs",
      "angularjs-directive",
      "openlayers",
      "openlayers-3",
      "angular-openlayers"
    ],
    "metadata": {
      "stackoverflow_question_id": "50847383",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 576,
      "stackoverflow_creation_date": "2018-06-13T22:50:39.717Z"
    },
    "idempotency_key": "stackoverflow-50847383",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How can I return a generic type without templates in C++?",
    "body": "I am looking to create a method that can return a generic type and then this generic type can be handled by other methods that I have specifically defined. PCCommand CrossPlatform::GetCommandPC(); XboxCommand CrossPlatform::GetCommandXbox(); ? CrossPlatform::GetCommand() { #if PLATFORM == 1 //PC return GetCommandPC(); #elif PLATFORM == 2 //xbox return GetCommandXbox(); #endif } Both GetCommandPC and GetCommandXbox return different types, so how would I return them as a generic type in C++? The issue with templates, unless I'm mistaken would be that I'd have to pass a type into this function, but I wouldn't know what type to pass as the preprocessor checks would determine what platform is being used. At the moment the PCCommand and XboxCommand are enum classes, so I'm not sure if it's possible to use a base type with enum classes. Is there any way to achieve this, or a better way to achieve this?",
    "code": "PCCommand CrossPlatform::GetCommandPC();\nXboxCommand CrossPlatform::GetCommandXbox();\n\n? CrossPlatform::GetCommand()\n{\n    #if PLATFORM == 1\n        //PC\n        return GetCommandPC();\n    #elif PLATFORM == 2\n        //xbox\n        return GetCommandXbox();\n    #endif\n\n}\n\n\n# Solution Code:\nenum class Command\n{\n    #if PLATFORM == 1\n        // PC\n        // ...\n    #elif PLATFORM == 2\n        // xbox\n        // ...\n    #endif\n};\n\n\nCommand",
    "resolution": "Since you are using conditional compilation, and assuming you only need one of the types (i.e. the one for the platform you are running on); the cleanest thing you can do is having a single Command type, which is the correct one in each case: enum class Command { #if PLATFORM == 1 // PC // ... #elif PLATFORM == 2 // xbox // ... #endif }; Think about it this way: when you are on e.g. PC, all the code for the other platforms is dead code (it won't be used, it won't be compiled, it might not even be able to be compiled!). And a general good practice is avoiding dead code lying around!",
    "severity": "low",
    "tags": [
      "c++"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "50860615",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 110,
      "stackoverflow_creation_date": "2018-06-14T15:06:32.170Z"
    },
    "idempotency_key": "stackoverflow-50860615",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Footer visible during navigate from Page2 to Page1",
    "body": "ion-footer button doesn't disappear properly when navigating from page1 to page2 and then navigate back from page2 to page1. Here's the code in page2: <ion-footer padding> <button ion-button block round color=\"primary\">Add to Order</button> </ion-footer> I have found an exact same issue on github which recommend adding tag ion-toolbar but it didn't work for me: ion-footer on back should disappear on willLeave not didLeave Footer Visible During Navigation Transition Nav animations for ion-footer-bar and ion-header-bar Any comments/answers are appreciated!",
    "code": "&lt;ion-footer padding&gt;\n  &lt;button ion-button block round color=\"primary\"&gt;Add to Order&lt;/button&gt;\n&lt;/ion-footer&gt;\n\n\nion-toolbar\n\n# Solution Code:\n&lt;ion-content&gt;\n  &lt;page code&gt;\n  &lt;div class=\"app-footer\"&gt;...&lt;/div&gt;\n&lt;/ion-content&gt;\n\n\n.app-footer {\n  left: 0;\n  bottom: 0;\n  position: absolute;\n  z-index: 10;\n  display: block;\n  width: 100%;\n}\n\n\n.app-footer\n\nion-footer\n\nion-content",
    "resolution": "Create a new class, say, .app-footer, with the same CSS properties as ion-footer and place the HTML within ion-content, like so: HTML <ion-content> <page code> <div class=\"app-footer\">...</div> </ion-content> SCSS .app-footer { left: 0; bottom: 0; position: absolute; z-index: 10; display: block; width: 100%; }",
    "severity": "low",
    "tags": [
      "ionic-framework",
      "ionic3",
      "css-transitions"
    ],
    "metadata": {
      "stackoverflow_question_id": "50864367",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 906,
      "stackoverflow_creation_date": "2018-06-14T19:12:03.403Z"
    },
    "idempotency_key": "stackoverflow-50864367",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQL Server get path with recursive CTE",
    "body": "I want to get the path for each department with this format 1.1, 1.2 and so on. This is my department table : id name parentId -------------------- 1 Dep 1 0 2 Dep 2 1 3 Dep 3 0 4 Dep 4 1 5 Dep 5 4 6 Dep 6 2 This is my recursive CTE that give me the parents and children in a flat table starting from a root department. WITH recursiveCte (parentId, id, name, Level) AS ( -- Anchor member definition SELECT d.parentId, d.id, d.name, 0 AS Level FROM Department AS d WHERE parentId = 0 UNION ALL -- Recursive member definition SELECT d.parentId, d.id, d.name, Level + 1 FROM Department AS d INNER JOIN recursiveCte AS r ON d.parentId = r.id ) -- Statement that executes the CTE SELECT parentId,id, name, Level FROM recursiveCte ORDER BY id Current results: parentId id name Level ------------------------------- 0 1 Dep 1 0 1 2 Dep 2 1 0 3 Dep 3 0 1 4 Dep 4 1 4 5 Dep 5 2 2 6 Dep 6 2 Desired results: parentId id name Level Path -------------------------------------- 0 1 Dep 1 0 1 1 2 Dep 2 1 1.1 2 6 Dep 6 2 1.1.1 1 4 Dep 4 1 1.2 4 5 Dep 5 2 1.2.1 0 3 Dep 3 0 2 Thanks.",
    "code": "id  name    parentId\n--------------------\n1   Dep 1   0\n2   Dep 2   1\n3   Dep 3   0\n4   Dep 4   1\n5   Dep 5   4\n6   Dep 6   2\n\n\nWITH recursiveCte (parentId, id, name, Level)\nAS\n(\n    -- Anchor member definition\n    SELECT \n        d.parentId, d.id, d.name, \n        0 AS Level\n    FROM\n        Department AS d\n    WHERE \n        parentId = 0 \n\n    UNION ALL\n\n    -- Recursive member definition\n    SELECT \n        d.parentId, d.id, d.name,\n        Level + 1\n    FROM \n        Department AS d\n    INNER JOIN \n        recursiveCte AS r ON d.parentId = r.id\n)\n-- Statement that executes the CTE\nSELECT parentId,id, name, Level\nFROM recursiveCte \nORDER BY id\n\n\nparentId    id  name    Level\n-------------------------------\n0           1   Dep 1   0\n1           2   Dep 2   1\n0           3   Dep 3   0\n1           4   Dep 4   1\n4           5   Dep 5   2\n2           6   Dep 6   2\n\n\nparentId    id  name    Level   Path\n--------------------------------------\n0           1   Dep 1   0       1  \n1           2   Dep 2   1       1.1 \n2           6   Dep 6   2       1.1.1\n1           4   Dep 4   1       1.2\n4           5   Dep 5   2       1.2.1 \n0           3   Dep 3   0       2 \n\n\n# Solution Code:\nrecursiveCte (parentId, id, name, Level, Path, FullPath) AS (\n    SELECT d.parentId, d.id, d.name, 0 AS Level,\n        CAST(ROW_NUMBER() OVER (ORDER BY d.id) AS nvarchar(max)),\n        RIGHT('000' + CAST(ROW_NUMBER() OVER (ORDER BY d.id) AS nvarchar(max)), 3)\n    FROM Department AS d\n    WHERE parentId = 0 \n\n    UNION ALL\n\n    SELECT d.parentId, d.id, d.name, r.Level + 1,\n        r.Path + '.' +\n        CAST(ROW_NUMBER() OVER (PARTITION BY r.Level ORDER BY d.id) AS nvarchar(max)),\n        r.FullPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER\n            (PARTITION BY r.Level ORDER BY d.id) AS nvarchar(max)), 3)\n    FROM Department AS d\n    INNER JOIN recursiveCte AS r\n        ON d.parentId = r.id\n)\n\nSELECT parentId, id, name, Level, Path, FullPath\nFROM recursiveCte\nORDER BY FullPath;\n\n\nROW_NUMBER\n\n001\n\n010",
    "resolution": "Here is a working solution. It is difficult to describe in words why this works, so I recommend taking apart the query to see how it works yourself. Basically, we recursively build the path string you want to see, using ROW_NUMBER to keep track to which particular parent each new path addition belongs. recursiveCte (parentId, id, name, Level, Path, FullPath) AS ( SELECT d.parentId, d.id, d.name, 0 AS Level, CAST(ROW_NUMBER() OVER (ORDER BY d.id) AS nvarchar(max)), RIGHT('000' + CAST(ROW_NUMBER() OVER (ORDER BY d.id) AS nvarchar(max)), 3) FROM Department AS d WHERE parentId = 0 UNION ALL SELECT d.parentId, d.id, d.name, r.Level + 1, r.Path + '.' + CAST(ROW_NUMBER() OVER (PARTITION BY r.Level ORDER BY d.id) AS nvarchar(max)), r.FullPath + '.' + RIGHT('000' + CAST(ROW_NUMBER() OVER (PARTITION BY r.Level ORDER BY d.id) AS nvarchar(max)), 3) FROM Department AS d INNER JOIN recursiveCte AS r ON d.parentId = r.id ) SELECT parentId, id, name, Level, Path, FullPath FROM recursiveCte ORDER BY FullPath; Demo Edit: I slightly edited my original answer so that it now sorts the path string using a fixed-width version, i.e. every number has a fixed width of 3 digits. This means that 001 will always sort before 010, which is the behavior we want.",
    "severity": "medium",
    "tags": [
      "sql-server",
      "common-table-expression"
    ],
    "metadata": {
      "stackoverflow_question_id": "50893656",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4087,
      "stackoverflow_creation_date": "2018-06-17T04:21:31.810Z"
    },
    "idempotency_key": "stackoverflow-50893656",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "GitHub API: Enable Push Restrictions for branch",
    "body": "I am trying to disable and enable branch protections for a GitHub project in a Python script using the GitHub API (Version 2.11). More specifically I want to remove all push restrictions from a branch and later enable them with specific teams. Replacing/adding existing team restrictions works via PUT/POST /repos/:owner/:repo/branches/:branch/protection/restrictions/teams And removing push restrictions also works like a charm using DELETE /repos/:owner/:repo/branches/:branch/protection/restrictions But, if I remove the push restrictions, I have found no way how to enable it back again to add specific teams. If I try to add or replace teams, the message says 'Push restrictions not enabled'. So how can I enable the checkbox Restrict who can push to this branch to add teams in a script? See screenshot for the desired outcome: Push Restrictions The API documentation just presents me the options Get restrictions of protected branch and Remove restrictions of protected branch. What I tried so far: Just removing all teams without removing the restrictions does not work, because then nobody is able to push. Sending PUT/POST to /repos/:owner/:repo/branches/:branch/protection/restrictions gives a 404. Right now I have no other way than clicking the checkbox manually, then adding and replacing works via API.",
    "code": "PUT/POST /repos/:owner/:repo/branches/:branch/protection/restrictions/teams\n\n\nDELETE /repos/:owner/:repo/branches/:branch/protection/restrictions\n\n\n# Solution Code:\nPUT /repos/:owner/:repo/branches/:branch/protection\n\n\nnull",
    "resolution": "Check Update branch protection section of Github API Rest : PUT /repos/:owner/:repo/branches/:branch/protection Using bash & curl : ownerWithRepo=\"MyOrg/my-repo\" branch=\"master\" curl -X PUT \\ -H 'Accept: application/vnd.github.luke-cage-preview+json' \\ -H 'Authorization: Token YourToken' \\ -d '{ \"restrictions\": { \"users\": [ \"bertrandmartel\" ], \"teams\": [ \"my-team\" ] }, \"required_status_checks\": null, \"enforce_admins\": null, \"required_pull_request_reviews\": null }' \"https://api.github.com/repos/$ownerWithRepo/branches/$branch/protection\" Note that setting null to one of those fields will disable(uncheck) the feature In python : import requests repo = 'MyOrg/my-repo' branch = 'master' access_token = 'YourToken' r = requests.put( 'https://api.github.com/repos/{0}/branches/{1}/protection'.format(repo, branch), headers = { 'Accept': 'application/vnd.github.luke-cage-preview+json', 'Authorization': 'Token {0}'.format(access_token) }, json = { \"restrictions\": { \"users\": [ \"bertrandmartel\" ], \"teams\": [ \"my-team\" ] }, \"required_status_checks\": None, \"enforce_admins\": None, \"required_pull_request_reviews\": None } ) print(r.status_code) print(r.json())",
    "severity": "medium",
    "tags": [
      "python",
      "git",
      "github",
      "github-api"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51020398",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5210,
      "stackoverflow_creation_date": "2018-06-25T09:39:05.760Z"
    },
    "idempotency_key": "stackoverflow-51020398",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Laravel Common Services Through Inheritance",
    "body": "Question. I have a bunch of controllers that are using a certain set of services. I was wondering if it is possible / right to utilize inheritance to save me from having to inject them into controllers all the time. This is what I was planning on doing. class MasterController extends controller{ public function _construct(){ $this->userData = App::make(UserService::class) $this->fooData = App::make(FooService::class) } } class UserController extends MasterController { public function __construct(BashService $bashService){ parent::__construct(); $this->bashData = $bashService; } public function someFunction(){ $something = $this->userData->doUserSomething(); } } Is this a good idea to do? A really bad idea to do? Why or why not? I thought this might save me from having to inject common services again and again into controllers. Thanks!",
    "code": "class MasterController extends controller{\n    public function _construct(){\n            $this-&gt;userData = App::make(UserService::class)\n            $this-&gt;fooData = App::make(FooService::class)\n    }\n}\n\nclass UserController extends MasterController {\n    public function __construct(BashService $bashService){\n        parent::__construct();\n        $this-&gt;bashData = $bashService;\n    }\n\n    public function someFunction(){\n        $something = $this-&gt;userData-&gt;doUserSomething();\n    }\n}\n",
    "severity": "low",
    "tags": [
      "php",
      "inheritance",
      "laravel-5"
    ],
    "metadata": {
      "language": "php",
      "stackoverflow_question_id": "51087948",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 472,
      "stackoverflow_creation_date": "2018-06-28T16:48:30.080Z"
    },
    "idempotency_key": "stackoverflow-51087948",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why this mov gs instruction causes a fault in VMWare Workstation guest running Windows 7 OS?",
    "body": "When I run the following assembly sequence in a kernel mode of Windows 7 x64 running in a VMWare Workstation virtual machine: xor eax, eax mov ax, gs mov gs, ax ; this instruction that last mov gs, ax instruction immediately causes that VM to crash (or possibly bug-check) with the following pop-up message: A fault has occurred causing a virtual CPU to enter the shutdown state. If this fault had occurred outside of a virtual machine, it would have caused the physical machine to restart. The shutdown state can be reached by incorrectly configuring the virtual machine, a bug in the guest operating system, or a problem in VMWare Workstation. Does re-loading gs register as such cause the issue in the kernel, or is it a virtualization issue? I don't see anything unusual about that mov instruction in the Intel manual. PS. By the way, replacing gs register with fs does not cause this fault. Edit: To answer the question about the state of the segment descriptor in GDT. Here it is: 0: kd> r gs gs=002b 0: kd> dg 28 P Si Gr Pr Lo Sel Base Limit Type l ze an es ng Flags ---- ----------------- ----------------- ---------- - -- -- -- -- -------- 0028 00000000`00000000 00000000`ffffffff Data RW Ac 3 Bg Pg P Nl 00000cf3",
    "code": "xor eax, eax\nmov ax, gs\nmov gs, ax     ; this instruction\n\n\n0: kd&gt; r gs\ngs=002b\n0: kd&gt; dg 28\n                                                    P Si Gr Pr Lo\nSel        Base              Limit          Type    l ze an es ng Flags\n---- ----------------- ----------------- ---------- - -- -- -- -- --------\n0028 00000000`00000000 00000000`ffffffff Data RW Ac 3 Bg Pg P  Nl 00000cf3\n\n\nmov gs, ax\n\ngs\n\nmov\n\ngs\n\nfs\n\n# Solution Code:\nmov gs,ax\n\nmov ax,gs\n\nmov gs,ax\n\nmov gs,ax\n\nmov rax, gs:[10]",
    "resolution": "I'm not sure why the move mov gs,ax would cause Windows to immediately triple fault, but it would soon enough cause it to crash. In the 64-bit Windows kernel the GS segment is used as a pointer to access the current CPU's Processor Control Region (PCR). Each CPU has a different GS base value pointing to a different PCR. Your mov ax,gs mov gs,ax sequence actually breaks this because it loads an incorrect value for the GS base into the descriptor cache. The GDT doesn't actually contain the correct base for the GS register. Since the GDT can only hold 32-bit addresses, it's not actually used to load the GS base. Instead the IA32_GS_BASE and IA32_KERNEL_GS_BASE MSRs, the later in combination with the SWAPGS instruction, are used to set a 64-bit base address for the GS segment. The selector value stored in the GS register is just a dummy value. So your mov gs,ax instruction loads the dummy 32-bit base value stored in the GDT, not the 64-bit value stored in IA32_GS_BASE. This means that the base address of the GS segment is set to 0 and not to the address of the PCR for the current CPU. After loading this incorrect GS base it's only a matter of time before the Windows kernel tries to use the GS register to access the PCR (with an instruction like mov rax, gs:[10]) and ends up reading what is probably unmapped memory causing an unexpected kernel page fault and crashing.",
    "severity": "medium",
    "tags": [
      "assembly",
      "kernel",
      "vmware",
      "virtualization",
      "windows-kernel"
    ],
    "metadata": {
      "stackoverflow_question_id": "51094397",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1978,
      "stackoverflow_creation_date": "2018-06-29T04:39:15.927Z"
    },
    "idempotency_key": "stackoverflow-51094397",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "node_modules/rxjs/Rx has no exported member 'merge'",
    "body": "my component: import {Observable, Subject , merge} from 'rxjs'; import {debounceTime, distinctUntilChanged, filter, map} from 'rxjs/operators'; focus$ = new Subject<string>(); click$ = new Subject<string>(); search = (text$: Observable<string>) => { const debouncedText$ = text$.pipe(debounceTime(200), distinctUntilChanged()); const clicksWithClosedPopup$ = this.click$.pipe(filter(() => !this.instance.isPopupOpen())); const inputFocus$ = this.focus$; return merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe( map(term => (term === '' ? states : states.filter(v => v.toLowerCase().indexOf(term.toLowerCase()) > -1)).slice(0, 10)) ); } versions: \"rxjs\": \"^5.5.6\", \"@angular/cli\": \"1.3.2\", \"@angular/compiler-cli\": \"^4.2.4\" i get error: node_modules/rxjs/Rx\"' has no exported member 'merge'",
    "code": "import {Observable, Subject , merge} from 'rxjs';\nimport {debounceTime, distinctUntilChanged, filter, map} from 'rxjs/operators';\n\nfocus$ = new Subject&lt;string&gt;();\nclick$ = new Subject&lt;string&gt;();\n\nsearch = (text$: Observable&lt;string&gt;) =&gt; {\n        const debouncedText$ = text$.pipe(debounceTime(200), distinctUntilChanged());\n        const clicksWithClosedPopup$ = this.click$.pipe(filter(() =&gt; !this.instance.isPopupOpen()));\n        const inputFocus$ = this.focus$;\n\n        return merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe(\n            map(term =&gt; (term === '' ? states\n                : states.filter(v =&gt; v.toLowerCase().indexOf(term.toLowerCase()) &gt; -1)).slice(0, 10))\n        );\n}\n\n\n\"rxjs\": \"^5.5.6\",\n\"@angular/cli\": \"1.3.2\",\n\"@angular/compiler-cli\": \"^4.2.4\"\n\n\n# Solution Code:\n return merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe(\n            map(term =&gt; (term === '' ? states\n                : states.filter(v =&gt; v.toLowerCase().indexOf(term.toLowerCase()) &gt; -1)).slice(0, 10))\n        );\n\n\nreturn Observable.merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe(\n            map(term =&gt; (term === '' ? states\n                : states.filter(v =&gt; v.toLowerCase().indexOf(term.toLowerCase()) &gt; -1)).slice(0, 10))\n        );\n\n\nmerge\n\nstatic\n\ninstance\n\nstatic\n\nimport { merge } from 'rxjs/observable/merge';\n\ninstance\n\nimport { merge } from 'rxjs/operators';\n\nLive Demo",
    "resolution": "merge can be used as either a static or instance method. for static method use import { merge } from 'rxjs/observable/merge'; return merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe( map(term => (term === '' ? states : states.filter(v => v.toLowerCase().indexOf(term.toLowerCase()) > -1)).slice(0, 10)) ); for instance method use import { merge } from 'rxjs/operators'; return Observable.merge(debouncedText$, inputFocus$, clicksWithClosedPopup$).pipe( map(term => (term === '' ? states : states.filter(v => v.toLowerCase().indexOf(term.toLowerCase()) > -1)).slice(0, 10)) ); Live Demo",
    "severity": "medium",
    "tags": [
      "angular",
      "rxjs",
      "rxjs5"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "51120793",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3846,
      "stackoverflow_creation_date": "2018-07-01T05:59:46.890Z"
    },
    "idempotency_key": "stackoverflow-51120793",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "CoreBluetooth XPC connection invalid error and Info.plist is added",
    "body": "override func viewDidLoad() { super.viewDidLoad() ref = Database.database().reference() title = \"cry\" //self.delegate = delegate centralManager = CBCentralManager.init(delegate: self, queue: .main) } extension ComposeViewController: CBCentralManagerDelegate, CBPeripheralDelegate { func centralManagerDidUpdateState(_ central: CBCentralManager) { switch central.state { case .unknown: print(\"unknoe\") case .resetting: print(\"reset\") case .unsupported: print(\"unsupported\") case .unauthorized: print(\"unauthorized\") case .poweredOff: print(\"poweredoff\") case .poweredOn: print(\"poweron\") centralManager.scanForPeripherals(withServices: [CBUUID.init(string: Service_UUID)]) } } func centralManager(_ central: CBCentralManager, didDiscover peripheral: CBPeripheral, advertisementData: [String : Any], rssi RSSI: NSNumber) { self.peripheral = peripheral print(\"discover peripheral\") centralManager.connect(peripheral, options: nil) } I was getting the following message: [CoreBluetooth] XPC connection invalid I was able to get poweron message and looks like I wasn't able to scan BLE devices. I add value in my Infoplist for Privacy bluetooth peripheral usage description NSBluetoothPeripheralUsageDescription but no luck. I tried to connect ESP32 and sending message to the LCD screen. The ESP32 is working good with BLE scanner app which I download from App Store.",
    "code": "override func viewDidLoad() {\n    super.viewDidLoad()\n\n    ref = Database.database().reference()\n    title = \"cry\"\n    //self.delegate = delegate\n    centralManager = CBCentralManager.init(delegate: self, queue: .main)            \n}\n\nextension ComposeViewController: CBCentralManagerDelegate, CBPeripheralDelegate {\n\nfunc centralManagerDidUpdateState(_ central: CBCentralManager) {\n    switch central.state {\n    case .unknown:\n        print(\"unknoe\")\n    case .resetting:\n        print(\"reset\")\n    case .unsupported:\n        print(\"unsupported\")\n    case .unauthorized:\n        print(\"unauthorized\")\n    case .poweredOff:\n        print(\"poweredoff\")\n    case .poweredOn:\n        print(\"poweron\")\n\n        centralManager.scanForPeripherals(withServices: [CBUUID.init(string: Service_UUID)])\n    }\n}\n\n\nfunc centralManager(_ central: CBCentralManager, didDiscover peripheral: CBPeripheral, advertisementData: [String : Any], rssi RSSI: NSNumber) {\n    self.peripheral = peripheral\n    print(\"discover peripheral\")\n\n\n    centralManager.connect(peripheral, options: nil)\n}\n",
    "severity": "medium",
    "tags": [
      "swift"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "51124990",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3243,
      "stackoverflow_creation_date": "2018-07-01T16:17:43.553Z"
    },
    "idempotency_key": "stackoverflow-51124990",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android kotlin Object Any type mismatch",
    "body": "How to assign kotlin map to java library map. This gives type mismatch error for Object and Any. I need to assign java map variable in a 3rd party java library, from my kotlin code map. val model = JavaModel() //from 3rd party java library val params:MutableMap<String, Any> = HashMap() params.put(\"key\",\"value\") model.params = params //gives error below Type mismatch: inferred type is MutableMap<String, Any> but Map<String, Object>? was expected",
    "code": "val model = JavaModel() //from 3rd party java library\n\nval params:MutableMap&lt;String, Any&gt; = HashMap()\nparams.put(\"key\",\"value\")\nmodel.params = params //gives error below\n\n\nMutableMap&lt;String, Any&gt;\n\nMap&lt;String, Object&gt;?\n\n# Solution Code:\nval params: MutableMap&lt;String, Object&gt; = HashMap()\n\n\nObject\n\nAny\n\nMutableMap&lt;String, Any&gt;\n\nMap&lt;String, Object&gt;?\n\nparams",
    "resolution": "Java's Object is not the same as Kotlin's Any, so the type MutableMap<String, Any> and Map<String, Object>? mismatched, because you cannot change the 3rd party java library, just declare the params as: val params: MutableMap<String, Object> = HashMap()",
    "severity": "high",
    "tags": [
      "java",
      "android",
      "kotlin",
      "type-mismatch"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "51149239",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 11196,
      "stackoverflow_creation_date": "2018-07-03T07:50:34.690Z"
    },
    "idempotency_key": "stackoverflow-51149239",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "JavaFX freezes when the system date/time changed to a day/time in the past",
    "body": "I have a strange problem. I starting my JavaFX program, that draws objects (rectangles, circles and etc.) on the screen using commands sent through a socket. When changing the system clock backwards (e.g. at 11:00 it changes at 9:00), JavaFX does not shows the result (i.e. created object) of executed commands, and the program logic in the background works and prints messages in the console for a received and executed command, but nothing is displayed on the screen. The time is changed by command: sudo date --set 'time' && sudo hwclock --systohc The OS is Ubuntu 16.04.4 LTS with kernel release version 3.4.39-s5p4418. This OS works on Smart4418 module. uname -a output: Linux 4418Module 3.4.39-s5p4418 #1 SMP PREEMPT Fri Aug 18 14:06:20 HKT 2017 armv7l armv7l armv7l GNU/Linux Java version: java version \"1.8.0_171\" Java(TM) SE Runtime Environment (build 1.8.0_171-b11) Java HotSpot(TM) Client VM (build 25.171-b11, mixed mode) I use JavaFX Embedded SDK is downloaded from Gluon's website.",
    "code": "sudo date --set 'time' &amp;&amp; sudo hwclock --systohc\n\n\nuname -a\n\n# Solution Code:\nfinal Rotate fakeRotate = new Rotate();\n    backButton.getTransforms().add(fakeRotate);\n\n    fakeAnimation = new Timeline(\n            new KeyFrame(\n                    Duration.hours(24),\n                    new KeyValue(\n                            fakeRotate.angleProperty(),\n                            0.1,\n                            Interpolator.LINEAR\n                    )\n            )\n    );\n\n    fakeAnimation.setCycleCount(Animation.INDEFINITE);\n    fakeAnimation.play();\n",
    "resolution": "After spending a lot of time searching solution I have found one (I had problem on Raspbian Strech/Buster on RPi3, on Windows 10 everything is working fine). I added \"fake\" animation to one of my component (which can be hidden) and now UI does not freeze when changing system time. It is only workaround until I find better solution. final Rotate fakeRotate = new Rotate(); backButton.getTransforms().add(fakeRotate); fakeAnimation = new Timeline( new KeyFrame( Duration.hours(24), new KeyValue( fakeRotate.angleProperty(), 0.1, Interpolator.LINEAR ) ) ); fakeAnimation.setCycleCount(Animation.INDEFINITE); fakeAnimation.play();",
    "severity": "low",
    "tags": [
      "java",
      "ubuntu",
      "javafx"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "51300293",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 509,
      "stackoverflow_creation_date": "2018-07-12T08:02:01.773Z"
    },
    "idempotency_key": "stackoverflow-51300293",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to avoid CORS errors (\"Failed to fetch\" or \"Server not found or an error occurred\") when making requests from Swagger Editor?",
    "body": "I have the following OpenAPI definition: swagger: \"2.0\" info: version: 1.0.0 title: Simple API description: A simple API to learn how to write OpenAPI Specification schemes: - https host: now.httpbin.org paths: /: get: summary: Get date in rfc2822 format responses: 200: schema: type: object items: properties: now: type: object rfc2822: type: string I would like to retrieve rfc2822 from the response: {\"now\": {\"epoch\": 1531932335.0632613, \"slang_date\": \"today\", \"slang_time\": \"now\", \"iso8601\": \"2018-07-18T16:45:35.063261Z\", \"rfc2822\": \"Wed, 18 Jul 2018 16:45:35 GMT\", \"rfc3339\": \"2018-07-18T16:45:35.06Z\"}, \"urls\": [\"/\", \"/docs\", \"/when/:human-timestamp\", \"/parse/:machine-timestamp\"]} But when I make a request from Swagger Editor, I get an error: ERROR Server not found or an error occurred What am I doing wrong?",
    "code": "{\"now\": {\"epoch\": 1531932335.0632613, \"slang_date\": \"today\", \"slang_time\": \"now\", \"iso8601\": \"2018-07-18T16:45:35.063261Z\", \"rfc2822\": \"Wed, 18 Jul 2018 16:45:35 GMT\", \"rfc3339\": \"2018-07-18T16:45:35.06Z\"}, \"urls\": [\"/\", \"/docs\", \"/when/:human-timestamp\", \"/parse/:machine-timestamp\"]}  \n\n\nrfc2822\n\n# Solution Code:\nOPTIONS\n\nOPTIONS\n\ndescription\n\nschema\n\nitems",
    "resolution": "No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost:8081' is therefore not allowed access. This is a CORS issue. The server at https://now.httpbin.org does not support CORS, so the browsers won't let web pages served from other domains to make requests to now.httpbin.org from JavaScript. You have a few options: Ask the owners of https://now.httpbin.org to support CORS. Note: The server must not require authentication for preflight OPTIONS requests. OPTIONS requests should return 200 with the proper CORS headers. If you are the owner - consider hosting Swagger UI on the same server and port (now.httpbin.org:443) to avoid CORS altogether. Disable CORS restrictions in your browser. This reduces browser security so only do this if you understand the risks. Bypass CORS in Chrome Bypass CORS in Firefox Use SwaggerHub instead of Swagger Editor to edit and test your API definitions. SwaggerHub proxies \"try it out\" requests through its servers so it's not subject to CORS restrictions. (Disclosure: I work for the company that makes SwaggerHub.) By the way, your response definition is not valid. The response is missing a description and the schema is wrong (e.g. has an extra items keyword). It should be: responses: 200: description: OK schema: type: object properties: now: type: object properties: rfc2822: type: string",
    "severity": "high",
    "tags": [
      "cors",
      "swagger",
      "swagger-ui",
      "openapi",
      "swagger-editor"
    ],
    "metadata": {
      "stackoverflow_question_id": "51407341",
      "stackoverflow_score": 23,
      "stackoverflow_view_count": 61628,
      "stackoverflow_creation_date": "2018-07-18T16:57:06.630Z"
    },
    "idempotency_key": "stackoverflow-51407341",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "why do I get a Thread 1: EXC_BAD_ACCESS (code = EXC_I386_GPFLT)",
    "body": "var soundPoolLabel: UILabel { let label = UILabel(frame: CGRect(x: 20, y: 90, width: 540, height: 94)) label.text = \"SoundPool\" label.textColor = UIColor.black label.font = UIFont(name: \"Bodoni 72 Oldstyle\", size: 80) let attributedString = NSMutableAttributedString(string: label.text!) attributedString.addAttribute(kCTKernAttributeName as NSAttributedStringKey, value: CGFloat(1.0), range: NSRange(location: 0, length: attributedString.length)) label.attributedText = attributedString return label } soundPoolLabel.translatesAutoresizingMaskIntoConstraints = false let topConstraint = soundPoolLabel.topAnchor.constraint(equalTo: view.topAnchor, constant: 90) NSLayoutConstraint.activate([topConstraint])",
    "code": "var soundPoolLabel: UILabel {\n  let label = UILabel(frame: CGRect(x: 20, y: 90, width: 540, height: 94))\n  label.text = \"SoundPool\"\n  label.textColor = UIColor.black\n  label.font = UIFont(name: \"Bodoni 72 Oldstyle\", size: 80)\n  let attributedString = NSMutableAttributedString(string: label.text!)\n  attributedString.addAttribute(kCTKernAttributeName as NSAttributedStringKey, value: CGFloat(1.0), range: NSRange(location: 0, length: attributedString.length))\n  label.attributedText = attributedString\n  return label\n}\n\nsoundPoolLabel.translatesAutoresizingMaskIntoConstraints = false\nlet topConstraint = soundPoolLabel.topAnchor.constraint(equalTo: view.topAnchor, constant: 90)\nNSLayoutConstraint.activate([topConstraint])\n\n\n# Solution Code:\nvar soundPoolLabel: UILabel = {\n  let label = UILabel(frame: CGRect(x: 20, y: 90, width: 540, height: 94))\n  label.text = &quot;SoundPool&quot;\n  label.textColor = UIColor.black\n  label.font = UIFont(name: &quot;Bodoni 72 Oldstyle&quot;, size: 80)\n  let attributedString = NSMutableAttributedString(string: label.text!)\n  attributedString.addAttribute(kCTKernAttributeName as NSAttributedStringKey, value: CGFloat(1.0), range: NSRange(location: 0, length: attributedString.length))\n  label.attributedText = attributedString\n  return label\n}()\n\n\nsoundPoolLabel",
    "resolution": "The label should not be a computed property. It should be initialized only once. Do something like this to fix the problem. var soundPoolLabel: UILabel = { let label = UILabel(frame: CGRect(x: 20, y: 90, width: 540, height: 94)) label.text = \"SoundPool\" label.textColor = UIColor.black label.font = UIFont(name: \"Bodoni 72 Oldstyle\", size: 80) let attributedString = NSMutableAttributedString(string: label.text!) attributedString.addAttribute(kCTKernAttributeName as NSAttributedStringKey, value: CGFloat(1.0), range: NSRange(location: 0, length: attributedString.length)) label.attributedText = attributedString return label }() The reason for this is because every time you use soundPoolLabel, it will create a new instance of it instead of using the same one. The system can't find the new instance in the subview hierarchy, throwing EXC_BAD_ACCESS error",
    "severity": "medium",
    "tags": [
      "swift",
      "exc-bad-access"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "51488929",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 3829,
      "stackoverflow_creation_date": "2018-07-24T00:39:48.813Z"
    },
    "idempotency_key": "stackoverflow-51488929",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Prism Snippets not working in Visual Studio 2017 with ReSharper",
    "body": "I am using Visual Studio 2017 along with the Prism Template Pack. Prism snippets were working correctly until I installed Resharper. Now the only way I can insert prism snippet is by Edit -> Intellisens -> InsertSnippet [Ctrl + K , X]. They are not popping up in Intellisense, and double tab does not work either when I type the snippet. I tried to disable/enable Prism Template Pack and reinstalling it, but without any success. Can someone have any tips on how to get them working again, without retyping them as standard visual studio snippets? P.S Visual Studio snippets (prop,propg) are working correctly.",
    "code": "(prop,propg)\n\n# Solution Code:\nResharper\n\nVisual Studio\n\nReSharper | Template Explorer | C# | New Template\n\nVisual Studio | [Menu] Tools | Code Snippets Manager... | [Language]CSharp | Select Prism from tree\n\nLocation\n\nWindows Explorer\n\nPrism\n\n*.snippet\n\n[Menu]ReSharper | Tools | Template Explorer...\n\nTemplates Explorer\n\nTemplate &lt;No Name&gt;\n\n*.snippet\n\n&lt;Code Language=\"csharp\"&gt;\n\n&lt;![CDATA[\n\n$end$]]&gt;\n\nVisual Studio | Template &lt;No Name&gt;\n\nShortcut\n\nDescription\n\nSave\n\n*.snippet\n\npropp",
    "resolution": "Funny! Juts right now! I had the same problem! I searched and found these QA in there: How to disable ReSharper property code autocomplete/code snippet & ReSharper - How to show custom snippet in IntelliSense In both answers, they said either do: Disable Resharper code snippet to use Visual Studio code snippet From Visual Studio go to ReSharper | Template Explorer | C# | New Template menu and create new code Snippet for Resharper. which I prefer the 2nd way more. To know more about Template Explorer in Resharper, you can read about it here. But especially for our problems! I used below steps to add Prism code snippets to Resharper: (Also, You can do the same thing for MVVM Light Toolkit code snippets or ...) Find Prism code snippets files folder location. (Or MvvMLight or ...): I think the easiest way to do that is to go to: Visual Studio | [Menu] Tools | Code Snippets Manager... | [Language]CSharp | Select Prism from tree, then Copy and paste its Location into Windows Explorer address bar. Then, You will have all code snippets files of Prism. Open any *.snippet file that you need to add it into Resharper with your text editor. Create a Resharper template for your Prism code snippet. From Visual Studio, go to [Menu]ReSharper | Tools | Template Explorer... Then from Templates Explorer window/Tab select C# language(from Scopes panel) and click on icon in toolbar. It will open a Template <No Name> tab inside the Visual Studio. Something look like below image: Copy original code snippet from Prism file or write it yourself. From *.snippet file that you open in step 2 in your text editor, Copy lines from <Code Language=\"csharp\"> section between <![CDATA[ and $end$]]> as I show it in below image, Then paste it into Visual Studio | Template <No Name> tab: You must give it a Shortcut name and optionally a Description then hit the Save button in Visual Studio. (you can use the same codes from *.snippet file or change it as you wish!) I change it to this to make Resharper more happier!!! lol: Done! In my case, If I type propp and press Tab key once, It will create Prism Preoperty template for me! I Hope this help someone else too ! Happy Coding!",
    "severity": "medium",
    "tags": [
      "c#",
      "visual-studio",
      "resharper",
      "prism"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "51608731",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1429,
      "stackoverflow_creation_date": "2018-07-31T08:24:06.390Z"
    },
    "idempotency_key": "stackoverflow-51608731",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Streaming S3 object to VertX Http Server Response",
    "body": "The title basically explains itself. I have a REST endpoint with VertX. Upon hitting it, I have some logic which results in an AWS-S3 object. My previous logic was not to upload to S3, but to save it locally. So, I can do this at the response routerCxt.response().sendFile(file_path...). Now that the file is in S3, I have to download it locally before I could call the above code. That is slow and inefficient. I would like to stream S3 object directly to the response object. In Express, it's something like this. s3.getObject(params).createReadStream().pipe(res);. I read a little bit, and saw that VertX has a class called Pump. But it is used by vertx.fileSystem() in the examples. I am not sure how to plug the InputStream from S3'sgetObjectContent() to the vertx.fileSystem() to use Pump. I am not even sure Pump is the correct way because I tried to use Pump to return a local file, and it didn't work. router.get(\"/api/test_download\").handler(rc -> { rc.response().setChunked(true).endHandler(endHandlr -> rc.response().end()); vertx.fileSystem().open(\"/Users/EmptyFiles/empty.json\", new OpenOptions(), ares -> { AsyncFile file = ares.result(); Pump pump = Pump.pump(file, rc.response()); pump.start(); }); }); Is there any example for me to do that? Thanks",
    "code": "    router.get(\"/api/test_download\").handler(rc -&gt; {\n        rc.response().setChunked(true).endHandler(endHandlr -&gt; rc.response().end());\n        vertx.fileSystem().open(\"/Users/EmptyFiles/empty.json\", new OpenOptions(), ares -&gt; {\n            AsyncFile file = ares.result();\n            Pump pump = Pump.pump(file, rc.response());\n            pump.start();\n        });\n    });\n\n\nVertX\n\nAWS-S3\n\nS3\n\nrouterCxt.response().sendFile(file_path...)\n\nresponse\n\nExpress\n\ns3.getObject(params).createReadStream().pipe(res);\n\nVertX\n\nPump\n\nvertx.fileSystem()\n\nInputStream\n\nS3\n\ngetObjectContent()\n\nvertx.fileSystem()\n\nPump\n\nPump\n\nPump\n\n# Solution Code:\nwebClient = WebClient.create(vertx, new WebClientOptions().setDefaultHost(\"s3-us-west-2.amazonaws.com\"));\n\nrouter.get(\"/api/test_download\").handler(rc -&gt; {\nHttpServerResponse response = rc.response();\nresponse.setChunked(true);\nwebClient.get(\"/my_bucket/test_download\")\n .as(BodyCodec.pipe(response))\n  .send(ar -&gt; {\n    if (ar.failed()) {\n      rc.fail(ar.cause());\n    } else {\n      // Nothing to do the content has been sent to the client and response.end() called\n    }\n  });\n});\n\n\nWebClient\n\nWebClient\n\npipe",
    "resolution": "It can be done if you use the Vert.x WebClient to communicate with S3 instead of the Amazon Java Client. The WebClient can pipe the content to the HTTP server response: webClient = WebClient.create(vertx, new WebClientOptions().setDefaultHost(\"s3-us-west-2.amazonaws.com\")); router.get(\"/api/test_download\").handler(rc -> { HttpServerResponse response = rc.response(); response.setChunked(true); webClient.get(\"/my_bucket/test_download\") .as(BodyCodec.pipe(response)) .send(ar -> { if (ar.failed()) { rc.fail(ar.cause()); } else { // Nothing to do the content has been sent to the client and response.end() called } }); }); The trick is to use the pipe body codec.",
    "severity": "medium",
    "tags": [
      "amazon-s3",
      "stream",
      "vert.x"
    ],
    "metadata": {
      "stackoverflow_question_id": "51664126",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2045,
      "stackoverflow_creation_date": "2018-08-03T01:25:50.583Z"
    },
    "idempotency_key": "stackoverflow-51664126",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Draw a video to canvas firefox mobile",
    "body": "I'm trying to draw a mp4 video to a canvas element as the video plays. I'm using the code below, which works on most devices and browsers, but I realize on firefox mobile the mp4 video will play, but the canvas element won't. Is there any documentation or workarounds for this problem? var canvas = document.getElementById('myCanvas'); var ctx = canvas.getContext('2d'); var video = document.getElementById('video'); canvas.width = 600; // set the canvas to be the size of the video canvas.height = 338; function loop() { ctx.drawImage(video, 0, 0); window.requestAnimationFrame(loop); }loop(); I don't see any error codes, and all other javascript remains working. I tried shrinking the video down to a very small size to remove canvas size limitations but that didn't work either.",
    "code": "var canvas = document.getElementById('myCanvas');\nvar ctx = canvas.getContext('2d');\nvar video = document.getElementById('video');\n\ncanvas.width = 600; // set the canvas to be the size of the video\ncanvas.height = 338; \n\nfunction loop() {\n    ctx.drawImage(video, 0, 0);\n    window.requestAnimationFrame(loop);\n}loop();\n",
    "severity": "low",
    "tags": [
      "javascript",
      "html5-canvas",
      "html5-video"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "51717938",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 357,
      "stackoverflow_creation_date": "2018-08-07T02:24:55.787Z"
    },
    "idempotency_key": "stackoverflow-51717938",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python ordered list search versus searching sets for list of objects",
    "body": "I have two lists of objects. Let's call the lists a and b. The objects (for our intents and purposes) are defined as below: class MyObj: def __init__(self, string: str, integer: int): self.string = string self.integer = integer def __eq__(self, other): if self.integer == other.integer: pass else: return False if fuzz.ratio(self.string, other.string) > 90: # fuzzywuzzy library checks if strings are \"similar enough\" return True else: return False Now what I want to achieve is to check which objects in list a are \"in\" list b (return true against == when compared to some object in list b). Currently I'm just looping through them as follows: for obj in a: for other_obj in b: if a == b: <do something> break I strongly suspect that there is a faster way of implementing this. The lists are long. Up to like 100 000 objects each. So this is a big bottleneck in my code. I looked at this answer Fastest way to search a list in python and it suggests that sets work much better. I'm a bit confused by this though: How significant is the \"removal of duplicates\" speedup? I don't expect to have many duplicates in my lists. Can sets remove duplicates and properly hash when I have defined the eq the way I have? How would this compare with pre-ordering the list, and using something like binary search? A set is unordered... So what is the best approach here? Please provide implementation guidelines in the answer as well.",
    "code": "class MyObj:\n    def __init__(self, string: str, integer: int):\n        self.string = string\n        self.integer = integer\n\n    def __eq__(self, other):\n        if self.integer == other.integer:\n            pass\n        else:\n            return False\n\n        if fuzz.ratio(self.string, other.string) &gt; 90: # fuzzywuzzy library checks if strings are \"similar enough\"\n            return True\n        else:\n            return False\n\n\nfor obj in a:\n    for other_obj in b:\n        if a == b:\n            &lt;do something&gt;\n            break\n\n\n# Solution Code:\nclass Name:\n    def __init__(self, first, last):\n        self.first = first\n        self.last = last\n\n    def __repr__(self):\n        return f'{self.first} {self.last}'\n\n    def __eq__(self, other):\n        return (self.first == other.first) and (self.last == other.last)\n\n\n&gt;&gt;&gt; {Name('Neil', 'Stackoverflow-user')}\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: unhashable type: 'Name'\n\n\n__eq__\n\n__hash__\n\nName\n\n__hash__\n\nbook\n\nhook\n\nhack\n\nhook\n\nDict[int, List[MyObj]]\n\nMyObj\n\nself.integer",
    "resolution": "TL;DR, when using fuzzy comparison techniques, sets and sorting can be very difficult to work with without some normalization method. You can try to be smart about reducing search spaces as much as possible, but care should be taken to do it consistently. If a class defines __eq__ and not __hash__, it is not hashable. For instance, consider the following class class Name: def __init__(self, first, last): self.first = first self.last = last def __repr__(self): return f'{self.first} {self.last}' def __eq__(self, other): return (self.first == other.first) and (self.last == other.last) Now, if you were to try to create a set with these elements >>> {Name('Neil', 'Stackoverflow-user')} Traceback (most recent call last): File \"<stdin>\", line 1, in <module> TypeError: unhashable type: 'Name' So, in the case of Name, you would simply define a __hash__ method. However, in your case, this is more difficult since you have fuzzy equality semantics. The only way I can think of to get around this is to have a normalization function that you can prove will be consistent, and use the normalized string instead of the actual string as part of your hash. Take Floats as dictionary keys as an example of needing to normalize in order to use a \"fuzzy\" type like floats as keys. For sorting and binary searching, since you are fuzzy-searching, you still need to be careful with things like binary searching. As an example, assume you say equality is determined by being within a certain range of Levenshtein distances. Then book and hook will similar to each other (distance = 1), but hack with a distance of 2, will be closer to hook. So how will you define a good sorting algorithm for fuzzy searching in this case? One thing to try would be to use some form of group-by/bucketing, like a dictionary of the type Dict[int, List[MyObj]], where instances of MyObj are classified by their one constant, the self.integer field. Then you can try comparing smaller sub-lists. This would at least reduce search spaces by clustering.",
    "severity": "low",
    "tags": [
      "python",
      "list",
      "search",
      "set"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51727147",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 295,
      "stackoverflow_creation_date": "2018-08-07T12:44:36.573Z"
    },
    "idempotency_key": "stackoverflow-51727147",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python typing for a parameter can be None",
    "body": "I'm trying to create a tree structure with python typing annotation. The code is like this: from typing import List class TNode: def __init__(self, parent: 'TNode', data: str, children: List['TNode'] = []): self.parent = parent self.data = data self.children = children root = TNode(None, 'example') But the code has a issue of type mismatching, Pycharm will raise Expected type 'TNode', got 'None' instead. Is there a way to solve this issue, or if there is a better way to design the class constructor?",
    "code": "from typing import List\n\nclass TNode:\n    def __init__(self, parent: 'TNode', data: str, children: List['TNode'] = []):\n        self.parent = parent\n        self.data = data\n        self.children = children\n\n\nroot = TNode(None, 'example')\n\n\nExpected type 'TNode', got 'None' instead\n\n# Solution Code:\nfrom typing import List, Optional\n\nclass TNode:\n    def __init__(self, parent: Optional['TNode'], data: str, children: List['TNode'] = []) -&gt; None:\n\n\nclass TNode:\n    def __init__(\n        self,\n        parent: Optional['TNode'],\n        data: str,\n        children: Optional[List['TNode']] = None\n    ) -&gt; None:\n        self.parent = parent\n        self.data = data\n        self.children = children or []\n\n\nNone\n\nOptional\n\nUnion[None, 'TNode']\n\n[]\n\nchildren\n\nNone\n\nchildren or []\n\nself.children\n\nchildren\n\nNone",
    "resolution": "If your parent node can be None, you need to mark the argument as Optional or explicitly use a Union[None, 'TNode'] annotation: from typing import List, Optional class TNode: def __init__(self, parent: Optional['TNode'], data: str, children: List['TNode'] = []) -> None: Side note: you probably do not want to use [] as a default value for children. Defaults are evaluated once and stored with the function object, so if you were to use the default value and mutate it, you mutate the shared default. See \"Least Astonishment\" and the Mutable Default Argument. Set children to a default None sentinel value instead: class TNode: def __init__( self, parent: Optional['TNode'], data: str, children: Optional[List['TNode']] = None ) -> None: self.parent = parent self.data = data self.children = children or [] The children or [] expression will set self.children to an empty list whenever the children argument is a falsey value, including None and an empty list. I also used a different formatting for the argument list, better suited for type-annotated arguments where the line length would exceed the recommended 80 characters line length limit.",
    "severity": "medium",
    "tags": [
      "python",
      "python-typing"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51763734",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3608,
      "stackoverflow_creation_date": "2018-08-09T09:43:49.997Z"
    },
    "idempotency_key": "stackoverflow-51763734",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python `or`, `and` operator precedence example",
    "body": "I cannot produce example in Python which shows Boolean operator precedence rules combined with short circuit evaluation. I can show operator precedence using: print(1 or 0 and 0) # Returns 1 because `or` is evaluated 2nd. But the issue with short circuiting shows up when I change it to this: def yay(): print('yay'); return True def nay(): print('nay') def nope(): print('nope') print(yay() or nay() and nope()) # Prints \"yay\\nTrue\" For each of 4 possibilities when expression before or is True it is the only evaluated expression. If operator precedence works this should print \"nay\\nnope\\nyay\\nTrue\" or \"nay\\nyay\\nTrue\", with short circuiting, because and should be evaluated 1st. What comes to mind from this example is that Python reads boolean expression from left to right and ends it when result is known regardless of operator precedence. Where is my error or what am I missing? Please give an example where it's visible that and is evaluated 1st and it isn't due to code being interpreted from left to right.",
    "code": "print(1 or 0 and 0)  # Returns 1 because `or` is evaluated 2nd.\n\n\ndef yay(): print('yay'); return True\ndef nay(): print('nay')\ndef nope(): print('nope')\nprint(yay() or nay() and nope())  # Prints \"yay\\nTrue\"\n\n\nor\n\nTrue\n\n\"nay\\nnope\\nyay\\nTrue\"\n\n\"nay\\nyay\\nTrue\"\n\nand\n\nand\n\n# Solution Code:\n&gt;&gt;&gt; def f(x): print(x); return x\n&gt;&gt;&gt; f(1) + f(2) * f(3) / f(4) ** f(5) - f(6)         # 1 2 3 4 5 6 -&gt; -4.99\n&gt;&gt;&gt; (f(1) + f(2)) * (((f(3) / f(4)) ** f(5)) - f(6)) # 1 2 3 4 5 6 -&gt; -17.29\n\n\nclass F:\n    def __init__(self,x): self.x = x\n    def __add__(self, other): print(f\"add({self},{other})\"); return F(self.x+other.x)\n    def __mul__(self, other): print(f\"mul({self},{other})\"); return F(self.x*other.x)\n    def __pow__(self, other): print(f\"pow({self},{other})\"); return F(self.x**other.x)\n    def __repr__(self): return str(self.x)\ndef f(x): print(x); return F(x)\n\n\nr = x or y and z\n\ntmp = y and z; r = x or tmp\n\nr = x or (y and z)\n\nor\n\n(y and z)\n\nor\n\nand\n\noperator.or_(yay(), operator.and_(nay(), nope()))\n\nyay\n\nnay\n\nnope\n\n(...)\n\nf(1) + f(2) ** f(3) * f(4)\n\n1\n\n2\n\n3\n\npow(2,3)\n\n4\n\nmul(8,4)\n\nadd(1,32)",
    "resolution": "You are confusing operator precedence and evaluation order. The expression r = x or y and z is not evaluated as tmp = y and z; r = x or tmp, but just as r = x or (y and z). This expression is evaluated from left to right, and if the result of the or is already decided, then (y and z) will not be evaluated at all. Note that it would be different if or and and were functions; in this case, the parameters of the functions would be evaluated before the function itself is called. Hence, operator.or_(yay(), operator.and_(nay(), nope())) prints yay, nay and nope i.e. it prints all three, but still in order from left to right. You can generalize this to other operators, too. The following two expressions will yield different results due to the different operator precedence (both implicit and explicit by using (...)), but the functions are called from left to right both times. >>> def f(x): print(x); return x >>> f(1) + f(2) * f(3) / f(4) ** f(5) - f(6) # 1 2 3 4 5 6 -> -4.99 >>> (f(1) + f(2)) * (((f(3) / f(4)) ** f(5)) - f(6)) # 1 2 3 4 5 6 -> -17.29 As pointed out in comments, while the terms in between operations are evaluated from left to right, the actual operations are evaluated according to their precedence. class F: def __init__(self,x): self.x = x def __add__(self, other): print(f\"add({self},{other})\"); return F(self.x+other.x) def __mul__(self, other): print(f\"mul({self},{other})\"); return F(self.x*other.x) def __pow__(self, other): print(f\"pow({self},{other})\"); return F(self.x**other.x) def __repr__(self): return str(self.x) def f(x): print(x); return F(x) This way, the expression f(1) + f(2) ** f(3) * f(4) is evaluated as 1, 2, 3, pow(2,3), 4, mul(8,4), add(1,32), i.e. terms are evaluated left-to-right (and pushed on a stack) and expressions are evaluated as soon as their parameters are evaluated.",
    "severity": "medium",
    "tags": [
      "python",
      "boolean-logic",
      "operator-precedence",
      "short-circuiting"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51784005",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 6700,
      "stackoverflow_creation_date": "2018-08-10T10:02:39.257Z"
    },
    "idempotency_key": "stackoverflow-51784005",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "vs code prettier - adds new line after @Input() decorator in angular",
    "body": "I've been using prettier for near 2 years now to format my angular code. Starting last week prettier starts to insert a new line behind all angular statements with decorators like @Input(), @Output(), @ViewChild(),.. resulting in something like @Input() property1 @Output() emitter which doubles the line count and doesn't add to readability. My prettier settings are: \"editor.tabSize\": 2, \"prettier.singleQuote\": true, \"prettier.tabWidth\": 2, \"prettier.useTabs\": false, \"prettier.semi\": true, \"prettier.printWidth\": 120, \"prettier.eslintIntegration\": true, Event when I reset to default settings, this new line thing still occurs. Does anybody has suggestions? Thanks.",
    "code": "@Input()\nproperty1\n\n@Output()\nemitter\n\n\n  \"editor.tabSize\": 2,\n  \"prettier.singleQuote\": true,\n  \"prettier.tabWidth\": 2,\n  \"prettier.useTabs\": false,\n  \"prettier.semi\": true,\n  \"prettier.printWidth\": 120,\n  \"prettier.eslintIntegration\": true,\n\n\nprettier\n\nangular\n\nprettier\n\nangular\n\n@Input()\n\n@Output()\n\n@ViewChild()\n\nprettier",
    "severity": "medium",
    "tags": [
      "visual-studio-code",
      "formatting",
      "prettier"
    ],
    "metadata": {
      "stackoverflow_question_id": "51821817",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 3499,
      "stackoverflow_creation_date": "2018-08-13T11:56:35.673Z"
    },
    "idempotency_key": "stackoverflow-51821817",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python chi square goodness of fit test to get the best distribution",
    "body": "Given a set of data values, I'm trying to get the best theoretical distribution that describes the data well. I came up with the following python code after days of research. import numpy as np import csv import pandas as pd import scipy.stats as st import math import sys import matplotlib matplotlib.use('Agg') import matplotlib.pyplot as plt def fit_to_all_distributions(data): dist_names = ['fatiguelife', 'invgauss', 'johnsonsu', 'johnsonsb', 'lognorm', 'norminvgauss', 'powerlognorm', 'exponweib','genextreme', 'pareto'] params = {} for dist_name in dist_names: try: dist = getattr(st, dist_name) param = dist.fit(data) params[dist_name] = param except Exception: print(\"Error occurred in fitting\") params[dist_name] = \"Error\" return params def get_best_distribution_using_chisquared_test(data, params): histo, bin_edges = np.histogram(data, bins='auto', normed=False) number_of_bins = len(bin_edges) - 1 observed_values = histo dist_names = ['fatiguelife', 'invgauss', 'johnsonsu', 'johnsonsb', 'lognorm', 'norminvgauss', 'powerlognorm', 'exponweib','genextreme', 'pareto'] dist_results = [] for dist_name in dist_names: param = params[dist_name] if (param != \"Error\"): # Applying the SSE test arg = param[:-2] loc = param[-2] scale = param[-1] cdf = getattr(st, dist_name).cdf(bin_edges, loc=loc, scale=scale, *arg) expected_values = len(data) * np.diff(cdf) c , p = st.chisquare(observed_values, expected_values, ddof=number_of_bins-len(param)) dist_results.append([dist_name, c, p]) # select the best fitted distribution best_dist, best_c, best_p = None, sys.maxsize, 0 for item in dist_results: name = item[0] c = item[1] p = item[2] if (not math.isnan(c)): if (c < best_c): best_c = c best_dist = name best_p = p # print the name of the best fit and its p value print(\"Best fitting distribution: \" + str(best_dist)) print(\"Best c value: \" + str(best_c)) print(\"Best p value: \" + str(best_p)) print(\"Parameters for the best fit: \" + str(params[best_dist])) return best_dist, best_c, params[best_dist], dist_results Then I test this code by, a, m = 3., 2. values = (np.random.pareto(a, 1000) + 1) * m data = pd.Series(values) params = fit_to_all_distributions(data) best_dist_chi, best_chi, params_chi, dist_results_chi = get_best_distribution_using_chisquared_test(values, params) Since the data points are generated using Pareto distribution, it should return pareto as the best fitting distribution with a sufficiently large p value (p>0.05). But this is what I get as output. Best fitting distribution: genextreme Best c value: 106.46087793622216 Best p value: 7.626303538461713e-24 Parameters for the best fit: (-0.7664124294696955, 2.3217378846757164, 0.3711562696710188) Is there anything wrong with my implementation of Chi Squared goodness of fit test?",
    "code": "import numpy as np\nimport csv\nimport pandas as pd\nimport scipy.stats as st\nimport math\nimport sys\nimport matplotlib\nmatplotlib.use('Agg')\nimport matplotlib.pyplot as plt\n\ndef fit_to_all_distributions(data):\n    dist_names = ['fatiguelife', 'invgauss', 'johnsonsu', 'johnsonsb', 'lognorm', 'norminvgauss', 'powerlognorm', 'exponweib','genextreme', 'pareto']\n\n    params = {}\n    for dist_name in dist_names:\n        try:\n            dist = getattr(st, dist_name)\n            param = dist.fit(data)\n\n            params[dist_name] = param\n        except Exception:\n            print(\"Error occurred in fitting\")\n            params[dist_name] = \"Error\"\n\n    return params \n\n\ndef get_best_distribution_using_chisquared_test(data, params):\n\n    histo, bin_edges = np.histogram(data, bins='auto', normed=False)\n    number_of_bins = len(bin_edges) - 1\n    observed_values = histo\n\n    dist_names = ['fatiguelife', 'invgauss', 'johnsonsu', 'johnsonsb', 'lognorm', 'norminvgauss', 'powerlognorm', 'exponweib','genextreme', 'pareto']\n\n    dist_results = []\n\n    for dist_name in dist_names:\n\n        param = params[dist_name]\n        if (param != \"Error\"):\n            # Applying the SSE test\n            arg = param[:-2]\n            loc = param[-2]\n            scale = param[-1]\n            cdf = getattr(st, dist_name).cdf(bin_edges, loc=loc, scale=scale, *arg)\n            expected_values = len(data) * np.diff(cdf)\n            c , p = st.chisquare(observed_values, expected_values, ddof=number_of_bins-len(param))\n            dist_results.append([dist_name, c, p])\n\n\n    # select the best fitted distribution\n    best_dist, best_c, best_p = None, sys.maxsize, 0\n\n    for item in dist_results:\n        name = item[0]\n        c = item[1]\n        p = item[2]\n        if (not math.isnan(c)):\n            if (c &lt; best_c):\n                best_c = c\n                best_dist = name\n                best_p = p\n\n    # print the name of the best fit and its p value\n\n    print(\"Best fitting distribution: \" + str(best_dist))\n    print(\"Best c value: \" + str(best_c))\n    print(\"Best p value: \" + str(best_p))\n    print(\"Parameters for the best fit: \" + str(params[best_dist]))\n\n    return best_dist, best_c, params[best_dist], dist_results\n\n\na, m = 3., 2.\nvalues = (np.random.pareto(a, 1000) + 1) * m\ndata = pd.Series(values)\nparams = fit_to_all_distributions(data)\nbest_dist_chi, best_chi, params_chi, dist_results_chi = get_best_distribution_using_chisquared_test(values, params)\n\n\nBest fitting distribution: genextreme\nBest c value: 106.46087793622216\nBest p value: 7.626303538461713e-24\nParameters for the best fit: (-0.7664124294696955, 2.3217378846757164, 0.3711562696710188)\n\n\n# Solution Code:\nc , p = st.chisquare(observed_values, expected_values, ddof=len(param))\n",
    "resolution": "Python chi square goodness of fit test (https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.chisquare.html) mentions that \"“Delta degrees of freedom”: adjustment to the degrees of freedom for the p-value. The p-value is computed using a chi-squared distribution with k - 1 - ddof degrees of freedom, where k is the number of observed frequencies. The default value of ddof is 0.\" Hence your code should be corrected as follows. c , p = st.chisquare(observed_values, expected_values, ddof=len(param))",
    "severity": "high",
    "tags": [
      "python",
      "scipy",
      "statistics"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51894150",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 13615,
      "stackoverflow_creation_date": "2018-08-17T11:12:16.867Z"
    },
    "idempotency_key": "stackoverflow-51894150",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to make dict element value as list in Python",
    "body": "I have a list. Let's say [3,4,2,3,4,2,1,4,5]. I need to create a dictionary from the indexes of the elements. Here in this case, I need to create a dict as follows: { '3':[0,3], '4':[1,4,7], '2':[2,5], '1':[6], '5':[8] } where the element values are the indexes of the keys in list provided. I've tried. But was able to change the values as integers only. But unable to make them as list. Is there any way to do this with just 1 for loop? The code I've tried: d=dict() ll=[1,2,1,2,1,2,3,4,5,5,4,2,4,6,5,6,78,3,2,4,5,7,8,9,4,4,2,2,34,5,6,3] for i,j in enumerate(ll): d[j].append(i) print(d)",
    "code": "{\n   '3':[0,3],\n   '4':[1,4,7],\n   '2':[2,5],\n   '1':[6],\n   '5':[8]\n}\n\n\nd=dict()\nll=[1,2,1,2,1,2,3,4,5,5,4,2,4,6,5,6,78,3,2,4,5,7,8,9,4,4,2,2,34,5,6,3]\nfor i,j in enumerate(ll):\n    d[j].append(i)\nprint(d)\n\n\n[3,4,2,3,4,2,1,4,5]\n\n# Solution Code:\nd = [3,4,2,3,4,2,1,4,5]\nnew_d = {i:[c for c, a in enumerate(d) if i == a] for i in set(d)}\n\n\n{1: [6], 2: [2, 5], 3: [0, 3], 4: [1, 4, 7], 5: [8]}\n\n\nset",
    "resolution": "You can use a set: d = [3,4,2,3,4,2,1,4,5] new_d = {i:[c for c, a in enumerate(d) if i == a] for i in set(d)} Output: {1: [6], 2: [2, 5], 3: [0, 3], 4: [1, 4, 7], 5: [8]}",
    "severity": "low",
    "tags": [
      "python",
      "python-3.x",
      "python-2.7",
      "list",
      "dictionary"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "51898026",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 333,
      "stackoverflow_creation_date": "2018-08-17T14:55:07.197Z"
    },
    "idempotency_key": "stackoverflow-51898026",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "vscode jump to git/source control shortcut/command for current file",
    "body": "Just wondering if anyone knows if there is a shortcut or command in vscode that will jump the current file to the source control tab? I know that if you're in source control, cmd + ; will jump you to the file alone, but if you want to get back to the source control view, is there a reverse command? Thanks!",
    "code": "cmd + ;\n\n# Solution Code:\n{\n  \"key\": \"shift+cmd+;\",\n  \"command\": \"git.openChange\"\n},\n{\n  \"key\": \"cmd+;\",\n  \"command\": \"git.openFile\"\n}\n\n\ncmd+;\n\nshift+cmd+;",
    "resolution": "You can add a keyboard shortcut to jump to git changes view like so: { \"key\": \"shift+cmd+;\", \"command\": \"git.openChange\" }, { \"key\": \"cmd+;\", \"command\": \"git.openFile\" } then you can use cmd+; from within a file to jump to its git changes and shift+cmd+; to jump back.",
    "severity": "medium",
    "tags": [
      "visual-studio-code"
    ],
    "metadata": {
      "stackoverflow_question_id": "51956728",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 3116,
      "stackoverflow_creation_date": "2018-08-21T21:08:06.383Z"
    },
    "idempotency_key": "stackoverflow-51956728",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to build the docker python container with ubuntu 18.04 (bionic)?",
    "body": "Python provides docker images (https://hub.docker.com//python/), which come in a variety of flavours (based on different images from: https://hub.docker.com//buildpack-deps/). Unfortunately, none are provided with ubuntu 18.04 (bionic) as a base. I would like to build that. I initially thought I should just start off with a \"real\" ubuntu 18.04 docker image (https://hub.docker.com/r/library/ubuntu/) and install relevant the ubuntu packages, but the resulting docker image appears to get pretty large quickly and of course doesn't pull in the current python release (3.7.0). Next, I tried to simply build the exact Dockerfile provided on docker hub (https://github.com/docker-library/python/blob/8601079d1f70b03c01408377716a3243ce75cec9/3.7/stretch/Dockerfile), but replace the FROM buildpack-deps:stretch with FROM buildpack-deps:bionic. Unfortunately, the build appears to require some sort of interactive selection of my region and I don't see how I can get around that (output below). Any suggestions on how to pre-configure this build so it doesn't ask me for the region / how to disable that prompt? I saw suggestions using expect, but no idea if that can easily be integrated into the docker build. Docker build output [...] Setting up tzdata (2018d-1) ... debconf: unable to initialize frontend: Dialog debconf: (TERM is not set, so the dialog frontend is not usable.) debconf: falling back to frontend: Readline Configuring tzdata ------------------ Please select the geographic area in which you live. Subsequent configuration questions will narrow this down by presenting a list of cities, representing the time zones in which they are located. 1. Africa 4. Australia 7. Atlantic 10. Pacific 13. Etc 2. America 5. Arctic 8. Europe 11. SystemV 3. Antarctica 6. Asia 9. Indian 12. US Geographic area: PS: Building the docker image with the original FROM buildpack-deps:stretch appears to work fine, so this interactive selection is something related to the bionic base.",
    "code": "[...]\nSetting up tzdata (2018d-1) ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (TERM is not set, so the dialog frontend is not usable.)\ndebconf: falling back to frontend: Readline\nConfiguring tzdata\n------------------\n\nPlease select the geographic area in which you live. Subsequent configuration\nquestions will narrow this down by presenting a list of cities, representing\nthe time zones in which they are located.\n\n  1. Africa      4. Australia  7. Atlantic  10. Pacific  13. Etc\n  2. America     5. Arctic     8. Europe    11. SystemV\n  3. Antarctica  6. Asia       9. Indian    12. US\nGeographic area:\n\n\nFROM buildpack-deps:stretch\n\nFROM buildpack-deps:bionic\n\nexpect\n\nFROM buildpack-deps:stretch\n\n# Solution Code:\nstretch\n\nbuster\n\nbuster\n\nFROM buildpack-deps:buster",
    "resolution": "In short: don't do it. I wasn't aware that Ubuntu (18.04) bionic was no longer based on Debian stretch, but is now actually based on Debian buster. So instead of trying to build this on top of ubuntu, I can also just build it on top of buster and simply use: FROM buildpack-deps:buster",
    "severity": "medium",
    "tags": [
      "python",
      "docker",
      "tzdata"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "52259241",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 5461,
      "stackoverflow_creation_date": "2018-09-10T13:47:55.943Z"
    },
    "idempotency_key": "stackoverflow-52259241",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Using ICommand in Windows Workflow Custom Activities",
    "body": "I have used Relay Commands quite a bit in WPF projects but I am currently working on Windows Workflows and I am making a custom activity with its own designer. I want a button on my design to add new fields if pressed. I have spent days trawling the internet but it seems windows workflow has defeated me. This is what I have and it does not work, if anyone knows why please help. [Designer(typeof(MyCustomActivityDesigner))] public sealed class MyCustomActivity : AsyncCodeActivity { public MyCustomActivity() { AddSpecificParameter = new DelegateCommand(AddParameter); } public DelegateCommand AddSpecificParameter { get; set; } public void AddParameter() { //add value to an obervable collection } } Relay command implementation: public class DelegateCommand :ICommand { //Parameterless constructor needed as windows workflow serialises it public DelegateCommand() { } private readonly Action _action; public DelegateCommand(Action action) { _action = action; } public void Execute(object parameter) { _action(); } public bool CanExecute(object parameter) { return true; } public event EventHandler CanExecuteChanged; } And the xaml is simply a button with a command binding but due to windows workflow weird stuff it goes through ModelItem (at least for the other bindings I have) <Button Command=\"{Binding Path=ModelItem.AddSpecificParameter}\"/> So the key differences from code that I have in WPF apps that works is the parameter-less constructor but this shouldn't effect it? Tested this, parameter-less constructor works fine in WPF apps,so it has to be due to the ModelItem not being able to handle commands? Also the ModelItem Binding path works for all the other bindable properties on the viewmodel (for example strings on labels) Note: The activities are tested/displayed in a rehosted designer.",
    "code": "[Designer(typeof(MyCustomActivityDesigner))]\npublic sealed class MyCustomActivity : AsyncCodeActivity\n{\n    public MyCustomActivity()\n    {\n        AddSpecificParameter = new DelegateCommand(AddParameter);\n    }\n    public DelegateCommand AddSpecificParameter { get; set; }\n\n    public void AddParameter()\n    {\n        //add value to an obervable collection\n    }\n}\n\n\npublic class DelegateCommand :ICommand\n{\n    //Parameterless constructor needed as windows workflow serialises it\n    public DelegateCommand()\n    { }\n\n    private readonly Action _action;\n\n    public DelegateCommand(Action action)\n    {\n        _action = action;\n    }\n    public void Execute(object parameter)\n    {\n        _action();\n    }\n    public bool CanExecute(object parameter)\n    {\n        return true;\n    }\n\n    public event EventHandler CanExecuteChanged;\n}\n\n\n&lt;Button Command=\"{Binding Path=ModelItem.AddSpecificParameter}\"/&gt;\n\n\nWPF\n\nWPF",
    "severity": "low",
    "tags": [
      "c#",
      "xaml",
      "workflow-foundation-4",
      "workflow-foundation"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "52554669",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 238,
      "stackoverflow_creation_date": "2018-09-28T11:45:59.827Z"
    },
    "idempotency_key": "stackoverflow-52554669",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Vue + Apollo: TypeError: this.getClient(...).watchQuery is not a function",
    "body": "I am trying to setup a very simple query using Vue + Apollo (Postgraphile GraphQL server in the backend). In my component I have (in the script tag): import { CURRENT_USER_QUERY } from '../constants/graphql'; export default { name: 'User', data() { return { currentUser: undefined, }; }, apollo: { currentUser: CURRENT_USER_QUERY, }, }; In ../contants/graphql I have: import gql from 'graphql-tag'; export const CURRENT_USER_QUERY = gql` query CurrentUserQuery { currentUser { id username } } `; In my Graphiql endpoint, the query above works without any problems. However, when I run it in Vue, I get the following message on console: [Vue warn]: Error in created hook: \"TypeError: this.getClient(...).watchQuery is not a function\" Searched everywhere and could not find anyone with a similar error... Any clues? Where should I start looking at? Thanks!!",
    "code": "[Vue warn]: Error in created hook: \"TypeError: \nthis.getClient(...).watchQuery is not a function\"\n\n\n../contants/graphql\n\n# Solution Code:\napolloClient.watchQuery({\n  query: yourQuery,\n  variables: yourVariables\n}).subscribe({\n  next: (body) =&gt; {\n    console.log('success', body)\n    commit(MY_ACTION, body)\n  },\n  error: (error, done) =&gt; {\n    console.error(error)\n  }\n})\n\n\nwatchQuery\n\nApolloClient.watchQuery\n\nvue-apollo\n\nsubscribe\n\nwatchQuery\n\nobservable\n\nthen\n\npromise",
    "resolution": "watchQuery is returning an observable instead of a promise. See Apollo docs for ApolloClient.watchQuery or (assuming you're using vue-apollo) the actual code. This means you'll want to subscribe to the watchQuery (as you'd for an observable), instead of doing a then (as you'd do for a promise) – like so: apolloClient.watchQuery({ query: yourQuery, variables: yourVariables }).subscribe({ next: (body) => { console.log('success', body) commit(MY_ACTION, body) }, error: (error, done) => { console.error(error) } })",
    "severity": "medium",
    "tags": [
      "vuejs2",
      "apollo",
      "apollo-client",
      "vue-apollo"
    ],
    "metadata": {
      "stackoverflow_question_id": "52626085",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3750,
      "stackoverflow_creation_date": "2018-10-03T11:28:50.413Z"
    },
    "idempotency_key": "stackoverflow-52626085",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Initial values in scipy.integrate.solve_ivp",
    "body": "I'm trying to use solve_ivp but I don't understand how it deals with the initial values in the argument. The documentation on solve_ivp states: scipy.integrate.solve_ivp(fun, t_span, y0, method='RK45', t_eval=None, dense_output=False, events=None, vectorized=False, **options) with y0 : array_like, shape (n,) Initial state. For problems in the complex domain, pass y0 with a complex data type (even if the initial guess is purely real) However, I don't understand the example >>> from scipy.integrate import solve_ivp >>> def exponential_decay(t, y): return -0.5 * y >>> sol = solve_ivp(exponential_decay, [0, 10], [2, 4, 8]) >>> print(sol.t) [ 0. 0.11487653 1.26364188 3.06061781 4.85759374 6.65456967 8.4515456 10. ] >>> print(sol.y) [[2. 1.88836035 1.06327177 0.43319312 0.17648948 0.0719045 0.02929499 0.01350938] [4. 3.7767207 2.12654355 0.86638624 0.35297895 0.143809 0.05858998 0.02701876] [8. 7.5534414 4.25308709 1.73277247 0.7059579 0.287618 0.11717996 0.05403753]] Why do they give an array of 3 initial values here when the differential equation only has one component?",
    "code": "&gt;&gt;&gt; from scipy.integrate import solve_ivp\n&gt;&gt;&gt; def exponential_decay(t, y): return -0.5 * y\n&gt;&gt;&gt; sol = solve_ivp(exponential_decay, [0, 10], [2, 4, 8])\n&gt;&gt;&gt; print(sol.t)\n[  0.           0.11487653   1.26364188   3.06061781   4.85759374\n   6.65456967   8.4515456   10.        ]\n&gt;&gt;&gt; print(sol.y)\n[[2.         1.88836035 1.06327177 0.43319312 0.17648948 0.0719045\n  0.02929499 0.01350938]\n [4.         3.7767207  2.12654355 0.86638624 0.35297895 0.143809\n  0.05858998 0.02701876]\n [8.         7.5534414  4.25308709 1.73277247 0.7059579  0.287618\n  0.11717996 0.05403753]]\n\n\n# Solution Code:\nexponential_decay\n\ny",
    "resolution": "the differential equation only has one component It doesn't. The function exponential_decay can accept an array as y, and perform operations on that array in a vectorized fashion, as is typical in NumPy. The initial value determines how many components the unknown function has. In this case, three.",
    "severity": "medium",
    "tags": [
      "python",
      "scipy",
      "solver",
      "ode"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "52762030",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2595,
      "stackoverflow_creation_date": "2018-10-11T14:01:45.007Z"
    },
    "idempotency_key": "stackoverflow-52762030",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to Be Notified if the Owner Removes Me from a CKShare on CloudKit",
    "body": "Let's say the owner of a record shares it with me. I get sent a share link and I open it and accept the share like this: let operation = CKAcceptSharesOperation(shareMetadatas: [metadata]) operation.acceptSharesCompletionBlock = { error in if let error = error{ print(\"accept share error: \\(error)\") }else{ //Share accepted... } } CloudKit.container.add(operation) I am also previously subscribed to the Shared database already like so: let subscriptionSharedDatabase = CKDatabaseSubscription(subscriptionID: \"subscriptionSharedDatabase\") let sharedInfo = CKSubscription.NotificationInfo() sharedInfo.shouldSendContentAvailable = true sharedInfo.alertBody = \"\" //This needs to be set or pushes don't get sent subscriptionSharedDatabase.notificationInfo = sharedInfo let subShared = CKModifySubscriptionsOperation(subscriptionsToSave: [subscriptionSharedDatabase], subscriptionIDsToDelete: nil) CloudKit.sharedDB.add(subShared) But now let's say the owner of the CKShare removes me as a participant on that record and saves the updated participants list to CloudKit. As far as I can tell, the only notification I get is another shared database subscription (subscriptionSharedDatabase) change, but no records are changed or deleted (I looked and there are no changed records when I fetch them). As far as I know, the only way to be notified of changes to the participants on a CKShare is to subscribe to notifications on the cloudkit.share record type, but that isn't available to me in the shared database, right? How can I be notified when I am removed from a CKShare?",
    "code": "let operation = CKAcceptSharesOperation(shareMetadatas: [metadata])\noperation.acceptSharesCompletionBlock = { error in\n  if let error = error{\n    print(\"accept share error: \\(error)\")\n  }else{\n    //Share accepted...\n  }\n}\nCloudKit.container.add(operation)\n\n\nlet subscriptionSharedDatabase = CKDatabaseSubscription(subscriptionID: \"subscriptionSharedDatabase\")\nlet sharedInfo = CKSubscription.NotificationInfo()\nsharedInfo.shouldSendContentAvailable = true\nsharedInfo.alertBody = \"\" //This needs to be set or pushes don't get sent\nsubscriptionSharedDatabase.notificationInfo = sharedInfo\n\nlet subShared = CKModifySubscriptionsOperation(subscriptionsToSave: [subscriptionSharedDatabase], subscriptionIDsToDelete: nil)\nCloudKit.sharedDB.add(subShared)\n\n\nCKShare\n\nsubscriptionSharedDatabase\n\nCKShare\n\ncloudkit.share\n\nCKShare\n\n# Solution Code:\nCKFetchRecordZonesOperation.fetchAllRecordZonesOperation()\n\nCKDatabaseSubscription\n\nCKFetchRecordZoneChangesOperation\n\nrecordWithIDWasDeletedBlock\n\nCKRecord\n\nCKShare\n\nCKDatabaseNotification\n\nCKFetchDatabaseChanges",
    "resolution": "Interesting how this has no answers. I just implemented some CKShare-related code and it seems to work fairly predictably. Here is the basic approach. 1) at the start of my app, I do CKFetchRecordZonesOperation.fetchAllRecordZonesOperation() on the shared database, to get all the current record zones that are shared with me. 2) I set up CKDatabaseSubscription on the shared database as you suggest. 3) Upon receiving this notification on the shared database, I do a batch CKFetchRecordZoneChangesOperation across all the shared record zones. (You can pass it multiple record zones, together with a server change token for each zone, to do a bulk updates query.) 4) If any shares were unshared but the record zones themselves are still valid, I observe that the recordWithIDWasDeletedBlock is run twice, once with the unshared CKRecord and once with the related CKShare. 5) (I didn’t yet fully figure out this part) if the share was the last one for a given user, the whole shared record zone from that user gets removed from my shared database. I didn’t yet fully figure out how to best handle this part. I could query for fresh record zones every time I get a CKDatabaseNotification, but that seems wasteful. I see that I can run CKFetchDatabaseChanges operation that informs me of changed zones, but I have yet to figure out when is the best time to run it.",
    "severity": "low",
    "tags": [
      "cloudkit",
      "cloudkit-sharing"
    ],
    "metadata": {
      "stackoverflow_question_id": "52788219",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 733,
      "stackoverflow_creation_date": "2018-10-12T23:35:45.610Z"
    },
    "idempotency_key": "stackoverflow-52788219",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Convert WindowsPath to String",
    "body": "redpath = os.path.realpath('.') thispath = os.path.realpath(redpath) fspec = glob.glob(redpath+'/*fits') thispath = os.path.realpath(thispath+'/../../../..') p = Path(thispath) userinput = 'n' while (userinput == 'n'): text_file = next(p.glob('**/*.fits')) print(\"Is this the correct file path?\") print(text_file) userinput = input(\"y or n\") parent_dir = text_file.parent.resolve() fspec = glob.glob(parent_dir+'/*fits') I am getting the error unsupported operand type(s) for +: 'WindowsPath' and 'str' I think this is because I am trying to glob a Windows File Path when I need to glob a string. Is there a way that I can convert WindowsPath to string so that I can glob all the files into one list?",
    "code": "redpath = os.path.realpath('.')              \nthispath = os.path.realpath(redpath)        \nfspec = glob.glob(redpath+'/*fits')\nthispath = os.path.realpath(thispath+'/../../../..')\np = Path(thispath)\nuserinput = 'n'\nwhile (userinput == 'n'):\n   text_file = next(p.glob('**/*.fits'))\n   print(\"Is this the correct file path?\")\n   print(text_file)\n   userinput = input(\"y or n\")\n\nparent_dir = text_file.parent.resolve()\nfspec = glob.glob(parent_dir+'/*fits')\n\n\nunsupported operand type(s) for +: 'WindowsPath' and 'str'\n\n\n# Solution Code:\nfrom pathlib import Path\n\np = Path('E:\\\\x\\\\y\\\\z')\n&gt;&gt;&gt; WindowsPath('E:/x/y/z')\n\np.__str__()\n&gt;&gt;&gt; 'E:\\\\x\\\\y\\\\z'\n\nstr(p)\n&gt;&gt;&gt; 'E:\\\\x\\\\y\\\\z'\n\n\nfrom timeit import timeit\n\ntimeit(lambda:str(p),number=10000000)\n&gt;&gt;&gt; 2.3293891000000713\n\ntimeit(lambda:p.__str__(),number=10000000)\n&gt;&gt;&gt; 1.3876856000000544\n\n\nWindowsPath\n\npathlib\n\n__str__\n\nstr\n\n__str__",
    "resolution": "As most other Python classes do, the WindowsPath class, from pathlib, implements a non-defaulted \"dunder string\" method (__str__). It turns out that the string representation returned by that method for that class is exactly the string representing the filesystem path you are looking for. Here an example: from pathlib import Path p = Path('E:\\\\x\\\\y\\\\z') >>> WindowsPath('E:/x/y/z') p.__str__() >>> 'E:\\\\x\\\\y\\\\z' str(p) >>> 'E:\\\\x\\\\y\\\\z' The str builtin function actually calls the \"dunder string\" method under the hood, so the results are exaclty the same. By the way, as you can easily guess calling directly the \"dunder string\" method avoids a level of indirection by resulting in faster execution time. Here the results of the tests I've done on my laptop: from timeit import timeit timeit(lambda:str(p),number=10000000) >>> 2.3293891000000713 timeit(lambda:p.__str__(),number=10000000) >>> 1.3876856000000544 Even if calling the __str__ method may appear a bit uglier in the source code, as you saw above, it leads to faster runtimes.",
    "severity": "high",
    "tags": [
      "python",
      "filepath",
      "glob",
      "pathlib"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "52825134",
      "stackoverflow_score": 30,
      "stackoverflow_view_count": 77103,
      "stackoverflow_creation_date": "2018-10-15T21:41:15.867Z"
    },
    "idempotency_key": "stackoverflow-52825134",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "POI DataFormatter returns 2 digits year instead of 4 digits year for date cells",
    "body": "Excel cell has date format m/d/yyyy and show date with 4 digits year. However POI returns date in another format m/d/yy. The cell style returns the same format with 2 digits year cell.getCellStyle().getDataFormatString(). Is it possible to get the same format as I see in Excel with POI?",
    "code": "m/d/yyyy\n\nm/d/yy\n\ncell.getCellStyle().getDataFormatString()\n\n# Solution Code:\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.util.LocaleUtil;\n\nimport java.io.FileInputStream;\n\nclass ExcelDataformatterCustomized {\n\n public static void main(String[] args) throws Exception {\n\n  Workbook wb  = WorkbookFactory.create(new FileInputStream(&quot;ExcelExample.xlsx&quot;));\n\n  LocaleUtil.setUserLocale(java.util.Locale.GERMANY);\n  //LocaleUtil.setUserLocale(java.util.Locale.US);\n  //LocaleUtil.setUserLocale(java.util.Locale.UK);\n\n  DataFormatter df = new DataFormatter();\n  FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator();\n\n  if (LocaleUtil.getUserLocale().equals(java.util.Locale.GERMANY)) {\n   df.addFormat(&quot;m/d/yy&quot;, new java.text.SimpleDateFormat(&quot;dd.MM.yyyy&quot;));\n  } else if (LocaleUtil.getUserLocale().equals(java.util.Locale.US)) {\n   df.addFormat(&quot;m/d/yy&quot;, new java.text.SimpleDateFormat(&quot;M/d/yyyy&quot;));\n  } else if (LocaleUtil.getUserLocale().equals(java.util.Locale.UK)) {\n   df.addFormat(&quot;m/d/yy&quot;, new java.text.SimpleDateFormat(&quot;dd/MM/yyyy&quot;));\n  }\n\n  Sheet sheet = wb.getSheetAt(0);\n  for (Row row : sheet) {\n   for (Cell cell : row) {\n\n     String value = df.formatCellValue(cell, evaluator);\n     System.out.println(value);\n\n   }\n  }\n  wb.close();\n }\n}\n\n\nShort Date\n12.08.2018\nFormatted Date\nSonntag, August 12, 2018\n\n\nShort Date\n8/12/2018\nFormatted Date\nSunday, August 12, 2018\n\n\nShort Date\n12/08/2018\nFormatted Date\nSunday, August 12, 2018\n\n\n0xE\n\nDataFormatter\n\nDataFormatter\n\nDataFormatter\n\njava.util.Locale.GERMANY\n\njava.util.Locale.US\n\njava.util.Locale.UK",
    "resolution": "In Excel Cell Style issue I have shown that if a date in Excel which is formatted using the default date format (Short Date) only has the format id 0xE (14) stored in the file and there is not a format pattern stored anywhere. So how Short Date will be displayed in Excel depends on the locale settings of the system. How working around this issue without using Apache POI's DataFormatter is also shown in that answer. Using Apache POI's DataFormatter we can work around this issue with customizing the DataFormatter. Example: Excel: Code: import org.apache.poi.ss.usermodel.*; import org.apache.poi.util.LocaleUtil; import java.io.FileInputStream; class ExcelDataformatterCustomized { public static void main(String[] args) throws Exception { Workbook wb = WorkbookFactory.create(new FileInputStream(\"ExcelExample.xlsx\")); LocaleUtil.setUserLocale(java.util.Locale.GERMANY); //LocaleUtil.setUserLocale(java.util.Locale.US); //LocaleUtil.setUserLocale(java.util.Locale.UK); DataFormatter df = new DataFormatter(); FormulaEvaluator evaluator = wb.getCreationHelper().createFormulaEvaluator(); if (LocaleUtil.getUserLocale().equals(java.util.Locale.GERMANY)) { df.addFormat(\"m/d/yy\", new java.text.SimpleDateFormat(\"dd.MM.yyyy\")); } else if (LocaleUtil.getUserLocale().equals(java.util.Locale.US)) { df.addFormat(\"m/d/yy\", new java.text.SimpleDateFormat(\"M/d/yyyy\")); } else if (LocaleUtil.getUserLocale().equals(java.util.Locale.UK)) { df.addFormat(\"m/d/yy\", new java.text.SimpleDateFormat(\"dd/MM/yyyy\")); } Sheet sheet = wb.getSheetAt(0); for (Row row : sheet) { for (Cell cell : row) { String value = df.formatCellValue(cell, evaluator); System.out.println(value); } } wb.close(); } } Result having java.util.Locale.GERMANY set: Short Date 12.08.2018 Formatted Date Sonntag, August 12, 2018 Result having java.util.Locale.US set: Short Date 8/12/2018 Formatted Date Sunday, August 12, 2018 Result having java.util.Locale.UK set: Short Date 12/08/2018 Formatted Date Sunday, August 12, 2018",
    "severity": "medium",
    "tags": [
      "java",
      "apache-poi"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "53228302",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7664,
      "stackoverflow_creation_date": "2018-11-09T15:08:31.647Z"
    },
    "idempotency_key": "stackoverflow-53228302",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Java Generic Interfaces with multiple implementations",
    "body": "I have the following scenario: public abstract class BaseTask{...} public class TaskA extends BaseTask {....} public class TaskB extends BaseTask {....} public interface TaskService<T extends BaseTask>{ void process(T task); } @Service @Qualifier(\"taskServiceA\") public class TaskServiceA<TaskA> implements TaskService<TaskA>{ } @Service @Qualifier(\"taskServiceB\") public class TaskServiceB<TaskB> implements TaskService<TaskB>{ } public class ProcessingService{ @Autowired @Qualifier(\"taskServiceA\") private TaskService<TaskA> taskAService; @Autowired @Qualifier(\"taskServiceB\") private TaskService<TaskB> taskBService; public void process(Order o){ BaseTask task = o.getTask(); getTaskService(o).start(task); } private <T extends BaseTask> TaskService<T> getTaskService(Order o){ if(\"atype\".equals(o.type)){ return (TaskService<T>) taskAService; } else if(\"btype\".equals(o.type)){ return (TaskService<T>) taskBService; } } } Update: I have reworded the question because the answers I was getting was not what I was looking for. My questions is related to the getTaskService method. Why do I need to cast the return value like this return (TaskService) taskAService; Is there another way to implement the getTaskService() method without having to do the cast? I will really appreciate if someone can provide some explanation or better implementation for the getTaskService method.",
    "code": "public abstract class BaseTask{...}\n\npublic class TaskA extends BaseTask {....}\n\npublic class TaskB extends BaseTask {....}\n\npublic interface TaskService&lt;T extends BaseTask&gt;{\n        void process(T task);\n}\n\n@Service @Qualifier(\"taskServiceA\")\npublic class TaskServiceA&lt;TaskA&gt; implements TaskService&lt;TaskA&gt;{\n}\n\n@Service @Qualifier(\"taskServiceB\")\npublic class TaskServiceB&lt;TaskB&gt; implements TaskService&lt;TaskB&gt;{\n}\n\npublic class ProcessingService{\n\n        @Autowired @Qualifier(\"taskServiceA\")\n        private TaskService&lt;TaskA&gt; taskAService;\n\n        @Autowired @Qualifier(\"taskServiceB\")\n        private TaskService&lt;TaskB&gt; taskBService;\n\n        public void process(Order o){\n            BaseTask task = o.getTask();\n            getTaskService(o).start(task);\n        }\n\n        private &lt;T extends BaseTask&gt; TaskService&lt;T&gt; getTaskService(Order o){\n            if(\"atype\".equals(o.type)){\n              return (TaskService&lt;T&gt;) taskAService;\n            } else if(\"btype\".equals(o.type)){\n              return (TaskService&lt;T&gt;) taskBService;\n            }\n        }\n}\n\n\ngetTaskService\n\n# Solution Code:\n@Service\nclass ProcessingService { \n\n        @Autowired \n        private TaskServiceManager taskServiceManager;\n\n        public void process(Order o){\n            taskServiceManager.getServiceTask(o.type).start(task);\n        }\n}\n\n\nenum ServiceEnum {\n    TaskA,\n    TaskB\n}\n\npublic class TaskA extends BaseTask {....}\npublic class TaskB extends BaseTask {....}\n\npublic abstract class TaskService&lt;T extends BaseTask&gt;{\n\n    public TaskService(ServiceEnum serviceEnum, TaskServiceManager taskServiceManager) {\n        taskServiceManager.registerTask(serviceEnum, this);\n    }\n    void process(T task);\n}\n\n@Service @Qualifier(\"taskServiceA\")\npublic class TaskServiceA&lt;TaskA&gt; implements TaskService&lt;TaskA&gt;{\n        @Autowired \n        public TaskA(TaskServiceManager taskServiceManager) {\n              super(ServiceEnum.TaskA, taskServiceManager);\n        }\n}\n\n@Service @Qualifier(\"taskServiceB\")\npublic class TaskServiceB&lt;TaskB&gt; implements TaskService&lt;TaskB&gt;{...}\n\n@Service\nclass  TaskServiceManager {\n    Map&lt;ServiceEnum, ? extends TaskService&gt; serviceMap;\n\n    public &lt;T extends TaskService&gt; void registerTask(ServiceEnum serviceName, T task) {\n        if(serviceMap.containsKey(serviceName)) {\n            throw new IllegalArgumentException(\"ServiceName is already in the Map\");\n        }\n        serviceMap.put(serviceName, task);\n    }\n\n    public &lt;T extends TaskService&gt; T getServiceTask(ServiceEnum serviceName) {\n        if(!serviceMap.containsKey(serviceName)) {\n            throw new IllegalArgumentException(\"ServiceName is not Registered\");\n        }\n        return serviceMap.get(serviceName);\n    }\n}\n\n\nMap&lt;EnumTask, ? extends BaseTask&gt; serviceMap;",
    "resolution": "How about this? No need of any if conditions. Later if someone does add another implementation of BaseTask they don't have to change any other code. Also I recommend changing \"atype\" to Enum and using Map<EnumTask, ? extends BaseTask> serviceMap; instead of String. Your final invocation of Tasks can be without any checks @Service class ProcessingService { @Autowired private TaskServiceManager taskServiceManager; public void process(Order o){ taskServiceManager.getServiceTask(o.type).start(task); } } Other classes enum ServiceEnum { TaskA, TaskB } public class TaskA extends BaseTask {....} public class TaskB extends BaseTask {....} public abstract class TaskService<T extends BaseTask>{ public TaskService(ServiceEnum serviceEnum, TaskServiceManager taskServiceManager) { taskServiceManager.registerTask(serviceEnum, this); } void process(T task); } @Service @Qualifier(\"taskServiceA\") public class TaskServiceA<TaskA> implements TaskService<TaskA>{ @Autowired public TaskA(TaskServiceManager taskServiceManager) { super(ServiceEnum.TaskA, taskServiceManager); } } @Service @Qualifier(\"taskServiceB\") public class TaskServiceB<TaskB> implements TaskService<TaskB>{...} @Service class TaskServiceManager { Map<ServiceEnum, ? extends TaskService> serviceMap; public <T extends TaskService> void registerTask(ServiceEnum serviceName, T task) { if(serviceMap.containsKey(serviceName)) { throw new IllegalArgumentException(\"ServiceName is already in the Map\"); } serviceMap.put(serviceName, task); } public <T extends TaskService> T getServiceTask(ServiceEnum serviceName) { if(!serviceMap.containsKey(serviceName)) { throw new IllegalArgumentException(\"ServiceName is not Registered\"); } return serviceMap.get(serviceName); } }",
    "severity": "low",
    "tags": [
      "java",
      "generics",
      "interface"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "53276456",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 137,
      "stackoverflow_creation_date": "2018-11-13T08:08:48.487Z"
    },
    "idempotency_key": "stackoverflow-53276456",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Disable the on-demand ngen.exe on lightweight windows servers (\".NET Framework NGEN v4.0.30319 64\")",
    "body": "We're deploying .Net 4 based ASP.net APIs to a large number of Windows servers, and in order to keep AWS costs low, we run them as small as possible. The problem we're seeing is that after the VM is provisioned and code is deployed, we're seeing high CPU usage for a few minutes. Most of this CPU usage comes from the process ngentask.exe. It's not related to app startup, we're typically seeing this happening a few minutes after the deploy continues and other cpu-heavy processes calm down. It's also worth mentioning that as part of our deploy process, we touch the app by invoking a web request to a predefined health endpoint in the app, which is simply an empty MVC controller in most of our apps - we do this both to verify that the app is actually running, and to make sure is warmed up and ready to serve traffic. Looking at the ngen.log, the timestamps match perfectly with CPU usage: 11/13/2018 14:20:13.275 [732]: Task scheduler requested starting 32-bit task 11/13/2018 14:20:13.371 [732]: Task scheduler requested starting 64-bit task 11/13/2018 14:20:13.371 [732]: Launching NGen Task, command line: \"C:\\Windows\\Microsoft.NET\\Framework\\v4.0.30319\\NGenTask.exe\" /RuntimeWide /StopEvent:380 11/13/2018 14:20:13.371 [732]: Launching NGen Task, command line: \"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\NGenTask.exe\" /RuntimeWide /StopEvent:860 11/13/2018 14:20:13.512 [3104]: NGen Task starting, command line: \"C:\\Windows\\Microsoft.NET\\Framework64\\v4.0.30319\\NGenTask.exe\" /RuntimeWide /StopEvent:860 11/13/2018 14:20:13.560 [3104]: Attempting to acquire task lock. Like I wrote, this can happen as much as 10 minutes after deploy, and by that time the app is already serving requests. This leads me to believe that these tasks are actually not needed - if they were, the app wouldn't function in the 10 minutes between deploy and the completion of these processes. So my question is: am I safe to disable this task? These are Windows 2016 Core servers only running a single ASP.net web app, so there's no random GUI apps getting installed or anything.",
    "code": "ngentask.exe\n\nngen.log",
    "resolution": "Instead of trying to disable Ngen, you could manually execute it as the final step in your deployment. Ngen normally runs in the background, and is designed to optimise application startup - but ironically it seems to destroy performance for several minutes in the process. Ngen will supposedly auto start only when the server is idle - but once it starts it seems to hog the CPU for several minutes and ive seen that cause issues on smaller servers (specifically AWS Micro instances). Below one-liner finds the newest version of Ngen and forces an update. It takes a couple of minutes to run, when its done the server should quieten down and behave. & ([String] $ngenExe = ((Get-ChildItem -Path C:\\Windows\\Microsoft.NET\\Framework64\\v*\\ngen.exe) | sort -Descending | Select -First 1)) update /force See: https://learn.microsoft.com/en-us/dotnet/framework/tools/ngen-exe-native-image-generator",
    "severity": "medium",
    "tags": [
      "c#",
      "asp.net",
      ".net",
      "windows-server-2016",
      "ngen"
    ],
    "metadata": {
      "language": "csharp",
      "framework": "aspnet",
      "stackoverflow_question_id": "53288184",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4116,
      "stackoverflow_creation_date": "2018-11-13T19:26:14.197Z"
    },
    "idempotency_key": "stackoverflow-53288184",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Redis connection [cache] not configured error with laravel",
    "body": "I am trying to use redis for caching in laravel. I have install redis locally and I know it is working as I am able to run horizon queues and workers. I also get a response when doing redis-cli PING but when I try this code $user = Cache::get('User:' .$Id , function ($Id) { return User::where('id', '=', $Id)->firstOrFail(); }); I get the error Redis connection [cache] not configured. I have changed my .env to have the following entry CACHE_DRIVER=redis",
    "code": "$user = Cache::get('User:' .$Id , function ($Id) {\n    return User::where('id', '=', $Id)-&gt;firstOrFail();\n});\n\n\n Redis connection [cache] not configured.\n\n\nCACHE_DRIVER=redis\n\n\n# Solution Code:\n    'redis' =&gt; [\n        'driver' =&gt; 'redis',\n        'connection' =&gt; 'cache',\n    ],\n\n\n    'redis' =&gt; [\n        'driver' =&gt; 'redis',\n        'connection' =&gt; 'default',\n    ],\n\n\ncache.php",
    "resolution": "Find this in cache.php 'redis' => [ 'driver' => 'redis', 'connection' => 'cache', ], and change it to: 'redis' => [ 'driver' => 'redis', 'connection' => 'default', ],",
    "severity": "high",
    "tags": [
      "laravel",
      "caching",
      "laravel-5",
      "redis"
    ],
    "metadata": {
      "framework": "laravel",
      "stackoverflow_question_id": "53391846",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 18337,
      "stackoverflow_creation_date": "2018-11-20T11:17:51.227Z"
    },
    "idempotency_key": "stackoverflow-53391846",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ReactJS: Save input value on blur and not on every key stroke",
    "body": "I have created a React View, say MyView, which has 2 text inputs whose initial values will be passed by parent read from a DB. I also want the changed values to be saved back to DB. So, the view is also passed a callback function for the same. Consider that DB save operation is heavy and you should not do it very frequently. So, I decided to listen to onBlur events instead of onChange events on the input boxes as onChange is invoked on every key stroke. First Approach: class MyView extends React.Component { constructor(props) { super(props); } render() { return ( <div> <input type=\"url\" value={this.props.values.A} onBlur={(evt)=>{this.props.saveValue('A', evt.target.value)}} /> <input type=\"url\" value={this.props.values.B} onBlur={(evt)=>{this.props.saveValue('B', evt.target.value)}} /> <button type=\"button\" onClick={this.props.resetValues}>Reset</button> </div> ); } } However, this does not work as React enforces a controlled input (with value attribute) always to be accompanied by an onChange listener. Second Approach: So, I tried to make these inputs as uncontrolled. That is, instead of value attribute, used defaultValue. <input type=\"url\" defaultValue={this.props.values.A} onBlur={(evt)=>{this.props.saveValue('A', evt.target.value)}} /> But this also did not work as on reset/clear button click, although the view was made to re-render but defaultValue does not update once view is created. Third Approach: So, I finally added an onChange listener but as no-op. <input type=\"url\" value={this.props.values.A} onChange={()=>{console.log('do nothing')} onBlur={(evt)=>{this.props.saveValue('A', evt.target.value)}} /> Again, this did not work as the view re-renders after calling onChange and since value is not reflected in props yet, value seems to reset back to initial on every key stroke. Fourth Approach: Last I tried was to maintain a state in component and read value from state and on every onChange save the value back to state. This worked to most extent but whenever there were external changes to props and the view was re-rendered, state did not update. So, I added a getDerivedStateFromProps function to view: static getDerivedStateFromProps(props, state) { return props.values; } Now, this again did not work. Reason being that this function is invoked even if I temporarily save values to state and the state was reset to initial values in props. Can some ReactJS expert help me with my use-case?",
    "code": "class MyView extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n              &lt;input type=\"url\" value={this.props.values.A}\n                   onBlur={(evt)=&gt;{this.props.saveValue('A', evt.target.value)}} /&gt;\n              &lt;input type=\"url\" value={this.props.values.B}\n                   onBlur={(evt)=&gt;{this.props.saveValue('B', evt.target.value)}} /&gt;         \n\n              &lt;button type=\"button\" onClick={this.props.resetValues}&gt;Reset&lt;/button&gt;\n            &lt;/div&gt;\n        );\n     }\n}\n\n\n&lt;input type=\"url\" defaultValue={this.props.values.A}\n       onBlur={(evt)=&gt;{this.props.saveValue('A', evt.target.value)}} /&gt;\n\n\n&lt;input type=\"url\" value={this.props.values.A}\n       onChange={()=&gt;{console.log('do nothing')}\n       onBlur={(evt)=&gt;{this.props.saveValue('A', evt.target.value)}} /&gt;\n\n\nstatic getDerivedStateFromProps(props, state) {\n    return props.values;\n}\n\n\nMyView\n\nonBlur\n\nonChange\n\nonChange\n\nReact\n\nvalue\n\nonChange\n\nuncontrolled\n\nvalue\n\ndefaultValue\n\ndefaultValue\n\nonChange\n\nonChange\n\nprops\n\nvalue\n\nstate\n\nonChange\n\nstate\n\ngetDerivedStateFromProps\n\n# Solution Code:\ncomponentDidUpdate(prevProps) {\n\nif (this.props.values !== prevProps.values &amp;&amp; this.props.values !== this.state.values) {\n  this.setState({values:this.props.values});\n   }\n}\n\n\ncomponentDidUpdate\n\nstate\n\nprops\n\nthis.props\n\nprops\n\nstate\n\noldProps\n\nuncontrolled\n\ncontrolled\n\ntype='number'\n\nundefined\n\nonChange\n\nonBlur\n\ncomponentDidUpdate",
    "resolution": "Going by the comments on Liren Yeo's solution, I would handle the props-state reconciliation on componentDidUpdate, where you get both the old state and props. This way you can determine how this.props was updated and act accordingly. When the value in props does not match state nor oldProps, the update is external and you should override the unsaved changes in the state. The code should look something like this componentDidUpdate(prevProps) { if (this.props.values !== prevProps.values && this.props.values !== this.state.values) { this.setState({values:this.props.values}); } } If you go this route, you can also leave the input uncontrolled and update its value through a reference. This solves some unreliability with controlled inputs, like for example, a type='number' returning undefined as its value when you type a decimal comma. You still need to store the value onChange but only save it onBlur and handling the state-prop-dom reconciliation in componentDidUpdate",
    "severity": "high",
    "tags": [
      "javascript",
      "reactjs",
      "onblur",
      "react-props",
      "getderivedstatefromprops"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "53479598",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 11167,
      "stackoverflow_creation_date": "2018-11-26T10:55:32.653Z"
    },
    "idempotency_key": "stackoverflow-53479598",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to pass JSON (string data) to PowerShell?",
    "body": "I'm passing the following as an argument to powershell (v4 on w7): -debugWrite -fileName SettingsFile -jsonContent { \"c\": \"some setting\", \"d\": \"unknown\", \"b\": \"some thing\", \"a\": 1 } But PS gets hung up on the JSON. I've tried delimiting the \\double-quotes\\ and putting everything after -jsonContent in 'single quotes', but to no avail. Here is the Windows 7 (PS4) environment PS is running in: note: \"...\" obfuscation refers to the same dir. IOW, all files live in the same directory. A batch file is run, kicking off the whole thing: \"C:\\...\\script.bat\" > \"C:\\...\\script-output.txt\" 2>&1 This runs script.bat and outputs to script-output.txt. script.bat is a long 1-liner: %WINDIR%\\sysnative\\windowspowershell\\v1.0\\powershell.exe -ExecutionPolicy Bypass -File \"C:\\...\\customscript.PS1\" --% -fileName DropFileToCreate -jsonContent \"{ \"c\": \"some setting\", \"d\": \"unknown\", \"b\": \"some thing\", \"a\": 1 }\" -debugWrite Legend: DropFileToCreate - the filename passed to the PS script, used to create a file in same dir. -jsonContent - A named parameter in the script (see below for header of customscript.PS1) In the above example, the JSON is: \"{ \"c\": \"some setting\", \"d\": \"unknown\", \"b\": \"some thing\", \"a\": 1 }\" -debugWrite - A switch parameter (used here to enable Write-Host debugging) Finally, a bit of the customscript.PS1: Param ( [Parameter(Mandatory = $True)] [String] $fileName, [Parameter(Mandatory = $True)] $jsonContent, [Parameter(Mandatory = $False)] [Switch] $debugWrite = $False ) [...] The JSON is easier seen, and spaces explained, if expressed as: { \"c\": \"some setting\", \"d\": \"unknown\", \"b\": \"some thing\", \"a\": 1 }",
    "code": "-debugWrite -fileName SettingsFile -jsonContent { \"c\": \"some setting\", \"d\":  \"unknown\", \"b\": \"some thing\", \"a\": 1 }\n\n\n    \"C:\\...\\script.bat\" &gt; \"C:\\...\\script-output.txt\" 2&gt;&amp;1\n\n\n%WINDIR%\\sysnative\\windowspowershell\\v1.0\\powershell.exe -ExecutionPolicy Bypass -File \"C:\\...\\customscript.PS1\" --% -fileName DropFileToCreate -jsonContent \"{     \"c\":  \"some setting\",     \"d\":  \"unknown\",     \"b\":  \"some thing\",     \"a\":  1 }\" -debugWrite\n\n\nParam (\n    [Parameter(Mandatory = $True)]\n    [String]\n    $fileName,\n    [Parameter(Mandatory = $True)]\n    $jsonContent,\n    [Parameter(Mandatory = $False)]\n    [Switch]\n    $debugWrite = $False\n)\n[...]\n\n\n{\n \"c\": \"some setting\",\n \"d\": \"unknown\",\n \"b\": \"some thing\",\n \"a\": 1 \n}\n\n\nscript.bat\n\nscript-output.txt\n\nscript.bat\n\nDropFileToCreate\n\n-jsonContent\n\ncustomscript.PS1\n\n-debugWrite\n\ncustomscript.PS1\n\n# Solution Code:\n&quot;...&quot;\n\n&quot;\n\n\\&quot;\n\n-File\n\n-Command\n\npowershell.exe\n\npowershell.exe\n\npwsh\n\nbash\n\n-File\n\ncurl.exe\n\npowershell.exe\n\ncmd.exe\n\nbash\n\npowershell -Command\n\npowerShell -File\n\n{ &quot;c&quot;: &quot;some setting&quot; ... }\n\n&quot;...&quot;\n\n&quot;\n\n-File\n\nscript.ps1\n\nConvertFrom-Json $Args[0]\n\ncmd.exe\n\n&quot;\n\n\\&quot;\n\n`&quot;\n\ncmd.exe\n\n\\&quot;...\\&quot;\n\n^\n\ncmd.exe\n\n\\&quot;\n\n&quot;\n\n\\&quot;some &amp; setting\\&quot;\n\n\\&quot;some ^&amp; setting\\&quot;\n\ncmd.exe\n\n&amp; | &lt; &gt; ^\n\ncmd.exe\n\n%USERNAME%\n\ncmd.exe\n\n&quot;...&quot;\n\n%^USERNAME%\n\n%%USERNAME%%\n\n-Command\n\n&quot;...&quot;\n\n'...'\n\n-Command\n\n-File\n\n'...'\n\n&quot;...&quot;\n\n-File\n\n-Command\n\ncmd.exe\n\ncmd.exe\n\n\\\n\n&quot;\n\nPSNativeCommandArgumentPassing\n\n\\\n\n'...'\n\n&quot;...&quot;\n\n&quot;\n\n\\`&quot;\n\n`\n\n\\\n\n$jsonVar -replace '&quot;', '\\&quot;'\n\n-File\n\ncurl.exe\n\n-Command\n\nbash\n\n&quot;...&quot;\n\n'...'\n\ncmd.exe\n\n\\&quot;\n\n&quot;\n\n&quot;...&quot;\n\n-File\n\n-Command",
    "resolution": "tl;dr Your overall \"...\"-enclosed JSON string has embedded \", which must be escaped as \\\" (sic; command simplified): powershell.exe -File \"C:\\...\\customscript.PS1\" ... -jsonContent \"{ \\\"c\\\": \\\"some setting\\\", \\\"d\\\": \\\"unknown\\\", \\\"b\\\": \\\"some thing\\\", \\\"a\\\": 1 }\" Read on for when additional escaping is needed, how -File invocation differs from -Command invocation, and in what way the calling shell (where you call powershell.exe from) matters. Note: This answer primarily discusses use of the Windows PowerShell executable, powershell.exe, but it applies analogously to the PowerShell Core executable, pwsh, and there's a section on calling from bash at the bottom. The section Calling from PowerShell itself below, specifically the syntax required with -File, applies to passing JSON to other programs such as curl.exe as well. The required syntax for the PowerShell CLI - that is, invoking powershell.exe with arguments - depends on: whether you're calling from cmd.exe (Command Prompt / batch file) or from PowerShell itself (or, in PowerShell Core from a POSIX-like shell such as bash). whether you pass arguments to powershell -Command (inline command) or powerShell -File (script path). Either way, your original attempt could not have worked, because literal { \"c\": \"some setting\" ... } cannot be recognized as a single argument, due to containing whitespace and not being enclosed in quotes overall; the command added later, with enclosing \"...\", lacks escaping of the embedded \". The following commands demonstrate the required syntax for the scenarios discussed, using a simplified JSON string. To make the -File commands runnable, create a script.ps1 file in the current dir. with the following content: ConvertFrom-Json $Args[0] Calling from cmd.exe / a batch file Embedded \" must be escaped as \\\" (even though PowerShell-internally you'd use `\"). Important: If the JSON text contains cmd.exe metacharacters (invariably between \\\"...\\\" runs), you must ^-escape them individually, because cmd.exe, due to not recognizing \\\" as an escaped \", considers these substrings unquoted; e.g., \\\"some & setting\\\" must be escaped as \\\"some ^& setting\\\"; the cmd.exe metacharacters that need escaping here are: & | < > ^ cmd.exe-style environment-variable references such as %USERNAME% are interpolated - cmd.exe has no literal string syntax, it only recognizes \"...\", where interpolation does take place, just as in unquoted tokens. If you want to pass such a token as-is, i.e., to suppress interpolation, the escaping syntax depends on whether you're calling from the command line or a batch file, sadly: use %^USERNAME% from the former, and %%USERNAME%% from the latter - see this answer for the gory details. Note how the -Command calls simply add another layer of quoting, by enclosing the \"...\" string in '...'. This is required, because with -Command PowerShell treats the arguments it receives as PowerShell source code rather than as literal arguments (the latter is what happens with -File); if it weren't for the enclosing '...', the overall enclosing \"...\" would be stripped before interpretation. With -File: # With a literal string: powershell -File ./script.ps1 \"{ \\\"c\\\": \\\"some setting\\\", \\\"unknown\\\": \\\"b\\\" }\" # With an expandable string (expanded by the caller): powershell -File ./script.ps1 \"{ \\\"c\\\": \\\"some %USERNAME%\\\", \\\"unknown\\\": \\\"b\\\" }\" With -Command: # With a literal string: powershell -Command ConvertFrom-Json '\"{ \\\"c\\\": \\\"some setting\\\", \\\"unknown\\\": \\\"b\\\" }\"' # With an expandable string (expanded by the caller): powershell -Command ConvertFrom-Json '\"{ \\\"c\\\": \\\"some %USERNAME%\\\", \\\"unknown\\\": \\\"b\\\" }\"' Calling from PowerShell itself Calling from PowerShell makes the need to escape cmd.exe metacharacters go away, because cmd.exe is not involved. PowerShell's string-quoting rules apply, which simplifies matters, although, sadly, you still need to manually \\-escape embedded \" chars.; see this GitHub issue for background. Update: PowerShell Core 7.2.0-preview.5 introduced an experimental feature, PSNativeCommandArgumentPassing, which obviates the need for this manual \\-escaping; even though it is very much to be hoped for in this case, experimental features aren't guaranteed to become regular features; as of PowerShell Core 7.2.0-preview.5, the feature is a step in the right direction, but is both buggy and lacks important accommodations for CLIs on Windows - see GitHub issue #15143. Using outer '...' quoting simplifies the syntax for the embedded quoting, but that limits you to passing literal strings. Using outer \"...\" allows you to embed variable references and expressions from the caller (which are expanded by the caller, before the argument is passed), but it complicates the syntax, given that an embedded \" must then be doubly escaped as \\`\" (sic): first with ` to conform to PowerShell-internal syntax, then with \\ to satisfy the PowerShell CLI's requirements. If your JSON text is not a literal and stored in a variable, you must pass $jsonVar -replace '\"', '\\\"' to perform the necessary escaping - see this answer. With -File or when calling external programs such as curl.exe: # With a literal string: powershell -File ./script.ps1 '{ \\\"c\\\": \\\"some setting\\\", \\\"unknown\\\": \\\"b\\\" }' # With an expandable string (expanded by the caller): powershell -File ./script.ps1 \"{ \\`\"c\\`\": \\`\"some $env:OS\\`\", \\`\"unknown\\`\": \\`\"b\\`\" }\" With -Command: # With a literal string: powershell -Command ConvertFrom-Json '''\"{ \\\"c\\\": \\\"some setting\\\", \\\"unknown\\\": \\\"b\\\" }\"''' # With an expandable string (expanded by the caller): powershell -Command ConvertFrom-Json \"'{ \\`\"c\\`\": \\`\"some $env:OS\\`\", \\`\"unknown\\`\": \\`\"b\\`\" }'\" PowerShell Core: Calling from bash Bash, like PowerShell, understands both expanding (interpolating) \"...\" strings and literal '...' strings. Bash, unlike cmd.exe, recognizes \\\" as escaped \" chars. inside \"...\", so there's no need to escape any of Bash's metacharacters. With -File: # With a literal string: pwsh -File ./script.ps1 '{ \"c\": \"some setting\", \"unknown\": \"b\" }' # With an expandable string (expanded by the caller): pwsh -File ./script.ps1 \"{ \\\"c\\\": \\\"some $USER\\\", \\\"unknown\\\": \\\"b\\\" }\" With -Command: # With a literal string: pwsh -Command ConvertFrom-Json \\''{ \"c\": \"some setting\", \"unknown\": \"b\" }'\\' # With an expandable string (expanded by the caller): pwsh -Command ConvertFrom-Json \"'{ \\\"c\\\": \\\"some $USER\\\", \\\"unknown\\\": \\\"b\\\" }'\"",
    "severity": "high",
    "tags": [
      "json",
      "powershell",
      "batch-file",
      "syntax",
      "quoting"
    ],
    "metadata": {
      "language": "powershell",
      "stackoverflow_question_id": "53490414",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 17801,
      "stackoverflow_creation_date": "2018-11-26T23:02:09.283Z"
    },
    "idempotency_key": "stackoverflow-53490414",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to call a function every n milliseconds in \"real world\" time exactly?",
    "body": "If I understand correctly, setInterval(() => console.log('hello world'), 1000) will place the function to some queue of tasks to run. But if there are other tasks in-front of it, it won't run exactly at 1000 millisecond or every time. In a single complex program, is it possible to also make calls to some function every n millisecond exactly in real world time with node.js ?",
    "code": "setInterval(() =&gt; console.log('hello world'), 1000)\n\n# Solution Code:\nnode.js\n\nnode.js\n\nnode.js",
    "resolution": "But if there are other tasks in-front of it, it won't run exactly at 1000 millisecond or every time. Your question is actually operating system specific, assuming the computer is running some (usual) operating system (like Windows, Android, Linux, MacOSX, etc...). I recommend reading Operating Systems: Three Easy Pieces to learn more. In practice, your computer has many other processes managed by its operating system. Some of them might be running. Your computer might be in a situation where it is loaded enough by other processes to the point of not being able to run your tasks or threads exactly every second. Read about thrashing. You might want to use some genuine real-time operating system. But then, node.js probably won't run on it. How to call a function every n milliseconds in “real world” time exactly? You cannot do that reliably. Because your node.js process (it is actually single threaded, at the system threads level, see pthreads(7) and jfriend00's answer) might not get enough resources from your OS (so if other processes are loading your computer too much, node.js would be starved and won't be able to progress like you want; be also aware of possible priority inversions). On Linux, see also shed(7), chrt(1), renice(1)",
    "severity": "medium",
    "tags": [
      "node.js",
      "setinterval"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "53569180",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3358,
      "stackoverflow_creation_date": "2018-12-01T08:49:19.583Z"
    },
    "idempotency_key": "stackoverflow-53569180",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Pyspark window function with filter on other column",
    "body": "I have a pyspark dataframe with the following data: | y | date | amount| id | ----------------------------- | 1 | 2017-01-01 | 10 | 1 | | 0 | 2017-01-01 | 2 | 1 | | 1 | 2017-01-02 | 20 | 1 | | 0 | 2017-01-02 | 3 | 1 | | 1 | 2017-01-03 | 2 | 1 | | 0 | 2017-01-03 | 5 | 1 | I want to apply a window function, but apply the sum aggregate function only the columns with y==1, but still maintain the other columns. The window that i would apply is: w = Window \\ .partitionBy(df.id) \\ .orderBy(df.date.asc()) \\ .rowsBetween(Window.unboundedPreceding, -1) And the result dataframe would be like: | y | date | amount| id | sum | ----------------------------------- | 1 | 2017-01-01 | 10 | 1 | 0 | | 0 | 2017-01-01 | 2 | 1 | 0 | | 1 | 2017-01-02 | 20 | 1 | 10 | // =10 (considering only the row with y==1) | 0 | 2017-01-02 | 3 | 1 | 10 | // same as above | 1 | 2017-01-03 | 2 | 1 | 30 | // =10+20 | 0 | 2017-01-03 | 5 | 1 | 30 | // same as above Is this feasible anyhow? I tried to use the sum(when(df.y==1, df.amount)).over(w) but didn't return the correct results.",
    "code": "| y | date       | amount| id |\n ----------------------------- \n| 1 | 2017-01-01 | 10    | 1  |\n| 0 | 2017-01-01 | 2     | 1  |\n| 1 | 2017-01-02 | 20    | 1  |\n| 0 | 2017-01-02 | 3     | 1  |\n| 1 | 2017-01-03 | 2     | 1  |\n| 0 | 2017-01-03 | 5     | 1  |\n\n\nw = Window \\\n        .partitionBy(df.id) \\\n        .orderBy(df.date.asc()) \\\n        .rowsBetween(Window.unboundedPreceding, -1)\n\n\n| y | date       | amount| id | sum |\n ----------------------------------- \n| 1 | 2017-01-01 | 10    | 1  | 0   |\n| 0 | 2017-01-01 | 2     | 1  | 0   |\n| 1 | 2017-01-02 | 20    | 1  | 10  | // =10 (considering only the row with y==1)\n| 0 | 2017-01-02 | 3     | 1  | 10  | // same as above\n| 1 | 2017-01-03 | 2     | 1  | 30  | // =10+20\n| 0 | 2017-01-03 | 5     | 1  | 30  | // same as above\n\n\nsum\n\nsum(when(df.y==1, df.amount)).over(w)\n\n# Solution Code:\n&gt;&gt;&gt; from pyspark.sql.window import Window\n&gt;&gt;&gt; import pyspark.sql.functions as F\n&gt;&gt;&gt; \n&gt;&gt;&gt; df.show()\n+---+----------+------+---+\n|  y|      date|amount| id|\n+---+----------+------+---+\n|  1|2017-01-01|    10|  1|\n|  0|2017-01-01|     2|  1|\n|  1|2017-01-02|    20|  1|\n|  0|2017-01-02|     3|  1|\n|  1|2017-01-03|     2|  1|\n|  0|2017-01-03|     5|  1|\n+---+----------+------+---+\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; df = df.withColumn('c1', F.when(F.col('y')==1,F.col('amount')).otherwise(0))\n&gt;&gt;&gt; \n&gt;&gt;&gt; window1 = Window.partitionBy(df.id).orderBy(df.date.asc()).rowsBetween(Window.unboundedPreceding, -1)\n&gt;&gt;&gt; df = df.withColumn('c2', F.sum(df.c1).over(window1)).fillna(0)\n&gt;&gt;&gt; \n&gt;&gt;&gt; window2 = Window.partitionBy(df.id).orderBy(df.date.asc())\n&gt;&gt;&gt; df = df.withColumn('c3', F.lag(df.c2).over(window2)).fillna(0)\n&gt;&gt;&gt; \n&gt;&gt;&gt; df = df.withColumn('sum', F.when(df.y==0,df.c3).otherwise(df.c2))\n&gt;&gt;&gt; \n&gt;&gt;&gt; df = df.select('y','date','amount','id','sum')\n&gt;&gt;&gt; \n&gt;&gt;&gt; df.show()\n+---+----------+------+---+---+                                                 \n|  y|      date|amount| id|sum|\n+---+----------+------+---+---+\n|  1|2017-01-01|    10|  1|  0|\n|  0|2017-01-01|     2|  1|  0|\n|  1|2017-01-02|    20|  1| 10|\n|  0|2017-01-02|     3|  1| 10|\n|  1|2017-01-03|     2|  1| 30|\n|  0|2017-01-03|     5|  1| 30|\n+---+----------+------+---+---+\n",
    "resolution": "Actually it is difficult to handle it with using one window function. I think you should create some dummy columns first to calculate sum column. You can find my solution below. >>> from pyspark.sql.window import Window >>> import pyspark.sql.functions as F >>> >>> df.show() +---+----------+------+---+ | y| date|amount| id| +---+----------+------+---+ | 1|2017-01-01| 10| 1| | 0|2017-01-01| 2| 1| | 1|2017-01-02| 20| 1| | 0|2017-01-02| 3| 1| | 1|2017-01-03| 2| 1| | 0|2017-01-03| 5| 1| +---+----------+------+---+ >>> >>> df = df.withColumn('c1', F.when(F.col('y')==1,F.col('amount')).otherwise(0)) >>> >>> window1 = Window.partitionBy(df.id).orderBy(df.date.asc()).rowsBetween(Window.unboundedPreceding, -1) >>> df = df.withColumn('c2', F.sum(df.c1).over(window1)).fillna(0) >>> >>> window2 = Window.partitionBy(df.id).orderBy(df.date.asc()) >>> df = df.withColumn('c3', F.lag(df.c2).over(window2)).fillna(0) >>> >>> df = df.withColumn('sum', F.when(df.y==0,df.c3).otherwise(df.c2)) >>> >>> df = df.select('y','date','amount','id','sum') >>> >>> df.show() +---+----------+------+---+---+ | y| date|amount| id|sum| +---+----------+------+---+---+ | 1|2017-01-01| 10| 1| 0| | 0|2017-01-01| 2| 1| 0| | 1|2017-01-02| 20| 1| 10| | 0|2017-01-02| 3| 1| 10| | 1|2017-01-03| 2| 1| 30| | 0|2017-01-03| 5| 1| 30| +---+----------+------+---+---+ This solution may not work if there if there is multiple y=1 or y=0 rows per day, please consider it",
    "severity": "medium",
    "tags": [
      "apache-spark",
      "pyspark",
      "apache-spark-sql",
      "window-functions"
    ],
    "metadata": {
      "stackoverflow_question_id": "53593770",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 5025,
      "stackoverflow_creation_date": "2018-12-03T12:21:04.240Z"
    },
    "idempotency_key": "stackoverflow-53593770",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Is it possible to save the class/label mapping directly inside a keras model.h5 file?",
    "body": "Using model.save() I am able to save the trained model. However, upon using the model for predictions, I still need to recover the respective class/label mappings (0: 'cat', 1: 'dog' ... etc.). Currently I am saving the .class_indices from my train_generator and reload it to prepare my test-data to accomplish this. However this is quite inconvenient since it forces me to keep the mapping file somewhere save for future use of my saved model.h5 file. Hence, I wonder if there is a simpler way of saving the class information i.e. saving it inside the model file. I can't find any information on this in the keras docs, only this post Attaching class labels to a Keras model where someone tried to come up with a 'workaround' but I assume there must be a better way.",
    "code": "model.save()\n\n(0: 'cat', 1: 'dog' ... etc.)\n\n.class_indices\n\ntrain_generator\n\nmodel.h5",
    "severity": "medium",
    "tags": [
      "python",
      "tensorflow",
      "keras"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "53643252",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 1118,
      "stackoverflow_creation_date": "2018-12-06T01:22:21.073Z"
    },
    "idempotency_key": "stackoverflow-53643252",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Proper way to replace service in Entity Framework Core 2.0",
    "body": "I am developing a helper library for EF Core and currently it works by providing a custom DbContext class but I want to add a way to use it without a custom base class. I can achieve it by inheriting from StateManager and telling EF to use my implementation for IStateManager. I found two options for telling EF to use my implementation: The first one is simply calling DbContextOptionsBuilder.ReplaceService Method. Second way is to cast DbContextOptionsBuilder to IDbContextOptionsBuilderInfrastructure, call AddOrUpdateExtension on it, pass an IDbContextOptionsExtension instance and in ApplyServices method call ServiceCollectionServiceExtensions.AddScoped method. Out of these two options which one is a preferred ? Is there any difference between these two approaches?",
    "code": "DbContext\n\nIStateManager\n\nDbContextOptionsBuilder\n\nIDbContextOptionsBuilderInfrastructure\n\nAddOrUpdateExtension\n\nIDbContextOptionsExtension\n\nApplyServices\n\nServiceCollectionServiceExtensions.AddScoped",
    "severity": "low",
    "tags": [
      "entity-framework",
      "entity-framework-core",
      "ef-core-2.0",
      "ef-core-2.1"
    ],
    "metadata": {
      "stackoverflow_question_id": "53813201",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 615,
      "stackoverflow_creation_date": "2018-12-17T10:25:13.180Z"
    },
    "idempotency_key": "stackoverflow-53813201",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sunday date imputation",
    "body": "Date 0 06-03-16 1 08-05-16 2 15-05-16 3 22-05-16 4 29-05-16 5 05-06-16 6 31-07-16 I have the above dates and some of the Dates are missing between 06-03-16 and 08-05-16. Every date is a Sunday and the missing dates are also Sundays. How to impute missing Sunday dates in a pandas data frame?",
    "code": "    Date\n0   06-03-16\n1   08-05-16\n2   15-05-16\n3   22-05-16\n4   29-05-16\n5   05-06-16\n6   31-07-16\n\n\n# Solution Code:\npd.DataFrame(pd.date_range(start=min(df.Date), end=max(df.Date), \n                           freq='W-SUN').strftime('%d-%m-%Y').tolist(), \n                           columns = ['Date'])\n\n       Date\n0   06-03-2016\n1   13-03-2016\n2   20-03-2016\n3   27-03-2016\n4   03-04-2016\n5   10-04-2016\n6   17-04-2016\n7   24-04-2016\n8   01-05-2016\n9   08-05-2016\n10  15-05-2016\n11  22-05-2016\n12  29-05-2016\n13  05-06-2016\n14  12-06-2016\n15  19-06-2016\n16  26-06-2016\n17  03-07-2016\n18  10-07-2016\n19  17-07-2016\n20  24-07-2016\n21  31-07-2016\n\n\ndf.Date = pd.to_datetime(df.Date, format='%d-%m-%y')\n\n\npd.date_range\n\nstart\n\nend\n\nfreq='W-SUN'\n\nDate\n\ndatetime",
    "resolution": "You can use pd.date_range selecting the mimimum and maximum dates as start and end respectively, and setting freq='W-SUN': pd.DataFrame(pd.date_range(start=min(df.Date), end=max(df.Date), freq='W-SUN').strftime('%d-%m-%Y').tolist(), columns = ['Date']) Date 0 06-03-2016 1 13-03-2016 2 20-03-2016 3 27-03-2016 4 03-04-2016 5 10-04-2016 6 17-04-2016 7 24-04-2016 8 01-05-2016 9 08-05-2016 10 15-05-2016 11 22-05-2016 12 29-05-2016 13 05-06-2016 14 12-06-2016 15 19-06-2016 16 26-06-2016 17 03-07-2016 18 10-07-2016 19 17-07-2016 20 24-07-2016 21 31-07-2016 Make sure the Date column is in datetime format: df.Date = pd.to_datetime(df.Date, format='%d-%m-%y')",
    "severity": "low",
    "tags": [
      "python",
      "pandas"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "53913393",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 79,
      "stackoverflow_creation_date": "2018-12-24T12:20:49.027Z"
    },
    "idempotency_key": "stackoverflow-53913393",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to pass environment variables in docker-compose.yml with create-react-app",
    "body": "I have nginx and client images, loaded by docker-compose.yml file. For some reason, the environment variables (REACT_APP_MAXIMUM_CAMERAS_COUNT) are not visible when the application is running (I get undefined), and I can't figure out why. Here is my create-react-app Dockerfile: FROM node:alpine as builder WORKDIR /app COPY ./package.json ./ RUN npm i COPY . . RUN npm run build FROM nginx EXPOSE 3000 COPY ./nginx/default.conf /etc/nginx/conf.d/default.conf COPY --from=builder /app/build /usr/share/nginx/html And here is my docker-compose.yml file: version: '3' services: nginx: image: <ip_address>:5000/orassayag/osr_streamer_nginx:v1.0 restart: always ports: - '3050:80' client: image: <ip_address>:5000/orassayag/osr_streamer_client:v1.0 environment: - REACT_APP_MAXIMUM_CAMERAS_COUNT=10 **Note** that since the docker-compose pulls the images from a private registry (without any build), it can't use the \"build\" blocks with \"args\" (already tried with args and it works). Any workaround to solve this?",
    "code": "FROM node:alpine as builder\n\nWORKDIR /app\nCOPY ./package.json ./\nRUN npm i\nCOPY . .\nRUN npm run build\n\nFROM nginx\nEXPOSE 3000\nCOPY ./nginx/default.conf /etc/nginx/conf.d/default.conf\nCOPY --from=builder /app/build /usr/share/nginx/html\n\n\nversion: '3'\nservices:\n  nginx:\n    image: &lt;ip_address&gt;:5000/orassayag/osr_streamer_nginx:v1.0\n    restart: always\n    ports:\n      - '3050:80'\n  client:\n    image: &lt;ip_address&gt;:5000/orassayag/osr_streamer_client:v1.0\n    environment:\n      - REACT_APP_MAXIMUM_CAMERAS_COUNT=10\n\n\n# Solution Code:\ndocker exec -it code_client_1 sh\n/usr/app # export\nexport HOME='/root'\nexport HOSTNAME='f4b3fc891ce3'\nexport NODE_VERSION='10.15.0'\nexport PATH='/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin'\nexport PORT='80'\nexport PWD='/usr/app'\nexport REACT_APP_MAXIMUM_CAMERAS_COUNT='10'\nexport SHLVL='1'\nexport TERM='xterm'\nexport YARN_VERSION='1.12.3'\n/usr/app #\n\n\nexport",
    "resolution": "The docker-compose file you have seems to do the right thing. Try to get a shell inside the running container and type export. docker exec -it code_client_1 sh /usr/app # export export HOME='/root' export HOSTNAME='f4b3fc891ce3' export NODE_VERSION='10.15.0' export PATH='/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin' export PORT='80' export PWD='/usr/app' export REACT_APP_MAXIMUM_CAMERAS_COUNT='10' export SHLVL='1' export TERM='xterm' export YARN_VERSION='1.12.3' /usr/app # There I can see the environment variable works. Your problem might be that your website is build without the environment being set, so it will not actually read your environment variables at runtime. There is a lengthy discussion here on github and even though it might not be optimal, I have myself 'rebuild and then run' each time I start the service. It is not optimal, but it works for what I need.",
    "severity": "medium",
    "tags": [
      "reactjs",
      "docker",
      "docker-compose",
      "environment-variables",
      "create-react-app"
    ],
    "metadata": {
      "stackoverflow_question_id": "54079502",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4794,
      "stackoverflow_creation_date": "2019-01-07T18:03:32.620Z"
    },
    "idempotency_key": "stackoverflow-54079502",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ForkJoinPool performance Java 8 vs 11",
    "body": "Consider the following piece of code: package com.sarvagya; import java.util.Arrays; import java.util.List; import java.util.concurrent.ExecutionException; import java.util.concurrent.ForkJoinPool; import java.util.stream.Collectors; public class Streamer { private static final int LOOP_COUNT = 2000; public static void main(String[] args){ try{ for(int i = 0; i < LOOP_COUNT; ++i){ poolRunner(); System.out.println(\"done loop \" + i); try{ Thread.sleep(50L); } catch (Exception e){ System.out.println(e); } } } catch (ExecutionException | InterruptedException e){ System.out.println(e); } // Add a delay outside the loop to make sure all daemon threads are cleared before main exits. try{ Thread.sleep(10 * 60 * 1000L); } catch (Exception e){ System.out.println(e); } } /** * poolRunner method. * Assume I don't have any control over this method e.g. done by some library. * @throws InterruptedException * @throws ExecutionException */ private static void poolRunner() throws InterruptedException, ExecutionException { ForkJoinPool pool = new ForkJoinPool(); pool.submit(() ->{ List<Integer> numbers = Arrays.asList(1,2,3,4,5,6,7,8,9,10, 11,12,14,15,16); List<Integer> collect = numbers.stream() .parallel() .filter(xx -> xx > 5) .collect(Collectors.toList()); System.out.println(collect); }).get(); } } In above code,poolRunner method is creating a ForkJoinPool and submitting some tasks to it. When using Java 8 and keeping LOOP_COUNT as 2000, we could see max threads created was about 3600 as seen below fig: Profiling fig: Threads info. All these threads goes down to almost 10 after some period of time. However, in OpenJDK 11 keeping same LOOP_COUNT is going to produce following error: [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached. [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached. [28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached. Exception in thread \"ForkJoinPool-509-worker-5\" java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached at java.base/java.lang.Thread.start0(Native Method) at java.base/java.lang.Thread.start(Thread.java:803) at java.base/java.util.concurrent.ForkJoinPool.createWorker(ForkJoinPool.java:1329) at java.base/java.util.concurrent.ForkJoinPool.tryAddWorker(ForkJoinPool.java:1352) at java.base/java.util.concurrent.ForkJoinPool.signalWork(ForkJoinPool.java:1476) at java.base/java.util.concurrent.ForkJoinPool.deregisterWorker(ForkJoinPool.java:1458) at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:187) It reaches max thread limit very soon. Keeping LOOP_COUNT to 500, works fine, however, these threads are cleared very very slowly and reaches plateau of about 500 threads. See the images below: fig: Thread info in OpenJDK 11 fig: Profiling in OpenJDK 11 Threads were PARKED in JDK 8, but WAIT in JDK 11. Number of daemon threads should be reduced in Java 11 as well , however, it is slow and doesn't work as expected. Moreover, assume I don't have control over poolRunner method. Consider this method is provided by some external library. Is this issue with OpenJDK 11 or am doing something wrong in code. Thanks.",
    "code": "package com.sarvagya;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.util.concurrent.ForkJoinPool;\nimport java.util.stream.Collectors;\n\npublic class Streamer {\n    private static final int LOOP_COUNT  = 2000;\n    public static void main(String[] args){\n        try{\n            for(int i = 0; i &lt; LOOP_COUNT; ++i){\n                poolRunner();\n                System.out.println(\"done loop \" + i);\n                try{\n                    Thread.sleep(50L);\n                }\n                catch (Exception e){\n                    System.out.println(e);\n                }\n            }\n        }\n        catch (ExecutionException | InterruptedException e){\n            System.out.println(e);\n        }\n\n        // Add a delay outside the loop to make sure all daemon threads are cleared before main exits.\n        try{\n            Thread.sleep(10 * 60 * 1000L);\n        }\n        catch (Exception e){\n            System.out.println(e);\n        }\n    }\n\n    /**\n     * poolRunner method.\n     * Assume I don't have any control over this method e.g. done by some library.\n     * @throws InterruptedException\n     * @throws ExecutionException\n     */\n    private static void poolRunner() throws InterruptedException, ExecutionException {\n        ForkJoinPool pool = new ForkJoinPool();\n        pool.submit(() -&gt;{\n            List&lt;Integer&gt; numbers = Arrays.asList(1,2,3,4,5,6,7,8,9,10, 11,12,14,15,16);\n            List&lt;Integer&gt; collect = numbers.stream()\n                    .parallel()\n                    .filter(xx -&gt; xx &gt; 5)\n                    .collect(Collectors.toList());\n            System.out.println(collect);\n        }).get();\n    }\n}\n\n\n[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\n[28.822s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 1024k, guardsize: 4k, detached.\nException in thread \"ForkJoinPool-509-worker-5\" java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n    at java.base/java.lang.Thread.start0(Native Method)\n    at java.base/java.lang.Thread.start(Thread.java:803)\n    at java.base/java.util.concurrent.ForkJoinPool.createWorker(ForkJoinPool.java:1329)\n    at java.base/java.util.concurrent.ForkJoinPool.tryAddWorker(ForkJoinPool.java:1352)\n    at java.base/java.util.concurrent.ForkJoinPool.signalWork(ForkJoinPool.java:1476)\n    at java.base/java.util.concurrent.ForkJoinPool.deregisterWorker(ForkJoinPool.java:1458)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:187)\n\n\npoolRunner\n\nForkJoinPool\n\npoolRunner\n\n# Solution Code:\nint threadNumber = 8;\nForkJoinPool pool = new ForkJoinPool(threadNumber);\n// force the creation of all worker threads\npool.invokeAll(Collections.nCopies(threadNumber*2, () -&gt; {\n    Thread.sleep(500);\n    return &quot;&quot;;\n}));\nint oldNum = pool.getPoolSize();\nSystem.out.println(oldNum+&quot; threads; waiting for dying threads&quot;);\nlong t0 = System.nanoTime();\nwhile(oldNum &gt; 0) {\n    while(pool.getPoolSize()==oldNum)\n        LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(200));\n    long t1 = System.nanoTime();\n    oldNum = pool.getPoolSize();\n    System.out.println(threadNumber-oldNum+&quot; threads terminated after &quot;\n        +TimeUnit.NANOSECONDS.toSeconds(t1 - t0)+&quot;s&quot;);\n}\n\n\nForkJoinPool\n\nshutdown()\n\n<em>n</em> * (<em>n</em> + 1)\n\nForkJoinPool\n\nkeepAliveTime\n\n60, TimeUnit.SECONDS\n\n60 * <em>n</em>\n\nThread.sleep(…)\n\nshutdown()",
    "resolution": "Your code is creating a huge amount of ForkJoinPool instances and is never calling shutdown() on any pool after its use. Since in case of Java 8, nothing in the specification guarantees that the worker threads will terminate, this code could even end up with 2000 (⟨number of pools⟩) times ⟨number of cores⟩ threads. In practice, the observed behavior stems from an undocumented idle timeout of two seconds. Note that according to the comment, the consequence of an elapsed timeout is an attempt to shrink the number of workers which is different to just terminating. So if n thread experience the timeout, not all n threads terminate but the number of threads gets reduced by one and the remaining threads may wait again. Further, the phrase “initial timeout value” already hints at it, the actual timeout gets incremented each time it happens. So it takes n * (n + 1) seconds for n idle worker thread to terminate due to this (undocumented) timeout. Starting with Java 9, there is a configurable keepAliveTime which can be specified in a new constructor of ForkJoinPool, which also documents the default value: keepAliveTimethe elapsed time since last use before a thread is terminated (and then later replaced if needed). For the default value, use 60, TimeUnit.SECONDS. This documentation may mislead into thinking that now all worker thread may terminate together when being idle for keepAliveTime, but in fact, there’s still a behavior of only shrinking the pool by one at a time, though now, the time is not increasing. So now, it takes up to 60 * n seconds for n idle worker thread to terminate. Since the previous behavior was unspecified, it’s not even an incompatibility. It must be emphasized that even with the same timeout behavior, the resulting maximum number of threads could change, as when a newer JVM with better code optimizations reduces the execution time of the actual operations (without artificial insertions of Thread.sleep(…)) it would create new threads faster while the termination still is bound to wall-clock time. The takeaway is that you should never rely on the automatic worker thread termination when you know that a thread pool is not needed anymore. Instead, you should call shutdown() when you are done. You may verify the behavior with the following code: int threadNumber = 8; ForkJoinPool pool = new ForkJoinPool(threadNumber); // force the creation of all worker threads pool.invokeAll(Collections.nCopies(threadNumber*2, () -> { Thread.sleep(500); return \"\"; })); int oldNum = pool.getPoolSize(); System.out.println(oldNum+\" threads; waiting for dying threads\"); long t0 = System.nanoTime(); while(oldNum > 0) { while(pool.getPoolSize()==oldNum) LockSupport.parkNanos(TimeUnit.MILLISECONDS.toNanos(200)); long t1 = System.nanoTime(); oldNum = pool.getPoolSize(); System.out.println(threadNumber-oldNum+\" threads terminated after \" +TimeUnit.NANOSECONDS.toSeconds(t1 - t0)+\"s\"); } ####Java 8: 8 threads; waiting for dying threads 1 threads terminated after 2s 2 threads terminated after 6s 3 threads terminated after 12s 4 threads terminated after 20s 5 threads terminated after 30s 6 threads terminated after 42s 7 threads terminated after 56s 8 threads terminated after 72s ####Java 11: 8 threads; waiting for dying threads 1 threads terminated after 60s 2 threads terminated after 120s 3 threads terminated after 180s 4 threads terminated after 240s 5 threads terminated after 300s 6 threads terminated after 360s 7 threads terminated after 420s Never finished, apparently, at least one last worker thread stays alive",
    "severity": "medium",
    "tags": [
      "java",
      "multithreading",
      "java-8",
      "java-11"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "54084915",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 6150,
      "stackoverflow_creation_date": "2019-01-08T03:41:16.977Z"
    },
    "idempotency_key": "stackoverflow-54084915",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "ALC tableau algorithm example",
    "body": "I'm trying to solve the following example using the tableau algorithm for ALC. Given the following TBox T: A⊆B A⊆C B⊆∃R.D̸ C⊆∃R.D E⊆∀R.D̸ Tell whether the concept A is satisfiable. So I put A(a) in my ABox and I start the algorithm, getting: A0={((A̸∨B)∩(A̸∨C)∩(B̸∨∃R.D̸)∩(C̸∨∃R.D)∩(E̸∨∀R.D̸))(a)}. Then I get: A1={((A̸∨B),(A̸∨C),(B̸∨∃R.D̸),(C̸∨∃R.D),(E̸∨∀R.D̸))(a)}. which leads me to: Ak={((A̸(a)∨B(a)),(A̸(a)∨C(a)),(B̸(a)∨R(a,b)D(b̸)),(C̸(a)∨R(a,c)D(c)),(E̸(a)∨D̸(b)))}. A̸(a) is a clash with A(a), B̸(a) is a clash with B(a) and C̸(a) is a clash with C(a), so I have: Ak={((B(a)),(C(a)),(R(a,b)D(b̸)),(R(b,c)D(c)),(E̸(a)∨D̸(b)))}. Let's see what happens with b's expansion: Ak+1={((A̸∨B),(A̸∨C),(B̸∨∃R.D̸),(C̸∨∃R.D),(E̸∨∀R.D̸))(b)}. which leads me to: Ak+m={((A̸(b)∨B(b)),(A̸(b)∨C(b)),(B̸(b)∨blocked),(C̸(b)∨blocked),(E̸(b)∨D̸(c)))}. Now D̸(c) clashes with D(c) and B̸(b) clashes with B(b). And I get it is unsatisfiable, which is wrong. Could somebody please show me where I'm wrong with the application of this tableau algorithm?",
    "code": "A⊆B\nA⊆C\nB⊆∃R.D̸\nC⊆∃R.D\nE⊆∀R.D̸\n\n\nA0={((A̸∨B)∩(A̸∨C)∩(B̸∨∃R.D̸)∩(C̸∨∃R.D)∩(E̸∨∀R.D̸))(a)}.\n\n\nA1={((A̸∨B),(A̸∨C),(B̸∨∃R.D̸),(C̸∨∃R.D),(E̸∨∀R.D̸))(a)}.\n\n\nAk={((A̸(a)∨B(a)),(A̸(a)∨C(a)),(B̸(a)∨R(a,b)D(b̸)),(C̸(a)∨R(a,c)D(c)),(E̸(a)∨D̸(b)))}.\n\n\nAk={((B(a)),(C(a)),(R(a,b)D(b̸)),(R(b,c)D(c)),(E̸(a)∨D̸(b)))}.\n\n\nAk+1={((A̸∨B),(A̸∨C),(B̸∨∃R.D̸),(C̸∨∃R.D),(E̸∨∀R.D̸))(b)}.\n\n\nAk+m={((A̸(b)∨B(b)),(A̸(b)∨C(b)),(B̸(b)∨blocked),(C̸(b)∨blocked),(E̸(b)∨D̸(c)))}.\n",
    "severity": "low",
    "tags": [
      "logic",
      "owl",
      "reasoning",
      "description-logic"
    ],
    "metadata": {
      "stackoverflow_question_id": "54277184",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 582,
      "stackoverflow_creation_date": "2019-01-20T13:58:40.353Z"
    },
    "idempotency_key": "stackoverflow-54277184",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Angular Material mat-menu-item to be the same size as the mat-menu button",
    "body": "I use mat-menu of Angular Material with different mat-menu-item and I would like the list of menu items to be the same size as the button. That's what I have: And what I wish: I tried to change the size of the menu with the css, but it does not work properly. CSS: .cdk-overlay-pane {width: 100%;} .mat-menu-panel {width: 100%;} HTML: <button mat-raised-button [matMenuTriggerFor]=\"menu\" class=\"btn-block btn-blue\"> <div fxLayout=\"row\" fxLayoutAlign=\"center center\"> <mat-icon>more_vert</mat-icon> <span fxFlex>OPTION</span> </div> </button> <mat-menu #menu=\"matMenu\"> <button mat-menu-item> <mat-icon>unarchive</mat-icon> <span>First</span> </button> <button mat-menu-item> <mat-icon>file_copy</mat-icon> <span>Second</span> </button> </mat-menu> I did a StackBlitz HERE for my mat-menu. Thank you in advance! EDIT : I changed my code because I'm using a responsive button with the bootstrap class \"btn-block\".",
    "code": ".cdk-overlay-pane {width: 100%;}\n.mat-menu-panel {width: 100%;}\n\n\n&lt;button mat-raised-button [matMenuTriggerFor]=\"menu\" class=\"btn-block btn-blue\"&gt;\n  &lt;div fxLayout=\"row\" fxLayoutAlign=\"center center\"&gt;\n    &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;\n    &lt;span fxFlex&gt;OPTION&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/button&gt;\n\n&lt;mat-menu #menu=\"matMenu\"&gt;\n  &lt;button mat-menu-item&gt;\n    &lt;mat-icon&gt;unarchive&lt;/mat-icon&gt;\n    &lt;span&gt;First&lt;/span&gt;\n  &lt;/button&gt;\n  &lt;button mat-menu-item&gt;\n    &lt;mat-icon&gt;file_copy&lt;/mat-icon&gt;\n    &lt;span&gt;Second&lt;/span&gt;\n  &lt;/button&gt;\n&lt;/mat-menu&gt;\n\n\n# Solution Code:\n&lt;button mat-raised-button [matMenuTriggerFor]=\"menu\" class=\"btn-block btn-blue\" id=\"button\"&gt;\n  &lt;div fxLayout=\"row\" fxLayoutAlign=\"center center\"&gt;\n    &lt;mat-icon&gt;more_vert&lt;/mat-icon&gt;\n    &lt;span fxFlex&gt;OPTION&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/button&gt;\n\n\nexport class AppComponent implements DoCheck{\n  ngDoCheck(){\n    var widthButton=document.getElementById(\"button\").offsetWidth;\n\n    var elems = document.getElementsByClassName('mat-menu-panel');\n    for(var i = 0; i &lt; elems.length; i++) {\n      elems[i].style.width = widthButton+\"px\";\n    }\n  }\n}\n\n\n.cdk-overlay-pane {width: 100%!important;}\n.mat-menu-panel {max-width: 100%!important; min-width: 64px!important;}\n",
    "resolution": "I found a solution really not clean, but here it is: StackBlitz HERE If someone would have a CSS solution, I'm interested. HTML: <button mat-raised-button [matMenuTriggerFor]=\"menu\" class=\"btn-block btn-blue\" id=\"button\"> <div fxLayout=\"row\" fxLayoutAlign=\"center center\"> <mat-icon>more_vert</mat-icon> <span fxFlex>OPTION</span> </div> </button> TS: export class AppComponent implements DoCheck{ ngDoCheck(){ var widthButton=document.getElementById(\"button\").offsetWidth; var elems = document.getElementsByClassName('mat-menu-panel'); for(var i = 0; i < elems.length; i++) { elems[i].style.width = widthButton+\"px\"; } } } CSS: .cdk-overlay-pane {width: 100%!important;} .mat-menu-panel {max-width: 100%!important; min-width: 64px!important;} DEMO:",
    "severity": "high",
    "tags": [
      "css",
      "angular",
      "drop-down-menu",
      "angular-material",
      "angular-material2"
    ],
    "metadata": {
      "language": "css",
      "framework": "angular",
      "stackoverflow_question_id": "54323267",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 19752,
      "stackoverflow_creation_date": "2019-01-23T08:51:15.777Z"
    },
    "idempotency_key": "stackoverflow-54323267",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Reading multiple files from a same folder using python",
    "body": "I have thousands of text files which I want to read using python. I have successfully read one file and now I am not sure how to read multiple files using loop or any other command I tried to split the name and type of the file by saving the variable character of the text files saved in a string. e.g I have 3 files named as file_1, file_2, file_3 I took one variable and limit =\"1\" and conciniate it with the full address of the file. now I want to know how can I access the other two files. provided I don't want to use same line of code multiple times because in reality I have thousands of files import os from os import path limit1 = \"1\" strpath = r\"C:/Users/saqibshakeel035/Desktop/SP/text_file_r_w\" print(\"Your current directory is : %s\" %path.abspath(strpath)) f = open(\"C:/Users/saqibshakeel035/Desktop/SP/text_file_r_w/file_\" + limit1 + \".txt\", \"r\") print(f.read()) This code is working fine for 1 file. Now i want my code to read multile files and later on I will transfer my files to somewhere else.",
    "code": "import os\nfrom os import path\nlimit1 = \"1\"\nstrpath = r\"C:/Users/saqibshakeel035/Desktop/SP/text_file_r_w\"\nprint(\"Your current directory is : %s\"  %path.abspath(strpath))\nf = open(\"C:/Users/saqibshakeel035/Desktop/SP/text_file_r_w/file_\" + \nlimit1 + \".txt\", \"r\")\nprint(f.read())\n\n\n# Solution Code:\nfiles = [file for file in glob.glob(\"../somefolder/*\")]\nfor file_name in files:\n    with io.open(file_name, 'rb') as image_file:\n        content = image_file.read()\n",
    "resolution": "You can use glob.glob to access all file paths of the folder, and read each file using for loop. files = [file for file in glob.glob(\"../somefolder/*\")] for file_name in files: with io.open(file_name, 'rb') as image_file: content = image_file.read()",
    "severity": "high",
    "tags": [
      "python",
      "operating-system"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "54471432",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 26584,
      "stackoverflow_creation_date": "2019-02-01T00:53:33.380Z"
    },
    "idempotency_key": "stackoverflow-54471432",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to validate in Assertj Collection of Set",
    "body": "I have method which returns List of records. Each record have Set as field. public class R { public final Set s; } I have list of all expected Set - like: Set<String> set1 = new HashSet<String>(); set1.add(\"s1\"); Set<String> set2 = new HashSet<String>(); set1.add(\"s2\"); Set<String> set3 = new HashSet<String>(); set1.add(\"s3\"); I want to validate in easy way using AssertJ (ver. 3.11.1) that response List<R> contains all defined Set or at least aggregation of all elements from these sets are equals to aggregation of elements from sets set1, set2, set3 NOTE: solution bellow is not working: Set allElements = new HashSet<String>(); allElements.addAll(set1); allElements.addAll(set2); allElements.addAll(set3); List<R> result = foo(); org.assertj.core.api.Assertions.assertThat(result) .extracting(record -> record.s) .containsOnly(allElements); I got: java.lang.AssertionError: Expecting: <[[\"s1.1\", \"s1.2\"], [\"s2.1\", \"s2.2\"], [\"s3.1\", \"s3.2\"]]> to contain only: <[[\"s1.1\", \"s1.2\", \"s2.1\", \"s2.2\", \"s3.1\", \"s3.2\"]]>",
    "code": "public class R {\n    public final Set s;\n}\n\n\nSet&lt;String&gt; set1 = new HashSet&lt;String&gt;(); set1.add(\"s1\");\nSet&lt;String&gt; set2 = new HashSet&lt;String&gt;(); set1.add(\"s2\");\nSet&lt;String&gt; set3 = new HashSet&lt;String&gt;(); set1.add(\"s3\");\n\n\nSet allElements = new HashSet&lt;String&gt;();\nallElements.addAll(set1);\nallElements.addAll(set2);\nallElements.addAll(set3);\n\nList&lt;R&gt; result = foo();\norg.assertj.core.api.Assertions.assertThat(result)\n    .extracting(record -&gt; record.s)\n    .containsOnly(allElements);\n\n\njava.lang.AssertionError: \nExpecting:\n  &lt;[[\"s1.1\", \"s1.2\"],\n    [\"s2.1\", \"s2.2\"],\n    [\"s3.1\", \"s3.2\"]]&gt;\nto contain only:\n  &lt;[[\"s1.1\",\n    \"s1.2\",\n    \"s2.1\",\n    \"s2.2\",\n    \"s3.1\",\n    \"s3.2\"]]&gt;\n\n\nList&lt;R&gt;\n\nset1, set2, set3\n\n# Solution Code:\nSet&lt;Set&lt;String&gt;&gt; referralSet = new HashSet&lt;&gt;();\nreferralSet.add(set1);\nreferralSet.add(set2);\nreferralSet.add(set3);\n\norg.assertj.core.api.Assertions.assertThat(result)\n        .extracting(record -&gt; record.s)\n        .containsExactlyInAnyOrderElementsOf(referralSet);\n\n\ncontainsExactlyInAnyOrderElementsOf",
    "resolution": "Looks like containsExactlyInAnyOrderElementsOf is the answer solution is: Set<Set<String>> referralSet = new HashSet<>(); referralSet.add(set1); referralSet.add(set2); referralSet.add(set3); org.assertj.core.api.Assertions.assertThat(result) .extracting(record -> record.s) .containsExactlyInAnyOrderElementsOf(referralSet);",
    "severity": "high",
    "tags": [
      "java",
      "testing",
      "assertj"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "54477600",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 11501,
      "stackoverflow_creation_date": "2019-02-01T10:30:29.163Z"
    },
    "idempotency_key": "stackoverflow-54477600",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Unhandled Rejection (Error): Actions may not have an undefined \"type\" property. Have you misspelled a constant?",
    "body": "trying to create an action in redux to call my API. I understand that actions must have a defined type so not sure why I am getting this error Tried looking for similar posts but none of them provide the answer that I need export const getTracks = () => dispatch => { axios .get(\"/api/tracks/all\") .then(res => dispatch({ type: GET_TRACKS, payload: res.data }) ) .catch(err => dispatch({ type: GET_TRACKS, payload: null }) ); }; EDIT: MaieonBrix helped me realize that my import of 'GET_TRACKS' was missing from the file where my action types are located: import { GET_ERRORS, GET_TRACKS } from \"./types\"; file types.js: export const {GET_ERRORS} = 'GET_ERRORS'; export const {GET_TRACKS} = 'GET_TRACKS';",
    "code": "export const getTracks = () =&gt; dispatch =&gt; {\n  axios\n    .get(\"/api/tracks/all\")\n    .then(res =&gt;\n      dispatch({\n       type: GET_TRACKS,\n       payload: res.data\n  })\n)\n   .catch(err =&gt;\n     dispatch({\n      type: GET_TRACKS,\n      payload: null\n  })\n);\n}; \n\n\nimport { GET_ERRORS, GET_TRACKS } from \"./types\";\n\n\nexport const {GET_ERRORS} = 'GET_ERRORS';\nexport const {GET_TRACKS} = 'GET_TRACKS';\n\n\n# Solution Code:\n// change this\nexport const { GET_TRACKS } = ...\n\n// into this\n\nexport const GET_TRACKS = ...\n\n\nundefined\n\ndispatch({ type: variableThatMightBeUndefined })",
    "resolution": "This error occurs when you are dispatching an action with an undefined type like so : dispatch({ type: variableThatMightBeUndefined }) It means that your GET_TRACKS variable that holds your 'GET_TRACKS' string is undefined. I will update my answer if you update your post with how you are importing your action (it may be related to that) UPDATE : The issue here is how you exported your types // change this export const { GET_TRACKS } = ... // into this export const GET_TRACKS = ... Here is the documentation on named export : https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/export",
    "severity": "medium",
    "tags": [
      "react-redux"
    ],
    "metadata": {
      "stackoverflow_question_id": "54486693",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4668,
      "stackoverflow_creation_date": "2019-02-01T20:23:19.937Z"
    },
    "idempotency_key": "stackoverflow-54486693",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Bulk Delete an attribute from a document in ElasticSearch 6+",
    "body": "I need to delete a particular attribute from all documents in ElasticSearch. Is there a way to do it and can it be done via Bulk API. I am unable to find an API to Bulk Delete an attribute from ElasticSearch. Is there any way to achieve the same. Sample part of my document: { \"media\": { \"list1\": [ {\"title\":\"a\"} ], \"list2\": [ {\"title\":\"b\"} ] } } Script to delete the same : { \"script\": \"ctx._source.remove('media.list1')\", \"query\": { \"bool\": { \"must\": [ { \"exists\": { \"field\": \"media.list1\" } } ] } } }",
    "code": "{\n  \"media\": {\n    \"list1\": [\n      {\"title\":\"a\"}\n    ],\n    \"list2\": [\n      {\"title\":\"b\"}\n    ]\n  }\n}\n\n\n{\n  \"script\": \"ctx._source.remove('media.list1')\",\n  \"query\": {\n    \"bool\": {\n      \"must\": [\n        {\n          \"exists\": {\n            \"field\": \"media.list1\"\n          }\n        }\n      ]\n    }\n  }\n}\n",
    "severity": "medium",
    "tags": [
      "elasticsearch",
      "elasticsearch-bulk-api",
      "bulk-delete"
    ],
    "metadata": {
      "stackoverflow_question_id": "54578094",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2836,
      "stackoverflow_creation_date": "2019-02-07T16:38:04.663Z"
    },
    "idempotency_key": "stackoverflow-54578094",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Hide Elements within Jinja2 template? Any possible way to hide a button?",
    "body": "I am working on my web application using Python and Flask. I have got a navbar and some buttons on it and I would like to hide one of buttons when I am not on the index page. Is that possible? I would like the button \"select brand\" to be visible only on index.html page. {% block navbar %} <nav class=\"navbar navbar-expand-lg navbar-default fixed-top \"> <div class=\"container\"> <div class=\"navbar-header\"> <button button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\"> <span class=\"sr-only\">Toggle navigation</span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> <span class=\"icon-bar\"></span> </button> <a class=\"navbar-brand\" rel=\"home\" href=\"{{ url_for('main.index') }}\" title=\"Mobile phones and accessories\"> <img style=\"max-width:40px; margin-top: -9px;\" src=\"http://www.logospng.com/images/38/devfest-2016-38885.png\" > </a> </div> <div id=\"navbar\" class=\"collapse navbar-collapse navbar-responsive-collapse\"> <ul class=\"nav navbar-nav\"> <li class=\"active\"><a href=\"{{ url_for('main.index') }}\">Home</a></li> {% if current_user.is_authenticated and current_user.admin %} <li><a href=\"{{ url_for('phones.new_phone') }}\">Add phone</a></li> <li><a href=\"{{ url_for('phones.brand') }}\">Add brand</a></li> {% endif %} <li class=\"dropdown\"> <a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">Select brand <span class=\"caret\"></span></a> <ul class=\"dropdown-menu\"> {% for brand in brands %} <li class=\"list-group-item\"> <a href=\"{{ url_for('main.index', bra=brand) }}\">{{ brand }}</a> {% endfor %} </ul> </li> </ul> <ul class=\"nav navbar-nav navbar-right\"> {% if current_user.is_authenticated %} <li class=\"dropdown\"> <a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\"> <span class=\"glyphicon glyphicon-user\"> </span> {{ current_user.username }} <span class=\"caret\"></span> </a> <ul class=\"dropdown-menu\"> <li><a href=\"{{ url_for('auth.logout') }}\" >Logout</a></li> </ul> </li> {% else %} <li><a class=\"nav-link\" href=\"{{ url_for('auth.login') }}\" >Login</a></li> <li><a class=\"nav-link\" href=\"{{ url_for('auth.register') }}\" >Register</a></li> {% endif %} </ul> <form class=\"navbar-form navbar-right\" method='POST' action=\"{{ url_for('phones.search') }}\"> <div class=\"form-group\"> <input class=\"search-query form-control\" placeholder=\"Search...\" aria-label=\"Search\" type=\"text\" name=\"search\"> </div> </form> </div> </div> </nav> {% endblock %}",
    "code": "{% block navbar %}\n\n&lt;nav class=\"navbar navbar-expand-lg navbar-default fixed-top \"&gt;\n    &lt;div class=\"container\"&gt;\n\n        &lt;div class=\"navbar-header\"&gt;\n            &lt;button button type=\"button\" class=\"navbar-toggle collapsed\" data-toggle=\"collapse\" data-target=\"#navbar\" aria-expanded=\"false\" aria-controls=\"navbar\"&gt;\n                &lt;span class=\"sr-only\"&gt;Toggle navigation&lt;/span&gt;\n                &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n                &lt;span class=\"icon-bar\"&gt;&lt;/span&gt;\n            &lt;/button&gt;\n            &lt;a class=\"navbar-brand\" rel=\"home\" href=\"{{ url_for('main.index') }}\" title=\"Mobile phones and accessories\"&gt;\n                &lt;img style=\"max-width:40px; margin-top: -9px;\"\n                     src=\"http://www.logospng.com/images/38/devfest-2016-38885.png\" &gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"navbar\" class=\"collapse navbar-collapse navbar-responsive-collapse\"&gt;\n            &lt;ul class=\"nav navbar-nav\"&gt;\n                &lt;li class=\"active\"&gt;&lt;a href=\"{{ url_for('main.index') }}\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n                {% if current_user.is_authenticated and current_user.admin %}\n                &lt;li&gt;&lt;a href=\"{{ url_for('phones.new_phone') }}\"&gt;Add phone&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"{{ url_for('phones.brand') }}\"&gt;Add brand&lt;/a&gt;&lt;/li&gt;\n                {% endif %}\n\n                &lt;li class=\"dropdown\"&gt;\n                    &lt;a href=\"#\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;Select brand &lt;span class=\"caret\"&gt;&lt;/span&gt;&lt;/a&gt;\n                    &lt;ul class=\"dropdown-menu\"&gt;\n                        {% for brand in brands %}\n                        &lt;li class=\"list-group-item\"&gt;\n                            &lt;a href=\"{{ url_for('main.index', bra=brand) }}\"&gt;{{ brand }}&lt;/a&gt;\n                         {% endfor %}\n\n\n                    &lt;/ul&gt;\n                &lt;/li&gt;\n            &lt;/ul&gt;\n                        &lt;ul class=\"nav navbar-nav navbar-right\"&gt;\n                {% if current_user.is_authenticated %}\n                    &lt;li class=\"dropdown\"&gt;\n                        &lt;a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\"&gt;\n                            &lt;span class=\"glyphicon glyphicon-user\"&gt; &lt;/span&gt; {{ current_user.username }}\n                            &lt;span class=\"caret\"&gt;&lt;/span&gt;\n                        &lt;/a&gt;\n                        &lt;ul class=\"dropdown-menu\"&gt;\n                                &lt;li&gt;&lt;a href=\"{{ url_for('auth.logout') }}\" &gt;Logout&lt;/a&gt;&lt;/li&gt;\n                        &lt;/ul&gt;\n                    &lt;/li&gt;\n                {% else %}\n                    &lt;li&gt;&lt;a class=\"nav-link\" href=\"{{ url_for('auth.login') }}\" &gt;Login&lt;/a&gt;&lt;/li&gt;\n                    &lt;li&gt;&lt;a class=\"nav-link\" href=\"{{ url_for('auth.register') }}\" &gt;Register&lt;/a&gt;&lt;/li&gt;\n                {% endif %}\n            &lt;/ul&gt;\n                &lt;form class=\"navbar-form navbar-right\" method='POST' action=\"{{ url_for('phones.search') }}\"&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;input class=\"search-query form-control\" placeholder=\"Search...\" aria-label=\"Search\" type=\"text\" name=\"search\"&gt;\n                &lt;/div&gt;\n            &lt;/form&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n&lt;/nav&gt;\n{% endblock %}\n\n\n\n\n# Solution Code:\n@app.route(\"/\")\ndef index():\n    # isIndex is the variable we will use to determine \n    # whether or not to render your navigation link or button\n    return render_template('index.html', isIndex=True)\n\n\n  &lt;div class=\"navbar-nav\"&gt;\n      {% if isIndex %}\n          &lt;a class=\"nav-item nav-link\" href=\"\"&gt;linkOnlyForIndexPage&lt;/a&gt;\n       {% else %}\n          &lt;a class=\"nav-item nav-link\" href=\"\"&gt;link1&lt;/a&gt;\n          &lt;a class=\"nav-item nav-link\" href=\"\"&gt;link2&lt;/a&gt;\n       {% endif %}\n  &lt;/div&gt;\n\n\nindex\n\nrender_template\n\n&lt;button&gt; or link\n\n&lt;nav&gt;\n\n&lt;nav&gt;\n\nHTML\n\n{% if current_user.is_authenticated %}\n\n{% if isIndex %}",
    "resolution": "Create a new variable within your index route and pass that variable into the render_template method of said route. The presence of this variable will determine if the <button> or link within your <nav> should be rendered or not. Since the <nav> will be shared across all other layouts, its HTML code should be put within your base layout, or the layout which all other views are inheriting from. Something along the lines of: index route: @app.route(\"/\") def index(): # isIndex is the variable we will use to determine # whether or not to render your navigation link or button return render_template('index.html', isIndex=True) base layout file: <div class=\"navbar-nav\"> {% if isIndex %} <a class=\"nav-item nav-link\" href=\"\">linkOnlyForIndexPage</a> {% else %} <a class=\"nav-item nav-link\" href=\"\">link1</a> <a class=\"nav-item nav-link\" href=\"\">link2</a> {% endif %} </div> This is exactly what you're already doing with {% if current_user.is_authenticated %} for your navigation links. The reason this works is because the index route is the only route which sets this variable, within your jinja2 templates, so all other routes which render corresponding views will default to false on this conditional check: {% if isIndex %} Hopefully that helps!",
    "severity": "medium",
    "tags": [
      "python",
      "html",
      "flask",
      "jinja2"
    ],
    "metadata": {
      "language": "python",
      "framework": "flask",
      "stackoverflow_question_id": "54659957",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 8989,
      "stackoverflow_creation_date": "2019-02-12T23:00:45.093Z"
    },
    "idempotency_key": "stackoverflow-54659957",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to group range of numbers into categories of number ranges in Google Sheets",
    "body": "I have a column of the range of body mass index numbers (BMI) that I want to automatically group into categories or buckets in another column. It looks like this: colA colB BMI BMI Grouping 23.11 BMI ≥ 18.5 - 24.9 22.66 BMI ≥ 18.5 - 24.9 33.55 BMI ≥ 30 - 34.9 40.12 BMI ≥ 35 I have 5 'BMI Grouping' categories that I want to categorise the range of BMI into: BMI ≥ 18.5 - 24.9 BMI ≥ 25 - 29.9 BMI ≥ 30 - 34.9 BMI ≥ 35 BMI < 18.5 Please teach me the formula or code needed for Google Sheets.",
    "code": "colA    colB\n\nBMI     BMI Grouping\n23.11   BMI ≥ 18.5 - 24.9\n22.66   BMI ≥ 18.5 - 24.9\n33.55   BMI ≥ 30 - 34.9\n40.12   BMI ≥ 35\n\n\n\n# Solution Code:\n=IFERROR(ARRAYFORMULA(\n IFS(A2:A&gt;=35,   \"BMI ≥ 35\",\n     A2:A&gt;=30,   \"BMI ≥ 30 - 34.9\",\n     A2:A&gt;=25,   \"BMI ≥ 25 - 29.9\", \n     A2:A&gt;=18.5, \"BMI ≥ 18.5 - 24.9\",\n     A2:A&gt;=1,    \"BMI &lt; 18.5\")), )\n\n\nIFS\n\nARRAYFORMULA",
    "resolution": "you can use IFS with a combo of ARRAYFORMULA like: =IFERROR(ARRAYFORMULA( IFS(A2:A>=35, \"BMI ≥ 35\", A2:A>=30, \"BMI ≥ 30 - 34.9\", A2:A>=25, \"BMI ≥ 25 - 29.9\", A2:A>=18.5, \"BMI ≥ 18.5 - 24.9\", A2:A>=1, \"BMI < 18.5\")), )",
    "severity": "medium",
    "tags": [
      "if-statement",
      "google-sheets",
      "match",
      "vlookup",
      "nested-if"
    ],
    "metadata": {
      "stackoverflow_question_id": "54662726",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 7966,
      "stackoverflow_creation_date": "2019-02-13T04:50:37.217Z"
    },
    "idempotency_key": "stackoverflow-54662726",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get all but first N arguments to a bash function",
    "body": "I'm aware of how to get the last argument passed to a function but I'm wondering how to get all the arguments of a function after the first two: For instance: function custom_scp(){ PORT=$1 USER=$2 SOURCES=`ALL_OTHER_ARGS` scp -P $PORT -r $SOURCES $USER@myserver.com:~/ } So sending three files to the remote home directory would look like $ custom_scp 8001 me ./env.py ./test.py ./haha.py",
    "code": "function custom_scp(){\n    PORT=$1\n    USER=$2\n    SOURCES=`ALL_OTHER_ARGS`\n    scp -P $PORT -r $SOURCES $USER@myserver.com:~/\n}\n\n\n$ custom_scp 8001 me ./env.py ./test.py ./haha.py\n\n\nhome\n\n# Solution Code:\ncustom_scp() {\n    local port=$1\n    local user=$2\n    local sources=(\"${@:3}\")\n\n    scp -P \"$port\" -r \"${sources[@]}\" \"$user@myserver.com:~/\"\n}\n\n\n${parameter:offset}\n\n${parameter:offset:length}\n\n@",
    "resolution": "You can use array slice notation: custom_scp() { local port=$1 local user=$2 local sources=(\"${@:3}\") scp -P \"$port\" -r \"${sources[@]}\" \"$user@myserver.com:~/\" } Quoting from the Bash manual: ${parameter:offset} ${parameter:offset:length} If parameter is @, the result is length positional parameters beginning at offset.",
    "severity": "medium",
    "tags": [
      "bash",
      "function",
      "shell"
    ],
    "metadata": {
      "language": "bash",
      "stackoverflow_question_id": "54678937",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 1333,
      "stackoverflow_creation_date": "2019-02-13T20:32:06.073Z"
    },
    "idempotency_key": "stackoverflow-54678937",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Best way to map query result to DTO",
    "body": "I want to make a complex query and map the result into a DTO. The DTO is below: @Value(staticConstructor = \"of\") public class TotalsDto { LocalDate date; long totals; long totalPerCategory; int categoryId; String categoryName; } My repository interface is extending from JpaRepository. This is throwing an IllegalArgumentException: Not a managed type, because TotalsDto is not an Entity itself. The repository is: @Repository public interface TotalsRepository extends JpaRepository<TotalsDto, Integer> { @Query(value = \"SELECT ...\", nativeQuery = true) List<TotalsDto> getTotals(params...); } The query is getting data from other entities to build the DTO. Any way to map every column to DTO? I tried to map it with the query below but it still getting Not a managed class. SELECT my.package.TotalsDto.of(column1, subqueryResult1, subqueryResult2...)",
    "code": "@Value(staticConstructor = \"of\")\npublic class TotalsDto {\n    LocalDate date;\n    long totals;\n    long totalPerCategory;\n    int categoryId;\n    String categoryName;\n}\n\n\n@Repository\npublic interface TotalsRepository extends JpaRepository&lt;TotalsDto, Integer&gt; { \n\n    @Query(value = \"SELECT ...\", nativeQuery = true)\n    List&lt;TotalsDto&gt; getTotals(params...);\n}\n\n\nSELECT my.package.TotalsDto.of(column1, subqueryResult1, subqueryResult2...)\n\n\nJpaRepository\n\nIllegalArgumentException: Not a managed type\n\nTotalsDto\n\nNot a managed class\n\n# Solution Code:\npublic interface TotalsDto{\n\n    long getTotals();\n    int getCategoryId();\n    ...\n\n}\n\n\nTotalsDto",
    "resolution": "1) Make TotalsDto an interface 2) Create getters: public interface TotalsDto{ long getTotals(); int getCategoryId(); ... } Spring Data Jpa will then automatically create / fill you result object. More on the subject here",
    "severity": "high",
    "tags": [
      "java",
      "spring",
      "jpa",
      "spring-data-jpa",
      "spring-data"
    ],
    "metadata": {
      "language": "java",
      "framework": "spring",
      "stackoverflow_question_id": "54805120",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 13655,
      "stackoverflow_creation_date": "2019-02-21T10:42:02.510Z"
    },
    "idempotency_key": "stackoverflow-54805120",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "App is running on background warning on foreground service on Oreo devices",
    "body": "Title is pretty self-explanatory. For those who don't know, there is an annoying warning that Android Oreo devices have, that if an app runs on background, there is a persistent notification that notifies you about the app running in \"background\". On our application, we are using a long-living service with a notification, by calling Context.startForegroundService(intent) and this is how we create the notification inside the service: // Check if the device has Oreo as its lowest OS. Same thing with Build.VERSION_CODES check. if (Helper.ATLEAST_OREO) { // Get notification service. NotificationManager notifManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); // Old notification channel handling. NotificationChannel oldChannel = notifManager.getNotificationChannel(\"old_channel\"); if (oldChannel != null) notifManager.deleteNotificationChannel(\"old_channel\"); // Get new channel. NotificationChannel channel = notifManager.getNotificationChannel(\"new_channel\"); if (channel == null) { // If null, create it without sound or vibration. channel = new NotificationChannel(\"new_channel\", \"new_name\", NotificationManager.IMPORTANCE_DEFAULT); channel.setDescription(\"some_description\"); channel.enableVibration(false); channel.setSound(null, null); notifManager.createNotificationChannel(channel); } // Create builder. builder = new NotificationCompat.Builder(this, \"new_channel\"); // Create a pending intent to redirect to startup activity. intent = new Intent(this, StartUpActivity.class); intent.setFlags( Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NEW_TASK); intent.setAction(\"fromNotification\"); // for logging purposes pendingIntent = PendingIntent.getActivity(this, 0, intent, 0); // Generate notification. builder.setContentTitle(getString(R.string.app_name)) // required .setSmallIcon(R.drawable.app_icon_white) // required .setContentText(getString(R.string.notification_description)) // required .setOngoing(true) .setOnlyAlertOnce(true) .setPriority(NotificationManager.IMPORTANCE_DEFAULT) .setContentIntent(pendingIntent); // Start foreground service. startForeground(NOTIFY_ID, builder.build()); } Everything is good. The service also have a thread that loops continuously in-between 100 milliseconds interval, while the screen is on. (We are detecting the change with a screen on-off broadcast receiver and start-finish the thread accordingly while the service continues to run.) However, on Oreo devices user can go to notification settings manually and remove the ongoing notification as it takes space while the service is running (which is all the time in this case). After user removes notifications of the app, when some time passes a notification pops up that says \"App is running on the background.\" with an IGNORE option, that the user will question \"what is this app doing?\" while it's doing what they asked for. How can we prevent this from happening? Any help is appreciated, thank you so much.",
    "code": "// Check if the device has Oreo as its lowest OS. Same thing with Build.VERSION_CODES check.\nif (Helper.ATLEAST_OREO)\n{\n    // Get notification service.\n    NotificationManager notifManager =\n            (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n    // Old notification channel handling.\n    NotificationChannel oldChannel = notifManager.getNotificationChannel(\"old_channel\");\n    if (oldChannel != null)\n        notifManager.deleteNotificationChannel(\"old_channel\");\n\n    // Get new channel.\n    NotificationChannel channel = notifManager.getNotificationChannel(\"new_channel\");\n    if (channel == null)\n    {\n        // If null, create it without sound or vibration.\n        channel = new NotificationChannel(\"new_channel\", \"new_name\",\n                NotificationManager.IMPORTANCE_DEFAULT);\n        channel.setDescription(\"some_description\");\n        channel.enableVibration(false);\n        channel.setSound(null, null);\n        notifManager.createNotificationChannel(channel);\n    }\n\n    // Create builder.\n    builder = new NotificationCompat.Builder(this, \"new_channel\");\n\n    // Create a pending intent to redirect to startup activity.\n    intent = new Intent(this, StartUpActivity.class);\n    intent.setFlags(\n            Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP | Intent.FLAG_ACTIVITY_NEW_TASK);\n    intent.setAction(\"fromNotification\"); // for logging purposes\n    pendingIntent = PendingIntent.getActivity(this, 0, intent, 0);\n\n    // Generate notification.\n    builder.setContentTitle(getString(R.string.app_name))  // required\n            .setSmallIcon(R.drawable.app_icon_white) // required\n            .setContentText(getString(R.string.notification_description))  // required\n            .setOngoing(true)\n            .setOnlyAlertOnce(true)\n            .setPriority(NotificationManager.IMPORTANCE_DEFAULT)\n            .setContentIntent(pendingIntent);\n\n    // Start foreground service.\n    startForeground(NOTIFY_ID, builder.build());\n}\n\n\nContext.startForegroundService(intent)",
    "severity": "low",
    "tags": [
      "android"
    ],
    "metadata": {
      "stackoverflow_question_id": "54823610",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 242,
      "stackoverflow_creation_date": "2019-02-22T09:11:32.083Z"
    },
    "idempotency_key": "stackoverflow-54823610",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot use React.lazy with Material UI icons",
    "body": "as I have quite a lot of icons in many places in my app, I want to use code splitting for them. I have created helper component to do that: import React, { FunctionComponent, Suspense } from 'react'; interface LazyMuiIconProps { name: string; } export const LazyMuiIcon: FunctionComponent<LazyMuiIconProps> = ({ name }) => { console.log(name); const IconElement = React.lazy(() => import(`@material-ui/icons/${name}`)); // const IconElement = React.lazy(() => import(`@material-ui/icons/Home`)); return ( <Suspense fallback={null}> <IconElement /> </Suspense> ); }; When I use commented line with fixed name to Home it works and it lazy loads the Home icon, however as soon as I change it to the line above, webpack crashes during compilation with low level error: 69% building 15623/15657 modules 34 active ...terial-ui/icons/AccessibleOutlined.d.ts <--- Last few GCs ---> [30:0x33f4320] 77272 ms: Scavenge 1142.0 (1422.8) -> 1141.5 (1423.3) MB, 1.4 / 0.0 ms (average mu = 0.300, current mu = 0.342) allocation failure [30:0x33f4320] 77275 ms: Scavenge 1142.3 (1423.3) -> 1141.7 (1423.8) MB, 1.5 / 0.0 ms (average mu = 0.300, current mu = 0.342) allocation failure [30:0x33f4320] 77278 ms: Scavenge 1142.4 (1423.8) -> 1141.9 (1424.3) MB, 1.5 / 0.0 ms (average mu = 0.300, current mu = 0.342) allocation failure <--- JS stacktrace ---> ==== JS stack trace ========================================= 0: ExitFrame [pc: 0x16ac4804fb5d] Security context: 0x02fea7a9d921 <JSObject> 1: add [0x2fea7a906c9](this=0x10fbf120c2e1 <Set map = 0x3f914303d81>,0x1a97709947e1 <DependenciesBlock map = 0x1c000787d3b1>) 2: new Set(aka Set) [0x2fea7a90391](this=0x056d59402691 ,0x33036eb7fbe1 ) 3: ConstructFrame [pc: 0x16ac48009e66] 4: StubFrame [pc: 0x16ac480f932c] 5: processDependenciesBlocksForC... 70% chunk graphFATAL ERROR: Ineffective mark-compacts near heap limit Allocation failed - JavaScript heap out of memory 1: 0x948d20 node::Abort() [/usr/local/bin/node] 2: 0x9499bc node::OnFatalError(char const*, char const*) [/usr/local/bin/node] 3: 0xb1160e v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, bool) [/usr/local/bin/node] 4: 0xb11844 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, bool) [/usr/local/bin/node] 5: 0xf0def2 [/usr/local/bin/node] 6: 0xf0dff8 v8::internal::Heap::CheckIneffectiveMarkCompact(unsigned long, double) [/usr/local/bin/node] 7: 0xf1a718 v8::internal::Heap::PerformGarbageCollection(v8::internal::GarbageCollector, v8::GCCallbackFlags) [/usr/local/bin/node] 8: 0xf1b22b v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [/usr/local/bin/node] 9: 0xf1df61 v8::internal::Heap::AllocateRawWithRetryOrFail(int, v8::internal::AllocationSpace, v8::internal::AllocationAlignment) [/usr/local/bin/node] 10: 0xee7e96 v8::internal::Factory::AllocateRawArray(int, v8::internal::PretenureFlag) [/usr/local/bin/node] 11: 0xee885a v8::internal::Factory::NewFixedArrayWithFiller(v8::internal::Heap::RootListIndex, int, v8::internal::Object*, v8::internal::PretenureFlag) [/usr/local/bin/node] 12: 0xee8900 v8::internal::Handle v8::internal::Factory::NewFixedArrayWithMap(v8::internal::Heap::RootListIndex, int, v8::internal::PretenureFlag) [/usr/local/bin/node] 13: 0x108e547 v8::internal::OrderedHashTable::Allocate(v8::internal::Isolate*, int, v8::internal::PretenureFlag) [/usr/local/bin/node] 14: 0x1091ab1 v8::internal::OrderedHashTable::Rehash(v8::internal::Isolate*, v8::internal::Handle, int) [/usr/local/bin/node] 15: 0x109202b v8::internal::OrderedHashTable::EnsureGrowable(v8::internal::Isolate*, v8::internal::Handle) [/usr/local/bin/node] 16: 0x117ee2c v8::internal::Runtime_SetGrow(int, v8::internal::Object**, v8::internal::Isolate*) [/usr/local/bin/node] 17: 0x16ac4804fb5d Aborted (core dumped) My Babel plugins: plugins: [ // plugin-proposal-decorators is only needed if you're using experimental decorators in TypeScript \"@babel/plugin-syntax-dynamic-import\", ['@babel/plugin-proposal-decorators', { legacy: true }], ['@babel/plugin-proposal-class-properties', { loose: true }], 'react-hot-loader/babel', From what I see it is trying to load all icons, not just one (I reduced the used instance to one to find the solution easier) and then it crashes. UPDATE Exactly the same happens if I try to use react-loadable... return Loadable({ loader: () => import(`@material-ui/icons/${props.name}`), loading: () => <span>icon</span> });",
    "code": "0: ExitFrame [pc: 0x16ac4804fb5d] Security context: 0x02fea7a9d921 &lt;JSObject&gt;\n1: add [0x2fea7a906c9](this=0x10fbf120c2e1 &lt;Set map = 0x3f914303d81&gt;,0x1a97709947e1 &lt;DependenciesBlock map =\n\n\nplugins: [\n                // plugin-proposal-decorators is only needed if you're using experimental decorators in TypeScript\n                \"@babel/plugin-syntax-dynamic-import\",\n                ['@babel/plugin-proposal-decorators', { legacy: true }],\n                ['@babel/plugin-proposal-class-properties', { loose: true }],\n                'react-hot-loader/babel',\n\n\nHome\n\nreact-loadable\n\n# Solution Code:\nconst IconElement = React.lazy(() =&gt; import(/* webpackMode: \"eager\" */`@material-ui/icons/${name}`));\n\n\nreturn Loadable({\n    loader: () =&gt; import(`@material-ui/icons/${props.name}.ts`),\n    loading: () =&gt; &lt;span&gt;icon&lt;/span&gt;\n  });\n\n\nwebpackMode: eager\n\n@material-ui/icons\n\nreact-loader\n\nreact-loader",
    "resolution": "If you are using Webpack, the problem is if you want to dynamic load a file, in this case the icon, webpack by default generate a chunk for that module. If you are using Webpack 4 or later, you can use webpackMode: eager to solve this problem. So, in this case, the import will look something like this : const IconElement = React.lazy(() => import(/* webpackMode: \"eager\" */`@material-ui/icons/${name}`)); This will basically force Webpack to include the chunk into your bundle ( reducing the number of http requests ) - which I think renders the whole point of using Lazy / Suspense useless but this Github issue is similar to your problem and indicates that it is not worth loading each icon separately, .i.e, you should rather import the @material-ui/icons package and use the icons which you need. UPDATE ( because of update in question with reference to react-loader ) : While using react-loader you also need to specify the extension of the file. I had faced this issue once and solved it by importing with extension for the file specified. In this case : return Loadable({ loader: () => import(`@material-ui/icons/${props.name}.ts`), loading: () => <span>icon</span> }); But I am not sure if it will still work, as I already suggested in my answer regarding Webpack and lazy loading.",
    "severity": "medium",
    "tags": [
      "node.js",
      "reactjs",
      "webpack",
      "react-hot-loader"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "54838786",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 5199,
      "stackoverflow_creation_date": "2019-02-23T06:13:39.467Z"
    },
    "idempotency_key": "stackoverflow-54838786",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "WEBPACK_IMPORTED_MODULE XhrIoPool is not an constructor",
    "body": "TypeError: __WEBPACK_IMPORTED_MODULE_0__firebase_webchannel_wrapper__.XhrIoPool is not a constructor at new WebChannelConnection (http://localhost :8100/build/vendor.js:155972:21) at BrowserPlatform.loadConnection (http ://localhost: 8100/build/vendor.js:155873:32) at FirestoreClient.initializeRest (http ://localhost:8 100/build/vendor.js:158035:14) at http://loc alhost :8100/build/vendor.js:157926:54 at t.invoke (http ://localhos t:8100/build/polyfills.js:3:14976) at Object.onInvoke (http://loca lhost:8100/build/vendor.js:5445:33) at t.invoke (http ://local ost:8100/build/polyfills.js:3:14916) at r.run (http://localho st:8100/build/polyfills.js:3:10143) at http ://localhost:81 00/build/polyfills.js:3:20242 at t.invokeTask (http: //localhost:8100/build/polyfills.js:3:15660)",
    "code": "TypeError: __WEBPACK_IMPORTED_MODULE_0__firebase_webchannel_wrapper__.XhrIoPool is not a constructor\n    at new WebChannelConnection (http://localhost :8100/build/vendor.js:155972:21)\n    at BrowserPlatform.loadConnection (http ://localhost: 8100/build/vendor.js:155873:32)\n    at FirestoreClient.initializeRest (http ://localhost:8 100/build/vendor.js:158035:14)\n    at http://loc alhost :8100/build/vendor.js:157926:54\n    at t.invoke (http ://localhos t:8100/build/polyfills.js:3:14976)\n    at Object.onInvoke (http://loca lhost:8100/build/vendor.js:5445:33)\n    at t.invoke (http ://local ost:8100/build/polyfills.js:3:14916)\n    at r.run (http://localho st:8100/build/polyfills.js:3:10143)\n    at http ://localhost:81 00/build/polyfills.js:3:20242\n    at t.invokeTask (http: //localhost:8100/build/polyfills.js:3:15660)\n",
    "resolution": "The error seems to be related to the wrong version of @firebase/channel-wrapper See thisgithub issue comment The fix: npm uninstall @firebase/webchannel-wrapper@0.2.20; npm install @firebase/webchannel-wrapper@0.2.7; npm start;",
    "severity": "low",
    "tags": [
      "angular",
      "firebase",
      "ionic-framework",
      "webpack"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "55069754",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 596,
      "stackoverflow_creation_date": "2019-03-08T19:26:43.183Z"
    },
    "idempotency_key": "stackoverflow-55069754",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the best way to sign extend a number in C/C++",
    "body": "I have a 10 bit signed value. It's actually a 10 bit color value that i want to convert to an int. The 10 bits are to be interpreted as a signed value within a larger int, where the other bits are zero. I can think of 3 ways, shown here: #include <stdio.h> void p(int v) { printf(\"\\t%d\", v); } int main() { for (int i = -2; i < 3; ++i) { unsigned int u = i & 0x3ff; int v; // method 1: test the bit v = u; if (u & 0x200) v = v ^ -0x400; p(v); // method 2: shift v = u<<(sizeof(int)*8-10); v >>= (sizeof(int)*8-10); p(v); // method 3: use sign extend v = (signed char)(u >> 2); v <<= 2; v |= u; p(v); printf(\"\\n\"); } return 0; } is there a better way? Often there is with this bit twiddling problems. Thanks for any input. Update Adding two more methods. The first suggested by @cruz-jean is bit fields, and the second suggested by gcc after compiling the bitfields. // method 4: bit fields struct { int v:10; } f; f.v = u; v = f.v; // method 5: sign extend short v = (signed short)(u << 6); v >>= 6; Out of interest it appears MSVC compiles #4 into #2 and gcc compiles #4 into #5. Method 5 looks good.",
    "code": "#include &lt;stdio.h&gt;\n\nvoid p(int v)\n{\n    printf(\"\\t%d\", v);\n}\n\nint main()\n{\n    for (int i = -2; i &lt; 3; ++i)\n    {\n        unsigned int u = i &amp; 0x3ff;\n\n        int v;\n\n        // method 1: test the bit\n        v = u;\n        if (u &amp; 0x200) v = v ^ -0x400;\n        p(v);\n\n        // method 2: shift\n        v = u&lt;&lt;(sizeof(int)*8-10);\n        v &gt;&gt;= (sizeof(int)*8-10);\n        p(v);\n\n        // method 3: use sign extend\n        v = (signed char)(u &gt;&gt; 2);\n        v &lt;&lt;= 2;\n        v |= u;\n        p(v);\n\n\n        printf(\"\\n\");\n\n    }\n\n    return 0;\n}\n\n\n      // method 4: bit fields\n        struct { int v:10; } f;\n        f.v = u;\n        v = f.v;\n\n        // method 5: sign extend short\n        v = (signed short)(u &lt;&lt; 6);\n        v &gt;&gt;= 6;\n\n\nint\n\nint\n\n# Solution Code:\nstruct signed_10_bit\n{\n    int val : 10;\n};\n\nint some_10_bit_num = 0x3ff;\nint extended = signed_10_bit{ some_10_bit_num }.val;\n\n\nint",
    "resolution": "You could declare a 10-bit signed bitfield helper type and access the value as an int: struct signed_10_bit { int val : 10; }; int some_10_bit_num = 0x3ff; int extended = signed_10_bit{ some_10_bit_num }.val;",
    "severity": "medium",
    "tags": [
      "c++",
      "c",
      "bit"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "55190111",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4685,
      "stackoverflow_creation_date": "2019-03-15T20:19:30.663Z"
    },
    "idempotency_key": "stackoverflow-55190111",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Pass pipeline variable from Designer to YAML job template",
    "body": "I initially wanted to define pipeline variables in my azure-pipelines.yml that I can optionally set at queue time, but it seems that this is not supported at the moment: variables that can be set at queue time can only be defined in the Designer. This variable (comma-separated) is named nx_versions and will be used to build a matrix strategy. Here's a minimal example: # azure-pipelines.yml jobs: - template: job-template.yml parameters: nx_versions: $(nx_versions) and # job-template.yml parameters: nx_versions: - 1 jobs: - job: build strategy: matrix: ${{ each nxver in parameters.nx_versions }}: NX_${{ nxver }}: NXVersion: ${{ nxver }} steps: - powershell: echo $(NXVersion) Queuing the build with nx_versions = 2,3 (value doesn't actually matter) results in an error: /job-template.yml (Line: 9, Col: 9): Expected a sequence or mapping. Actual value '$(nx_versions)' Is this even possible? I also tried using ${{ nx_versions }} and ${{ variables.nx_versions }} to no avail. This is possible with a full Designer solution.",
    "code": "# azure-pipelines.yml\njobs:\n- template: job-template.yml\n  parameters:\n    nx_versions: $(nx_versions)\n\n\n# job-template.yml\nparameters:\n  nx_versions: \n    - 1\n\njobs:\n  - job: build\n    strategy:\n      matrix:\n        ${{ each nxver in parameters.nx_versions }}:\n          NX_${{ nxver }}:\n            NXVersion: ${{ nxver }}\n    steps:\n      - powershell: echo $(NXVersion)\n\n\n/job-template.yml (Line: 9, Col: 9): Expected a sequence or mapping. Actual value '$(nx_versions)'\n\n\nazure-pipelines.yml\n\nnx_versions\n\nnx_versions = 2,3\n\n${{ nx_versions }}\n\n${{ variables.nx_versions }}\n\n# Solution Code:\nparameters:\n- name: nx_versions\n  type: object\n  default: \n  - 1\n  - 4\n\njobs:\n  - job: build\n    strategy:\n      matrix:\n        ${{ each nxver in parameters.nx_versions }}:\n          NX_${{ nxver }}:\n            NXVersion: ${{ nxver }}\n    steps:\n      - powershell: echo $(NXVersion)\n\n\nparameters:\n- name: nx_versions\n  type: object\n  default:\n  - 1\n  - 4\nstages:\n- stage: __default\n  jobs:\n  - job: build\n    strategy:\n      matrix:\n        NX_1:\n          NXVersion: 1\n        NX_4:\n          NXVersion: 4\n    steps:\n    - task: PowerShell@2\n      inputs:\n        targetType: inline\n        script: echo $(NXVersion)\n",
    "resolution": "The trivial pipeline (not referencing templates, but could be extended easily to do so) parameters: - name: nx_versions type: object default: - 1 - 4 jobs: - job: build strategy: matrix: ${{ each nxver in parameters.nx_versions }}: NX_${{ nxver }}: NXVersion: ${{ nxver }} steps: - powershell: echo $(NXVersion) Expands to parameters: - name: nx_versions type: object default: - 1 - 4 stages: - stage: __default jobs: - job: build strategy: matrix: NX_1: NXVersion: 1 NX_4: NXVersion: 4 steps: - task: PowerShell@2 inputs: targetType: inline script: echo $(NXVersion) If you go to queue a build for that, you get a parameters page with the defaults: that you can override: which results in:",
    "severity": "medium",
    "tags": [
      "azure-devops",
      "azure-pipelines"
    ],
    "metadata": {
      "stackoverflow_question_id": "55228903",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 5469,
      "stackoverflow_creation_date": "2019-03-18T19:38:21.357Z"
    },
    "idempotency_key": "stackoverflow-55228903",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Ant Design Upload get file content",
    "body": "I am using the Ant Design Upload component. Is there a way I can get the content of the selected file as a string in JavaScript in order to display it on the page? Ideally, I would like to access file.data or something. <Upload accept=\".txt, .csv\" showUploadList={false} beforeUpload={(file, fileList) => { // Access file content here and do something with it console.log(file); // Prevent upload return false; }} > <Button> <Icon type=\"upload\" /> Click to Upload </Button> </Upload>",
    "code": "&lt;Upload\n    accept=\".txt, .csv\"\n    showUploadList={false}\n    beforeUpload={(file, fileList) =&gt; {\n        // Access file content here and do something with it\n        console.log(file);\n\n        // Prevent upload\n        return false;\n    }}\n&gt;\n    &lt;Button&gt;\n        &lt;Icon type=\"upload\" /&gt; Click to Upload\n    &lt;/Button&gt;\n&lt;/Upload&gt;\n\n\nfile.data\n\n# Solution Code:\n&lt;Upload\n    accept=\".txt, .csv\"\n    showUploadList={false}\n    beforeUpload={file =&gt; {\n        const reader = new FileReader();\n\n        reader.onload = e =&gt; {\n            console.log(e.target.result);\n        };\n        reader.readAsText(file);\n\n        // Prevent upload\n        return false;\n    }}\n&gt;\n    &lt;Button&gt;\n        &lt;Icon type=\"upload\" /&gt; Click to Upload\n    &lt;/Button&gt;\n&lt;/Upload&gt;;\n\n\nFileReader",
    "resolution": "Heavily inspired by this answer from Shreyans Shrivastav but modified to better suit what has been asked. You can use a FileReader to read the content of the file: <Upload accept=\".txt, .csv\" showUploadList={false} beforeUpload={file => { const reader = new FileReader(); reader.onload = e => { console.log(e.target.result); }; reader.readAsText(file); // Prevent upload return false; }} > <Button> <Icon type=\"upload\" /> Click to Upload </Button> </Upload>;",
    "severity": "high",
    "tags": [
      "javascript",
      "reactjs",
      "file",
      "antd"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "55238215",
      "stackoverflow_score": 14,
      "stackoverflow_view_count": 50808,
      "stackoverflow_creation_date": "2019-03-19T10:01:03.780Z"
    },
    "idempotency_key": "stackoverflow-55238215",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "mapboxMap.clear() is deprecated",
    "body": "I use mapBox and after update to version 7.1.1 some function are deprecated but there is nothing to replace. In this line addMarker and IconFactory and MarkerOptions are deprecated mapboxMap.addMarker(MarkerOptions() .position(LatLng(lat, lng)) .icon(IconFactory.getInstance(context) .fromResource(R.drawable.ic_marker))) And also clear() function is deprecated mapboxMap.clear() I added this implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.5.0' But there is nothing similar / helpful to clear map or add marker in doc / example",
    "code": "mapboxMap.addMarker(MarkerOptions()\n                .position(LatLng(lat, lng))\n                .icon(IconFactory.getInstance(context)\n                .fromResource(R.drawable.ic_marker)))\n\n\nmapboxMap.clear()\n\n\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.5.0'\n\n\naddMarker\n\nIconFactory\n\nMarkerOptions\n\n# Solution Code:\nandorid{\ncompileOptions {\n    sourceCompatibility JavaVersion.VERSION_1_8\n    targetCompatibility JavaVersion.VERSION_1_8\n  }\n} \n\ndependencies {\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:7.2.0'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-markerview-v7:0.2.0'\nimplementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.5.0'\n}\n\n\nclass MarkerActivity : AppCompatActivity()  {\n\nprivate val random = Random()\nprivate var markerViewManager: MarkerViewManager? = null\nprivate var marker: MarkerView? = null\nprivate lateinit var mapBox: MapboxMap\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    Mapbox.getInstance(\n        this,\n        \"Your key\"\n    )\n\n    setContentView(R.layout.activity_main)\n    mapView.onCreate(savedInstanceState)\n    mapView.getMapAsync { mapboxMap -&gt;\n        mapboxMap.setStyle(Style.MAPBOX_STREETS) { _ -&gt;\n            this.mapBox = mapboxMap\n            mapboxMap.moveCamera(CameraUpdateFactory.zoomTo(2.0))\n\n            markerViewManager = MarkerViewManager(mapView, mapboxMap)\n            createRandomMarkers()\n         }\n      }\n    }\n\n    private fun createRandomMarkers() {\n    markerViewManager?.let {\n        for (i in 0..5) {\n            val imageView = ImageView(this@MarkerActivity)\n            imageView.setImageResource(R.mipmap.ic_launcher)\n            imageView.layoutParams = FrameLayout.LayoutParams(50, 50)\n            val markerView = MarkerView(createRandomLatLng(), imageView)\n            it.addMarker(markerView)\n        }\n    }\n}\n\n private fun createRandomLatLng(): LatLng {\n    return LatLng(\n        random.nextDouble() * -200.0 + 90.0,\n        random.nextDouble() * -300.0 + 180.0\n    )\n}\n\noverride fun onStart() {\n    super.onStart()\n    mapView.onStart()\n}\n\noverride fun onPause() {\n    super.onPause()\n    mapView.onPause()\n}\n\noverride fun onStop() {\n    super.onStop()\n    mapView.onStop()\n}\n\noverride fun onLowMemory() {\n    super.onLowMemory()\n    mapView.onLowMemory()\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n    markerViewManager?.onDestroy()\n    mapView.onDestroy()\n}\n\n\nList&lt;Symbol&gt; symbols = new ArrayList&lt;&gt;();\nLongSparseArray&lt;Symbol&gt; symbolArray = symbolManager.getAnnotations();\nfor (int i = 0; i &lt; symbolArray.size(); i++) {\nsymbols.add(symbolArray.valueAt(i));\n}\nsymbolManager.delete(symbols);\n\n\nSymbolManager",
    "resolution": "For adding marker using new methods, modify your gradle with andorid{ compileOptions { sourceCompatibility JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 } } dependencies { implementation 'com.mapbox.mapboxsdk:mapbox-android-sdk:7.2.0' implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-markerview-v7:0.2.0' implementation 'com.mapbox.mapboxsdk:mapbox-android-plugin-annotation-v7:0.5.0' } Using Markers class MarkerActivity : AppCompatActivity() { private val random = Random() private var markerViewManager: MarkerViewManager? = null private var marker: MarkerView? = null private lateinit var mapBox: MapboxMap override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) Mapbox.getInstance( this, \"Your key\" ) setContentView(R.layout.activity_main) mapView.onCreate(savedInstanceState) mapView.getMapAsync { mapboxMap -> mapboxMap.setStyle(Style.MAPBOX_STREETS) { _ -> this.mapBox = mapboxMap mapboxMap.moveCamera(CameraUpdateFactory.zoomTo(2.0)) markerViewManager = MarkerViewManager(mapView, mapboxMap) createRandomMarkers() } } } private fun createRandomMarkers() { markerViewManager?.let { for (i in 0..5) { val imageView = ImageView(this@MarkerActivity) imageView.setImageResource(R.mipmap.ic_launcher) imageView.layoutParams = FrameLayout.LayoutParams(50, 50) val markerView = MarkerView(createRandomLatLng(), imageView) it.addMarker(markerView) } } } private fun createRandomLatLng(): LatLng { return LatLng( random.nextDouble() * -200.0 + 90.0, random.nextDouble() * -300.0 + 180.0 ) } override fun onStart() { super.onStart() mapView.onStart() } override fun onPause() { super.onPause() mapView.onPause() } override fun onStop() { super.onStop() mapView.onStop() } override fun onLowMemory() { super.onLowMemory() mapView.onLowMemory() } override fun onDestroy() { super.onDestroy() markerViewManager?.onDestroy() mapView.onDestroy() } For clearing the map you can use the delete function in SymbolManager As per this thread thread List<Symbol> symbols = new ArrayList<>(); LongSparseArray<Symbol> symbolArray = symbolManager.getAnnotations(); for (int i = 0; i < symbolArray.size(); i++) { symbols.add(symbolArray.valueAt(i)); } symbolManager.delete(symbols); This will be available from annotation-0.6.0",
    "severity": "medium",
    "tags": [
      "android",
      "mapbox",
      "mapbox-plugin"
    ],
    "metadata": {
      "stackoverflow_question_id": "55239960",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2256,
      "stackoverflow_creation_date": "2019-03-19T11:28:22.730Z"
    },
    "idempotency_key": "stackoverflow-55239960",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "CSS grid - maximum number of columns without media queries",
    "body": "Is it possible to define a grid with a maximum number of columns, but allow elements to wrap onto new rows when the screen width changes? I have implemented classes that allow rows to wrap onto new rows, but there is no maximum number of columns. Here is a CodePen of one method using Flexbox: CSS: .flex-container { display: flex; flex-wrap: wrap; } Another method is to use a grid: .grid { display: grid; counter-reset: grid-items; position: relative; } .grid--auto-fit { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); } I want a fairly generic solution to this. Is what I want to achieve possible without JavaScript or media queries?",
    "code": ".flex-container {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n\n.grid {\n  display: grid;\n  counter-reset: grid-items;\n  position: relative;\n}\n\n\n.grid--auto-fit {\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n}\n\n\n# Solution Code:\nmax(width, 100%/N)\n\nN\n\n100%/N\n\nwidth\n\nN\n\nmax-width\n\nmax-width\n\nmin-width\n\nflex-grow\n\ndisplay: contents",
    "resolution": "With CSS grid you can consider the use of max(width, 100%/N) where N is the maximum number of columns. If the width of the container increases, 100%/N will for sure be bigger than width, thus we won't have more than N elements per row. .grid-container { --n: 4; /* The maximum number of columns */ display: grid; grid-template-columns: repeat(auto-fill, minmax(max(200px, 100%/var(--n)), 1fr)); } .grid-item { background: tomato; padding: 5px; height: 50px; margin: 10px; line-height: 50px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } <div class=\"grid-container\"> <div class=\"grid-item\">1</div> <div class=\"grid-item\">2</div> <div class=\"grid-item\">3</div> <div class=\"grid-item\">4</div> <div class=\"grid-item\">5</div> <div class=\"grid-item\">6</div> <div class=\"grid-item\">7</div> <div class=\"grid-item\">8</div> </div> <div class=\"grid-container\" style=\"--n:3\"> <div class=\"grid-item\">1</div> <div class=\"grid-item\">2</div> <div class=\"grid-item\">3</div> <div class=\"grid-item\">4</div> <div class=\"grid-item\">5</div> <div class=\"grid-item\">6</div> <div class=\"grid-item\">7</div> <div class=\"grid-item\">8</div> </div> With gaps: .grid-container { --n: 4; /* The maximum number of columns */ display: grid; grid-template-columns: repeat(auto-fill, minmax(max(200px,(100% - (var(--n) - 1)*10px)/var(--n)), 1fr)); gap: 10px; margin: 5px; } .grid-item { background: tomato; padding: 5px; height: 50px; line-height: 50px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } <div class=\"grid-container\"> <div class=\"grid-item\">1</div> <div class=\"grid-item\">2</div> <div class=\"grid-item\">3</div> <div class=\"grid-item\">4</div> <div class=\"grid-item\">5</div> <div class=\"grid-item\">6</div> <div class=\"grid-item\">7</div> <div class=\"grid-item\">8</div> </div> <div class=\"grid-container\" style=\"--n:3\"> <div class=\"grid-item\">1</div> <div class=\"grid-item\">2</div> <div class=\"grid-item\">3</div> <div class=\"grid-item\">4</div> <div class=\"grid-item\">5</div> <div class=\"grid-item\">6</div> <div class=\"grid-item\">7</div> <div class=\"grid-item\">8</div> </div> With flexbox, you can simply set a max-width to the container since your elements have a fixed width: .flex-container { display: flex; flex-wrap: wrap; max-width: calc(5*(200px + 20px)); } .flex-item { background: tomato; padding: 5px; width: 200px; height: 100px; margin: 10px; line-height: 100px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } <div class=\"flex-container wrap\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> </div> The only drawback is that you need to know the width of your elements and their margin to correctly set the max-width. If you want your elements to expand and cover all the width, you can use a trick with min-width like below: .flex-container { display: flex; flex-wrap: wrap; } .flex-item { background: tomato; padding: 5px; min-width: 200px; width: calc(100%/5 - 20px); /* 5 columns */ height: 100px; margin: 10px; line-height: 100px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } <div class=\"flex-container wrap\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> </div> Here also you need to consider the margin. You can easily make this more flexible using CSS variables: .flex-container { display: flex; flex-wrap: wrap; } .flex-item { --m: 10px; background: tomato; padding: 5px; min-width: 200px; width: calc(100%/5 - 2*var(--m)); /* 5 columns */ height: 100px; margin: var(--m); line-height: 100px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } <div class=\"flex-container wrap\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> </div> You can also consider flex-grow if you want your element to always expand (even when there is a wrap), but you may face the issue of the last row that you need to fix with some hacks: .flex-container { display: flex; flex-wrap: wrap; --m: 10px; } .flex-item { background: tomato; padding: 5px; min-width: 200px; flex-grow: 1; width: calc(100%/5 - 2*var(--m)); /* 5 columns */ height: 100px; margin: var(--m); line-height: 100px; color: white; font-weight: bold; font-size: 2em; text-align: center; box-sizing: border-box; } .flex-container span { min-width: 200px; flex-grow: 1; width: calc(100%/5 - 2*var(--m)); /* 5 columns */ margin: 0 var(--m); } <div class=\"flex-container wrap\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> <!-- 4 empty elements to fix the issue (we can also use a pseudo element) --> <span></span> <span></span> <span></span> <span></span> </div> In the example below, we made the number of columns to be 5 so we will need at least 4 empty elements to fix the issue in case we will have one to 4 elements in the last row. Of course, this is a drawback, but since you know the number of columns you can easily set those empty elements and you won't need any JavaScript. To make it more flexible, here is an idea with CSS variables: .flex-container { display: flex; flex-wrap: wrap; border: 1px solid; --m: 10px; --n: 5; --width: 150px; } .flex-item { background: tomato; min-width: var(--width); flex-grow: 1; width: calc(100%/var(--n) - 2*var(--m)); height: 50px; margin: var(--m); box-sizing: border-box; } .flex-container span { display: contents; /* Each span will give us 2 elements */ } .flex-container span: before, .flex-container span: after, .flex-container: before, .flex-container: after{ content: \"\"; min-width: var(--width); flex-grow: 1; width: calc(100%/var(--n) - 2*var(--m)); margin :0 var(--m); order: 1; /* We make sure they are at the end */ } <div class=\"flex-container wrap\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> <!-- A lot of elements !! --> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <div class=\"flex-container wrap\" style=\"--n:10\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> <!-- A lot of elements !! --> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> </div> <div class=\"flex-container wrap\" style=\"--n:3\"> <div class=\"flex-item\">1</div> <div class=\"flex-item\">2</div> <div class=\"flex-item\">3</div> <div class=\"flex-item\">4</div> <div class=\"flex-item\">5</div> <div class=\"flex-item\">6</div> <div class=\"flex-item\">7</div> <div class=\"flex-item\">8</div> <!-- A lot of elements !! --> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> </div> I used display: contents to be able to set N empty elements that will later be considered as 2*N which can reduce the code. If you will have 7 columns, we will only need 6 extra elements. We can use the two pseudo elements then only 2 empty element to cover the remaining 4.",
    "severity": "high",
    "tags": [
      "html",
      "css",
      "flexbox",
      "css-grid"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "55281598",
      "stackoverflow_score": 22,
      "stackoverflow_view_count": 14038,
      "stackoverflow_creation_date": "2019-03-21T13:31:56.797Z"
    },
    "idempotency_key": "stackoverflow-55281598",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C++ check if statement can be evaluated constexpr",
    "body": "Is there a method to decide whether something can be constexpr evaluated, and use the result as a constexpr boolean? My simplified use case is as follows: template <typename base> class derived { template<size_t size> void do_stuff() { (...) } void do_stuff(size_t size) { (...) } public: void execute() { if constexpr(is_constexpr(base::get_data()) { do_stuff<base::get_data()>(); } else { do_stuff(base::get_data()); } } }; My target is C++2a. I found the following reddit thread, but I'm not a big fan of the macros. https://www.reddit.com/r/cpp/comments/7c208c/is_constexpr_a_macro_that_check_if_an_expression/",
    "code": "template &lt;typename base&gt;\nclass derived\n{\n    template&lt;size_t size&gt;\n    void do_stuff() { (...) }\n    \n    void do_stuff(size_t size) { (...) }\npublic:\n    void execute()\n    {\n        if constexpr(is_constexpr(base::get_data())\n        {\n            do_stuff&lt;base::get_data()&gt;();\n        }\n        else\n        {\n            do_stuff(base::get_data());\n        }\n    }\n};\n\n\n# Solution Code:\ntemplate&lt;class Lambda, int=(Lambda{}(), 0)&gt;\nconstexpr bool is_constexpr(Lambda) { return true; }\nconstexpr bool is_constexpr(...) { return false; }\n\ntemplate &lt;typename base&gt;\nclass derived\n{\n    // ...\n\n    void execute()\n    {\n        if constexpr(is_constexpr([]{ base::get_data(); }))\n            do_stuff&lt;base::get_data()&gt;();\n        else\n            do_stuff(base::get_data());\n    }\n}\n\n\ntrue\n\nLambda{}()",
    "resolution": "Here's another solution, which is more generic (applicable to any expression, without defining a separate template each time). This solution leverages that (1) lambda expressions can be constexpr as of C++17 (2) the type of a captureless lambda is default constructible as of C++20. The idea is, the overload that returns true is selected when and only when Lambda{}() can appear within a template argument, which effectively requires the lambda invocation to be a constant expression. template<class Lambda, int=(Lambda{}(), 0)> constexpr bool is_constexpr(Lambda) { return true; } constexpr bool is_constexpr(...) { return false; } template <typename base> class derived { // ... void execute() { if constexpr(is_constexpr([]{ base::get_data(); })) do_stuff<base::get_data()>(); else do_stuff(base::get_data()); } }",
    "severity": "high",
    "tags": [
      "c++",
      "template-meta-programming",
      "constexpr",
      "c++20",
      "if-constexpr"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "55288555",
      "stackoverflow_score": 42,
      "stackoverflow_view_count": 12669,
      "stackoverflow_creation_date": "2019-03-21T20:10:37.890Z"
    },
    "idempotency_key": "stackoverflow-55288555",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Trying to parse JSON data from URL : Unable to resolve host \"jsonplaceholder.typicode.com\": No address associated with hostname",
    "body": "i'm trying to parse JSON DATA from URL and display it in a listView but i'm getting this error : 03-27 20:53:04.830 13960-14086/com.example.samplejson E/HttpHandler: IOException: Unable to resolve host \"jsonplaceholder.typicode.com\": No address associated with hostname 03-27 20:53:04.830 13960-14086/com.example.samplejson E/MainActivity: Response from url: null 03-27 20:53:04.830 13960-14086/com.example.samplejson E/MainActivity: Couldn't get json from server. I have already added this line in my androidmanifest.xml: <uses-permission android:name=\"android.permission.INTERNET\" /> Here is my MainActivity.java file : public class MainActivity extends AppCompatActivity { private String TAG = MainActivity.class.getSimpleName(); private ProgressDialog pDialog; private ListView lv; // URL to get contacts JSON private static String url = \"https://jsonplaceholder.typicode.com/users\"; ArrayList<HashMap<String, String>> contactList; @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setContentView(R.layout.activity_main); contactList = new ArrayList<>(); lv = (ListView) findViewById(R.id.listview); new GetContacts().execute(); } /** * Async task class to get json by making HTTP call */ private class GetContacts extends AsyncTask<Void, Void, Void> { @Override protected void onPreExecute() { super.onPreExecute(); // Showing progress dialog pDialog = new ProgressDialog(MainActivity.this); pDialog.setMessage(\"Please wait...\"); pDialog.setCancelable(false); pDialog.show(); } @Override protected Void doInBackground(Void... arg0) { HttpHandler sh = new HttpHandler(); // Making a request to url and getting response String jsonStr = sh.makeServiceCall(url); Log.e(TAG, \"Response from url: \" + jsonStr); if (jsonStr != null) { try { // Getting JSON Array node JSONArray contacts = new JSONArray(jsonStr); // looping through All Contacts for (int i = 0; i < contacts.length(); i++) { JSONObject c = contacts.getJSONObject(i); String id = c.getString(\"id\"); String name = c.getString(\"name\"); String email = c.getString(\"email\"); String username = c.getString(\"username\"); String phone = c.getString(\"phone\"); /* // Phone node is JSON Object JSONObject phone = c.getJSONObject(\"phone\"); String mobile = phone.getString(\"mobile\"); String home = phone.getString(\"home\"); String office = phone.getString(\"office\"); */ // tmp hash map for single contact HashMap<String, String> contact = new HashMap<>(); // adding each child node to HashMap key => value contact.put(\"id\", id); contact.put(\"name\", name); contact.put(\"email\", email); contact.put(\"phone\", phone); // adding contact to contact list contactList.add(contact); } } catch (final JSONException e) { Log.e(TAG, \"Json parsing error: \" + e.getMessage()); runOnUiThread(new Runnable() { @Override public void run() { Toast.makeText(getApplicationContext(), \"Json parsing error: \" + e.getMessage(), Toast.LENGTH_LONG) .show(); } }); } } else { Log.e(TAG, \"Couldn't get json from server.\"); runOnUiThread(new Runnable() { @Override public void run() { Toast.makeText(getApplicationContext(), \"Couldn't get json from server. Check LogCat for possible errors!\", Toast.LENGTH_LONG) .show(); } }); } return null; } @Override protected void onPostExecute(Void result) { super.onPostExecute(result); // Dismiss the progress dialog if (pDialog.isShowing()) pDialog.dismiss(); /** * Updating parsed JSON data into ListView * */ ListAdapter adapter = new SimpleAdapter( MainActivity.this, contactList, R.layout.item_list, new String[]{\"nom\", \"email\", \"tel\"}, new int[]{R.id.name, R.id.email, R.id.phone}); lv.setAdapter(adapter); } } } HttpHandler Class : public class HttpHandler { private static final String TAG = HttpHandler.class.getSimpleName(); public HttpHandler() { } public String makeServiceCall(String reqUrl) { String response = null; try { URL url = new URL(reqUrl); HttpURLConnection conn = (HttpURLConnection) url.openConnection(); conn.setRequestMethod(\"GET\"); // read the response InputStream in = new BufferedInputStream(conn.getInputStream()); response = convertStreamToString(in); } catch (MalformedURLException e) { Log.e(TAG, \"MalformedURLException: \" + e.getMessage()); } catch (ProtocolException e) { Log.e(TAG, \"ProtocolException: \" + e.getMessage()); } catch (IOException e) { Log.e(TAG, \"IOException: \" + e.getMessage()); } catch (Exception e) { Log.e(TAG, \"Exception: \" + e.getMessage()); } return response; } private String convertStreamToString(InputStream is) { BufferedReader reader = new BufferedReader(new InputStreamReader(is)); StringBuilder sb = new StringBuilder(); String line; try { while ((line = reader.readLine()) != null) { sb.append(line).append('\\n'); } } catch (IOException e) { e.printStackTrace(); } finally { try { is.close(); } catch (IOException e) { e.printStackTrace(); } } return sb.toString(); } } Any recommendations ?",
    "code": "&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n\npublic class MainActivity extends AppCompatActivity {\nprivate String TAG = MainActivity.class.getSimpleName();\n\nprivate ProgressDialog pDialog;\nprivate ListView lv;\n\n// URL to get contacts JSON\nprivate static String url = \"https://jsonplaceholder.typicode.com/users\";\n\nArrayList&lt;HashMap&lt;String, String&gt;&gt; contactList;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    contactList = new ArrayList&lt;&gt;();\n\n    lv = (ListView) findViewById(R.id.listview);\n\n    new GetContacts().execute();\n}\n\n/**\n * Async task class to get json by making HTTP call\n */\nprivate class GetContacts extends AsyncTask&lt;Void, Void, Void&gt; {\n\n    @Override\n    protected void onPreExecute() {\n        super.onPreExecute();\n        // Showing progress dialog\n        pDialog = new ProgressDialog(MainActivity.this);\n        pDialog.setMessage(\"Please wait...\");\n        pDialog.setCancelable(false);\n        pDialog.show();\n\n    }\n\n    @Override\n    protected Void doInBackground(Void... arg0) {\n        HttpHandler sh = new HttpHandler();\n\n        // Making a request to url and getting response\n        String jsonStr = sh.makeServiceCall(url);\n\n        Log.e(TAG, \"Response from url: \" + jsonStr);\n\n        if (jsonStr != null) {\n            try {\n\n\n                // Getting JSON Array node\n                JSONArray contacts = new JSONArray(jsonStr);\n\n                // looping through All Contacts\n                for (int i = 0; i &lt; contacts.length(); i++) {\n                    JSONObject c = contacts.getJSONObject(i);\n\n                    String id = c.getString(\"id\");\n                    String name = c.getString(\"name\");\n                    String email = c.getString(\"email\");\n                    String username = c.getString(\"username\");\n                    String phone = c.getString(\"phone\");\n\n                   /* // Phone node is JSON Object\n                    JSONObject phone = c.getJSONObject(\"phone\");\n                    String mobile = phone.getString(\"mobile\");\n                    String home = phone.getString(\"home\");\n                    String office = phone.getString(\"office\");\n */\n                        // tmp hash map for single contact\n                    HashMap&lt;String, String&gt; contact = new HashMap&lt;&gt;();\n\n                    // adding each child node to HashMap key =&gt; value\n                    contact.put(\"id\", id);\n                    contact.put(\"name\", name);\n                    contact.put(\"email\", email);\n                    contact.put(\"phone\", phone);\n\n                    // adding contact to contact list\n                    contactList.add(contact);\n                }\n            } catch (final JSONException e) {\n                Log.e(TAG, \"Json parsing error: \" + e.getMessage());\n                runOnUiThread(new Runnable() {\n                    @Override\n                    public void run() {\n                        Toast.makeText(getApplicationContext(),\n                                \"Json parsing error: \" + e.getMessage(),\n                                Toast.LENGTH_LONG)\n                                .show();\n                    }\n                });\n\n            }\n        } else {\n            Log.e(TAG, \"Couldn't get json from server.\");\n            runOnUiThread(new Runnable() {\n                @Override\n                public void run() {\n                    Toast.makeText(getApplicationContext(),\n                            \"Couldn't get json from server. Check LogCat for possible errors!\",\n                            Toast.LENGTH_LONG)\n                            .show();\n                }\n            });\n\n        }\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result) {\n        super.onPostExecute(result);\n        // Dismiss the progress dialog\n        if (pDialog.isShowing())\n            pDialog.dismiss();\n        /**\n         * Updating parsed JSON data into ListView\n         * */\n        ListAdapter adapter = new SimpleAdapter(\n                MainActivity.this, contactList,\n                R.layout.item_list, new String[]{\"nom\", \"email\",\n                \"tel\"}, new int[]{R.id.name,\n                R.id.email, R.id.phone});\n\n        lv.setAdapter(adapter);\n    }\n\n}\n}\n\n\npublic class HttpHandler {\n\nprivate static final String TAG = HttpHandler.class.getSimpleName();\n\npublic HttpHandler() {\n}\n\npublic String makeServiceCall(String reqUrl) {\n    String response = null;\n    try {\n        URL url = new URL(reqUrl);\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestMethod(\"GET\");\n        // read the response\n        InputStream in = new BufferedInputStream(conn.getInputStream());\n        response = convertStreamToString(in);\n    } catch (MalformedURLException e) {\n        Log.e(TAG, \"MalformedURLException: \" + e.getMessage());\n    } catch (ProtocolException e) {\n        Log.e(TAG, \"ProtocolException: \" + e.getMessage());\n    } catch (IOException e) {\n        Log.e(TAG, \"IOException: \" + e.getMessage());\n    } catch (Exception e) {\n        Log.e(TAG, \"Exception: \" + e.getMessage());\n    }\n    return response;\n}\n\nprivate String convertStreamToString(InputStream is) {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    StringBuilder sb = new StringBuilder();\n\n    String line;\n    try {\n        while ((line = reader.readLine()) != null) {\n            sb.append(line).append('\\n');\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            is.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return sb.toString();\n}\n\n\n}\n",
    "severity": "medium",
    "tags": [
      "android",
      "json"
    ],
    "metadata": {
      "stackoverflow_question_id": "55385694",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2151,
      "stackoverflow_creation_date": "2019-03-27T20:12:40.420Z"
    },
    "idempotency_key": "stackoverflow-55385694",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Newtosoft Json Deserialization: How to throw an error if/when the given json string has MORE properties than necessary?",
    "body": "Assuming we have the following class: public class Foo { public long Id { get; set; } } How can we tell newtonsoft json to throw a tantrum if a given json-string is: { \"Id\": 10, \"SomethingIrrelevant\": \"Foobar\" } In other words we want the deserialization to be ultra-strict and throw a tantrum when it detects anything fishy of this sort taking place.",
    "code": "public class Foo {\n      public long Id { get; set; }\n}\n\n\n{ \"Id\": 10, \"SomethingIrrelevant\": \"Foobar\" }\n\n\n# Solution Code:\nvar deserialized = JsonConvert.DeserializeObject&lt;Foo&gt;(jsonString,\n    new JsonSerializerSettings\n    {\n        MissingMemberHandling = MissingMemberHandling.Error\n    }); // throws with \"Could not find member 'SomethingIrrelevant' on object of type 'Foo'.\"\n\n\npublic class Foo {\n    [JsonProperty(Required = Required.Always)]\n    public long Id { get; set; }\n}\n\n\nMissingMemberHandling.Error\n\nJsonSerializerSettings\n\nId\n\nJsonProperty\n\nRequired.Always",
    "resolution": "Use MissingMemberHandling.Error for your JsonSerializerSettings: var deserialized = JsonConvert.DeserializeObject<Foo>(jsonString, new JsonSerializerSettings { MissingMemberHandling = MissingMemberHandling.Error }); // throws with \"Could not find member 'SomethingIrrelevant' on object of type 'Foo'.\" You can also force it to throw if Id is not present using a JsonProperty with Required.Always: public class Foo { [JsonProperty(Required = Required.Always)] public long Id { get; set; } }",
    "severity": "low",
    "tags": [
      "c#",
      "json",
      "json.net",
      "json-deserialization"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "55420732",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 910,
      "stackoverflow_creation_date": "2019-03-29T15:28:05.480Z"
    },
    "idempotency_key": "stackoverflow-55420732",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why does this malloc wrapper do this to the size of the requested memory? size = (size + 3) & ~3;",
    "body": "I'm looking through DOOM source code and I found this line. void * Z_Malloc (int size, int tag, void *user) { int extra; memblock_t *start; memblock_t *rover; memblock_t *newblock; memblock_t *base; size = (size + 3) & ~3; // Why is it doing this? ... I see sizeof used a lot to create byte offsets, but I've never seen this. I understand the caller of this function wants some memory allocated, but I'm at a loss why it would manipulate the size like this. What is it doing?",
    "code": "void *\nZ_Malloc\n        (int size,\n         int tag,\n         void *user) {\n    int extra;\n    memblock_t *start;\n    memblock_t *rover;\n    memblock_t *newblock;\n    memblock_t *base;\n\n    size = (size + 3) &amp; ~3; // Why is it doing this?\n...\n\n\nsizeof\n\nsize\n\n# Solution Code:\nsize = (size+3) &amp; ~3",
    "resolution": "size = (size+3) & ~3 rounds the size up to the nearest multiple of 4. It does this so that all blocks are a multiple of 4 bytes long and every block starts at an address that is a multiple of 4. This is necessary so that the placement of ints and pointers inside the block can be aligned to fit into single memory words, which makes accessing them more efficient. Some processors actually require it. To see how the rounding works, lets say that size = 4x-a, where 0 <= a <= 3. We have: size+3 = 4x + (3-a), where 3-a is also between 0 and 3. ~3 is a bit mask that includes all bits except 20 and 21, so the & operation will leave just the multiple of 4: (size+3)&~3 = 4x",
    "severity": "low",
    "tags": [
      "c"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "55433330",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 93,
      "stackoverflow_creation_date": "2019-03-30T16:10:10.270Z"
    },
    "idempotency_key": "stackoverflow-55433330",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Toggling the class of a div to show/hide content based on which button is clicked",
    "body": "I am trying to show/hide a list of menu items based on which button is clicked for that particular category. Most Popular is seen by default/on page load. So for example when I click on the Appetizers button the page should go from this to this. I am still very new to jQuery and JavaScript so I am having some difficulties getting this to work. Here is the HTML (condensed, just wanted to show what was seen in the screenshots and not all of the other menu items): <div class=\"menu-container\"> <div class=\"menu-preview\"> <div class=\"menu-preview-items active\"> <h2>Most Popular</h2> <div class=\"menu-listing\"> <h3>California Roll (8 Pieces)</h3> <p>Imi crab, cucumber, avocado, and mayo with sesame</p> <p>$3.50</p> </div> <div class=\"menu-listing\"> <h3>Dynamite Roll (8 Pieces)</h3> <p>Two pieces prawn tempura, yam, cucumber, avocado, masago, letters, and mayo with sesame</p> <p>$4.95</p> </div> </div> <div class=\"menu-preview-items hidden\"> <h2>Appetizers</h2> <div class=\"menu-listing\"> <h3>Edamame</h3> <p>Boiled green soy bean with salt.</p> <p>$3.50</p> </div> <div class=\"menu-listing\"> <h3>Gomae</h3> <p>Blanched spinach with sesame seed and peanut sauce.</p> <p>$3.50</p> </div> </div> </div> <div class=\"menu-categories\"> <a href=\"#\" class=\"menu-box\">Most Popular</a> <a href=\"#\" class=\"menu-box\">Appetizers</a> <a href=\"#\" class=\"menu-box\">A La Carte</a> <a href=\"#\" class=\"menu-box\">BBQ</a> <a href=\"#\" class=\"menu-box\">Salad & Soup</a> <a href=\"#\" class=\"menu-box\">Tempura</a> </div> </div> Here is the CSS for the classes of .active and .hidden (as well as the container): .active { display: none; } .hidden { display: contents; } .menu-container { margin-top: 15px; display: flex; justify-content: space-evenly; } Here is the script that I have so far as well (which is placed at the very bottom of the document, just above the closing body tag): $('.menu-box').click(function () { $('.menu-preview-items').toggleClass('.active'); // alert('Hello!'); }); I will of course be adding more menu items for all the categories over time, I just wanted to try and get this to work before I commit to doing so. Should I be adding id's to anything? Do I need to add/edit any of my class names? Any help would be greatly appreciated!",
    "code": "&lt;div class=\"menu-container\"&gt;\n    &lt;div class=\"menu-preview\"&gt;\n        &lt;div class=\"menu-preview-items active\"&gt;\n            &lt;h2&gt;Most Popular&lt;/h2&gt;\n            &lt;div class=\"menu-listing\"&gt;\n                &lt;h3&gt;California Roll (8 Pieces)&lt;/h3&gt;\n                &lt;p&gt;Imi crab, cucumber, avocado, and mayo with sesame&lt;/p&gt;\n                &lt;p&gt;$3.50&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"menu-listing\"&gt;\n                &lt;h3&gt;Dynamite Roll (8 Pieces)&lt;/h3&gt;\n                &lt;p&gt;Two pieces prawn tempura, yam, cucumber, avocado, masago, letters, and mayo with sesame&lt;/p&gt;\n                &lt;p&gt;$4.95&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div class=\"menu-preview-items hidden\"&gt;\n            &lt;h2&gt;Appetizers&lt;/h2&gt;\n            &lt;div class=\"menu-listing\"&gt;\n                &lt;h3&gt;Edamame&lt;/h3&gt;\n                &lt;p&gt;Boiled green soy bean with salt.&lt;/p&gt;\n                &lt;p&gt;$3.50&lt;/p&gt;\n            &lt;/div&gt;\n            &lt;div class=\"menu-listing\"&gt;\n                &lt;h3&gt;Gomae&lt;/h3&gt;\n                &lt;p&gt;Blanched spinach with sesame seed and peanut sauce.&lt;/p&gt;\n                &lt;p&gt;$3.50&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"menu-categories\"&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;Most Popular&lt;/a&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;Appetizers&lt;/a&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;A La Carte&lt;/a&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;BBQ&lt;/a&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;Salad &amp; Soup&lt;/a&gt;\n        &lt;a href=\"#\" class=\"menu-box\"&gt;Tempura&lt;/a&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n\n.active {\n    display: none;\n}\n\n.hidden {\n    display: contents;\n}\n\n.menu-container {\n    margin-top: 15px;\n    display: flex;\n    justify-content: space-evenly;\n}\n\n\n$('.menu-box').click(function () {\n    $('.menu-preview-items').toggleClass('.active');\n    // alert('Hello!');\n});\n\n\n.active\n\n.hidden\n\n# Solution Code:\n    .active {\ndisplay: block;\n}\n\n.hidden {\ndisplay: none;\n}\n\n.menu-container {\nmargin-top: 15px;\ndisplay: flex;\njustify-content: space-evenly;\n}\n\n\n&lt;div class=\"menu-container\"&gt;\n\n            &lt;div class=\"menu-preview\"&gt;\n                &lt;div class=\"menu-preview-items active most-popular\"&gt;\n\n                    &lt;h2&gt;Most Popular&lt;/h2&gt;\n\n                    &lt;div class=\"menu-listing\"&gt;\n                        &lt;h3&gt;California Roll (8 Pieces)&lt;/h3&gt;\n                        &lt;p&gt;Imi crab, cucumber, avocado, and mayo with\n                            sesame&lt;/p&gt;\n                        &lt;p&gt;$3.50&lt;/p&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"menu-listing\"&gt;\n                        &lt;h3&gt;Dynamite Roll (8 Pieces)&lt;/h3&gt;\n                        &lt;p&gt;Two pieces prawn tempura, yam, cucumber,\n                            avocado, masago, letters, and mayo with sesame&lt;/p&gt;\n                        &lt;p&gt;$4.95&lt;/p&gt;\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n\n                &lt;div class=\"menu-preview-items hidden appetizers\"&gt;\n\n                    &lt;h2&gt;Appetizers&lt;/h2&gt;\n\n                    &lt;div class=\"menu-listing\"&gt;\n                        &lt;h3&gt;Edamame&lt;/h3&gt;\n                        &lt;p&gt;Boiled green soy bean with salt.&lt;/p&gt;\n                        &lt;p&gt;$3.50&lt;/p&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"menu-listing\"&gt;\n                        &lt;h3&gt;Gomae&lt;/h3&gt;\n                        &lt;p&gt;Blanched spinach with sesame seed and peanut sauce.&lt;/p&gt;\n                        &lt;p&gt;$3.50&lt;/p&gt;\n                    &lt;/div&gt;\n\n                &lt;/div&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"menu-categories\"&gt;\n                &lt;a href=\"#\" class=\"menu-box\" ref=\"most-popular\"&gt;Most Popular&lt;/a&gt;\n\n                &lt;a href=\"#\" class=\"menu-box\" ref=\"appetizers\"&gt;Appetizers&lt;/a&gt;\n\n                &lt;a href=\"#\" class=\"menu-box\"&gt;A La Carte&lt;/a&gt;\n\n                &lt;a href=\"#\" class=\"menu-box\"&gt;BBQ&lt;/a&gt;\n\n                &lt;a href=\"#\" class=\"menu-box\"&gt;Salad &amp; Soup&lt;/a&gt;\n\n                &lt;a href=\"#\" class=\"menu-box\"&gt;Tempura&lt;/a&gt;\n\n            &lt;/div&gt;\n\n        &lt;/div&gt;\n\n\n$('.menu-categories .menu-box').on('click',function(){\n      $('.menu-preview-items').addClass('hidden');\n      $('.menu-preview-items').removeClass('active');\n      $('.'+$(this).attr('ref')).removeClass('hidden');\n      $('.'+$(this).attr('ref')).addClass('active');\n    });\n\n\ncss\n\nhtml",
    "resolution": "You can try this: change css .active { display: block; } .hidden { display: none; } .menu-container { margin-top: 15px; display: flex; justify-content: space-evenly; } The html part <div class=\"menu-container\"> <div class=\"menu-preview\"> <div class=\"menu-preview-items active most-popular\"> <h2>Most Popular</h2> <div class=\"menu-listing\"> <h3>California Roll (8 Pieces)</h3> <p>Imi crab, cucumber, avocado, and mayo with sesame</p> <p>$3.50</p> </div> <div class=\"menu-listing\"> <h3>Dynamite Roll (8 Pieces)</h3> <p>Two pieces prawn tempura, yam, cucumber, avocado, masago, letters, and mayo with sesame</p> <p>$4.95</p> </div> </div> <div class=\"menu-preview-items hidden appetizers\"> <h2>Appetizers</h2> <div class=\"menu-listing\"> <h3>Edamame</h3> <p>Boiled green soy bean with salt.</p> <p>$3.50</p> </div> <div class=\"menu-listing\"> <h3>Gomae</h3> <p>Blanched spinach with sesame seed and peanut sauce.</p> <p>$3.50</p> </div> </div> </div> <div class=\"menu-categories\"> <a href=\"#\" class=\"menu-box\" ref=\"most-popular\">Most Popular</a> <a href=\"#\" class=\"menu-box\" ref=\"appetizers\">Appetizers</a> <a href=\"#\" class=\"menu-box\">A La Carte</a> <a href=\"#\" class=\"menu-box\">BBQ</a> <a href=\"#\" class=\"menu-box\">Salad & Soup</a> <a href=\"#\" class=\"menu-box\">Tempura</a> </div> </div> Now the JQuery $('.menu-categories .menu-box').on('click',function(){ $('.menu-preview-items').addClass('hidden'); $('.menu-preview-items').removeClass('active'); $('.'+$(this).attr('ref')).removeClass('hidden'); $('.'+$(this).attr('ref')).addClass('active'); });",
    "severity": "medium",
    "tags": [
      "javascript",
      "jquery",
      "html",
      "css"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "jquery",
      "stackoverflow_question_id": "55487593",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1088,
      "stackoverflow_creation_date": "2019-04-03T05:22:31.147Z"
    },
    "idempotency_key": "stackoverflow-55487593",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Making Vega-Lite bar marks adjacent",
    "body": "I'm working on a bar plot in Vega-Lite (generated using Altair). Using the Vega-View API, I've written some code where users can select bars, which changes those bars' colors (along with doing some other stuff elsewhere in the application; the details aren't super important for this question). My problem is this. Using the default continuousBandSize of 5, when zoomed out the bars seem to \"overlap\" each other horizontally. Here's a screenshot of this problem. This problem is resolvable by setting continuousBandSize to 1, but the problem then is that -- when you zoom in to the chart -- the bars become very thin and hard for users to select. (Furthermore, since I'm coloring the bars gray by default, they become hard to distinguish from the grid behind the visualization; and I'd prefer to keep the grid if I can.) Here's a screenshot of this problem. Is it possible to make the bar marks in Vega-Lite adjacent at any zoom level? Or is this not feasible? Prior research on this problem The problem of bars being too thin is mentioned in an issue on Vega-Lite's GitHub page here, but that issue seems to address a different problem (of the bars going outside of the visualization). I've looked into using padding, paddingInner, and paddingOuter (as mentioned in the Vega-Lite documentation and in the answer to this question), with no success. The problem of increasing sizes causing bars to overlap is also brought up in an (unanswered) comment on this answer. Example Vega-Lite Specification An example specification showing a subset of the plot I'm working on (with continuousBandSize set to 1 to show the \"thin-bar\" problem) is available in the Vega Editor here (apologies for the long URL). As mentioned above, if you zoom in too far with continuousBandSize set to 1, the gray bars become very thin and hard to see. And if you set continuousBandSize to something like 2 or above and zoom out too far, the bars start to overlap each other (this is demonstrated by the blue bar starting to get slightly \"covered\" by the gray bar to its right -- this isn't super visible here since this is only a subset of the full plot, but the problem is a lot clearer when there are ~500 bars). Thanks!",
    "code": "continuousBandSize\n\n5\n\ncontinuousBandSize\n\n1\n\npadding\n\npaddingInner\n\npaddingOuter\n\ncontinuousBandSize\n\n1\n\ncontinuousBandSize\n\n1\n\ncontinuousBandSize\n\n2",
    "severity": "low",
    "tags": [
      "vega-lite",
      "altair"
    ],
    "metadata": {
      "stackoverflow_question_id": "55543912",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 710,
      "stackoverflow_creation_date": "2019-04-05T22:01:52.100Z"
    },
    "idempotency_key": "stackoverflow-55543912",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to remove inherent padding from ListTile leading property? Fill color of leading property container",
    "body": "I am creating an in-app email Inbox, and want to shade the background of the leading icon in a ListTile. How can I fill the leading property such that there is padding above and below the icon? In the past I have tried setting the contentpadding of the ListTile to 0.0. As well as setting the Container padding to 0.0. Please review my code below: Widget buildItem(LeaveBehindItem item) { final ThemeData theme = Theme.of(context); return new Dismissible( key: new ObjectKey(item), direction: _dismissDirection, onDismissed: (DismissDirection direction) { setState(() { leaveBehindItems.remove(item); }); final String action = (direction == DismissDirection.endToStart) ? 'archived' : 'deleted'; _scaffoldKey.currentState.showSnackBar(new SnackBar( content: new Text('You $action item ${item.index}'), action: new SnackBarAction( label: 'UNDO', onPressed: () { handleUndo(item); } ) )); }, background: new Container( color: Colors.green, child: const ListTile( leading: const Icon(Icons.done, color: Colors.white, size: 36.0) ) ), secondaryBackground: new Container( color: Colors.orange, child: const ListTile( trailing: const Icon(Icons.query_builder, color: Colors.white, size: 36.0) ) ), child: new Container( padding: EdgeInsets.all(0.0), decoration: new BoxDecoration( color: theme.canvasColor, border: new Border(bottom: new BorderSide(color: theme.dividerColor)) ), child: new ListTile( contentPadding: EdgeInsets.all(0.0), leading: Container( decoration: BoxDecoration(color: Colors.grey[500]), child: Icon(Icons.lightbulb_outline, size: 50.0,), ), title: new Text(item.name), subtitle: new Text('${item.subject}\\n${item.to}\\nHas been read: ${item.read}'), onTap: () async { await Navigator.push(context, MaterialPageRoute(builder: (context) => EmailBody(item: item))); item.read = true; }, ) ) ); }",
    "code": "    Widget buildItem(LeaveBehindItem item) {\n    final ThemeData theme = Theme.of(context);\n    return new Dismissible(\n        key: new ObjectKey(item),\n        direction: _dismissDirection,\n        onDismissed: (DismissDirection direction) {\n          setState(() {\n            leaveBehindItems.remove(item);\n          });\n          final String action = (direction == DismissDirection.endToStart) ? 'archived' : 'deleted';\n          _scaffoldKey.currentState.showSnackBar(new SnackBar(\n              content: new Text('You $action item ${item.index}'),\n              action: new SnackBarAction(\n                  label: 'UNDO',\n                  onPressed: () { handleUndo(item); }\n              )\n          ));\n        },\n        background: new Container(\n            color: Colors.green,\n            child: const ListTile(\n                leading: const Icon(Icons.done, color: Colors.white, size: 36.0)\n            )\n        ),\n        secondaryBackground: new Container(\n            color: Colors.orange,\n            child: const ListTile(\n                trailing: const Icon(Icons.query_builder, color: Colors.white, size: 36.0)\n            )\n        ),\n        child: new Container(\n           padding: EdgeInsets.all(0.0),\n            decoration: new BoxDecoration(\n                color: theme.canvasColor,\n                border: new Border(bottom: new BorderSide(color: theme.dividerColor))\n            ),\n            child: new ListTile(\n              contentPadding: EdgeInsets.all(0.0),\n              leading: Container(\n                decoration: BoxDecoration(color: Colors.grey[500]),\n                child: Icon(Icons.lightbulb_outline, size: 50.0,),\n              ),\n              title: new Text(item.name),\n              subtitle: new Text('${item.subject}\\n${item.to}\\nHas been read: ${item.read}'),\n              onTap: () async {\n                await Navigator.push(context, MaterialPageRoute(builder: (context) =&gt; EmailBody(item: item)));\n               item.read = true;\n              },\n            )\n        )\n    );\n  }\n\n\n# Solution Code:\n// The minimum padding on the top and bottom of the title and subtitle widgets.\nstatic const double _minVerticalPadding = 4.0;\n\n\nListTile\n\nPadding",
    "resolution": "ListTile has a hardcoded top and bottom padding of 4: // The minimum padding on the top and bottom of the title and subtitle widgets. static const double _minVerticalPadding = 4.0; The only way to get around it is by replacing the ListTile with a custom Row. This will give you all the flexibility you're looking for. Also, a Padding of 0 will never change anything visually.",
    "severity": "low",
    "tags": [
      "android",
      "user-interface",
      "dart",
      "flutter",
      "material-design"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "55649134",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 850,
      "stackoverflow_creation_date": "2019-04-12T10:00:00.167Z"
    },
    "idempotency_key": "stackoverflow-55649134",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to show the full (not truncated) \"CREATED BY\" commands in \"docker history\" output?",
    "body": "How can I show the full command in the third column (CREATED BY) in the docker history output? $ $ docker history python IMAGE CREATED CREATED BY SIZE COMMENT 69ee9abe2bda 5 weeks ago CMD [\"python3\"] 0B buildkit.dockerfile.v0 <missing> 5 weeks ago RUN /bin/sh -c set -eux; wget -O get-pip.p… 10MB buildkit.dockerfile.v0 <missing> 5 weeks ago ENV PYTHON_GET_PIP_SHA256=22b849a10f86f5ddf7… 0B buildkit.dockerfile.v0 ... The CREATED BY is truncating/abbreviating the commands which makes it hard to reconstruct the original Dockerfile. How do I get the full CREATED BY commands?",
    "code": "$ $ docker history python\nIMAGE          CREATED       CREATED BY                                      SIZE      COMMENT\n69ee9abe2bda   5 weeks ago   CMD [&quot;python3&quot;]                                 0B        buildkit.dockerfile.v0\n&lt;missing&gt;      5 weeks ago   RUN /bin/sh -c set -eux;   wget -O get-pip.p…   10MB      buildkit.dockerfile.v0\n&lt;missing&gt;      5 weeks ago   ENV PYTHON_GET_PIP_SHA256=22b849a10f86f5ddf7…   0B        buildkit.dockerfile.v0\n...\n\n\ndocker history\n\nCREATED BY\n\nCREATED BY\n\n# Solution Code:\ndocker history --no-trunc",
    "resolution": "Use the docker history --no-trunc option to show the full command.",
    "severity": "high",
    "tags": [
      "docker",
      "dockerfile"
    ],
    "metadata": {
      "stackoverflow_question_id": "55737199",
      "stackoverflow_score": 63,
      "stackoverflow_view_count": 41193,
      "stackoverflow_creation_date": "2019-04-17T23:16:31.650Z"
    },
    "idempotency_key": "stackoverflow-55737199",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to sum up all neighbouring nonzero value in the middle of a list in Python",
    "body": "I am beginner in Python. I need to solve an issue with summing up neighboring nonzero value in a list. Say, I have list called a = [2, 3, 0, 0, 1, 0, 3, 3, 1, 0, 0]. In a, there will be multiple instances where the elements are nonzero. For example, 2 and 3 are neigbouring so I want to sum them up so I would get 5. Then, there another neighbouring elements which are 3, 3 and 1. This is where I face problem because i want to sum it up to 7. But in the code that I attempted on, it still print out 4, which is the sum of a[7] and a[8]. Is there any way I can avoid this? c =[] for i in range(1, len(a)): if a[i-1] != 0: if a[i] != 0: tot = a[i] + a[i-1] c.append(tot) if a[i+1] != 0: tot = tot + a[i+1] c.append(tot) else: tot = 0; continue",
    "code": "a = [2, 3, 0, 0, 1, 0, 3, 3, 1, 0, 0]. \n\n\nc =[]\nfor i in range(1, len(a)): \n    if a[i-1] != 0:\n        if a[i] != 0:\n           tot = a[i] + a[i-1]\n           c.append(tot)\n           if a[i+1] != 0:\n               tot = tot + a[i+1]\n               c.append(tot)\n    else:\n        tot = 0;\n        continue\n\n\n# Solution Code:\n&gt;&gt;&gt; import itertools\n&gt;&gt;&gt; a = [2, 3, 0, 0, 1, 0, 3, 3, 1, 0, 0]\n&gt;&gt;&gt; [sum(v) for k, v in itertools.groupby(a, key=lambda x: x != 0) if k != 0]\n[5, 1, 7]\n\n\nitertools.groupby",
    "resolution": "You can use itertools.groupby and a comprehension: >>> import itertools >>> a = [2, 3, 0, 0, 1, 0, 3, 3, 1, 0, 0] >>> [sum(v) for k, v in itertools.groupby(a, key=lambda x: x != 0) if k != 0] [5, 1, 7]",
    "severity": "low",
    "tags": [
      "python",
      "list"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "55738787",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 200,
      "stackoverflow_creation_date": "2019-04-18T03:37:12.353Z"
    },
    "idempotency_key": "stackoverflow-55738787",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android: Save FCM Notification to Room DB",
    "body": "I am using firebase FCM to get the notification. I want if the notification received, that should store in my RoomDatabase. Later on, when the user opens the app, then in notification section all notification will display. I am using MVVM, I was trying to save through ViewModel but it not work. Here is my present code. public class MessagingService extends FirebaseMessagingService { @Override public void onNewToken(String s) { super.onNewToken(s); Log.d(\"MessagingService\", s); } @Override public void onMessageReceived(RemoteMessage remoteMessage) { super.onMessageReceived(remoteMessage); // Check if message contains a notification payload. if (remoteMessage.getData().isEmpty()){ showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody()); } else { showNotification(remoteMessage.getData()); } } private void showNotification(Map<String, String> data) { Bitmap bitmap; String title = data.get(\"title\").toString(); String body = data.get(\"body\").toString(); String imageUri = data.get(\"image\").toString(); String TrueOrFalse = data.get(\"AnotherActivity\").toString(); bitmap = getBitmapfromUrl(imageUri); Intent intent = new Intent(this, MainActivity.class); intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); intent.putExtra(\"AnotherActivity\", TrueOrFalse); PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent, PendingIntent.FLAG_ONE_SHOT); // LibraryViewModel libraryViewModel = ViewModelProviders.of(pendingIntent.get).get(HomeViewModel.class); //Notification FCM String NOTIFICATION_CHANNEL_ID = \"vedicaim.com\"; Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION); NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) { NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, \"ArticleNotification\", NotificationManager.IMPORTANCE_DEFAULT); notificationChannel.setDescription(\"VedicAim Channel\"); notificationChannel.enableLights(true); notificationChannel.setLightColor(Color.BLUE); notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000}); notificationChannel.enableLights(true); notificationManager.createNotificationChannel(notificationChannel); } NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID) .setDefaults(Notification.DEFAULT_ALL) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.drawable.splash_logo) .setContentTitle(title) .setContentText(body) .setSound(defaultSoundUri) .setContentInfo(\"Info\") .setContentIntent(pendingIntent); notificationManager.notify(new Random().nextInt(), notificationBuilder.build()); FirebaseMessaging.getInstance().subscribeToTopic(\"article\") .addOnCompleteListener(new OnCompleteListener<Void>() { @Override public void onComplete(@NonNull Task<Void> task) { String msg = \"Successfull\"; if (!task.isSuccessful()) { msg = \"Failed\"; } Log.d(\"MessagingService\", msg); } }); } private void showNotification(String title, String body) { //Notification FCM String NOTIFICATION_CHANNEL_ID = \"vedicaim.com\"; NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) { NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, \"ArticleNotification\", NotificationManager.IMPORTANCE_DEFAULT); notificationChannel.setDescription(\"VedicAim Channel\"); notificationChannel.enableLights(true); notificationChannel.setLightColor(Color.BLUE); notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000}); notificationChannel.enableLights(true); notificationManager.createNotificationChannel(notificationChannel); } NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID) .setDefaults(Notification.DEFAULT_ALL) .setWhen(System.currentTimeMillis()) .setSmallIcon(R.drawable.splash_logo) .setContentTitle(title) .setContentText(body) .setContentInfo(\"Info\"); notificationManager.notify(new Random().nextInt(), notificationBuilder.build()); FirebaseMessaging.getInstance().subscribeToTopic(\"article\") .addOnCompleteListener(new OnCompleteListener<Void>() { @Override public void onComplete(@NonNull Task<Void> task) { String msg = \"Successfull\"; if (!task.isSuccessful()) { msg = \"Failed\"; } Log.d(\"MessagingService\", msg); } }); } /* *To get a Bitmap image from the URL received * */ public Bitmap getBitmapfromUrl(String imageUrl) { try { URL url = new URL(imageUrl); HttpURLConnection connection = (HttpURLConnection) url.openConnection(); connection.setDoInput(true); connection.connect(); InputStream input = connection.getInputStream(); Bitmap bitmap = BitmapFactory.decodeStream(input); return bitmap; } catch (Exception e) { // TODO Auto-generated catch block e.printStackTrace(); return null; } }}",
    "code": "public class MessagingService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n        Log.d(\"MessagingService\", s);\n    }\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n        // Check if message contains a notification payload.\n\n        if (remoteMessage.getData().isEmpty()){\n            showNotification(remoteMessage.getNotification().getTitle(), remoteMessage.getNotification().getBody());\n        } else {\n            showNotification(remoteMessage.getData());\n        }\n\n    }\n\n    private void showNotification(Map&lt;String, String&gt; data) {\n\n\n        Bitmap bitmap;\n\n        String title = data.get(\"title\").toString();\n        String body = data.get(\"body\").toString();\n        String imageUri = data.get(\"image\").toString();\n        String TrueOrFalse = data.get(\"AnotherActivity\").toString();\n\n        bitmap = getBitmapfromUrl(imageUri);\n\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.putExtra(\"AnotherActivity\", TrueOrFalse);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0 /* Request code */, intent,\n                PendingIntent.FLAG_ONE_SHOT);\n\n       // LibraryViewModel libraryViewModel = ViewModelProviders.of(pendingIntent.get).get(HomeViewModel.class);\n\n\n        //Notification FCM\n        String NOTIFICATION_CHANNEL_ID = \"vedicaim.com\";\n\n        Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, \"ArticleNotification\",\n                    NotificationManager.IMPORTANCE_DEFAULT);\n\n            notificationChannel.setDescription(\"VedicAim Channel\");\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.BLUE);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableLights(true);\n            notificationManager.createNotificationChannel(notificationChannel);\n\n        }\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setWhen(System.currentTimeMillis())\n                .setSmallIcon(R.drawable.splash_logo)\n                .setContentTitle(title)\n                .setContentText(body)\n                .setSound(defaultSoundUri)\n                .setContentInfo(\"Info\")\n                .setContentIntent(pendingIntent);\n\n        notificationManager.notify(new Random().nextInt(), notificationBuilder.build());\n\n        FirebaseMessaging.getInstance().subscribeToTopic(\"article\")\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        String msg = \"Successfull\";\n                        if (!task.isSuccessful()) {\n                            msg = \"Failed\";\n                        }\n                        Log.d(\"MessagingService\", msg);\n                    }\n                });\n\n\n    }\n\n    private void showNotification(String title, String body) {\n        //Notification FCM\n        String NOTIFICATION_CHANNEL_ID = \"vedicaim.com\";\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, \"ArticleNotification\",\n                    NotificationManager.IMPORTANCE_DEFAULT);\n\n            notificationChannel.setDescription(\"VedicAim Channel\");\n            notificationChannel.enableLights(true);\n            notificationChannel.setLightColor(Color.BLUE);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableLights(true);\n            notificationManager.createNotificationChannel(notificationChannel);\n\n        }\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setWhen(System.currentTimeMillis())\n                .setSmallIcon(R.drawable.splash_logo)\n                .setContentTitle(title)\n                .setContentText(body)\n                .setContentInfo(\"Info\");\n\n        notificationManager.notify(new Random().nextInt(), notificationBuilder.build());\n\n        FirebaseMessaging.getInstance().subscribeToTopic(\"article\")\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                    @Override\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                        String msg = \"Successfull\";\n                        if (!task.isSuccessful()) {\n                            msg = \"Failed\";\n                        }\n                        Log.d(\"MessagingService\", msg);\n                    }\n                });\n\n    }\n\n\n    /*\n     *To get a Bitmap image from the URL received\n     * */\n    public Bitmap getBitmapfromUrl(String imageUrl) {\n        try {\n            URL url = new URL(imageUrl);\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoInput(true);\n            connection.connect();\n            InputStream input = connection.getInputStream();\n            Bitmap bitmap = BitmapFactory.decodeStream(input);\n            return bitmap;\n\n        } catch (Exception e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n            return null;\n\n        }\n    }}\n\n\n# Solution Code:\npublic class FCMService extends FirebaseMessagingService {\n    private static final String DATABASE_NAME = \"db_notification\";\n    private static int NOTIFICATION_ID = 1;\n    private NotificationDatabase notificationDatabase;\n    private String body, title, itemId, type;\n\n    @Override\n    public void onNewToken(String s) {\n        super.onNewToken(s);\n    }\n\n    @Override\n    public void onMessageReceived(final RemoteMessage remoteMessage) {\n\n        notificationDatabase = Room.databaseBuilder(getApplicationContext(),\n                NotificationDatabase.class, DATABASE_NAME)\n                .build();\n\n        if (!remoteMessage.getData().isEmpty()) {\n\n            Map&lt;String, String&gt; data = remoteMessage.getData();\n            title = data.get(\"title\");\n            body = data.get(\"body\");\n            itemId = data.get(\"itemId\");\n            type = data.get(\"type\");\n\n            Intent intent = new Intent(this, MainActivity.class);\n            if (type.equals(\"review\")) {\n                intent.putExtra(\"itemId\", itemId);\n            }\n            intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT);\n\n            //Creating Notification\n            Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n            NotificationCompat.Builder mNotifyBuilder = new NotificationCompat.Builder(this, \"2\")\n                    .setSmallIcon(R.drawable.ic_notifications)\n                    .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.notification_list))\n                    .setContentTitle(title)\n                    .setContentText(body)\n                    .setAutoCancel(true)\n                    .setSound(defaultSoundUri)\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\n                    .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n                    .setStyle(new NotificationCompat.BigTextStyle().bigText(body))\n                    .setContentIntent(pendingIntent);\n\n            NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n            if (NOTIFICATION_ID &gt; 1073741824) {\n                NOTIFICATION_ID = 0;\n            }\n            Objects.requireNonNull(notificationManager).notify(NOTIFICATION_ID++, mNotifyBuilder.build());\n\n            //Saving to Room Database\n            new Thread(() -&gt; {\n                Notification notification = new Notification();\n                notification.setNotificationTitle(title);\n                notification.setNotificationText(body);\n                notification.setItemId(itemId);\n                notification.setType(type);\n                notificationDatabase.notificationAccess().insertOnlySingleNotification(notification);\n            }).start();\n        }\n    }\n}\n\n\n{\n    \"to\" : \"/topics/sathyanga\",\n    \"collapse_key\" : \"type_a\",\n    \"data\" : {\n        \"body\" : \"Notification Body\",\n        \"title\": \"Notification Title\",\n        \"type\" : \"review\",//Custom Data\n        \"itemId\" : \"Item5\"//Custom Data\n    }\n}\n",
    "resolution": "You could use Postman to send the message instead of the firebase console. So the onMessageReceived() method is called always even if the app is on background or foreground. You should subscribe your app to an FCM topic at the MainActivity and send the JSON message from the Postman. Send FCM Messages using Postman After that in onMessageReceived(), you could save the message data to the room DB. Here's an Example. I do it in my app like this My FCMService public class FCMService extends FirebaseMessagingService { private static final String DATABASE_NAME = \"db_notification\"; private static int NOTIFICATION_ID = 1; private NotificationDatabase notificationDatabase; private String body, title, itemId, type; @Override public void onNewToken(String s) { super.onNewToken(s); } @Override public void onMessageReceived(final RemoteMessage remoteMessage) { notificationDatabase = Room.databaseBuilder(getApplicationContext(), NotificationDatabase.class, DATABASE_NAME) .build(); if (!remoteMessage.getData().isEmpty()) { Map<String, String> data = remoteMessage.getData(); title = data.get(\"title\"); body = data.get(\"body\"); itemId = data.get(\"itemId\"); type = data.get(\"type\"); Intent intent = new Intent(this, MainActivity.class); if (type.equals(\"review\")) { intent.putExtra(\"itemId\", itemId); } intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_ONE_SHOT); //Creating Notification Uri defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION); NotificationCompat.Builder mNotifyBuilder = new NotificationCompat.Builder(this, \"2\") .setSmallIcon(R.drawable.ic_notifications) .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.notification_list)) .setContentTitle(title) .setContentText(body) .setAutoCancel(true) .setSound(defaultSoundUri) .setPriority(NotificationCompat.PRIORITY_HIGH) .setVisibility(NotificationCompat.VISIBILITY_PUBLIC) .setStyle(new NotificationCompat.BigTextStyle().bigText(body)) .setContentIntent(pendingIntent); NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE); if (NOTIFICATION_ID > 1073741824) { NOTIFICATION_ID = 0; } Objects.requireNonNull(notificationManager).notify(NOTIFICATION_ID++, mNotifyBuilder.build()); //Saving to Room Database new Thread(() -> { Notification notification = new Notification(); notification.setNotificationTitle(title); notification.setNotificationText(body); notification.setItemId(itemId); notification.setType(type); notificationDatabase.notificationAccess().insertOnlySingleNotification(notification); }).start(); } } } My JSON Request from Postman { \"to\" : \"/topics/sathyanga\", \"collapse_key\" : \"type_a\", \"data\" : { \"body\" : \"Notification Body\", \"title\": \"Notification Title\", \"type\" : \"review\",//Custom Data \"itemId\" : \"Item5\"//Custom Data } } Using it like this we can ensure that the receive FCM is always a data message. So it will run even if the app is not in the foreground.",
    "severity": "medium",
    "tags": [
      "android",
      "firebase-cloud-messaging",
      "android-sqlite",
      "android-room",
      "android-mvvm"
    ],
    "metadata": {
      "stackoverflow_question_id": "55756908",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4682,
      "stackoverflow_creation_date": "2019-04-19T05:13:15.430Z"
    },
    "idempotency_key": "stackoverflow-55756908",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to fix random \"The wait operation timed out\" with EF 6 and SQL Server AWS RDS",
    "body": "PROBLEM: Since a DB migration, I have many intermittent exception from SQL timeout. All what I now after my 2 months of investigation: All my .NET C# apps using EF 6 are impacted Whatever time in the day (day or night) BUT the more traffic we have, the more timeouts happens No matter what method used (.ToList, .Single, .First, .SaveChanges) which trigger a call to the DB Whatever DB table impacted (small or big) Whatever query complexity is (large query with 20 join or juste un smal query whith a select ... where Id = 1) Whatever calling mode (write/read) Whatever calling dbContext directly or by a property navigation (with lazy loading activiated) ENVIRONMENT: > INFRASTRUCTURE: 1 AWS RDS (db.m4.2xlarge), 32 GB of RAM, 8 vCPU, 100 GB SSD with SQL SERVER 11.0.xxx in Read Committed Snapshot Isolation level UC around 5%, Connection DB around 45, very few E/S write or read, 20GB of RAM available (on 32GB), 90GB free space (on 100GB SSD) Optimisation of index (rebuild, drop/create), query plan, stats Increase parallelism NO blocking, NO deadlock, NO suspended session (sp_who2), NO CXPACKET problem, very large free memory or disk space BD usage: around 25 request by second, nothing exceptionel... > APPLICATIONS : 20 C# applications (Batch, UI ASP MVC, ...) with EF 6 mainly (lazy loading ativated) or EF Core with CommandTimeout to 45s (instead of default 30s) LINQ to Entities optimization (Inlcude, replaced by raw sql on very complex query, remove WHERE 1=0 queries, ...) DbContext management optimized (open/close juste when needed, no leak connection) Many memory caches added to avoid DB call All application pools are recycled every day EXCEPTION: When a .ToList, .First, .Single or any method which trigger a call to the DB from EF throw a message like these: System.ComponentModel.Win32Exception: The wait operation timed out. or System.Data.SqlClient.SqlException A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable) RESULT: When I run SQL Profiler on my PROD database (impossible to reproduce the problem on others dev environment), I have a query who run juste 1 sec (not 45 sec...) and my code return only after 45s the timeout... Like the problem was on network/transport layer... But how to monitor this ? How to be sure that the problem was not on C# or DB server but between the 2 ? Have you some advice to make these timeouts disapear before I kill myself ? EDIT 22/04/2019: I confirm that when EF 6 execute the query (trigger by a .ToList for example), the query on my database took only 78 microseconds (yes, microseconds...) to execute and... EF are waiting for 45 seconds to give me an error like \"A transport-level error has occurred...\" : WHY ? Why EF 6 don't get the result from the database ? Why the answer is lost in the wild ? Like a connection lost by randomly... EDIT 25/04/2019: Finally we decide to develop a DbExecutionStrategy with a retry system. I'm very sad to end like this but we runnig out of time and that solved our problems.",
    "code": "System.ComponentModel.Win32Exception: The wait operation timed out.\n\n\nSystem.Data.SqlClient.SqlException A transport-level error has occurred when receiving results from the server. (provider: Session Provider, error: 19 - Physical connection is not usable)\n",
    "severity": "medium",
    "tags": [
      "c#",
      "sql-server",
      "entity-framework"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "55760168",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1921,
      "stackoverflow_creation_date": "2019-04-19T10:08:03.173Z"
    },
    "idempotency_key": "stackoverflow-55760168",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Property 'prototype' is missing in type 'Cake'. how to fix it",
    "body": "import { Component } from '@angular/core'; import { Cake } from './model/cake'; @Component({ selector: 'app-root', templateUrl: './app.component.html', styleUrls: ['./app.component.css'] }) export class AppComponent { cake = Cake; constructor() { this.cake = new Cake('Black Forest', 'This is awasome cake', null, null, null); } } this is error- ERROR in C:/xampp/htdocs/cakeshop/src/app/app.component.ts (14,5): Type 'Cake' is not assignable to type 'typeof Cake'. Property 'prototype' is missing in type 'Cake'. cake class properties export interface Ingredient { ingredient: string; measure: string; } export interface Instruction { instruction: string; photo: string; } export class Cake { public title: string; public description: string; public ingredient: Ingredient[]; public instruction: Instruction[]; public cover_photo: string; constructor(t: string, d: string, ing: Ingredient[], ins: Instruction[], cp: string) { this.title = t; this.description = d; this.ingredient = ing; this.instruction = ins; this.cover_photo = cp; } }",
    "code": " import { Component } from '@angular/core';\n    import { Cake } from './model/cake';\n\n    @Component({\n      selector: 'app-root',\n      templateUrl: './app.component.html',\n      styleUrls: ['./app.component.css']\n    })\n    export class AppComponent {\n\n      cake = Cake;\n\n      constructor() {\n        this.cake = new Cake('Black Forest', 'This is awasome cake', null, null, null);\n      }\n    }\n\n   this is error-\n\n\nexport interface Ingredient {\n    ingredient: string;\n    measure: string;\n}\n\nexport interface Instruction {\n    instruction: string;\n    photo: string;\n}\nexport class Cake {\n    public title: string;\n    public description: string;\n    public ingredient: Ingredient[];\n    public instruction: Instruction[];\n    public cover_photo: string;\n    constructor(t: string, d: string, ing: Ingredient[], ins: Instruction[], cp: string) {\n        this.title = t;\n        this.description = d;\n        this.ingredient = ing;\n        this.instruction = ins;\n        this.cover_photo = cp;\n    }\n}\n",
    "severity": "medium",
    "tags": [
      "typescript"
    ],
    "metadata": {
      "language": "typescript",
      "stackoverflow_question_id": "55964724",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2422,
      "stackoverflow_creation_date": "2019-05-03T06:58:09.683Z"
    },
    "idempotency_key": "stackoverflow-55964724",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to find bounding boxes coordinates in Tensorflow Object Detection API",
    "body": "I'm using Tensorflow object detection API code. I trained my model and got great detection percentages. I have been trying to get the bounding boxes coordinates but it keeps on printing out a list of 100 bizarre arrays. after a wide search online I found out what the numbers in the arrays meant (The bounding box coordinates are floats in [0.0, 1.0] relative to the width and height of the underlying image.) But still, my arrays are very different than the ones shown in examples online. Another weird thing is that I tested my module with a lot less than 100 images so how can there even be data of 100 bounding boxes coordinate. The array I get; [[3.13721418e-01 4.65148419e-01 7.11575747e-01 6.85783863e-01] [9.78936195e-01 6.50490820e-03 9.97096300e-01 1.82596639e-01] [9.51383412e-01 0.00000000e+00 1.00000000e+00 3.88432704e-02] [9.85813320e-01 8.96016136e-02 9.97273505e-01 3.15960884e-01] [9.88873005e-01 2.13812709e-01 1.00000000e+00 4.14675951e-01] ...... [4.42647263e-02 9.90755498e-01 2.57772505e-01 1.00000000e+00] [2.69711018e-05 5.21758199e-02 6.37509704e-01 6.62899792e-01] [0.00000000e+00 3.00989419e-01 9.92376506e-02 1.00000000e+00] [1.87531322e-01 2.66501214e-04 4.50700432e-01 1.23927500e-02] [9.36755657e-01 4.61095899e-01 9.92406607e-01 7.62619019e-01]] The function that does the detection and gets the bounding boxes coordinates. output_dict['detection_boxes'] is where the array above is held. def run_inference_for_single_image(image, graph): with graph.as_default(): with tf.Session() as sess: # Get handles to input and output tensors ops = tf.get_default_graph().get_operations() all_tensor_names = {output.name for op in ops for output in op.outputs} tensor_dict = {} for key in [ 'num_detections', 'detection_boxes', 'detection_scores', 'detection_classes', 'detection_masks' ]: tensor_name = key + ':0' if tensor_name in all_tensor_names: tensor_dict[key] = tf.get_default_graph().get_tensor_by_name( tensor_name) if 'detection_masks' in tensor_dict: # The following processing is only for single image detection_boxes = tf.squeeze(tensor_dict['detection_boxes'], [0]) detection_masks = tf.squeeze(tensor_dict['detection_masks'], [0]) # Reframe is required to translate mask from box coordinates to image coordinates and fit the image size. real_num_detection = tf.cast(tensor_dict['num_detections'][0], tf.int32) detection_boxes = tf.slice(detection_boxes, [0, 0], [real_num_detection, -1]) detection_masks = tf.slice(detection_masks, [0, 0, 0], [real_num_detection, -1, -1]) detection_masks_reframed = utils_ops.reframe_box_masks_to_image_masks( detection_masks, detection_boxes, image.shape[1], image.shape[2]) detection_masks_reframed = tf.cast( tf.greater(detection_masks_reframed, 0.5), tf.uint8) # Follow the convention by adding back the batch dimension tensor_dict['detection_masks'] = tf.expand_dims( detection_masks_reframed, 0) image_tensor = tf.get_default_graph().get_tensor_by_name('image_tensor:0') # Run inference output_dict = sess.run(tensor_dict, feed_dict={image_tensor: image}) # all outputs are float32 numpy arrays, so convert types as appropriate output_dict['num_detections'] = int(output_dict['num_detections'][0]) output_dict['detection_classes'] = output_dict[ 'detection_classes'][0].astype(np.int64) output_dict['detection_boxes'] = output_dict['detection_boxes'][0] output_dict['detection_scores'] = output_dict['detection_scores'][0] if 'detection_masks' in output_dict: output_dict['detection_masks'] = output_dict['detection_masks'][0] return output_dict I expect the output to be regular x,y coordinates of the bounding boxes.",
    "code": " [[3.13721418e-01 4.65148419e-01 7.11575747e-01 6.85783863e-01]\n [9.78936195e-01 6.50490820e-03 9.97096300e-01 1.82596639e-01]\n [9.51383412e-01 0.00000000e+00 1.00000000e+00 3.88432704e-02]\n [9.85813320e-01 8.96016136e-02 9.97273505e-01 3.15960884e-01]\n [9.88873005e-01 2.13812709e-01 1.00000000e+00 4.14675951e-01]\n\n ......\n [4.42647263e-02 9.90755498e-01 2.57772505e-01 1.00000000e+00]\n [2.69711018e-05 5.21758199e-02 6.37509704e-01 6.62899792e-01]\n [0.00000000e+00 3.00989419e-01 9.92376506e-02 1.00000000e+00]\n [1.87531322e-01 2.66501214e-04 4.50700432e-01 1.23927500e-02]\n [9.36755657e-01 4.61095899e-01 9.92406607e-01 7.62619019e-01]]\n\n\ndef run_inference_for_single_image(image, graph):\n  with graph.as_default():\n    with tf.Session() as sess:\n      # Get handles to input and output tensors\n      ops = tf.get_default_graph().get_operations()\n      all_tensor_names = {output.name for op in ops for output in op.outputs}\n      tensor_dict = {}\n      for key in [\n          'num_detections', 'detection_boxes', 'detection_scores',\n          'detection_classes', 'detection_masks'\n      ]:\n        tensor_name = key + ':0'\n        if tensor_name in all_tensor_names:\n          tensor_dict[key] = tf.get_default_graph().get_tensor_by_name(\n              tensor_name)\n      if 'detection_masks' in tensor_dict:\n        # The following processing is only for single image\n        detection_boxes = tf.squeeze(tensor_dict['detection_boxes'], [0])\n        detection_masks = tf.squeeze(tensor_dict['detection_masks'], [0])\n        # Reframe is required to translate mask from box coordinates to image coordinates and fit the image size.\n        real_num_detection = tf.cast(tensor_dict['num_detections'][0], tf.int32)\n        detection_boxes = tf.slice(detection_boxes, [0, 0], [real_num_detection, -1])\n        detection_masks = tf.slice(detection_masks, [0, 0, 0], [real_num_detection, -1, -1])\n        detection_masks_reframed = utils_ops.reframe_box_masks_to_image_masks(\n            detection_masks, detection_boxes, image.shape[1], image.shape[2])\n        detection_masks_reframed = tf.cast(\n            tf.greater(detection_masks_reframed, 0.5), tf.uint8)\n        # Follow the convention by adding back the batch dimension\n        tensor_dict['detection_masks'] = tf.expand_dims(\n            detection_masks_reframed, 0)\n      image_tensor = tf.get_default_graph().get_tensor_by_name('image_tensor:0')\n\n      # Run inference\n      output_dict = sess.run(tensor_dict,\n                             feed_dict={image_tensor: image})\n\n      # all outputs are float32 numpy arrays, so convert types as appropriate\n      output_dict['num_detections'] = int(output_dict['num_detections'][0])\n      output_dict['detection_classes'] = output_dict[\n          'detection_classes'][0].astype(np.int64)\n      output_dict['detection_boxes'] = output_dict['detection_boxes'][0]\n      output_dict['detection_scores'] = output_dict['detection_scores'][0]\n      if 'detection_masks' in output_dict:\n        output_dict['detection_masks'] = output_dict['detection_masks'][0]\n  return output_dict\n\n\n# Solution Code:\nboxes = np.squeeze(output_dict['detection_boxes'])\nscores = np.squeeze(output_dict['detection_scores'])\n#set a min thresh score, say 0.8\nmin_score_thresh = 0.8\nbboxes = boxes[scores &gt; min_score_thresh]\n\n#get image size\nim_width, im_height = image.size\nfinal_box = []\nfor box in bboxes:\n    ymin, xmin, ymax, xmax = box\n    final_box.append([xmin * im_width, xmax * im_width, ymin * im_height, ymax * im_height])\n\n\noutput_dict['detection_boxes']\n\nmax_total_detections\n\noutput_dict['scores']",
    "resolution": "The values in output_dict['detection_boxes'] are indeed in normalized format. By checking the values in the array you provided, those values are all between 0 and 1, therefore they are reasonable. There are 100 boxes because the model always output the same number of bounding boxes. (It is equal to max_total_detections in the config file ). But not all of them are always meaningful, you need to filter some boxes out according to the confidence score, which is stored in output_dict['scores']. To get regular bounding boxes. you can do as following: boxes = np.squeeze(output_dict['detection_boxes']) scores = np.squeeze(output_dict['detection_scores']) #set a min thresh score, say 0.8 min_score_thresh = 0.8 bboxes = boxes[scores > min_score_thresh] #get image size im_width, im_height = image.size final_box = [] for box in bboxes: ymin, xmin, ymax, xmax = box final_box.append([xmin * im_width, xmax * im_width, ymin * im_height, ymax * im_height])",
    "severity": "medium",
    "tags": [
      "tensorflow",
      "coordinates",
      "object-detection",
      "bounding-box"
    ],
    "metadata": {
      "stackoverflow_question_id": "56118540",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 7639,
      "stackoverflow_creation_date": "2019-05-13T19:10:49.067Z"
    },
    "idempotency_key": "stackoverflow-56118540",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why is SQLALCHEMY_DATABASE_URI set to \"sqlite:///:memory:\" when I set it to a path in my Config?",
    "body": "I am learning Flask by following Miguel Ginsberg mega tutorial chapter 4. When I run any Flask command from the Anaconda command panel I get an error that includes \"Neither SQLALCHEMY_DATABASE_URI nor SQLALCHEMY_BINDS is set.\" and as a result an SQLite database is created in memory. But I have created a Config object that sets SQLALCHEMY_DATABASE_URI, SECRET_KEY and SQLALCHEMY_TRACK_MODIFICATIONS, and have tested the python separately, and it all works. I have tried everything I can think of including testing snippets of code separately, at least 8 hours searching the web, and trawling though Ginsberg's posts, nothing works. One person Graham (post #29) seems to have had the same problem but Ginsberg does not give a useful answer. Here is my app init code __init__ from flask import Flask from flask_sqlalchemy import SQLAlchemy from flask_migrate import Migrate from config import Config app = Flask(__name__) app.config.from_object(Config) db = SQLAlchemy(app) migrate = Migrate(app, db) from app import routes, models Here is my config, it works when run separately. import os basedir = os.path.abspath(os.path.dirname(__file__)) class Config(object): SECRET_KEY = os.environ.get('SECRET_KEY') or 'you-will-never-guess' SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\ 'sqlite:///' + os.path.join(basedir, 'app.db') SQLALCHEMY_TRACK_MODIFICATIONS = False For completeness here are my routes and models from flask import render_template, flash, redirect, url_for from app import app from app.forms import LoginForm @app.route('/') @app.route('/index') def index(): user = {'username': 'Miguel'} posts = [ { 'author': {'username': 'John'}, 'body': 'Beautiful day in Portland!' }, { 'author': {'username': 'Susan'}, 'body': 'The Avengers movie was so cool!' } ] return render_template('index.html', title='Home', user=user, posts=posts) @app.route('/login', methods=['GET', 'POST']) def login(): form = LoginForm() if form.validate_on_submit(): flash('Login requested for user {}, remember_me={}'.format( form.username.data, form.remember_me.data)) return redirect(url_for('index')) return render_template('login.html', title='Sign In', form=form) and from datetime import datetime from app import db class User(db.Model): id = db.Column(db.Integer, primary_key=True) username = db.Column(db.String(64), index=True, unique=True) email = db.Column(db.String(120), index=True, unique=True) password_hash = db.Column(db.String(128)) posts = db.relationship('Post', backref='author', lazy='dynamic') def __repr__(self): return '<User {}>'.format(self.username) class Post(db.Model): id = db.Column(db.Integer, primary_key=True) body = db.Column(db.String(140)) timestamp = db.Column(db.DateTime, index=True, default=datetime.utcnow) user_id = db.Column(db.Integer, db.ForeignKey('user.id')) def __repr__(self): return '<Post {}>'.format(self.body) What should happen is that when I run a command like > flask db init or > flask db migrate -m \"users table\" the command should complete successfully because SQLALCHEMY_DATABASE_URI should equal the path of the app and the SQLite database should be app.db. Instead I get error messages stating SQLALCHEMY_DATABASE_URI is not set and that therefore SQLALCHEMY_DATABASE_URI has been set to \"sqlite:///:memory:\" My app needs a persistent database! Why isn't SQLALCHEMY_DATABASE_URI and SQLALCHEMY_TRACK_MODIFICATIONS being set?",
    "code": "__init__\n\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask_migrate import Migrate\nfrom config import Config\n\napp = Flask(__name__)\napp.config.from_object(Config)\ndb = SQLAlchemy(app)\nmigrate = Migrate(app, db)\n\nfrom app import routes, models\n\n\nimport os\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\n\nclass Config(object):\n    SECRET_KEY = os.environ.get('SECRET_KEY') or 'you-will-never-guess'\n    SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n    SQLALCHEMY_TRACK_MODIFICATIONS = False\n\n\nfrom flask import render_template, flash, redirect, url_for\nfrom app import app\nfrom app.forms import LoginForm\n\n\n@app.route('/')\n@app.route('/index')\ndef index():\n    user = {'username': 'Miguel'}\n    posts = [\n        {\n            'author': {'username': 'John'},\n            'body': 'Beautiful day in Portland!'\n        },\n        {\n            'author': {'username': 'Susan'},\n            'body': 'The Avengers movie was so cool!'\n        }\n    ]\n    return render_template('index.html', title='Home', user=user, posts=posts)\n\n\n@app.route('/login', methods=['GET', 'POST'])\ndef login():\n    form = LoginForm()\n    if form.validate_on_submit():\n        flash('Login requested for user {}, remember_me={}'.format(\n            form.username.data, form.remember_me.data))\n        return redirect(url_for('index'))\n    return render_template('login.html',  title='Sign In', form=form)\n\n\nfrom datetime import datetime\nfrom app import db\n\n\nclass User(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    username = db.Column(db.String(64), index=True, unique=True)\n    email = db.Column(db.String(120), index=True, unique=True)\n    password_hash = db.Column(db.String(128))\n    posts = db.relationship('Post', backref='author', lazy='dynamic')\n\n    def __repr__(self):\n        return '&lt;User {}&gt;'.format(self.username)\n\n\nclass Post(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    body = db.Column(db.String(140))\n    timestamp = db.Column(db.DateTime, index=True, default=datetime.utcnow)\n    user_id = db.Column(db.Integer, db.ForeignKey('user.id'))\n\n    def __repr__(self):\n        return '&lt;Post {}&gt;'.format(self.body)\n\n\n&gt; flask db init\n\n\n&gt; flask db migrate -m \"users table\"\n\n\n# Solution Code:\n### app.config.from_object(Config)\napp.config[\"SECRET_KEY\"] = os.environ.get('SECRET_KEY') or 'you-will-never-guess'\napp.config[\"SQLALCHEMY_DATABASE_URI\"] = os.environ.get('DATABASE_URL') or \\\n     'sqlite:///' + 'C:\\\\...path...\\\\app.db'\napp.config[\"SQLALCHEMY_TRACK_MODIFICATIONS\"] = False\n...\n\n\nimport os\nbasedir = os.path.abspath(os.path.dirname(__file__))\n\n...\n\nSQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\\n        'sqlite:///' + os.path.join(basedir, 'app.db')\n...\n\n\n__init__\n\n__init__",
    "resolution": "this problem has gone away by itself, but since others may experience it I decided to describe the work-around I used to save them some frustration. I think the original problem may have been due to the sequence in which I was importing packages/modules and initiating classes/objects into my __init__ method. The workaround is to comment out the original config statement and directly set the config variables, including the SQLite database, in __init__. ### app.config.from_object(Config) app.config[\"SECRET_KEY\"] = os.environ.get('SECRET_KEY') or 'you-will-never-guess' app.config[\"SQLALCHEMY_DATABASE_URI\"] = os.environ.get('DATABASE_URL') or \\ 'sqlite:///' + 'C:\\\\...path...\\\\app.db' app.config[\"SQLALCHEMY_TRACK_MODIFICATIONS\"] = False ... The workaround can probably be backed off a little by using import os basedir = os.path.abspath(os.path.dirname(__file__)) ... SQLALCHEMY_DATABASE_URI = os.environ.get('DATABASE_URL') or \\ 'sqlite:///' + os.path.join(basedir, 'app.db') ...",
    "severity": "high",
    "tags": [
      "flask-sqlalchemy"
    ],
    "metadata": {
      "stackoverflow_question_id": "56230626",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 12445,
      "stackoverflow_creation_date": "2019-05-21T03:19:30.343Z"
    },
    "idempotency_key": "stackoverflow-56230626",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "dateClick not emitted in fullcalendar angular",
    "body": "The dateClick event is not working, I did exactly as stated in the documentation: https://fullcalendar.io/docs/angular html: <full-calendar #calendar (dateClick)=\"alert('clicked')\" defaultView=\"timeGridWeek\" [nowIndicator]=\"true\" [header]=\"header\" [plugins]=\"calendarPlugins\" [events]=\"[ { title: 'event 1', start: '2019-05-22T13:00:00', textColor: 'white', end: '2019-05-22T14:00:00' }, { title: 'event 2', start: '2019-05-23T14:00:00', end: '2019-05-23T15:00:00' } ]\"></full-calendar> ts: import dayGridPlugin from '@fullcalendar/daygrid'; import timeGridPlugin from '@fullcalendar/timegrid'; import listPlugin from '@fullcalendar/list'; public calendarPlugins = [dayGridPlugin, timeGridPlugin, listPlugin];",
    "code": "    &lt;full-calendar #calendar (dateClick)=\"alert('clicked')\" defaultView=\"timeGridWeek\"\n        [nowIndicator]=\"true\" [header]=\"header\" [plugins]=\"calendarPlugins\" [events]=\"[\n          { title: 'event 1', start: '2019-05-22T13:00:00', textColor: 'white', end: '2019-05-22T14:00:00'  },\n          { title: 'event 2', start: '2019-05-23T14:00:00', end: '2019-05-23T15:00:00' }\n        ]\"&gt;&lt;/full-calendar&gt;\n\n\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport listPlugin from '@fullcalendar/list';\n\n  public calendarPlugins = [dayGridPlugin, timeGridPlugin, listPlugin];\n\n\ndateClick\n\n# Solution Code:\nnpm install --save @fullcalendar/interaction\n\n\nimport dayGridPlugin from '@fullcalendar/daygrid';\nimport timeGridPlugin from '@fullcalendar/timegrid';\nimport listPlugin from '@fullcalendar/list';\nimport interactionPlugin from '@fullcalendar/interaction';\n\n  public calendarPlugins = [dayGridPlugin, \n      timeGridPlugin, listPlugin , interactionPlugin];\n",
    "resolution": "To solve this problem I did the following steps: npm install --save @fullcalendar/interaction I added the plugin's import into the component: import dayGridPlugin from '@fullcalendar/daygrid'; import timeGridPlugin from '@fullcalendar/timegrid'; import listPlugin from '@fullcalendar/list'; import interactionPlugin from '@fullcalendar/interaction'; public calendarPlugins = [dayGridPlugin, timeGridPlugin, listPlugin , interactionPlugin];",
    "severity": "medium",
    "tags": [
      "html",
      "angular",
      "fullcalendar"
    ],
    "metadata": {
      "language": "html",
      "framework": "angular",
      "stackoverflow_question_id": "56261140",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5905,
      "stackoverflow_creation_date": "2019-05-22T16:17:22.447Z"
    },
    "idempotency_key": "stackoverflow-56261140",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Can we compare two complex collections field by field using IEqualityComparer interface using LINQ extension method SequenceEqual",
    "body": "I'm trying to use IEqualityComparer to compare 2 fields from 2 collections field by field. IEqualityComparer is comparing only 1 field \"name\". I want to compare \"mark\" as well. In Java, we have comparator interface to compare more than one fields in Equals method. using System; using System.Linq; using System.Collections.Generic; public class Program { public static void Main() { IList<Student> studentList1 = new List<Student>() { new Student(){ name=\"aaaaa\", mark = 95, }, new Student(){ name=\"bbbb\", mark = 25, }, new Student(){ name=\"ccc\", mark = 80 } }; IList<Student> studentList2 = new List<Student>() { new Student(){ name=\"aaaaa\", mark = 95, }, new Student(){ name=\"bbbb\", mark = 5, }, new Student(){ name=\"ccc\", mark = 80 } }; bool isEqual = studentList1.SequenceEqual(studentList2, new StudentComparer()); Console.WriteLine(\"Names in 2 collections are {0}\", isEqual?\"equal\":\"not equal\"); } } public class Student { public string name { get; set; } public int mark { get; set; } } public class StudentComparer : IEqualityComparer<Student> { public bool Equals(Student x, Student y) { if (x.name == y.name) return true; return false; } public int GetHashCode(Student obj) { return obj.GetHashCode(); } } Actual Result: Names in 2 collections are equal Expected Result: Names in 2 collections are equal Marks in 2 collections are not equal",
    "code": "using System;\nusing System.Linq;\nusing System.Collections.Generic;\n\n    public class Program\n    {\n        public static void Main()\n        {\n            IList&lt;Student&gt; studentList1 = new List&lt;Student&gt;()\n            {\n                new Student(){ name=\"aaaaa\", mark = 95, },\n                new Student(){ name=\"bbbb\", mark = 25, },\n                new Student(){ name=\"ccc\",  mark = 80 }\n            };\n\n            IList&lt;Student&gt; studentList2 = new List&lt;Student&gt;()\n            {\n                new Student(){ name=\"aaaaa\", mark = 95, },\n                new Student(){ name=\"bbbb\", mark = 5, },\n                new Student(){ name=\"ccc\",  mark = 80 }\n            };\n\n            bool isEqual = studentList1.SequenceEqual(studentList2, new StudentComparer());\n            Console.WriteLine(\"Names in 2 collections are {0}\", isEqual?\"equal\":\"not equal\");   \n        }\n    }\n\n    public class Student\n    {\n        public string name { get; set; }\n        public int mark { get; set; }\n    }\n\n    public class StudentComparer : IEqualityComparer&lt;Student&gt;\n    {\n        public bool Equals(Student x, Student y)\n        {\n            if (x.name == y.name)\n                return true;\n            return false;\n        }\n\n        public int GetHashCode(Student obj)\n        {\n            return obj.GetHashCode();\n        }\n    }\n\n\nIEqualityComparer\n\nIEqualityComparer\n\ncomparator\n\nEquals\n\n# Solution Code:\nObject.GetHashCode()\n\nSequenceEqual(…)\n\ncomparer.GetHashCode(…)\n\nStudentComparer.Equals(…)\n\nStudentComparer.GetHashCode(Student obj)\n\nreturn obj.name.GetHashCode()",
    "resolution": "Your issue here is that Object.GetHashCode() is necessarily unique between objects. This means that when SequenceEqual(…) calls comparer.GetHashCode(…), it will get different values for different instances of objects, despite the fact that you have declared them equal in StudentComparer.Equals(…). What all of this means is that, you should return hash codes which are unique in only the situations where instances of Student are unique according to the IEqualityComparer. For example, you could change your implementation of StudentComparer.GetHashCode(Student obj) to: return obj.name.GetHashCode()",
    "severity": "low",
    "tags": [
      "c#",
      "linq",
      "iequalitycomparer"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "56268957",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 757,
      "stackoverflow_creation_date": "2019-05-23T06:06:37.223Z"
    },
    "idempotency_key": "stackoverflow-56268957",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why does performance drop when a function is moved to another module?",
    "body": "I am observing that the same fn gives different performance, depending on whether it's placed in the same module where it's used or in a module next to it. Any ideas what could be causing it? Here's the function: https://github.com/oshyshko/polymodperf/blob/master/src/Main.hs#L41-L55 test :: MArray a t m => (t -> t) -> a Int t -> m () test f a = mapM_ (\\ xy -> do v <- get a xy set a xy (f v)) [ (x,y) | y <- [0..1000 - 1], x <- [0..1000 - 1], n <- [0..10]] where get :: MArray a e m => a Int e -> (Int, Int) -> m e get a (x,y) = readArray a (x + y * 1000) set :: MArray a e m => a Int e -> (Int, Int) -> e -> m () set a (x,y) = writeArray a (x + y * 1000) In my test pass I use Data.Array.IO.newArray to create an array, then pass it to test. Here's how to observe the difference in performance (second value, ms): $ ./scripts/build-exec.sh ... Main.test (11000000,2010) (11000000,239) (11000000,240) (11000000,242) (11000000,237) SomeModule.test (11000000,6376) (11000000,4851) (11000000,5455) (11000000,5096) (11000000,5206) Main.test: both newArray and test both live in Main => okay performance (the first 2010ms run is probably bad due to warmup, but the rest look good) SomeModule.test: newArray lives in Main, but test is imported from SomeModule.test => much worse performance The code of test is identical in both modules: https://github.com/oshyshko/polymodperf/blob/master/src/Main.hs#L41-L55 https://github.com/oshyshko/polymodperf/blob/master/src/SomeModule.hs#L9-L17 The used MArray typeclass and fns readArray, writeArray imported from the same module in both cases: import Data.Array.MArray (MArray, readArray, writeArray) Any ideas what could be causing the difference in performance?",
    "code": "test :: MArray a t m =&gt; (t -&gt; t) -&gt; a Int t -&gt; m ()\ntest f a =\n    mapM_ (\\ xy -&gt; do\n              v &lt;- get a xy\n              set a xy (f v))\n\n          [ (x,y) | y &lt;- [0..1000 - 1],\n                    x &lt;- [0..1000 - 1],\n                    n &lt;- [0..10]]\n  where\n    get :: MArray a e m =&gt; a Int e -&gt; (Int, Int) -&gt; m e\n    get a (x,y) = readArray a (x + y * 1000)\n\n    set :: MArray a e m =&gt; a Int e -&gt; (Int, Int) -&gt; e -&gt; m ()\n    set a (x,y) = writeArray a (x + y * 1000)\n\n\n$ ./scripts/build-exec.sh\n...\nMain.test\n(11000000,2010)\n(11000000,239)\n(11000000,240)\n(11000000,242)\n(11000000,237)\n\nSomeModule.test\n(11000000,6376)\n(11000000,4851)\n(11000000,5455)\n(11000000,5096)\n(11000000,5206)\n\n\nimport           Data.Array.MArray (MArray, readArray, writeArray)\n\n\nData.Array.IO.newArray\n\ntest\n\nMain.test\n\nnewArray\n\ntest\n\nMain\n\nSomeModule.test\n\nnewArray\n\nMain\n\ntest\n\nSomeModule.test\n\ntest\n\nMArray\n\nreadArray\n\nwriteArray\n\n# Solution Code:\ntest :: MArray a t m =&gt; (t -&gt; t) -&gt; a Int t -&gt; m ()\n{-# INLINE test #-}\ntest f a =\n    ...\n\n\nleftaroundabout\n\nINLINE",
    "resolution": "As leftaroundabout suggested in a comment, adding INLINE pragma solved the problem: test :: MArray a t m => (t -> t) -> a Int t -> m () {-# INLINE test #-} test f a = ... https://github.com/oshyshko/polymodperf/blob/master/src/SomeModule.hs#L10",
    "severity": "low",
    "tags": [
      "performance",
      "haskell",
      "typeclass"
    ],
    "metadata": {
      "stackoverflow_question_id": "56322038",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 103,
      "stackoverflow_creation_date": "2019-05-27T08:07:03.150Z"
    },
    "idempotency_key": "stackoverflow-56322038",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Azure CosmosDB COUNT Consuming a lot of RU/s (MongoDB)",
    "body": "I have a collection with ~8000 documents that I paginate in my application. However, my query to get the count of total documents (to calculate page count), is blowing my RU/s quota out of the water. The find query only takes about 3 RU/s, but takes a while to execute... Is there a solution to this? db.orders.count({\"user\": ObjectId(\"5ca51dc1234c0b21dcxxa12c\")}}) Operation consumed 442.62 RUs 5958",
    "code": "db.orders.count({\"user\": ObjectId(\"5ca51dc1234c0b21dcxxa12c\")}})\nOperation consumed 442.62 RUs\n5958\n",
    "severity": "medium",
    "tags": [
      "azure",
      "azure-cosmosdb"
    ],
    "metadata": {
      "stackoverflow_question_id": "56469345",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1516,
      "stackoverflow_creation_date": "2019-06-05T23:41:22.077Z"
    },
    "idempotency_key": "stackoverflow-56469345",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why do I get a \"ModuleNotFoundError\" in VS Code despite the fact that I already installed the module?",
    "body": "I'm trying to debug some Python code using Visual Studio Code. I'm getting the following error about a module that I am sure is already installed. Exception has occurred: ModuleNotFoundError No module named 'SimpleITK' File \"C:\\Users\\Mido\\Desktop\\ProstateX-project\\src\\01-preprocessing\\03_resample_nifti.py\", line 8, in <module> import SimpleITK as sitk I installed the module using sudo pip install SimpleITK I know that it was installed because I was getting a similar error when I ran the code through the command line, and it was fixed by doing the above. I don't understand why Visual Studio Code does not recognize that it's already installed.",
    "code": "sudo pip install\n\n/path/to/python -m pip install SimpleITK",
    "resolution": "sudo pip install is most likely installing globally into a Python interpreter that is different than the one that you have selected in VS Code. Please select the Python interpreter you want to use and then install explicitly using that interpreter (if you're not using a virtual environment then use something like /path/to/python -m pip install SimpleITK, although I strongly recommend using a virtual environment and to not install packages globally).",
    "severity": "high",
    "tags": [
      "python",
      "visual-studio-code",
      "modulenotfounderror"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "56658553",
      "stackoverflow_score": 97,
      "stackoverflow_view_count": 411787,
      "stackoverflow_creation_date": "2019-06-19T00:15:59.440Z"
    },
    "idempotency_key": "stackoverflow-56658553",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why absence of a virtual destructor doesn't cause a memory leak?",
    "body": "I am playing with the code struct A { char a[20000]; A() { a[0] = 'A'; } ~A() {} }; struct B : A { char a[20000]; B() { a[0] = 'B'; } ~B() {} }; int main() { A *pA = new A; A *pB = new B; delete pA; delete pB; return 0; } Some people wrote (why do we need a virtual destructor with dynamic memory?) that it should cause a memory leak but it doesn't. I used g++, then valgrind --leak-check=full --show-leak-kinds=all --track-origins=yes --verbose --log-file=valgrind-out.txt and get HEAP SUMMARY: in use at exit: 0 bytes in 0 blocks total heap usage: 3 allocs, 3 frees, 132,704 bytes allocated All heap blocks were freed -- no leaks are possible I know that some old compilers had problems when they try to free memory in similar situations but it looks like that the modern C++ can free memory seamlessly in this case. So I am curios how is it possible? Maybe delete uses information provided by OS for a given allocated memory block? EDIT. It is still unclear for me what exactly can cause the UB for delete *pB if we have empty destructors and constructors. An answer for a question (Missing Virtual Destructor Memory Effects) shows that there are no any UB.",
    "code": "struct A {\n    char a[20000];\n    A() { a[0] = 'A'; }\n    ~A() {}\n};\nstruct B : A {\n    char a[20000];\n    B() { a[0] = 'B'; }\n    ~B() {}\n};\nint main() {\n    A *pA = new A;\n    A *pB = new B;\n    delete pA;\n    delete pB;\n    return 0;\n}\n\n\nHEAP SUMMARY:\nin use at exit: 0 bytes in 0 blocks\ntotal heap usage: 3 allocs, 3 frees, 132,704 bytes allocated\nAll heap blocks were freed -- no leaks are possible\n\n\n# Solution Code:\ndelete pB\n\noperator new\n\noperator delete\n\nmalloc\n\nfree\n\nfree\n\nvoid*\n\nmalloc\n\nnew B\n\nmalloc\n\nB\n\nfree",
    "resolution": "I assume you're already aware that delete pB is undefined behaviour. But, why doesn't it leak memory on your machine? That has to do with how your implementation's dynamic memory management works. Here is one possibility: on some implementations, the default global operator new and operator delete work by calling the C library malloc and free functions. But free needs to be able to do its job when it's just passed a void* with no type or size information, so that implies that malloc must \"write down\" the size somewhere before it returns. In your program, the call to new B may cause malloc to write down the size of B, so that when free is later passed the pointer, it knows exactly how many bytes to free.",
    "severity": "low",
    "tags": [
      "c++",
      "memory-management",
      "memory-leaks",
      "virtual",
      "destructor"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "56792856",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 724,
      "stackoverflow_creation_date": "2019-06-27T14:05:30.020Z"
    },
    "idempotency_key": "stackoverflow-56792856",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Runtime warning CLSUserDefaults is implemented twice",
    "body": "I have seen a similar warning to that below for a pod-defined class when using #import syntax in cocoapod sources, but this is an internal apple class definition (CLSUserDefaults) which I have no control over and am not subclassing. I don't know if this is really causing a problem, but it shouldn't be happening. objc[22040]: Class CLSUserDefaults is implemented in both /System/Library/PrivateFrameworks/ClassKit.framework/Versions/A/ClassKit (0x7fff9932d2c0) and /Users/devusrid1/Library/Developer/Xcode/DerivedData/MyApp-cdokjmhxdrnhuodmhtibejxyqmqt/Build/Products/Debug/USR ID MyApp.app/Contents/MacOS/My App (0x10057f340). One of the two will be used. Which one is undefined. I'm using Xcode 11",
    "code": "objc[22040]: Class CLSUserDefaults is implemented in both \n/System/Library/PrivateFrameworks/ClassKit.framework/Versions/A/ClassKit (0x7fff9932d2c0) and \n\n/Users/devusrid1/Library/Developer/Xcode/DerivedData/MyApp-cdokjmhxdrnhuodmhtibejxyqmqt/Build/Products/Debug/USR ID MyApp.app/Contents/MacOS/My App (0x10057f340). \n\nOne of the two will be used. Which one is undefined.\n\n\n# Solution Code:\nCLSUserDefaults\n\nCLSUserDefaults\n\nCLSUserDefaults",
    "resolution": "Fabirc (or Crashlytics, depending on which versions used) defines a class named CLSUserDefaults. It seems that ClassKit in iOS 13 also defines a CLSUserDefaults class, which leads to a name collision. It should be fine as long as your app's code not using class CLSUserDefaults directly.",
    "severity": "medium",
    "tags": [
      "objective-c",
      "swift",
      "xcode",
      "macos"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "56975129",
      "stackoverflow_score": 26,
      "stackoverflow_view_count": 5806,
      "stackoverflow_creation_date": "2019-07-10T16:38:43.367Z"
    },
    "idempotency_key": "stackoverflow-56975129",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "what happen if fail to delete a shared memory segment",
    "body": "According to my observation, if I terminate my process without removing the shared memory segment, that shared memory segment will just stay there, in /dev/shm/xxxx, even no other processes are using it. Does it mean a memory leak ?(and after I restart my machine it will disappear) Why doesn't linux provide a mechanism to maintain a reference count on shared memory and then the system can delete it when no process is using it. Since process might crash, or I just failed to catch some exceptions....anyway there is a large chance that I fail to remove that shared memory segment when process terminated abnormally. My use case: I'm running several working processes who share the same memory segment for communication. And there is no master node to coordinate things. The strategy is the last exit node will close the shared memory segment. By the way I'm using boost::interprocess instead of sytem level shm_open but I think their behavior should be the same.",
    "code": "/dev/shm/xxxx\n\nboost::interprocess\n\nshm_open\n\n# Solution Code:\nshm_open",
    "resolution": "The Posix standard requires that (emphasis added): When a shared memory object is created, the state of the shared memory object, including all data associated with the shared memory object, persists until the shared memory object is unlinked and all other references are gone. It is unspecified whether the name and shared memory object state remain valid after a system reboot. In other words, shared memory objects are basically like temporary files; they are intended to be persistent, at least for the duration of a session. All the processes using a particular named shared memory object could crash, and you could still fire up a new process and recover the contents of the shared memory object. Since Linux attempts to be consistent with the Posix standard, it implements shared memory objects in the same way, which means that they hang around (until a reboot) unless cleaned up manually. A shared memory object which is no longer in use by any active process is not exactly a memory leak, since it will rapidly get swapped out if there is memory pressure (and swapping is enabled). However, it's a good idea to periodically clean up your shared memory objects yourself. There are a variety of strategies for doing so, depending on the precise nature of your application. A simple (but by no means universal) solution is to unlink the shared memory object as soon as you know that no new processes will need to open it. Unlinking the object effectively removes its name so that it is no longer possible to shm_open it, but the unlinked object persists as long as some process has an open reference to it. (The OS does keep a reference count; however, the name counts as a reference so as long as the name exists, the object does, too.) This same strategy is also often used by applications which create temporary files.",
    "severity": "medium",
    "tags": [
      "c",
      "linux",
      "multiprocessing",
      "shared-memory"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "57188832",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2632,
      "stackoverflow_creation_date": "2019-07-24T18:03:11.027Z"
    },
    "idempotency_key": "stackoverflow-57188832",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "TypeError: write() argument must be str, not byte , upgrade to python 3",
    "body": "I am trying to upgrade my code to python 3. Having some trouble with this line, output_file = open(working_dir + \"E\"+str(s)+\".txt\", \"w+\") output_file.write(','.join(headers) + \"\\n\") and get this error TypeError: sequence item 0: expected str instance, bytes found What i've tried, output_file.write(b\",\".join(headers) + b\"\\n\") TypeError: write() argument must be str, not bytes ive also tried using decode() on the join, also tried using r and w+b on open. How can i convert to str in python 3?",
    "code": "output_file.write(','.join(headers) + \"\\n\")\n\n\n  output_file.write(b\",\".join(headers) + b\"\\n\")\n\nTypeError: write() argument must be str, not bytes\n\n\noutput_file = open(working_dir + \"E\"+str(s)+\".txt\", \"w+\")\n\nTypeError: sequence item 0: expected str instance, bytes found\n\ndecode()\n\nr\n\nw+b\n\nstr\n\n# Solution Code:\nbytes\n\nstring\n\nbytes\n\nbytes.decode()\n\nbytes.decode('latin-1')",
    "resolution": "EDIT: to read on how to convert bytes to string, follow the link provided by Martijn Pieters in the 'duplicate' tag. my original suggestion output_file.write(','.join([str(v) for v in values]) + \"\\n\") would give for example values = [b'a', b'b', b'c'] print(','.join([str(v) for v in values])) # b'a',b'b',b'c' So despite this works, it might not be desired. If the bytes should be decoded instead, use bytes.decode() (ideally also with the appropriate encoding provided, for example bytes.decode('latin-1')) values = [b'a', b'b', b'c'] print(','.join([v.decode() for v in values])) # a,b,c",
    "severity": "medium",
    "tags": [
      "python",
      "python-3.x"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "57226135",
      "stackoverflow_score": 13,
      "stackoverflow_view_count": 4655,
      "stackoverflow_creation_date": "2019-07-26T19:39:35.820Z"
    },
    "idempotency_key": "stackoverflow-57226135",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Expose a global command to run a script from node package",
    "body": "I am building an npm package and I want it to run with its own command. Let's say my package's name is hello-world and it has a script named start in the package.json that runs: node index.js What I would like is from the command line to be able to write some custom command that will run this script. For instance, writing hello-world in the cmd will do npm run start. A good example is the nodemon package.",
    "code": "node index.js\n\n\nhello-world\n\ncmd\n\nnpm run start\n\n# Solution Code:\n{\n  &quot;name&quot;: &quot;hello-world&quot;,\n  &quot;version&quot;: &quot;1.0.0&quot;,\n  &quot;description&quot;: &quot;hello-world cli client&quot;,\n  &quot;bin&quot;: &quot;index.js&quot;\n}\n\n\nnpm pack (Optional.required only for local development)\n\n\nnpm install -g hello-world-1.0.0.tgz\n\n\nbin\n\nhello-world\n\nindex.js\n\n#!/usr/bin/env node",
    "resolution": "You will have to add bin field into your package.json to expose a global command which can be linked to any executable file(like js file). Sample package.json { \"name\": \"hello-world\", \"version\": \"1.0.0\", \"description\": \"hello-world cli client\", \"bin\": \"index.js\" } then your npm module should globally installed in your system as follows npm pack (Optional.required only for local development) npm install -g hello-world-1.0.0.tgz Now you should able to run your script by just running the command as hello-world Note: The executable script i.e index.js should starts with a line #!/usr/bin/env node",
    "severity": "medium",
    "tags": [
      "node.js",
      "npm",
      "command-line"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "57509855",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4786,
      "stackoverflow_creation_date": "2019-08-15T12:44:18.093Z"
    },
    "idempotency_key": "stackoverflow-57509855",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Deprecation warning for np.ptp",
    "body": "I'm using Python and when using the following code df['timestamp'] = df.groupby([\"id\"]).timestamp.transform(np.ptp) I'm getting the warning FutureWarning: Method .ptp is deprecated and will be removed in a future version. Use numpy.ptp instead.. df is a Pandas DataFrame and timestamp and id are columns. I think np.ptp is causing this warning. What do I have to change?",
    "code": "df['timestamp'] = df.groupby([\"id\"]).timestamp.transform(np.ptp)\n\n\nFutureWarning: Method .ptp is deprecated and will be removed in a future version. Use numpy.ptp instead.\n\ndf\n\ntimestamp\n\ncolumns\n\nnp.ptp",
    "severity": "medium",
    "tags": [
      "python",
      "pandas",
      "future-warning"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "57662975",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1584,
      "stackoverflow_creation_date": "2019-08-26T18:20:25.643Z"
    },
    "idempotency_key": "stackoverflow-57662975",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Need to pass SSIS variable to the Execute Process task to make Dynamic command line argument for Winscp",
    "body": "I have a folder 'DATA' at SFTP location from where I need to download the set of files to some common location and then copy the respective files to different folder location. File Names are: Test1.csv Test2.csv Test3.csv Test4.csv Test5.csv I want that files first gets downloaded to below location: G:\\USER_DATA\\USER_USER_SYNC\\Download Since these files are related to different schema and have to processed separately by each different ssis packages for further transformations and loading. For some reasons we have to first keep it at some common location and then move or copy afterwards. Here's my command line argument. /log=G:\\USER_DATA\\USER_USER_SYNC\\SFTP_LOG\\user_sync_winscp.log /command \"open sftp://username:password@stransfer.host.com/\" -hostkey=\"\"ssh-rsa 2048 9b:63:5e:c4:26:bb:35:0d:49:e6:74:5e:5a:48:c0:8a\"\"\" \"get /DATA/Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Download\\\" \"exit\" Using above, I am able to download a given file one file at a time. Since, I need to have first it at some common folder location. Hence I am planning to add another Execute process task to copy the files. /C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing1 /C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing2 and so on... I am looking for some way, using which we can download all the available files to some common folder location and then move or copy to different folder locations.",
    "code": "Test1.csv\nTest2.csv\nTest3.csv\nTest4.csv\nTest5.csv\n\n\nG:\\USER_DATA\\USER_USER_SYNC\\Download\n\n\n/log=G:\\USER_DATA\\USER_USER_SYNC\\SFTP_LOG\\user_sync_winscp.log /command \"open sftp://username:password@stransfer.host.com/\" -hostkey=\"\"ssh-rsa 2048 9b:63:5e:c4:26:bb:35:0d:49:e6:74:5e:5a:48:c0:8a\"\"\" \"get /DATA/Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Download\\\" \"exit\"\n\n\n/C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing1\n\n/C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing2\n\n\n'DATA'\n\n# Solution Code:\n/log=G:\\USER_DATA\\USER_USER_SYNC\\SFTP_LOG\\user_sync_winscp.log /command \"open sftp://bisftp:*UFVy2u6jnJ]#hU0Zer5AjvDU4#K3m@stransfer.host.com/ -hostkey=\"\"ssh-rsa 2048 9b:63:5e:c4:26:bb:35:0d:49:e6:74:5e:5a:48:c0:8a\"\"\" \"cd /DATA\" \"get -filemask=\"&gt;=today\" Test1.csv Test2.csv G:\\USER_DATA\\USER_USER_SYNC\\Download\\\" \"exit\"\n\n\nG:\\USER_DATA\\USER_USER_SYNC\\Testing1 \n\n\n/C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing1\n\n\nG:\\USER_DATA\\USER_USER_SYNC\\Testing2\n\n\n/C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test2.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing2\n\n\nTest1.csv\n\nTest2.csv\n\nG:\\USER_DATA\\USER_USER_SYNC\\Download\\\n\nTest1.csv\n\nTest2.csv\n\n-filemask=\"&gt;=today\".",
    "resolution": "I have changed the design and followed a new approach. Thanks to Martin for fixing the sftp related issues and continuous support. New SSIS package has below tasks: Step1. It will look for latest updated files on sftp server and download the given files Test1.csv and Test2.csv to location G:\\USER_DATA\\USER_USER_SYNC\\Download\\ Here's my command line arguments: /log=G:\\USER_DATA\\USER_USER_SYNC\\SFTP_LOG\\user_sync_winscp.log /command \"open sftp://bisftp:*UFVy2u6jnJ]#hU0Zer5AjvDU4#K3m@stransfer.host.com/ -hostkey=\"\"ssh-rsa 2048 9b:63:5e:c4:26:bb:35:0d:49:e6:74:5e:5a:48:c0:8a\"\"\" \"cd /DATA\" \"get -filemask=\">=today\" Test1.csv Test2.csv G:\\USER_DATA\\USER_USER_SYNC\\Download\\\" \"exit\" Step-2. Since my requirement was to further copy each file to different folder location, so that respective process can pick corresponding file and start transformation and loading it into sql server. This step will execute the Window cmd process and copy Test1.csv to new location as G:\\USER_DATA\\USER_USER_SYNC\\Testing1 command line arguments as: /C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test1.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing1 Like wise I have another Execute process task to copy Test2.csv to new location as G:\\USER_DATA\\USER_USER_SYNC\\Testing2 command line arguments as: /C copy /b G:\\USER_DATA\\USER_USER_SYNC\\Download\\Test2.csv G:\\USER_DATA\\USER_USER_SYNC\\Testing2 The given solution is working fine, However there are couple of things which still needs to be handle. Since I am downloading the latest file only using -filemask=\">=today\". Everything runs fine if execute process task is able to find the latest files on sftp server. If it's not there, than the next subsequent execute process task is failing with below error message. The returning The process exit code was \"1\" while the expected was \"0\" Here what I understand is that it's failing as it has nothing to copy or move. Is there any way by which we can capture the exit code returned from first execute process task and store it into some variable, so that we can use expression to decide that whether to start next task or not. Second, as you can see that I am using two execute process task to copy files from one location to another. Can we do anything to combine both these two commands into one execute process task? Any suggestion most welcome and also i think that this issue needs to be addressed as a separate question.",
    "severity": "medium",
    "tags": [
      "ssis",
      "sftp",
      "winscp"
    ],
    "metadata": {
      "stackoverflow_question_id": "57675758",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1570,
      "stackoverflow_creation_date": "2019-08-27T13:28:25.830Z"
    },
    "idempotency_key": "stackoverflow-57675758",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to model a generic type",
    "body": "I am using Astah to create class diagrams (for a TypeScript application). I am trying to add a function keys that returns an IterableIterator of type T. My problem is that every time I hit enter keys():IterableIterator<T> is changed to keys():IterableIterator<T, ?>. Am I trying to add it incorrectly (first time modelling generics or is this a problem/setting in Astah (the design tool I am using)?",
    "code": "keys():IterableIterator&lt;T&gt;\n\nkeys():IterableIterator&lt;T, ?&gt;",
    "severity": "low",
    "tags": [
      "oop",
      "software-design",
      "class-diagram",
      "astah"
    ],
    "metadata": {
      "stackoverflow_question_id": "57712175",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 325,
      "stackoverflow_creation_date": "2019-08-29T14:17:54.650Z"
    },
    "idempotency_key": "stackoverflow-57712175",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "parse xml to pandas data frame in python",
    "body": "I am trying to read the XML file and convert it to pandas. However it returns empty data This is the sample of xml structure: <Instance ID=\"1\"> <MetaInfo StudentID =\"DTSU040\" TaskID=\"LP03_PR09.bLK.sh\" DataSource=\"DeepTutorSummer2014\"/> <ProblemDescription>A car windshield collides with a mosquito, squashing it.</ProblemDescription> <Question>How does this work tion?</Question> <Answer>tthis is my best </Answer> <Annotation Label=\"correct(0)|correct_but_incomplete(1)|contradictory(0)|incorrect(0)\"> <AdditionalAnnotation ContextRequired=\"0\" ExtraInfoInAnswer=\"0\"/> <Comments Watch=\"1\"> The student forgot to tell the opposite force. Opposite means opposite direction, which is important here. However, one can argue that the opposite is implied. See the reference answers.</Comments> </Annotation> <ReferenceAnswers> 1: Since the windshield exerts a force on the mosquito, which we can call action, the mosquito exerts an equal and opposite force on the windshield, called the reaction. </ReferenceAnswers> </Instance> I have tried this code, however it's not working on my side. It returns empty dataframe. import pandas as pd import xml.etree.ElementTree as et xtree = et.parse(\"grade_data.xml\") xroot = xtree.getroot() df_cols = [\"ID\", \"TaskID\", \"DataSource\", \"ProblemDescription\", 'Question', 'Answer', 'ContextRequired', 'ExtraInfoInAnswer', 'Comments', 'Watch', 'ReferenceAnswers'] rows = [] for node in xroot: s_name = node.attrib.get(\"ID\") s_student = node.find(\"StudentID\") s_task = node.find(\"TaskID\") s_source = node.find(\"DataSource\") s_desc = node.find(\"ProblemDescription\") s_question = node.find(\"Question\") s_ans = node.find(\"Answer\") s_label = node.find(\"Label\") s_contextrequired = node.find(\"ContextRequired\") s_extraInfoinAnswer = node.find(\"ExtraInfoInAnswer\") s_comments = node.find(\"Comments\") s_watch = node.find(\"Watch\") s_referenceAnswers = node.find(\"ReferenceAnswers\") rows.append({\"ID\": s_name,\"StudentID\":s_student, \"TaskID\": s_task, \"DataSource\": s_source, \"ProblemDescription\": s_desc , \"Question\": s_question , \"Answer\": s_ans ,\"Label\": s_label, \"s_contextrequired\": s_contextrequired , \"ExtraInfoInAnswer\": s_extraInfoinAnswer , \"Comments\": s_comments , \"Watch\": s_watch, \"ReferenceAnswers\": s_referenceAnswers, }) out_df = pd.DataFrame(rows, columns = df_cols)",
    "code": "&lt;Instance ID=\"1\"&gt;\n&lt;MetaInfo StudentID =\"DTSU040\" TaskID=\"LP03_PR09.bLK.sh\"  DataSource=\"DeepTutorSummer2014\"/&gt;\n&lt;ProblemDescription&gt;A car windshield collides with a mosquito, squashing it.&lt;/ProblemDescription&gt;\n&lt;Question&gt;How does this work tion?&lt;/Question&gt;\n&lt;Answer&gt;tthis is my best  &lt;/Answer&gt;\n&lt;Annotation Label=\"correct(0)|correct_but_incomplete(1)|contradictory(0)|incorrect(0)\"&gt;\n&lt;AdditionalAnnotation ContextRequired=\"0\" ExtraInfoInAnswer=\"0\"/&gt;\n&lt;Comments Watch=\"1\"&gt; The student forgot to tell the opposite force. Opposite means opposite direction, which is important here. However, one can argue that the opposite is implied. See the reference answers.&lt;/Comments&gt;\n&lt;/Annotation&gt;\n&lt;ReferenceAnswers&gt;\n1:  Since the windshield exerts a force on the mosquito, which we can call action, the mosquito exerts an equal and opposite force on the windshield, called the reaction.\n\n&lt;/ReferenceAnswers&gt;\n&lt;/Instance&gt;\n\n\nimport pandas as pd \nimport xml.etree.ElementTree as et \n\nxtree = et.parse(\"grade_data.xml\")\nxroot = xtree.getroot() \n\ndf_cols = [\"ID\", \"TaskID\", \"DataSource\", \"ProblemDescription\", 'Question', 'Answer',\n           'ContextRequired', 'ExtraInfoInAnswer', 'Comments', 'Watch', 'ReferenceAnswers']\nrows = []\n\n\nfor node in xroot: \n    s_name = node.attrib.get(\"ID\")\n    s_student = node.find(\"StudentID\") \n    s_task = node.find(\"TaskID\") \n    s_source = node.find(\"DataSource\") \n    s_desc = node.find(\"ProblemDescription\") \n    s_question = node.find(\"Question\") \n    s_ans = node.find(\"Answer\") \n    s_label = node.find(\"Label\") \n    s_contextrequired = node.find(\"ContextRequired\") \n    s_extraInfoinAnswer = node.find(\"ExtraInfoInAnswer\")\n    s_comments = node.find(\"Comments\") \n    s_watch = node.find(\"Watch\") \n    s_referenceAnswers = node.find(\"ReferenceAnswers\") \n\n\n    rows.append({\"ID\": s_name,\"StudentID\":s_student, \"TaskID\": s_task, \n                 \"DataSource\": s_source, \"ProblemDescription\": s_desc , \n                 \"Question\": s_question , \"Answer\": s_ans ,\"Label\": s_label,\n                 \"s_contextrequired\": s_contextrequired , \"ExtraInfoInAnswer\": s_extraInfoinAnswer ,\n                 \"Comments\": s_comments ,  \"Watch\": s_watch, \"ReferenceAnswers\": s_referenceAnswers, \n\n                })\n\nout_df = pd.DataFrame(rows, columns = df_cols)\n\n\n# Solution Code:\npip install -U xmltodict\n\n\nxml_string\n\nxml &gt;&gt; dict &gt;&gt; dataframe\n\nxmltodict\n\nread_recursively()",
    "resolution": "The problem in your solution was that the \"element data extraction\" was not done properly. The xml you mentioned in the question is nested in several layers. And that is why we need to recursively read and extract the data. The following solution should give you what you need in this case. Although I would encourage you to look at this article and the python documentation for more clarity. Method: 1 import numpy as np import pandas as pd #import os import xml.etree.ElementTree as ET def xml2df(xml_source, df_cols, source_is_file = False, show_progress=True): \"\"\"Parse the input XML source and store the result in a pandas DataFrame with the given columns. For xml_source = xml_file, Set: source_is_file = True For xml_source = xml_string, Set: source_is_file = False <element attribute_key1=attribute_value1, attribute_key2=attribute_value2> <child1>Child 1 Text</child1> <child2>Child 2 Text</child2> <child3>Child 3 Text</child3> </element> Note that for an xml structure as shown above, the attribute information of element tag can be accessed by list(element). Any text associated with <element> tag can be accessed as element.text and the name of the tag itself can be accessed with element.tag. \"\"\" if source_is_file: xtree = ET.parse(xml_source) # xml_source = xml_file xroot = xtree.getroot() else: xroot = ET.fromstring(xml_source) # xml_source = xml_string consolidator_dict = dict() default_instance_dict = {label: None for label in df_cols} def get_children_info(children, instance_dict): # We avoid using element.getchildren() as it is deprecated. # Instead use list(element) to get a list of attributes. for child in children: #print(child) #print(child.tag) #print(child.items()) #print(child.getchildren()) # deprecated method #print(list(child)) if len(list(child))>0: instance_dict = get_children_info(list(child), instance_dict) if len(list(child.keys()))>0: items = child.items() instance_dict.update({key: value for (key, value) in items}) #print(child.keys()) instance_dict.update({child.tag: child.text}) return instance_dict # Loop over all instances for instance in list(xroot): instance_dict = default_instance_dict.copy() ikey, ivalue = instance.items()[0] # The first attribute is \"ID\" instance_dict.update({ikey: ivalue}) if show_progress: print('{}: {}={}'.format(instance.tag, ikey, ivalue)) # Loop inside every instance instance_dict = get_children_info(list(instance), instance_dict) #consolidator_dict.update({ivalue: instance_dict.copy()}) consolidator_dict[ivalue] = instance_dict.copy() df = pd.DataFrame(consolidator_dict).T df = df[df_cols] return df Run the following to generate the desired output. xml_source = r'grade_data.xml' df_cols = [\"ID\", \"TaskID\", \"DataSource\", \"ProblemDescription\", \"Question\", \"Answer\", \"ContextRequired\", \"ExtraInfoInAnswer\", \"Comments\", \"Watch\", 'ReferenceAnswers'] df = xml2df(xml_source, df_cols, source_is_file = True) df Method: 2 Given you have the xml_string, you could convert xml >> dict >> dataframe. run the following to get the desired output. Note: You will need to install xmltodict to use Method-2. This method is inspired by the solution suggested by @martin-blech at How to convert XML to JSON in Python? [duplicate] . Kudos to @martin-blech for making it. pip install -U xmltodict Solution def read_recursively(x, instance_dict): #print(x) txt = '' for key in x.keys(): k = key.replace(\"@\",\"\") if k in df_cols: if isinstance(x.get(key), dict): instance_dict, txt = read_recursively(x.get(key), instance_dict) #else: instance_dict.update({k: x.get(key)}) #print('{}: {}'.format(k, x.get(key))) else: #print('else: {}: {}'.format(k, x.get(key))) # dig deeper if value is another dict if isinstance(x.get(key), dict): instance_dict, txt = read_recursively(x.get(key), instance_dict) # add simple text associated with element if k=='#text': txt = x.get(key) # update text to corresponding parent element if (k!='#text') and (txt!=''): instance_dict.update({k: txt}) return (instance_dict, txt) You will need the function read_recursively() given above. Now run the following. import xmltodict, json o = xmltodict.parse(xml_string) # INPUT: XML_STRING #print(json.dumps(o)) # uncomment to see xml to json converted string consolidated_dict = dict() oi = o['Instances']['Instance'] for x in oi: instance_dict = dict() instance_dict, _ = read_recursively(x, instance_dict) consolidated_dict.update({x.get(\"@ID\"): instance_dict.copy()}) df = pd.DataFrame(consolidated_dict).T df = df[df_cols] df",
    "severity": "medium",
    "tags": [
      "python",
      "xml",
      "python-3.x",
      "pandas",
      "elementtree"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "57787229",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 7978,
      "stackoverflow_creation_date": "2019-09-04T11:15:05.947Z"
    },
    "idempotency_key": "stackoverflow-57787229",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Azure databricks DBFS mount not visible",
    "body": "I\"m trying to mount azure storage blob into azure Databricks using python notebook using below code. mount_name = '/mnt/testMount' if not any(mount.mountPoint == mount_name for mount in dbutils.fs.mounts()): dbutils.fs.mount( source = \"wasbs://%s@%s.blob.core.windows.net\" % (container, accountName), mount_point = mount_name, extra_configs = {\"fs.azure.account.key.%s.blob.core.windows.net\" % (accountName ) : accountKey }) Mount was successful and I was able to see using print(dbutils.fs.mounts()) also using DBFS CLI in my linux VM. dbfs ls dbfs:/mnt/testMount But not visible in the UI nor accessible from python notebook FileNotFoundError: [Errno 2] No such file or directory: '/mnt/testMount/'. Can someone please let me know if you faced this issue and what is the fix? Thanks",
    "code": "mount_name = '/mnt/testMount'\n\nif not any(mount.mountPoint == mount_name for mount in dbutils.fs.mounts()):              \n    dbutils.fs.mount(\n        source = \"wasbs://%s@%s.blob.core.windows.net\" % (container, accountName),\n        mount_point = mount_name,\n        extra_configs = {\"fs.azure.account.key.%s.blob.core.windows.net\" % (accountName ) : accountKey })       \n\n\nprint(dbutils.fs.mounts())\n\ndbfs ls dbfs:/mnt/testMount\n\nFileNotFoundError: [Errno 2] No such file or directory: '/mnt/testMount/'",
    "severity": "medium",
    "tags": [
      "azure",
      "azure-blob-storage",
      "databricks",
      "azure-databricks"
    ],
    "metadata": {
      "stackoverflow_question_id": "57849430",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3615,
      "stackoverflow_creation_date": "2019-09-09T07:21:36.723Z"
    },
    "idempotency_key": "stackoverflow-57849430",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Express middleware to log errors in Next.js custom server",
    "body": "I don't know how to log errors to Sentry correctly using an express middleware, using: Next.js v9.0.5 Express v4.17.1 Sentry/node v\"5.6.2 I tried different middlewares versions with different results. However, not one is the expected behavior. Try 1: function logError(err, req, res, next) { Sentry.captureMessage(`${err.stack} - ${err.message}`) Sentry.captureException(err) console.log('Error reported to sentry.') next(err) } This is not calling the sentry methods and neither is doing the console.log('Error reported to sentry.'), is like directly is going to the next(err) without executing any code of this middleware. Try 2: function logError(err, req, res) { Sentry.captureMessage(`${err.stack} - ${err.message}`) Sentry.captureException(err) console.log('Error reported to sentry.') // Just removing this line from Try 1 // next(err) } Now is executing my code when there is an error! Is logging to Sentry and doing the console.log('Error reported to sentry.')! However, when I enter to the page that is failing, the request looks like pending forever without any response. Not what I want... Try 3: function logError(err, req, res) { Sentry.captureMessage(`${err.stack} - ${err.message}`) Sentry.captureException(err) console.log('Error reported to sentry.') // Send an error instead of call next(err) res.statusCode = 500 res.send('Internal server error') } Same result than Try 1 + bonus: TypeError: res.send is not a function. What? Try 3: function logError(err, req, res) { Sentry.captureMessage(`${err.stack} - ${err.message}`) Sentry.captureException(err) console.log('Error reported to sentry.') // Throw the error instead of call next(err) throw new Error(err) } This is the closest one that I was expecting. Is calling my middleware code reporting the error to Sentry + the request is not pending forever. Nevertheless, the error stack is weird: Error: [object Object] at logError (/server/logger.js:43:9) My questions here are: How can I do this correctly? What is this happening? How does the error middleware work under express / next.js?",
    "code": "function logError(err, req, res, next) {\n  Sentry.captureMessage(`${err.stack} - ${err.message}`)\n  Sentry.captureException(err)\n  console.log('Error reported to sentry.')\n\n  next(err)\n}\n\n\nfunction logError(err, req, res) {\n  Sentry.captureMessage(`${err.stack} - ${err.message}`)\n  Sentry.captureException(err)\n  console.log('Error reported to sentry.')\n\n  // Just removing this line from Try 1\n  // next(err) \n}\n\n\nfunction logError(err, req, res) {\n  Sentry.captureMessage(`${err.stack} - ${err.message}`)\n  Sentry.captureException(err)\n  console.log('Error reported to sentry.')\n\n  // Send an error instead of call next(err)\n  res.statusCode = 500\n  res.send('Internal server error')\n}\n\n\nfunction logError(err, req, res) {\n  Sentry.captureMessage(`${err.stack} - ${err.message}`)\n  Sentry.captureException(err)\n  console.log('Error reported to sentry.')\n\n  // Throw the error instead of call next(err)\n  throw new Error(err)\n}\n\n\nconsole.log('Error reported to sentry.')\n\nnext(err)\n\nconsole.log('Error reported to sentry.')\n\nTypeError: res.send is not a function",
    "severity": "medium",
    "tags": [
      "javascript",
      "node.js",
      "express",
      "next.js",
      "sentry"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "57854805",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1716,
      "stackoverflow_creation_date": "2019-09-09T13:14:44.890Z"
    },
    "idempotency_key": "stackoverflow-57854805",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Change variables in place in void function without arguments",
    "body": "TLDR: I want to find a way to globally declare dynamically allocatable arrays which cannot be declared as just constant arrays due to the need to change the length of the arrays, depending on the number of equations, but most likely not the array data. These arrays need to be accessible by various functions contained in source files making up the program I'm writing. I'm currently porting a program from Fortran to C and I want to declare some global variables for the entire program, which consists of several .c and .h files, so that the said variables could be used not only in the file where they are declared, but in other files as well. [Actually they are \"semi-variables\" because what will change is the length of the arrays, which depends on the number of equations, the real aim of this question is to declare arrays that are to contain constant data, but that data can be contained in more array slots, so the arrays must be dynamically allocatable.] The problem is that these variables are dynamically allocatable arrays and these arrays have to be filled with some numbers. This is how I declare the variables: in the file problemsize.h: extern double *GammaL; in the file problemsize.c: double *GammaL; Then I try to create a function to fill the arrays by changing their values in place. The function would be called from some other .c files which #include problemsize.h. Now, I know that one could create a function like this: void fill_array(double **GammaL, double **GammaR, double **GammaT, ...) { GammaL = malloc(arrayLength*sizeof(double)); for (int i=0; i<arrayLength; i++) { (*GammaL)[i] = 0.1; } GammaR = malloc(arrayLength*sizeof(double)); for (int i=0; i<arrayLength; i++) { (*GammaR)[i] = 0.2; } [...] // And so on } and then invoke this function from external .c files. But the thing is that I have many such arrays that would have to be passed as arguments to this function. I'm wondering if it is possible to have a function like the above to do the same job (change the arrays in place) without the need to invoke it with these arrays being the arguments? Or is there some other solution that would solve this problem? Edit: I had the impression that in C one could only change pointers in place by passing them as parameters to a function. Now, after some clarifications, it is clear that global variables can be changed by void functions without passing any parameters, which definitely makes sense.",
    "code": "extern double *GammaL;\n\n\ndouble *GammaL;\n\n\nvoid fill_array(double **GammaL, double **GammaR, double **GammaT, ...) {\n    GammaL = malloc(arrayLength*sizeof(double));\n    for (int i=0; i&lt;arrayLength; i++) {\n        (*GammaL)[i] = 0.1;\n    }\n    GammaR = malloc(arrayLength*sizeof(double));\n    for (int i=0; i&lt;arrayLength; i++) {\n        (*GammaR)[i] = 0.2;\n    }\n    [...] // And so on\n}\n\n\n.c\n\n.h\n\nproblemsize.h\n\nproblemsize.c\n\n.c\n\n#include problemsize.h\n\n.c\n\n# Solution Code:\n#define ARR_SIZE 4\ndouble GammaL[ARR_SIZE];\ndouble GammaR[ARR_SIZE];\ndouble GammaT[ARR_SIZE];\n\nvoid initialize_arrays(void) {\n    size_t i;\n\n    for (i = 0; i &lt; ARR_SIZE; i++) {\n        GammaL[i] = ...;\n        GammaR[i] = ...;\n        GammaT[i] = ...;\n    }\n}\n\n\nsize_t arr_size = 0;\ndouble *GammaL;\ndouble *GammaR;\ndouble *GammaT;\n\nvoid initialize_arrays(void) {\n    size_t i;\n\n    arr_size = /*... calculate somehow ... */;\n    GammaL = malloc(arr_size * sizeof(double));\n    GammaR = malloc(arr_size * sizeof(double));\n    GammaT = malloc(arr_size * sizeof(double));\n\n    for (i = 0; i &lt; arr_size; i++) {\n        GammaL[i] = ...;\n        GammaR[i] = ...;\n        GammaT[i] = ...;\n    }\n}\n\n\nproblemsize.c",
    "resolution": "If your arrays are global, then there is no need to pass them as parameters. Any function can use them without any problem, and modify their values. In short, this is what you can do in problemsize.c: #define ARR_SIZE 4 double GammaL[ARR_SIZE]; double GammaR[ARR_SIZE]; double GammaT[ARR_SIZE]; void initialize_arrays(void) { size_t i; for (i = 0; i < ARR_SIZE; i++) { GammaL[i] = ...; GammaR[i] = ...; GammaT[i] = ...; } } Or, if your arrays don't have a fixed size: size_t arr_size = 0; double *GammaL; double *GammaR; double *GammaT; void initialize_arrays(void) { size_t i; arr_size = /*... calculate somehow ... */; GammaL = malloc(arr_size * sizeof(double)); GammaR = malloc(arr_size * sizeof(double)); GammaT = malloc(arr_size * sizeof(double)); for (i = 0; i < arr_size; i++) { GammaL[i] = ...; GammaR[i] = ...; GammaT[i] = ...; } }",
    "severity": "medium",
    "tags": [
      "c",
      "function",
      "pointers",
      "variables",
      "pass-by-reference"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "57942658",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1615,
      "stackoverflow_creation_date": "2019-09-15T09:07:33.540Z"
    },
    "idempotency_key": "stackoverflow-57942658",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sending http requests with Openresty to Google Analytics",
    "body": "I have been using openresty/nginx+lua to send server-side hits to Google Analytics Measurement Protocol. However, the function I'm using (ngx.location.capture) is incompatible with HTTP/2 and a \"won't fix\" issue. Apparently, the way to go is to use the 'resty.http' module. I must be doing something wrong migrating, because it no longer sends the hits along. Here's the code that works: location /example { resolver 8.8.8.8 ipv6=off; access_by_lua_block { local request = { v = 1, t = \"pageview\", tid = \"UA-XXXXXXX-Y\", cid = ngx.md5(ngx.var.remote_addr .. ngx.var.http_user_agent), uip = ngx.var.remote_addr, dp = ngx.var.request_uri, dr = ngx.var.http_referer, ua = ngx.var.http_user_agent, ul = ngx.var.http_accept_language } local res = ngx.location.capture( \"/gamp\", { method = ngx.HTTP_POST, body = ngx.encode_args(request) }) } } location = /gamp { internal; expires epoch; access_log off; proxy_pass_request_headers off; proxy_pass_request_body on; proxy_pass https://google-analytics.com/collect; } Here's how I tried and failed: location /example { access_by_lua_block { local request = { v = 1, t = \"pageview\", tid = \"UA-XXXXXXX-Y\", cid = ngx.md5(ngx.var.remote_addr .. ngx.var.http_user_agent), uip = ngx.var.remote_addr, dp = ngx.var.request_uri, dr = ngx.var.http_referer, ua = ngx.var.http_user_agent, ul = ngx.var.http_accept_language } local http = require \"resty.http\" local httpc = http.new() local res, err = httpc:request_uri(\"https://google-analytics.com/collect\", { method = \"POST\", body = ngx.encode_args(request) }) } }",
    "code": "location /example {\n    resolver 8.8.8.8 ipv6=off;\n    access_by_lua_block  {\n        local request = {\n        v = 1,\n        t = \"pageview\",\n        tid = \"UA-XXXXXXX-Y\",\n        cid = ngx.md5(ngx.var.remote_addr .. ngx.var.http_user_agent),\n        uip = ngx.var.remote_addr,\n        dp = ngx.var.request_uri,\n        dr = ngx.var.http_referer,\n        ua = ngx.var.http_user_agent,\n        ul = ngx.var.http_accept_language\n        }\n\n        local res = ngx.location.capture(  \"/gamp\",  {\n        method = ngx.HTTP_POST,\n        body = ngx.encode_args(request)\n        })\n    }\n}\n\n    location = /gamp {\n    internal;\n    expires epoch;\n    access_log off;\n    proxy_pass_request_headers off;\n    proxy_pass_request_body on;\n    proxy_pass https://google-analytics.com/collect;\n    }\n\n\nlocation /example {\n        access_by_lua_block  {\n                    local request = {\n                    v = 1,\n                    t = \"pageview\",\n                    tid = \"UA-XXXXXXX-Y\",\n                    cid = ngx.md5(ngx.var.remote_addr .. ngx.var.http_user_agent),\n                    uip = ngx.var.remote_addr,\n                    dp = ngx.var.request_uri,\n                    dr = ngx.var.http_referer,\n                    ua = ngx.var.http_user_agent,\n                    ul = ngx.var.http_accept_language\n                    }\n\n            local http = require \"resty.http\"\n            local httpc = http.new()\n            local res, err = httpc:request_uri(\"https://google-analytics.com/collect\", {\n            method = \"POST\",\n            body = ngx.encode_args(request)\n            })\n    }\n}\n\n\nngx.location.capture\n\n# Solution Code:\nserver {\n  ...\n  resolver 8.8.8.8 ipv6=off;\n  lua_ssl_trusted_certificate /etc/ssl/certs/ca-certificates.crt;\n  # optional\n  # lua_ssl_verify_depth 5;\n  ...\n}\n\n\nresolver\n\nlua_ssl_trusted_certificate",
    "resolution": "You need to add two more directives: resolver and lua_ssl_trusted_certificate. For example, server { ... resolver 8.8.8.8 ipv6=off; lua_ssl_trusted_certificate /etc/ssl/certs/ca-certificates.crt; # optional # lua_ssl_verify_depth 5; ... }",
    "severity": "medium",
    "tags": [
      "nginx",
      "lua",
      "http2",
      "openresty",
      "measurement-protocol"
    ],
    "metadata": {
      "stackoverflow_question_id": "58126655",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1206,
      "stackoverflow_creation_date": "2019-09-27T01:37:37.933Z"
    },
    "idempotency_key": "stackoverflow-58126655",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "iOS: Upload encounters \"Invalid URL server\" with DATA_URL DestinationType in Ionic",
    "body": "I've been working on a project that uploads text data with captured image to a server. But then I'm encountering this error in iOS but it works well with Android. I already tried using NATIVE_URI and FILE_URI but no good. Here is the error it produces in Xcode terminal: Here is the code: const options: FileUploadOptions = { fileKey: 'webcam', fileName: 'dtr.jpg', chunkedMode: false, headers: {} }; const cameraOptions: CameraOptions = { quality: 50, destinationType: this.camera.DestinationType.DATA_URL, encodingType: this.camera.EncodingType.JPEG, mediaType: this.camera.MediaType.PICTURE, allowEdit: false }; this.camera.getPicture(cameraOptions).then((imageData) => { this.yourImage = 'data:image/jpeg;base64,' + imageData; const endPoint = ENPOINT_URL; fileTransfer.upload(this.yourImage, endPoint, options) .then( (data) => { this.dismiss(); $('.on-success').show(); }, (err) => { this.presentAlertConfirm(JSON.stringify(err)); }); }, (err) => { this.dismiss(); this.presentAlertConfirm(JSON.stringify(err)); }); ... Version information MacOS Mojave 10.14.6 Xcode 11 Ionic CLI 5.4.2 Cordova 9.0.0 Node 6.9.0 Testing information iPhone X iOS 13",
    "code": "const options: FileUploadOptions = {\n                  fileKey: 'webcam',\n                  fileName: 'dtr.jpg',\n                  chunkedMode: false,\n                  headers: {}\n                };\n\nconst cameraOptions: CameraOptions = {\n                  quality: 50,\n                  destinationType: this.camera.DestinationType.DATA_URL,\n                  encodingType: this.camera.EncodingType.JPEG,\n                  mediaType: this.camera.MediaType.PICTURE,\n                  allowEdit: false\n                };\n\nthis.camera.getPicture(cameraOptions).then((imageData) =&gt; {\n    this.yourImage = 'data:image/jpeg;base64,' + imageData;\n\n    const endPoint = ENPOINT_URL;\n    fileTransfer.upload(this.yourImage, endPoint, options)\n        .then(\n            (data) =&gt; {\n                this.dismiss();\n                $('.on-success').show();\n            },\n            (err) =&gt; {\n                this.presentAlertConfirm(JSON.stringify(err));\n            });\n        }, (err) =&gt; {\n            this.dismiss();\n            this.presentAlertConfirm(JSON.stringify(err));\n        });\n...\n\n\nNATIVE_URI\n\nFILE_URI",
    "severity": "low",
    "tags": [
      "javascript",
      "angular",
      "xcode",
      "ionic-framework",
      "ionic4"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "angular",
      "stackoverflow_question_id": "58228869",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 433,
      "stackoverflow_creation_date": "2019-10-04T01:44:49.373Z"
    },
    "idempotency_key": "stackoverflow-58228869",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "iOS 13 Dark Mode in React Native with Tab Bar and Navigation Bar",
    "body": "I am currently trying to have a set up with a bottom tab bar, and inside the tabs, each a navigation stack with navigation bar. I use the following code based on the react navigation sample app (just minor edits on the imports, as some things were moved). Unfortunately, only the tab bar is displayed in the dark mode color on iOS 13 simulator (dark grey), the navigation bar is white. How can I get it to display as well in the dark mode color? import React from 'react'; import { StyleSheet, View } from 'react-native'; import { createAppContainer, Themed, } from 'react-navigation'; import { createStackNavigator } from 'react-navigation-stack'; import { createBottomTabNavigator } from 'react-navigation-tabs'; import { AppearanceProvider, useColorScheme } from 'react-native-appearance'; function A() { return ( <View style={styles.container}> <Themed.Text>B</Themed.Text> </View> ); } A.navigationOptions = { title: 'Hello from A' }; function B() { return ( <View style={styles.container}> <Themed.Text>B</Themed.Text> </View> ); } B.navigationOptions = { title: 'Hello from B!!!!' }; let StackA = createStackNavigator({ A }); let StackB = createStackNavigator({ B }); let Tabs = createBottomTabNavigator({ StackA, StackB }); let Navigation = createAppContainer(Tabs); export default function App() { let theme = useColorScheme(); return ( <AppearanceProvider> <Navigation theme={theme} /> </AppearanceProvider> ); } const styles = StyleSheet.create({ container: { flex: 1, alignItems: 'center', justifyContent: 'center', }, });",
    "code": "import React from 'react';\nimport { StyleSheet, View } from 'react-native';\nimport {\n  createAppContainer,\n  Themed,\n} from 'react-navigation';\nimport { createStackNavigator } from 'react-navigation-stack';\nimport { createBottomTabNavigator } from 'react-navigation-tabs';\nimport { AppearanceProvider, useColorScheme } from 'react-native-appearance';\n\nfunction A() {\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Themed.Text&gt;B&lt;/Themed.Text&gt;\n    &lt;/View&gt;\n  );\n}\n\nA.navigationOptions = { title: 'Hello from A' };\n\nfunction B() {\n  return (\n    &lt;View style={styles.container}&gt;\n      &lt;Themed.Text&gt;B&lt;/Themed.Text&gt;\n    &lt;/View&gt;\n  );\n}\n\nB.navigationOptions = { title: 'Hello from B!!!!' };\n\nlet StackA = createStackNavigator({ A });\nlet StackB = createStackNavigator({ B });\nlet Tabs = createBottomTabNavigator({ StackA, StackB });\nlet Navigation = createAppContainer(Tabs);\n\nexport default function App() {\n  let theme = useColorScheme();\n\n  return (\n    &lt;AppearanceProvider&gt;\n      &lt;Navigation theme={theme} /&gt;\n    &lt;/AppearanceProvider&gt;\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\n\n\n# Solution Code:\ntheme\n\nnavigationOptions",
    "resolution": "https://reactnavigation.org/docs/en/themes.html#built-in-themes-inside-navigationoptions Use theme within navigationOptions. To integrate this with your code: // ... const stackDefaultNavigationOptions = ({ theme }) => { // theme will be either 'light' or 'dark', // choose however you want to retrieve the colors for that // using ternary here as just a simple example, // but you could instead have a theme object with the keys light and dark return { title: 'Home', headerTintColor: theme === 'light' ? 'black' : 'white', headerStyle: { backgroundColor: theme === 'light' ? 'white' : 'black' }, } } const StackA = createStack({ A }, { defaultNavigationOptions: stackDefaultNavigationOptions }) const StackB = createStack({ B }, { defaultNavigationOptions: stackDefaultNavigationOptions }) // ... export default function App() { let theme = useColorScheme(); return ( <AppearanceProvider> <Navigation theme={theme} /> </AppearanceProvider> ) } // ...",
    "severity": "medium",
    "tags": [
      "react-native",
      "tabs",
      "react-navigation",
      "navigationbar"
    ],
    "metadata": {
      "stackoverflow_question_id": "58289561",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3142,
      "stackoverflow_creation_date": "2019-10-08T15:30:59.350Z"
    },
    "idempotency_key": "stackoverflow-58289561",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it possible in C# to create a very simple value type for IBAN, BIC?",
    "body": "Is it possible in C# to create a very simple value type for IBAN, BIC (maybe with struct)? That automatically works for features like Json Serialization and EF Core saving? I would like to use the primitive type in data objects that are converted to Json and also in entities that are stored via EF Core public class AccountTransaction { public Iban RecipientIban { get; set; } public Bic RecipientBic { get; set; } } For instance for EF Core I dont wanna specify some value converter everytime I used those types. Or I dont wanna specify some custom JsonSerializer everytime those types are used in an object. They more or less should work like usual string. Also the goal would be to achieve some automatic validations on assignment. e.g: Iban ibanVariable = \"ILLEGAL IBAN\"; That such calls are leading to errors automatically. (Also on reading from database / deserializing Jsons, etc.) Is there some simple way I could achieve this? Is there some FromString() thingy or assignment operator at struct that I could overwrite (like operator-overloading)?",
    "code": "public class AccountTransaction\n{\n    public Iban RecipientIban { get; set; }\n    public Bic RecipientBic { get; set; }\n}\n\n\nIban ibanVariable = \"ILLEGAL IBAN\";\n\n\nstruct\n\nFromString()\n\nstruct\n\n# Solution Code:\npublic static\n\nimplicit\n\nexplicit\n\n{ ... return foo; }\n\npublic class Iban\n\npublic struct Iban",
    "resolution": "You can achieve this by using conversion operators. These basically allow you to define a conversion from one Type to another and back. These conversions can either be explicit, so you'll need to explicitly cast them every time, or they can be implicit, so it just does it. Here's an example: public class Iban { private readonly string _ibanString; public Iban(string iban) { _ibanString = iban; } public static implicit operator Iban(string iban) => new Iban(iban); public static implicit operator string(Iban iban) => iban._ibanString; } You can now do this: Iban iban = \"SOME IBAN\"; A quick breakdown of the implicit/ explicit operator syntax and a link to the MSDN documentation: Basically, a operator must always be public static followed by either the implicit or explicit keyword, then follows the type which will be returned (much like for a method), and then finally you can specify exactly one argument to use to convert from. After that you can either do like I did and use the expression body syntax from a method or use an actual body with { ... return foo; } and all. And here is the promised MSDN link: https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/user-defined-conversion-operators Note 1: I just re read your title and you were asking for a value type, it's just as easy. All you need to do is replace public class Iban with public struct Iban. Note 2: When you have implicitly defined operators on a class you can use explicit casting, but when you only have explicitly defined operators on a class you cannot implicitly cast them. So with implicit operators this is perfectly legal: var iban = (Iban) \"SOME IBAN\"; But when you have explicit operators the following becomes illegal and you'll have to explicitly cast it: // Throws a compiler error Iban iban = \"SOME IBAN\"",
    "severity": "low",
    "tags": [
      "c#"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "58523890",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 754,
      "stackoverflow_creation_date": "2019-10-23T13:23:03.693Z"
    },
    "idempotency_key": "stackoverflow-58523890",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Firebird database UDF for encrypt/decrypt not freeing memory",
    "body": "I'm testing a UDF external function in Firebird 3 database, I made a C++ DLL which performs a simple XOR to a given string using a given key. This is the code: #include <windows.h> #include <iostream> #include <string> #include <stdio.h> #include <vector> #include <math.h> #include \"../FirebirdLib/src/include/ibase.h\" #include \"ib_util.h\" using namespace std; //------------------------------------------------------------------------------------ typedef void (__stdcall * FCallback)(const char * message); FCallback g_messageCallback = 0; FCallback g_errorCallback = 0; //------------------------------------------------------------------------------------ #define ON_MESSAGE(mess) { if(g_messageCallback) g_messageCallback(mess); } #define ON_ERROR(mess) { if(g_errorCallback) g_errorCallback(mess); } //------------------------------------------------------------------------------------ extern \"C\" __declspec(dllexport) void RegisterCallbacks(FCallback messageCallback, FCallback errorCallback) { g_messageCallback = messageCallback; g_errorCallback = errorCallback; } //------------------------------------------------------------------------------------ class EncryptionUDF { public: EncryptionUDF() { //ON_MESSAGE(\"--EncryptionUDF created--\") } ~EncryptionUDF() { //ON_MESSAGE(\"--EncryptionUDF destroyed--\") } char* XORCipher(const char* data, const char* key, int dataLen, int keyLen) { char* output = (char*)ib_util_malloc(2000 + 1L); output[dataLen] = '\\0'; for (int i = 0; i < dataLen; ++i) { if (data[i] != key[i % keyLen]) output[i] = data[i] ^ key[i % keyLen]; else output[i] = data[i]; } return output; } char * Encrypt(const char * str, const char * key) { int dataLen = strlen(str); int keyLen = strlen(key); char* output = (char*)ib_util_malloc(2000 + 1L); output[dataLen] = '\\0'; try { if ((str == NULL) || (str[0] == '\\0')) { return NULL; } else { try { if ((key != NULL) && (key[0] == '\\0')) { strncpy(output, str, dataLen); } else if (key != NULL) { output = XORCipher(str, key, dataLen, keyLen); } else strncpy(output, str, dataLen); } catch (...) { strncpy(output, str, dataLen); } return output; } } catch (...) { strncpy(output, str, dataLen); } return output; } char * Decrypt(const char * str, const char * key) { int dataLen = strlen(str); int keyLen = strlen(key); char* output = (char*)ib_util_malloc(2000 + 1L); output[dataLen] = '\\0'; try { if ((str == NULL) || (str[0] == '\\0')) { return NULL; } else { try { if ((key != NULL) && (key[0] == '\\0')) { strncpy(output, str, dataLen); } else if (key != NULL) { output = XORCipher(str, key, dataLen, keyLen); } else strncpy(output, str, dataLen); } catch (...) { strncpy(output, str, dataLen); } return output; } } catch (...) { strncpy(output, str, dataLen); } return output; } }; //------------------------------------------------------------------------------------ extern \"C\" __declspec(dllexport) char * EncryptUDF_DesEncrypt(const char *str, const char *key) { try { EncryptionUDF self = EncryptionUDF(); return self.Encrypt(str, key); } catch (std::exception & ex) { ON_ERROR(ex.what()); } catch (...) { ON_ERROR(\"Unknown error\"); } return 0; } //------------------------------------------------------------------------------------ extern \"C\" __declspec(dllexport) char * EncryptUDF_DesDecrypt(const char *str, const char *key) { try { EncryptionUDF self = EncryptionUDF(); return self.Decrypt(str, key); } catch (std::exception & ex) { ON_ERROR(ex.what()); } catch (...) { ON_ERROR(\"Unknown error\"); } return 0; } //------------------------------------------------------------------------------------ BOOL APIENTRY DllMain( HMODULE hModule, DWORD ul_reason_for_call, LPVOID lpReserved ) { return TRUE; } //------------------------------------------------------------------------------------ The UDF is defined in database as: DECLARE EXTERNAL FUNCTION X_DECRYPT CSTRING(2000), CSTRING(64) RETURNS CSTRING(2000) FREE_IT ENTRY_POINT 'EncryptUDF_DesDecrypt' MODULE_NAME 'EncryptUDF'; DECLARE EXTERNAL FUNCTION X_ENCRYPT CSTRING(2000), CSTRING(64) RETURNS CSTRING(2000) FREE_IT ENTRY_POINT 'EncryptUDF_DesEncrypt' MODULE_NAME 'EncryptUDF'; When using this UDF in SQL select commands, the ram used by firebird server tends to increase continously. When using embedded the RAM goes up quickly, when in server mode, the RAM is increasing but slowly and somehow more controlled. Please help to understand where the error is.",
    "code": "#include &lt;windows.h&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;stdio.h&gt;\n#include &lt;vector&gt;\n#include &lt;math.h&gt;\n\n#include \"../FirebirdLib/src/include/ibase.h\"\n#include \"ib_util.h\"\n\n\nusing namespace std;\n\n//------------------------------------------------------------------------------------\ntypedef void (__stdcall * FCallback)(const char * message);\nFCallback g_messageCallback = 0;\nFCallback g_errorCallback = 0;\n//------------------------------------------------------------------------------------\n#define ON_MESSAGE(mess) { if(g_messageCallback) g_messageCallback(mess); }\n#define ON_ERROR(mess) { if(g_errorCallback) g_errorCallback(mess); }\n//------------------------------------------------------------------------------------\nextern \"C\" __declspec(dllexport) void RegisterCallbacks(FCallback messageCallback, FCallback errorCallback)\n{\n    g_messageCallback = messageCallback;\n    g_errorCallback = errorCallback;\n}\n//------------------------------------------------------------------------------------\nclass EncryptionUDF\n{\npublic:\n    EncryptionUDF()\n    {\n\n        //ON_MESSAGE(\"--EncryptionUDF created--\")\n    }\n    ~EncryptionUDF()\n    {\n        //ON_MESSAGE(\"--EncryptionUDF destroyed--\")\n    }\n\n    char* XORCipher(const char* data, const char* key, int dataLen, int keyLen) {\n        char* output = (char*)ib_util_malloc(2000 + 1L);\n        output[dataLen] = '\\0';\n        for (int i = 0; i &lt; dataLen; ++i) {\n            if (data[i] != key[i % keyLen])\n                output[i] = data[i] ^ key[i % keyLen];\n            else \n                output[i] = data[i];\n        }       \n\n        return output;\n    }\n\n    char * Encrypt(const char * str, const char * key) {\n        int dataLen = strlen(str);\n        int keyLen = strlen(key);\n        char* output = (char*)ib_util_malloc(2000 + 1L);\n        output[dataLen] = '\\0';\n\n        try {\n            if ((str == NULL) || (str[0] == '\\0')) {\n                return NULL;\n            }\n            else {\n                try {\n                    if ((key != NULL) &amp;&amp; (key[0] == '\\0')) {\n                        strncpy(output, str, dataLen);\n                    }\n                    else if (key != NULL) {\n                        output = XORCipher(str, key, dataLen, keyLen);\n                    }\n                    else strncpy(output, str, dataLen);\n                }\n                catch (...) { strncpy(output, str, dataLen); }\n\n                return output;\n            }\n        }\n        catch (...) { strncpy(output, str, dataLen); }\n\n        return output;\n    }\n\n    char * Decrypt(const char * str, const char * key) {\n        int dataLen = strlen(str);\n        int keyLen = strlen(key);\n        char* output = (char*)ib_util_malloc(2000 + 1L);\n        output[dataLen] = '\\0';\n\n        try {\n            if ((str == NULL) || (str[0] == '\\0')) {\n                return NULL;\n            }\n            else {\n                try {\n                    if ((key != NULL) &amp;&amp; (key[0] == '\\0')) {\n                        strncpy(output, str, dataLen);\n                    }\n                    else if (key != NULL) {\n                        output = XORCipher(str, key, dataLen, keyLen);\n                    }\n                    else strncpy(output, str, dataLen);\n                }\n                catch (...) { strncpy(output, str, dataLen); }\n\n                return output;\n            }\n        }\n        catch (...) { strncpy(output, str, dataLen); }\n\n        return output;\n    }\n};\n//------------------------------------------------------------------------------------\nextern \"C\" __declspec(dllexport) char * EncryptUDF_DesEncrypt(const char *str, const char *key)\n{\n    try\n    {\n        EncryptionUDF self = EncryptionUDF();\n        return self.Encrypt(str, key);\n    }\n    catch (std::exception &amp; ex)\n    {\n        ON_ERROR(ex.what());\n    }\n    catch (...)\n    {\n        ON_ERROR(\"Unknown error\");\n    }\n    return 0;\n}\n//------------------------------------------------------------------------------------\nextern \"C\" __declspec(dllexport) char * EncryptUDF_DesDecrypt(const char *str, const char *key)\n{\n    try\n    {\n        EncryptionUDF self = EncryptionUDF();\n        return self.Decrypt(str, key);\n    }\n    catch (std::exception &amp; ex)\n    {\n        ON_ERROR(ex.what());\n    }\n    catch (...)\n    {\n        ON_ERROR(\"Unknown error\");\n    }\n    return 0;\n}\n//------------------------------------------------------------------------------------\nBOOL APIENTRY DllMain( HMODULE hModule,\n                      DWORD  ul_reason_for_call,\n                      LPVOID lpReserved\n                      )\n{\n    return TRUE;\n}\n//------------------------------------------------------------------------------------\n\n\nDECLARE EXTERNAL FUNCTION X_DECRYPT\n  CSTRING(2000),\n  CSTRING(64)\nRETURNS CSTRING(2000) FREE_IT\nENTRY_POINT 'EncryptUDF_DesDecrypt' MODULE_NAME 'EncryptUDF';\n\nDECLARE EXTERNAL FUNCTION X_ENCRYPT\n  CSTRING(2000),\n  CSTRING(64)\nRETURNS CSTRING(2000) FREE_IT\nENTRY_POINT 'EncryptUDF_DesEncrypt' MODULE_NAME 'EncryptUDF';\n\n\n# Solution Code:\nstrncpy(output, str, dataLen);\n\n\nstrncpy_s(output, dataLen, str, dataLen);\n",
    "resolution": "After some investigation, I decided to change the parts on code where the string is copied using: strncpy(output, str, dataLen); with: strncpy_s(output, dataLen, str, dataLen); and after this change, the memory has been in normal levels, either in embedded firebird or in server mode. It seems that was a memory leak in releasing or managing those string copies.",
    "severity": "low",
    "tags": [
      "c++",
      "sql",
      "user-defined-functions",
      "firebird",
      "firebird-3.0"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "58763010",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 313,
      "stackoverflow_creation_date": "2019-11-08T08:33:41.953Z"
    },
    "idempotency_key": "stackoverflow-58763010",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to extract specific substrings into new rows, using regex?",
    "body": "I have a dataframe that contains the full chat between the user and customer agent. I would like to extract just the messages from the user and create new rows from them with the same ticket id: ticket_id = pd.DataFrame([\"1\",\"2\"]).rename(columns={0:\"Ticket-ID\"}) full_chat = pd.DataFrame([ \"User foo foo foo 12:12 PM, Agent bar bar bar 12:12 PM, User foo foo 12:13 PM, Agent bar bar 12:13 PM, User foo 12:14 PM, Agent bar 12:14 PM\", \"User bar bar bar 12:12 PM, Agent foo foo foo 12:12 PM, User bar bar 12:13 PM\" ]).rename(columns={0:\"Full-Chat\"}) merge_chat = pd.merge(ticket_id, full_chat, left_index=True, right_index=True, how='outer') def _split_row(text): cleaned_text = text.lower() lines = re.findall(r\"\\b\\w*user\\b\\ (.*?)\\ *\\d\\d:\\d\\d*\", cleaned_text) for line in lines: print(line.split()) print(merge_chat[\"Full-Chat\"].apply(_split_row)) I would like it to be like: Ticket-ID Full-Chat 1 foo foo foo 1 foo foo 1 foo 2 bar bar bar 2 bar bar",
    "code": "ticket_id = pd.DataFrame([\"1\",\"2\"]).rename(columns={0:\"Ticket-ID\"})\nfull_chat = pd.DataFrame([\n   \"User foo foo foo 12:12 PM, Agent bar bar bar 12:12 PM, User foo foo 12:13 \n    PM, Agent bar bar 12:13 PM, User foo 12:14 PM, Agent bar 12:14 PM\", \n\n   \"User bar bar bar 12:12 PM, Agent foo foo foo 12:12 PM, User bar bar 12:13 \n    PM\"\n    ]).rename(columns={0:\"Full-Chat\"})\n\n\nmerge_chat = pd.merge(ticket_id, full_chat, left_index=True, right_index=True, how='outer')\n\n\ndef _split_row(text):\n    cleaned_text = text.lower()\n\n    lines = re.findall(r\"\\b\\w*user\\b\\ (.*?)\\ *\\d\\d:\\d\\d*\", cleaned_text)        \n\n    for line in lines:\n        print(line.split())\n\nprint(merge_chat[\"Full-Chat\"].apply(_split_row))\n\n\nTicket-ID      Full-Chat\n1              foo foo foo\n1              foo foo\n1              foo\n2              bar bar bar\n2              bar bar\n\n\n# Solution Code:\nmerge_chat['Full-Chat'] = merge_chat['Full-Chat'].apply(lambda i: re.findall(r\"\\b\\w*user\\b\\ (.*?)\\ *\\d\\d:\\d\\d*\", i.lower()))\n\n\ndf = pd.DataFrame(merge_chat['Full-Chat'].tolist(), index=merge_chat['Ticket-ID']).stack()\ndf = df.reset_index([0, 'Ticket-ID'])\ndf.rename(columns={0:'Full-Chat'}, inplace=True)\ndf\n  Ticket-ID Full-Chat\n0   1   foo foo foo\n1   1   foo foo\n2   1   foo\n3   2   bar bar bar\n4   2   bar bar\n\n\nmerge_chat.explode(column='Full-Chat')",
    "resolution": "IIUC, merge_chat['Full-Chat'] = merge_chat['Full-Chat'].apply(lambda i: re.findall(r\"\\b\\w*user\\b\\ (.*?)\\ *\\d\\d:\\d\\d*\", i.lower())) From Pandas 0.25.0 onwards, merge_chat.explode(column='Full-Chat') would give you the result In versions prior to 0.25.0, df = pd.DataFrame(merge_chat['Full-Chat'].tolist(), index=merge_chat['Ticket-ID']).stack() df = df.reset_index([0, 'Ticket-ID']) df.rename(columns={0:'Full-Chat'}, inplace=True) df Ticket-ID Full-Chat 0 1 foo foo foo 1 1 foo foo 2 1 foo 3 2 bar bar bar 4 2 bar bar",
    "severity": "low",
    "tags": [
      "python",
      "regex",
      "string",
      "pandas",
      "substring"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "58805437",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 62,
      "stackoverflow_creation_date": "2019-11-11T16:45:49.663Z"
    },
    "idempotency_key": "stackoverflow-58805437",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Webpack - How to include .html fragments into index.html with live reloading?",
    "body": "In PHP you can include file fragments for easy reusability. In the example below, I can include header.php and footer.php. This is very convenient because when I update header.php, the changes show up across all pages that use it: <html> <body> <?php include 'header.php';?> <p>Some text.</p> <p>Some more text.</p> <?php include 'footer.php';?> </body> </html> I've successfully tried the approach in this answer by using html-webpack-plugin, but with one problem. See my config below: const HtmlWebpackPlugin = require(\"html-webpack-plugin\"); const fs = require(\"fs\"); module.exports = () => ({ // ... lots of Webpack boilerplage module: { rules: [ // ... js, sass, json, etc loaders ] }, plugins: [ //... new HtmlWebpackPlugin({ inject: false, hash: true, template: \"./static/index.html\", header: fs.readFileSync(htmlPath + \"/header.html\"), footer: fs.readFileSync(htmlPath + \"/footer.html\"), filename: \"index.html\", }), ] }); This allows me to include my .html files like this: <html> <body> <%= htmlWebpackPlugin.options.header %> <p>Some text.</p> <p>Some more text.</p> <%= htmlWebpackPlugin.options.footer %> </body> </html> It works as expected at first glance, but the included header.html and footer.html files get \"locked\" in their initial state, and if I modify them I still get the original files, not the updated version. I have to shut down the Webpack dev server, then re-run it for changes to come through. I'm guessing this is because fs.readFileSync() only gets executed when Webpack is initialized, but not after a file change has been detected. What can I do to get these files to update?",
    "code": "header.php\n\nfooter.php\n\nheader.php\n\nhtml-webpack-plugin\n\n.html\n\nheader.html\n\nfooter.html\n\nfs.readFileSync()\n\n# Solution Code:\nfs.readFyleSync()\n\nreadFileSync()",
    "resolution": "The solution was to move the fs.readFyleSync() calls from the webpack.config into my index.html file, since the config file is only executed once when the dev server is fired up. Here's my new webpack.config: // Get path to folder that contains HTML fragments const folderPath = path.resolve(__dirname, \"./src/static/\"); module.exports = () => ({ // ... lots of Webpack boilerplate plugins: [ //... new HtmlWebpackPlugin({ inject: false, hash: true, template: \"./static/index.html\", filename: \"index.html\", HTML_PATH: folderPath // <- Now I only pass the folder path }), ] }); ... and then I read the files with readFileSync() inside the HTML: <html> <body> <%= require(\"fs\").readFileSync(htmlWebpackPlugin.options.HTML_PATH + \"/header.html\") %> <p>Some text.</p> <p>Some more text.</p> <%= require(\"fs\").readFileSync(htmlWebpackPlugin.options.HTML_PATH + \"/footer.html\") %> </body> </html> Voilá! Hot-reloading HTML fragments!",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "webpack",
      "webpack-dev-server",
      "html-webpack-plugin"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "58868070",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2717,
      "stackoverflow_creation_date": "2019-11-14T23:23:27.873Z"
    },
    "idempotency_key": "stackoverflow-58868070",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it concurrency-safe to call concurrency::concurrent_vector::push_back while iterating over that concurrent_vector in other thread?",
    "body": "push_back, begin, end are described as concurrent safe in https://learn.microsoft.com/en-us/cpp/parallel/concrt/reference/concurrent-vector-class?view=vs-2019#push_back However the below code is asserting. Probably because element is added but not initialized yet. struct MyData { explicit MyData() { memset(arr, 0xA5, sizeof arr); } std::uint8_t arr[1024]; }; struct MyVec { concurrency::concurrent_vector<MyData> v; }; auto vector_pushback(MyVec &vec) -> void { vec.v.push_back(MyData{}); } auto vector_loop(MyVec &vec) -> void { MyData myData; for (auto it = vec.v.begin(); it != vec.v.end(); ++it) { auto res = memcmp(&(it->arr), &(myData.arr), sizeof myData.arr); assert(res == 0); } } int main() { auto vec = MyVec{}; auto th_vec = std::vector<std::thread>{}; for (int i = 0; i < 1000; ++i) { th_vec.emplace_back(vector_pushback, std::ref(vec)); th_vec.emplace_back(vector_loop, std::ref(vec)); } for(auto &th : th_vec) th.join(); return 0; }",
    "code": "struct MyData\n   {\n   explicit MyData()\n      {\n      memset(arr, 0xA5, sizeof arr);\n      }\n   std::uint8_t arr[1024];\n   };\n\nstruct MyVec\n   {\n   concurrency::concurrent_vector&lt;MyData&gt; v;\n   };\n\nauto vector_pushback(MyVec &amp;vec) -&gt; void\n   {\n   vec.v.push_back(MyData{});\n   }\n\nauto vector_loop(MyVec &amp;vec) -&gt; void\n   {\n   MyData myData;\n   for (auto it = vec.v.begin(); it != vec.v.end(); ++it)\n      {\n      auto res = memcmp(&amp;(it-&gt;arr), &amp;(myData.arr), sizeof myData.arr);\n      assert(res == 0);\n      }\n   }\n\nint main()\n{\n   auto vec = MyVec{};\n   auto th_vec = std::vector&lt;std::thread&gt;{};\n   for (int i = 0; i &lt; 1000; ++i)\n      {\n      th_vec.emplace_back(vector_pushback, std::ref(vec));\n      th_vec.emplace_back(vector_loop, std::ref(vec));\n      }\n\n   for(auto &amp;th : th_vec)\n      th.join();\n\n    return 0;\n}\n\n\n# Solution Code:\niterator push_back( _Ty &amp;&amp;_Item )\n{\n    size_type _K;\n    void *_Ptr = _Internal_push_back(sizeof(_Ty), _K);\n    new (_Ptr) _Ty( std::move(_Item));\n    return iterator(*this, _K, _Ptr);\n}\n\n\nconcurrency::concurrent_vector\n\nstd::vector\n\nconcurrent_vector\n\npush_back\n\n_Internal_push_back\n\n_Internal_push_back\n\nmemcmp",
    "resolution": "According to the docs, it should be safe to append to a concurrency::concurrent_vector while iterating over it because the elements are not actually stored contiguously in memory like std::vector: A concurrent_vector object does not relocate its elements when you append to it or resize it. This enables existing pointers and iterators to remain valid during concurrent operations. However, looking at the actual implementation of push_back in VS2017, I see the following, which I don't think is thread-safe: iterator push_back( _Ty &&_Item ) { size_type _K; void *_Ptr = _Internal_push_back(sizeof(_Ty), _K); new (_Ptr) _Ty( std::move(_Item)); return iterator(*this, _K, _Ptr); } I have to speculate on _Internal_push_back here, but I'd wager it allocates raw memory for storing the item (and points the last element towards this new node) so that the next line can use emplacement new. I'd imagine that _Internal_push_backis internally thread-safe, however I don't see any synchronization happening before the emplacement new. Meaning the following is possible: memory is obtained and the node is \"present\" (yet emplacement new hasn't happend) the looping thread encounters this node and performs memcmp to discover that they're not equal emplacement new happens. There's definitely a race condition here. I can spontaneously reproduce the problem, moreso the more threads I use. I recommend that you open a ticket with Microsoft support on this one.",
    "severity": "medium",
    "tags": [
      "c++",
      "concurrency",
      "concurrent-vector"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "58877231",
      "stackoverflow_score": 11,
      "stackoverflow_view_count": 630,
      "stackoverflow_creation_date": "2019-11-15T12:37:18.520Z"
    },
    "idempotency_key": "stackoverflow-58877231",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Write data to file in chunks using akka streams",
    "body": "I use sttp lib with akka backend to load a file from server. Either of the following approaches results in significant memory footprint to load 1Gb file: import com.softwaremill.sttp._ val file: File = new File(...) sttp.response(asStream[Source[ByteString, Any]]) .mapResponse { src => src.runWith(FileIO.toPath(file.toPath, options, 0)) } sttp.response(asFile(file, false)) VisualVM plots of sequential loads for 1Gb file. Is there any chance to write data in chunks and evict chunks from memory right after the write?",
    "code": "import com.softwaremill.sttp._\n\nval file: File = new File(...)\n\nsttp.response(asStream[Source[ByteString, Any]])\n.mapResponse { src =&gt;\n    src.runWith(FileIO.toPath(file.toPath, options, 0))\n}\n\nsttp.response(asFile(file, false))\n\n\n# Solution Code:\nsbt -mem 124 run\n",
    "resolution": "According to your plot, your application does not require a significant amount of memory. There are \"spikes\" up to 1700 MB, but just after that the Garbage Collector runs the usage of the heap drops to 250 MB. sttp and Akka creates a lot of short-living objects; however, Garbage Collector cleans your memory quite well. I've run your client app with 124 MB memory only to verify that it does not need 2GB of heap to download 1GB file: sbt -mem 124 run The app didn't crash, it just used as much memory as it was available.",
    "severity": "low",
    "tags": [
      "java",
      "scala",
      "memory-management",
      "akka-stream",
      "sttp"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "59082262",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 288,
      "stackoverflow_creation_date": "2019-11-28T05:29:16.073Z"
    },
    "idempotency_key": "stackoverflow-59082262",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "create correlation-matrix-like data frame in pandas",
    "body": "I have a df with correlation values for A and B df = pd.DataFrame({'x':['A','A','B','B'],'y':['A','B','A','B'],'c':[1,0.5,0.5,1]}) I'm trying to create a correlation-matrix-like data frame from df of the kind DataFrame.corr would give me. I tried corr = df.pivot_table(columns='y',index='x') y A B x A 1.0 0.5 B 0.5 1.0 but I don't know how to get rid of the multi-index.",
    "code": "df = pd.DataFrame({'x':['A','A','B','B'],'y':['A','B','A','B'],'c':[1,0.5,0.5,1]})\n\n\ncorr = df.pivot_table(columns='y',index='x')\ny    A    B\nx          \nA  1.0  0.5\nB  0.5  1.0\n\n\nA\n\nB\n\ndf\n\nDataFrame.corr\n\n# Solution Code:\ncorr = df.pivot_table(columns='y',index='x', values='c')\n\nOut[41]:\ny    A    B\nx\nA  1.0  0.5\nB  0.5  1.0\n\n\ncorr = (df.pivot_table(columns='y',index='x', values='c')\n          .rename_axis(index=None, columns=None))\n\nOut[43]:\n     A    B\nA  1.0  0.5\nB  0.5  1.0\n\n\nvalues\n\nrename_axis",
    "resolution": "You just need specifying values to get rid of multiindex corr = df.pivot_table(columns='y',index='x', values='c') Out[41]: y A B x A 1.0 0.5 B 0.5 1.0 If you also want to get rid of axis name, chain rename_axis corr = (df.pivot_table(columns='y',index='x', values='c') .rename_axis(index=None, columns=None)) Out[43]: A B A 1.0 0.5 B 0.5 1.0",
    "severity": "low",
    "tags": [
      "python",
      "pandas"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "59113354",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 182,
      "stackoverflow_creation_date": "2019-11-30T05:09:07.997Z"
    },
    "idempotency_key": "stackoverflow-59113354",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "I Can't drop database in mongodb",
    "body": "When I excute db.dropDatabase() in my Mongodb database,I got this error: MongoDB Enterprise mongos> db.dropDatabase() { \"ok\" : 0, \"errmsg\" : \"timed out waiting for C_XXXX-movePrimary\", \"code\" : 46, \"codeName\" : \"LockBusy\", \"$clusterTime\" : { \"clusterTime\" : Timestamp(1575187253, 6), \"signature\" : { \"hash\" : BinData(0,\"AAAAAAAAAAAAAAAAAAAAAAAAAAA=\"), \"keyId\" : NumberLong(0) } }, \"operationTime\" : Timestamp(1575187244, 78) } This cluster used seven shards and three replica set,I have checked db.currenOp(),and kill ops on this database,Then I excute db.dropDatabase() again,But the command stucked. just like this: > MongoDB Enterprise mongos>db C_XXXX MongoDB Enterprise mongos>db.dropDatabase() ...nothing output... I am new for mongodb.And I am searching for a long time on net. But no use. Please help or try to give some ideas how to achieve this. Thinks.",
    "code": "MongoDB Enterprise mongos&gt; db.dropDatabase()\n{\n    \"ok\" : 0,\n    \"errmsg\" : \"timed out waiting for C_XXXX-movePrimary\",\n    \"code\" : 46,\n    \"codeName\" : \"LockBusy\",\n    \"$clusterTime\" : {\n        \"clusterTime\" : Timestamp(1575187253, 6),\n        \"signature\" : {\n            \"hash\" : BinData(0,\"AAAAAAAAAAAAAAAAAAAAAAAAAAA=\"),\n            \"keyId\" : NumberLong(0)\n        }\n    },\n    \"operationTime\" : Timestamp(1575187244, 78)\n}\n\n\n&gt; MongoDB Enterprise mongos&gt;db \nC_XXXX \nMongoDB Enterprise mongos&gt;db.dropDatabase()\n...nothing output...\n",
    "severity": "medium",
    "tags": [
      "mongodb"
    ],
    "metadata": {
      "stackoverflow_question_id": "59124000",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2553,
      "stackoverflow_creation_date": "2019-12-01T08:50:41.697Z"
    },
    "idempotency_key": "stackoverflow-59124000",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Copy Canvas-generated Img (Images) to MS-Word",
    "body": "Trying to copy multiple images (from img tag items) to MS-Word... (I've modified the posting to use a working canvas and render only the img items.) Similar questions have been asked before (for example, Copy/paste html inline image from browser to word processors). The ones about copying a canvas all seem to resolve to (currently) \"it can't be done.\" The ones about copying from img items seem to resolve to use a context menu (Save Image As...). However, I've found an instance where it is possible, and I'd like to know what's going on. (Once again, note, I'm talking about copying and pasting only img items, not canvases.) If I render a WWWeb page (in the example, Firefox to https://www.amazon.com/gcx/Electronics-Gift-Guide/gfhz/events/ref=12DOD19_GW_Desk_DashQuad_Giftingv1_EN_EGG?categoryId=egg19-hol-main&pf_rd_p=510b75ea-83a1-4950-8c98-6febeef7ac00&pf_rd_r=SBWFNQ6X1WTRGEBCJ03G): and select and copy multiple images: I can then paste into MS-Word (pretty old MS-Word 2010): It's not pretty but it does work (here, I used MS-Word's merged formatting). If I render the following code: <head> <title>Try Canvas-generated Img</title> <script> function PageOnLoad() { //handle load event on page // Create a work canvas, draw a simple image in it, and then copy that image to the img items. var /*canvas (result)*/ cvs = document.createElement('canvas'); cvs.height = document.getElementById('testIMG1').clientHeight; cvs.width = document.getElementById('testIMG1').clientWidth; var /*context*/ ctx = cvs.getContext('2d'); ctx.fillStyle = 'silver'; ctx.fillRect(0, 0, cvs.width, cvs.height); ctx.fillStyle = 'black'; ctx.moveTo(0, 0); ctx.lineTo(cvs.width, cvs.height); ctx.stroke(); // Copy canvas image to both img items. document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg'); } </script> </head> <body onload=\"PageOnLoad();\"> <table width=\"50%\"> <tr> <td align=\"right\">Img 1:</td> <td><img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /></td> </tr> <tr> <td align=\"right\">Img 2:</td> <td><img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /></td> </tr> </table> </body> </html> JSFiddle: https://jsfiddle.net/kL58ox0m/6/ and select (in this case, Ctrl-A for all-select) and copy: I get bupkus/zilch/nada/zippo when pasting into MS-Word: Why the failure (or conversely why does it work on the Amazon page - yes, I did email them ... no answer yet)? Thanks! Update: I tried the approach noted by alexyorke, but no joy. Here's the modified code: <title>Try Canvas-generated Img</title> <script> function CopyOnClick() { var /*source*/ src = document.getElementById('sourceDIV'); if (document.body.createTextRange) { var /*range*/ rng = document.body.createTextRange(); rng.moveToElementText(src); rng.select(); } else if (window.getSelection) { var /*range*/ rng = document.createRange(); rng.selectNodeContents(src); var /*selection*/ slc = window.getSelection(); slc.removeAllRanges(); slc.addRange(rng); } document.execCommand('Copy'); document.body.removeChild(itm); } function PageOnLoad() { //handle load event on page // Create a work canvas, draw a simple image in it, and then copy that image to the img items. var /*canvas (result)*/ cvs = document.createElement('canvas'); cvs.height = document.getElementById('testIMG1').clientHeight; cvs.width = document.getElementById('testIMG1').clientWidth; var /*context*/ ctx = cvs.getContext('2d'); ctx.fillStyle = 'silver'; ctx.fillRect(0, 0, cvs.width, cvs.height); ctx.fillStyle = 'black'; ctx.moveTo(0, 0); ctx.lineTo(cvs.width, cvs.height); ctx.stroke(); // Copy canvas image to both img items. document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg'); } </script> </head> <body onload=\"PageOnLoad();\"> <div id=\"sourceDIV\" contenteditable> <table width=\"50%\"> <tr> <td align=\"right\">Img 1:</td> <td><img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /></td> </tr> <tr> <td align=\"right\">Img 2:</td> <td><img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /></td> </tr> </table> <input onclick=\"CopyOnClick();\" style=\"border:solid;\" type=\"button\" value=\"Copy All\" /> </div> </body> The JSFiddle is at https://jsfiddle.net/7jks53ht/23/. Thanks, Rainb for the link (sure beats trying to write something myself). Here's what my JSFiddle code produced: <!--StartFragment--> <table width=\"50%\"> <tbody><tr> <td align=\"right\">Img 1:</td> <td><img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"></td> </tr> <tr> <td align=\"right\">Img 2:</td> <td><img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"></td> </tr> </tbody></table> <!--EndFragment--> </body> </html> I see the images, there, but, as I said, I got no joy on copying into MS-Word. Update 2: One last attempt ... I removed the table structure because I saw that the copied fragment contained references. Now, the code is: <title>Try Canvas-generated Img</title> <script> function CopyOnClick() { var /*source*/ src = document.getElementById('sourceDIV'); if (document.body.createTextRange) { var /*range*/ rng = document.body.createTextRange(); rng.moveToElementText(src); rng.select(); } else if (window.getSelection) { var /*range*/ rng = document.createRange(); rng.selectNodeContents(src); var /*selection*/ slc = window.getSelection(); slc.removeAllRanges(); slc.addRange(rng); } document.execCommand('Copy'); document.body.removeChild(itm); } function PageOnLoad() { //handle load event on page // Create a work canvas, draw a simple image in it, and then copy that image to the img items. var /*canvas (result)*/ cvs = document.createElement('canvas'); cvs.height = document.getElementById('testIMG1').clientHeight; cvs.width = document.getElementById('testIMG1').clientWidth; var /*context*/ ctx = cvs.getContext('2d'); ctx.fillStyle = 'silver'; ctx.fillRect(0, 0, cvs.width, cvs.height); ctx.fillStyle = 'black'; ctx.moveTo(0, 0); ctx.lineTo(cvs.width, cvs.height); ctx.stroke(); // Copy canvas image to both img items. document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg'); } </script> </head> <body onload=\"PageOnLoad();\"> <div id=\"sourceDIV\" contenteditable> Img 1:<img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /> <br />Img 2:<img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /> <br /><input onclick=\"CopyOnClick();\" style=\"border:solid;\" type=\"button\" value=\"Copy All\" /> </div> </body> (JSFiddle at [https://jsfiddle.net/7jks53ht/31/) and it produces: <html><body> <!--StartFragment--> Img 1:<img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"> <br>Img 2:<img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"> <br> <!--EndFragment--> </body> </html> ...still, no joy (sigh).",
    "code": "&lt;head&gt;\n    &lt;title&gt;Try Canvas-generated Img&lt;/title&gt;\n    &lt;script&gt;\n        function PageOnLoad() { //handle load event on page\n            // Create a work canvas, draw a simple image in it, and then copy that image to the img items.\n            var /*canvas (result)*/ cvs = document.createElement('canvas');\n            cvs.height = document.getElementById('testIMG1').clientHeight;\n            cvs.width = document.getElementById('testIMG1').clientWidth;\n            var /*context*/ ctx = cvs.getContext('2d');\n            ctx.fillStyle = 'silver';\n            ctx.fillRect(0, 0, cvs.width, cvs.height);\n            ctx.fillStyle = 'black';\n            ctx.moveTo(0, 0);\n            ctx.lineTo(cvs.width, cvs.height);\n            ctx.stroke();\n\n            // Copy canvas image to both img items.\n            document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs\n            document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg');\n        }\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"PageOnLoad();\"&gt;\n    &lt;table width=\"50%\"&gt;\n        &lt;tr&gt;\n            &lt;td align=\"right\"&gt;Img 1:&lt;/td&gt;\n            &lt;td&gt;&lt;img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            &lt;td align=\"right\"&gt;Img 2:&lt;/td&gt;\n            &lt;td&gt;&lt;img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n  &lt;title&gt;Try Canvas-generated Img&lt;/title&gt;\n  &lt;script&gt;\n    function CopyOnClick() {\n      var /*source*/ src = document.getElementById('sourceDIV');\n      if (document.body.createTextRange) {\n        var /*range*/ rng = document.body.createTextRange();\n        rng.moveToElementText(src);\n        rng.select();\n      } else if (window.getSelection) {\n        var /*range*/ rng = document.createRange();\n        rng.selectNodeContents(src);\n        var /*selection*/ slc = window.getSelection();\n        slc.removeAllRanges();\n        slc.addRange(rng);\n      }\n      document.execCommand('Copy');\n      document.body.removeChild(itm);\n    }\n\n    function PageOnLoad() { //handle load event on page\n      // Create a work canvas, draw a simple image in it, and then copy that image to the img items.\n      var /*canvas (result)*/ cvs = document.createElement('canvas');\n      cvs.height = document.getElementById('testIMG1').clientHeight;\n      cvs.width = document.getElementById('testIMG1').clientWidth;\n      var /*context*/ ctx = cvs.getContext('2d');\n      ctx.fillStyle = 'silver';\n      ctx.fillRect(0, 0, cvs.width, cvs.height);\n      ctx.fillStyle = 'black';\n      ctx.moveTo(0, 0);\n      ctx.lineTo(cvs.width, cvs.height);\n      ctx.stroke();\n\n      // Copy canvas image to both img items.\n      document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs\n      document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg');\n    }\n\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"PageOnLoad();\"&gt;\n  &lt;div id=\"sourceDIV\" contenteditable&gt;\n    &lt;table width=\"50%\"&gt;\n      &lt;tr&gt;\n        &lt;td align=\"right\"&gt;Img 1:&lt;/td&gt;\n        &lt;td&gt;&lt;img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td align=\"right\"&gt;Img 2:&lt;/td&gt;\n        &lt;td&gt;&lt;img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;input onclick=\"CopyOnClick();\" style=\"border:solid;\" type=\"button\" value=\"Copy All\" /&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n\n\n&lt;!--StartFragment--&gt;\n    &lt;table width=\"50%\"&gt;\n      &lt;tbody&gt;&lt;tr&gt;\n        &lt;td align=\"right\"&gt;Img 1:&lt;/td&gt;\n        &lt;td&gt;&lt;img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n      &lt;tr&gt;\n        &lt;td align=\"right\"&gt;Img 2:&lt;/td&gt;\n        &lt;td&gt;&lt;img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"&gt;&lt;/td&gt;\n      &lt;/tr&gt;\n    &lt;/tbody&gt;&lt;/table&gt;\n\n  &lt;!--EndFragment--&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n  &lt;title&gt;Try Canvas-generated Img&lt;/title&gt;\n  &lt;script&gt;\n    function CopyOnClick() {\n      var /*source*/ src = document.getElementById('sourceDIV');\n      if (document.body.createTextRange) {\n        var /*range*/ rng = document.body.createTextRange();\n        rng.moveToElementText(src);\n        rng.select();\n      } else if (window.getSelection) {\n        var /*range*/ rng = document.createRange();\n        rng.selectNodeContents(src);\n        var /*selection*/ slc = window.getSelection();\n        slc.removeAllRanges();\n        slc.addRange(rng);\n      }\n      document.execCommand('Copy');\n      document.body.removeChild(itm);\n    }\n\n    function PageOnLoad() { //handle load event on page\n      // Create a work canvas, draw a simple image in it, and then copy that image to the img items.\n      var /*canvas (result)*/ cvs = document.createElement('canvas');\n      cvs.height = document.getElementById('testIMG1').clientHeight;\n      cvs.width = document.getElementById('testIMG1').clientWidth;\n      var /*context*/ ctx = cvs.getContext('2d');\n      ctx.fillStyle = 'silver';\n      ctx.fillRect(0, 0, cvs.width, cvs.height);\n      ctx.fillStyle = 'black';\n      ctx.moveTo(0, 0);\n      ctx.lineTo(cvs.width, cvs.height);\n      ctx.stroke();\n\n      // Copy canvas image to both img items.\n      document.getElementById('testIMG1').src = cvs.toDataURL('image/jpg'); //Amazon page's images are JPEGs\n      document.getElementById('testIMG2').src = cvs.toDataURL('image/jpg');\n    }\n\n  &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"PageOnLoad();\"&gt;\n  &lt;div id=\"sourceDIV\" contenteditable&gt;\n    Img 1:&lt;img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" /&gt;\n    &lt;br /&gt;Img 2:&lt;img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" /&gt;\n    &lt;br /&gt;&lt;input onclick=\"CopyOnClick();\" style=\"border:solid;\" type=\"button\" value=\"Copy All\" /&gt;\n  &lt;/div&gt;\n&lt;/body&gt;\n\n\n&lt;html&gt;&lt;body&gt;\n&lt;!--StartFragment--&gt;\n    Img 1:&lt;img id=\"testIMG1\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"&gt;\n    &lt;br&gt;Img 2:&lt;img id=\"testIMG2\" style=\"border:solid;height:30px;width:100px;\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAYAAADaW7vzAAABFklEQVRoge2Xy6kEIRQFe2sMGoMxmIMxGIM5GIMxaAqd2XmrgYv0Y5hPj7fbsygQVwcKCu4WQoAxBt57pJRQa8W+72QS2+NRSkGMEc45OOcQY0QpZfrA1diOPmutSCnBew9jDEIIyDmjtTZ98N05FCLpvSPnDKZNiZCRR9qstUybBiESpk2ZEAnTpkzICNOmTIiEaVMmRMK0KRMywoNUmRAJ06ZMiGTVtKkVMrJK2i4jRPJf2nrv07ctKURyt7RdXsjI1dN2OyGSK6bt1kIkrbVLpG0ZISNa07asEImmtFHIwOy0UcgTZNqstaenjUJe4Bdpo5A3OSttFPIlvpU2CjmBT9JGISfzatoo5Mc8O0gpZCJHafsD9O0j0HvOOn4AAAAASUVORK5CYII=\"&gt;\n    &lt;br&gt;\n  &lt;!--EndFragment--&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n",
    "severity": "low",
    "tags": [
      "javascript",
      "html",
      "canvas",
      "ms-word",
      "copy-paste"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "59230031",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 895,
      "stackoverflow_creation_date": "2019-12-07T20:44:22.463Z"
    },
    "idempotency_key": "stackoverflow-59230031",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Flutter hot reloading is not working to display changes",
    "body": "I have two files, main.dart and sections.dart. I have defined a few widgets in section.dart and used them in main.dart file, when I run flutter run command changes are displayed on screen, but when I press R to hot reload, nothing changes on screen. main.dart: import 'package:flutter/material.dart'; import 'sections.dart'; void main() { runApp(MyApp()); } class MyApp extends StatelessWidget { @override Widget build(BuildContext context) { return MaterialApp( debugShowCheckedModeBanner: false, title: 'Share IDEASS', home: Scaffold( appBar: AppBar( title: Text('IDEASs'), ), body: ListView( children: [ labelsSection, ], ), ), ); } } Sections.dart: import 'package:flutter/material.dart'; class MyApp extends StatelessWidget { Widget build(BuildContext context) { return MaterialApp( title: 'Share IDEAS', ); } } Column labelSectionMethod(color,IconData icon, String label,String numbers){ return Column( children: <Widget>[ Icon(icon, color:color), Container( child: Text(label, style: TextStyle(color: color ), ), ), Container( child:Text(numbers, style:TextStyle(color:color ), ), ), ], ); } Widget labelsSection=Container( child: Row( mainAxisAlignment: MainAxisAlignment.spaceEvenly, children: [ labelSectionMethod(Colors.red,Icons.supervised_user_circle,\"IDEASS\",\"35\"), labelSectionMethod(Colors.red,Icons.favorite,\"LIKE\",\"22\"), labelSectionMethod(Colors.red,Icons.data_usage,\"STREAK\",\"12\"), ], ), ); Maybe because I am repeating: return MaterialApp( title: 'Share IDEAS', ); in sections.dart, or something to do with main function. UPDATE: i moved content of sections.dart file in main.dart file still hot reload is not working.",
    "code": "import 'package:flutter/material.dart';\nimport 'sections.dart';\n\nvoid main() {\n  runApp(MyApp());\n}\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n  return MaterialApp(\n      debugShowCheckedModeBanner: false,\n      title: 'Share IDEASS',\n      home: Scaffold(\n        appBar: AppBar(\n          title: Text('IDEASs'),\n        ),\n        body: ListView(\n          children: [\n           labelsSection,\n          ],\n        ),\n      ),\n    );\n  }\n}\n\n\nimport 'package:flutter/material.dart';\nclass MyApp extends StatelessWidget {\n\n  Widget build(BuildContext context) {\n   return MaterialApp(\n      title: 'Share IDEAS',\n\n    );\n  }\n}\n\nColumn labelSectionMethod(color,IconData icon, String label,String numbers){\n  return Column(\n    children: &lt;Widget&gt;[\n      Icon(icon, color:color),\n      Container(\n        child: Text(label,\n        style: TextStyle(color: color\n        ),\n        ),\n      ),\n      Container(\n        child:Text(numbers,\n      style:TextStyle(color:color\n      ),\n      ),\n      ),\n    ],\n  );\n}\n\n    Widget labelsSection=Container(\n    child: Row(\n      mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n      children: [\n        labelSectionMethod(Colors.red,Icons.supervised_user_circle,\"IDEASS\",\"35\"),\n        labelSectionMethod(Colors.red,Icons.favorite,\"LIKE\",\"22\"),\n        labelSectionMethod(Colors.red,Icons.data_usage,\"STREAK\",\"12\"),\n      ],\n    ),\n    );\n\n\n return MaterialApp(\ntitle: 'Share IDEAS',\n    );\n\n\nmain.dart\n\nsections.dart\n\nsection.dart\n\nmain.dart\n\nflutter run\n\nR\n\nsections.dart\n\n# Solution Code:\nimport 'file:///C:/Users/svenv/AndroidStudioProjects/sample_screen_collection/lib/welcome/reading_list_card.dart';\n\n\nimport 'package:samplescreencollection/components/reading_list_card.dart';\n",
    "resolution": "After moving a file to another directory, Android Studio changed my imports to absolute paths. import 'file:///C:/Users/svenv/AndroidStudioProjects/sample_screen_collection/lib/welcome/reading_list_card.dart'; i had to change it to this import 'package:samplescreencollection/components/reading_list_card.dart';",
    "severity": "high",
    "tags": [
      "flutter",
      "flutter-layout"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "59275023",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 11108,
      "stackoverflow_creation_date": "2019-12-10T20:40:09.173Z"
    },
    "idempotency_key": "stackoverflow-59275023",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why did my JSPdf npm package break my app without any updates?",
    "body": "I am using vue.js and jspdf to generate pdf. without updating the jspdf package my app broke. I uninstalled the package as a workaround however, can't seem to figure what about this package broke the app. Here is the error: Uncaught TypeError: this.thenCore is not a function at Promise.y.then (webpack-internal:///./node_modules/jspdf/dist/jspdf.min.js:123) at Promise.<anonymous> (adrum-latest.js:29) at Promise.catch (<anonymous>) at z (webpack-internal:///./node_modules/vue-analytics/dist/vue-analytics.js:1) at S (webpack-internal:///./node_modules/vue-analytics/dist/vue-analytics.js:1) at Function.Vue.use (webpack-internal:///./node_modules/vue/dist/vue.esm.js:5102) at eval (webpack-internal:///./src/main.js:53) at Module../src/main.js (app.js:21185) at __webpack_require__ (app.js:767) at fn (app.js:130) Vue component below that contains jspdf code <template><!--download href=\"`${filePath}`\"--> <a class=\"export-card\" @click=\"downloadImage()\"> <span class=\"export-card-image\"><font-awesome-icon :icon=\"[iconWeight, icon]\"/></span> <span class=\"export-card-type\">{{cardText}}</span> </a> </template> <script> import htmlToImage from 'html-to-image'; import download from 'downloadjs'; import printJS from 'print-js'; import jsPDF from 'jspdf'; import {mapActions,mapState} from 'vuex'; export default { name: 'ExportCard', props: { icon: String, iconWeight: String, cardText: String, filePath: String, }, computed: mapState({ selectedMediaType: state => state.brandBuilderEditor.selectedMediaType, selectedImage: state => state.brandBuilderEditor.selectedImage, selectedDesign: state => state.brandBuilderEditor.selectedDesign, state: state => state, }), methods: { ...mapActions([ 'toggleLoader' ]), uploadFile(file) { const url = 'https://api.cloudinary.com/v1_1/uwm/upload'; const xhr = new XMLHttpRequest(); const fd = new FormData(); xhr.open('POST', url, true); xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest'); // Reset the upload progress bar /* document.getElementById('progress').style.width = 0; */ // Update progress (can be used to show progress indicator) xhr.upload.addEventListener('progress', (e) => { /* var progress = Math.round((e.loaded * 100.0) / e.total); document.getElementById('progress').style.width = progress + \"%\"; */ console.log(`fileuploadprogress data.loaded: ${e.loaded}, data.total: ${e.total}`); }); xhr.onreadystatechange = function () { if (xhr.readyState === 4 && xhr.status === 200) { // File uploaded successfully const response = JSON.parse(xhr.responseText); console.log('response', response); download(`https://res.cloudinary.com/uwm/video/upload/eo_10,o_50,l_${response.public_id.replace('/', ':')},so_0/v1566662844/videos/missworld.mp4`, 'my-video.mp4'); } }; fd.append('upload_preset', 'jlw-test'); fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary fd.append('file', file); xhr.send(fd); }, getFileName() { let mediaType = ''; switch (this.selectedMediaType) { case 1: mediaType = 'flyer'; break; case 2: mediaType = 'social-banner'; break; case 3: mediaType = 'video'; break; case 4: mediaType = 'presentation'; break; case 6: mediaType = 'pricing'; break; default: mediaType = 'flyer'; } return `my-${mediaType}`; }, downloadImage() { // Only allow the loader and scaling of the template if the export type is not email. if(this.cardText !== 'Send to Contact') { this.toggleLoader(); // This allows the Title card scale to be a scale of 1 instead of the viewport size. document.getElementById('item-container').classList.add('fullscale'); } // create the target item for the scale check const targetScale = document.getElementById('item-container'); // Set the target check to an interval const interval = setInterval(scaleTemplateCheck, 250); let fileName = this.getFileName(); const _this = this; function scaleTemplateCheck() { // This gets the current scale of the title card. const compStyle = window.getComputedStyle(targetScale); const transformValue = compStyle.getPropertyValue('transform'); // If the interval does not produce the scale of 1 result redo the interval and once the scale of 1 is confirmed proceed to the htmlToImage checks if(transformValue !== 'matrix(1, 0, 0, 1, 0, 0)') { return; } clearInterval(interval); // Checks the scale for the various export types if (_this.cardText === '.PNG') { htmlToImage.toPng(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 }) .then((dataUrl) => { download(dataUrl, `${fileName}.png`); if (_this.selectedMediaType !== 2) { // This allows the Title card scale to be a scale of 1 instead of the viewport size. document.getElementById('item-container').classList.remove('fullscale'); } _this.toggleLoader(); }); } else if (_this.cardText === '.JPG') { htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 }) .then((dataUrl) => { download(dataUrl, `${fileName}.jpg`); if (_this.selectedMediaType !== 2) { document.getElementById('item-container').classList.remove('fullscale'); } _this.toggleLoader(); }); } else if (_this.cardText === '.mp4') { htmlToImage.toPng(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 }) .then((dataUrl) => { _this.uploadFile(dataUrl); }); } else if (_this.cardText === '.PDF') { const filename = `${fileName}.pdf`; htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 }) .then((canvas) => { // eslint-disable-next-line new-cap const pdf = new jsPDF('p', 'mm', 'letter'); if (_this.selectedMediaType === 1 || _this.selectedMediaType === 6) { pdf.addImage(canvas, 'JPEG', 8, 8, 200, 258); } else if ((_this.selectedMediaType === 2)) { pdf.addImage(canvas, 'JPEG', 8, 8, 200, 200); } pdf.save(filename); if (_this.selectedMediaType !== 2) { document.getElementById('item-container').classList.remove('fullscale'); } _this.toggleLoader(); }); } else if (_this.cardText === 'Print') { htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff' }) .then((dataUrl) => { console.log('dataUrl', dataUrl) function VoucherSourcetoPrint(source) { return \"<html><head><script>function step1(){\\n\" + \"setTimeout('step2()', 10);}\\n\" + \"function step2(){window.print();window.close()}\\n\" + \"</scri\" + \"pt></head><body onload='step1()'>\\n\" + \"<img src='\" + source + \"' style='max-width:100%'/></body></html>\"; } const Pagelink = \"about:blank\"; const pwa = window.open(Pagelink, \"_new\"); pwa.document.open(); pwa.document.write(VoucherSourcetoPrint(dataUrl)); pwa.document.close(); if (_this.selectedMediaType !== 2) { document.getElementById('item-container').classList.remove('fullscale'); } _this.toggleLoader(); }); } else if (_this.cardText === 'Download') { window.open(_this.selectedDesign.item.medias[0].uri); } }// end of if statement }, }, }; </script> <style lang=\"scss\" scoped> .export-card { display: flex; flex-direction: column; align-items: center; background-color: $off-white; border-radius: $b360-border-radius-base; border: $b360-border-width-thin $border-color-light solid; @include rem('padding', 19px 0px 18px); text-decoration: none; box-shadow: none; transition: $b360-motion-selection; cursor: pointer; &:hover { border-color: $b360-color--gray__medium; box-shadow: 0 0 6px $shadow-color; } } .export-card-image { @include rem('font-size', 30px); color: $brand-teal; line-height: 0; } .export-card-type { font-size: $b360-font-size--base; line-height: 1; @include rem('margin-top', 15px); color: $text-base-color; } </style>",
    "code": "    Uncaught TypeError: this.thenCore is not a function\n        at Promise.y.then (webpack-internal:///./node_modules/jspdf/dist/jspdf.min.js:123)\n        at Promise.&lt;anonymous&gt; (adrum-latest.js:29)\n        at Promise.catch (&lt;anonymous&gt;)\n        at z (webpack-internal:///./node_modules/vue-analytics/dist/vue-analytics.js:1)\n        at S (webpack-internal:///./node_modules/vue-analytics/dist/vue-analytics.js:1)\n        at Function.Vue.use (webpack-internal:///./node_modules/vue/dist/vue.esm.js:5102)\n        at eval (webpack-internal:///./src/main.js:53)\n        at Module../src/main.js (app.js:21185)\n        at __webpack_require__ (app.js:767)\n        at fn (app.js:130)\n\n\n    &lt;template&gt;&lt;!--download href=\"`${filePath}`\"--&gt;\n        &lt;a class=\"export-card\" @click=\"downloadImage()\"&gt;\n            &lt;span class=\"export-card-image\"&gt;&lt;font-awesome-icon :icon=\"[iconWeight, icon]\"/&gt;&lt;/span&gt;\n            &lt;span class=\"export-card-type\"&gt;{{cardText}}&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/template&gt;\n\n    &lt;script&gt;\n    import htmlToImage from 'html-to-image';\n    import download from 'downloadjs';\n    import printJS from 'print-js';\n    import jsPDF from 'jspdf';\n    import {mapActions,mapState} from 'vuex';\n\n    export default {\n        name: 'ExportCard',\n        props: {\n            icon: String,\n            iconWeight: String,\n            cardText: String,\n            filePath: String,\n        },\n        computed: mapState({\n            selectedMediaType: state =&gt; state.brandBuilderEditor.selectedMediaType,\n            selectedImage: state =&gt; state.brandBuilderEditor.selectedImage,\n            selectedDesign: state =&gt; state.brandBuilderEditor.selectedDesign,\n            state: state =&gt; state,\n        }),\n        methods: {\n            ...mapActions([\n                'toggleLoader'\n            ]),\n            uploadFile(file) {\n                const url = 'https://api.cloudinary.com/v1_1/uwm/upload';\n                const xhr = new XMLHttpRequest();\n                const fd = new FormData();\n                xhr.open('POST', url, true);\n                xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n                // Reset the upload progress bar\n                /*\n                                document.getElementById('progress').style.width = 0;\n                */\n\n                // Update progress (can be used to show progress indicator)\n                xhr.upload.addEventListener('progress', (e) =&gt; {\n                    /*                  var progress = Math.round((e.loaded * 100.0) / e.total);\n                                        document.getElementById('progress').style.width = progress + \"%\"; */\n\n                    console.log(`fileuploadprogress data.loaded: ${e.loaded},\n      data.total: ${e.total}`);\n                });\n\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === 4 &amp;&amp; xhr.status === 200) {\n                        // File uploaded successfully\n                        const response = JSON.parse(xhr.responseText);\n                        console.log('response', response);\n                        download(`https://res.cloudinary.com/uwm/video/upload/eo_10,o_50,l_${response.public_id.replace('/', ':')},so_0/v1566662844/videos/missworld.mp4`, 'my-video.mp4');\n                    }\n                };\n\n                fd.append('upload_preset', 'jlw-test');\n                fd.append('tags', 'browser_upload'); // Optional - add tag for image admin in Cloudinary\n                fd.append('file', file);\n                xhr.send(fd);\n            },\n            getFileName() {\n                let mediaType = '';\n\n                switch (this.selectedMediaType) {\n                    case 1:\n                        mediaType = 'flyer';\n                        break;\n                    case 2:\n                        mediaType = 'social-banner';\n                        break;\n                    case 3:\n                        mediaType = 'video';\n                        break;\n                    case 4:\n                        mediaType = 'presentation';\n                        break;\n                    case 6:\n                        mediaType = 'pricing';\n                        break;\n                    default:\n                        mediaType = 'flyer';\n                }\n\n                return `my-${mediaType}`;\n            },\n            downloadImage() {\n                // Only allow the loader and scaling of the template if the export type is not email.\n                if(this.cardText !== 'Send to Contact') {\n                    this.toggleLoader();\n                    // This allows the Title card scale to be a scale of 1 instead of the viewport size.\n                    document.getElementById('item-container').classList.add('fullscale');\n                }\n\n                // create the target item for the scale check\n                const targetScale = document.getElementById('item-container');\n                // Set the target check to an interval\n                const interval = setInterval(scaleTemplateCheck, 250);\n\n                let fileName = this.getFileName();\n                const _this = this;\n\n                function scaleTemplateCheck() {\n                    // This gets the current scale of the title card.\n                    const compStyle = window.getComputedStyle(targetScale);\n                    const transformValue = compStyle.getPropertyValue('transform');\n\n                    // If the interval does not produce the scale of 1 result redo the interval and once the scale of 1 is confirmed proceed to the htmlToImage checks\n                    if(transformValue !== 'matrix(1, 0, 0, 1, 0, 0)') {\n                        return;\n                    }\n                    clearInterval(interval);\n\n                    // Checks the scale for the various export types\n                    if (_this.cardText === '.PNG') {\n                        htmlToImage.toPng(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 })\n                            .then((dataUrl) =&gt; {\n                                download(dataUrl, `${fileName}.png`);\n                                if (_this.selectedMediaType !== 2) {\n                                    // This allows the Title card scale to be a scale of 1 instead of the viewport size.\n                                    document.getElementById('item-container').classList.remove('fullscale');\n                                }                        _this.toggleLoader();\n                            });\n                    } else if (_this.cardText === '.JPG') {\n                        htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 })\n                            .then((dataUrl) =&gt; {\n                                download(dataUrl, `${fileName}.jpg`);\n                                if (_this.selectedMediaType !== 2) {\n                                    document.getElementById('item-container').classList.remove('fullscale');\n                                }                        _this.toggleLoader();\n                            });\n                    } else if (_this.cardText === '.mp4') {\n                        htmlToImage.toPng(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 })\n                            .then((dataUrl) =&gt; {\n                                _this.uploadFile(dataUrl);\n                            });\n                    } else if (_this.cardText === '.PDF') {\n                        const filename = `${fileName}.pdf`;\n\n                        htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff', quality: 1 })\n                            .then((canvas) =&gt; {\n                                // eslint-disable-next-line new-cap\n                                const pdf = new jsPDF('p', 'mm', 'letter');\n                                if (_this.selectedMediaType === 1 || _this.selectedMediaType === 6) {\n                                    pdf.addImage(canvas, 'JPEG', 8, 8, 200, 258);\n                                } else if ((_this.selectedMediaType === 2)) {\n                                    pdf.addImage(canvas, 'JPEG', 8, 8, 200, 200);\n                                }\n\n                                pdf.save(filename);\n                                if (_this.selectedMediaType !== 2) {\n                                    document.getElementById('item-container').classList.remove('fullscale');\n                                }\n                                _this.toggleLoader();\n                            });\n                    } else if (_this.cardText === 'Print') {\n                        htmlToImage.toJpeg(document.getElementById('item-container'), { backgroundColor: '#fff' })\n                            .then((dataUrl) =&gt; {\n                                console.log('dataUrl', dataUrl)\n                                function VoucherSourcetoPrint(source) {\n                                    return \"&lt;html&gt;&lt;head&gt;&lt;script&gt;function step1(){\\n\" +\n                                        \"setTimeout('step2()', 10);}\\n\" +\n                                        \"function step2(){window.print();window.close()}\\n\" +\n                                        \"&lt;/scri\" + \"pt&gt;&lt;/head&gt;&lt;body onload='step1()'&gt;\\n\" +\n                                        \"&lt;img src='\" + source + \"'  style='max-width:100%'/&gt;&lt;/body&gt;&lt;/html&gt;\";\n                                }\n                                const Pagelink = \"about:blank\";\n                                const pwa = window.open(Pagelink, \"_new\");\n                                pwa.document.open();\n                                pwa.document.write(VoucherSourcetoPrint(dataUrl));\n                                pwa.document.close();\n\n                                if (_this.selectedMediaType !== 2) {\n                                    document.getElementById('item-container').classList.remove('fullscale');\n                                }  \n                                _this.toggleLoader();\n\n                            });\n                    } else if (_this.cardText === 'Download') {\n                        window.open(_this.selectedDesign.item.medias[0].uri);\n                    }\n\n                }// end of if statement\n            },\n        },\n    };\n    &lt;/script&gt;\n\n    &lt;style lang=\"scss\" scoped&gt;\n        .export-card {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            background-color: $off-white;\n            border-radius: $b360-border-radius-base;\n            border: $b360-border-width-thin $border-color-light solid;\n            @include rem('padding', 19px 0px 18px);\n            text-decoration: none;\n            box-shadow: none;\n            transition: $b360-motion-selection;\n            cursor: pointer;\n\n            &amp;:hover {\n                border-color: $b360-color--gray__medium;\n                box-shadow: 0 0 6px $shadow-color;\n            }\n        }\n\n        .export-card-image {\n            @include rem('font-size', 30px);\n            color: $brand-teal;\n            line-height: 0;\n        }\n\n        .export-card-type {\n            font-size: $b360-font-size--base;\n            line-height: 1;\n            @include rem('margin-top', 15px);\n            color: $text-base-color;\n        }\n    &lt;/style&gt;\n\n\nvue.js\n\njspdf\n\npdf\n\njspdf",
    "severity": "low",
    "tags": [
      "javascript",
      "html",
      "npm",
      "jspdf"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "59361249",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 840,
      "stackoverflow_creation_date": "2019-12-16T17:06:17.107Z"
    },
    "idempotency_key": "stackoverflow-59361249",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "using glob with lerna --scope filtering by package name or directory name",
    "body": "When using lerna, I'm having trouble creating a glob pattern to find multiple packages with a common naming convention. Am I supposed to be searching against the directory path or the name field in the package.json? Directory Structure packages/ prefix-module-identifier1 prefix-module-identifier2 prefix-module-identifier3 prefix-platform-identifier1 prefix-platform-identifier2 Package Naming convention @nameSpaceScope/prefix-module-identifier1 @nameSpaceScope/prefix-module-identifier2 @nameSpaceScope/prefix-module-identifier3 @nameSpaceScope/prefix-platform-identifier1 @nameSpaceScope/prefix-platform-identifier2 I'd like to run a command for just the module packages or just the platform packages. In these examples I'm looking for just the module packages I've tried globs for: --scope *module* --scope **/*module* --scope packages/*module* --scope @nameSpaceScope/*module* --scope @nameSpaceScope/+(*module*) The closest glob that gets anything is --scope packages/*module*, but it only finds the first module. My lerna config { \"packages\": [ \"packages/*\" ], \"version\": \"0.0.1\" }",
    "code": "packages/\n    prefix-module-identifier1\n    prefix-module-identifier2\n    prefix-module-identifier3\n    prefix-platform-identifier1\n    prefix-platform-identifier2\n\n\n@nameSpaceScope/prefix-module-identifier1\n@nameSpaceScope/prefix-module-identifier2\n@nameSpaceScope/prefix-module-identifier3\n@nameSpaceScope/prefix-platform-identifier1\n@nameSpaceScope/prefix-platform-identifier2\n\n\n--scope *module*\n--scope **/*module*\n--scope packages/*module*\n--scope @nameSpaceScope/*module*\n--scope @nameSpaceScope/+(*module*)\n\n\n{\n  \"packages\": [\n      \"packages/*\"\n  ],\n  \"version\": \"0.0.1\"\n}\n\n\n--scope packages/*module*\n\n# Solution Code:\n--scope\n\n--scope @nameSpaceScope/*module*\n\n--scope @nameSpaceScope/+(*module*)",
    "resolution": "hexagon, I just checked in my own lerna monorepo and found that using the --scope flag in a lerna command definitely refers to names as defined in package.json. See here for details on how the --scope flag works in lerna. So, looking at how you have named packages above, to get just your module packages, the following glob patterns that you have tried should work... --scope @nameSpaceScope/*module* --scope @nameSpaceScope/+(*module*) I even went so far as to try them out using https://globster.xyz/",
    "severity": "medium",
    "tags": [
      "glob",
      "lerna"
    ],
    "metadata": {
      "stackoverflow_question_id": "59383791",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 7580,
      "stackoverflow_creation_date": "2019-12-18T00:01:01.240Z"
    },
    "idempotency_key": "stackoverflow-59383791",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "ERROR: Error installing rails zeitwerk requires Ruby version >= 2.4.4",
    "body": "I recently changed my laptop and tried installing rails with gem install rails and I got this error ERROR: Error installing rails: zeitwerk requires Ruby version >= 2.4.4. I have installed ruby version 2.4.4, 2.5.7, and 2.6.5 and I'm still getting the same error. Any pointers how to resolve this will be greatly appreciated. thanks",
    "code": "gem install rails\n\n\nERROR:  Error installing rails:\n    zeitwerk requires Ruby version &gt;= 2.4.4.\n\n\n# Solution Code:\nrvm use ruby-2.5.7\n\ngem install rails",
    "resolution": "In directory wanted use rvm use ruby-2.5.7 command line to force the usage of this specific version of ruby and after gem install rails. Just tryed minutes ago and works fine",
    "severity": "high",
    "tags": [
      "ruby-on-rails",
      "ruby",
      "zeitwerk"
    ],
    "metadata": {
      "language": "ruby",
      "stackoverflow_question_id": "59396966",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 14310,
      "stackoverflow_creation_date": "2019-12-18T17:06:50.700Z"
    },
    "idempotency_key": "stackoverflow-59396966",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "GKE NGINX Ingress - no data in Stackdriver",
    "body": "I have successfully set up an NGINX ingress on GKE. It's been handling traffic for a while, so all good there. However, it does not seem to be reporting metrics data to Stackdriver. I am not sure if it should be doing this out-of-the-box or if I have to configure something (perhaps this?: https://cloud.google.com/monitoring/agent/plugins/nginx). The instructions for this plug-in are clear but do not seem compatible with the layout of the NGINX pod (i.e.: can't run sudo commands, directory structure is different, etc). This is what I see when I try to add a chart to show NGINX connections in my Stackdriver dashboard. If anyone could shed light on how I can get GKE-deployed NGINX ingresses to report metrics to Stackdriver I'd be appreciative! :) Cheers, Ben",
    "code": "sudo\n\n# Solution Code:\nResourse type\n\nGCE VM Instance\n\nA virtual machine instance hosted in Google Compute Engine (GCE)\n\nGKE-deployed NGINX ingresses",
    "resolution": "It looks like you choose wrong Resourse type because GCE VM Instance you should use for A virtual machine instance hosted in Google Compute Engine (GCE) and here you have GKE-deployed NGINX ingresses. EDIT I think you should use this guide as an example to get metrics you want in Stackdriver. EDIT 2 You can find more information about it here and here",
    "severity": "low",
    "tags": [
      "nginx",
      "google-kubernetes-engine",
      "stackdriver",
      "google-cloud-monitoring"
    ],
    "metadata": {
      "stackoverflow_question_id": "59478815",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 812,
      "stackoverflow_creation_date": "2019-12-25T13:24:06.117Z"
    },
    "idempotency_key": "stackoverflow-59478815",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Android: Custom class for setting the max height of a NestedScrollView does not work (there is no scrollbar)",
    "body": "I am creating a custom class to set the max height of a NestedScrollView, based on the answer provided in this StackOverflow question: How to set the Maximum Height for a NestedScrollView in Android? However, when I include the custom class (MaxHeightNestedScrollView) in my activity_main.xml code layout, there is no scrollbar appearing when the TextView inside the MaxHeightNestedScrollView exceeds the defined max height. Below is the code for MaxNestedScrollView: import android.content.Context; import android.util.AttributeSet; import androidx.annotation.NonNull; import androidx.annotation.Nullable; import androidx.core.widget.NestedScrollView; public class MaxHeightNestedScrollView extends NestedScrollView { private int maxHeight = -1; public MaxHeightNestedScrollView(@NonNull Context context) { super(context); } public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) { super(context, attrs); } public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); } public int getMaxHeight() { return maxHeight; } public void setMaxHeight(int maxHeight) { this.maxHeight = maxHeight; } public void setMaxHeightDensity(int dps){ this.maxHeight = (int)(dps * getContext().getResources().getDisplayMetrics().density); } @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) { if (maxHeight > 0) { heightMeasureSpec = MeasureSpec.makeMeasureSpec(maxHeight, MeasureSpec.AT_MOST); } super.onMeasure(widthMeasureSpec, heightMeasureSpec); } } Below is the code for the attrs.xml file in the values folder: <?xml version=\"1.0\" encoding=\"utf-8\"?> <resources> <declare-styleable name=\"MaxHeightNestedScrollView\"> <attr name=\"maxHeight\" format=\"dimension\" /> </declare-styleable> </resources> Below is the code for activity_main.xml: <?xml version=\"1.0\" encoding=\"utf-8\"?> <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"> <ScrollView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:background=\"#ffffff\" android:layout_weight=\"1\" android:fillViewport=\"true\"> <LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"> <TextView android:id=\"@+id/textView\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> <com.example.testgradle.MaxHeightNestedScrollView android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" app:maxHeight=\"130dp\"> <TextView android:id=\"@+id/textView2\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:textSize=\"20dp\" android:textColor=\"#000000\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsumLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> </com.example.testgradle.MaxHeightNestedScrollView> <TextView android:id=\"@+id/textView3\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> </LinearLayout> </ScrollView> </LinearLayout>",
    "code": "import android.content.Context;\nimport android.util.AttributeSet;\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.core.widget.NestedScrollView;\n\npublic class MaxHeightNestedScrollView extends NestedScrollView {\n\n    private int maxHeight = -1;\n\n    public MaxHeightNestedScrollView(@NonNull Context context) {\n        super(context);\n    }\n\n    public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    public int getMaxHeight() {\n        return maxHeight;\n    }\n\n    public void setMaxHeight(int maxHeight) {\n        this.maxHeight = maxHeight;\n    }\n\n    public void setMaxHeightDensity(int dps){\n        this.maxHeight = (int)(dps * getContext().getResources().getDisplayMetrics().density);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        if (maxHeight &gt; 0) {\n            heightMeasureSpec = MeasureSpec.makeMeasureSpec(maxHeight, MeasureSpec.AT_MOST);\n        }\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n    }\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;resources&gt;\n    &lt;declare-styleable name=\"MaxHeightNestedScrollView\"&gt;\n        &lt;attr name=\"maxHeight\" format=\"dimension\" /&gt;\n    &lt;/declare-styleable&gt;\n&lt;/resources&gt;\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:orientation=\"vertical\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n    &lt;ScrollView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"#ffffff\"\n        android:layout_weight=\"1\"\n        android:fillViewport=\"true\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"&gt;\n            &lt;TextView\n                android:id=\"@+id/textView\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n\n            &lt;com.example.testgradle.MaxHeightNestedScrollView\n                android:layout_width=\"fill_parent\"\n                android:layout_height=\"wrap_content\"\n                app:maxHeight=\"130dp\"&gt;\n                &lt;TextView\n                    android:id=\"@+id/textView2\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:textSize=\"20dp\"\n                    android:textColor=\"#000000\"\n                    android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsumLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n            &lt;/com.example.testgradle.MaxHeightNestedScrollView&gt;\n\n            &lt;TextView\n                android:id=\"@+id/textView3\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n\n\nNestedScrollView\n\nMaxHeightNestedScrollView\n\nactivity_main.xml\n\nMaxHeightNestedScrollView\n\nMaxNestedScrollView\n\nattrs.xml\n\nvalues\n\nactivity_main.xml\n\n# Solution Code:\npublic class MaxHeightNestedScrollView extends NestedScrollView {\n\nprivate int maxHeight = -1;\n\npublic MaxHeightNestedScrollView(@NonNull Context context) {\n    this(context, null, 0); // Modified changes\n}\n\npublic MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) {\n    this(context, attrs, 0); // Modified changes\n}\n\npublic MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) {\n    super(context, attrs, defStyleAttr);\n    init(context, attrs, defStyleAttr); // Modified changes\n}\n\n // Modified changes\nprivate void init(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr){\n    final TypedArray a = context.obtainStyledAttributes(\n            attrs, R.styleable.MaxHeightNestedScrollView, defStyleAttr, 0);\n    maxHeight = \n    a.getDimensionPixelSize(R.styleable.MaxHeightNestedScrollView_maxHeight, 0);\n    a.recycle();\n}\n\npublic int getMaxHeight() {\n    return maxHeight;\n}\n\npublic void setMaxHeight(int maxHeight) {\n    this.maxHeight = maxHeight;\n}\n\n@Override\nprotected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    if (maxHeight &gt; 0) {\n        heightMeasureSpec = MeasureSpec.makeMeasureSpec(maxHeight, MeasureSpec.AT_MOST);\n    }\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n}\n}\n\n\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:orientation=\"vertical\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n&lt;ScrollView\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"#ffffff\"\n    android:layout_weight=\"1\"\n    android:fillViewport=\"true\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n        &lt;TextView\n            android:id=\"@+id/textView\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n            \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem \n            ipsum\\nLorem ipsum\n            \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n\n        &lt;com.example.testgradle.MaxHeightNestedScrollView\n            android:layout_width=\"fill_parent\"\n            android:layout_height=\"wrap_content\"\n            android:scrollbars=\"vertical\" // Modified changes\n            app:maxHeight=\"130dp\"&gt;\n            &lt;TextView\n                android:id=\"@+id/textView2\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:textSize=\"20dp\"\n                android:textColor=\"#000000\"\n                android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n                \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n                \\nLorem ipsum\\nLorem ipsum\\nLorem ipsumLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n                \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n                \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n        &lt;/com.example.testgradle.MaxHeightNestedScrollView&gt;\n\n        &lt;TextView\n            android:id=\"@+id/textView3\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n            \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\n            \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/ScrollView&gt;\n&lt;/LinearLayout&gt;\n\n\nMaxHeightNestedScrollView\n\nmaxHeight\n\nMaxHeightNestedScrollView\n\nandroid:scrollbars=\"vertical\"\n\nMaxHeightNestedScrollView",
    "resolution": "Your MaxHeightNestedScrollView is incomplete, as it does not specify how to use maxHeight attribute from xml. Use below modified MaxHeightNestedScrollView class(Difference are commented out). MaxHeightNestedScrollView.java public class MaxHeightNestedScrollView extends NestedScrollView { private int maxHeight = -1; public MaxHeightNestedScrollView(@NonNull Context context) { this(context, null, 0); // Modified changes } public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs) { this(context, attrs, 0); // Modified changes } public MaxHeightNestedScrollView(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr) { super(context, attrs, defStyleAttr); init(context, attrs, defStyleAttr); // Modified changes } // Modified changes private void init(@NonNull Context context, @Nullable AttributeSet attrs, int defStyleAttr){ final TypedArray a = context.obtainStyledAttributes( attrs, R.styleable.MaxHeightNestedScrollView, defStyleAttr, 0); maxHeight = a.getDimensionPixelSize(R.styleable.MaxHeightNestedScrollView_maxHeight, 0); a.recycle(); } public int getMaxHeight() { return maxHeight; } public void setMaxHeight(int maxHeight) { this.maxHeight = maxHeight; } @Override protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) { if (maxHeight > 0) { heightMeasureSpec = MeasureSpec.makeMeasureSpec(maxHeight, MeasureSpec.AT_MOST); } super.onMeasure(widthMeasureSpec, heightMeasureSpec); } } Also to show scrollbar in NestingScrollView just add android:scrollbars=\"vertical\" attribute to your MaxHeightNestedScrollView view in xml. After changes your layout file will look like. activity_main.xml <?xml version=\"1.0\" encoding=\"utf-8\"?> <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:orientation=\"vertical\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\"> <ScrollView android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" android:background=\"#ffffff\" android:layout_weight=\"1\" android:fillViewport=\"true\"> <LinearLayout android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:orientation=\"vertical\"> <TextView android:id=\"@+id/textView\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> <com.example.testgradle.MaxHeightNestedScrollView android:layout_width=\"fill_parent\" android:layout_height=\"wrap_content\" android:scrollbars=\"vertical\" // Modified changes app:maxHeight=\"130dp\"> <TextView android:id=\"@+id/textView2\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:textSize=\"20dp\" android:textColor=\"#000000\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsumLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> </com.example.testgradle.MaxHeightNestedScrollView> <TextView android:id=\"@+id/textView3\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" android:text=\"Lorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\\nLorem ipsum \\nLorem ipsum\\nLorem ipsum\\nLorem ipsum\" /> </LinearLayout> </ScrollView> </LinearLayout> Hope this help.",
    "severity": "medium",
    "tags": [
      "java",
      "android",
      "scrollview",
      "android-nestedscrollview"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "59727706",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1519,
      "stackoverflow_creation_date": "2020-01-14T04:54:58.250Z"
    },
    "idempotency_key": "stackoverflow-59727706",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Luigi: Is there a way to pass 'false' to a bool parameter from the command line?",
    "body": "I have a Luigi task with a boolean parameter that is set to True by default: class MyLuigiTask(luigi.Task): my_bool_param = luigi.BoolParameter(default=True) When I run this task from terminal, I sometimes want to pass that parameter as False, but get the following result: $ MyLuigiTask --my_bool_param False error: unrecognized arguments: False Same obviously for false and 0... I understand that I can make the default False and then use the flag --my_bool_param if I want to make it True, but I much prefer to have the default True. Is there any way to do this, and still pass False from terminal?",
    "code": "class MyLuigiTask(luigi.Task):\n    my_bool_param = luigi.BoolParameter(default=True) \n\n\n$ MyLuigiTask --my_bool_param False\nerror: unrecognized arguments: False  \n\n\nLuigi\n\nfalse\n\n0\n\n--my_bool_param\n\n# Solution Code:\nclass MyLuigiTask(luigi.Task):\n    my_bool_param = luigi.BoolParameter(\n        default=True, \n        parsing=luigi.BoolParameter.EXPLICIT_PARSING)\n\n    def run(self):\n        print(self.my_bool_param)\n\n\n$ MyLuigiTask --my_bool_param false\nFalse\n\n\nEXPLICIT_PARSING\n\n--my_bool_param false\n\nMyLuigiTask\n\nstore_false",
    "resolution": "Found the solution in Luigi docs: class MyLuigiTask(luigi.Task): my_bool_param = luigi.BoolParameter( default=True, parsing=luigi.BoolParameter.EXPLICIT_PARSING) def run(self): print(self.my_bool_param) Here EXPLICIT_PARSING tell Luigi that adding the flag --my_bool_param false in the terminal call to MyLuigiTask, will be parsed as store_false. Now we can have: $ MyLuigiTask --my_bool_param false False",
    "severity": "medium",
    "tags": [
      "python",
      "terminal",
      "luigi"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "59842469",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 2084,
      "stackoverflow_creation_date": "2020-01-21T13:41:56.323Z"
    },
    "idempotency_key": "stackoverflow-59842469",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot select text in an input box",
    "body": "I have the following HTML/CSS for float labels on a form (sorry if it's a bit messy) * { box-sizing: border-box; } html { font: 14px/1.4 Sans-Serif; } form { width: 320px; float: left; margin: 20px; } form>div { position: relative; overflow: hidden; } form input { width: 100%; border: 2px solid gray; background: none; position: relative; top: 0; left: 0; z-index: 1; padding: 8px 12px; outline: 0; margin: 4px 0 4px 0px } form input:valid+label { top: -7%; z-index: 100; font-size: 70%; padding: 1px 6px; } input:valid+label>div { padding: 2px; text-transform: uppercase; } form label { transition: background 0.2s, color 0.2s, top 0.2s, bottom 0.2s, right 0.2s, left 0.2s; position: absolute; color: #999; padding: 7px 6px; } form.test-form input { padding: 12px 12px 12px 12px; } form.test-form label { top: 0; bottom: 0; left: 0; width: 100%; } form.test-form input:focus+label { top: -7%; z-index: 100; font-size: 70%; padding: 1px 6px; text-transform: uppercase; } .label { background-color: white; padding: 10px; display: inline-block; transition: padding 0.2s; } form.test-form input:focus+label>div { padding: 2px; } <body> <h1>Test Form</h1> <form class=\"test-form\"> <div> <input id=\"name\" name=\"name\" type=\"text\" required> <label for=\"name\"> <div class=\"label\"> <span class=\"text\">Your Name</span> </div> </label> </div> </form> </body> This is working exactly how I need it to. The only issue is that I cannot select the text in the input box after it is entered (if you try it you will notice that \"YOUR NAME\" is highlighted before the actual text in the input box is). I am assuming this has something to do with the way I am setting the z-index... is there a way to edit the z-index for only the text in an input box? If not, is there an obvious solution to fix this issue?",
    "code": "z-index",
    "resolution": "Try This: * { box-sizing: border-box; } html { font: 14px/1.4 Sans-Serif; } form { width: 320px; float: left; margin: 20px; } form>div { position: relative; } form input { width: 100%; border: 2px solid gray; background: none; position: relative; top: 0; left: 0; z-index: 1; padding: 8px 12px; outline: 0; margin: 4px 0 4px 0px } form input:valid+label { /*<--Changed*/ top: -55px; left:10px; z-index: 100; font-size: 70%; padding: 1px 6px; position:relative; } input:valid+label>div { padding: 2px; text-transform: uppercase; } form label { transition: background 0.2s, color 0.2s, top 0.2s, bottom 0.2s, right 0.2s, left 0.2s; position: absolute; color: #999; padding: 7px 6px; } form.test-form input { padding: 12px 12px 12px 12px; } form.test-form label { top: 0; bottom: 0; left: 0; width: 100%; background:#FFF; } form.test-form input:focus+label { /*<--Changed*/ top:-55px; left:10px; font-size: 70%; padding: 1px 6px; text-transform: uppercase; } .label { background-color: white; padding: 10px; display: inline-block; transition: padding 0.2s; } form.test-form input:focus+label>div { padding: 2px; } #name:focus { /*<--Added*/ z-index:1000; } #name:focus + label { /*<--Added*/ position:relative; z-index:1001; } <body> <h1>Test Form</h1> <form class=\"test-form\"> <div> <input id=\"name\" name=\"name\" type=\"text\" required> <label for=\"name\"> <div class=\"label\"> <span class=\"text\">Your Name</span> </div> </label> </div> </form> </body>",
    "severity": "medium",
    "tags": [
      "html",
      "css"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "59850686",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 4004,
      "stackoverflow_creation_date": "2020-01-21T23:32:06.470Z"
    },
    "idempotency_key": "stackoverflow-59850686",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "@subcomponent.factory method is missing parameters for required modules or subcomponents",
    "body": "I am injecting Presenter to BookDashboard(Activity) and BookDashboardPresenter class require an MvpView interface in it's constructor . When i run AppComponent @Component( modules = [ AndroidInjectionModule::class, ActivityBuilder::class ] ) @Singleton interface AppComponent : AndroidInjector<App> { @Component.Builder interface Builder { fun addContext(@BindsInstance context: Context): Builder fun addBookEngine(@BindsInstance bookEngineModule: BookEngineModule) :Builder fun build(): AppComponent } } ActivityBuilder.kt @Module abstract class ActivityBuilder { @ContributesAndroidInjector(modules = {BookEngineModule.class}) public abstract BookDashboard bindBookDashboard(); } BookEngineModule.kt @Module class BookEngineModule(val mvpView: BookDashboardContract.MvpView){ @Provides fun providePresenter():BookDashboardContract.Presenter{ return BookDashboardPresenter(mvpView) } } BookDashboardContract interface BookDashboardContract { interface MvpView{ fun displayBooks() fun showProgress() fun hideProgress() } interface Presenter{ fun fetchedBooks() } } BookDashboardPresenter.kt class BookDashboardPresenter @Inject constructor(val viewContract:BookDashboardContract.MvpView) : BookDashboardContract.Presenter{ val bookInteractor = BookInteractor(this) override fun fetchedBooks() { bookInteractor.fetchDataFromServer() viewContract.displayBooks() } } BookDashboard -> Activity class BookDashboard : DaggerAppCompatActivity(),BookDashboardContract.MvpView{ @Inject lateinit var presenter: BookDashboardContract.Presenter override fun onCreate(savedInstanceState: Bundle?) { DaggerAppComponent.builder().addContext(this). addBookEngine(BookEngineModule(this)).build() super.onCreate(savedInstanceState) ///presenter.fetchedBooks() } override fun displayBooks() { Toast.makeText(this,\"Books Displayed\",Toast.LENGTH_LONG).show() } override fun showProgress() {} override fun hideProgress() {} } But when I build the project I am having below error ActivityBuilder_BindBookDashboard.java:24: error: @Subcomponent.Factory method is missing parameters for required modules or subcomponents: [quiz.mania.trivia.mcq.question.di.BookEngineModule] interface Factory extends AndroidInjector.Factory<BookDashboard> {} DaggerClass @Module(subcomponents = ActivityBuilder_BindBookDashboard.BookDashboardSubcomponent.class) public abstract class ActivityBuilder_BindBookDashboard { private ActivityBuilder_BindBookDashboard() {} @Binds @IntoMap @ClassKey(BookDashboard.class) abstract AndroidInjector.Factory<?> bindAndroidInjectorFactory( BookDashboardSubcomponent.Factory builder); @Subcomponent(modules = BookEngineModule.class) public interface BookDashboardSubcomponent extends AndroidInjector<BookDashboard> { @Subcomponent.Factory interface Factory extends AndroidInjector.Factory<BookDashboard> {} } } above class can't resolve BookEngineModule and BookDashboard What am i missing ?",
    "code": "@Component(\n    modules = [\n        AndroidInjectionModule::class,\n        ActivityBuilder::class\n    ]\n)\n@Singleton\ninterface AppComponent : AndroidInjector&lt;App&gt; {\n\n    @Component.Builder\n    interface Builder {\n\n        fun addContext(@BindsInstance context: Context): Builder\n        fun addBookEngine(@BindsInstance bookEngineModule: BookEngineModule) :Builder\n        fun build(): AppComponent\n    }\n}\n\n\n@Module\nabstract class ActivityBuilder {\n\n    @ContributesAndroidInjector(modules = {BookEngineModule.class})\n    public abstract BookDashboard bindBookDashboard();\n}\n\n\n@Module\nclass BookEngineModule(val mvpView: BookDashboardContract.MvpView){\n\n    @Provides\n    fun providePresenter():BookDashboardContract.Presenter{\n        return BookDashboardPresenter(mvpView)\n    }\n}\n\n\ninterface BookDashboardContract {\n\n  interface MvpView{\n    fun displayBooks()\n    fun showProgress()\n    fun hideProgress()\n  }\n\n  interface Presenter{\n    fun fetchedBooks()\n  }\n}\n\n\nclass BookDashboardPresenter @Inject constructor(val viewContract:BookDashboardContract.MvpView) : BookDashboardContract.Presenter{\n\n    val bookInteractor = BookInteractor(this)\n\n    override fun fetchedBooks() {\n        bookInteractor.fetchDataFromServer()\n        viewContract.displayBooks()\n    }\n}\n\n\nclass BookDashboard : DaggerAppCompatActivity(),BookDashboardContract.MvpView{\n\n    @Inject\n    lateinit var presenter: BookDashboardContract.Presenter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        DaggerAppComponent.builder().addContext(this).\n            addBookEngine(BookEngineModule(this)).build()\n        super.onCreate(savedInstanceState)\n        ///presenter.fetchedBooks()\n\n    }\n\n    override fun displayBooks() {\n        Toast.makeText(this,\"Books Displayed\",Toast.LENGTH_LONG).show()\n    }\n\n    override fun showProgress() {}\n    override fun hideProgress() {}\n}\n\n\nActivityBuilder_BindBookDashboard.java:24: error: @Subcomponent.Factory method is missing parameters for required modules or subcomponents: [quiz.mania.trivia.mcq.question.di.BookEngineModule]\n    interface Factory extends AndroidInjector.Factory&lt;BookDashboard&gt; {}\n\n\n@Module(subcomponents = ActivityBuilder_BindBookDashboard.BookDashboardSubcomponent.class)\npublic abstract class ActivityBuilder_BindBookDashboard {\n  private ActivityBuilder_BindBookDashboard() {}\n\n  @Binds\n  @IntoMap\n  @ClassKey(BookDashboard.class)\n  abstract AndroidInjector.Factory&lt;?&gt; bindAndroidInjectorFactory(\n      BookDashboardSubcomponent.Factory builder);\n\n  @Subcomponent(modules = BookEngineModule.class)\n  public interface BookDashboardSubcomponent extends AndroidInjector&lt;BookDashboard&gt; {\n    @Subcomponent.Factory\n    interface Factory extends AndroidInjector.Factory&lt;BookDashboard&gt; {}\n  }\n}\n\n\ninterface",
    "severity": "medium",
    "tags": [
      "kotlin",
      "dependency-injection",
      "dagger-2",
      "android-mvp"
    ],
    "metadata": {
      "language": "kotlin",
      "stackoverflow_question_id": "60036880",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2573,
      "stackoverflow_creation_date": "2020-02-03T09:59:37.017Z"
    },
    "idempotency_key": "stackoverflow-60036880",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to support several versions of the same module with typescript?",
    "body": "I'm making a typescript npm package. It uses discord.js, but there's two main version of discord.js: * discord.js 11.5 * discord.js v12.0.0-dev I'd like my module to support both version. I mean, users can install the version of discord.js they want and the package will use the good code. For another project, in javascript (without typescript), I use this: const { version } = require(\"discord.js\"); if(version === \"12.0.0-dev\"){ // code for v12 } else { // code for v11 } and it works perfectly. But, with typescript, it's more complicated, due to typings. Indeed, discord.js typings aren't the same in v11 and in v12, so I can't compile the code with both versions: const { Guild, version } = require(\"discord.js\"); if(version === \"12.0.0-dev\"){ Guild.iconURL(); // for v12 } else { Guild.iconURL; // for v11 } if the v12 is installed, it will throw iconURL() doesn't exist on Guild and if it's v11, iconURL doesn't exist on Guild. Is there any way to support both versions in the same package, without creating a branch for each version?",
    "code": "iconURL() doesn't exist on Guild\n\niconURL doesn't exist on Guild\n\n# Solution Code:\n// discord.js@11.d.ts\ndeclare module 'discord.js@11' {\n  ...\n}\n\n// discord.js@12.d.ts\ndeclare module 'discord.js@12' {\n  ...\n}\n\n\nimport { Guild as Guild12, version } from &quot;discord.js&quot;;\nimport { Guild as Guild11 } from &quot;discord.js@11&quot;;\n\ndeclare const guild: Guild11 | Guild12 // obviously wouldn't be declared like this in your actual code\n\n// At the time of writing v12.0.2 has been released\nif (version === &quot;12.0.2&quot;) {\n    (guild as Guild12).iconURL(); // for v12\n} else {\n    (guild as Guild11).iconURL; // for v11\n}\n\n\nfunction isV12(guild: Guild11 | Guild12): guild is Guild12 {\n  return version === &quot;12.0.2&quot;;\n}\n\nif (isV12(guild)) {\n  guild.iconURL();\n} else {\n  guild.iconURL();\n}\n\n\nimport { Guild as Guild12, version } from &quot;discord.js12&quot;;\n//                                        ~~~~~~~~~~~~~~\n// with pnpm:\n// File '/path/to/project/node_modules/.pnpm/registry.npmjs.org/discord.js/12.0.2/node_modules/discord.js/typings/index.d.ts' is not a module. (ts2306)\n// with npm:\n// File '/path/to/project/node_modules/discord.js12/typings/index.d.ts' is not a module. (ts2306)\n\n\npackage.json",
    "resolution": "Although not ideal, you could manually download the typings for v11 and v12 and change the module name to something like this: // discord.js@11.d.ts declare module 'discord.js@11' { ... } // discord.js@12.d.ts declare module 'discord.js@12' { ... } Then you can import the types like this: import { Guild as Guild12, version } from \"discord.js\"; import { Guild as Guild11 } from \"discord.js@11\"; declare const guild: Guild11 | Guild12 // obviously wouldn't be declared like this in your actual code // At the time of writing v12.0.2 has been released if (version === \"12.0.2\") { (guild as Guild12).iconURL(); // for v12 } else { (guild as Guild11).iconURL; // for v11 } You can also define a type guard: function isV12(guild: Guild11 | Guild12): guild is Guild12 { return version === \"12.0.2\"; } if (isV12(guild)) { guild.iconURL(); } else { guild.iconURL(); } I tried aliasing discord@11 and discord@12 like this in package.json: \"devDependencies\": { \"discord.js11\": \"npm:discord.js@11.6.2\", \"discord.js12\": \"npm:discord.js@12.0.2\" } but I got this error: import { Guild as Guild12, version } from \"discord.js12\"; // ~~~~~~~~~~~~~~ // with pnpm: // File '/path/to/project/node_modules/.pnpm/registry.npmjs.org/discord.js/12.0.2/node_modules/discord.js/typings/index.d.ts' is not a module. (ts2306) // with npm: // File '/path/to/project/node_modules/discord.js12/typings/index.d.ts' is not a module. (ts2306)",
    "severity": "medium",
    "tags": [
      "javascript",
      "node.js",
      "typescript",
      "types",
      "discord.js"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "60361579",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 2114,
      "stackoverflow_creation_date": "2020-02-23T11:11:20.453Z"
    },
    "idempotency_key": "stackoverflow-60361579",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "In cube.js, how would I query over contents of an array?",
    "body": "Let's say I have an array of info (ex: tags: ['red', 'blue', 'green'] ) in my data. How would I add that to my cube(s) to do something like a filter on tags array contains a particular value? I'm specifically using the Athena driver with pre-aggregation into Aurora Postgres. This is where I have gotten so far, but it's not quite there yet. cube(`Events`, { sql: `select * from events`, joins: { Tags: { relationship: `hasMany`, sql: `${tags}.id = ${tags}` } }, }); cube(`Tags`, { sql: `UNNEST(tags) t (id, idx)`, dimensions: { tag: { sql: `id`, type: `string` } } });",
    "code": "cube(`Events`, {\n  sql: `select * from events`,\n  joins: {\n    Tags: {\n      relationship: `hasMany`,\n      sql: `${tags}.id = ${tags}`\n    }\n  },\n});\ncube(`Tags`, {\n  sql: `UNNEST(tags) t (id, idx)`,\n  dimensions: {\n    tag: {\n      sql: `id`,\n      type: `string`\n    }\n  }\n});\n\n\ntags: ['red', 'blue', 'green']\n\ncontains\n\n# Solution Code:\nTags",
    "resolution": "It's a right direction. Primary keys and select for events table in tags cube should be added: cube(`Events`, { sql: `select * from events`, joins: { Tags: { relationship: `hasMany`, sql: `${Events}.id = ${Tags}.id` } }, dimensions: { id: { sql: `id`, type: `string`, primaryKey: true } } }); cube(`Tags`, { sql: `select e.id, t.id as tag from events e CROSS JOIN UNNEST(tags) t (id, idx)`, dimensions: { id: { sql: `id || tag`, type: `string`, primaryKey: true }, tag: { sql: `tag`, type: `string` } } }); Then equals filter on a Tags cube can be used to query it: { \"measures\": [\"Events.count\"], \"filters\": [{ \"dimension\": \"Tags.tag\", \"operator\": \"equals\", \"values\": [\"red\"] }] }",
    "severity": "medium",
    "tags": [
      "cube.js"
    ],
    "metadata": {
      "stackoverflow_question_id": "60419946",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2266,
      "stackoverflow_creation_date": "2020-02-26T18:05:03.193Z"
    },
    "idempotency_key": "stackoverflow-60419946",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Connecting to a database after creating it with Kotlin Exposed",
    "body": "I'm using jetbrains' exposed library to create and populate a database. The database does not exist, and I am creating it. However I could not find a simple way to connect to the SQL engine, create a database and connect to that database without multiple connections. That sounds a little clunky. Is there a better way to do it maybe? Here is a small example : var db = Database.connect(\"jdbc:mysql://localhost:3308\", driver = \"com.mysql.jdbc.Driver\", user = \"root\", password = \"aRootPassword\") transaction(db) { SchemaUtils.createDatabase(\"imdb\") } // avoid reconnect? db = Database.connect(\"jdbc:mysql://localhost:3308/imdb\", driver = \"com.mysql.jdbc.Driver\", user = \"root\", password = \"aRootPassword\") transaction(db) { SchemaUtils.create (TitleRatings) }",
    "code": "\nvar db = Database.connect(\"jdbc:mysql://localhost:3308\", driver = \"com.mysql.jdbc.Driver\", user = \"root\", password = \"aRootPassword\")\n\ntransaction(db) { SchemaUtils.createDatabase(\"imdb\") }\n\n// avoid reconnect?\ndb = Database.connect(\"jdbc:mysql://localhost:3308/imdb\", driver = \"com.mysql.jdbc.Driver\", user = \"root\", password = \"aRootPassword\")\n\ntransaction(db) { SchemaUtils.create (TitleRatings) }\n\n\n# Solution Code:\nimport com.zaxxer.hikari.HikariConfig\nimport com.zaxxer.hikari.HikariDataSource\nimport javax.sql.DataSource\n\npublic object DB {\n\n    var db: DataSource = connect();\n\n    public fun connect(): DataSource {\n        val config = HikariConfig()\n        config.jdbcUrl = &quot;jdbc:mysql://localhost:3308&quot;\n        config.username = &quot;com.mysql.jdbc.Driver&quot;\n        config.password = &quot;aRootPassword&quot;\n        config.driverClassName = &quot;com.mysql.jdbc.Driver&quot;\n\n        return HikariDataSource(config)\n\n    }\n}\n\n\ntransaction(Database.connect(DB.db)) {\n   SchemaUtils.createDatabase(&quot;imdb&quot;)\n}\n",
    "resolution": "You need a connection pool, e.g. HikariCP. It pools database connections and reuses them. This gives you a huge performance boost compared to individually opened connections. I usually wrap it in a simple class like this: import com.zaxxer.hikari.HikariConfig import com.zaxxer.hikari.HikariDataSource import javax.sql.DataSource public object DB { var db: DataSource = connect(); public fun connect(): DataSource { val config = HikariConfig() config.jdbcUrl = \"jdbc:mysql://localhost:3308\" config.username = \"com.mysql.jdbc.Driver\" config.password = \"aRootPassword\" config.driverClassName = \"com.mysql.jdbc.Driver\" return HikariDataSource(config) } } My transactions then look like this one: transaction(Database.connect(DB.db)) { SchemaUtils.createDatabase(\"imdb\") }",
    "severity": "medium",
    "tags": [
      "kotlin",
      "jdbc",
      "kotlin-exposed"
    ],
    "metadata": {
      "language": "kotlin",
      "stackoverflow_question_id": "60580518",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 7078,
      "stackoverflow_creation_date": "2020-03-07T17:48:46.010Z"
    },
    "idempotency_key": "stackoverflow-60580518",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use of capture groups within lookarounds",
    "body": "Suppose we are given the following string: a, b, c, d e, f, g, h i, j, k, l I wish to convert that to the following string using a PCRE regex: ab, ac, ad ef, eg, eh ij, ik, il More generally, each of these letters can be regarded as a placeholder for a string of word characters, and there can be an arbitrary number of them per line and an arbitrary number of lines. If this cannot be done, can the following string be produced? a, ab, ac, ad e, ef, eg, eh i, ij, ik, il Please demonstrate your regex using the \"SUBSTITUTION\" facility (which can include back-references such as $1) at regex101.com. I would particularly appreciate an explanation of how the PCRE engine is stepping through the string. If this cannot be done with a PCRE regex I would like an explanation of why it cannot be done. I am asking this question to improve my understanding of how capture groups within lookarounds work.",
    "code": "a, b, c, d\ne, f, g, h\ni, j, k, l\n\n\nab, ac, ad\nef, eg, eh\nij, ik, il\n\n\na, ab, ac, ad\ne, ef, eg, eh\ni, ij, ik, il\n\n\n$1\n\n# Solution Code:\n(?&lt;=(\\w+),.*)(\\w+)|^\\w+,\\s*\n\n\n$1$2\n",
    "resolution": "This can only be done with a regex engine that supports variable-width lookbehind patterns, which PCRE isn't. A variable-width lookbehind is required to reference the word at the beginning of each line for every subsequent word. If variable-width lookbehind patterns are supported by your regex engine, you can then search for: (?<=(\\w+),.*)(\\w+)|^\\w+,\\s* and replace the matches with: $1$2 Demo: https://regex101.com/r/XZhZyW/5/",
    "severity": "low",
    "tags": [
      "regex",
      "pcre"
    ],
    "metadata": {
      "stackoverflow_question_id": "60624340",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 222,
      "stackoverflow_creation_date": "2020-03-10T19:05:43.987Z"
    },
    "idempotency_key": "stackoverflow-60624340",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Creating Spark Objects from JPEG and using spark_apply() on a non-translated function",
    "body": "Typically when one wants to use sparklyr on a custom function (i.e. **non-translated functions) they place them within spark_apply(). However, I've only encountered examples where a single local data frame is either copy_to() or spark_read_csv() to a remote data source and then used spark_apply() on it. An example, for illustrative purposes only: library(sparklyr) sc <- spark_connect(master = \"local\") n_sim = 100 iris_samps <- iris %>% dplyr::filter(Species == \"virginica\") %>% sapply(rep.int, times=n_sim) %>% cbind(replicate = rep(1:n_sim, each = 50)) %>% data.frame() %>% dplyr::group_by(replicate) %>% dplyr::sample_n(50, replace = TRUE) iris_samps_tbl <- copy_to(sc, iris_samps) iris_samps_tbl %>% spark_apply(function(x) {mean(x$Petal_Length)}, group_by = \"replicate\") %>% ggplot(aes(x = result)) + geom_histogram(bins = 20) + ggtitle(\"Histogram of 100 Bootstrapped Means using sparklyr\") It seems like it would be therefore possible to use this on any range of non-translated functions coming from CRAN or Bioconductor packages as long as the data resides in a Spark Object. I've came up with a specific problem for .jpeg images as I read that SparkR can load compressed image (.jpeg, .png, etc.) into raw image representation via ImageIO in Java library - it seems possible that sparklyr could do this as well. RsimMosaic::composeMosaicFromImageRandom(inputImage, outputImage, pathToTilesLibrary) function takes an input image and a path to tiles used to create a photo mosaic and outputs an image (example here). If this function only took one image and I knew how to turn it into spark object I might imagine the command would look like: composeMosaicFromImageRandom(inputImage, outputImage, spark_obj). However, this function is taking a path to 30,000 images. How would one create 30,000 Spark Objects from the path to these tiles (.jpegs) and then use this function? If the underlying code would actually need to be modified I've used jimhester/lookup to provide the source code: function (originalImageFileName, outputImageFileName, imagesToUseInMosaic, useGradients = FALSE, removeTiles = TRUE, fracLibSizeThreshold = 0.7, repFracSize = 0.25, verbose = TRUE) { if (verbose) { cat(paste(\"\\n ------------------------------------------------ \\n\")) cat(paste(\" R Simple Mosaic composer - random version \\n\")) cat(paste(\" ------------------------------------------------ \\n\\n\")) } if (verbose) { cat(paste(\" Creating the library... \\n\")) } libForMosaicFull <- createLibraryIndexDataFrame(imagesToUseInMosaic, saveLibraryIndex = F, useGradients = useGradients) libForMosaic <- libForMosaicFull filenameArray <- list.files(imagesToUseInMosaic, full.names = TRUE) originalImage <- jpeg::readJPEG(filenameArray[1]) xTileSize <- dim(originalImage[, , 1])[1] yTileSize <- dim(originalImage[, , 1])[2] if (verbose) { cat(paste(\" -- Tiles in the Library : \", length(libForMosaic[, 1]), \"\\n\")) cat(paste(\" -- Tile dimensions : \", xTileSize, \" x \", yTileSize, \"\\n\")) } if (verbose) { cat(paste(\"\\n\")) cat(paste(\" Reading the original image... \\n\")) } originalImage <- jpeg::readJPEG(originalImageFileName) xOrigImgSize <- dim(originalImage[, , 1])[1] yOrigImgSize <- dim(originalImage[, , 1])[2] if (verbose) { cat(paste(\" -- Original image dimensions : \", xOrigImgSize, \" x \", yOrigImgSize, \"\\n\")) cat(paste(\" -- Output image dimensions : \", ((xOrigImgSize - 2) * xTileSize), \" x \", ((yOrigImgSize - 2) * yTileSize), \"\\n\")) } if (verbose) { cat(paste(\"\\n\")) cat(paste(\" Computing the mosaic... \\n\")) } outputImage <- array(dim = c(((xOrigImgSize - 2) * xTileSize), ((yOrigImgSize - 2) * yTileSize), 3)) removedList <- c() l <- 1 pCoord <- matrix(nrow = ((xOrigImgSize - 2) * (yOrigImgSize - 2)), ncol = 2) for (i in 2:(xOrigImgSize - 1)) { for (j in 2:(yOrigImgSize - 1)) { pCoord[l, 1] <- i pCoord[l, 2] <- j l <- l + 1 } } npixels <- length(pCoord[, 1]) for (i in 1:npixels) { idx <- round(runif(1, 1, length(pCoord[, 1]))) pixelRGBandNeigArray <- computeStatisticalQuantitiesPixel(pCoord[idx, 1], pCoord[idx, 2], originalImage, useGradients) tileFilename <- getCloseMatch(pixelRGBandNeigArray, libForMosaic) startI <- (pCoord[idx, 1] - 2) * xTileSize + 1 startJ <- (pCoord[idx, 2] - 2) * yTileSize + 1 outputImage[startI:(startI + xTileSize - 1), startJ:(startJ + yTileSize - 1), ] <- jpeg::readJPEG(tileFilename) if (removeTiles) { libForMosaic <- removeTile(tileFilename, libForMosaic) removedList <- c(removedList, tileFilename) if (length(libForMosaic[, 1]) < (fracLibSizeThreshold * length(libForMosaicFull[, 1]))) { idxs <- runif(round(0.25 * length(libForMosaicFull[, 1])), 1, length(removedList)) for (ii in 1:length(idxs)) { libForMosaic <- addBackTile(removedList[idxs[ii]], libForMosaic, libForMosaicFull) } removedList <- removedList[-idxs] } } if (length(pCoord[, 1]) > 2) { pCoord <- pCoord[-idx, ] } } if (verbose) { cat(paste(\"\\n\")) cat(paste(\" Done!\\n\\n\")) } jpeg::writeJPEG(outputImage, outputImageFileName) } Please Note: My first attempt to speed up this code was 1) using profvis to find the bottlenecks (i.e. the for-loops) 2) use the foreach package on for-loops. This resulted in slower code which suggested I was parallelising at too low of a level. As I understand sparklyr is more about distributing the computing than about parallelizing it so perhaps this could work.",
    "code": "library(sparklyr)\nsc &lt;- spark_connect(master = \"local\")\n\nn_sim = 100\niris_samps &lt;- iris %&gt;% dplyr::filter(Species == \"virginica\") %&gt;%\n  sapply(rep.int, times=n_sim) %&gt;% cbind(replicate = rep(1:n_sim, each = 50)) %&gt;% \n  data.frame() %&gt;%\n  dplyr::group_by(replicate) %&gt;%\n  dplyr::sample_n(50, replace = TRUE)\n\niris_samps_tbl &lt;- copy_to(sc, iris_samps)\n\niris_samps_tbl %&gt;% \n  spark_apply(function(x) {mean(x$Petal_Length)}, \n    group_by = \"replicate\") %&gt;%\n  ggplot(aes(x = result)) + geom_histogram(bins = 20) + ggtitle(\"Histogram of 100 Bootstrapped Means using sparklyr\")\n\n\nfunction (originalImageFileName, outputImageFileName, imagesToUseInMosaic, \n        useGradients = FALSE, removeTiles = TRUE, fracLibSizeThreshold = 0.7, \n        repFracSize = 0.25, verbose = TRUE) \n{\n        if (verbose) {\n                cat(paste(\"\\n ------------------------------------------------ \\n\"))\n                cat(paste(\"    R Simple Mosaic composer - random version   \\n\"))\n                cat(paste(\" ------------------------------------------------ \\n\\n\"))\n        }\n        if (verbose) {\n                cat(paste(\"    Creating the library... \\n\"))\n        }\n        libForMosaicFull &lt;- createLibraryIndexDataFrame(imagesToUseInMosaic, \n                saveLibraryIndex = F, useGradients = useGradients)\n        libForMosaic &lt;- libForMosaicFull\n        filenameArray &lt;- list.files(imagesToUseInMosaic, full.names = TRUE)\n        originalImage &lt;- jpeg::readJPEG(filenameArray[1])\n        xTileSize &lt;- dim(originalImage[, , 1])[1]\n        yTileSize &lt;- dim(originalImage[, , 1])[2]\n        if (verbose) {\n                cat(paste(\"    -- Tiles in the Library : \", length(libForMosaic[, \n                        1]), \"\\n\"))\n                cat(paste(\"    -- Tile dimensions : \", xTileSize, \" x \", \n                        yTileSize, \"\\n\"))\n        }\n        if (verbose) {\n                cat(paste(\"\\n\"))\n                cat(paste(\"    Reading the original image... \\n\"))\n        }\n        originalImage &lt;- jpeg::readJPEG(originalImageFileName)\n        xOrigImgSize &lt;- dim(originalImage[, , 1])[1]\n        yOrigImgSize &lt;- dim(originalImage[, , 1])[2]\n        if (verbose) {\n                cat(paste(\"    -- Original image dimensions : \", xOrigImgSize, \n                        \" x \", yOrigImgSize, \"\\n\"))\n                cat(paste(\"    -- Output image dimensions : \", ((xOrigImgSize - \n                        2) * xTileSize), \" x \", ((yOrigImgSize - 2) * yTileSize), \n                        \"\\n\"))\n        }\n        if (verbose) {\n                cat(paste(\"\\n\"))\n                cat(paste(\"    Computing the mosaic... \\n\"))\n        }\n        outputImage &lt;- array(dim = c(((xOrigImgSize - 2) * xTileSize), \n                ((yOrigImgSize - 2) * yTileSize), 3))\n        removedList &lt;- c()\n        l &lt;- 1\n        pCoord &lt;- matrix(nrow = ((xOrigImgSize - 2) * (yOrigImgSize - \n                2)), ncol = 2)\n        for (i in 2:(xOrigImgSize - 1)) {\n                for (j in 2:(yOrigImgSize - 1)) {\n                        pCoord[l, 1] &lt;- i\n                        pCoord[l, 2] &lt;- j\n                        l &lt;- l + 1\n                }\n        }\n        npixels &lt;- length(pCoord[, 1])\n        for (i in 1:npixels) {\n                idx &lt;- round(runif(1, 1, length(pCoord[, 1])))\n                pixelRGBandNeigArray &lt;- computeStatisticalQuantitiesPixel(pCoord[idx, \n                        1], pCoord[idx, 2], originalImage, useGradients)\n                tileFilename &lt;- getCloseMatch(pixelRGBandNeigArray, \n                        libForMosaic)\n                startI &lt;- (pCoord[idx, 1] - 2) * xTileSize + 1\n                startJ &lt;- (pCoord[idx, 2] - 2) * yTileSize + 1\n                outputImage[startI:(startI + xTileSize - 1), startJ:(startJ + \n                        yTileSize - 1), ] &lt;- jpeg::readJPEG(tileFilename)\n                if (removeTiles) {\n                        libForMosaic &lt;- removeTile(tileFilename, libForMosaic)\n                        removedList &lt;- c(removedList, tileFilename)\n                        if (length(libForMosaic[, 1]) &lt; (fracLibSizeThreshold * \n                                length(libForMosaicFull[, 1]))) {\n                                idxs &lt;- runif(round(0.25 * length(libForMosaicFull[, \n                                        1])), 1, length(removedList))\n                                for (ii in 1:length(idxs)) {\n                                        libForMosaic &lt;- addBackTile(removedList[idxs[ii]], \n                                                libForMosaic, libForMosaicFull)\n                                }\n                                removedList &lt;- removedList[-idxs]\n                        }\n                }\n                if (length(pCoord[, 1]) &gt; 2) {\n                        pCoord &lt;- pCoord[-idx, ]\n                }\n        }\n        if (verbose) {\n                cat(paste(\"\\n\"))\n                cat(paste(\"    Done!\\n\\n\"))\n        }\n        jpeg::writeJPEG(outputImage, outputImageFileName)\n}\n\n\nsparklyr\n\nspark_apply()\n\ncopy_to()\n\nspark_read_csv()\n\nspark_apply()\n\nCRAN\n\nBioconductor\n\n.jpeg\n\nSparkR\n\n.jpeg\n\n.png\n\nImageIO\n\nsparklyr\n\nRsimMosaic::composeMosaicFromImageRandom(inputImage, outputImage, pathToTilesLibrary)\n\ncomposeMosaicFromImageRandom(inputImage, outputImage, spark_obj)\n\n.jpegs\n\njimhester/lookup\n\nprofvis\n\nforeach\n\nsparklyr",
    "severity": "medium",
    "tags": [
      "r",
      "binary",
      "jpeg",
      "sparklyr"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "60743764",
      "stackoverflow_score": 18,
      "stackoverflow_view_count": 336,
      "stackoverflow_creation_date": "2020-03-18T16:33:27.410Z"
    },
    "idempotency_key": "stackoverflow-60743764",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to configure @babel/plugin-proposal-class-properties in webpack.config.js?",
    "body": "I am seeing @babel/plugin-proposal-class-properties as recommended alternative to using babel-preset-stage-0. In my current react app, I use webpack.config.js instead of babel.rc or any thing else. I am left wondering how do I configure this @babel/plugin-proposal-class-properties plugin in webpack.config.js file. The documentation isn't talking about it and so I'm seeking the help from you. Thanks in advance!",
    "code": "@babel/plugin-proposal-class-properties\n\nbabel-preset-stage-0\n\nwebpack.config.js\n\nbabel.rc\n\n@babel/plugin-proposal-class-properties\n\nwebpack.config.js\n\n# Solution Code:\nmodule: {\n  rules: [\n    {\n      test: /\\.m?js$/,\n      exclude: /(node_modules|bower_components)/,\n      use: {\n        loader: 'babel-loader',\n        options: {\n          presets: ['@babel/preset-env'],\n          plugins: ['@babel/plugin-proposal-class-properties']\n        }\n      }\n    }\n  ]\n}\n",
    "resolution": "You can pass options to the babel-loader by using the options property. module: { rules: [ { test: /\\.m?js$/, exclude: /(node_modules|bower_components)/, use: { loader: 'babel-loader', options: { presets: ['@babel/preset-env'], plugins: ['@babel/plugin-proposal-class-properties'] } } } ] }",
    "severity": "medium",
    "tags": [
      "reactjs",
      "webpack",
      "babeljs"
    ],
    "metadata": {
      "stackoverflow_question_id": "60865066",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 9434,
      "stackoverflow_creation_date": "2020-03-26T10:21:07.160Z"
    },
    "idempotency_key": "stackoverflow-60865066",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What will happen if you don't await a async function?",
    "body": "If I don't use await to call the async function, I will get back a coroutine. In that case, what will happen for the coroutine? Do I have to manually execute the coroutine? Or this coroutine will continue to run itself in the background? Using await async def work(): result = await stuff() Without await async def work(): result = stuff()",
    "code": "async def work():\n    result = await stuff()\n\n\nasync def work():\n     result = stuff()\n\n\nawait\n\nawait\n\nawait\n\n# Solution Code:\nimport asyncio\n\nasync def main():\n    loop = asyncio.get_event_loop()\n    t1 = loop.create_task(stuff())\n    t2 = loop.create_task(stuff())\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(main())\n\n\nawait\n\nasyncio",
    "resolution": "From the official docs: Note that simply calling a coroutine will not schedule it to be executed: That means you did not call your function actually so there no one waiting for anything and nothing to be waiting for if you did not place await before your function call. You could instead schedule a task for it or many tasks using asyncio: import asyncio async def main(): loop = asyncio.get_event_loop() t1 = loop.create_task(stuff()) t2 = loop.create_task(stuff()) loop = asyncio.get_event_loop() loop.run_until_complete(main()) To find more about this, I would recommend reading https://docs.python.org/3/library/asyncio-task.html",
    "severity": "medium",
    "tags": [
      "python",
      "async-await",
      "python-asyncio",
      "coroutine"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "60909455",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 8013,
      "stackoverflow_creation_date": "2020-03-29T02:23:08.603Z"
    },
    "idempotency_key": "stackoverflow-60909455",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "To open angular material tooltip above when the page is scrolled and avoid the tooltip getting hidden",
    "body": "I have added 2 tables in stackblitz link, if I hover in first table(1st column) alst rows the tooltip opens above(expected) but when we scroll down the page and then hover on the last rows of 2nd table, the tooltip gets hidden in the bottom of the screen, as was not the case if I have a single table. I was expecting the tooltip to be opened above instead of getting hidden in the bottom. Please suggest. Stacblitz link https://stackblitz.com/edit/angular-mat-tooltip-ctvigc?file=app%2Ftooltip-overview-example.html tooltip-overview-example.html <ng-container matColumnDef=\"Column1\"> <th mat-header-cell *matHeaderCellDef mat-sort-header> Alert </th> <td mat-cell *matCellDef=\"let row; let i = index\" customToolTip [contentTemplate]=\"template\"> <span >{{row.Column1}}</span> <!--TOOLTIP--> <ng-template #template> <div style=\"display: flex; flex-direction: column\"> <span>{{row.conditionals | json}}</span> <button (click)=\"onClick(i)\">Click</button> </div> </ng-template> </td> </ng-container> Extended the Angular material TooltipComponent in CustomToolTipComponent custom-tool-tip.component.ts import { Component, OnInit, OnDestroy, Input, TemplateRef } from \"@angular/core\"; import {TooltipComponent} from \"@angular/material/tooltip\" import { Observable, Subject } from \"rxjs\"; @Component({ selector: \"app-custom-tool-tip\", templateUrl: \"./custom-tool-tip.component.html\", styleUrls: [\"./custom-tool-tip.component.css\"] }) export class CustomToolTipComponent extends TooltipComponent { @Input() text: string; @Input() contentTemplate: TemplateRef<any>; } custom-tool-tip.component.html <div> <div class=\"tooltip-conatiner\"> <ng-template #simpleText> {{text}} </ng-template> <ng-container *ngTemplateOutlet=\"contentTemplate || simpleText\"> </ng-container> </div> </div> tool-tip-renderer.directive.ts @Directive({ selector: \"[customToolTip]\" }) export class ToolTipRendererDirective { @Input() showToolTip: boolean = true; //If this is specified then specified text will be showin in the tooltip @Input(`customToolTip`) text: string; //If this is specified then specified template will be rendered in the tooltip @Input() contentTemplate: TemplateRef<any>; private _overlayRef: OverlayRef; private _tooltipInstance; private _mouseInTooltip: boolean = false; private _hasListeners: boolean = false; constructor( private _overlay: Overlay, private _overlayPositionBuilder: OverlayPositionBuilder, private _elementRef: ElementRef, private _r2: Renderer2 ) {} ngOnInit() { if (!this.showToolTip) { return; } const positionStrategy = this._overlayPositionBuilder .flexibleConnectedTo(this._elementRef) .withPositions([ { originX: \"center\", originY: \"bottom\", overlayX: \"center\", overlayY: \"top\", offsetY: -10 } ]); this._overlayRef = this._overlay.create({ positionStrategy }); } @HostListener(\"mouseenter\") show(e) { if (this._overlayRef && !this._overlayRef.hasAttached()) { //set tooltip instance this._tooltipInstance = this._overlayRef.attach( new ComponentPortal(CustomToolTipComponent) ).instance; //set CustomToolTipComponenet content/inputs this._tooltipInstance.text = this.text; this._tooltipInstance.contentTemplate = this.contentTemplate; //render tooltip this._tooltipInstance!.show(0); //sub to detach after hide anitmation is complete this._tooltipInstance .afterHidden() .pipe(take(1)) .subscribe(() => { this._overlayRef.detach(); }); if (!this._hasListeners) { this._hasListeners = true; //attach mouseleave listener to detach when mouseleave on tooltip this._r2.listen(this._overlayRef.overlayElement, \"mouseleave\", () => { //call hide function in this directive this._mouseInTooltip = false; this.hide(); }); this._r2.listen(this._overlayRef.overlayElement, \"mouseenter\", () => { //call hide function in this directive this._mouseInTooltip = true; }); } } } @HostListener(\"mouseleave\") hide(buttonClicked = null) { if(buttonClicked) this._mouseInTooltip = false; setTimeout(() => { if (!this._mouseInTooltip) this._tooltipInstance!._onHide.next(); }, 20); } }",
    "code": "&lt;ng-container matColumnDef=&quot;Column1&quot;&gt;\n     &lt;th mat-header-cell *matHeaderCellDef mat-sort-header&gt; Alert &lt;/th&gt;\n\n     &lt;td mat-cell *matCellDef=&quot;let row; let i = index&quot; customToolTip [contentTemplate]=&quot;template&quot;&gt;\n          &lt;span &gt;{{row.Column1}}&lt;/span&gt;\n     &lt;!--TOOLTIP--&gt;\n      &lt;ng-template #template&gt;\n          &lt;div style=&quot;display: flex; flex-direction: column&quot;&gt;\n             &lt;span&gt;{{row.conditionals | json}}&lt;/span&gt;\n             &lt;button (click)=&quot;onClick(i)&quot;&gt;Click&lt;/button&gt;\n          &lt;/div&gt;\n      &lt;/ng-template&gt;\n      &lt;/td&gt;\n\n&lt;/ng-container&gt;\n\n\nimport {\n Component,\n OnInit,\n OnDestroy,\n Input,\n TemplateRef\n } from &quot;@angular/core&quot;;\n import {TooltipComponent} from &quot;@angular/material/tooltip&quot;\n import { Observable, Subject } from &quot;rxjs&quot;;\n\n@Component({\n selector: &quot;app-custom-tool-tip&quot;,\n templateUrl: &quot;./custom-tool-tip.component.html&quot;,\n styleUrls: [&quot;./custom-tool-tip.component.css&quot;]\n})\nexport class CustomToolTipComponent extends TooltipComponent {\n\n @Input() text: string;\n @Input() contentTemplate: TemplateRef&lt;any&gt;;\n\n}\n\n\n&lt;div&gt;\n &lt;div class=&quot;tooltip-conatiner&quot;&gt;\n  &lt;ng-template #simpleText&gt;\n  {{text}}\n  &lt;/ng-template&gt;\n  &lt;ng-container *ngTemplateOutlet=&quot;contentTemplate || simpleText&quot;&gt;\n  &lt;/ng-container&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n@Directive({\n  selector: &quot;[customToolTip]&quot;\n})\nexport class ToolTipRendererDirective {\n\n@Input() showToolTip: boolean = true;\n\n//If this is specified then specified text will be showin in the tooltip\n @Input(`customToolTip`) text: string;\n\n//If this is specified then specified template will be rendered in the tooltip\n @Input() contentTemplate: TemplateRef&lt;any&gt;;\n\nprivate _overlayRef: OverlayRef;\nprivate _tooltipInstance;\nprivate _mouseInTooltip: boolean = false;\nprivate _hasListeners: boolean = false;\n\nconstructor(\n private _overlay: Overlay,\n private _overlayPositionBuilder: OverlayPositionBuilder,\n private _elementRef: ElementRef,\n private _r2: Renderer2\n ) {}\n\n\nngOnInit() {\n if (!this.showToolTip) {\n  return;\n}\n\nconst positionStrategy = this._overlayPositionBuilder\n  .flexibleConnectedTo(this._elementRef)\n  .withPositions([\n    {\n      originX: &quot;center&quot;,\n      originY: &quot;bottom&quot;,\n      overlayX: &quot;center&quot;,\n      overlayY: &quot;top&quot;,\n      offsetY: -10\n    }\n  ]);\n\nthis._overlayRef = this._overlay.create({ positionStrategy });\n}\n\n\n@HostListener(&quot;mouseenter&quot;)\nshow(e) {\nif (this._overlayRef &amp;&amp; !this._overlayRef.hasAttached()) {\n  //set tooltip instance\n  this._tooltipInstance = this._overlayRef.attach(\n    new ComponentPortal(CustomToolTipComponent)\n  ).instance;\n\n  //set CustomToolTipComponenet content/inputs\n  this._tooltipInstance.text = this.text;\n  this._tooltipInstance.contentTemplate = this.contentTemplate;\n\n  //render tooltip\n  this._tooltipInstance!.show(0);\n\n  //sub to detach after hide anitmation is complete\n  this._tooltipInstance\n    .afterHidden()\n    .pipe(take(1))\n    .subscribe(() =&gt; {\n      this._overlayRef.detach();\n    });\n  if (!this._hasListeners) {\n    this._hasListeners = true;\n    //attach mouseleave listener to detach when mouseleave on tooltip\n    this._r2.listen(this._overlayRef.overlayElement, &quot;mouseleave&quot;, () =&gt; {\n      //call hide function in this directive\n      this._mouseInTooltip = false;\n      this.hide();\n    });\n\n    this._r2.listen(this._overlayRef.overlayElement, &quot;mouseenter&quot;, () =&gt; {\n      //call hide function in this directive\n      this._mouseInTooltip = true;\n    });\n  }\n}\n}\n\n@HostListener(&quot;mouseleave&quot;)\nhide(buttonClicked = null) {\nif(buttonClicked)\n  this._mouseInTooltip = false;\nsetTimeout(() =&gt; {\n  if (!this._mouseInTooltip) this._tooltipInstance!._onHide.next();\n}, 20);\n}\n}\n",
    "resolution": "To fix this, you need to upgrade your cdk version to 7.3.7 which has a new method on OverlayRef as updatePositionStrategy. According to this method you can change the position strategy of an overlay after attach. In your show function after attaching the component you need to update position strategy as below: this._overlayRef.updatePositionStrategy(this._overlayPositionBuilder .flexibleConnectedTo(this._elementRef) .withPositions([{ originX: \"center\", originY: \"bottom\", overlayX: \"center\", overlayY: \"top\", offsetY: this.getOffsetY() }])); this._overlayRef.updatePosition(); where this.getOffsetY() is private method provide offset y value based on element current position. You may need to update this logic. private getOffsetY() { if (this._elementRef.nativeElement.getBoundingClientRect().bottom > 500) return -400; if (this._elementRef.nativeElement.getBoundingClientRect().bottom > 400) return -300; if (this._elementRef.nativeElement.getBoundingClientRect().bottom > 300) return -200; return -10; } Here is stackblitz link",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "css",
      "angular",
      "angular-material2"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "angular",
      "stackoverflow_question_id": "61191974",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 9043,
      "stackoverflow_creation_date": "2020-04-13T16:10:38.940Z"
    },
    "idempotency_key": "stackoverflow-61191974",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot access 'androidx.activity.result.ActivityResultCaller'",
    "body": "I'm using androidx for quite a while and my Android project compiles fine, however recently my Android Studio throws tons of red for all Activity classes because of cannot access 'androidx.activity.result.ActivityResultCaller' which is a supertype of ... I use AppCompatActivity from androidx.appcompat:appcompat:1.1.0 My build.gradle has: ext.kotlin_version = '1.3.71' ... dependencies { classpath 'com.android.tools.build:gradle:3.6.3' classpath 'com.google.gms:google-services:4.3.3' And gradle version distributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip My gradle.properties: android.useAndroidX=true android.enableJetifier=true org.gradle.jvmargs=-Xmx4608m org.gradle.parallel=true # Use kapt in parallel kapt.use.worker.api=true # Kapt compile avoidance kapt.include.compile.classpath=false",
    "code": "    ext.kotlin_version = '1.3.71'\n    ...\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.6.3'\n        classpath 'com.google.gms:google-services:4.3.3'\n\n\nandroid.useAndroidX=true\nandroid.enableJetifier=true\norg.gradle.jvmargs=-Xmx4608m\norg.gradle.parallel=true\n\n# Use kapt in parallel\nkapt.use.worker.api=true\n\n# Kapt compile avoidance\nkapt.include.compile.classpath=false\n\n\ncannot access 'androidx.activity.result.ActivityResultCaller' which is a supertype of ...\n\nandroidx.appcompat:appcompat:1.1.0\n\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-5.6.4-all.zip\n\n# Solution Code:\ndependencies {\n      implementation \"androidx.activity:activity-ktx:1.2.0-alpha03\"\n}\n\n\nandroidx.core:core\n\nAppCompatActivity\n\nFragmentActivity\n\nComponentActivity\n\nandroidx.core.app.ComponentActivity\n\nActivityResultCaller\n\nandroidx.activity:activity:1.2.0-alpha03\n\nbuild.gradle",
    "resolution": "This happened because of Gradle when resolving dependency libraries versions upgraded androidx.core:core to version more than 1.2.0, probably to 1.3.0-beta01 or 1.3.0-rc01 AppCompatActivity extends FragmentActivity that extends ComponentActivity that extends androidx.core.app.ComponentActivity that implements ActivityResultCaller introduced in androidx.activity:activity:1.2.0-alpha03 only. To resolve this issue add this dependency to your module build.gradle: dependencies { implementation \"androidx.activity:activity-ktx:1.2.0-alpha03\" }",
    "severity": "high",
    "tags": [
      "android",
      "android-studio",
      "android-activity",
      "androidx"
    ],
    "metadata": {
      "stackoverflow_question_id": "61381545",
      "stackoverflow_score": 16,
      "stackoverflow_view_count": 14049,
      "stackoverflow_creation_date": "2020-04-23T07:24:45.173Z"
    },
    "idempotency_key": "stackoverflow-61381545",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to set preview size on cameraX preview?",
    "body": "I am trying to create a preview in portrait mode and I want the preview to be as wide as the screen and wrap content vertically. However, when I do that I always get the preview size 1200x 1200 and the preview is stretched horizontally to fill the screen. The image captured is the correct size though (1024x768. In other words I want the preview size to be same as image captured. Any help will be appreciated. preview = new Preview.Builder() .setTargetAspectRatioCustom(new Rational(3, 4)) .build(); <androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\" xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:tools=\"http://schemas.android.com/tools\" android:layout_width=\"match_parent\" android:layout_height=\"match_parent\" tools:context=\"com.molescope.CameraXActivity\"> <androidx.camera.view.PreviewView android:id=\"@+id/preview_view\" android:layout_width=\"match_parent\" android:layout_height=\"wrap_content\" app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\" /> <ImageButton android:id=\"@+id/capture_button\" android:layout_width=\"wrap_content\" android:layout_height=\"wrap_content\" app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\" android:layout_marginBottom=\"@dimen/margin_vertical\"/> </androidx.constraintlayout.widget.ConstraintLayout> def camerax_version = \"1.0.0-beta03\" implementation \"androidx.camera:camera-core:${camerax_version}\" implementation \"androidx.camera:camera-camera2:${camerax_version}\" implementation \"androidx.camera:camera-lifecycle:${camerax_version}\" implementation \"androidx.camera:camera-view:1.0.0-alpha10\" implementation \"androidx.camera:camera-extensions:1.0.0-alpha10\"",
    "code": "preview = new Preview.Builder()\n            .setTargetAspectRatioCustom(new Rational(3, 4))\n            .build();\n\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.molescope.CameraXActivity\"&gt;\n\n    &lt;androidx.camera.view.PreviewView\n        android:id=\"@+id/preview_view\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\" /&gt;\n\n    &lt;ImageButton\n        android:id=\"@+id/capture_button\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginBottom=\"@dimen/margin_vertical\"/&gt;\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n\n    def camerax_version = \"1.0.0-beta03\"\n    implementation \"androidx.camera:camera-core:${camerax_version}\"\n    implementation \"androidx.camera:camera-camera2:${camerax_version}\"\n    implementation \"androidx.camera:camera-lifecycle:${camerax_version}\"\n    implementation \"androidx.camera:camera-view:1.0.0-alpha10\"\n    implementation \"androidx.camera:camera-extensions:1.0.0-alpha10\"\n\n\n1200x 1200\n\n1024x768\n\n# Solution Code:\npreviewView.setScaleType(PreviewView.ScaleType.FIT_CENTER);\n\n\n&lt;androidx.camera.view.PreviewView\n   ...\n   android:scaleType=&quot;fitCenter&quot; /&gt;\n\n\nPreviewView\n\nFIT_CENTER\n\nFIT_START\n\nFIT_END\n\nFIT_*\n\nPreviewView\n\nPreviewView\n\nPreviewView\n\nFIT_CENTER",
    "resolution": "If you want the preview to fit the width of the screen, you might want to test setting the scale type of PreviewView to FIT_CENTER (or FIT_START or FIT_END, depending on how you want to layout the preview on the screen). You can either set the scale type programmatically: previewView.setScaleType(PreviewView.ScaleType.FIT_CENTER); Or in the layout file: <androidx.camera.view.PreviewView ... android:scaleType=\"fitCenter\" /> FIT_* fits either the width or height of the preview to match the width or height of PreviewView's container (or both, if the container and the preview resolution have the same aspect ratio), which dimension is matched depends on a couple of things, including the preview resolution, the natural orientation of the device and the display's current orientation. As a result, this approach might not work in all situations, at times, the preview will fill the width of its container, at others, it will fill the height of the container. If your concern is the aspect ratio of the displayed preview, another way to solve your problem is to set PreviewView's aspect ratio (in your case, I assume it would be 4x3), and set PreviewView to use a FIT_CENTER scale type.",
    "severity": "high",
    "tags": [
      "android",
      "android-camerax"
    ],
    "metadata": {
      "stackoverflow_question_id": "61396538",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 18257,
      "stackoverflow_creation_date": "2020-04-23T20:36:57.467Z"
    },
    "idempotency_key": "stackoverflow-61396538",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "asyncio.gather(*tasks) fails to await only a subset of all tasks",
    "body": "Problem to solve (simplified) Let's say I have 26 tasks to run in parallel. To minimize the load on server, I decide to run them 10 at time: first, 10 tasks in parallel, then the next 10, finally the remaining 6. I wrote a simple script to achieve this behavior: import asyncio from string import ascii_uppercase from typing import List TASK_NAMES = ascii_uppercase # 26 fake tasks in total class BatchWorker: \"\"\"Run a list of tasks in batch.\"\"\" BATCH_SIZE = 10 def __init__(self, tasks: List[asyncio.Task]): self._tasks = list(tasks) @property def batch_of_tasks(self): \"\"\"Yield all tasks by chunks of `BATCH_SIZE`\"\"\" start = 0 while 'there are items remaining in the list': end = start + self.BATCH_SIZE chunk = self._tasks[start:end] if not chunk: break yield chunk start = end async def run(self): print(f'Running {self.BATCH_SIZE} tasks at a time') for batch in self.batch_of_tasks: print(f'\\nWaiting for {len(batch)} tasks to complete...') await asyncio.gather(*batch) print('\\nSleeping...\\n---') await asyncio.sleep(1) async def task(name: str): print(f\"Task '{name}' is running...\") await asyncio.sleep(3) # Pretend to do something async def main(): tasks = [ asyncio.create_task(task(name)) for name in TASK_NAMES ] worker = BatchWorker(tasks) await worker.run() if __name__ == '__main__': asyncio.run(main()) What I would expect I expected the logs to be as following: Task A is running [...] Task J is running Sleeping --- Task K is running [...] Task T is running Sleeping --- [...] ... you get the point. What I actually get However, on the very first iteration, the worker wait for all 26 tasks to complete, despite the fact that I ask to gather only a batch of 10 of them. Check out the logs: Running 10 tasks at a time Waiting for 10 tasks to complete... Task 'A' is running... Task 'B' is running... Task 'C' is running... Task 'D' is running... Task 'E' is running... Task 'F' is running... Task 'G' is running... Task 'H' is running... Task 'I' is running... Task 'J' is running... Task 'K' is running... Task 'L' is running... Task 'M' is running... Task 'N' is running... Task 'O' is running... Task 'P' is running... Task 'Q' is running... Task 'R' is running... Task 'S' is running... Task 'T' is running... Task 'U' is running... Task 'V' is running... Task 'W' is running... Task 'X' is running... Task 'Y' is running... Task 'Z' is running... Sleeping... --- Waiting for 10 tasks to complete... Sleeping... --- Waiting for 6 tasks to complete... Sleeping... --- As you can see, there are 3 batchs in total (as expected) but only the first one does something. The remaining 2 have nothing to do. My questions Given that the official docs states that .gather() will run only the awaitable provided as parameter concurrently, why is my script running all of my tasks instead of chunks of them? What else am I supposed to use to make it work as I'd like?",
    "code": "Task A is running\n[...]\nTask J is running\nSleeping\n---\nTask K is running\n[...]\nTask T is running\nSleeping\n---\n[...]\n\n\nRunning 10 tasks at a time\n\nWaiting for 10 tasks to complete...\nTask 'A' is running...\nTask 'B' is running...\nTask 'C' is running...\nTask 'D' is running...\nTask 'E' is running...\nTask 'F' is running...\nTask 'G' is running...\nTask 'H' is running...\nTask 'I' is running...\nTask 'J' is running...\nTask 'K' is running...\nTask 'L' is running...\nTask 'M' is running...\nTask 'N' is running...\nTask 'O' is running...\nTask 'P' is running...\nTask 'Q' is running...\nTask 'R' is running...\nTask 'S' is running...\nTask 'T' is running...\nTask 'U' is running...\nTask 'V' is running...\nTask 'W' is running...\nTask 'X' is running...\nTask 'Y' is running...\nTask 'Z' is running...\n\nSleeping...\n---\n\nWaiting for 10 tasks to complete...\n\nSleeping...\n---\n\nWaiting for 6 tasks to complete...\n\nSleeping...\n---\n\n\n.gather()\n\n# Solution Code:\nasync def main():\n    tasks = [task(name) for name in TASK_NAMES]\n    worker = BatchWorker(tasks)\n    await worker.run()\n\n\ngather\n\nasyncio.create_task()\n\nasyncio.gather()\n\ngather()\n\ncreate_task()\n\ngather()\n\nensure_future()\n\nensure_future\n\ncreate_task\n\ncreate_task()\n\ncreate_task()\n\nBatchWorker\n\ngather",
    "resolution": "gather doesn't really \"run\" the awaitables, it just sleeps while the event loop does its thing, and wakes up once the awaitables it received are done. What your code does is: use asyncio.create_task() to spawn a bunch of awaitables in the background. use asyncio.gather() to wait in batches until some of them have finished. The fact that gather() in #2 receives a subset of tasks created in #1 won't prevent the rest of the tasks created in #1 from happily running. To fix the problem, you must postpone calling create_task() until the latest point. In fact, since gather() calls ensure_future() on its arguments (and ensure_future called with a coroutine object ends up calling create_task), you needn't call create_task() at all. If you remove the call to create_task() from main and just pass the coroutine objects to the BatchWorker (and subsequently to gather), the tasks will be both scheduled and awaited in batches, just as you want them: async def main(): tasks = [task(name) for name in TASK_NAMES] worker = BatchWorker(tasks) await worker.run()",
    "severity": "medium",
    "tags": [
      "python",
      "asynchronous",
      "async-await",
      "python-asyncio"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "61445643",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 3729,
      "stackoverflow_creation_date": "2020-04-26T18:08:45.750Z"
    },
    "idempotency_key": "stackoverflow-61445643",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Kubernetes plugins show Warning message WatchConnectionManager$1#onFailure",
    "body": "I have updated the the kubernetes plugins and the kubernetes-credentials plugins from: 'kubernetes:1.18.3', 'kubernetes-credentials:0.4.0' to 'kubernetes:1.25.3' 'kubernetes-client-api:4.9.1-1' 'kubernetes-credentials:0.6.2' and now I can see the following exception in the Jenkins logs. The log is littered with this warning message. I am able to run all jobs as expected, and without any issues. We have two kubernetes clusters that we are using with jenkins. Jenkins is running on a Bare metal cluster with kubernetes version v1.16.3. 2020-04-27 08:20:25.450+0000 [id=71902] INFO o.c.j.p.k.KubernetesClientProvider#gracefulClose: Not closing io.fabric8.kubernetes.client.DefaultKubernetesClient@7274903e: there are still running (1) or queued (0) calls 2020-04-27 08:20:37.054+0000 [id=71903] INFO hudson.model.AsyncPeriodicWork#lambda$doRun$0: Started prometheus_async_worker 2020-04-27 08:20:37.178+0000 [id=71903] INFO hudson.model.AsyncPeriodicWork#lambda$doRun$0: Finished prometheus_async_worker. 124 ms 2020-04-27 08:20:44.904+0000 [id=2857] WARNING i.f.k.c.d.i.WatchConnectionManager$1#onFailure: Exec Failure java.util.concurrent.RejectedExecutionException: Task okhttp3.RealCall$AsyncCall@1d4a676e rejected from java.util.concurrent.ThreadPoolExecutor@543ef1af[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 18] at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379) at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:183) Caused: java.io.InterruptedIOException: executor rejected at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:186) at okhttp3.Dispatcher.promoteAndExecute(Dispatcher.java:186) at okhttp3.Dispatcher.enqueue(Dispatcher.java:137) at okhttp3.RealCall.enqueue(RealCall.java:127) at okhttp3.internal.ws.RealWebSocket.connect(RealWebSocket.java:193) at okhttp3.OkHttpClient.newWebSocket(OkHttpClient.java:435) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.runWatch(WatchConnectionManager.java:158) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.access$1200(WatchConnectionManager.java:50) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2$1.execute(WatchConnectionManager.java:321) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$NamedRunnable.run(WatchConnectionManager.java:410) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748) 2020-04-27 08:21:16.904+0000 [id=2857] WARNING i.f.k.c.d.i.WatchConnectionManager$1#onFailure: Exec Failure java.util.concurrent.RejectedExecutionException: Task okhttp3.RealCall$AsyncCall@cfe8b6d rejected from java.util.concurrent.ThreadPoolExecutor@543ef1af[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 18] at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063) at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830) at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379) at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:183) Caused: java.io.InterruptedIOException: executor rejected at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:186) at okhttp3.Dispatcher.promoteAndExecute(Dispatcher.java:186) at okhttp3.Dispatcher.enqueue(Dispatcher.java:137) at okhttp3.RealCall.enqueue(RealCall.java:127) at okhttp3.internal.ws.RealWebSocket.connect(RealWebSocket.java:193) at okhttp3.OkHttpClient.newWebSocket(OkHttpClient.java:435) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.runWatch(WatchConnectionManager.java:158) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.access$1200(WatchConnectionManager.java:50) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2$1.execute(WatchConnectionManager.java:321) at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$NamedRunnable.run(WatchConnectionManager.java:410) at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) at java.util.concurrent.FutureTask.run(FutureTask.java:266) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) at java.lang.Thread.run(Thread.java:748)",
    "code": "'kubernetes:1.18.3',\n'kubernetes-credentials:0.4.0'\n\n\n'kubernetes:1.25.3'\n'kubernetes-client-api:4.9.1-1'\n'kubernetes-credentials:0.6.2'\n\n\n2020-04-27 08:20:25.450+0000 [id=71902] INFO    o.c.j.p.k.KubernetesClientProvider#gracefulClose: Not closing io.fabric8.kubernetes.client.DefaultKubernetesClient@7274903e: there are still running (1) or queued (0) calls\n2020-04-27 08:20:37.054+0000 [id=71903] INFO    hudson.model.AsyncPeriodicWork#lambda$doRun$0: Started prometheus_async_worker\n2020-04-27 08:20:37.178+0000 [id=71903] INFO    hudson.model.AsyncPeriodicWork#lambda$doRun$0: Finished prometheus_async_worker. 124 ms\n2020-04-27 08:20:44.904+0000 [id=2857]  WARNING i.f.k.c.d.i.WatchConnectionManager$1#onFailure: Exec Failure\njava.util.concurrent.RejectedExecutionException: Task okhttp3.RealCall$AsyncCall@1d4a676e rejected from java.util.concurrent.ThreadPoolExecutor@543ef1af[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 18]\n    at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)\n    at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)\n    at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:183)\nCaused: java.io.InterruptedIOException: executor rejected\n    at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:186)\n    at okhttp3.Dispatcher.promoteAndExecute(Dispatcher.java:186)\n    at okhttp3.Dispatcher.enqueue(Dispatcher.java:137)\n    at okhttp3.RealCall.enqueue(RealCall.java:127)\n    at okhttp3.internal.ws.RealWebSocket.connect(RealWebSocket.java:193)\n    at okhttp3.OkHttpClient.newWebSocket(OkHttpClient.java:435)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.runWatch(WatchConnectionManager.java:158)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.access$1200(WatchConnectionManager.java:50)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2$1.execute(WatchConnectionManager.java:321)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$NamedRunnable.run(WatchConnectionManager.java:410)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n2020-04-27 08:21:16.904+0000 [id=2857]  WARNING i.f.k.c.d.i.WatchConnectionManager$1#onFailure: Exec Failure\njava.util.concurrent.RejectedExecutionException: Task okhttp3.RealCall$AsyncCall@cfe8b6d rejected from java.util.concurrent.ThreadPoolExecutor@543ef1af[Terminated, pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 18]\n    at java.util.concurrent.ThreadPoolExecutor$AbortPolicy.rejectedExecution(ThreadPoolExecutor.java:2063)\n    at java.util.concurrent.ThreadPoolExecutor.reject(ThreadPoolExecutor.java:830)\n    at java.util.concurrent.ThreadPoolExecutor.execute(ThreadPoolExecutor.java:1379)\n    at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:183)\nCaused: java.io.InterruptedIOException: executor rejected\n    at okhttp3.RealCall$AsyncCall.executeOn(RealCall.java:186)\n    at okhttp3.Dispatcher.promoteAndExecute(Dispatcher.java:186)\n    at okhttp3.Dispatcher.enqueue(Dispatcher.java:137)\n    at okhttp3.RealCall.enqueue(RealCall.java:127)\n    at okhttp3.internal.ws.RealWebSocket.connect(RealWebSocket.java:193)\n    at okhttp3.OkHttpClient.newWebSocket(OkHttpClient.java:435)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.runWatch(WatchConnectionManager.java:158)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager.access$1200(WatchConnectionManager.java:50)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$2$1.execute(WatchConnectionManager.java:321)\n    at io.fabric8.kubernetes.client.dsl.internal.WatchConnectionManager$NamedRunnable.run(WatchConnectionManager.java:410)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\n",
    "severity": "medium",
    "tags": [
      "jenkins",
      "kubernetes",
      "jenkins-plugins"
    ],
    "metadata": {
      "stackoverflow_question_id": "61461081",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 1291,
      "stackoverflow_creation_date": "2020-04-27T14:24:06.827Z"
    },
    "idempotency_key": "stackoverflow-61461081",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it safe to move from the top/front of a STL stack/queue?",
    "body": "The question holds for both stacks and queues, but I will just allude to a stack here for simplicity. Assuming that we push non-const objects into std::stack, is it safe, when we're popping from the stack, to move the object at the top of the stack into a temporary variable before popping like in the following: std::stack<std::string> st; st.emplace(\"asdf\"); auto popped = std::move(st.top()); st.pop();",
    "code": "std::stack&lt;std::string&gt; st;\nst.emplace(\"asdf\");\nauto popped = std::move(st.top());\nst.pop(); \n\n\nstd::stack\n\n# Solution Code:\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;stack&gt;\n\nclass Foo {\n    public:\n    Foo() {\n        std::cout &lt;&lt; \"created\\n\";\n        }\n    ~Foo() {\n        std::cout &lt;&lt; \"destroyed  \" &lt;&lt; value &lt;&lt; \"\\n\";\n    }\n    Foo(const Foo&amp; other) : value(other.value) {\n        std::cout &lt;&lt; \"copied\\n\";\n    }\n    Foo(Foo&amp;&amp; other) : value(other.value) {\n        other.value++;\n        std::cout &lt;&lt; \"moved\\n\";\n    }\n    Foo(const Foo&amp;&amp; other) : value(other.value) {\n        std::cout &lt;&lt; \"const-moved\\n\";\n    }    \n    int value = 0;\n};\n\nint main()\n{\nstd::stack&lt;Foo&gt; st;\nst.emplace();\nconst std::stack&lt;Foo&gt;&amp; cst = st;\nauto popped = std::move(cst.top());\nst.pop();\n}\n\n\nstd::stack\n\npop\n\nstd::priority_queue\n\nstd::move\n\nother\n\nother\n\nother",
    "resolution": "Yes, it is safe, if you use the non-const version of the stack. (For a const version of the stack, you will most likely copy the object or get a compile error) Since std::stack returns a non-const reference to an object, you are free to modify it. This includes moving out from the object. Recall that moving from an object keeps it in a valid state (at least, if the class is implemented correctly). It does not destroy it. It is still there on the top of your stack. It just doesn't contain any definite value. The follow-up pop will call a proper destructor on it without a problem. Note, that the moving-out is not allowed for std::priority_queue, because that kind of container actually cares about the contents. And - for that reason it just returns a const-reference, which cannot be used to move things out from it. In response to Iamanon's observation that std::move can be perfomed on a const reference. In fact you can do that. Usually it is not useful though and it will usually reduce to a copy, instead of move. Consider the following example: #include <iostream> #include <string> #include <stack> class Foo { public: Foo() { std::cout << \"created\\n\"; } ~Foo() { std::cout << \"destroyed \" << value << \"\\n\"; } Foo(const Foo& other) : value(other.value) { std::cout << \"copied\\n\"; } Foo(Foo&& other) : value(other.value) { other.value++; std::cout << \"moved\\n\"; } Foo(const Foo&& other) : value(other.value) { std::cout << \"const-moved\\n\"; } int value = 0; }; int main() { std::stack<Foo> st; st.emplace(); const std::stack<Foo>& cst = st; auto popped = std::move(cst.top()); st.pop(); } If you run the above, a const-moved version will be used. However, as you implement your const-move constructor you will realize that you cannot really do much better than your regular copy constructor. That is because other remain immutable. For example, you cannot take ownership of anything other holds, and reset it within other. And if you remove the const-move constructor, the compiler will use the regular copy constructor. If the copy-constructor is deleted, and only move-constructor is provided - then the compiler will throw an error at you.",
    "severity": "medium",
    "tags": [
      "c++",
      "stack",
      "move"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "61468001",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1347,
      "stackoverflow_creation_date": "2020-04-27T20:36:40.500Z"
    },
    "idempotency_key": "stackoverflow-61468001",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to create a skewed column in pandas dataframe?",
    "body": "I would like to create a new column in a dataframe with a skewed distribution. I would like it to have 64000 data points, with a minimum of 0 (no negative values), and some sort of skewed shape where most people are closer to 0 and then it levels off to the right with higher values. I have tried this but I am unable to do it. Any help is greatly appreciated. rv = skewnorm.rvs(400000, size=100000)",
    "code": "rv = skewnorm.rvs(400000, size=100000)\n\n\n# Solution Code:\nimport numpy as np\n\nbeta = 10\ns = np.random.exponential(beta, 64000)\n\n\nimport numpy as np\n\nlam = 0.9\ns = np.random.poisson(lam , 64000)\n\n\nnumpy\n\nnumpy\n\npandas\n\nbeta\n\nbeta=10\n\nlam\n\nlam\n\nlam=0.9",
    "resolution": "You can use an exponential or poisson distribution depending on what you are after exactly. The exponential distribution will give continuous values while poisson will give discrete values. Both can be found in the numpy package. After creating the numpy array, it can easily be added to a pandas dataframe. Exponential distribution (numpy): import numpy as np beta = 10 s = np.random.exponential(beta, 64000) beta acts as a scale parameter and will determine how large the values will be while keeping the general distribution shape. Plotwith beta=10 and 100 bins: Poisson distribution (numpy): import numpy as np lam = 0.9 s = np.random.poisson(lam , 64000) The rate parameter lam will determine the shape of the distribution. Both the mean value and the variance will be equal to lam. Note that only discrete values are obtained. Plot with lam=0.9 and 8 bins:",
    "severity": "low",
    "tags": [
      "python",
      "pandas",
      "numpy",
      "statistics",
      "distribution"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "61472179",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 857,
      "stackoverflow_creation_date": "2020-04-28T03:34:39.330Z"
    },
    "idempotency_key": "stackoverflow-61472179",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Newline not working with lists in embedded messages - Discord.py",
    "body": "I have a list with newlines as variable called result ['**Status: **Enabled\\n**Q: **What is 2 + 2?\\n **\\\\ A: **4\\n\\n**Author: **UltimateDucc#9121\\n\\n\\n', '**Status: **Enabled\\n**Q: **Where is Ethiopia?\\n **\\\\ A: **Africa\\n\\n**Author: **BigSnacc#2466\\n\\n\\n'] When I send it as an embedded message through discord: l_msg = discord.Embed( title = f'Page {list_msg}', description = str(result), colour = discord.Colour.blue() ) await message.channel.send(embed = l_msg) It comes out as this with every \\n being ignored for whatever reason. Any help is appreciated.",
    "code": "['**Status: **Enabled\\n**Q: **What is 2 + 2?\\n **\\\\ A: **4\\n\\n**Author: **UltimateDucc#9121\\n\\n\\n', '**Status: **Enabled\\n**Q: **Where is Ethiopia?\\n **\\\\ A: **Africa\\n\\n**Author: **BigSnacc#2466\\n\\n\\n']\n\n\n            l_msg = discord.Embed(\n            title =  f'Page {list_msg}',\n            description = str(result), \n            colour = discord.Colour.blue()\n            )            \n            await message.channel.send(embed = l_msg)\n\n\nresult\n\n\\n",
    "resolution": "You need to convert the individual list entries into strings as opposed to just a string representation of the entire list. This is done with str.join(). Try changing the description line to: description=''.join(result), Result:",
    "severity": "medium",
    "tags": [
      "list",
      "newline",
      "discord.py"
    ],
    "metadata": {
      "stackoverflow_question_id": "61569212",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 5352,
      "stackoverflow_creation_date": "2020-05-03T03:17:25.837Z"
    },
    "idempotency_key": "stackoverflow-61569212",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Modify array of objects in JavaScript by setting the key value to one of the object's attributes",
    "body": "I have an array like this: [ { 0 : { id: 'somevalue', name: 'John Doe', age: '20' } } ... ] I would like to modify the array, for example to set the key to the id attribute like this: [ { somevalue : { name: 'John Doe', age: '20' } } ] What would be the best way to achieve this. Thanks for your time.",
    "code": "[\n  {\n    0 : {\n      id: 'somevalue',\n      name: 'John Doe',\n      age: '20'\n    }\n  }\n  ...\n]\n\n\n[\n  {\n    somevalue : {\n      name: 'John Doe',\n      age: '20'\n    }\n  }\n]\n\n\nid\n\n# Solution Code:\nmap",
    "resolution": "Assuming there is only one nested object, you can use the function map as follow: let arr = [ { 0 : { id: 'somevalue', name: 'John Doe', age: '20' } } ]; let result = arr.map(o => { let [{id, ...rest}] = Object.values(o); return {[id]: rest}; }); console.log(result);",
    "severity": "medium",
    "tags": [
      "javascript",
      "arrays"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "61953152",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1303,
      "stackoverflow_creation_date": "2020-05-22T10:40:51.877Z"
    },
    "idempotency_key": "stackoverflow-61953152",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Provisioning a custom Docker image on AWS CodeBuild takes a very long time",
    "body": "My Dockerfile: FROM mcr.microsoft.com/dotnet/framework/sdk:4.8-windowsservercore-ltsc2016 COPY AWSCLIV2.msi . RUN Start-Process msiexec.exe -Wait -ArgumentList '/I AWSCLIV2.msi /quiet /qn /norestart /log awscli.log' RUN rm AWSCLIV2.msi My CodeBuild environment needs to be able to build a .NET Framework project as well as use AWS CLI. Due to limitations, I can only have one CodeBuild stage. I push to ECR the docker image created using the above Dockerfile and set my CodeBuild environment to use that image. However it takes ~10 minutes to provision. CodeBuild provides caching that only lasts ~15 minutes which is not helpful for more infrequent builds. I also found this solution that others linked to https://github.com/aws/aws-codebuild-docker-images/issues/26#issuecomment-370177343 but I'm not sure how it can be applied to Windows containers. If anyone has any pointers on decreasing the provisioning time, I would really appreciate it.",
    "code": "FROM mcr.microsoft.com/dotnet/framework/sdk:4.8-windowsservercore-ltsc2016\nCOPY AWSCLIV2.msi .\nRUN Start-Process msiexec.exe -Wait -ArgumentList '/I AWSCLIV2.msi /quiet /qn /norestart /log awscli.log'\nRUN rm AWSCLIV2.msi\n",
    "severity": "medium",
    "tags": [
      "amazon-web-services",
      "docker",
      "aws-codepipeline",
      "aws-codebuild",
      "amazon-ecr"
    ],
    "metadata": {
      "stackoverflow_question_id": "62025740",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2739,
      "stackoverflow_creation_date": "2020-05-26T15:29:29.333Z"
    },
    "idempotency_key": "stackoverflow-62025740",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is it okay to use GitHub Secrets with a public repo?",
    "body": "I have a private repo with a GitHub Action that pushes the code to an AWS S3 bucket when there's a new push to the master branch. I need a pair of access keys to be able to push the contents and I'm storing them as GitHub Secrets and referencing them as environment variables in the build script. Now I would like to make this repo public in the near future, and I was wondering if it's a safe thing to do. The workflow (.github/workflows/main.yml) itself for the action is indeed publicly visible and what it does, but it only has the single command aws s3 cp myfile s3://my-bucket and absolutely no access keys in the code itself. Is it safe to use GitHub Secrets for the Actions in a public repo? I am the sole owner and only contributor, this will not change in the future. I might switch to CodePipeline with a webhook later but wanted to try GitHub Actions first. Thanks.",
    "code": "aws s3 cp myfile s3://my-bucket\n\n# Solution Code:\necho &quot;::add-mask::My sensitive value&quot;\n\n\n- uses: thirdparty/foo-action@172ec762f2ac8e050062398456fccd30444f8f30\n\n\n***\n\nwrite\n\npull_request\n\nGITHUB_TOKEN\n\nGITHUB_TOKEN\n\npull_request_target",
    "resolution": "Yes, secrets are safe to use in public repositories but there are some things you should be careful about. All secrets are automatically masked in build logs and show as ***. However, if during your workflow you create a sensitive credential from a secret (e.g. base64 an API key) then you should mask the new value so it doesn't leak in the build log. echo \"::add-mask::My sensitive value\" If you are very concerned about the security of your secrets, I would also suggest not using third party GitHub actions directly by following the action's tags or branches. Fork the action and use your fork in workflows. This will prevent the possibility of someone modifying an action you are using to capture secrets being used by the action, and send them to some external server under their control. Alternatively, use the action directly and reference the commit hash for the version you want to target. - uses: thirdparty/foo-action@172ec762f2ac8e050062398456fccd30444f8f30 Use two-factor authentication (2FA) on your account. If your account is compromised, it's trivial for an attacker to create a workflow and export your secrets. Repository collaborators or any organization users with write access are able to create a workflow to export secrets. So manage access to your repository carefully. Points related to pull requests: Public repository pull_request events triggered by forks do not have access to secrets, except for the default GITHUB_TOKEN. Additionally, The GITHUB_TOKEN has read-only access when an event is triggered by a forked repository. These are intentional restrictions enforced by GitHub Actions to prevent an attacker creating a pull request containing a workflow that captures secrets, or uses secrets to perform operations. The pull_request_target event does not have secret restrictions for events triggered by forks. By default it checks out the last commit on the base branch, but it is possible to checkout the pull request HEAD. Choosing to do this requires extreme caution. Passing secrets to any code that could be modified in a pull request could allow an attacker to write code to export secrets.",
    "severity": "high",
    "tags": [
      "git",
      "amazon-web-services",
      "github",
      "github-actions"
    ],
    "metadata": {
      "stackoverflow_question_id": "62142092",
      "stackoverflow_score": 39,
      "stackoverflow_view_count": 13695,
      "stackoverflow_creation_date": "2020-06-01T22:40:58.760Z"
    },
    "idempotency_key": "stackoverflow-62142092",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Fetching pHp array or map as JSON data in Flutter?",
    "body": "I am trying to fetch some data from server using json in my flutter app. This is the function I am using. List<String> userFriendList = [\"No Friends\"]; Future<http.Response> _fetchSampleData() { return http.get('//link/to/server/fetcher/test_fetcher.php'); } Future<void> getDataFromServer() async { final response = await _fetchSampleData(); if (response.statusCode == 200) { Map<String, dynamic> data = json.decode(response.body); userLvl = data[\"lvl\"].toString(); userName = data[\"name\"]; userFriendList = List(); userFriendList = data[\"friendlist\"]; } else { // If the server did not return a 200 OK response, // then throw an exception. print('Failed to load data from server'); } } I get the usrLvl and userName right. But for userFriendList, I get the following error: [ERROR:flutter/lib/ui/ui_dart_state.cc(157)] Unhandled Exception: type 'List<dynamic>' is not a subtype of type 'List<String>' Code on the server end (test_fetcher.php) : <?php $myObj->name = \"JohnDoe\"; $myObj->lvl = 24; $friends = array(\"KumarVishant\", \"DadaMuni\", \"BabuBhatt\", \"BesuraGayak\", \"BabluKaneria\", \"MorrisAbhishek\", \"GoodLuckBaba\", \"ViratKohli\", \"LeanderPaes\"); $myObj->friendlist = $friends; header('Content-Type: application/json'); $myJSON = json_encode($myObj); echo $myJSON; ?>",
    "code": "List&lt;String&gt; userFriendList = [\"No Friends\"];  \n\nFuture&lt;http.Response&gt; _fetchSampleData() {\n            return http.get('//link/to/server/fetcher/test_fetcher.php');\n}\n\nFuture&lt;void&gt; getDataFromServer() async {\n            final response = await _fetchSampleData();\n\n            if (response.statusCode == 200) {\n              Map&lt;String, dynamic&gt; data = json.decode(response.body);    \n                userLvl = data[\"lvl\"].toString();\n                userName = data[\"name\"];\n                userFriendList = List();\n                userFriendList = data[\"friendlist\"];  \n            } else {\n              // If the server did not return a 200 OK response,\n              // then throw an exception.\n              print('Failed to load data from server');\n            }\n}\n\n\n&lt;?php\n    $myObj-&gt;name = \"JohnDoe\";\n    $myObj-&gt;lvl = 24;\n\n    $friends = array(\"KumarVishant\", \"DadaMuni\", \"BabuBhatt\", \"BesuraGayak\", \"BabluKaneria\", \"MorrisAbhishek\", \"GoodLuckBaba\", \"ViratKohli\", \"LeanderPaes\");\n\n    $myObj-&gt;friendlist = $friends;\n\n    header('Content-Type: application/json');\n    $myJSON = json_encode($myObj);\n    echo $myJSON;\n?&gt;\n\n\nusrLvl\n\nuserName\n\nuserFriendList\n\n[ERROR:flutter/lib/ui/ui_dart_state.cc(157)] Unhandled Exception: type 'List&lt;dynamic&gt;' is not a subtype of type 'List&lt;String&gt;'\n\n# Solution Code:\nList&lt;dynamic&gt; != List&lt;String&gt;",
    "resolution": "This is a cast error: List<dynamic> != List<String> You can convert / cast your list in several ways. I advise you to use this library to simplify your json / Dart object conversion : https://pub.dev/packages/json_serializable json_serializable will generate the conversion methods (fromJson and toJson) and take care of everything. It's easier and safer than doing it manually.",
    "severity": "medium",
    "tags": [
      "php",
      "json",
      "flutter",
      "dart"
    ],
    "metadata": {
      "language": "php",
      "framework": "flutter",
      "stackoverflow_question_id": "62191188",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 4044,
      "stackoverflow_creation_date": "2020-06-04T09:25:01.487Z"
    },
    "idempotency_key": "stackoverflow-62191188",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to disable request stdout loggin ing php-FPM Nginx",
    "body": "I'm trying to make php-fpm not log requests that it does in the current format when running through docker-compose. (php 7.4-alpine fpm): php | 192.168.96.4 - 04/Jun/2020:15:24:27 +0000 \"GET /index.php\" 302 php | 192.168.96.4 - 04/Jun/2020:15:24:28 +0000 \"GET /index.php\" 302 php | 192.168.96.4 - 04/Jun/2020:15:24:29 +0000 \"GET /index.php\" 200 I want to do this so that my docker-compose file only logs logs generated by my PHP application to stdout. How do i disable this logging, so that FPM doesnt log these lines anymore? What i have Tried I have tried to change the FPM log level and format but neither seem to have effect? command: [\"php-fpm\", '-d', 'log_level=warning', '-d', 'access.format= \"\"'] but this didnt provide any result. I Tried googling for this but came up empty handed (only old php5 search results)",
    "code": "php       | 192.168.96.4 -  04/Jun/2020:15:24:27 +0000 \"GET /index.php\" 302\nphp       | 192.168.96.4 -  04/Jun/2020:15:24:28 +0000 \"GET /index.php\" 302\nphp       | 192.168.96.4 -  04/Jun/2020:15:24:29 +0000 \"GET /index.php\" 200\n\n\n\n    command: [\"php-fpm\", '-d', 'log_level=warning', '-d', 'access.format= \"\"']\n\n\n# Solution Code:\n[www]\naccess.log = /dev/null\n",
    "resolution": "This can be achieved pretty easily by adding the following line to your PHP-FPM pool configuration file (usually found as /usr/local/etc/php-fpm.d/www.conf in Alpine) [www] access.log = /dev/null",
    "severity": "medium",
    "tags": [
      "php",
      "laravel",
      "fpm"
    ],
    "metadata": {
      "language": "php",
      "framework": "laravel",
      "stackoverflow_question_id": "62198594",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1864,
      "stackoverflow_creation_date": "2020-06-04T15:37:41.423Z"
    },
    "idempotency_key": "stackoverflow-62198594",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "What happens if future.get() is called after promise.set_value()?",
    "body": "I create a promise and future objects: Promise<int> p = promise<int>(); Future<int> f = p.get_future(); I pass the promise to the background thread, which eventually calls p.set_value(myInt). In the main thread, I call f.get(). What if f.get() is called after p.set_value(myInt) is called? Would f.get() immediately return myInt?",
    "code": "Promise&lt;int&gt; p = promise&lt;int&gt;(); \nFuture&lt;int&gt; f = p.get_future();\n\n\np.set_value(myInt)\n\nf.get()\n\nf.get()\n\np.set_value(myInt)\n\nf.get()\n\nmyInt",
    "severity": "low",
    "tags": [
      "c++",
      "multithreading",
      "promise",
      "future",
      "race-condition"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "62298948",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 509,
      "stackoverflow_creation_date": "2020-06-10T08:20:11.863Z"
    },
    "idempotency_key": "stackoverflow-62298948",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to send the form data up a state using react-hook-form in react?",
    "body": "I am new to React. What I want to do is have a submit button to log the data/state onto the console from the form's input fields which is in another component. To implement this, I have the ResultList component which renders the Filter component which has the form. When the submit button is clicked the data from the input fields should log onto the console. I used react-form-hook to implement the form. This is the link to the sandbox ResultList component looks like: import React, { Component } from 'react'; import { render } from 'react-dom'; import Filter from './Filter'; import { Button, Dropdown, Input, } from 'semantic-ui-react'; export default class ResultList extends Component { constructor(props){ super(props); this.state = { myName: '', myEmail: '' }; } handleParentData = (formModel) => { console.log(formModel); this.setState({...formModel},()=>alert(JSON.stringify(this.state))); } render() { return ( <div> <Filter handleData={this.handleParentData}/> <p>{this.state.myName}</p> <p>{this.state.email}</p> </div> ) } } and Filter component looks like: import React, { Component } from 'react'; import {useForm} from 'react-hook-form'; export default function Filter() { const {register,handleSubmit} = useForm(); const onSubmit = (data) => { // console.log(data); this.props.handleData(data); } return ( <div> <form onSubmit={handleSubmit(onSubmit)}> Name: <input type=\"text\" name=\"myName\" ref={register}/> <br /> Email: <input type=\"text\" name=\"myEmail\" ref={register}/> <br /><br /> <input type=\"submit\" value=\"Submit\"/> </form> </div> ) }",
    "code": "import React, { Component } from 'react';\nimport { render } from 'react-dom';\nimport Filter from './Filter';\n\nimport { Button, Dropdown, Input, } from 'semantic-ui-react';\n\nexport default class ResultList extends Component {\n   constructor(props){\n      super(props);\n\n      this.state = {\n          myName: '',\n          myEmail: ''\n      };\n    }\n\n    handleParentData = (formModel) =&gt; {\n      console.log(formModel);\n\n      this.setState({...formModel},()=&gt;alert(JSON.stringify(this.state)));\n    }\n\n  render() {\n    return (\n        &lt;div&gt;\n\n          &lt;Filter handleData={this.handleParentData}/&gt;\n          &lt;p&gt;{this.state.myName}&lt;/p&gt;  \n          &lt;p&gt;{this.state.email}&lt;/p&gt;     \n        &lt;/div&gt;\n    )\n  }\n}\n\n\nimport React, { Component } from 'react';\nimport {useForm} from 'react-hook-form';\n\nexport default function Filter() {\n\n  const {register,handleSubmit} = useForm();\n\n  const onSubmit = (data) =&gt; {\n    // console.log(data);\n    this.props.handleData(data);\n  } \n\n  return (\n    &lt;div&gt;\n      &lt;form onSubmit={handleSubmit(onSubmit)}&gt;\n        Name: &lt;input type=\"text\" name=\"myName\" ref={register}/&gt;\n        &lt;br /&gt;\n        Email: &lt;input type=\"text\" name=\"myEmail\" ref={register}/&gt;\n        &lt;br /&gt;&lt;br /&gt;\n        &lt;input type=\"submit\" value=\"Submit\"/&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  )\n\n}\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "reactjs",
      "react-hook-form"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "62423157",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 6932,
      "stackoverflow_creation_date": "2020-06-17T06:58:33.853Z"
    },
    "idempotency_key": "stackoverflow-62423157",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Ionic 5 Popover Position",
    "body": "I am using ion-popover. In the example in the docs, when you click the three dots at the top right, the popover is shown right next to the clicked button. What would be a good way of reproducing this? Is there a built-in way of doing it? Since I didn't find a way, I am trying to set the styles for the popover manually, but that doesnt work either. My page.ts const popover = await this.popoverController.create({ component: OptionsComponent, cssClass: 'my-custom-class', event: ev }); return await popover.present(); My global.scss .my-custom-class .popover-content { position: absolute; right: 0; top: 0; } Am I doing something wrong? Is there a better way to approach this?",
    "resolution": "It's explained in the docs (emphasis mine) : To present a popover, call the present method on a popover instance. In order to position the popover relative to the element clicked, a click event needs to be passed into the options of the the present method. HTML <div (click)=\"showPopover($event)\"> <div>AAA</div> </div> In your class, pass the event as an argument to your method: showPopover(event) { const popover = await this.popoverController.create({ event, component: OptionsComponent, cssClass: 'my-custom-class', // optional }); return await popover.present(); } No need for extra CSS unless you want to style the content of your modal.",
    "severity": "high",
    "tags": [
      "ionic-framework",
      "ionic5"
    ],
    "metadata": {
      "stackoverflow_question_id": "62485377",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 12012,
      "stackoverflow_creation_date": "2020-06-20T11:45:43.510Z"
    },
    "idempotency_key": "stackoverflow-62485377",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "when should I pass 'className' props to react component?",
    "body": "Some react components pass the className props to the child component. I haven't seen any need for passing className as a prop in my projects. why this className props is been used ? and when should i adopt this approach? import styled from 'styled-components' const ReactComponent = ({ className }) => { return <div className={className}/> } const StyledComponent = styled(ReactComponent)``;",
    "code": "className\n\nclassName\n\n# Solution Code:\nconst ReactComponent = ({ className }) =&gt; {\n  return &lt;div className={className}/&gt;\n}\n\n\nreturn (\n  &lt;div className='container'&gt;\n    &lt;ReactComponent className='is-red' /&gt;\n    &lt;ReactComponent className='is-blue'/&gt;\n  &lt;/div&gt;\n)\n\n\nclassName\n\nclassName\n\nReactComponent",
    "resolution": "It really depends on the context, but generally, the className prop is passed down from parent to child to either overwrite, or append the existing className on the child component. This is particularly useful in the scenario when you are building reusable base components which needed to be easily extended and customised. Given your example, const ReactComponent = ({ className }) => { return <div className={className}/> } Let's say we have a parent component which renders the child ReactComponent, and we need to customise the stylings for this instance: return ( <div className='container'> <ReactComponent className='is-red' /> <ReactComponent className='is-blue'/> </div> ) This will allow the parent to render both components, with different styles, and without the need to repeat the same code.",
    "severity": "medium",
    "tags": [
      "reactjs",
      "styled-components"
    ],
    "metadata": {
      "stackoverflow_question_id": "62547199",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 8151,
      "stackoverflow_creation_date": "2020-06-24T03:37:17.517Z"
    },
    "idempotency_key": "stackoverflow-62547199",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Amchart 4: How to highlight bar/column on click of bar/column in bar plots",
    "body": "I am trying to highlight the bar/column on click of bar/column in Amchart 4. Using the below code, I am getting the value of current clicked bar/column but using the column.isActive property, the bar/column is not getting highlighted. I found this Amchart official Documentation link, but it is about on click of axis label. I am trying to implement the same but on click of bar/column, not axis label. This is the code implementation: am4core.ready(function() { // Themes begin am4core.useTheme(am4themes_animated); // Themes end // Create chart instance var chart = am4core.create(\"chartdiv\", am4charts.XYChart); // Add data chart.data = [{ \"country\": \"USA\", \"visits\": 2025 }, { \"country\": \"China\", \"visits\": 1882 }, { \"country\": \"Japan\", \"visits\": 1809 }, { \"country\": \"Germany\", \"visits\": 1322 }, { \"country\": \"UK\", \"visits\": 1122 }]; // Create axes var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis()); categoryAxis.dataFields.category = \"country\"; categoryAxis.renderer.grid.template.location = 0; categoryAxis.renderer.minGridDistance = 30; categoryAxis.renderer.labels.template.adapter.add(\"dy\", function(dy, target) { if (target.dataItem && target.dataItem.index & 2 == 2) { return dy + 25; } return dy; }); var valueAxis = chart.yAxes.push(new am4charts.ValueAxis()); // Create series var series = chart.series.push(new am4charts.ColumnSeries()); series.dataFields.valueY = \"visits\"; series.dataFields.categoryX = \"country\"; series.name = \"Visits\"; series.columns.template.tooltipText = \"{categoryX}: [bold]{valueY}[/]\"; series.columns.template.fillOpacity = .8; var columnTemplate = series.columns.template; columnTemplate.strokeWidth = 2; columnTemplate.strokeOpacity = 1; // Make a panning cursor chart.cursor = new am4charts.XYCursor(); chart.cursor.behavior = \"panXY\"; chart.cursor.snapToSeries = series; chart.events.on(\"hit\", function(ev){ chart.series.each(function(series) { if (series instanceof am4charts.ColumnSeries) { series.columns.each(function(column) { if (column.dataItem.categories.categoryX == series.tooltipDataItem.dataContext.country) { console.log(column.dataItem.categories.categoryX, series.tooltipDataItem.dataContext.country); column.isActive = true; } else { column.isActive = false; } }) } }) }) }); // end am4core.ready() Now, I also found this stackoverflow post link, but that was related to the Amchart version 3 libraray and I am using Amchart 4. Kindly check this jfiddle implementation.",
    "code": "am4core.ready(function() {\n\n// Themes begin\nam4core.useTheme(am4themes_animated);\n// Themes end\n\n// Create chart instance\nvar chart = am4core.create(&quot;chartdiv&quot;, am4charts.XYChart);\n\n// Add data\nchart.data = [{\n  &quot;country&quot;: &quot;USA&quot;,\n  &quot;visits&quot;: 2025\n}, {\n  &quot;country&quot;: &quot;China&quot;,\n  &quot;visits&quot;: 1882\n}, {\n  &quot;country&quot;: &quot;Japan&quot;,\n  &quot;visits&quot;: 1809\n}, {\n  &quot;country&quot;: &quot;Germany&quot;,\n  &quot;visits&quot;: 1322\n}, {\n  &quot;country&quot;: &quot;UK&quot;,\n  &quot;visits&quot;: 1122\n}];\n\n// Create axes\n\nvar categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\ncategoryAxis.dataFields.category = &quot;country&quot;;\ncategoryAxis.renderer.grid.template.location = 0;\ncategoryAxis.renderer.minGridDistance = 30;\n\ncategoryAxis.renderer.labels.template.adapter.add(&quot;dy&quot;, function(dy, target) {\n  if (target.dataItem &amp;&amp; target.dataItem.index &amp; 2 == 2) {\n    return dy + 25;\n  }\n  return dy;\n});\n\nvar valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n\n// Create series\nvar series = chart.series.push(new am4charts.ColumnSeries());\nseries.dataFields.valueY = &quot;visits&quot;;\nseries.dataFields.categoryX = &quot;country&quot;;\nseries.name = &quot;Visits&quot;;\nseries.columns.template.tooltipText = &quot;{categoryX}: [bold]{valueY}[/]&quot;;\nseries.columns.template.fillOpacity = .8;\n\nvar columnTemplate = series.columns.template;\ncolumnTemplate.strokeWidth = 2;\ncolumnTemplate.strokeOpacity = 1;\n\n// Make a panning cursor\nchart.cursor = new am4charts.XYCursor();\nchart.cursor.behavior = &quot;panXY&quot;;\nchart.cursor.snapToSeries = series;\n\nchart.events.on(&quot;hit&quot;, function(ev){\n chart.series.each(function(series) {\n     if (series instanceof am4charts.ColumnSeries) {\n       series.columns.each(function(column) {\n         if (column.dataItem.categories.categoryX == series.tooltipDataItem.dataContext.country) {           \n           console.log(column.dataItem.categories.categoryX, series.tooltipDataItem.dataContext.country);\n           column.isActive = true;\n         } else {\n           column.isActive = false;\n         }\n       })\n     }\n   })\n})\n}); // end am4core.ready()\n\n\ncolumn.isActive\n\n# Solution Code:\nvar tActiveState = series.columns.template.states.create(&quot;active&quot;);\ntActiveState.properties.strokeWidth = 0;\ntActiveState.properties.fill = &quot;crimson&quot;;\n\n\nseries.columns.template.events.on(&quot;hit&quot;, function(event){\n  series.columns.each(function(column){\n    if(column !== event.target){\n      column.setState(&quot;default&quot;);\n      column.isActive = false\n    }\n  })\n});\n\n\nseries.columns.template.events.on(&quot;hit&quot;, function(event){\n  series.columns.each(function(column){\n    //REM: Deactivate all non clicked columns\n    if(column !== event.target){\n      column.setState(&quot;default&quot;);\n      column.isActive = false\n    }\n    //REM: Toggle the clicked column\n    else{\n      column.isActive = !column.isActive\n    }\n  })\n});\n\n\nhit\n\ntogglable\n\nseries.columns.template.togglable = true;\n\nfalse\n\ntrue\n\nhit",
    "resolution": "You do not require the hit listener for this per definition, only if you want to deactivate other columns while activating the clicked one. You merely have to make the columns togglable and define the actual properties in active state. You have to make the columns togglable. series.columns.template.togglable = true; This will toggle the active state from false to true. togglable Properties while state is active var tActiveState = series.columns.template.states.create(\"active\"); tActiveState.properties.strokeWidth = 0; tActiveState.properties.fill = \"crimson\"; You have to set the properties of the active state. states Deactivate other columns on hit series.columns.template.events.on(\"hit\", function(event){ series.columns.each(function(column){ if(column !== event.target){ column.setState(\"default\"); column.isActive = false } }) }); For this we are to use the hit listener again. Event Listeners Example based on your code am4core.ready(function() { // Themes begin am4core.useTheme(am4themes_animated); // Themes end // Create chart instance var chart = am4core.create(\"chartdiv\", am4charts.XYChart); // Add data chart.data = [{ \"country\": \"USA\", \"visits\": 2025 }, { \"country\": \"China\", \"visits\": 1882 }, { \"country\": \"Japan\", \"visits\": 1809 }, { \"country\": \"Germany\", \"visits\": 1322 }, { \"country\": \"UK\", \"visits\": 1122 }]; // Create axes var categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis()); categoryAxis.dataFields.category = \"country\"; categoryAxis.renderer.grid.template.location = 0; categoryAxis.renderer.minGridDistance = 30; categoryAxis.renderer.labels.template.adapter.add(\"dy\", function(dy, target) { if (target.dataItem && target.dataItem.index & 2 == 2) { return dy + 25; } return dy; }); var valueAxis = chart.yAxes.push(new am4charts.ValueAxis()); // Create series var series = chart.series.push(new am4charts.ColumnSeries()); series.dataFields.valueY = \"visits\"; series.dataFields.categoryX = \"country\"; series.name = \"Visits\"; series.columns.template.tooltipText = \"{categoryX}: [bold]{valueY}[/]\"; series.columns.template.fillOpacity = .8; //REM: Making the columns togglable. series.columns.template.togglable = true; //REM: Setting the properties of the \"hover\" state var tHoverState = series.columns.template.states.create(\"hover\"); tHoverState.properties.strokeWidth = 1; tHoverState.properties.fill = \"yellow\"; //REM: Setting the properties of the active state \"isActive=true\" var tActiveState = series.columns.template.states.create(\"active\"); tActiveState.properties.strokeWidth = 0; tActiveState.properties.fill = \"crimson\"; var columnTemplate = series.columns.template; columnTemplate.strokeWidth = 2; columnTemplate.strokeOpacity = 1; // Make a panning cursor chart.cursor = new am4charts.XYCursor(); chart.cursor.behavior = \"panXY\"; chart.cursor.snapToSeries = series; //REM: To deactivate other columns on click series.columns.template.events.on(\"hit\", function(event){ series.columns.each(function(column){ if(column !== event.target){ column.setState(\"default\"); column.isActive = false } }) }); }); // end am4core.ready() <script src=\"https://www.amcharts.com/lib/4/core.js\"></script> <script src=\"https://www.amcharts.com/lib/4/charts.js\"></script> <script src=\"https://www.amcharts.com/lib/4/themes/animated.js\"></script> <div id = 'chartdiv'></div> Alternatively you can skip togglable and only use hit series.columns.template.events.on(\"hit\", function(event){ series.columns.each(function(column){ //REM: Deactivate all non clicked columns if(column !== event.target){ column.setState(\"default\"); column.isActive = false } //REM: Toggle the clicked column else{ column.isActive = !column.isActive } }) });",
    "severity": "medium",
    "tags": [
      "javascript",
      "bar-chart",
      "amcharts4"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "62850948",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1310,
      "stackoverflow_creation_date": "2020-07-11T15:16:12.320Z"
    },
    "idempotency_key": "stackoverflow-62850948",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "distutils.spawn not available unless imported",
    "body": "I have distutils installed and it works in some cases. However when trying to use a submodule it won't import unless I explicitly import it. $ python Python 3.8.5 (default, Jul 21 2020, 10:42:08) [Clang 11.0.0 (clang-1100.0.33.17)] on darwin Type \"help\", \"copyright\", \"credits\" or \"license\" for more information. >>> import distutils >>> distutils.spawn Traceback (most recent call last): File \"<stdin>\", line 1, in <module> AttributeError: module 'distutils' has no attribute 'spawn' >>> from distutils import spawn >>> distutils.spawn <module 'distutils.spawn' from '/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/distutils/spawn.py'> I'm on Mac and have tried inside a venv and outside of one. I have a dependency that calls distutils.spawn.find_executable('python3') and isn't working.",
    "code": "$ python\nPython 3.8.5 (default, Jul 21 2020, 10:42:08) \n[Clang 11.0.0 (clang-1100.0.33.17)] on darwin\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import distutils\n&gt;&gt;&gt; distutils.spawn\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nAttributeError: module 'distutils' has no attribute 'spawn'\n&gt;&gt;&gt; from distutils import spawn\n&gt;&gt;&gt; distutils.spawn\n&lt;module 'distutils.spawn' from '/usr/local/Cellar/python@3.8/3.8.5/Frameworks/Python.framework/Versions/3.8/lib/python3.8/distutils/spawn.py'&gt;\n\n\ndistutils\n\ndistutils.spawn.find_executable('python3')\n\n# Solution Code:\ndistutils/__init__.py\n\n.spawn\n\ndistutils\n\nimport os\n\nos.path\n\nos.py",
    "resolution": "This is perfectly normal. This is how Python import works. Unless distutils/__init__.py imports .spawn itself (which it doesn't do) you have to import it yourself to make it available. Importing just distutils is not enough to access submodules. Counterexample: import os makes os.path automatically available but that's because os.py makes it available for you.",
    "severity": "medium",
    "tags": [
      "python",
      "distutils"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "63123335",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1519,
      "stackoverflow_creation_date": "2020-07-27T20:47:01.803Z"
    },
    "idempotency_key": "stackoverflow-63123335",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "OpenAPI / Swagger 3.0: Default discriminator value",
    "body": "How do you set a default discriminator for each child class? For example, take this schema: components: schemas: Pet: type: object required: - petType properties: petType: type: string discriminator: propertyName: petType Cat: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Cat` properties: name: type: string Dog: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Dog` properties: bark: type: string Code-generators for the above schema will create a client where the petType value must be explicitly set by the programmer. Why can't the Cat object have the petType be set to Cat by default? I tried using default value to get it to work. However, the resulting code includes shadowed properties (same property on the child and parent). components: schemas: Pet: type: object required: - petType properties: petType: type: string discriminator: propertyName: petType Cat: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Cat` properties: name: type: string petType: type: string default: 'Cat' Dog: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Dog` properties: bark: type: string petType: type: string default: 'Dog' Removing the property petType from the parent also doesn't feel right since technically it's more of a property of the parent than the child. components: schemas: Pet: type: object required: - petType discriminator: propertyName: petType Cat: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Cat` properties: name: type: string petType: type: string default: 'Cat' Dog: allOf: - $ref: '#/components/schemas/Pet' - type: object # all other properties specific to a `Dog` properties: bark: type: string petType: type: string default: 'Dog' Do you have any solutions to this problem?",
    "code": "components:\n  schemas:\n    Pet:\n      type: object\n      required:\n      - petType\n      properties:\n        petType:\n          type: string\n      discriminator:\n        propertyName: petType\n    Cat:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Cat`\n        properties:\n          name:\n            type: string\n    Dog:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Dog`\n        properties:\n          bark:\n            type: string\n\n\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      required:\n      - petType\n      properties:\n        petType:\n          type: string\n      discriminator:\n        propertyName: petType\n    Cat:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Cat`\n        properties:\n          name:\n            type: string\n          petType:\n            type: string\n            default: 'Cat'\n    Dog:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Dog`\n        properties:\n          bark:\n            type: string\n          petType:\n            type: string\n            default: 'Dog'\n\n\ncomponents:\n  schemas:\n    Pet:\n      type: object\n      required:\n      - petType\n      discriminator:\n        propertyName: petType\n    Cat:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Cat`\n        properties:\n          name:\n            type: string\n          petType:\n            type: string\n            default: 'Cat'\n    Dog:\n      allOf:\n      - $ref: '#/components/schemas/Pet'\n      - type: object\n        # all other properties specific to a `Dog`\n        properties:\n          bark:\n            type: string\n          petType:\n            type: string\n            default: 'Dog'\n\n\npetType\n\nCat\n\npetType\n\nCat\n\ndefault\n\npetType",
    "severity": "medium",
    "tags": [
      "polymorphism",
      "swagger",
      "openapi",
      "swagger-codegen",
      "openapi-generator"
    ],
    "metadata": {
      "stackoverflow_question_id": "63237569",
      "stackoverflow_score": 12,
      "stackoverflow_view_count": 6740,
      "stackoverflow_creation_date": "2020-08-03T22:06:11.560Z"
    },
    "idempotency_key": "stackoverflow-63237569",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Ionic/Angular Pushing object to Array Object",
    "body": "I am trying to push an Object with values to an Array but I always get null is not an object in the console. But when I console.log the object it is filled and not null so why can't I push it into the array? let obj: Lektion; obj = { LektionID: data2.string[0], Date: data2.string[1], StudentID: data2.string[2], Name: data2.string[3], Status: (data2.string[4] !== '0'), TeacherID: data2.string[5] }; console.log(obj); this.Lektionen.push(obj); Output",
    "code": "            let obj: Lektion;\n            obj = {\n                LektionID: data2.string[0],\n                Date: data2.string[1],\n                StudentID: data2.string[2],\n                Name: data2.string[3],\n                Status: (data2.string[4] !== '0'),\n                TeacherID: data2.string[5]\n            };\n            console.log(obj);\n            this.Lektionen.push(obj);\n\n\nArray\n\nnull\n\nconsole.log\n\nnull",
    "severity": "medium",
    "tags": [
      "angular",
      "object",
      "ionic-framework"
    ],
    "metadata": {
      "framework": "angular",
      "stackoverflow_question_id": "63296165",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1005,
      "stackoverflow_creation_date": "2020-08-07T06:10:38.697Z"
    },
    "idempotency_key": "stackoverflow-63296165",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Autocomplete for visual studio code not working for C#/Unity",
    "body": "I have just begun trying to learn C# with Unity. I'm following guides and tutorials. In these guides I see auto completions that my visual studio code is not showing me. For example, in one video I see the following auto-completion: On my own installation, I see the following: Note that the auto-completion is not hinting Destroy. Other methods/functions such as GetComponent are also not auto-completed. I believe that the correct folder is opened in VSC. Visual studio code is set as my default editor in unity as per this question. I have installed the .Net Core Extension Pack, which includes the C# extension pack for VSC. What am I missing?",
    "code": "Destroy\n\nGetComponent\n\n.Net Core Extension Pack",
    "severity": "high",
    "tags": [
      "c#",
      "unity-game-engine",
      "visual-studio-code"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "63314062",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 12549,
      "stackoverflow_creation_date": "2020-08-08T09:56:44.873Z"
    },
    "idempotency_key": "stackoverflow-63314062",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Async function not working in WorkManager",
    "body": "I am using a package WorkManager to perform some background tasks.(updating user's location). https://pub.dev/packages/workmanager Here is my top level function. void callbackDispatcher() { Workmanager.executeTask((task, inputData) { _HomeScreenState().updateUserLoc(); return Future.value(true); }); } Here is my initstate, where i initialised the workmanager. void initState() { super.initState(); Workmanager.initialize( callbackDispatcher, isInDebugMode: true, ); Workmanager.registerPeriodicTask( \"1\", \"h\" frequency: Duration(minutes: 15), ); here is my updateUserLoc() function. updateUserLoc() async { await GetusersLocation(); GeoFirePoint point = geo.point(latitude: lat, longitude: long); _firestore.collection('locations').document(widget.userid).setData( {'position': point.data}, merge: true, ); print(\"executing the updateUserLoc\"); } This does not work, when i place \"print(\"executing the updateUserLoc\");\" just below the function, it gets printed, but when below, it does not. What am i doing wrong here. please help.",
    "code": "void callbackDispatcher() {\n  Workmanager.executeTask((task, inputData) {\n    _HomeScreenState().updateUserLoc();\n\n    return Future.value(true);\n  });\n}\n\n\nvoid initState() {\n    super.initState();\n\n    \n    Workmanager.initialize(\n      callbackDispatcher,\n      isInDebugMode: true,\n    );\n\n    Workmanager.registerPeriodicTask(\n      &quot;1&quot;,\n&quot;h&quot;\n \n      frequency: Duration(minutes: 15),\n    );\n\n\nupdateUserLoc() async {\n    await GetusersLocation();\n\n    GeoFirePoint point = geo.point(latitude: lat, longitude: long);\n    _firestore.collection('locations').document(widget.userid).setData(\n      {'position': point.data},\n      merge: true, \n    );\n\n    print(&quot;executing the updateUserLoc&quot;);\n  }\n\n\n# Solution Code:\nvoid callbackDispatcher() {\n  Workmanager.executeTask((task, inputData) async {\n    await _HomeScreenState().updateUserLoc();\n\n    return true;\n  });\n}\n",
    "resolution": "You need to properly await your futures: void callbackDispatcher() { Workmanager.executeTask((task, inputData) async { await _HomeScreenState().updateUserLoc(); return true; }); }",
    "severity": "low",
    "tags": [
      "firebase",
      "flutter",
      "dart",
      "android-workmanager"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "63374462",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 730,
      "stackoverflow_creation_date": "2020-08-12T10:17:19.190Z"
    },
    "idempotency_key": "stackoverflow-63374462",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Combining Python trace information and logging",
    "body": "I'm trying to write a highly modular Python logging system (using the logging module) and include information from the trace module in the log message. For example, I want to be able to write a line of code like: my_logger.log_message(MyLogFilter, \"this is a message\") and have it include the trace of where the \"log_message\" call was made, instead of the actual logger call itself. I almost have the following code working except for the fact that the trace information is from the logging.debug() call rather than the my_logger.log_message() one. class MyLogFilter(logging.Filter): def __init__(self): self.extra = {\"error_code\": 999} self.level = \"debug\" def filter(self, record): for key in self.extra.keys(): setattr(record, key, self.extra[key]) class myLogger(object): def __init__(self): fid = logging.FileHandler(\"test.log\") formatter = logging.Formatter('%(pathname)s:%(lineno)i, %(error_code)%I, %(message)s' fid.setFormatter(formatter) self.my_logger = logging.getLogger(name=\"test\") self.my_logger.setLevel(logging.DEBUG) self.my_logger.addHandler(fid) def log_message(self, lfilter, message): xfilter = lfilter() self.my_logger.addFilter(xfilter) log_funct = getattr(self.logger, xfilter.level) log_funct(message) if __name__ == \"__main__\": logger = myLogger() logger.log_message(MyLogFilter, \"debugging\") This is a lot of trouble to go through in order to make a simple logging.debug call but in reality, I will have a list of many different versions of MyLogFilter at different logging levels that contain different values of the \"error_code\" attribute and I'm trying to make the log_message() call as short and sweet as possible because it will be repeated numerous times. I would appreciate any information about how to do what I want to, or if I'm completely off on the wrong track and if that's the case, what I should be doing instead. I would like to stick to the internal python modules of \"logging\" and \"trace\" if that's possible instead of using any external solutions.",
    "code": "my_logger.log_message(MyLogFilter, &quot;this is a message&quot;)\n\n\nclass MyLogFilter(logging.Filter):\n\n    def __init__(self):\n        self.extra = {&quot;error_code&quot;: 999}\n        self.level = &quot;debug&quot;\n\n    def filter(self, record):\n        for key in self.extra.keys():\n           setattr(record, key, self.extra[key])\n\nclass myLogger(object):\n\n    def __init__(self):\n        fid = logging.FileHandler(&quot;test.log&quot;)\n        formatter = logging.Formatter('%(pathname)s:%(lineno)i, %(error_code)%I, %(message)s' \n        fid.setFormatter(formatter)\n\n        self.my_logger = logging.getLogger(name=&quot;test&quot;)\n        self.my_logger.setLevel(logging.DEBUG)\n        self.my_logger.addHandler(fid)\n\n    def log_message(self, lfilter, message):\n        xfilter = lfilter()\n        self.my_logger.addFilter(xfilter)\n        log_funct = getattr(self.logger, xfilter.level)\n        log_funct(message)\n\nif __name__ == &quot;__main__&quot;:\n\n    logger = myLogger()\n    logger.log_message(MyLogFilter, &quot;debugging&quot;)\n\n\n\nlogging.debug()\n\nmy_logger.log_message()\n\nlogging.debug\n\nMyLogFilter\n\nlog_message()\n\n# Solution Code:\nlogging\n\npip install structlog\n\nStackInfoRenderer",
    "resolution": "or if I'm completely off on the wrong track and if that's the case, what I should be doing instead. My strong suggestion is that you view logging as a solved problem and avoid reinventing the wheel. If you need more than the standard library's logging module provides, it's probably something like structlog (pip install structlog) Structlog will give you: data binding cloud native structured logging pipelines ...and more It will handle most local and cloud use cases. Below is one common configuration that will output colorized logging to a .log file, to stdout, and can be extended further to log to eg AWS CloudWatch. Notice there is an included processor: StackInfoRenderer -- this will include stack information to all logging calls with a 'truthy' value for stack_info (this is also in stdlib's logging btw). If you only want stack info for exceptions, then you'd want to do something like exc_info=True for your logging calls. main.py from structlog import get_logger from logging_config import configure_local_logging configure_local_logging() logger = get_logger() logger.info(\"Some random info\") logger.debug(\"Debugging info with stack\", stack_info=True) try: assert 'foo'=='bar' catch Exception as e: logger.error(\"Error info with an exc\", exc_info=e) logging_config.py import logging import structlog def configure_local_logging(filename=__name__): \"\"\"Provides a structlog colorized console and file renderer for logging in eg ING tickets\"\"\" timestamper = structlog.processors.TimeStamper(fmt=\"%Y-%m-%d %H:%M:%S\") pre_chain = [ structlog.stdlib.add_log_level, timestamper, ] logging.config.dictConfig({ \"version\": 1, \"disable_existing_loggers\": False, \"formatters\": { \"plain\": { \"()\": structlog.stdlib.ProcessorFormatter, \"processor\": structlog.dev.ConsoleRenderer(colors=False), \"foreign_pre_chain\": pre_chain, }, \"colored\": { \"()\": structlog.stdlib.ProcessorFormatter, \"processor\": structlog.dev.ConsoleRenderer(colors=True), \"foreign_pre_chain\": pre_chain, }, }, \"handlers\": { \"default\": { \"level\": \"DEBUG\", \"class\": \"logging.StreamHandler\", \"formatter\": \"colored\", }, \"file\": { \"level\": \"DEBUG\", \"class\": \"logging.handlers.WatchedFileHandler\", \"filename\": filename + \".log\", \"formatter\": \"plain\", }, }, \"loggers\": { \"\": { \"handlers\": [\"default\", \"file\"], \"level\": \"DEBUG\", \"propagate\": True, }, } }) structlog.configure_once( processors=[ structlog.stdlib.add_log_level, structlog.stdlib.PositionalArgumentsFormatter(), timestamper, structlog.processors.StackInfoRenderer(), structlog.processors.format_exc_info, structlog.stdlib.ProcessorFormatter.wrap_for_formatter, ], context_class=dict, logger_factory=structlog.stdlib.LoggerFactory(), wrapper_class=structlog.stdlib.BoundLogger, cache_logger_on_first_use=True, ) Structlog can do quite a bit more than this. I suggest you check it out.",
    "severity": "medium",
    "tags": [
      "python",
      "trace",
      "error-logging"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "63404899",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 9720,
      "stackoverflow_creation_date": "2020-08-14T00:25:35.310Z"
    },
    "idempotency_key": "stackoverflow-63404899",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Waiting on certificate issuance from order status \"pending\"",
    "body": "I'm running into an issue handling tls certificates with cert-manager, I'm following the documentation and added some extras to work with Traefik as an ingress. Currently, I have this YAML files: cluster-issuer.yaml apiVersion: cert-manager.io/v1alpha2 kind: ClusterIssuer metadata: name: letsencrypt-staging namespace: secure-alexguedescom spec: acme: email: user@gmail.com server: https://acme-staging-v02.api.letsencrypt.org/directory privateKeySecretRef: # Secret resource used to store the account's private key. name: letsencrypt-staging # Add a single challenge solver, HTTP01 using nginx solvers: - selector: {} http01: ingress: class: traefik-cert-manager traefik-ingress.yaml apiVersion: extensions/v1beta1 kind: Ingress metadata: annotations: # add an annotation indicating the issuer to use. cert-manager.io/cluster-issuer: letsencrypt-staging name: secure-alexguedescom-ingress-http namespace: secure-alexguedescom spec: rules: - host: secure.alexguedes.com http: paths: - backend: serviceName: secure-alexguedescom-nginx servicePort: 80 path: / tls: - hosts: - secure.alexguedes.com secretName: secure-alexguedescom-cert cert-staging.yaml apiVersion: cert-manager.io/v1alpha2 kind: Certificate metadata: name: secure-alexguedescom-cert namespace: secure-alexguedescom spec: commonName: secure.alexguedes.com secretName: letsencrypt-staging dnsNames: - secure.alexguedes.com issuerRef: name: letsencrypt-staging kind: ClusterIssuer Inspecting the certs I have this error message: Message: Issuing certificate as Secret does not contain a certificate Reason: MissingData Also inspecting the certificaterequest I have this log messages: Status: Conditions: Last Transition Time: 2020-08-16T00:32:01Z Message: Waiting on certificate issuance from order secure-alexguedescom/secure-alexguedescom-cert-q8w5p-1982372682: \"pending\" Reason: Pending Status: False Type: Ready Events: Type Reason Age From Message ---- ------ ---- ---- ------- Normal OrderCreated 11m cert-manager Created Order resource secure-alexguedescom/secure-alexguedescom-cert-q8w5p-1982372682 Normal OrderPending 11m cert-manager Waiting on certificate issuance from order secure-alexguedescom/secure-alexguedescom-cert-q8w5p-1982372682: \"\" I'm not sure which piece is wrong, using Helm v2 with Tiller and k8s v1.7 Any ideas? Thanks in advance",
    "code": "Traefik\n\nYAML\n\ncertificaterequest\n\n# Solution Code:\nalexguedes.com\n\nClusterIssuer\n\nsecure.alexguedes.com\n\n443",
    "resolution": "The typical problem with letsencrypt certs is the letsencrypt itself not being able to validate who you are and that you own the domain. In this case, alexguedes.com. With cert-manager you can do Domain Validation and HTTP Validation. Based on the posted ClusterIssuer you are doing HTTP Validation. So you need to make sure that secure.alexguedes.com resolves to a globally available IP address and that Traefik port 443 is listening on that IP address.",
    "severity": "high",
    "tags": [
      "ssl",
      "kubernetes",
      "lets-encrypt",
      "cert-manager",
      "k3s"
    ],
    "metadata": {
      "stackoverflow_question_id": "63432101",
      "stackoverflow_score": 23,
      "stackoverflow_view_count": 29048,
      "stackoverflow_creation_date": "2020-08-16T00:47:34.420Z"
    },
    "idempotency_key": "stackoverflow-63432101",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Parquet predicate pushdown filtering with Dask",
    "body": "How can you apply predicate pushdown filters based on the Parquet min/max values when reading a Dask DataFrame? Suppose you have a data lake with 4 Parquet files, each with nickname and age columns. This table shows the Parquet filename, the age min value, and the age max value for each file. | File | min | max | |---------------|-----|-----| | pets1.parquet | 1 | 9 | | pets2.parquet | 3 | 9 | | pets3.parquet | 2 | 4 | | pets4.parquet | 7 | 12 | Suppose you'd like to perform an analysis on all the rows of data where the age is greater than 10. You know that you can skip pets1.parquet, pets2.parquet, and pets3.parquet when performing this analysis because the max age in those files is less than the min value in our filter query. Skipping files can make some analyses run a lot faster. Here's the read_parquet method signature in the API docs: dask.dataframe.read_parquet(path, columns=None, filters=None, categories=None, index=None, storage_options=None, engine='auto', gather_statistics=None, split_row_groups=None, chunksize=None, **kwargs). Will the filter parameter help? Can you please provide a code snippet?",
    "code": "| File          | min | max |\n|---------------|-----|-----|\n| pets1.parquet | 1   | 9   |\n| pets2.parquet | 3   | 9   |\n| pets3.parquet | 2   | 4   |\n| pets4.parquet | 7   | 12  |\n\n\nnickname\n\nage\n\npets1.parquet\n\npets2.parquet\n\npets3.parquet\n\nread_parquet\n\ndask.dataframe.read_parquet(path, columns=None, filters=None, categories=None, index=None, storage_options=None, engine='auto', gather_statistics=None, split_row_groups=None, chunksize=None, **kwargs)\n\nfilter\n\n# Solution Code:\ngather_statistics=True\n\n_metadata",
    "resolution": "Yes, the filters argument is exactly what you want, something like the following: dask.dataframe.read_parquet(path, filters=[('age', \">\", 10)], ...) This will skip row-groups/files where none of the rows can satisfy the condition. Note that to get this to work, you may need either gather_statistics=True or a global _metadata file (whose existence will depend on how the data were written).",
    "severity": "low",
    "tags": [
      "dask",
      "parquet"
    ],
    "metadata": {
      "stackoverflow_question_id": "63569589",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 907,
      "stackoverflow_creation_date": "2020-08-24T22:38:02.727Z"
    },
    "idempotency_key": "stackoverflow-63569589",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How the synchronized_pool_resource actually works?",
    "body": "I am studying about the polymorphic memory allocation in C++17. I modified an example which uses monotonic_buffer_resource for vector allocations to use a synchronized_pool_resource. I detected a strange behavior. Specifically , there are many memory allocations , just for two additions in the vector. I did not run benchmarks but I think that this a huge penalty for the performance The program was compiled using the O2 g++ -std=c++17 -O2 -Wall -pedantic Below is the code class debug_resource : public std::pmr::memory_resource { public: explicit debug_resource(std::string name, std::pmr::memory_resource* up = std::pmr::get_default_resource()) : _name{ std::move(name) }, _upstream{ up } { } void* do_allocate(size_t bytes, size_t alignment) override { std::cout << _name << \" do_allocate(): \" << bytes << '\\n'; void* ret = _upstream->allocate(bytes, alignment); return ret; } void do_deallocate(void* ptr, size_t bytes, size_t alignment) override { std::cout << _name << \" do_deallocate(): \" << bytes << '\\n'; _upstream->deallocate(ptr, bytes, alignment); } bool do_is_equal(const std::pmr::memory_resource& other) const noexcept override { return this == &other; } private: std::string _name; std::pmr::memory_resource* _upstream; }; int main() { debug_resource default_dbg{ \"default\" }; std::pmr::synchronized_pool_resource pool(&default_dbg); // debug_resource dbg{ \"pool\", &pool }; std::pmr::vector<std::string> strings{ &pool }; strings.emplace_back(\"Hello Short String\"); strings.emplace_back(\"Hello Short String 2\"); } The console output is the following default do_allocate(): 32 default do_allocate(): 528 default do_allocate(): 32 default do_allocate(): 528 default do_allocate(): 1000 default do_allocate(): 192 default do_allocate(): 968 default do_allocate(): 192 default do_deallocate(): 528 default do_deallocate(): 32 default do_deallocate(): 1000 default do_deallocate(): 192 default do_deallocate(): 968 default do_deallocate(): 192 default do_deallocate(): 528 default do_deallocate(): 32",
    "code": "class debug_resource : public std::pmr::memory_resource {\n\npublic:\n    explicit debug_resource(std::string name,\n        std::pmr::memory_resource* up = std::pmr::get_default_resource())\n        : _name{ std::move(name) }, _upstream{ up }\n    { }\n\n    void* do_allocate(size_t bytes, size_t alignment) override {\n        std::cout &lt;&lt; _name &lt;&lt; &quot; do_allocate(): &quot; &lt;&lt; bytes &lt;&lt; '\\n';\n        void* ret = _upstream-&gt;allocate(bytes, alignment);\n        return ret;\n    }\n    void do_deallocate(void* ptr, size_t bytes, size_t alignment) override {\n        std::cout &lt;&lt; _name &lt;&lt; &quot; do_deallocate(): &quot; &lt;&lt; bytes &lt;&lt; '\\n';\n        _upstream-&gt;deallocate(ptr, bytes, alignment);\n    }\n    bool do_is_equal(const std::pmr::memory_resource&amp; other) const noexcept override {\n        return this == &amp;other;\n    }\n\nprivate:\n    std::string _name;\n    std::pmr::memory_resource* _upstream;\n};\nint main()\n{\n  \n    debug_resource default_dbg{ &quot;default&quot; };\n    std::pmr::synchronized_pool_resource pool(&amp;default_dbg);\n  //  debug_resource dbg{ &quot;pool&quot;, &amp;pool };\n    std::pmr::vector&lt;std::string&gt; strings{ &amp;pool };\n\n   strings.emplace_back(&quot;Hello Short String&quot;);\n   strings.emplace_back(&quot;Hello Short String 2&quot;);\n}\n",
    "severity": "medium",
    "tags": [
      "c++",
      "c++17",
      "allocator",
      "c++pmr"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "63683240",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 3862,
      "stackoverflow_creation_date": "2020-09-01T07:32:02.960Z"
    },
    "idempotency_key": "stackoverflow-63683240",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Rust Ownership Smart Pointers",
    "body": "I've recently started learning Rust and just learned about the Smart Pointers (Box, Rc and RefCell). In the guide they talked about Rc implementing \"shared ownership\". But if I understood it correctly, the whole point of the ownership system is that there can only be one owner. And to me (still a Rust newbie) it seems as if Rc and RefCell take ownership of they value they contain and just \"expose\" different types of references to the contained value? Am I wrong and if yes: why is Rust allowed to \"cheat\" the ownership system like that and would I be theoretically able to implement my own \"cheating\" types?",
    "code": "Box\n\nRc\n\nRefCell\n\nRc\n\nRc\n\nRefCell\n\n# Solution Code:\nunsafe\n\nunsafe\n\nBox\n\nUnsafeCell\n\nRc\n\nArc",
    "resolution": "if I understood it correctly, the whole point of the ownership system is that there can only be one owner. No. Rust guarantees that there can be no more than a single mutable borrow and there cannot be mutable and non-mutable borrows at the same time. It doesn't say anything about owners. why is Rust allowed to \"cheat\" the ownership system It doesn't. would I be theoretically able to implement my own \"cheating\" types Yes. Those types are all implemented in Rust¹. Those types are battle-tested and perfectly safe under Rust's safety rules, but they require the use of unsafe at a lower level. Note that unsafe doesn't permit going around the rule that you can have one mutable borrow XOR any number of non-mutable borrows, but using unsafe, you could do it anyway. This, of course, would actually be unsafe (and trigger undefined behavior). 1: Although some of those types are implemented using features that are still private to the compiler so you wouldn't be able to do everything as efficiently as the standard library, and Box and UnsafeCell are special to the language and cannot be reproduced by a normal library. There are for example many crates providing Rc or Arc alternatives which are better that the standard ones in some cases.",
    "severity": "low",
    "tags": [
      "rust"
    ],
    "metadata": {
      "language": "rust",
      "stackoverflow_question_id": "63764669",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 420,
      "stackoverflow_creation_date": "2020-09-06T13:26:44.737Z"
    },
    "idempotency_key": "stackoverflow-63764669",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "React Hook useEffect has a missing dependency: 'props'",
    "body": "I am trying to use react hooks (this is my first time) but I get this error when using useEffect like the above componentDidMount: 'React Hook useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when any prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside useEffect' I'm trying to make a GET request to an API, and that needs some props in the url. This is my code: function SomeComponent(props) { const [data, setData] = useState({}); const [loading, setLoading] = useState(true); const [hasError, setErrors] = useState(false); useEffect(() => { async function fetchData() { try { let response = await Axios.get( `/some-url/${props.obj.id}/abc`, ); let { data } = response.data; setData(data); setLoading(false); props.totalStats({data }); } catch (error) { setErrors(error); setLoading(false); } } fetchData(); }, []); } <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"></script> <script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"></script> I've been looking and tried these solutions, but they don't work for me: const { id } = props.obj.id; const {totalStats} = props.totalStats useEffect(()=>{ //Here is the code //I replace the $ {props.obj.id} by the id and the function props.totalStats by //totalStats },[id,totalStats] Doing it that way I obtained an undefined in the id and in the call to the function. Then I tried doing it this way: useEffect(()=>{ //here is the code like the first one },[props]) But this makes n number of requests to the api",
    "code": "function SomeComponent(props) {\n  const objId = props.obj.id;\n  const totalStats = props.totalStats;\n  \n  const [data, setData] = useState({});\n  const [loading, setLoading] = useState(true);\n  const [hasError, setErrors] = useState(false);\n  \n  useEffect(() =&gt; {\n    async function fetchData() {\n      try {\n        let response = await Axios.get( `/some-url/${objId}/abc`,\n          \n        );\n        let { data } = response.data;\n        setData(data);\n        setLoading(false);\n        totalStats({data });\n      } catch (error) {\n        setErrors(error);\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [objId, totalStats]);\n}\n",
    "resolution": "Remove the braces from the constant imports. So it should look something like this: function SomeComponent(props) { const objId = props.obj.id; const totalStats = props.totalStats; const [data, setData] = useState({}); const [loading, setLoading] = useState(true); const [hasError, setErrors] = useState(false); useEffect(() => { async function fetchData() { try { let response = await Axios.get( `/some-url/${objId}/abc`, ); let { data } = response.data; setData(data); setLoading(false); totalStats({data }); } catch (error) { setErrors(error); setLoading(false); } } fetchData(); }, [objId, totalStats]); }",
    "severity": "medium",
    "tags": [
      "javascript",
      "reactjs",
      "api",
      "react-hooks"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "63838599",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2612,
      "stackoverflow_creation_date": "2020-09-10T22:45:36.613Z"
    },
    "idempotency_key": "stackoverflow-63838599",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Slow delivery of Firebase Push Notifications",
    "body": "I use Firebase Cloud Functions which listen for Firestore changes and send push notifications accordingly. However these notifications are very slow. They arrive to end user with almost a minute delay. For chat application which I'm creating is not so good and should be instantly. This is the code from Cloud function which does listening and sending the notification: admin.firestore() .collection('users') .where('id', '==', idFrom) .get() .then(querySnapshot2 => { querySnapshot2.forEach(userFrom => { console.log(`Found user from: ${userFrom.data().nickname}`) const payload = { notification: { title: `You have a message from \"${userFrom.data().nickname}\"`, body: contentMessage, priority: 'high', badge: '1', sound: 'mytone' } } // push to the target device admin .messaging() .sendToDevice(userTo.data().pushToken, payload) .then(response => { console.log('Successfully sent message:', response) }) .catch(error => { console.log('Error sending message:', error) }) }) }) Is there a way to improve this?",
    "code": "              admin.firestore()\n              .collection('users')\n              .where('id', '==', idFrom)\n              .get()\n              .then(querySnapshot2 =&gt; {\n                querySnapshot2.forEach(userFrom =&gt; {\n                  console.log(`Found user from: ${userFrom.data().nickname}`)\n                  const payload = {\n                    notification: {\n                      title: `You have a message from &quot;${userFrom.data().nickname}&quot;`,\n                      body: contentMessage,\n                      priority: 'high',\n                      badge: '1',\n                      sound: 'mytone'\n                    }\n                  }\n                  // push to the target device\n                  admin\n                    .messaging()\n                    .sendToDevice(userTo.data().pushToken, payload)\n                    .then(response =&gt; {\n                      console.log('Successfully sent message:', response)\n                    })\n                    .catch(error =&gt; {\n                      console.log('Error sending message:', error)\n                    })\n                })\n              })\n",
    "severity": "medium",
    "tags": [
      "firebase",
      "flutter",
      "google-cloud-functions",
      "firebase-cloud-messaging"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "63854943",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3354,
      "stackoverflow_creation_date": "2020-09-11T22:13:25.297Z"
    },
    "idempotency_key": "stackoverflow-63854943",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What is the most efficient way to insert a number into an ordered array?",
    "body": "Inserting numbers into a sorted array is a very common need. Mathematica stack exchange for reference. Its priority queue appears extremely fast. https://mathematica.stackexchange.com/questions/224249/best-way-to-insert-element-into-an-ordered-list-at-the-correct-position For J: Using the built in sort /:~y where y is the sorted array - examples: /:~ y,45.3 or /:~ y,3 6 67.7 would be the first choice. Quicksort and bubblesort are much slower. For a single insert rotating the number into the sorted list - insert=: 4 : 0 NB. insert x into ordered array y where=: x (< i. 1:) y z=: (($y)-where)|.(where|.y),x ) is around 2.5 times faster on y=.i.10000000 than /:~y anything faster?",
    "code": "insert=: 4 : 0\n NB. insert x into ordered array y\n where=: x (&lt; i. 1:) y\n z=: (($y)-where)|.(where|.y),x\n)\n\n\n/:~y\n\ny\n\n/:~ y,45.3\n\n/:~ y,3 6 67.7\n\ny=.i.10000000\n\n/:~y\n\n# Solution Code:\ny =: i.1e7\n100 timespacex'y I. 35'\n 2.94e_6 896\n100 timespacex'(35 ,: _) ];.0 y'\n 4.85e_6 1856\n\n\n100 timespacex'35,~(35 ,: _) ];.0 y'\n 0.0368233 1.3422e8\n\n\ninsert=: 4 : 0\n NB. insert x into ordered array y\n where=: x (&lt; i. 1:) y\n z=: (($y)-where)|.(where|.y),x \n)\n\ninsert2=: 4 : 0\n where=: y I. x\n NB. z =: where ({.,x,}.) y\n z =: (where ];.0 y),x,((where ,: _) ];.0 y)\n)\n\ny =: i.1e7\n(35 insert y) -: (35 insert2 y)\n 1\n\n100 timespacex'35 insert y'\n 0.0745025 2.68437e8\n100 timespacex'35 insert2 y'\n 0.0738203 2.68437e8\n\n\nI.\n\n[;.0",
    "resolution": "Binary search I. is the best you can do to find an element in a sorted array. [;.0 is the best you can do to extract a subarray. These are very fast on their own: y =: i.1e7 100 timespacex'y I. 35' 2.94e_6 896 100 timespacex'(35 ,: _) ];.0 y' 4.85e_6 1856 The bottleneck seems to be appending the new element thus copying the list to make the new list. 100 timespacex'35,~(35 ,: _) ];.0 y' 0.0368233 1.3422e8 insert=: 4 : 0 NB. insert x into ordered array y where=: x (< i. 1:) y z=: (($y)-where)|.(where|.y),x ) insert2=: 4 : 0 where=: y I. x NB. z =: where ({.,x,}.) y z =: (where ];.0 y),x,((where ,: _) ];.0 y) ) y =: i.1e7 (35 insert y) -: (35 insert2 y) 1 100 timespacex'35 insert y' 0.0745025 2.68437e8 100 timespacex'35 insert2 y' 0.0738203 2.68437e8 Other, more complicated, ways may offer better results, depending on what you need and what kind of input you have.",
    "severity": "low",
    "tags": [
      "j"
    ],
    "metadata": {
      "stackoverflow_question_id": "64124014",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 256,
      "stackoverflow_creation_date": "2020-09-29T16:41:06.073Z"
    },
    "idempotency_key": "stackoverflow-64124014",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "C memcpy to swap rows of 2D array",
    "body": "I am trying to use memcpy C library function to swap rows of 2D array(array of strings). Source files for this task is below: main.c #include <stdlib.h> #include \"main.h\" char *table[NBLOCK] = { \"abcdefghi\", \"defghiabc\", \"ghiabcdef\", \"bcaefdhig\", \"efdhigbca\", \"higbcaefd\", \"cabfdeigh\", \"fdeighcab\", \"ighcabfde\", }; int main() { swap_rows(table, 0, 2); return 0; } main.h #define NBLOCK 9 #define BLOCK_CELLS 9 void swap_rows(char**, int, int); shuffle.c #include <string.h> #include \"main.h\" void swap_rows(char **table, int r1, int r2) { char tmp[BLOCK_CELLS]; size_t size = sizeof(char) * BLOCK_CELLS; memcpy(tmp, table[r1], size); memcpy(table[r1], table[r2], size); /* SIGSEGV here */ memcpy(table[r2], tmp, size); } Segmentation fault occurs inside swap_rows function. Out of three memcpy calls shown above, the first one works as expected. I commented out the last two memcpy calls and added below line: table[0][0] = 'z'; But, segmentation fault occurred again. Why I am not allowed to override values of table in swap_rows function?",
    "code": "#include &lt;stdlib.h&gt;\n#include &quot;main.h&quot;\n\nchar *table[NBLOCK] = {\n    &quot;abcdefghi&quot;,\n    &quot;defghiabc&quot;,\n    &quot;ghiabcdef&quot;,\n    &quot;bcaefdhig&quot;,\n    &quot;efdhigbca&quot;,\n    &quot;higbcaefd&quot;,\n    &quot;cabfdeigh&quot;,\n    &quot;fdeighcab&quot;,\n    &quot;ighcabfde&quot;,\n};\n\nint main() {\n    swap_rows(table, 0, 2);\n    return 0;\n}\n\n\n#define NBLOCK 9\n#define BLOCK_CELLS 9\n\nvoid swap_rows(char**, int, int);\n\n\n#include &lt;string.h&gt;\n#include &quot;main.h&quot;\n\nvoid swap_rows(char **table, int r1, int r2) {\n    char tmp[BLOCK_CELLS];\n    size_t size = sizeof(char) * BLOCK_CELLS;\n\n    memcpy(tmp, table[r1], size);\n    memcpy(table[r1], table[r2], size); /* SIGSEGV here */\n    memcpy(table[r2], tmp, size);\n}\n\n\ntable[0][0] = 'z';\n\n\nmemcpy\n\nswap_rows\n\nmemcpy\n\nmemcpy\n\ntable\n\nswap_rows\n\n# Solution Code:\nvoid swap_rows(char **table, int r1, int r2) {\n    char* tmp;\n\n    tmp = table[r1];\n    table[r1] = table[r2];\n    table[r2] = tmp;\n}\n\n\nvoid swap_rows(char **table, int r1, int r2) {\n    char* tmp;\n    size_t size = sizeof(tmp);\n\n    memcpy(&amp;tmp, &amp;table[r1], size);\n    memcpy(&amp;table[r1], &amp;table[r2], size);\n    memcpy(&amp;table[r2], &amp;tmp, size);\n}\n\n\nmemcpy()",
    "resolution": "You are not allowed to modify string literals. For more information, see c - Why do I get a segmentation fault when writing to a \"char *s\" initialized with a string literal, but not \"char s[]\"?. You can modify values of pointers to swap rows. void swap_rows(char **table, int r1, int r2) { char* tmp; tmp = table[r1]; table[r1] = table[r2]; table[r2] = tmp; } If you prefer to use memcpy(): void swap_rows(char **table, int r1, int r2) { char* tmp; size_t size = sizeof(tmp); memcpy(&tmp, &table[r1], size); memcpy(&table[r1], &table[r2], size); memcpy(&table[r2], &tmp, size); }",
    "severity": "low",
    "tags": [
      "c",
      "pointers",
      "segmentation-fault"
    ],
    "metadata": {
      "language": "c",
      "stackoverflow_question_id": "64184670",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 313,
      "stackoverflow_creation_date": "2020-10-03T13:12:07.557Z"
    },
    "idempotency_key": "stackoverflow-64184670",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to hide the X button present at the top from the antd modal",
    "body": "How to hide the X button present at the top from the ant d modal, also how can I disable the behavior of closing the modal using ESC key return ( <Modal title={modalHeader} okText=\"EXIT\" cancelText=\"CONTINUE\" visible={visible} onCancel={onCancelHandler} onOk={exitUser} width={600} cancelButtonProps={{hidden:isExFlag}} > <DescriptionParagraph> {modalBodyText} </DescriptionParagraph> </Modal> );",
    "code": "return (\n&lt;Modal\ntitle={modalHeader}\nokText=&quot;EXIT&quot;\ncancelText=&quot;CONTINUE&quot;\nvisible={visible}\nonCancel={onCancelHandler}\nonOk={exitUser}\nwidth={600}\ncancelButtonProps={{hidden:isExFlag}}\n&gt;\n&lt;DescriptionParagraph&gt;\n{modalBodyText}\n&lt;/DescriptionParagraph&gt;\n&lt;/Modal&gt;\n);\n\n\n# Solution Code:\n&lt;Modal closable={false}&gt;...&lt;/Modal&gt;\n\n\n&lt;Modal keyboard={false}&gt;...&lt;/Modal&gt;\n\n\n4.6.6\n\nclosable\n\nkeyboard",
    "resolution": "Based on the documentation version 4.6.6 to hide the X button present at the top from the ant d modal, use the prop closable <Modal closable={false}>...</Modal> to disable the behavior of closing the modal using esc key, use the prop keyboard <Modal keyboard={false}>...</Modal>",
    "severity": "high",
    "tags": [
      "antd",
      "ant-design-pro",
      "react-typescript"
    ],
    "metadata": {
      "stackoverflow_question_id": "64226622",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 15359,
      "stackoverflow_creation_date": "2020-10-06T13:17:20.910Z"
    },
    "idempotency_key": "stackoverflow-64226622",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Module Not found when importing PyCaret in Jupyter",
    "body": "I'm trying to learn PyCaret but having a problem when trying to import it in Jupyter Lab. I'm working in a virtualenv and installed pycaret via pip: pip install pycaret I can confirm its installed via pip list: prompt-toolkit 3.0.7 protobuf 3.13.0 py 1.9.0 pycaret 2.1.2 pycparser 2.20 The very first line in the notebook is: from pycaret.nlp import * however this results in: ModuleNotFoundError Traceback (most recent call last) <ipython-input-3-7c206b4a9ead> in <module> ----> 1 from pycaret.nlp import * 2 import psycopg2 3 import sys, os 4 import numpy as np 5 import pandas as pd ModuleNotFoundError: No module named 'pycaret' I'm pulling my hair out trying to figure this out and can't find anyone else with something similar. I've tried to import via the python shell as well and that works perfectly.",
    "code": "pip install pycaret\n\n\nprompt-toolkit            3.0.7\nprotobuf                  3.13.0\npy                        1.9.0\npycaret                   2.1.2\npycparser                 2.20\n\n\nfrom pycaret.nlp import *\n\n\nModuleNotFoundError                       Traceback (most recent call last)\n&lt;ipython-input-3-7c206b4a9ead&gt; in &lt;module&gt;\n----&gt; 1 from pycaret.nlp import *\n      2 import psycopg2\n      3 import sys, os\n      4 import numpy as np\n      5 import pandas as pd\n\nModuleNotFoundError: No module named 'pycaret'\n\n\npip list\n\n# Solution Code:\n# Install a pip package in the current Jupyter kernel\nimport sys\n!{sys.executable} -m pip install numpy\n",
    "resolution": "I forgot that you had to install modules via Jupyter. Following this guide: http://jakevdp.github.io/blog/2017/12/05/installing-python-packages-from-jupyter/index.html Installing like so: # Install a pip package in the current Jupyter kernel import sys !{sys.executable} -m pip install numpy Got it working",
    "severity": "high",
    "tags": [
      "python",
      "jupyter",
      "jupyter-lab",
      "pycaret"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "64294658",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 21360,
      "stackoverflow_creation_date": "2020-10-10T14:45:10.630Z"
    },
    "idempotency_key": "stackoverflow-64294658",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Question about the Google Android Publisher API (500 error)",
    "body": "Since the end of the last week, I encounter internal errors (status code : 500) when I use the Google API \"Android Publisher\". Indeed, I cannot create \"edits\" anymore. API used : POST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/edits First step : I can authenticate myself correctly and get a bearer. Second Step : The API always answers the same response : 500 / backendError / Internal error encountered. Piece of received payload using the package name : com.decathlon.applicationtest1 or com.decathlon.applicationtest2 { \"response\":{ \"config\":{ \"url\":\"https://www.googleapis.com/androidpublisher/v3/applications/com.decathlon.applicationtest2/edits\", \"method\":\"POST\", \"headers\":{ \"x-goog-api-client\":\"gdcl/3.2.2 gl-node/14.13.0 auth/5.10.1\", \"Accept-Encoding\":\"gzip\", \"User-Agent\":\"google-api-nodejs-client/3.2.2 (gzip)\", \"Authorization\":\"Bearer ya29.c.Ko8B4QdsSkPiK202JiitK9Em_2q9id5VvKim3N1Lq8uS6o97RS6986ZmUsxfrlaXXXXXXXXvBSp5dQEiGRx87zA88JBdMN_fljlwXf0Eu6PH12yFIlKaN-nwggVgYHQX9_PxcFdB1PZxEeIkaWmYZgkQfzVTvUtMhhIUNLXXXXXX\", \"Accept\":\"application/json\" } \"data\":{ \"error\":{ \"code\":500, \"message\":\"Internal error encountered.\", \"errors\":[ { \"message\":\"Internal error encountered.\", \"domain\":\"global\", \"reason\":\"backendError\" } ], \"status\":\"INTERNAL\" } } [...] \"code\":500, \"errors\":[ { \"message\":\"Internal error encountered.\", \"domain\":\"global\", \"reason\":\"backendError\" } ] } I used the packagename com.oxylane.alarmesantivol or com.decathlon.vision and it worked correctly. Can you tell me what I can do ? Is there a limit in the number of edits created ? Is there a way to list all of them to check them ? Thank you,",
    "code": "POST https://androidpublisher.googleapis.com/androidpublisher/v3/applications/{packageName}/edits\n\n\n {\n   &quot;response&quot;:{\n      &quot;config&quot;:{\n         &quot;url&quot;:&quot;https://www.googleapis.com/androidpublisher/v3/applications/com.decathlon.applicationtest2/edits&quot;,\n         &quot;method&quot;:&quot;POST&quot;,\n         &quot;headers&quot;:{\n            &quot;x-goog-api-client&quot;:&quot;gdcl/3.2.2 gl-node/14.13.0 auth/5.10.1&quot;,\n            &quot;Accept-Encoding&quot;:&quot;gzip&quot;,\n            &quot;User-Agent&quot;:&quot;google-api-nodejs-client/3.2.2 (gzip)&quot;,\n            &quot;Authorization&quot;:&quot;Bearer ya29.c.Ko8B4QdsSkPiK202JiitK9Em_2q9id5VvKim3N1Lq8uS6o97RS6986ZmUsxfrlaXXXXXXXXvBSp5dQEiGRx87zA88JBdMN_fljlwXf0Eu6PH12yFIlKaN-nwggVgYHQX9_PxcFdB1PZxEeIkaWmYZgkQfzVTvUtMhhIUNLXXXXXX&quot;,\n            &quot;Accept&quot;:&quot;application/json&quot;\n         }\n      &quot;data&quot;:{\n         &quot;error&quot;:{\n            &quot;code&quot;:500,\n            &quot;message&quot;:&quot;Internal error encountered.&quot;,\n            &quot;errors&quot;:[\n               {\n                  &quot;message&quot;:&quot;Internal error encountered.&quot;,\n                  &quot;domain&quot;:&quot;global&quot;,\n                  &quot;reason&quot;:&quot;backendError&quot;\n               }\n            ],\n            &quot;status&quot;:&quot;INTERNAL&quot;\n         }\n      }\n    [...]\n   &quot;code&quot;:500,\n   &quot;errors&quot;:[\n      {\n         &quot;message&quot;:&quot;Internal error encountered.&quot;,\n         &quot;domain&quot;:&quot;global&quot;,\n         &quot;reason&quot;:&quot;backendError&quot;\n      }\n   ]\n}\n",
    "severity": "low",
    "tags": [
      "android",
      "google-api",
      "google-play",
      "google-play-console",
      "android-googleapiclient"
    ],
    "metadata": {
      "stackoverflow_question_id": "64463204",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 714,
      "stackoverflow_creation_date": "2020-10-21T12:09:17.423Z"
    },
    "idempotency_key": "stackoverflow-64463204",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "AWS Step function string/json concatenation",
    "body": "I have orchestrated a data pipe line using AWS Step function. In last state I want to send a custom notification. I'm using an Intrinsic function States.Format to format my message and subject. It works fine for Context object element. Here, I have tested that in Message parameter. But it doesn't work with input JSON. This is my input JSON { \"job-param\":{ \"pipe-line-name\":\"My pipe line name\", \"other-keys\":\"other values\" } } \"Success State\": { \"Type\": \"Task\", \"Resource\": \"arn:aws:states:::sns:publish\", \"Parameters\": { \"Message.$\": \"States.Format('Execution Id:{}, completed successfully!', $$.Execution.Id)\", \"Subject.$\": \"States.Format('[INFO] {} completed successfully!', $.job-param.pipe-line-name)\", \"TopicArn\": \"arn:aws:sns:us-east-1:************:sns-topic\" }, \"End\": true } While saving this state machine, it gives me following error message: The value for the field 'Subject.$' must be a valid JSON Path I checked Input and Result path. They have this value. I can directly use this value as parameter. This is working fine. But I can't format with other string. \"Subject.$\": \"$.job-param.pipe-line-name\" Alternate approach would be to call lambda to customize and trigger SNS. But I want to avoid that. Can I request some suggestions to fix this error? Thanks in advance!",
    "code": " &quot;Success State&quot;: {\n  &quot;Type&quot;: &quot;Task&quot;,     \n  &quot;Resource&quot;: &quot;arn:aws:states:::sns:publish&quot;,\n  &quot;Parameters&quot;: {    \n\n  &quot;Message.$&quot;: &quot;States.Format('Execution Id:{}, completed successfully!', $$.Execution.Id)&quot;,\n  &quot;Subject.$&quot;: &quot;States.Format('[INFO] {} completed successfully!', $.job-param.pipe-line-name)&quot;,\n\n  &quot;TopicArn&quot;: &quot;arn:aws:sns:us-east-1:************:sns-topic&quot;\n  },\n  &quot;End&quot;: true\n}\n\n\n&quot;Subject.$&quot;: &quot;$.job-param.pipe-line-name&quot;\n\n\n# Solution Code:\n&quot;Subject.$&quot;: &quot;States.Format('[INFO] {} completed successfully!', $['job-param']['pipe-line-name'])&quot;,\n\n\n&quot;Subject.$&quot;: &quot;States.Format('[INFO] {} completed successfully!', $.job_param.pipe_line_name)&quot;, \n\n\n-\n\n-\n\n_",
    "resolution": "If you want to use any name with - in your JSON then you can write your JSON Path like this: \"Subject.$\": \"States.Format('[INFO] {} completed successfully!', $['job-param']['pipe-line-name'])\", But it would be easier if you change your input JSON and replace - with _: \"Subject.$\": \"States.Format('[INFO] {} completed successfully!', $.job_param.pipe_line_name)\",",
    "severity": "high",
    "tags": [
      "json",
      "amazon-web-services",
      "aws-step-functions"
    ],
    "metadata": {
      "stackoverflow_question_id": "64628131",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 16368,
      "stackoverflow_creation_date": "2020-11-01T02:18:56.723Z"
    },
    "idempotency_key": "stackoverflow-64628131",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to use ADL in Constraints?",
    "body": "As an example, I want to use a constraint to ensure that the function isinf is implemented for a template parameter T. If T is one of float, double, long double or an integral type, this can be done in the following way: #include <cmath> template <typename T> concept Test = requires (T a) { std::isinf(a); }; However, I also want to use this constraint for custom, non-standard data types for which I implement my own isinf function. This function is not contained in the std namespace, so I tried the following instead: #include <cmath> template <typename T> concept Test = requires (T a) { using std::isinf; isinf(a); }; This does not work since every statement in the requires clause should be a valid requirement and using std::isinf is not a \"requirement\" at all. I see two workarounds to this problem: Move the using std::isinf; clause to the global namespace. But this introduces isinf to the global namespace, which I'd like to avoid. Encapsulate the using std::isinf; clause with the concept definition in a namespace named ABC, then add using ABC::Test; directly after the namespace. This seems a little bit weird. Is there a better solution?",
    "code": "#include &lt;cmath&gt;\n\ntemplate &lt;typename T&gt;\nconcept Test = requires (T a) {\n    std::isinf(a);\n};\n\n\n#include &lt;cmath&gt;\n\ntemplate &lt;typename T&gt;\nconcept Test = requires (T a) {\n    using std::isinf;\n    isinf(a);\n};\n\n\nisinf\n\nT\n\nT\n\nfloat\n\ndouble\n\nlong double\n\nisinf\n\nstd\n\nusing std::isinf\n\nusing std::isinf;\n\nisinf\n\nusing std::isinf;\n\nABC\n\nusing ABC::Test;\n\n# Solution Code:\nisinf\n\nisinf\n\nrange",
    "resolution": "The way this sort of thing works in Ranges is by creating a Customization Point Object. This closely mirrors your second option (we stick a using-declaration in a custom namespace) except we also provide an mechanism for users to call the correct isinf without having to write a bunch of the same kind of boilerplate themselves. A customization point object for isinf would look something like this: namespace N { // make our own namespace namespace impl { // ... where we can bring in std::isinf using std::isinf; struct isinf_t { // our type is constrained on unqualified isinf working // in a context where std::isinf can be found template <typename T> requires requires (T t) { { isinf(t) } -> std::same_as<bool>; } constexpr bool operator()(T t) const { // ... and just invokes that (we know it's valid and bool at this point) return isinf(t); } }; } // we provide an object such that `isinf(x)` incorporates ADL itself inline constexpr auto isinf = impl::isinf_t{}; } And now that we have an object, a concept follows directly: template <typename T> concept Test = requires (T t) { N::isinf(t); } This is precisely how the range concept is specified.",
    "severity": "low",
    "tags": [
      "c++",
      "c++20",
      "c++-concepts",
      "argument-dependent-lookup"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "64723265",
      "stackoverflow_score": 8,
      "stackoverflow_view_count": 305,
      "stackoverflow_creation_date": "2020-11-07T00:23:48.660Z",
      "stackoverflow_owner": "user14593414"
    },
    "idempotency_key": "stackoverflow-64723265",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to fix Java UnsupportedClassVersionError",
    "body": "I've run into this error a few times trying to brush up on my Java. Looked up solutions on the internet and most suggestions were to compile or run the file with a flag/option argument to specify the correct interpreter version. My question is, is there a more permanent solution to this? (im using vscode. Guessing there is something i can add to my settings.json file in the workspace- but what?) Error: LinkageError occurred while loading main class com.example.demo.DemoApplication java.lang.UnsupportedClassVersionError: com/example/demo/DemoApplication has been compiled by a more recent version of the Java Runtime (class file version 59.65535), this version of the Java Runtime only recognizes class file versions up to 58.0 here is my version details $ java --version java 14.0.2 2020-07-14 Java(TM) SE Runtime Environment (build 14.0.2+12-46) Java HotSpot(TM) 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing) Id like to not have to use flags whenever I compile and run a java file from the command line. Bonus points to you if you can explain why this problem happens in the first place? back when i learned java, you used to have to download and install the JRE and JDK separately. I can understand mistakenly downloading incompatible versions, but now it seems the JRE comes prepackaged with the JDK. How is it possible to have incompatible versions of the compiler and interpreter if this is the case?",
    "code": "Error: LinkageError occurred while loading main class com.example.demo.DemoApplication\n        java.lang.UnsupportedClassVersionError: com/example/demo/DemoApplication has been compiled by a more recent version of the Java Runtime (class file version 59.65535), this version of the Java Runtime only recognizes class file versions up to 58.0\n\n\n$ java --version\njava 14.0.2 2020-07-14\nJava(TM) SE Runtime Environment (build 14.0.2+12-46)\nJava HotSpot(TM) 64-Bit Server VM (build 14.0.2+12-46, mixed mode, sharing)\n\n\n\n# Solution Code:\n&quot;java.home&quot;: &quot;\\PATH TO JDK14\\&quot;,\n&quot;java.configuration.runtimes&quot;: [\n    {\n        &quot;name&quot;: &quot;JavaSE-14&quot;,\n        &quot;path&quot;: &quot;\\PATH TO JDK14\\&quot;,\n        &quot;sources&quot;: &quot;\\PATH TO JDK14\\lib\\src.zip&quot;,\n        &quot;javadoc&quot;: &quot;https://docs.oracle.com/en/java/javase/14/docs/api&quot;,\n        &quot;default&quot;: true\n    },      \n],\n\n\njava.configuration.runtimes\n\njava.home\n\njava.configuration.runtimes\n\njava.home",
    "resolution": "java.lang.UnsupportedClassVersionError: com/example/demo/DemoApplication has been compiled by a more recent version of the Java Runtime (class file version 59.65535), this version of the Java Runtime only recognizes class file versions up to 58.0 Set the JDK the same one when you compile and run the project: That's to say, your file was compiled by JDK15, but the current runtime, which is also installed on your machine is JDK14. The dismatch of build and compile jdk version caused this error. There're two important configurations to correctly configure your environment and project: java.configuration.runtimes and java.home. The former specifies options for your project's execution environment; the latter specifies your language server's execution environment. You've installed JDK14, set the above two settings to use it can solve this error. \"java.home\": \"\\PATH TO JDK14\\\", \"java.configuration.runtimes\": [ { \"name\": \"JavaSE-14\", \"path\": \"\\PATH TO JDK14\\\", \"sources\": \"\\PATH TO JDK14\\lib\\src.zip\", \"javadoc\": \"https://docs.oracle.com/en/java/javase/14/docs/api\", \"default\": true }, ], Cleaning the Java Language Server Worspace and reload the window in VS Code, then run again. More information about java.configuration.runtimes and java.home, please refer to Configure JDK.",
    "severity": "high",
    "tags": [
      "java",
      "visual-studio-code",
      "javac",
      "java-14"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "64742252",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 62535,
      "stackoverflow_creation_date": "2020-11-08T19:36:04.910Z"
    },
    "idempotency_key": "stackoverflow-64742252",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Python - Turning a for-loop into a one-liner",
    "body": "I'm trying to create a matrix-multiplication-with-scalar function, without any libraries. It has to include list comprehension: A = [[1,2],[3,4]] # 2by2 matrix scalar = 2 #positive int product = [] for row in A: temp = [] for element in row: temp.append(scalar * element) product.append(temp) print(product)",
    "code": "A = [[1,2],[3,4]] # 2by2 matrix\n\nscalar = 2 #positive int\n\nproduct = []\n\nfor row in A:\n    \n    temp = []\n    \n    for element in row:\n        temp.append(scalar * element)\n    \n    product.append(temp)\n\nprint(product)\n\n\n# Solution Code:\nA = [[1,2],[3,4]] # 2by2 matrix\n\nscalar = 2 #positive int\n\nproduct = [[i*scalar for i in sublist] for sublist in A]\n\nprint(product)\n",
    "resolution": "This is a possible solution: A = [[1,2],[3,4]] # 2by2 matrix scalar = 2 #positive int product = [[i*scalar for i in sublist] for sublist in A] print(product)",
    "severity": "low",
    "tags": [
      "python",
      "matrix",
      "matrix-multiplication",
      "scalar"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "64893927",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 57,
      "stackoverflow_creation_date": "2020-11-18T13:21:09.353Z"
    },
    "idempotency_key": "stackoverflow-64893927",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Gitlab-runner in docker - How to run as non root",
    "body": "I am trying to automate ios build and deployment using fastlane and gitlab ci. My gitlab-runner installed in a docker container. Since runner in docker container runs as root (sudo), pod install gets failed as it does not allow to execute as root user. Anyone faced similar problem? I have tried searching in stackoverflow without success. $ bundle exec pod install bundler: failed to load command: pod (/builds/root/fastlaneexample/vendor/bundle/ruby/2.7.0/bin/pod) CLAide::Help: [!] You cannot run CocoaPods as root.",
    "code": "$ bundle exec pod install\n bundler: failed to load command: pod (/builds/root/fastlaneexample/vendor/bundle/ruby/2.7.0/bin/pod) CLAide::Help: [!] You cannot run CocoaPods as root.\n",
    "severity": "low",
    "tags": [
      "docker",
      "gitlab-ci",
      "gitlab-ci-runner",
      "fastlane"
    ],
    "metadata": {
      "stackoverflow_question_id": "64982709",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 871,
      "stackoverflow_creation_date": "2020-11-24T08:25:31.463Z"
    },
    "idempotency_key": "stackoverflow-64982709",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "VoiceOver on Firefox - reads all elements as clickable",
    "body": "When we use VoiceOver on our page, on each element it reads the word \"clickable\" - on titles, tables, paragraphs, etc. The page is using Backbone to generate the UI. Whenever we have events property for a view, the problem occurs. If I remove the events property or leave it empty, the problem doesn't happen. Has anyone had to deal with the same issue? Any idea what I can do here? We need those event handlers described in events properties of the Backbone views :) ===== PS: Here is a JS fiddle that demonstrates the problem: https://jsfiddle.net/e5utd39o Also - a screenshot of the problem: https://postimg.cc/YGyGmK2f I guess that the problem happens because Backbone uses event delegation on the top level element in the view and because everything is placed inside that root element - this causes the behavior in VoiceOver on Firefox. But even if I'm right - I don't know how to solve this.",
    "code": "events\n\nevents\n\nevents",
    "severity": "medium",
    "tags": [
      "firefox",
      "backbone.js",
      "accessibility",
      "voiceover",
      "backbone-events"
    ],
    "metadata": {
      "stackoverflow_question_id": "65041974",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1172,
      "stackoverflow_creation_date": "2020-11-27T18:09:24.320Z"
    },
    "idempotency_key": "stackoverflow-65041974",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Browser downloads .csv file instead of opening the content in the new window",
    "body": "I just have a problem with my project. I have created three columns with xml, json and csv descriptions, and below each of them there is a button which is supposed to load the data from local storage. The thing is, the following code works as expected in .xml and .json file (everything the same, just different url), but with .csv the browser starts downloading the file instead of opening it in the new window. <div class=\"card\" style=\"width: 100%;\"> <img class=\"card-img-top\" src=\"./assets/CSV.png\" alt=\"csv-logo\"> <div class=\"card-body\"> <h2 class=\"card-title text-danger\">CSV</h2> <p class=\"card-text new-font\">Coma Separated Values Description</p> <a href=\"./data/MOCK_DATA.csv\" target=\"_blank\"> <button class=\"btn btn-dark py-3 px-4\" type=\"button\"> <span class=\"button-text\">Load data</span> </button> </a> </div> </div> Do you guys have any ideas how to fix it? Or maybe it's natural browser behaviour, so in this case how to change it?",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "csv",
      "browser"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "65050533",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1521,
      "stackoverflow_creation_date": "2020-11-28T14:14:30.367Z"
    },
    "idempotency_key": "stackoverflow-65050533",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to reduce the nested for Loop complexity to a single loop in python?",
    "body": "for i in range(0,x): for j in range(0,y): if (i+j)%2 == 0: Think of something like tossing two dices at the same time and finding if the sum on the dices is an even number but here's the catch, a dice has 6 sides but here the two can have any number of sizes, equal and not equal even! Can anyone suggest how to merge it under one loop because I can't think of any?",
    "code": "for i in range(0,x):\n        for j in range(0,y):\n            if (i+j)%2 == 0:\n\n\n# Solution Code:\nx * y",
    "resolution": "For me its much cleaner to leave it as two loops. Its much more readable and easier to understand whats happening. However you could essentially do x * y then use divmod to calculate i and j x = 2 y = 3 for i in range(0,x): for j in range(0,y): print(i, j, i+j) print(\"###\") for r in range(x*y): i, j = divmod(r, y) print(i, j, i + j) OUTPUT 0 0 0 0 1 1 0 2 2 1 0 1 1 1 2 1 2 3 ### 0 0 0 0 1 1 0 2 2 1 0 1 1 1 2 1 2 3",
    "severity": "medium",
    "tags": [
      "python",
      "nested-loops"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "65212883",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4274,
      "stackoverflow_creation_date": "2020-12-09T08:09:58.847Z"
    },
    "idempotency_key": "stackoverflow-65212883",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "GraphQL resolver logic - Call query/mutation from mutation?",
    "body": "I am creating a workout/exercise logger, where user's can add a log of their set of an exercise to their account. User's will also be able to see their history of workouts and exercises (with set data). I am using mongoDB to store this data, with GraphQL and mongoose to query and mutate the data. I have seperated workout and exercise into their own types, as a workout object will only hold exercises and the sets that were recorded in the last 4 hours (duration of workout), while the exercise object will hold all sets that were ever logged by the user. Type Definitions type Workout { id: ID! workoutName: String! username: String! createdAt: String exercises: [Exercise]! notes: String } type Exercise { id: ID! exerciseName: String! username: String! sets: [Set]! } type Set { id: ID! reps: Int! weight: Float! createdAt: String! notes: String } My problem lies in my resolver code for adding a set (mutation). This resolver should: Query the database whether the exercise has ever been done by the user, by checking the name of the exercise with a match in the database, if there is a match, add the set data the user inputted to it, otherwise, create a new exercise entry first and then add the set to it. Query the database whether there is a workout that has been done in the last 4 hours. If there isn't a match, create a new workout entry in the database. If there is a workout, check for a matching exercise name on the workout object to add the set data to or create a new exercise entry for it. I realise that this mutation will be fairly large and will combine both the querying and mutation of data together. So I'm wondering if I can call seperate queries/mutations from my addSet resolver similar to a function call? Or is there another method that I should be going about this? addSet Resolver async addSet(_, { exerciseName, reps, weight, notes }, context) { const user = checkAuth(context); // Authenticates and gets logged in user's details if (exerciseName.trim() === '') { throw new UserInputError('Empty Field', { // Attached payload of errors - can be used on client side errors: { body: 'Choose an exercise' } }) } else { exerciseName = exerciseName.toLowerCase(); console.log(exerciseName); } if ((isNaN(reps) || reps === null) || (isNaN(weight) || reps === null)) { throw new UserInputError('Empty Fields', { // Attached payload of errors - can be used on client side errors: { reps: 'Enter the number of reps you did for this set', weight: 'Enter the amount of weight you did for this set' } }) } // TODO: Check to see if the exercise has been done before by the user. If it has, then update the entry by adding the set data to it. If not create a new entry for the // exercise and then add the data to it - Completed and working. const exerciseExists = await Exercise.findOne({ exerciseName: exerciseName, username: user.username }); if (exerciseExists) { console.log(\"This exercise exists\"); exerciseExists.sets.unshift({ reps, weight, username: user.username, createdAt: Date.now(), notes }) await exerciseExists.save(); //return exerciseExists; } else { console.log(\"I don't exist\"); const newExercise = new Exercise({ exerciseName, user: user.id, username: user.username, }); const exercise = await newExercise.save(); console.log(\"new exercise entry\"); exercise.sets.unshift({ reps, weight, username: user.username, createdAt: Date.now(), notes }) await exercise.save(); //return exercise; } // TODO: Get the most recent workout from the user and check if the time it was done was from the last 4 hours. If it wasn't, create a new workout entry for the user. // If it was within the ast 4 hours, check to see if the workout has an exercise that matches with one the user inputted. If there isn't an exercise, create a new entry // and add the set data to it, otherwise update the existing entry for the exercise. const workoutExists = await Workout.findOne({ username: username }).sort({ createdAt: -1 }); // Gets most recent workout by user const now = Date.now(); if (now > workoutExists.createdAt + 14400000) { // Checks to see if the workout was less than 4 hours ago console.log(\"workout was from another session\"); // rest of code not implemented yet } else { console.log(\"workout is still in progress\"); // rest of code not implemented yet } },",
    "code": "type Workout {\n  id: ID!\n  workoutName: String!\n  username: String!\n  createdAt: String\n  exercises: [Exercise]!\n  notes: String\n}\n    \ntype Exercise {\n  id: ID!\n  exerciseName: String!\n  username: String!\n  sets: [Set]!\n}\n\ntype Set {\n  id: ID!\n  reps: Int!\n  weight: Float!\n  createdAt: String!\n  notes: String\n}\n\n\nasync addSet(_, { exerciseName, reps, weight, notes }, context) {\n            const user = checkAuth(context); // Authenticates and gets logged in user's details\n\n            if (exerciseName.trim() === '') {\n                throw new UserInputError('Empty Field', {\n                    // Attached payload of errors - can be used on client side\n                    errors: {\n                        body: 'Choose an exercise'\n                    }\n                })\n            } else {\n                exerciseName = exerciseName.toLowerCase();\n                console.log(exerciseName);\n            }\n\n            if ((isNaN(reps) || reps === null) || (isNaN(weight) || reps === null)) {\n                throw new UserInputError('Empty Fields', {\n                    // Attached payload of errors - can be used on client side\n                    errors: {\n                        reps: 'Enter the number of reps you did for this set',\n                        weight: 'Enter the amount of weight you did for this set'\n                    }\n                })\n            }\n\n            // TODO: Check to see if the exercise has been done before by the user. If it has, then update the entry by adding the set data to it. If not create a new entry for the \n            // exercise and then add the data to it - Completed and working.\n            const exerciseExists = await Exercise.findOne({ exerciseName: exerciseName, username: user.username });\n\n            if (exerciseExists) {\n                console.log(&quot;This exercise exists&quot;);\n                exerciseExists.sets.unshift({\n                    reps,\n                    weight,\n                    username: user.username,\n                    createdAt: Date.now(),\n                    notes\n                })\n                await exerciseExists.save();\n                //return exerciseExists;\n            } else {\n                console.log(&quot;I don't exist&quot;);\n                const newExercise = new Exercise({\n                    exerciseName,\n                    user: user.id,\n                    username: user.username,\n                });\n                const exercise = await newExercise.save();\n                console.log(&quot;new exercise entry&quot;);\n                exercise.sets.unshift({\n                    reps,\n                    weight,\n                    username: user.username,\n                    createdAt: Date.now(),\n                    notes\n                })\n                await exercise.save();\n                //return exercise;\n            }\n\n            // TODO: Get the most recent workout from the user and check if the time it was done was from the last 4 hours. If it wasn't, create a new workout entry for the user. \n            // If it was within the ast 4 hours, check to see if the workout has an exercise that matches with one the user inputted. If there isn't an exercise, create a new entry \n            // and add the set data to it, otherwise update the existing entry for the exercise.\n            const workoutExists = await Workout.findOne({ username: username }).sort({ createdAt: -1 }); // Gets most recent workout by user\n            const now = Date.now();\n            if (now &gt; workoutExists.createdAt + 14400000) { // Checks to see if the workout was less than 4 hours ago\n                console.log(&quot;workout was from another session&quot;);\n                // rest of code not implemented yet\n            } else {\n                console.log(&quot;workout is still in progress&quot;);\n                // rest of code not implemented yet\n            }\n\n        },\n",
    "severity": "low",
    "tags": [
      "javascript",
      "graphql",
      "graphql-js"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "65365212",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 314,
      "stackoverflow_creation_date": "2020-12-18T23:31:01.600Z"
    },
    "idempotency_key": "stackoverflow-65365212",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Difference between ui-sans-serif, sans-serif and system-ui generic font names in CSS?",
    "body": "What's the difference between ui-sans-serif and sans-serif fonts in font-family in CSS? And ui-serif vs. serif? And ui-monospace vs. monospace? Where does system-ui fit into this? Would you use it for all 3 types of fonts, and where would it go in the list of fonts? I usually see the \"ui-\" variant coming first in the list of fonts in font-family in CSS, and the other coming last. Something like font-family: ui-sans-serif, (more fonts here), sans-serif. What's the point in doing that if the first matched font will be used? Since ui-sans-serif is a generic font, won't it always be matched and there's no need to add any fonts after it?",
    "code": "font-family\n\nfont-family\n\nfont-family: ui-sans-serif, (more fonts here), sans-serif\n\n# Solution Code:\nui-\n\nui-",
    "resolution": "ui- generics should map to the default fonts of the system while non ui- generic ones map to the default of the browser. A web-browser may have the same default font set for all platforms, however different platforms do have different default fonts.",
    "severity": "high",
    "tags": [
      "css",
      "fonts",
      "font-face",
      "webfonts",
      "typography"
    ],
    "metadata": {
      "language": "css",
      "stackoverflow_question_id": "65557819",
      "stackoverflow_score": 19,
      "stackoverflow_view_count": 28068,
      "stackoverflow_creation_date": "2021-01-04T04:52:20.480Z"
    },
    "idempotency_key": "stackoverflow-65557819",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Problems with the example of solve_ivp [scipy.integrate]",
    "body": "I am studying python for what concerns ode numerical integration, in particular I found the scipy.integrate function solve_ipv . I tried the example shown in the scipy.integrate.solve_ipv page but there could be a mistake in the code related to the Lotka Volterra example: def lotkavolterra(t, z, a, b, c, d): x, y = z return [a*x - b*x*y, -c*y + d*x*y] sol = solve_ivp(lotkavolterra, [0, 15], [10, 5], args=(1.5, 1, 3, 1)) t = np.linspace(0, 15, 300) z = sol.sol(t) import matplotlib.pyplot as plt plt.plot(t, z.T) plt.xlabel('t') plt.legend(['x', 'y'], shadow=True) plt.title('Lotka-Volterra System') plt.show() sol.sol(t) has no meaning in this code. What should we write? Maybe a tuple z = sol.t, sol.y ? It is also clear that len(sol.y[0])=57 and len(sol.y[1])=57 while t has 300 elements. For this reason coupling their values for a plot can be a problem. In the page there is also a plot of what we would obtain if the code run. I don't think it's important but I am using python3. EDIT: I did not insert dense_output=True in solv_ipv()",
    "code": "def lotkavolterra(t, z, a, b, c, d):\n    x, y = z\n    return [a*x - b*x*y, -c*y + d*x*y]\n\nsol = solve_ivp(lotkavolterra, [0, 15], [10, 5], args=(1.5, 1, 3, 1))\n\nt = np.linspace(0, 15, 300)\nz = sol.sol(t)\n\nimport matplotlib.pyplot as plt\nplt.plot(t, z.T)\nplt.xlabel('t')\nplt.legend(['x', 'y'], shadow=True)\nplt.title('Lotka-Volterra System')\nplt.show()\n\n\nsolve_ipv\n\nsol.sol(t)\n\nz = sol.t, sol.y\n\nlen(sol.y[0])=57\n\nlen(sol.y[1])=57\n\nt\n\ndense_output=True\n\nsolv_ipv()\n\n# Solution Code:\nsol = solve_ivp(lotkavolterra, [0, 15], [10, 5], args=(1.5, 1, 3, 1),\n                dense_output=True)\n\n\ndense_output=True\n\nsol\n\nz = sol.sol(t)\n\nt\n\nsol.t\n\nsol.y\n\nsol.sol\n\nres\n\nres.sol(t)",
    "resolution": "In the solver call sol = solve_ivp(lotkavolterra, [0, 15], [10, 5], args=(1.5, 1, 3, 1), dense_output=True) the last option dense_output=True is responsible for adding the sol function to the solution \"bunch\" object. This function implements the method-specific piecewise polynomial interpolation that in the literature is called \"dense output\". Thus the next two lines make complete sense, as z = sol.sol(t) contains a sample for any point in t. This option does not change the sequence of internal nodes and step sizes. sol.t and sol.y contain the same values with or without that option. There is even no additional computation involved, as the stepper computes this interpolation polynomial for every step. This is used even without the dense output option in the event mechanism. Only the memory use is increased when the individual interpolation polynomials are stored after each step and assembled in the dense output function. To avoid the confusion of sol.sol, some have taken res for \"result\" or similar as the variable name for the solver return value, so that the interpolation function is accessed as res.sol(t).",
    "severity": "medium",
    "tags": [
      "python",
      "python-3.x",
      "scipy",
      "ode",
      "numerical-integration"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "65681844",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5747,
      "stackoverflow_creation_date": "2021-01-12T10:12:23.377Z"
    },
    "idempotency_key": "stackoverflow-65681844",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Is there a way in Playwright to select a specific button inside a dynamic table?",
    "body": "I'm new in developing and I'm facing a real problem with the creation of one e2e test. Basically, I have a table with 2 or more rows, every row has 5 columns ( title, x, y,z button). How can I click the button on the correct row using the title? (This is a test to prove that the delete process of this table works). The application I'm testing is written with React framework, so all the tables change frequently and I need a way to trust the code and don't have any bugs. I need to click this element but it is not ever in the same position HTML <table> <tr> <td>Some Title</td> <td>x</td> <td>y</td> <td> <button>I need to click this</button> </td> </tr> <!--other rows--!> </table> This is the solution I came across const rows = await page.$$eval(\"tr\", (row) => row.map((e) => e.textContent) ); const correctRowIndex = rows.findIndex((e) => e.includes(TITLE_I_KNOW)); await page.click( \"//tr[normalize-space(.)='\" + rows[correctRowIndex] + \"']/td/button\" ); Desired behaviour My code seems not to follow the best practice, I need a solution that makes this thing in 2 parts. 1 - Saving the correct row into a variable 2 - Click on the button contained in the saved row",
    "code": "&lt;table&gt;\n    &lt;tr&gt;\n     &lt;td&gt;Some Title&lt;/td&gt;\n     &lt;td&gt;x&lt;/td&gt;\n     &lt;td&gt;y&lt;/td&gt;\n     &lt;td&gt;\n       &lt;button&gt;I need to click this&lt;/button&gt;\n    &lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;!--other rows--!&gt;\n&lt;/table&gt;  \n\n\nconst rows = await page.$$eval(&quot;tr&quot;, (row) =&gt;\n    row.map((e) =&gt; e.textContent)\n);\nconst correctRowIndex = rows.findIndex((e) =&gt; e.includes(TITLE_I_KNOW));\nawait page.click(\n    &quot;//tr[normalize-space(.)='&quot; + rows[correctRowIndex] + &quot;']/td/button&quot;\n);\n\n\n# Solution Code:\ntr\n\nSome title\n\ncss=tr\n\ntext=Some title\n\ncss\n\ntr\n\ntext\n\n&gt;&gt;\n\ncss=tr\n\ntr &gt;&gt; text=Some title\n\n&lt;td&gt;Some Title&lt;/td&gt;\n\n*\n\n*\n\ncss=\n\n$\n\n$\n\nrow\n\npage\n\nrow\n\nwaitForSelector()\n\npage.waitForSelector()\n\nelementHandle.click()",
    "resolution": "Quick answer Use the following combination of selectors to reliably click the right button. const row = await page.waitForSelector('*css=tr >> text=Some title'); const button = await row.$('button'); await button.click(); In-depth explanation Playwright is an awesome tool and might be one of the best web automation tools so far. But it needs to be used correctly. 1. Selecting the correct row const row = await page.waitForSelector('*css=tr >> text=Some title'); This line instructs Playwright to find a tr element in the page that contains an element which text contents matches the string Some title. The expression is composed of two separate selectors, namely css=tr and text=Some title. The first one will use the css selector engine and just targets all tr elements. The second one uses the text engine thus matching text content. The >> instructs Playwright to combine both selectors into one. This works by evaluating first css=tr. On each of the matching elements of the first selector the second selector is applied. Normally a combined selector returns the results of the rightmost selector: tr >> text=Some title would give you the element <td>Some Title</td>. But it is possible to mark the desired selector with * (while still narrowing the results using all combined selectors). Note: The asterix * makes it mandatory to specify the selector engine explicitly (css=), otherwise Playwright would guess the wrong engine. Here you can read more about Playwright selectors. 2. Selecting the button const button = await row.$('button'); Once we have the right row, selecting the button is easier in this case. A simple query selector ($) is enough as it's the only button element existing in a row. Calling the $ on row (instead of page) will match only elements within the DOM subtree of row. This works exactly like the combined matchers. The next section explains why step 1 must use waitForSelector(). The right timing Like your example, many websites are dynamic. This means you will have timing issues when using an automated script looking for content in your page: The table might not be rendered yet when Playwright searches for the desired content. Even worse, if it works on your computer, it might fail weeks later on another computer. That's why it's important to look at each line interacting with the web page and decide if there are timing issues to account for. Some Playwright methods will probe periodically for a selector to match and only fail after a certain timeout. Others won't wait and fail instantly. Sometimes methods indicate in their name if they are waiting (e.g. page.waitForSelector()). But this is not always the case (e.g. elementHandle.click() is actually waiting). So it's mandatory to look at the API reference and read the descriptions carefully. Now back to the example: In step 1 we had to use a waiting method because we didn't know when the dynamic table is actually rendered to the page. In step 2 using a waiting method is not needed as we can be certain the table is present in the page after step 1 succeeded.",
    "severity": "high",
    "tags": [
      "javascript",
      "css-selectors",
      "e2e-testing",
      "playwright"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "65689719",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 19966,
      "stackoverflow_creation_date": "2021-01-12T18:19:06.197Z"
    },
    "idempotency_key": "stackoverflow-65689719",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Template literals and parentheses-less function calls",
    "body": "I recently learned that ES6 allows to make function calls without parentheses when using a template literal as a parameter. E.g. showstring`Hello World`; After reading a few articles on this functionality, however, I have come away with scant information as to the logic behind how JS handles these calls. After playing around with some permutations of my code, I am still struggling to piece together the pattern of how a template literal is broken down inside the function when one calls it that way. const showstring = (str) => { console.log(str); } showstring`Hello World`; What happens in the above code is straightforward, the string literal is received as an array where the first and only element is the string. Where it gets a bit confusing is once I start using expressions inside the template. E.g. const showstring = (str, ...values) => { console.log(str); console.log(values) } const name = 'John' showstring`Hello World ${name} ${name} ${1 + 2} and more`; So it looks like the ...values part destructures all the expressions. But why, then, does the str array have empty strings in those spots? I just don't fully grasp the pattern it follows here. Can someone explain this feature? Or perhaps point me to a good article?",
    "code": "showstring`Hello World`;\n\n\n...values\n\nstr\n\n# Solution Code:\nstr\n\nshowstring\n\nshowstring\n\nstr\n\nvalues\n\n${}\n\n&lt;pre&gt;\n\nwhite-space: pre;",
    "resolution": "In the second code snippet, these are logged: // str [ \"Hello World \", \" \", \" \", \" and more\" ] // values [ \"John\", \"John\", 3 ] If by those \"empty strings\" you mean the 2nd and 3rd item of the str array, they are not empty strings; they are strings with a single space. They come from the spaces between the expressions in the template literal: showstring`Hello World ${name} ${name} ${1 + 2} and more`; // ^ ^ When a template literal is preceded by an expression – in this case showstring – it's called a tagged template. In your showstring function, str contains always one more item than the values array. E.g. take a look at what these log: const showstring = (str, ...values) => { console.log(str); console.log(values) } const name = 'John' showstring``; showstring`${name}`; showstring`Hello ${name}!`; This isn't specific to your function; this is how tagged templates work. From the Tagged templates section in the book JavaScript for impatient programmers (ES2020 edition): The function before the first backtick is called a tag function. Its arguments are: Template strings (first argument): an Array with the text fragments surrounding the interpolations ${}. Substitutions (remaining arguments): the interpolated values. About your comment: Interestingly though, that single space will always remain a single space no matter how many spaces you put between the expressions when calling the function. Any idea why it trims to just one space? This doesn't seem to be the case. This logs a string with three spaces: const showstring = (str, ...values) => { console.log(str); console.log(values) } const name = 'John' showstring`Hello ${name} ${name}!`; Were you maybe printing the results to the DOM? Multiple spaces are shown as only one unless you are using <pre> or white-space: pre; or something similar, so it might seem that the results are trimmed to just one space.",
    "severity": "medium",
    "tags": [
      "javascript",
      "ecmascript-6",
      "template-literals",
      "tagged-templates"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "65747477",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 1357,
      "stackoverflow_creation_date": "2021-01-16T07:44:22.343Z"
    },
    "idempotency_key": "stackoverflow-65747477",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to link secret to default pipeline ServiceAccount in an OpenShift template?",
    "body": "Currently I am trying to make sure that the default pipeline account is able to perform the git-clone ClusterTask in a Tekton pipeline. With the following yaml, the task can be performed successfully (the repo gets pulled): apiVersion: v1 kind: ServiceAccount metadata: name: pipeline secrets - name: git-secret However, when I use this same configuration in an OpenShift template, e.g.: apiVersion: v1 kind: Template metadata: name: test-template objects: - apiVersion: v1 kind: Secret type: kubernetes.io/ssh-auth metadata: name: git-secret annotations: tekton.dev/git-0: bitbucket.org data: ssh-privatekey: ${GIT_SSH_KEY} - apiVersion: v1 kind: ServiceAccount metadata: name: pipeline secrets - name: git-secret The secret is not linked with the ServiceAccount and as a result, the pull fails. I tried to give the secret the following annotation: kubernetes.io/service-account.name: pipeline But that does not help either. When creating a new ServiceAccount in the template (e.g. pipeline-with-secret), things work perfectly. Also, when linking the secret manually, it also works well. However, I would prefer to have the template set the link correctly to avoid having to do the linking manually. This makes me wonder: is it possible to link a secret to a ServiceAccount that gets created by default? OpenShift version: 4.5.19 Thanks.",
    "code": "apiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: pipeline\nsecrets\n  - name: git-secret\n\n\napiVersion: v1\nkind: Template\nmetadata:\n  name: test-template\nobjects:\n  - apiVersion: v1\n    kind: Secret\n    type: kubernetes.io/ssh-auth\n    metadata:\n      name: git-secret\n      annotations:\n        tekton.dev/git-0: bitbucket.org\n    data:\n      ssh-privatekey: ${GIT_SSH_KEY}\n\n  - apiVersion: v1\n    kind: ServiceAccount\n    metadata:\n      name: pipeline\n    secrets\n      - name: git-secret\n\n\nkubernetes.io/service-account.name: pipeline\n\n\ngit-clone\n\npipeline-with-secret",
    "severity": "medium",
    "tags": [
      "openshift",
      "tekton"
    ],
    "metadata": {
      "stackoverflow_question_id": "65772407",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1613,
      "stackoverflow_creation_date": "2021-01-18T10:07:47.930Z"
    },
    "idempotency_key": "stackoverflow-65772407",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Postdecrement Operations in While loop",
    "body": "b = 5; loopiterations = 0; while (b-- > 0) { // Use a postfix decrement loopiterations++; } System.out.println(\"Postfix decrement operator used, loopiterations = \" + loopiterations + \", b = \" + b); The result is Postfix decrement operator used, loopiterations = 5, b = -1 I don't understand why the value of b is -1. The value of b starts from 5 (after while loop it's value is 4) and then ends at 1 ( after the while loop it is 0) and then the iteration from 5 to 1 is 5.If how I think is right, why is the value of b is -1 after looping. Thank you.",
    "code": "b = 5;\n    loopiterations = 0;\n    while (b-- &gt; 0) {  // Use a postfix decrement\n        loopiterations++;         \n    }\n    System.out.println(&quot;Postfix decrement operator used, loopiterations = &quot; +\n            loopiterations + &quot;, b = &quot; + b);\n\n\n# Solution Code:\n   while (b-- &gt; 0) {\n      // do something\n   }\n\n\nwhile (b &gt; 0) {\n  b--;\n  // do something\n}\nb--;\n\n\nwhile (b-- &gt; 0)\n\nb == 0\n\nb\n\nb\n\n-1",
    "resolution": "This block of code while (b-- > 0) { // do something } is semantically the same as while (b > 0) { b--; // do something } b--; The loop while (b-- > 0) exits as soon as b == 0, but because of the post decrement operation b will be one last time decrement and hence b will have the value of -1 when printing.",
    "severity": "low",
    "tags": [
      "java"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "65996362",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 316,
      "stackoverflow_creation_date": "2021-02-01T16:25:57.137Z"
    },
    "idempotency_key": "stackoverflow-65996362",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Accuracy of the computation",
    "body": "What will be the computation accuracy if both x and y can be stored (exactly) in floating-point in the system. x - (x/y) * y",
    "code": "x - (x/y) * y\n\n\n# Solution Code:\nfloat(x/y) = x/y + e\n\n\nabs(e) &lt; ulp(x/y)/2\n\n\nx + e*y\n\n\nx=2^52+2^51+1 , y=2^52+1 , x - (x/y)*y , y*eps(x/y)/2 &gt; eps(x)/2\n\n\nx\n\nx/y\n\nx=2^-100, y=2^1000\n\neps(x)\n\ne*y &gt;= ulp(x)/2\n\ny*ulp(x/y)/2 &gt; e*y &gt;= ulp(x)/2\n\ny*ulp(x/y)/2 &gt; e*y &gt;= 3*ulp(x)/2",
    "resolution": "In case of underflow, the error can be as large as x for example if the ratio x/y completely vanishes and is rounded to zero. For example, take x=2^-100, y=2^1000. Otherwise, if x/y is not denormalized (does not underflow), my guess is that you will get a perfect zero most of the time, and at most eps(x) - that is 1 ulp(x) from time to time, as long as Matlab engine respects IEEE754 standards. The reason is this one: let's note the rounding error e float(x/y) = x/y + e With round to nearest, tie to even IEEE754 mode, we have abs(e) < ulp(x/y)/2 For division, this is a strict inequality, otherwise the division would have to be exact. And if it is exact, we are sure that the quotient fits in available significand (unless the division underflows). When we multiply back by y, we get this exact result: x + e*y We need to have e*y >= ulp(x)/2 for this exact result to be rounded off x That is y*ulp(x/y)/2 > e*y >= ulp(x)/2. This can happen, for example try: x=2^52+2^51+1 , y=2^52+1 , x - (x/y)*y , y*eps(x/y)/2 > eps(x)/2 But y*ulp(x/y)/2 > e*y >= 3*ulp(x)/2 cannot, so the result cannot be 2 ulp off. This is tedious to demonstrate, so my answer will remain qualified as a guess. The last subtraction operation will be exact - see https://en.wikipedia.org/wiki/Sterbenz_lemma",
    "severity": "low",
    "tags": [
      "matlab",
      "floating-point",
      "precision",
      "floating-accuracy"
    ],
    "metadata": {
      "language": "matlab",
      "stackoverflow_question_id": "66081383",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 105,
      "stackoverflow_creation_date": "2021-02-06T20:04:29.327Z"
    },
    "idempotency_key": "stackoverflow-66081383",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why is ASP.NET Core's app.UseExceptionHandler() not working?",
    "body": "I have in my startup.cs file: if (env.IsDevelopment()) { app.UseExceptionHandler(\"/api/error/error-local-development\"); } else { app.UseExceptionHandler(\"/api/error/error\"); } But when throw new Exception() in a controller action, the Error controller Methods are never called. [Route(\"api/error\")] [ApiController] [ApiExplorerSettings(IgnoreApi = true)] public class ErrorController : OwnBaseController { public ErrorController(IApplicationUserService applicationUserService, ILogger<ErrorController> logger, IDiagnosticContext diagnosticContext) : base(applicationUserService, logger, diagnosticContext) { } [Route(\"error\")] public IActionResult Error() { return Problem(); } [Route(\"error-local-development\")] public IActionResult ErrorLocalDevelopment([FromServices] IWebHostEnvironment webHostEnvironment) { var context = HttpContext.Features.Get<IExceptionHandlerFeature>(); return Problem( detail: context.Error.StackTrace, title: context.Error.Message); } } Why is this not working?",
    "code": "throw new Exception()\n\n# Solution Code:\nUseExceptionHandler\n\nUseRouting\n\nUseStatusCodePagesWithReExecute\n\nUseRouting\n\nUseExceptionHandler",
    "resolution": "It might seem strange but ordering does matter. UseExceptionHandler and UseRouting are both registering middlewares under the hood. The firstly registered will be the outer most middleware. So, if one of the inners throws an exception the outer can catch and handle it. Source MSDN has some warnings about this, for example: Handle Errors in ASP.NET Core's UseStatusCodePagesWithReExecute section If an endpoint within the app is specified, create an MVC view or Razor page for the endpoint. Ensure UseStatusCodePagesWithReExecute is placed before UseRouting so the request can be rerouted to the status page. ASP.NET Core Middleware's Middleware order section UseExceptionHandler is the first middleware component added to the pipeline. Therefore, the Exception Handler Middleware catches any exceptions that occur in later calls.",
    "severity": "high",
    "tags": [
      "c#",
      "asp.net-core",
      "error-handling",
      "asp.net-core-5.0"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "66387529",
      "stackoverflow_score": 15,
      "stackoverflow_view_count": 13753,
      "stackoverflow_creation_date": "2021-02-26T14:22:39.750Z"
    },
    "idempotency_key": "stackoverflow-66387529",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "MongoDB query to project a document as a nested object",
    "body": "Hello Below I have specify the data which is to be used and get an output which I have mentioned below, Can you please help me on that as I tried alot but couldn't find a way. //This is the data let data = [ {'name': 'A', 'parent': null}, {'name': 'B', 'parent': null}, {'name': 'C', 'parent': 'A'}, {'name': 'D', 'parent': 'A'}, {'name': 'E', 'parent': 'D'}, {'name': 'F', 'parent': 'D'}, {'name': 'G', 'parent': 'B'}, {'name': 'H', 'parent': 'B'}, ]; //And want the output like this by using mongodb aggregation { \"null\": [ { \"A\": [ { \"C\": [] }, { \"D\": [ { \"E\": [] }, { \"F\": [] } ] } ] }, { \"B\": [ { \"G\": [] }, { \"H\": [] } ] } ] } I have tried using graphlookup aggregation but couldn't find a way out of it. Thanks for your help !",
    "code": "//This is the data\nlet data = [\n  {'name': 'A', 'parent': null},\n  {'name': 'B', 'parent': null},\n  {'name': 'C', 'parent': 'A'},\n  {'name': 'D', 'parent': 'A'},\n  {'name': 'E', 'parent': 'D'},\n  {'name': 'F', 'parent': 'D'},\n  {'name': 'G', 'parent': 'B'},\n  {'name': 'H', 'parent': 'B'},\n ];\n\n//And want the output like this by using mongodb aggregation\n{\n &quot;null&quot;: [\n  {\n   &quot;A&quot;: [\n    {\n     &quot;C&quot;: []\n    },\n    {\n     &quot;D&quot;: [\n      {\n       &quot;E&quot;: []\n      },\n      {\n       &quot;F&quot;: []\n      }\n     ]\n    }\n   ]\n  },\n  {\n   &quot;B&quot;: [\n    {\n     &quot;G&quot;: []\n    },\n    {\n     &quot;H&quot;: []\n    }\n   ]\n  }\n ]\n}\n",
    "resolution": "Solution in Mongoplayground. Try this: db.collection.aggregate([ { $lookup: { from: \"collection\", let: { name: \"$name\" }, pipeline: [ { $match: { $expr: { $eq: [\"$parent\", \"$$name\"] } } }, { $lookup: { from: \"collection\", let: { name: \"$name\" }, pipeline: [ { $match: { $expr: { $eq: [\"$parent\", \"$$name\"] } } }, { $replaceRoot: { newRoot: { $arrayToObject: [[{ k: \"$name\", v: [] }]] } } } ], as: \"children\" } }, { $replaceRoot: { newRoot: { $arrayToObject: [[{ k: \"$name\", v: \"$children\" }]] } } } ], as: \"children\" } }, { $match: { children: { $ne: [] }, parent: null } }, { $group: { _id: \"$parent\", array: { $push: { array: [{ k: \"$name\", v: \"$children\" }] } } } }, { $addFields: { array: { $map: { input: \"$array\", as: \"item\", in: { $arrayToObject: \"$$item.array\" } } } } }, { $replaceRoot: { newRoot: { $arrayToObject: [[{ k: \"null\", v: \"$array\" }]] } } } ]); Output: { \"null\" : [ { \"A\" : [ { \"C\" : [ ] }, { \"D\" : [ { \"E\" : [ ] }, { \"F\" : [ ] } ] } ] }, { \"B\" : [ { \"G\" : [ ] }, { \"H\" : [ ] } ] } ] }",
    "severity": "low",
    "tags": [
      "mongodb",
      "aggregation-framework"
    ],
    "metadata": {
      "stackoverflow_question_id": "66881622",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 81,
      "stackoverflow_creation_date": "2021-03-31T04:24:05.560Z"
    },
    "idempotency_key": "stackoverflow-66881622",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why does Safari only render the top of images sometimes?",
    "body": "I work for a media company in Norway, and on rare occasion we see that an image will fail to render in its entirety. When this happens, we can refresh the page and the image will still only partially render. We have only ever seen this happen on Safari, and I have been able to reproduce it both on desktop (Safari 13.1.2) and mobile (iOS 14.4.1). In the network tab, the image seems to have been fully delivered. The amount of bytes transferred is the expected amount. In fact, if we increment the height of the container by 1px, the image will suddenly appear in full, with no network activity occurring. In other words, the browser did receive the full image, it just is not showing. Everything in the styling looks totally normal, but we still assumed this was somehow related to the CSS. However, we created a local override, and we were still able to reproduce with the following code: <figure class=\"desktopi-45000 mobilei-45000 tableti-45000\"> <picture> <img itemprop=\"image\" data-defer=\"view\" sizes=\"(max-width: 640px) 640px,(max-width: 1024px) 1024px,1240px\" title=\"- Du hører ikke hjemme her!\" alt=\"- Du hører ikke hjemme her!\" class=\"\" srcset=\"https://www.dagbladet.no/images/73594916.jpg?imageId=73594916&x=15.742793791574&y=14.099216710183&cropw=72.431633407243&croph=57.57180156658&width=760&height=342&compression=70 640w,https://www.dagbladet.no/images/73594916.jpg?imageId=73594916&x=15.742793791574&y=14.099216710183&cropw=72.431633407243&croph=57.57180156658&width=900&height=405&compression=80 1024w,https://www.dagbladet.no/images/73594916.jpg?imageId=73594916&x=15.742793791574&y=14.099216710183&cropw=72.431633407243&croph=57.57180156658&width=980&height=441&compression=80 1240w\" src=\"https://www.dagbladet.no/images/73594916.jpg?imageId=73594916&x=15.742793791574&y=14.099216710183&cropw=72.431633407243&croph=57.57180156658&width=380&height=171\"> </picture> </figure> Here is an image comparison of what we see when the issue occurs. Note that it can take many, many tries before the bug occurs. While trying to figure this out, we came across a similar question. However, the answers provided fail to elaborate on the root cause of the problem. One of the answers says to use decoding=\"sync\", and that does seem to resolve the problem (at the very least, we cannot reproduce with that added). However, that is not a viable solution due to the performance impact it has. Given the other sites are not experiencing this problem and do not use decoding=\"sync\", there is something else going on. The question, therefore, is why is this happening? What is causing this, and what can be done to resolve it?",
    "code": "decoding=&quot;sync&quot;\n\ndecoding=&quot;sync&quot;\n\n# Solution Code:\ndecoding=&quot;async&quot;\n\n\ndecoding=&quot;sync&quot;\n",
    "resolution": "When testing locally, this could seem to be fixed by adding either decoding=\"async\" or decoding=\"sync\" to the image-tag. For some reason, Safari and browsers running on Apple-products seem to struggle with automatically choosing the best suitable way of decoding images to render.",
    "severity": "medium",
    "tags": [
      "html",
      "css",
      "image",
      "safari"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "66903058",
      "stackoverflow_score": 9,
      "stackoverflow_view_count": 2462,
      "stackoverflow_creation_date": "2021-04-01T10:43:05.780Z"
    },
    "idempotency_key": "stackoverflow-66903058",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Counting paths and cycles of certain sizes for each node in network R",
    "body": "I have a network and would like to count cycles of size 4 (paths of length four starting and ending at the same node) and paths of size 3 starting from a node, then tabulate them in a dataset by node. g <- read.table(text= \"supplier buyer a b b c c d c e a e e f b f\",header=TRUE) g <- graph.data.frame(g, directed=F) adjacency <- as.matrix(as_adjacency_matrix(g)) I have referred to this post for counting cycles, but it counts cycles for the entire graph, not by node. I have also read the documentation for kpath.census and kcycle.census. However, these only allow for specification of a maximum length (length <=3, rather than ==3). I'm also not fully understanding the output: library(sna) node_path<-sna::kpath.census(adjacency, maxlen = 3, mode = \"graph\", tabulate.by.vertex = TRUE, dyadic.tabulation = \"sum\") node_kcycle <- sna::kcycle.census(adjacency, maxlen = 4, mode = \"graph\", tabulate.by.vertex = TRUE, cycle.comembership = \"sum\") > node_path$path.count Agg a b c e f d 1 14 4 6 6 6 4 2 2 22 10 14 14 14 10 4 3 32 20 28 24 28 20 8 > node_kcycle$cycle.count Agg a b c e f d 2 0 0 0 0 0 0 0 3 0 0 0 0 0 0 0 4 3 2 3 2 3 2 0 I plotted the network below, and by my count, node a should have 4 cycles of length 4, and 6 paths of length 3. But the output from node_kcycle$cycle.count and node_path$path.count provide different numbers. Is there a better way to count the cycles of size 4 and length of 3 for each node? I'd like to produce an output such that: cycles4 path3 a 4 6 b c .... d e f EDIT: I've figured out my confusion with the kpath.census output: it counts all paths including that node, not starting from that node, as I'd wanted. Still not sure how to count the paths starting from a node, though EDIT2: This function all_simple_paths(g, from = V(g)) counts the simple paths, and I'm thinking I would try to extract paths of 3 from this function. Still struggling on finding the cycles of size 4.",
    "code": "g &lt;- read.table(text= &quot;supplier buyer\n                              a    b\n                              b    c\n                              c    d\n                              c    e\n                              a    e\n                              e    f\n                              b    f&quot;,header=TRUE)\ng &lt;- graph.data.frame(g, directed=F)\nadjacency &lt;- as.matrix(as_adjacency_matrix(g))\n\n\n\nlibrary(sna)\nnode_path&lt;-sna::kpath.census(adjacency, maxlen = 3, mode = &quot;graph&quot;, \n             tabulate.by.vertex = TRUE, dyadic.tabulation = &quot;sum&quot;)\nnode_kcycle &lt;- sna::kcycle.census(adjacency, maxlen = 4, mode = &quot;graph&quot;, tabulate.by.vertex = TRUE, cycle.comembership = &quot;sum&quot;)\n\n\n\n&gt; node_path$path.count\n  Agg  a  b  c  e  f d\n1  14  4  6  6  6  4 2\n2  22 10 14 14 14 10 4\n3  32 20 28 24 28 20 8\n\n\n&gt; node_kcycle$cycle.count\n  Agg a b c e f d\n2   0 0 0 0 0 0 0\n3   0 0 0 0 0 0 0\n4   3 2 3 2 3 2 0\n\n\n   cycles4   path3\na    4         6\nb\nc      ....\nd\ne\nf\n\n\nkpath.census\n\nkcycle.census\n\nlength &lt;=3, rather than ==3\n\na\n\n node_kcycle$cycle.count\n\nnode_path$path.count\n\nkpath.census\n\nall_simple_paths(g, from = V(g))\n\n# Solution Code:\nprint",
    "resolution": "This is a long answer for this as I tried out with R6 and define some thing on my own instead of using any paths related packages avaiable Define the path class for control the logics library(dplyr) library(purrr) library(R6) # R6 Class path <- R6Class( classname = \"point\", private = list( .points = c(), .is_circle = FALSE, .path_length = 0, check_path = function() { private$.path_length <- length(private$.points) } ), active = list( points = function(value) { if (missing(value)) { private$.points } else { stop(\"No manual edit allowed\") } }, is_circle = function(value) { if (missing(value)) { private$.is_circle } else { stop(\"No manual edit allowed\") } }, path_length = function(value) { if (missing(value)) { private$.path_length } else { stop(\"No manual edit allowed\") } } ), public = list( initialize = function(supplier, buyer) { private$.points <- c(supplier, buyer) private$check_path() }, # This function will add a 2 points path into this path object # handle some logics about cirle & duplicated path add_2_points_path = function(addition_path) { stopifnot(addition_path$path_length == 2) if (length(intersect(addition_path$points, private$.points)) == 2) { if (first(private$.points) %in% addition_path$points & last(private$.points) %in% addition_path$points & private$.path_length > 2) { private$.is_circle <- TRUE } else { stop(\"No new node introduce\") } } else { if (first(addition_path$points) == last(private$.points)) { private$.points <- c(private$.points, addition_path$points[2]) } else if (last(addition_path$points) == last(private$.points)) { private$.points <- c(private$.points, addition_path$points[1]) } else { stop(\"No common points for connection. No connection build\") } } private$check_path() }, add_point = function(new_point) { stopifnot(is.character(new_point) & length(new_point) == 1) private$.points <- c(private$.points, new_point) private$check_path() }, get_start_point = function() { first(private$.points) }, get_end_point = function() { last(private$.points) }, print = function(...) { cat(\"Path: \", private$.points, \"\\n\") cat(\"Length: \", private$.path_length, \"\\n\") cat(\"Is circle: \", private$.is_circle, \"\\n\") } ), cloneable = TRUE ) Running a path builder using the origin data # original data g #> supplier buyer #> 1 a b #> 2 b c #> 3 c d #> 4 c e #> 5 a e #> 6 e f #> 7 b f # Define maximum loops to count. The maximum path_length # will be loop_count + 1 loop_count <- 4 paths <- pmap(g, path$new) index <- 2 for (index in 2:loop_count) { current_paths_level <- keep(.x = paths, .p = function(x) { x$path_length == index}) for (i_path in current_paths_level) { possible_paths <- pmap(g, path$new) for (i_possible_paths in possible_paths) { new_path <- i_path$clone() tryCatch({ new_path$add_2_points_path(i_possible_paths) if (new_path$is_circle) { paths <- keep(.x = paths, .p = function(x) { !identical(x$points, new_path$points) }) } paths <- append(paths, new_path) }, error = function(e) { # skip error handling just ignore the path not able to connect }) } } } # Filter duplicated paths identical_path <- function(path_1, path_2) { identical <- FALSE if (path_1$path_length <= 3 | path_2$path_length <= 3) { identical <- length(intersect(path_1$points, path_2$points)) == path_1$path_length & path_1$path_length == path_2$path_length } else { identical <- identical(path_1$points, path_2$points) } identical } path_filter <- rep(FALSE, length(paths)) for(i in 1:(length(paths) - 1)) { for(j in (i+1):length(paths)) { path_filter[j] <- path_filter[j] | identical_path(paths[[i]], paths[[j]]) } } paths <- paths[!path_filter] A few sample of the result sample(paths, 10) #> [[1]] #> Path: a b #> Length: 2 #> Is circle: FALSE #> #> [[2]] #> Path: b c e a #> Length: 4 #> Is circle: TRUE #> #> [[3]] #> Path: d c e f b #> Length: 5 #> Is circle: FALSE #> #> [[4]] #> Path: c e a b f #> Length: 5 #> Is circle: FALSE #> #> [[5]] #> Path: c b f #> Length: 3 #> Is circle: FALSE #> #> [[6]] #> Path: f b a e c #> Length: 5 #> Is circle: FALSE #> #> [[7]] #> Path: a e c b #> Length: 4 #> Is circle: TRUE #> #> [[8]] #> Path: a e f #> Length: 3 #> Is circle: FALSE #> #> [[9]] #> Path: e a b c d #> Length: 5 #> Is circle: FALSE #> #> [[10]] #> Path: a b f #> Length: 3 #> Is circle: FALSE Finally do the statistics # Define the counting functions counting <- function(starting_point, list_paths) { starting_paths <- keep(paths, function(x) { x$get_start_point() == starting_point }) circle4 <- length(keep(starting_paths, function(x) { x$is_circle & x$path_length == 4})) path3 <- length(keep(starting_paths, function(x) { x$path_length == 4})) return(tibble(point = starting_point, circle4 = circle4, path3 = path3)) } map_dfr(unique(c(g$supplier, g$buyer)), counting, list_paths = paths) #> # A tibble: 6 x 3 #> point circle4 path3 #> <chr> <int> <int> #> 1 a 4 6 #> 2 b 6 6 #> 3 c 4 4 #> 4 e 6 6 #> 5 d 0 4 #> 6 f 4 6 Update the class to have a nice print function Created on 2021-04-06 by the reprex package (v1.0.0)",
    "severity": "low",
    "tags": [
      "r"
    ],
    "metadata": {
      "language": "r",
      "stackoverflow_question_id": "66936850",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 463,
      "stackoverflow_creation_date": "2021-04-03T23:48:59.460Z"
    },
    "idempotency_key": "stackoverflow-66936850",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "SQL - How to select all Chats and order them by most recent Message",
    "body": "I am creating a simple Chat application and I would like to select all Chat and order them by their most recent Message (column created_on) . The 2 tables are separated and are described as the following: CHAT MESSAGE To achieve that, I wrote the following SQL Script: SELECT * CHAT AS chat LEFT JOIN MESSAGE AS message ON chat.ID = message.CHAT_ID GROUP BY chat.ID ORDER BY message.CREATED_ON When I run that script, the result are not ordered by most recent Message but instead randomly. And I also noticed that the Script is not fast.",
    "code": "SELECT * CHAT AS chat LEFT JOIN MESSAGE AS message ON chat.ID = message.CHAT_ID\nGROUP BY chat.ID\nORDER BY message.CREATED_ON\n\n\nChat\n\nMessage\n\ncreated_on\n\nCHAT\n\nMESSAGE\n\nMessage\n\n# Solution Code:\nSELECT c.*, m.*\nFROM chat c LEFT JOIN\n     (SELECT m.*,\n             ROW_NUMBER() OVER (PARTITION BY m.chat_id ORDER BY m.CREATED_ON DESC) as seqnum\n      FROM MESSAGE m\n     ) m\n     ON c.ID = m.CHAT_ID AND m.seqnum = 1\nORDER BY m.CREATED_ON DESC;\n\n\nSELECT *\n\nGROUP BY\n\nFROM\n\nmessage(chat_id, created_on)",
    "resolution": "Your query is malformed, because you are using SELECT * with GROUP BY. (And this ignores the other syntax errors such as the missing FROM clause.) Your query should be returning an error. You seem to not only want the chats to be ordered but to also include the most recent message. For that, use window functions: SELECT c.*, m.* FROM chat c LEFT JOIN (SELECT m.*, ROW_NUMBER() OVER (PARTITION BY m.chat_id ORDER BY m.CREATED_ON DESC) as seqnum FROM MESSAGE m ) m ON c.ID = m.CHAT_ID AND m.seqnum = 1 ORDER BY m.CREATED_ON DESC; In most databases, an index on message(chat_id, created_on) would help.",
    "severity": "low",
    "tags": [
      "sql"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "67034248",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 991,
      "stackoverflow_creation_date": "2021-04-10T12:13:16.190Z"
    },
    "idempotency_key": "stackoverflow-67034248",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Why is \"del\" a statement and not a build-in function in Python?",
    "body": "In Python3, del is a statement to be used like del x. Why is del not designed as a built-in function used like del(x)?",
    "code": "del\n\ndel x\n\ndel\n\ndel(x)\n\n# Solution Code:\nx\n\ndelete\n\nx\n\nx.y\n\nx[y]\n\nx[y:z]\n\nx\n\ndelattr(x, 'y')\n\ndel x.y\n\ndelattr('x.y')\n\nx\n\ndel\n\ndel",
    "resolution": "TLDR: This is a result of use-mention distinction. A function cannot operate on the symbol x. The important distinction between statements and functions is that statements can work on symbols whereas functions can only work on values. Consider a hypothetical delete function draft: >>> def delete(*targets): ... print(\"Deleting\", targets, \"[TODO: implement actual deletion]\") ... >>> x = \"the value of x\" >>> delete(x) Deleting ('the value of x',) [TODO: implement actual deletion] By using x (or an attribute x.y, subscript x[y] or slice x[y:z]) in a function call, it is automatically evaluated to its value. The function only receives the value, not the symbol or even the symbol-in-its-scope – the function thus cannot delete the symbol from its scope, since it knows neither. Python has no concept of quoting expressions, so there is no way to express \"the symbol x\". It is possible to use strings to contain symbol names, such as using delattr(x, 'y') instead of del x.y, but not symbol context – a hypothetical delattr('x.y') cannot work, since it does not know the initial x's scope. Only things built into the grammar can refer to symbols and their context. This means that del must be at least a built-in statement or expression. In parallel to the assignment statement, which operates on the same targets, del is a statement.",
    "severity": "low",
    "tags": [
      "python",
      "python-3.x"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "67899789",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 242,
      "stackoverflow_creation_date": "2021-06-09T07:48:26.390Z"
    },
    "idempotency_key": "stackoverflow-67899789",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "MySQL Workbench Import CSV Character Decoding/Encoding Error",
    "body": "I was trying to import a csv file into a MySQL table, using MySQL Workbench. However, I kept getting this character decoding error: Unhandled exception: 'charmap' codec can't decode byte 0x81 in position 418: character maps to <undefined> So then I used the following MySQL command to directly load the file into the database: LOAD DATA LOCAL INFILE [file path] INTO TABLE mock_word FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '\"' LINES TERMINATED BY '\\r\\n' IGNORE 1 ROWS (Source, Word_ID, OriginalWord, OriginalTranslation, LabWordCategory); This executed without any errors, but when I then tried to export the table as a csv file using MySQL Workbench, I get a character encoding error: UnicodeEncodeError: 'charmap' codec can't encode character '\\x81' in position 35: character maps to <undefined> ERROR: Export data to file: 'charmap' codec can't encode character '\\x81' in position 35: character maps to <undefined> Failed The MySQL table's Charset/Collation is utf8mb4/utf8mb4_unicode_ci. The csv file contains phonetic symbols, which I think might be what's causing problems. How might I deal with this issue? Thank you! Below I've copy+pasted the entirety of the csv file (here's a link to the file: https://drive.google.com/file/d/1y8JQc1x1t0erUwsVrv193CjI8FISFlkv/view?usp=sharing). Word_ID is what I'm using as the primary key. Source,Word_ID,OriginalWord,OriginalTranslation,LabWordCategory ASG1848,word:ASG1848:002,ahkeya,woman,N ASG1848,word:ASG1848:003,akuia,woman,N ASG1848,word:ASG1848:025,owotan okitz,nails,N AT1967,word:AT1967:078,payóónixkaasi,\"when, if it gets broken\",V AT1967,word:AT1967:079,payóónixkaawa,it is broken,V AT1969,word:AT1969:0265,ayóxkotokaaʔsiyaaʔwa,they became rocks,V AT1969,word:AT1969:0306,iiksíkimmapiipitsiʔwa,\"he is always very kind, he is a very kind person\",V AT1969,word:AT1969:0537,maanʔssíʔwa,\"he is young, he is new\",V AT1969,word:AT1969:0697,nítsaayiipitsi,I lie,V AT1969,word:AT1969:1286,amíxkaata,fish thou!,V AT1969,word:AT1969:1465,apóónistoota,smash it!,V AT1969,word:AT1969:2576,nitááʔsiiyàttsyaaʔwa,I made him sneeze,V AT1969,word:AT1969:3306,áaakitsskixsiʔpyaaʔwa,we (incl) will dry them,V CU_RVG1930,word:CU_RVG1930:00287,áikapisimiitapaumixkau,he is often fishing alone secretly,V CU_RVG1930,word:CU_RVG1930:01190,imaχkópiu,he has a big arrow,V CU_RVG1930,word:CU_RVG1930:02894,ksistuyíu,[it] is warm,V CU_RVG1930,word:CU_RVG1930:03703,istókimàtsists,drums,N CU_RVG1930,word:CU_RVG1930:03743,itåχkanáitàpixkitsìi,(the pieces of meat) all became dry,V CU_RVG1930,word:CU_RVG1930:14905,ksistókúmiu (ksistókómiu),it is warm (of liquids) (in.),V CU_RVG1930,word:CU_RVG1930:15445,ɑkáukakyapakeua,she is already a wise woman,V DGF_NJR2017,word:DGF_NJR2017:0001,opóónit!,shatter it!,V DGF_NJR2017,word:DGF_NJR2017:0002,nitsíípóónii’pa,I broke it,V DGF_NJR2017,word:DGF_NJR2017:0003,áakopoonistoomáyi,he will smash it (by dropping or throwing it),V GR1917,word:GR1917:0303,ákéuαm,woman,N GR1917,word:GR1917:1074,manáke,New-woman,N GR1917,word:GR1917:1160,mánatåχkàpinausiks,(those) that had (also) a new way of dressing,N JT1889,word:JT1889:2456,omǔk'o,it is big,V JT1889,word:JT1889:2457,omǔk'sim,he is big (man),V JT1889,word:JT1889:3852,ikhitsi'u,it is dry,V JT1889,word:JT1889:3853,ikhsǐs',dry him,V JT1889,word:JT1889:3854,ikhsit,dry thou it,V JT1889,word:JT1889:3856,ikhsu'yiu,he is dry,V JT1889,word:JT1889:7011,nitǔs'sǔmmosi,I see myself,V JT1889,word:JT1889:7331,apon'it,smash it,V JT1889,word:JT1889:7437,epon'ǐmaie,he smashes it,V JT1889,word:JT1889:7472,nitse'ponip,I smash it,V JT1889,word:JT1889:8866,ksǐstusǐs',warm him,V JT1889,word:JT1889:8867,ksǐstusit',warm it,V JT1889,word:JT1889:8869,ksǐstusu'yit,warm yourself,V JT1889,word:JT1889:8872,ksǐstusǔk'sǐnni,warming (a third object),N DGF_NJR2017,word:DGF_NJR2017:0004,ksiistokómssakit!,heat water!,V DGF_NJR2017,word:DGF_NJR2017:0005,iníkkoyihkaamisa!,scold her!,V DGF_NJR2017,word:DGF_NJR2017:0006,pottááhkomoosa!,scare the wildfowl into flight for him!,V",
    "code": "LOAD DATA LOCAL INFILE [file path]\nINTO TABLE mock_word\nFIELDS TERMINATED BY ','\nOPTIONALLY ENCLOSED BY '&quot;'\nLINES TERMINATED BY '\\r\\n'\nIGNORE 1 ROWS\n(Source, Word_ID, OriginalWord, OriginalTranslation, LabWordCategory);\n\n\nUnicodeEncodeError: 'charmap' codec can't encode character '\\x81' in position 35: character maps to &lt;undefined&gt;\nERROR: Export data to file: 'charmap' codec can't encode character '\\x81' in position 35: character maps to &lt;undefined&gt;\nFailed\n\n\nSource,Word_ID,OriginalWord,OriginalTranslation,LabWordCategory\nASG1848,word:ASG1848:002,ahkeya,woman,N\nASG1848,word:ASG1848:003,akuia,woman,N\nASG1848,word:ASG1848:025,owotan okitz,nails,N\nAT1967,word:AT1967:078,payóónixkaasi,&quot;when, if it gets broken&quot;,V\nAT1967,word:AT1967:079,payóónixkaawa,it is broken,V\nAT1969,word:AT1969:0265,ayóxkotokaaʔsiyaaʔwa,they became rocks,V\nAT1969,word:AT1969:0306,iiksíkimmapiipitsiʔwa,&quot;he is always very kind, he is a very kind person&quot;,V\nAT1969,word:AT1969:0537,maanʔssíʔwa,&quot;he is young, he is new&quot;,V\nAT1969,word:AT1969:0697,nítsaayiipitsi,I lie,V\nAT1969,word:AT1969:1286,amíxkaata,fish thou!,V\nAT1969,word:AT1969:1465,apóónistoota,smash it!,V\nAT1969,word:AT1969:2576,nitááʔsiiyàttsyaaʔwa,I made him sneeze,V\nAT1969,word:AT1969:3306,áaakitsskixsiʔpyaaʔwa,we (incl) will dry them,V\nCU_RVG1930,word:CU_RVG1930:00287,áikapisimiitapaumixkau,he is often fishing alone secretly,V\nCU_RVG1930,word:CU_RVG1930:01190,imaχkópiu,he has a big arrow,V\nCU_RVG1930,word:CU_RVG1930:02894,ksistuyíu,[it] is warm,V\nCU_RVG1930,word:CU_RVG1930:03703,istókimàtsists,drums,N\nCU_RVG1930,word:CU_RVG1930:03743,itåχkanáitàpixkitsìi,(the pieces of meat) all became dry,V\nCU_RVG1930,word:CU_RVG1930:14905,ksistókúmiu (ksistókómiu),it is warm (of liquids) (in.),V\nCU_RVG1930,word:CU_RVG1930:15445,ɑkáukakyapakeua,she is already a wise woman,V\nDGF_NJR2017,word:DGF_NJR2017:0001,opóónit!,shatter it!,V\nDGF_NJR2017,word:DGF_NJR2017:0002,nitsíípóónii’pa,I broke it,V\nDGF_NJR2017,word:DGF_NJR2017:0003,áakopoonistoomáyi,he will smash it (by dropping or throwing it),V\nGR1917,word:GR1917:0303,ákéuαm,woman,N\nGR1917,word:GR1917:1074,manáke,New-woman,N\nGR1917,word:GR1917:1160,mánatåχkàpinausiks,(those) that had (also) a new way of dressing,N\nJT1889,word:JT1889:2456,omǔk'o,it is big,V\nJT1889,word:JT1889:2457,omǔk'sim,he is big (man),V\nJT1889,word:JT1889:3852,ikhitsi'u,it is dry,V\nJT1889,word:JT1889:3853,ikhsǐs',dry him,V\nJT1889,word:JT1889:3854,ikhsit,dry thou it,V\nJT1889,word:JT1889:3856,ikhsu'yiu,he is dry,V\nJT1889,word:JT1889:7011,nitǔs'sǔmmosi,I see myself,V\nJT1889,word:JT1889:7331,apon'it,smash it,V\nJT1889,word:JT1889:7437,epon'ǐmaie,he smashes it,V\nJT1889,word:JT1889:7472,nitse'ponip,I smash it,V\nJT1889,word:JT1889:8866,ksǐstusǐs',warm him,V\nJT1889,word:JT1889:8867,ksǐstusit',warm it,V\nJT1889,word:JT1889:8869,ksǐstusu'yit,warm yourself,V\nJT1889,word:JT1889:8872,ksǐstusǔk'sǐnni,warming (a third object),N\nDGF_NJR2017,word:DGF_NJR2017:0004,ksiistokómssakit!,heat water!,V\nDGF_NJR2017,word:DGF_NJR2017:0005,iníkkoyihkaamisa!,scold her!,V\nDGF_NJR2017,word:DGF_NJR2017:0006,pottááhkomoosa!,scare the wildfowl into flight for him!,V\n\n\nutf8mb4\n\nutf8mb4_unicode_ci",
    "severity": "medium",
    "tags": [
      "mysql",
      "character-encoding",
      "mysql-workbench",
      "non-ascii-characters"
    ],
    "metadata": {
      "stackoverflow_question_id": "68134469",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4198,
      "stackoverflow_creation_date": "2021-06-25T16:42:04.913Z"
    },
    "idempotency_key": "stackoverflow-68134469",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How Can I separate this in pandas dataframe?",
    "body": "My initial result (remember it's a sample, so I need to separate directly in DataFrame - it's impossible to do manually - because it's from a pdf and the tabula only read this way): d = {'Year': ['NaN', '2018', '2019', '2020', '2021'], 'Month': [['Jan', 'Feb', 'Mar'], [1, 4, 5], [2, 2, 6], [5, 3, 7], [2]]} df = pd.DataFrame(d) My expected result: d2 = {'Year': ['2018', '2019', '2020', '2021'], 'Jan': [1, 2, 5, 2], 'Feb': [4, 2, 3, 'NaN'], 'Mar': [5, 6, 7, 'NaN']} df2 = pd.DataFrame(d2)",
    "code": "d = {'Year': ['NaN', '2018', '2019', '2020', '2021'],\n     'Month': [['Jan', 'Feb', 'Mar'], [1, 4, 5], [2, 2, 6], [5, 3, 7], [2]]}\n \ndf = pd.DataFrame(d)\n\n\nd2 = {'Year': ['2018', '2019', '2020', '2021'],\n      'Jan': [1, 2, 5, 2],\n      'Feb': [4, 2, 3, 'NaN'],\n      'Mar': [5, 6, 7, 'NaN']} \n \ndf2 = pd.DataFrame(d2)\n\n\n# Solution Code:\nl = df['Month'].tolist()\n\ndf2 = (pd.DataFrame(l[1:], columns=l[0], index=df.index[1:])\n         .assign(Year=df['Year']))\n\nprint(df2)\n#   Jan  Feb  Mar  Year\n#1    1  4.0  5.0  2018\n#2    2  2.0  6.0  2019\n#3    5  3.0  7.0  2020\n#4    2  NaN  NaN  2021\n\ndf2.dtypes\n#Jan       int64\n#Feb     float64\n#Mar     float64\n#Year     object    # Because it was object to begin wtih\n\n\nl = df.pop('Month').tolist()\ndf2 = pd.concat([df.iloc[1:], pd.DataFrame(l[1:], columns=l[0], index=df.index[1:])], \n                axis=1)\n#   Year  Jan  Feb  Mar\n#1  2018    1  4.0  5.0\n#2  2019    2  2.0  6.0\n#3  2020    5  3.0  7.0\n#4  2021    2  NaN  NaN\n\n\ntolist\n\npop\n\n'Month'\n\nconcat\n\npop\n\ndf\n\ndf",
    "resolution": "So that the dtypes are all correct, reconstruct the DataFrame from scratch. You can do this calling the normal constructor on the Series sent tolist. Then we fix the index and assign the year column, which alings on Index l = df['Month'].tolist() df2 = (pd.DataFrame(l[1:], columns=l[0], index=df.index[1:]) .assign(Year=df['Year'])) print(df2) # Jan Feb Mar Year #1 1 4.0 5.0 2018 #2 2 2.0 6.0 2019 #3 5 3.0 7.0 2020 #4 2 NaN NaN 2021 df2.dtypes #Jan int64 #Feb float64 #Mar float64 #Year object # Because it was object to begin wtih If you have many other columns in your original DataFrame, instead of assigning them all you can pop the 'Month' column, and then concat it back after we've expanded it. pop removes the column from df so we can just concat with what remains in df. l = df.pop('Month').tolist() df2 = pd.concat([df.iloc[1:], pd.DataFrame(l[1:], columns=l[0], index=df.index[1:])], axis=1) # Year Jan Feb Mar #1 2018 1 4.0 5.0 #2 2019 2 2.0 6.0 #3 2020 5 3.0 7.0 #4 2021 2 NaN NaN",
    "severity": "low",
    "tags": [
      "python",
      "pandas",
      "dataframe"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "68135094",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 82,
      "stackoverflow_creation_date": "2021-06-25T17:34:27.807Z"
    },
    "idempotency_key": "stackoverflow-68135094",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Getting error while running `react-native run-android`",
    "body": "Whle running my react native code react-native run-android getting below error. It was working proper. But after taking fresh pull from git and npm ci and after I am running then getting this error. error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup. Error: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081 FAILURE: Build failed with an exception. * What went wrong: Execution failed for task ':app:checkDebugAarMetadata'. > A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction > The minCompileSdk (30) specified in a dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties) is greater than this module's compileSdkVersion (android-29). Dependency: androidx.core:core:1.7.0-alpha01. AAR metadata file: C:\\Users\\gauraab\\.gradle\\caches\\transforms-2\\files-2.1\\9e02d64f5889006a671d0a7165c73e72\\core-1.7.0-alpha01\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.",
    "code": "error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\nError: Command failed: gradlew.bat app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:checkDebugAarMetadata'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckAarMetadataWorkAction\n   &gt; The minCompileSdk (30) specified in a\n     dependency's AAR metadata (META-INF/com/android/build/gradle/aar-metadata.properties)\n     is greater than this module's compileSdkVersion (android-29).\n     Dependency: androidx.core:core:1.7.0-alpha01.\n     AAR metadata file: C:\\Users\\gauraab\\.gradle\\caches\\transforms-2\\files-2.1\\9e02d64f5889006a671d0a7165c73e72\\core-1.7.0-alpha01\\META-INF\\com\\android\\build\\gradle\\aar-metadata.properties.\n\n\nreact-native run-android\n\nnpm ci\n\n# Solution Code:\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;29.0.3&quot;\n        minSdkVersion = 23\n        compileSdkVersion = 29\n        targetSdkVersion = 29\n        ndkVersion = &quot;20.1.5948944&quot;\n        kotlin_version = &quot;1.5.0&quot;\n        androidXCore = &quot;1.5.0&quot;\n    }\n\n\nfind . -name '*.gradle' -exec grep -H &quot;\\.+&quot; {} \\;\n\n\ndef androidXCore = getExtOrInitialValue('androidXCore', null)\n  if (supportLibVersion &amp;&amp; androidXVersion == null &amp;&amp; androidXCore == null) {\n    implementation &quot;com.android.support:appcompat-v7:$supportLibVersion&quot;\n  } else {\n    def defaultAndroidXVersion = &quot;1.+&quot;\n    if (androidXCore == null) {\n      androidXCore = androidXVersion == null ? defaultAndroidXVersion : androidXVersion\n    }\n    implementation &quot;androidx.core:core:$androidXCore&quot;\n  }\n}\n\n\nnode_modules/@react-native-community/netinfo/android/build.gradle",
    "resolution": "As some has mentioned, the problem is that the RN build automatically \"upgraded\" to androidx.core:core:1.7.0-alpha01, which depends on SDK version 30. The Fix The fix is simply to specify android core version via androidXCore in build.gradle buildscript { ext { buildToolsVersion = \"29.0.3\" minSdkVersion = 23 compileSdkVersion = 29 targetSdkVersion = 29 ndkVersion = \"20.1.5948944\" kotlin_version = \"1.5.0\" androidXCore = \"1.5.0\" } How I figured it out Figuring this out was painful. I grepped for gradle files that would automatically upgrade packages like so find . -name '*.gradle' -exec grep -H \"\\.+\" {} \\; and found in node_modules/@react-native-community/netinfo/android/build.gradle the following snippet def androidXCore = getExtOrInitialValue('androidXCore', null) if (supportLibVersion && androidXVersion == null && androidXCore == null) { implementation \"com.android.support:appcompat-v7:$supportLibVersion\" } else { def defaultAndroidXVersion = \"1.+\" if (androidXCore == null) { androidXCore = androidXVersion == null ? defaultAndroidXVersion : androidXVersion } implementation \"androidx.core:core:$androidXCore\" } }",
    "severity": "high",
    "tags": [
      "javascript",
      "android",
      "react-native",
      "android-sdk-2.3"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "68207334",
      "stackoverflow_score": 48,
      "stackoverflow_view_count": 55208,
      "stackoverflow_creation_date": "2021-07-01T09:02:08.473Z"
    },
    "idempotency_key": "stackoverflow-68207334",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to convert AC3 audio to Wav audio?",
    "body": "I would like to convert a AC3 audio file (ATSC A/52 aka AC-3 aka Dolby Digital stream 6 channels) to Wave audio file (16khz mono/1 channel). While searching on the internet, a lot of people just used ffmpeg -i file.ac3 file.wav however, i'm not sure if that even works. I keep getting [ac3 @ 0x55ac1a0b0660] exponent -1 is out-of-rangets/s speed= 125x [ac3 @ 0x55ac1a0b0660] error decoding the audio block [ac3 @ 0x55ac1a0b0660] frame sync error Error while decoding stream #0:0: Invalid data found when processing input etc while I do the same command. How do I convert ac3 to wav (16khz mono)? *Note: I also tried ffmpeg -i file.ac3 -codec:a:1 ac3 -codec copy -b:a 384 file.wav -ac 1 -ar 16000. But this doesn't output an actual wav file.",
    "code": "[ac3 @ 0x55ac1a0b0660] exponent -1 is out-of-rangets/s speed= 125x\n[ac3 @ 0x55ac1a0b0660] error decoding the audio block\n[ac3 @ 0x55ac1a0b0660] frame sync error\nError while decoding stream #0:0: Invalid data found when processing input\netc\n\n\nffmpeg -i file.ac3 file.wav\n\nffmpeg -i file.ac3 -codec:a:1 ac3 -codec copy -b:a 384 file.wav -ac 1 -ar 16000\n\n# Solution Code:\nffmpeg -i file.ac3 -vcodec copy -acodec pcm_s16le -ar 16000 -ab 128k -ac 1 file.wav",
    "resolution": "ffmpeg -i file.ac3 -vcodec copy -acodec pcm_s16le -ar 16000 -ab 128k -ac 1 file.wav should do it!",
    "severity": "medium",
    "tags": [
      "audio",
      "ffmpeg",
      "wav",
      "sox"
    ],
    "metadata": {
      "stackoverflow_question_id": "68240173",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 4138,
      "stackoverflow_creation_date": "2021-07-03T21:46:19.370Z"
    },
    "idempotency_key": "stackoverflow-68240173",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to Install .ipa File on XCode iOS Simulator",
    "body": "I have downloaded an .ipa file from an iOS developer for our project. I need to test the app on my simulator because I don't have a physical device, but I don't know how to. how to install the .ipa file to XCode iOS Simulator? I have been read the difference between emulator and simulator, which the .ipa only able installed on real device and emulator while the .app only able installed on simulator. The emulator also mimic the real device's hardware and software while simulator only mimic the software and interface. If those differences above are true, does anyone know how to convert the .ipa to working .app file? I have been tried changed the .ipa to .zip by rename it then extract it and last, drag and drop the .app file (in the payload folder after extracted) to my simulator but failed, the message is \"Please update the app\". I also tried the command xcrun simctl install but failed. Currently, I am using the Mac with Big Sur and XCode 12. I can't download the project because the project size is very big and my internet too slow for download it, Thank you all",
    "code": ".ipa\n\n.ipa\n\n.ipa\n\n.app\n\n.ipa\n\n.app\n\n.ipa\n\n.zip\n\n.app\n\nxcrun simctl install",
    "severity": "high",
    "tags": [
      "ios",
      "xcode",
      "testing",
      "ios-simulator",
      "ipa"
    ],
    "metadata": {
      "stackoverflow_question_id": "68426357",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 13165,
      "stackoverflow_creation_date": "2021-07-18T05:41:10.363Z"
    },
    "idempotency_key": "stackoverflow-68426357",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "TypeError: Implicit conversion to a NumPy array is not allowed. Please use `.get()` to construct a NumPy array explicitly. - CuPy",
    "body": "I would like to use the numpy function np.float32(im) with CuPy library in my code. im = cupy.float32(im) but when I run the code I'm facing this error: TypeError: Implicit conversion to a NumPy array is not allowed. Please use `.get()` to construct a NumPy array explicitly. Any fixes for that?",
    "code": "im = cupy.float32(im)\n\n\nTypeError: Implicit conversion to a NumPy array is not allowed. Please use `.get()` to construct a NumPy array explicitly.\n\n\nnp.float32(im)\n\n# Solution Code:\nim = cupy.float32(im.get())\n\n\n.get()\n\nim",
    "resolution": "You need to add .get() to im inside the brackets: im = cupy.float32(im.get())",
    "severity": "high",
    "tags": [
      "python",
      "numpy",
      "typeerror",
      "cupy"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "68634200",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 12618,
      "stackoverflow_creation_date": "2021-08-03T10:11:31.747Z"
    },
    "idempotency_key": "stackoverflow-68634200",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "TDD in Python - should we test helper functions?",
    "body": "A bit of a theoretical question that comes up with Python, since we can access almost anything we want even if it is underscored to sign as something \"private\". def main_function(): _helper_function_() ... _other_helper_function() Doing it with TDD, you follow the Red-Green-Refactor cycle. A test looks like this now: def test_main_function_for_something_only_helper_function_does(): # tedious setup ... main_function() assert something The problem is that my main_function had so much setup steps that I've decided to test the helper functions for those specific cases: from main_package import _helper_function def test_helper_function_works_for_this_specific_input(): # no tedious setup ... _helper_function_(some_input) assert helper function does exactly something I expect But this seems to be a bad practice. Should I even \"know\" about any inner/helper functions? I refactored the main function to be more readable by moving out parts into these helper functions. So I've rewritten tests to actually test these smaller parts and created another test that the main function indeed calls them. This also seems counter-productive. On the other hand I dislike the idea of a lot of lingering inner/helper functions with no dedicated unit tests to them, only happy path-like ones for the main function. I guess if I covered the original function before the refactoring, my old tests would be just as good enough. Also if the main function breaks this would mean many additional tests for the helper ones are breaking too. What is the better practice to follow?",
    "code": "main_function\n\n# Solution Code:\nassert X.result(A,B) == Y.sort([C,D,E])\n\n\nmain_function\n\nX.result\n\nY.sort\n\nA\n\nB\n\nC\n\nf(A,B,C)",
    "resolution": "The problem is that my main_function had so much setup steps that I've decided to test the helper functions for those specific cases Excellent, that's exactly what's supposed to happen (the tests \"driving\" you to decompose the whole into smaller pieces that are easier to test). Should I even \"know\" about any inner/helper functions? Tradeoffs. Yes, part of the point of modules is that they afford information hiding, allowing you to later change how the code does something without impacting clients, including test clients. But also there are benefits to testing the internal modules directly; test design becomes simpler, with less coupling to irrelevant details. Fewer tests are coupled to each decision, which means that the blast radius is smaller when you need to change one of them. My usual thinking goes like this: I should know that there are testable inner modules, and I can know that an outer module behaves like it is coupled to an inner module, but I shouldn't necessarily know that the outer module is coupled to the inner module. assert X.result(A,B) == Y.sort([C,D,E]) If you squint at this, you'll see that it implies that X.result and Y.sort have some common requirement today, but it doesn't necessarily promise that X.result calls Y.sort. So I've rewritten tests to actually test these smaller parts and created another test that the main function indeed calls them. This also seems counter-productive. A works, and B works, and C works, and now here you are writing a test for f(A,B,C).... yeah, things go sideways. The desired outcome of TDD is \"Clean code that works\" (Jeffries); and the truth of things is that you can get clean code that works without writing every test in the world. Tests are most important in code where faults are most probable - straight line code where we are just wiring things together doesn't benefit nearly as much from the red-green-refactor cycle as code that has a lot of conditionals and branching. There are two ways of constructing a software design: One way is to make it so simple that there are obviously no deficiencies For sections of code that are \"so simple that there are obviously no deficiencies\", a suite of automated programmer tests is not a great investment. Get two people to perform a manual review, and sign off on it.",
    "severity": "medium",
    "tags": [
      "python",
      "unit-testing",
      "tdd",
      "python-unittest"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "68650884",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1161,
      "stackoverflow_creation_date": "2021-08-04T12:00:40.590Z"
    },
    "idempotency_key": "stackoverflow-68650884",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "In Typescript how to get the generic return type of a method on a class instantiated in a factory(ish) function",
    "body": "In the example code below, TypeScript can't infer the generic type U in the fooBar function and as a result the return type of fooRef.doIt() is unknown. Why is that and what do I need to modify in order to get the proper return type? interface Foo<T> { foo(): T; } class Bar implements Foo<string> { foo(): string { return 'Bar'; } } class Baz implements Foo<number> { foo(): number { return 43; } } class FooRef<T extends Foo<U>, U> { constructor(private instance: T) {} doIt() { return this.instance.foo(); } } function fooBar<T extends Foo<U>, U>(foo: new (...args: any[]) => T) { return new FooRef(new foo()); } const barRef = fooBar(Bar); barRef.doIt(); // unknown, expected string const bazRef = fooBar(Baz); bazRef.doIt(); // unknown, expected number",
    "code": "interface Foo&lt;T&gt; {\n  foo(): T;\n}\n\nclass Bar implements Foo&lt;string&gt; {\n  foo(): string {\n    return 'Bar';\n  }\n}\n\nclass Baz implements Foo&lt;number&gt; {\n  foo(): number {\n    return 43;\n  }\n}\n\nclass FooRef&lt;T extends Foo&lt;U&gt;, U&gt; {\n  constructor(private instance: T) {}\n\n  doIt() {\n    return this.instance.foo();\n  }\n}\n\nfunction fooBar&lt;T extends Foo&lt;U&gt;, U&gt;(foo: new (...args: any[]) =&gt; T) {\n  return new FooRef(new foo());\n}\n\nconst barRef = fooBar(Bar);\nbarRef.doIt(); // unknown, expected string\n\nconst bazRef = fooBar(Baz);\nbazRef.doIt(); // unknown, expected number\n\n\nU\n\nfooBar\n\nfooRef.doIt()\n\nunknown",
    "severity": "low",
    "tags": [
      "typescript",
      "generics",
      "types"
    ],
    "metadata": {
      "language": "typescript",
      "stackoverflow_question_id": "68686136",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 576,
      "stackoverflow_creation_date": "2021-08-06T18:32:29.637Z"
    },
    "idempotency_key": "stackoverflow-68686136",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Cannot resolve method 'installSplashScreen' in 'SplashScreen'",
    "body": "I'm trying to migrate my existing custom Splash screen implementation to Android 12. I have implemented it exact same way as mentioned in the provided link : as mentioned in the provided link When I write following statement in my SplashActivity, it shows error: SplashActivity.java @Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); SplashScreen.installSplashScreen(this); setContentView(R.layout.activity_splash); } the error: Cannot resolve method 'installSplashScreen' in 'SplashScreen' for SplashScreen.installSplashScreen(this); I have added the following dependency: implementation 'androidx.core:core-splashscreen:1.0.0-alpha01'",
    "code": " @Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n    super.onCreate(savedInstanceState);\n\n    SplashScreen.installSplashScreen(this);\n\n    setContentView(R.layout.activity_splash);\n }\n\n\nCannot resolve method 'installSplashScreen' in 'SplashScreen'\n\n\nSplashScreen.installSplashScreen(this);\n\n\nimplementation 'androidx.core:core-splashscreen:1.0.0-alpha01'\n\n\n# Solution Code:\nimport android.window.SplashScreen;\n\n\nimport androidx.core.splashscreen.SplashScreen;\n",
    "resolution": "When I imported the SplashScreen, the default import was: import android.window.SplashScreen; And this was the only import available and there was no option to choose from. After reading the documentation, the package name seems to be the following: import androidx.core.splashscreen.SplashScreen; I had to manually change the above import statement. I don't know why I didn't get to choose between the two. Even after changing the import, SplashScreen was still red(showing error) during compile-time, but I could able to build and run the project without any issue.",
    "severity": "high",
    "tags": [
      "android-12"
    ],
    "metadata": {
      "stackoverflow_question_id": "68712878",
      "stackoverflow_score": 23,
      "stackoverflow_view_count": 11738,
      "stackoverflow_creation_date": "2021-08-09T13:26:11.100Z"
    },
    "idempotency_key": "stackoverflow-68712878",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to check what button is clicked in a series of randomized buttons?",
    "body": "I have a series of randomized buttons and I want to know how to detect which button is clicked, and when it is clicked, it turned into a color classed in css corresponding to that randomized button. var randomCharacter = ''; var button = document.getElementsByClassName(\"button\"); //gets a random character function getRandomCharacter(length) { var randomResult = ''; const characters = 'abcdefghijklmnopqrstuvwxyz0123456789'; const charactersLength = characters.length; for (var i = 0; i < length; i++) { randomResult += characters.charAt(Math.floor(Math.random() * charactersLength)); } return randomResult; } //gives a random image displayed function giveDifferentQuestionImg() { randomCharacter = getRandomCharacter(1); // console.log(randomCharacter); // test document.canvas.src = \"alphabetAndNum/\" + randomCharacter + \".png\"; // 3 different characters in 3 times var possibleAns = [getRandomCharacter(1), getRandomCharacter(1), getRandomCharacter(1), randomCharacter]; shuffleArr(possibleAns); document.getElementById(\"ans1\").innerHTML = possibleAns[0]; document.getElementById(\"ans2\").innerHTML = possibleAns[1]; document.getElementById(\"ans3\").innerHTML = possibleAns[2]; document.getElementById(\"ans4\").innerHTML = possibleAns[3]; // console.log(randomCharacter) } //shuffles array function shuffleArr(array) { var currentIndex = array.length, randomIndex; // While there remain elements to shuffle... while (0 !== currentIndex) { // Pick a remaining element... randomIndex = Math.floor(Math.random() * currentIndex); currentIndex--; // And swap it with the current element. [array[currentIndex], array[randomIndex]] = [ array[randomIndex], array[currentIndex] ]; } return array; } //checks for if the user answer is correct function selectAnswer(event) { //need to know if character selected = randomcharacter var const selectedButton = event.target.innerHTML; if (selectedButton == randomCharacter) { document.querySelector(\"button\").classList.add(\"btn-correct\") document.getElementById(\"elemental\").innerHTML = selectedButton console.log(selectedButton, randomCharacter); } else { } } .imgButton { text-align: center; } table { margin-left: auto; margin-right: auto; } .display-btn { padding: 1.5rem; border-radius: 2rem !important; } #answers-btns { padding: 0; margin: 0; list-style: none; display: flex; align-items: center; justify-content: center; } .btn-row { width: 100% } #randomPhoto { display: block; margin-left: auto; margin-right: auto; } .bodyQuiz { padding: 0; margin: 0; display: flex; justify-content: center; align-items: center; } .btn-grid { display: grid; grid-template-columns: repeat(4, auto); gap: 10px; margin: 20px 0; } .btn { border-radius: 2rem !important; outline: none; } .btn-correct { background-color: rgb(35, 202, 35); } .btn-wrong { background-color: rgb(226, 58, 58); } .start-btn, .next-btn { font-weight: bold; } .controls { display: flex; justify-content: center; align-items: center; } .hide { display: none; } <div> <img src=\"\" name=\"canvas\" id=\"randomPhoto\" alt=\"handsign\"> </div> <div id=\"answer-buttons\" class=\"btn-grid\"> <button class=\"btn\" id=\"ans1\" onclick=\"selectAnswer(event)\">1</button> <button class=\"btn\" id=\"ans2\" onclick=\"selectAnswer(event)\">2</button> <button class=\"btn\" id=\"ans3\" onclick=\"selectAnswer(event)\">3</button> <button class=\"btn\" id=\"ans4\" onclick=\"selectAnswer(event)\">4</button> </div>",
    "code": "&lt;div id=&quot;answer-buttons&quot; class=&quot;btn-grid&quot;&gt;\n  &lt;button class=&quot;btn&quot; id=&quot;ans1&quot; onclick=&quot;buttonFunction(this)&quot; value=&quot;red&quot;&gt;1&lt;/button&gt;\n  &lt;button class=&quot;btn&quot; id=&quot;ans2&quot; onclick=&quot;buttonFunction(this)&quot; value=&quot;yellow&quot;&gt;2&lt;/button&gt;\n  &lt;button class=&quot;btn&quot; id=&quot;ans3&quot; onclick=&quot;buttonFunction(this)&quot; value=&quot;black&quot;&gt;3&lt;/button&gt;\n  &lt;button class=&quot;btn&quot; id=&quot;ans4&quot; onclick=&quot;buttonFunction(this)&quot; value=&quot;green&quot;&gt;4&lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div style = &quot;width: 100px; height: 100px; border: 1px solid black&quot; id =&quot;gridContent&quot;&gt;\n&lt;/div&gt;\n&lt;script&gt;\n\nfunction buttonFunction(el) {\n    var gridContent = document.getElementById(&quot;gridContent&quot;)\n    gridContent.style.backgroundColor = el.value\n}\n",
    "resolution": "check this code. <div id=\"answer-buttons\" class=\"btn-grid\"> <button class=\"btn\" id=\"ans1\" onclick=\"buttonFunction(this)\" value=\"red\">1</button> <button class=\"btn\" id=\"ans2\" onclick=\"buttonFunction(this)\" value=\"yellow\">2</button> <button class=\"btn\" id=\"ans3\" onclick=\"buttonFunction(this)\" value=\"black\">3</button> <button class=\"btn\" id=\"ans4\" onclick=\"buttonFunction(this)\" value=\"green\">4</button> </div> </div> <div style = \"width: 100px; height: 100px; border: 1px solid black\" id =\"gridContent\"> </div> <script> function buttonFunction(el) { var gridContent = document.getElementById(\"gridContent\") gridContent.style.backgroundColor = el.value }",
    "severity": "low",
    "tags": [
      "javascript",
      "html",
      "css"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "68825201",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 59,
      "stackoverflow_creation_date": "2021-08-17T23:54:26.253Z"
    },
    "idempotency_key": "stackoverflow-68825201",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do I archive file/dir from a gitlab repository using Terraform?",
    "body": "I need to archive a directory from my gitlab repo using terraform in order to use the ZIP file in an aws lambda function. when putting a url in the source attribute it errors: Error: error archiving file: could not archive missing file: https://*********/lambda.py my Terraform code for archiving the file is: data \"archive_file\" \"init\" { type = \"zip\" output_path = \"${path.module}/example.zip\" source_file = \"https://*********/lambda.py\" } so obviously this is not the right way to do it, didn't find anything regarding this online, is there a proper way to do this using Terraform?",
    "code": "data &quot;archive_file&quot; &quot;init&quot; {\n   type        = &quot;zip&quot;\n   output_path = &quot;${path.module}/example.zip&quot;\n   source_file = &quot;https://*********/lambda.py&quot;\n}\n\n\nError: error archiving file: could not archive missing file: https://*********/lambda.py\n\n# Solution Code:\nsource_file\n\nnull_resource\n\nlocal_exec\n\narchive_file",
    "resolution": "source_file is a local path, not a remote url. Thus you can do: Download your file from github using null_resource with local_exec as shown here. Use your archive_file to archive the newly downloaded file from github.",
    "severity": "medium",
    "tags": [
      "amazon-web-services",
      "terraform"
    ],
    "metadata": {
      "stackoverflow_question_id": "68828554",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2565,
      "stackoverflow_creation_date": "2021-08-18T07:59:06.950Z"
    },
    "idempotency_key": "stackoverflow-68828554",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "TypeORM and MongoDB and Repositories: Cannot read property 'prototype' of undefined",
    "body": "I'm trying implement TypeORM with MongoDB using repositories. However, when I try to make use of repositories to manage the database, using the same structure as in this repository, things go a bit sideways. I'm getting the following error: UnhandledPromiseRejectionWarning: TypeError: Cannot read property 'prototype' of undefined I have tried the following code: import { Request, Response } from 'express'; import { getMongoRepository } from \"typeorm\"; import Task from \"../models/Task\"; export default class TasksController { async listAll(request: Request, response: Response): Promise<Response> { const tasksRepository = getMongoRepository(Task); try { const tasks = await tasksRepository.find(); return response.status(200).json({ \"items\": tasks }); } catch (err) { return response.status(400).json({ message: err.message, }); } } } I know the error refers to implementing the .find() method. I have even managed to fetch the data, using a suggestion from this post replacing: const tasks = await tasksRepository.find(); with const tasks = await tasksRepository.createCursor(tasksRepository.find()).toArray(); but I still get the above mentioned error. Anyone understands what's going on? I have also managed to save data directly to the database through the use of the following script: server.ts import express from 'express'; import { createConnection } from 'typeorm' const app = express(); const port = 3333; createConnection(); app.use(express.json()); app.post('/tasks', (async (request, response) => { const { item } = request.body; task.item = item; const task = new Task(); (await connection).mongoManager.save(task); return response.send(task); })) app.listen(port, () => console.log(`Server running on port ${port}`) );",
    "code": ".find()",
    "severity": "medium",
    "tags": [
      "node.js",
      "mongodb",
      "repository",
      "typeorm"
    ],
    "metadata": {
      "framework": "nodejs",
      "stackoverflow_question_id": "68908467",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2370,
      "stackoverflow_creation_date": "2021-08-24T13:25:48.210Z"
    },
    "idempotency_key": "stackoverflow-68908467",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "PKAddPaymentPassViewController dismiss on cancel",
    "body": "Currently I'm presenting the PKAddPaymentPassViewController in my react-native application with the following code let delegate = PKAddPaymentPassDelegate(); let pkAddPaymentPassViewController = PKAddPaymentPassViewController.init(requestConfiguration: pkAddPaymentPassRequestConfiguration!, delegate:delegate ); DispatchQueue.main.async { RCTPresentedViewController()?.present(pkAddPaymentPassViewController!, animated: true, completion: nil); } The problem is, that when I'm taping the cancel button on the left-top, the View is not disappearing. Has anyone faced this problem ? any help would be appreciated",
    "code": "PKAddPaymentPassViewController\n\nreact-native\n\ncancel\n\n# Solution Code:\n// RNPassKit.m\n\n#import &quot;React/RCTBridgeModule.h&quot;\n\n@interface RCT_EXTERN_REMAP_MODULE(RNPassKit, RNPassKit, NSObject)\nRCT_EXTERN_METHOD(checkSupportApplePay: (NSDictionary *)data\n                  resolver:(RCTPromiseResolveBlock)resolve\n                  rejecter:(RCTPromiseRejectBlock)reject)\nRCT_EXTERN_METHOD(initToken: (NSString *)token)\nRCT_EXTERN_METHOD(presentAddPass: (NSDictionary *)data\n                  resolver:(RCTPromiseResolveBlock)resolve\n                  rejecter:(RCTPromiseRejectBlock)reject)\n@end\n\n\n\n//  RNPasskitEvents.m\n\n#import &lt;Foundation/Foundation.h&gt;\n#import &lt;React/RCTBridgeModule.h&gt;\n#import &lt;React/RCTEventEmitter.h&gt;\n\n@interface RCT_EXTERN_MODULE(RNPassKitEvents, RCTEventEmitter)\n  RCT_EXTERN_METHOD(supportedEvents)\n@end\n\n\n\ndismiss\n\nPKAddPaymentPassViewControllerDelegate\n\nPKAddPaymentPassViewControllerDelegate\n\nPassKitCardDetector\n\nRCTEventEmitter\n\njavascript\n\npresentAddPass",
    "resolution": "I managed to solve this by adding dismiss functionality to error handler of PKAddPaymentPassViewControllerDelegate implementation, something like this func addPaymentPassViewController( _ controller: PKAddPaymentPassViewController, didFinishAdding pass: PKPaymentPass?, error: Error?) { RCTPresentedViewController()?.dismiss(animated: true, completion: nil) } here is whole PKAddPaymentPassViewControllerDelegate implementation, I can't explain what's going on here, nor this is a best implementation as I wrote it over a year ago with 0 swift experience whatsoever. But this is a working solution. // RNPasskit.swift import PassKit import React extension Data { struct HexEncodingOptions: OptionSet { let rawValue: Int static let upperCase = HexEncodingOptions(rawValue: 1 << 0) } func hexEncodedString(options: HexEncodingOptions = []) -> String { let format = options.contains(.upperCase) ? \"%02hhX\" : \"%02hhx\" return self.map { String(format: format, $0) }.joined() } } extension String { var hexadecimal: Data? { var data = Data(capacity: count / 2) let regex = try! NSRegularExpression(pattern: \"[0-9a-f]{1,2}\", options: .caseInsensitive) regex.enumerateMatches(in: self, range: NSRange(startIndex..., in: self)) { match, _, _ in let byteString = (self as NSString).substring(with: match!.range) let num = UInt8(byteString, radix: 16)! data.append(num) } guard data.count > 0 else { return nil } return data } } @available(iOS 12.3, *) @objc(RNPassKit) class RNPassKit: NSObject, PKAddPaymentPassViewControllerDelegate { var accessToken: String = \"\"; var cardRef: String = \"\"; var isMaster: Bool = false; @objc public static var isApplePayAvailableForDevice: Bool { return PKAddPaymentPassViewController.canAddPaymentPass() } @objc(checkSupportApplePay:resolver:rejecter:) public func checkSupportApplePay(config: [String: String], resolve: @escaping RCTPromiseResolveBlock, rejecter reject: RCTPromiseRejectBlock) { let cardSuffix = config[\"cardSuffix\"]!; let canAddToApplePay = PassKitCardDetector.checkSupportApplePay(cardSuffix: cardSuffix, bankName: nil); resolve(\"\\(canAddToApplePay)\"); } @objc func initToken(_ token: String) { Http.accessToken = token; } @objc(presentAddPass:resolver:rejecter:) func presentAddPass(config: [String: String], resolve: @escaping RCTPromiseResolveBlock, reject: RCTPromiseRejectBlock) -> Void { let cardNumber = config[\"cardNumber\"]!; let json: [String: Any] = [ \"requestId\": \"inappprov\", \"cardNumbers\": [cardNumber], ]; Http.post(path: \"/GetPanReferenceIds\", json: json) { res in self.isMaster = config[\"isMaster\"] == \"true\" ? true : false; if(res != nil && res.count > 0){ let responseJSON = res as! [String: Any]; let refList = responseJSON[\"refList\"]! as! [[String: String]]; let panReferenceId = refList[0][\"panReferenceId\"]! let pkAddPaymentPassRequestConfiguration = PKAddPaymentPassRequestConfiguration.init(encryptionScheme: .ECC_V2); pkAddPaymentPassRequestConfiguration?.cardholderName = config[\"cardholderName\"]; pkAddPaymentPassRequestConfiguration?.style = PKAddPaymentPassStyle.payment; pkAddPaymentPassRequestConfiguration?.primaryAccountIdentifier = panReferenceId; pkAddPaymentPassRequestConfiguration?.primaryAccountSuffix = config[\"primaryAccountSuffix\"]; self.cardRef = config[\"cardRef\"]!; DispatchQueue.main.async { let pkAddPaymentPassViewController = PKAddPaymentPassViewController.init(requestConfiguration: pkAddPaymentPassRequestConfiguration!, delegate: self); pkAddPaymentPassViewController?.modalPresentationStyle = UIModalPresentationStyle.pageSheet; RCTPresentedViewController()?.present(pkAddPaymentPassViewController!, animated: true, completion: nil); } } resolve(nil); } } func addPaymentPassViewController(_ controller: PKAddPaymentPassViewController, generateRequestWithCertificateChain certificates: [Data], nonce: Data, nonceSignature: Data, completionHandler handler: @escaping (PKAddPaymentPassRequest) -> Void) { let stringCertificates = certificates.map { $0.hexEncodedString(options: .upperCase) }; let json: [String: Any] = [ \"requestId\": \"inappprov\" + self.cardRef, \"cardRef\": self.cardRef, \"certificates\": certificates.map {$0.hexEncodedString(options: .upperCase)}, \"nonce\": nonce.hexEncodedString(options: .upperCase), \"nonceSignature\": nonceSignature.hexEncodedString(options: .upperCase), ]; Http.post(path: \"/GetDigitizationRequest\", json: json) { res in if(res != nil && res.count > 0){ let responseJSON = res as! [String: String]; let encryptedPassDataString = responseJSON[\"encryptedPassData\"]!; let activationDataString = responseJSON[\"activationData\"]!; let ephemeralPublicKeyString = responseJSON[\"ephemeralPublicKey\"]!; let pkAddPaymentPassRequest = PKAddPaymentPassRequest.init(); if(self.isMaster){ pkAddPaymentPassRequest.activationData = Data.init(base64Encoded: activationDataString, options: []); } else { pkAddPaymentPassRequest.activationData = activationDataString.data(using: .utf8); } pkAddPaymentPassRequest.encryptedPassData = encryptedPassDataString.hexadecimal; pkAddPaymentPassRequest.ephemeralPublicKey = ephemeralPublicKeyString.hexadecimal; handler(pkAddPaymentPassRequest); } } } func addPaymentPassViewController(_ controller: PKAddPaymentPassViewController, didFinishAdding pass: PKPaymentPass?, error: Error?) { RCTPresentedViewController()?.dismiss(animated: true, completion: nil) RNPassKitEvents.emitter.sendEvent(withName: \"onAppleScreen\", body: []) } } PassKitCardDetector implementation was taken from here I was using RCTEventEmitter to talk back with javascript with implementation as simple as follows: // RNPasskitEvents.swift import Foundation import React @objc(RNPassKitEvents) open class RNPassKitEvents: RCTEventEmitter { public static var emitter: RCTEventEmitter! override init() { super.init() RNPassKitEvents.emitter = self } open override func supportedEvents() -> [String] { [\"onAppleScreen\"] } } To present the provisioning screen I was calling presentAddPass as follows: NativeModules.RNPassKit.presentAddPass(...).then(...).catch(...) to track unsuccessful provisioning const eventEmitter = new NativeEventEmitter(NativeModules.RNPassKitEvents); eventEmitter.addListener('onAppleScreen', callback); PS. Don't forget to export methods to js // RNPassKit.m #import \"React/RCTBridgeModule.h\" @interface RCT_EXTERN_REMAP_MODULE(RNPassKit, RNPassKit, NSObject) RCT_EXTERN_METHOD(checkSupportApplePay: (NSDictionary *)data resolver:(RCTPromiseResolveBlock)resolve rejecter:(RCTPromiseRejectBlock)reject) RCT_EXTERN_METHOD(initToken: (NSString *)token) RCT_EXTERN_METHOD(presentAddPass: (NSDictionary *)data resolver:(RCTPromiseResolveBlock)resolve rejecter:(RCTPromiseRejectBlock)reject) @end // RNPasskitEvents.m #import <Foundation/Foundation.h> #import <React/RCTBridgeModule.h> #import <React/RCTEventEmitter.h> @interface RCT_EXTERN_MODULE(RNPassKitEvents, RCTEventEmitter) RCT_EXTERN_METHOD(supportedEvents) @end",
    "severity": "medium",
    "tags": [
      "ios",
      "swift",
      "react-native",
      "passkit",
      "apple-wallet"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "69012656",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1726,
      "stackoverflow_creation_date": "2021-09-01T11:12:33.593Z"
    },
    "idempotency_key": "stackoverflow-69012656",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How make arcs shapes with pure CSS",
    "body": "I wanted to make smilly for my clock but I stucked with the arcs . This question used box shadow . Can it possible with lines to make crescent shape I searched for many question all are using almost semi-circles not stretched like arcs. How to make arcs like this in below image with pure CSS . Any suggestion except SVG or Canvas. Thanks for the help . Know arcs are main in image but only one example will work I will use it at other places my self and position them #clockStyleCircle{ position: absolute; width: 16vw; height: 16vw; text-align: center; padding: 0%; top: 28.5%; left: 28.5%; border-radius: 50%; border: 3px solid black; background-color: rgb(255, 233, 35); } #clockStyleEyeCircle1{ position: absolute; width: 4vw; height: 4vw; top: 24%; left: 10%; border: 3px solid black; border-radius: 50%; box-shadow: inset 0px 1.5vw 1px 0.1vh rgb(255, 86, 86); /* inset 16px 0px #777, inset 16px 0px 1px 2px #777;*/ background-color: black; } #clockStyleEyeCircle2{ position: absolute; width: 4vw; height: 4vw; top: 24%; left: 65%; border: 3px solid black; border-radius: 50%; box-shadow: inset 0px 1.5vw 1px 0.1vh rgb(255, 86, 86); background-color: black; } #clockStyleSimileCircle{ position: absolute; width: 8vw; height: 3vw; top: 68%; left: 25%; border: 3px solid rgb(36, 36, 36); /* border-radius: 0 0 50% 50% / 0 0 100% 100%; */ border-bottom-left-radius: 100% 200%; border-bottom-right-radius: 100% 200%; background-color: black; box-shadow: inset 16px 0px #777, inset 16px 0px 1px 2px #777;; } <div id=\"clockStyleCircle\"> <div id=\"clockStyleEyeCircle1\"> <div id=\"clockStyleEyeSmallCircle1\"></div> </div> <div id=\"clockStyleEyeCircle2\"> <div id=\"clockStyleEyeSmallCircle2\"></div> </div> <div id=\"clockStyleSimileCircle\"></div> </div> After referring to above link eyes get alright but as you can see in above snippet shape of mouth renders in shadow . So , tried some changes in below snippet you can see its not stretched and borders are hidden to make it possible . Can it possible to make arc with pure CSS . #clockStyleCircle { position: absolute; width: 16vw; height: 16vw; text-align: center; padding: 0%; top: 28.5%; left: 28.5%; border-radius: 50%; border: 3px solid black; background-color: rgb(255, 233, 35); } #clockStyleEyeCircle1 { position: absolute; width: 4vw; height: 4vw; top: 24%; left: 10%; border: 3px solid black; border-radius: 50%; box-shadow: inset 0px 1.5vw 1px 0.1vh rgb(255, 86, 86); /* inset 16px 0px #777, inset 16px 0px 1px 2px #777;*/ background-color: black; } #clockStyleEyeCircle2 { position: absolute; width: 4vw; height: 4vw; top: 24%; left: 65%; border: 3px solid black; border-radius: 50%; box-shadow: inset 0px 1.5vw 1px 0.1vh rgb(255, 86, 86); background-color: black; } #clockStyleSimileCircle { position: absolute; width: 6vw; height: 6vw; top: 45%; left: 30%; border: 3px solid transparent; border-radius: 150px; /* border-radius: 0 0 50% 50% / 0 0 100% 100%; */ /* border-bottom-left-radius: 100% 200%; */ /* border-bottom-right-radius: 100% 200%; */ background-color: transparent; box-shadow: inset 0px -9px 1px -2px #777; } #clockStyleSmileSmallCircle2 { position: absolute; width: 1vw; height: 2vw; top: 76%; left: 30%; border: 3px solid transparent; border-radius: 150px; /* border-radius: 0 0 50% 50% / 0 0 100% 100%; */ /* border-bottom-left-radius: 100% 200%; */ /* border-bottom-right-radius: 100% 200%; */ background-color: transparent; box-shadow: inset 0px 9px 1px -3px red; } <div id=\"clockStyleCircle\"> <div id=\"clockStyleEyeCircle1\"> <div id=\"clockStyleEyeSmallCircle1\"></div> </div> <div id=\"clockStyleEyeCircle2\"> <div id=\"clockStyleEyeSmallCircle2\"></div> </div> <div id=\"clockStyleSimileCircle\"><div id=\"clockStyleSmileSmallCircle2\"></div></div> </div>",
    "severity": "low",
    "tags": [
      "html",
      "css"
    ],
    "metadata": {
      "language": "html",
      "stackoverflow_question_id": "69167285",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 589,
      "stackoverflow_creation_date": "2021-09-13T18:08:07.410Z"
    },
    "idempotency_key": "stackoverflow-69167285",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Get mask of image without using OpenCV",
    "body": "I'm trying the following to get the mask out of this image, but unfortunately I fail. import numpy as np import skimage.color import skimage.filters import skimage.io # get filename, sigma, and threshold value from command line filename = 'pathToImage' # read and display the original image image = skimage.io.imread(fname=filename) skimage.io.imshow(image) # blur and grayscale before thresholding blur = skimage.color.rgb2gray(image) blur = skimage.filters.gaussian(blur, sigma=2) # perform inverse binary thresholding mask = blur < 0.8 # use the mask to select the \"interesting\" part of the image sel = np.ones_like(image) sel[mask] = image[mask] # display the result skimage.io.imshow(sel) How can I obtain the mask? Is there a general approach that would work for this image as well. without custom fine-tuning and changing parameters?",
    "code": "import numpy as np\nimport skimage.color\nimport skimage.filters\nimport skimage.io\n\n# get filename, sigma, and threshold value from command line\nfilename = 'pathToImage'\n\n# read and display the original image\nimage = skimage.io.imread(fname=filename)\nskimage.io.imshow(image)\n# blur and grayscale before thresholding\nblur = skimage.color.rgb2gray(image)\nblur = skimage.filters.gaussian(blur, sigma=2)\n# perform inverse binary thresholding\nmask = blur &lt; 0.8\n# use the mask to select the &quot;interesting&quot; part of the image\nsel = np.ones_like(image)\nsel[mask] = image[mask]\n\n# display the result\nskimage.io.imshow(sel)\n\n\n# Solution Code:\nimport numpy as np\nfrom skimage.io import imread, imsave\nfrom skimage.feature import canny\nfrom skimage.color import rgb2gray\nfrom skimage.filters import gaussian\nfrom skimage.morphology import dilation, erosion, selem\nfrom skimage.measure import find_contours\nfrom skimage.draw import polygon\n\ndef get_mask(img):\n    kernel = selem.rectangle(7, 6)\n    dilate = dilation(canny(rgb2gray(img), 0), kernel)\n    dilate = dilation(dilate, kernel)\n    dilate = dilation(dilate, kernel)\n    erode = erosion(dilate, kernel)\n    mask = np.zeros_like(erode)\n    rr, cc = polygon(*find_contours(erode)[0].T)\n    mask[rr, cc] = 1\n    return gaussian(mask, 7) &gt; 0.74\n\ndef save_img_masked(file):\n    img = imread(file)[..., :3]\n    mask = get_mask(img)\n    result = np.zeros_like(img)\n    result[mask] = img[mask]\n    imsave(&quot;masked_&quot; + file, result)\n\nsave_img_masked('belt.png')\nsave_img_masked('bottle.jpg')\n\n\nskimage\n\nmasked_belt.png\n\nmasked_bottle.jpg",
    "resolution": "Here is how you can get a rough mask using only the skimage library methods: import numpy as np from skimage.io import imread, imsave from skimage.feature import canny from skimage.color import rgb2gray from skimage.filters import gaussian from skimage.morphology import dilation, erosion, selem from skimage.measure import find_contours from skimage.draw import polygon def get_mask(img): kernel = selem.rectangle(7, 6) dilate = dilation(canny(rgb2gray(img), 0), kernel) dilate = dilation(dilate, kernel) dilate = dilation(dilate, kernel) erode = erosion(dilate, kernel) mask = np.zeros_like(erode) rr, cc = polygon(*find_contours(erode)[0].T) mask[rr, cc] = 1 return gaussian(mask, 7) > 0.74 def save_img_masked(file): img = imread(file)[..., :3] mask = get_mask(img) result = np.zeros_like(img) result[mask] = img[mask] imsave(\"masked_\" + file, result) save_img_masked('belt.png') save_img_masked('bottle.jpg') Resulting masked_belt.png: Resulting masked_bottle.jpg:",
    "severity": "medium",
    "tags": [
      "python",
      "image-processing"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "69252766",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1481,
      "stackoverflow_creation_date": "2021-09-20T10:18:25.490Z"
    },
    "idempotency_key": "stackoverflow-69252766",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How do you update a single value in xtdb?",
    "body": "Given the following document {:xt/id 1 :line-item/quantity 23 :line-item/item 20 :line-item/description \"Item line description\"} I want to update the quantity to 25 As I can tell so far, I will need to first query the DB, get the full doc, merge in the change, then transact the new doc back. Is there a way to merge in just a change in quantity without doing the above? Thank you",
    "code": "{:xt/id 1\n :line-item/quantity 23\n :line-item/item 20\n :line-item/description &quot;Item line description&quot;}\n\n\n25\n\n# Solution Code:\n(xt/submit-tx node [[::xt/put\n                     {:xt/id :update-quantity\n                      ;; note that the function body is quoted.\n                      ;; and function calls are fully qualified\n                      :xt/fn '(fn [ctx eid new-quantity]\n                                (let [db (xtdb.api/db ctx)\n                                         entity (xtdb.api/entity db eid)]\n                                     [[::xt/put (assoc entity :line-item/quantity new-quantity)]]))}]])\n\n\n;; `[[::xt/fn &lt;id-of-fn&gt; &lt;id-of-entity&gt; &lt;new-quantity&gt;]]` -- the `ctx` is automatically-injected\n(xt/submit-tx node [[::xt/fn :update-quantity 1 25]])\n",
    "resolution": "You should be able to use transaction functions for this. These will allow you to specify those multiple steps and push them down into the transaction log to ensure that they execute in-sequence (i.e. that you will always retrieve the latest doc to update against at the point in time the transaction function call itself is pushed into the transaction log). For your specific example I think it would look something like this (untested): (xt/submit-tx node [[::xt/put {:xt/id :update-quantity ;; note that the function body is quoted. ;; and function calls are fully qualified :xt/fn '(fn [ctx eid new-quantity] (let [db (xtdb.api/db ctx) entity (xtdb.api/entity db eid)] [[::xt/put (assoc entity :line-item/quantity new-quantity)]]))}]]) This creates the transaction function itself, then you just need to call it to make the change: ;; `[[::xt/fn <id-of-fn> <id-of-entity> <new-quantity>]]` -- the `ctx` is automatically-injected (xt/submit-tx node [[::xt/fn :update-quantity 1 25]])",
    "severity": "medium",
    "tags": [
      "database",
      "clojure"
    ],
    "metadata": {
      "stackoverflow_question_id": "69291427",
      "stackoverflow_score": 10,
      "stackoverflow_view_count": 730,
      "stackoverflow_creation_date": "2021-09-22T21:22:51.577Z"
    },
    "idempotency_key": "stackoverflow-69291427",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Electron ReferenceError __dirname is not defined",
    "body": "whenever I try to import {ipcRenderer} from 'electron'; from the renderer, I get a ReferenceError (__dirname is not defined). I'm using the electron-react-boilerplate and I did't modify any of the code except for React-components in the renderer.",
    "severity": "low",
    "tags": [
      "javascript",
      "reactjs",
      "webpack",
      "electron"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "69321424",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 473,
      "stackoverflow_creation_date": "2021-09-24T21:49:53.963Z"
    },
    "idempotency_key": "stackoverflow-69321424",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Using SignalR in Worker Service Project",
    "body": "I have been searching high and low on how to configure this properly and nothing seems to be working for me. I have been mostly following the following article from Microsoft and adjusting for my own needs as I go. Using .Net 5.0 For starters, what I am trying to do is create a SignalR connection between my Web UI and my BackgroundService. When creating the background service I used File -> New Project -> Worker Service template to create this service. I need to be able to both send data to clients and recieve data from clients within the BackgroundService. Program.cs Here I add SignalR. Which seems pretty straightforward. public class Program { public static void Main(string[] args) { CreateHostBuilder(args).Build().Run(); } public static IHostBuilder CreateHostBuilder(string[] args) => Host.CreateDefaultBuilder(args) .ConfigureServices((hostContext, services) => { IConfiguration configuration = hostContext.Configuration; services.AddDbContext<ApplicationDbContext>(options => options.UseSqlServer(configuration.GetConnectionString(\"myContext\"))); services.AddSignalR(); services.AddHostedService<Worker>(); }); } Interface: This is where my understanding starts to break down. I think this is an interface to send data to the client? public interface IDesoutterController { Task SendData(DateTime currentTime); } Controller Hub: Here is my hub contained in the worker service project with a function to send data to all clients. public class ControllerHub : Hub<IDesoutterController> { public async Task SendDataToClients(DateTime dateTime) { await Clients.All.SendData(dateTime); } } Controller Hub Client: This is where I am the most confused. Why is my service using a hub, and a hub client in this case or is it all poor wording? Is this just the portion to receive data from my Web UI? Would my web UI project call the endpoint /hubs/controller?? public partial class ControllerHubClient : IDesoutterController, IHostedService { private readonly ILogger<ControllerHubClient> _logger; private HubConnection _connection; public ControllerHubClient(ILogger<ControllerHubClient> logger) { _logger = logger; _connection = new HubConnectionBuilder() .WithUrl(\"/hubs/controller\") .Build(); _connection.On<DateTime>(\"onSend\", SendData); } public async Task StartAsync(CancellationToken cancellationToken) { // Loop is here to wait until the server is running while (true) { try { await _connection.StartAsync(cancellationToken); break; } catch { await Task.Delay(1000); } } } public Task StopAsync(CancellationToken cancellationToken) { return _connection.StopAsync(); } public Task SendData(DateTime currentTime) { _logger.LogInformation(\"{CurrentTime}\", currentTime.ToShortTimeString()); return Task.CompletedTask; } } Worker Service: public class Worker : BackgroundService { private readonly ILogger<Worker> _logger; private readonly IHubContext<ControllerHub, IDesoutterController> _controllerHub; public Worker(ILogger<Worker> logger, IHubContext<ControllerHub, IDesoutterController> controllerHub) { _logger = logger; _controllerHub = controllerHub; } protected override async Task ExecuteAsync(CancellationToken stoppingToken) { while (!stoppingToken.IsCancellationRequested) { //Other Stuff } } } Really all I am trying to do is have a SignalR connection between by Web UI and Worker Service project to allow events to be sent (quickly). Each instance of my background service needs its own hub. Granted I am FAIRLY certain I am doing this all wrong. I do however get the following error whenever I start my worker service project. System.TypeLoadException: 'Method 'GetStreamItemType' in type 'Microsoft.AspNetCore.SignalR.Internal.DefaultHubDispatcher`1' from assembly 'Microsoft.AspNetCore.SignalR.Core, Version=1.1.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60' does not have an implementation.' Any help or direction would be greatly appreciated as I am completely new to background services and signalr. EDIT Here is a diagram of essentially the system I am trying to create. After reading some of the comments I wanted to clarify my worker service project does NOT have a startup.cs (a big part of why I was confused reading the Microsoft article). I think because I used the worker service template? In my case I \"think\" I was trying to put both the client and the hub in the same project. After another suggestion in the comment I believe I would want the hub in my web UI project and make my background service the client connecting to the hub? So in the picture switch around the UI to be the Hub and the Background Worker service(s) to be the client(s)? When I say worker services, I mean I am creating a task for each device. So 1 \"worker\" thread per device.",
    "code": " public class Program\n{\n    public static void Main(string[] args)\n    {\n        CreateHostBuilder(args).Build().Run();\n    }\n\n    public static IHostBuilder CreateHostBuilder(string[] args) =&gt;\n        Host.CreateDefaultBuilder(args)\n            .ConfigureServices((hostContext, services) =&gt;\n            {\n                IConfiguration configuration = hostContext.Configuration;\n                services.AddDbContext&lt;ApplicationDbContext&gt;(options =&gt;\n                        options.UseSqlServer(configuration.GetConnectionString(&quot;myContext&quot;)));\n                services.AddSignalR();\n                services.AddHostedService&lt;Worker&gt;();\n            });\n}\n\n\npublic interface IDesoutterController\n{\n    Task SendData(DateTime currentTime);\n}\n\n\npublic class ControllerHub : Hub&lt;IDesoutterController&gt;\n{\n    public async Task SendDataToClients(DateTime dateTime)\n    {\n        await Clients.All.SendData(dateTime);\n    }\n}\n\n\npublic partial class ControllerHubClient : IDesoutterController, IHostedService\n{\n    private readonly ILogger&lt;ControllerHubClient&gt; _logger;\n    private HubConnection _connection;\n\n    public ControllerHubClient(ILogger&lt;ControllerHubClient&gt; logger)\n    {\n        _logger = logger;\n\n        _connection = new HubConnectionBuilder()\n            .WithUrl(&quot;/hubs/controller&quot;)\n            .Build();\n\n        _connection.On&lt;DateTime&gt;(&quot;onSend&quot;, SendData);\n    }\n    public async Task StartAsync(CancellationToken cancellationToken)\n    {\n        // Loop is here to wait until the server is running\n        while (true)\n        {\n            try\n            {\n                await _connection.StartAsync(cancellationToken);\n\n                break;\n            }\n            catch\n            {\n                await Task.Delay(1000);\n            }\n        }\n    }\n    public Task StopAsync(CancellationToken cancellationToken)\n    {\n        return _connection.StopAsync();\n    }\n    public Task SendData(DateTime currentTime)\n    {\n        _logger.LogInformation(&quot;{CurrentTime}&quot;, currentTime.ToShortTimeString());\n\n        return Task.CompletedTask;\n    }\n}\n\n\n public class Worker : BackgroundService\n{\n    private readonly ILogger&lt;Worker&gt; _logger;\n    private readonly IHubContext&lt;ControllerHub, IDesoutterController&gt; _controllerHub;\n    public Worker(ILogger&lt;Worker&gt; logger, IHubContext&lt;ControllerHub, IDesoutterController&gt; controllerHub)\n    {\n        _logger = logger;\n        _controllerHub = controllerHub;\n    }\n\n    protected override async Task ExecuteAsync(CancellationToken stoppingToken)\n    {\n        while (!stoppingToken.IsCancellationRequested)\n        {\n            //Other Stuff\n        }\n    }\n}\n",
    "severity": "medium",
    "tags": [
      "c#",
      "asp.net-core",
      ".net-core",
      "signalr",
      "background-service"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "69355802",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 2103,
      "stackoverflow_creation_date": "2021-09-28T04:26:26.080Z"
    },
    "idempotency_key": "stackoverflow-69355802",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "useEffect runs only once and after refresh it does not fetch again",
    "body": "I have this component that fetches data from a site, and tries to get its keys. The problem is that it works fine at the first time, but when I refresh the page / save the project in VSCode (and the project refreshes automatically) it shows this error message: TypeError: Cannot convert undefined or null to object 14 | ) 15 | 16 | return ( > 17 | <div className=\"rates\"> | ^ 18 | {Object.keys(rates.rates).map( 19 | rate => <Button variant=\"outlined\"> 20 | {rate} The code (the specific component): import React, { useState, useEffect } from 'react' import Button from '@mui/material/Button'; const RatesCard = () => { const [rates, setRates] = useState([]); useEffect( ()=>{ fetch(\"https://api.vatcomply.com/rates\") .then(ratesResponse => ratesResponse.json()) .then(rates => setRates(rates)); } ,[]) return ( <div className=\"rates\"> {Object.keys(rates.rates).map( rate => <Button variant=\"outlined\"> {rate} </Button> )} </div> ) } export default RatesCard I have no idea why it works the first time and then it doesn't. My guess is that the useEffect hook runs only once because of the [] dependency, and then when we refresh it says \"Nothing changed, so I won't run the function\" Thus we don't fetch anything, and thus rates is undefined... I have no clue why it does this, I can only guess. I will appreciate your kind help! Thank you!",
    "code": "TypeError: Cannot convert undefined or null to object\n  14 |    )\n  15 | \n  16 |    return (\n&gt; 17 |        &lt;div className=&quot;rates&quot;&gt;\n     | ^  18 |            {Object.keys(rates.rates).map(\n  19 |                rate =&gt; &lt;Button variant=&quot;outlined&quot;&gt;\n  20 |                    {rate}\n\n\nimport React, { useState, useEffect } from 'react'\nimport Button from '@mui/material/Button';\n\n\nconst RatesCard = () =&gt; {\n\n    const [rates, setRates] = useState([]);\n    useEffect(\n        ()=&gt;{\n            fetch(&quot;https://api.vatcomply.com/rates&quot;)\n            .then(ratesResponse =&gt; ratesResponse.json())\n            .then(rates =&gt; setRates(rates));\n        }\n    ,[])\n\n    return (\n        &lt;div className=&quot;rates&quot;&gt;\n            {Object.keys(rates.rates).map(\n                rate =&gt; &lt;Button variant=&quot;outlined&quot;&gt;\n                    {rate}\n                &lt;/Button&gt;\n            )}\n        &lt;/div&gt;\n        )\n    }\n    \n\nexport default RatesCard\n\n\nuseEffect\n\n[]\n\nrates\n\nundefined\n\n# Solution Code:\nObject.keys(rates.rates)\n\n\nconst [rates, setRates] = useState({rates:[]});\n\n\nconst RatesCard = () =&gt; {\n\n    const [rates, setRates] = useState([]);\n    useEffect(\n        ()=&gt;{\n            fetch(&quot;https://api.vatcomply.com/rates&quot;)\n            .then(ratesResponse =&gt; ratesResponse.json())\n            .then(rates =&gt; setRates(rates));\n        }\n    ,[])\n\n\n    if(rates.length === 0) {\n        return &lt;h1&gt; loading &lt;/hi&gt;\n     }\n    return (\n        &lt;div className=&quot;rates&quot;&gt;\n            {Object.keys(rates.rates).map(\n                rate =&gt; &lt;Button variant=&quot;outlined&quot;&gt;\n                    {rate}\n                &lt;/Button&gt;\n            )}\n        &lt;/div&gt;\n        )\n\n\nuseEffect\n\nrates\n\nrates",
    "resolution": "useEffect runs after your component is mounted which means rates is just an empty array that doesn't have a property called rates Object.keys(rates.rates) try to use const [rates, setRates] = useState({rates:[]}); or make a loading indicator for example const RatesCard = () => { const [rates, setRates] = useState([]); useEffect( ()=>{ fetch(\"https://api.vatcomply.com/rates\") .then(ratesResponse => ratesResponse.json()) .then(rates => setRates(rates)); } ,[]) if(rates.length === 0) { return <h1> loading </hi> } return ( <div className=\"rates\"> {Object.keys(rates.rates).map( rate => <Button variant=\"outlined\"> {rate} </Button> )} </div> )",
    "severity": "medium",
    "tags": [
      "javascript",
      "reactjs",
      "material-ui"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "69585825",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 7359,
      "stackoverflow_creation_date": "2021-10-15T13:52:38.347Z"
    },
    "idempotency_key": "stackoverflow-69585825",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Proving simple theorem about cases mod 10",
    "body": "I'd like to prove the following lemma: lemma mod10_cases: \"P 0 ⟹ P 1 ⟹ P 2 ⟹ P 3 ⟹ P 4 ⟹ P 5 ⟹ P 6 ⟹ P 7 ⟹ P 8 ⟹ P 9 ⟹ P (n mod 10)\" but am finding it surprisingly tricky. The lemma feels straightforward; it just says that in order to prove a property P holds of every number modulo 10, I just need to check that it holds of 0, 1, 2, 3, 4, 5, 6, 7, 8, and 9. (Wider picture: I want to use my lemma to prove theorems of the form foo(n mod 10), which I intend to start by saying apply (cases rule: mod10_cases).)",
    "code": "lemma mod10_cases:\n  &quot;P 0 ⟹ P 1 ⟹ P 2 ⟹ P 3 ⟹ P 4 ⟹ P 5 ⟹ P 6 ⟹ P 7 ⟹ P 8 ⟹ P 9 ⟹ P (n mod 10)&quot;\n\n\nP\n\nfoo(n mod 10)\n\napply (cases rule: mod10_cases)\n\n# Solution Code:\nlemma mod10_induct [case_names 0 1 2 3 4 5 6 7 8 9]:\n  fixes n :: nat\n  assumes &quot;P 0&quot; &quot;P 1&quot; &quot;P 2&quot; &quot;P 3&quot; &quot;P 4&quot; &quot;P 5&quot; &quot;P 6&quot; &quot;P 7&quot; &quot;P 8&quot; &quot;P 9&quot;\n  shows   &quot;P (n mod 10)&quot;\nproof -\n  have &quot;n mod 10 ∈ {..&lt;10}&quot;\n    by simp\n  also have &quot;{..&lt;10} = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 :: nat}&quot;\n    by (simp add: lessThan_nat_numeral lessThan_Suc insert_commute)\n  finally show ?thesis using assms\n    by fastforce\nqed\n\n\nlemma mod10_cases [case_names 0 1 2 3 4 5 6 7 8 9]:\n  fixes n :: nat\n  obtains &quot;n mod 10 = 0&quot; | &quot;n mod 10 = 1&quot; | &quot;n mod 10 = 2&quot; | &quot;n mod 10 = 3&quot; | &quot;n mod 10 = 4&quot; | \n          &quot;n mod 10 = 5&quot; | &quot;n mod 10 = 6&quot; | &quot;n mod 10 = 7&quot; | &quot;n mod 10 = 8&quot; | &quot;n mod 10 = 9&quot;\nproof -\n  have &quot;n mod 10 ∈ {..&lt;10}&quot;\n    by simp\n  also have &quot;{..&lt;10} = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 :: nat}&quot;\n    by (simp add: lessThan_nat_numeral lessThan_Suc insert_commute)\n  finally show ?thesis using that\n    by fast\nqed\n\n\ntheorem mod10_cases:\n (?n mod 10 = 0 ⟹ ?thesis) ⟹\n (?n mod 10 = 1 ⟹ ?thesis) ⟹\n (?n mod 10 = 2 ⟹ ?thesis) ⟹\n (?n mod 10 = 3 ⟹ ?thesis) ⟹\n (?n mod 10 = 4 ⟹ ?thesis) ⟹\n (?n mod 10 = 5 ⟹ ?thesis) ⟹\n (?n mod 10 = 6 ⟹ ?thesis) ⟹\n (?n mod 10 = 7 ⟹ ?thesis) ⟹\n (?n mod 10 = 8 ⟹ ?thesis) ⟹\n (?n mod 10 = 9 ⟹ ?thesis) ⟹ ?thesis\n\n\nlemma &quot;P (n mod 10 :: nat)&quot;\n  apply (induction n rule: mod10_induct)\n  oops\n\nlemma &quot;P (n mod 10 :: nat)&quot;\n  apply (cases n rule: mod10_cases)\n  oops\n\n\nn mod 10 ∈ {..&lt;10}\n\nsimp\n\n{..&lt;10}\n\n{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\n\nobtains\n\n{..&lt;10}\n\nn mod 10 ∈ {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}\n\nauto",
    "resolution": "My usual trick is to first show n mod 10 ∈ {..<10} (which is trivially proven by simp) and then unfold {..<10} to {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}, which can be done by feeding the right rules to the simplifier: lemma mod10_induct [case_names 0 1 2 3 4 5 6 7 8 9]: fixes n :: nat assumes \"P 0\" \"P 1\" \"P 2\" \"P 3\" \"P 4\" \"P 5\" \"P 6\" \"P 7\" \"P 8\" \"P 9\" shows \"P (n mod 10)\" proof - have \"n mod 10 ∈ {..<10}\" by simp also have \"{..<10} = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 :: nat}\" by (simp add: lessThan_nat_numeral lessThan_Suc insert_commute) finally show ?thesis using assms by fastforce qed Note that the way you wrote your theorem, it has the shape of an induction rule, not a case-splitting rule. A case-splitting rule would look more like this: lemma mod10_cases [case_names 0 1 2 3 4 5 6 7 8 9]: fixes n :: nat obtains \"n mod 10 = 0\" | \"n mod 10 = 1\" | \"n mod 10 = 2\" | \"n mod 10 = 3\" | \"n mod 10 = 4\" | \"n mod 10 = 5\" | \"n mod 10 = 6\" | \"n mod 10 = 7\" | \"n mod 10 = 8\" | \"n mod 10 = 9\" proof - have \"n mod 10 ∈ {..<10}\" by simp also have \"{..<10} = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9 :: nat}\" by (simp add: lessThan_nat_numeral lessThan_Suc insert_commute) finally show ?thesis using that by fast qed If the obtains here confuses you, the final theorem you get from this looks like this: theorem mod10_cases: (?n mod 10 = 0 ⟹ ?thesis) ⟹ (?n mod 10 = 1 ⟹ ?thesis) ⟹ (?n mod 10 = 2 ⟹ ?thesis) ⟹ (?n mod 10 = 3 ⟹ ?thesis) ⟹ (?n mod 10 = 4 ⟹ ?thesis) ⟹ (?n mod 10 = 5 ⟹ ?thesis) ⟹ (?n mod 10 = 6 ⟹ ?thesis) ⟹ (?n mod 10 = 7 ⟹ ?thesis) ⟹ (?n mod 10 = 8 ⟹ ?thesis) ⟹ (?n mod 10 = 9 ⟹ ?thesis) ⟹ ?thesis You can then use your rules like this: lemma \"P (n mod 10 :: nat)\" apply (induction n rule: mod10_induct) oops lemma \"P (n mod 10 :: nat)\" apply (cases n rule: mod10_cases) oops In most circumstances, however, I would not derive a separate rule for this as you did to begin with – I would simply do the unfolding of {..<10} at the place where I need it instead, since it only takes about 4 lines, and then feed the fact that n mod 10 ∈ {0, 1, 2, 3, 4, 5, 6, 7, 8, 9} to my actual goal and hit it with auto.",
    "severity": "low",
    "tags": [
      "isabelle",
      "modular-arithmetic"
    ],
    "metadata": {
      "stackoverflow_question_id": "70153998",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 273,
      "stackoverflow_creation_date": "2021-11-29T11:38:23.847Z"
    },
    "idempotency_key": "stackoverflow-70153998",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "How to avoid Contentful rate-limit exhaustion DoS",
    "body": "We are building a public web app and have created custom API's that call out to Contentful to get various content entries like news articles. Some of our API's take the entry ID - ex 1m21P91ZPgQyJpT6Ck7oku - as a parameter (typically as part of the path or on the query string). The problem with this is that Contentful has a rate-limit. If a query to Contentful is not cached on their CDN, it will be forwarded to the origin, and count towards the rate-limit quota. When the rate-limit is exhausted, Contentful will return 429 codes. Since our API's take the entry ID at face value and use it to query Contentful for that entry, this means that an attacker can quite easily put us in a perpertual state of rate-limit exhaustion by generating random API requests where the entry ID parameter is changed randomly, thus bypassing the CDN cache. What can we do from the API-side to avoid this DoS attack? If the only answer is to rewrite our API's to not rely of client-provided paramters for Contentul query generation, are there some patterns we could follow? P.S. We have reached out to Contentful on raising the threshold of the rate-limit, but have apparently reached an upper bound of 100 rps, of which they are unwilling to increase it further.",
    "code": "1m21P91ZPgQyJpT6Ck7oku",
    "severity": "medium",
    "tags": [
      "rate-limiting",
      "contentful",
      "denial-of-service",
      "contentful-api"
    ],
    "metadata": {
      "stackoverflow_question_id": "70165981",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1023,
      "stackoverflow_creation_date": "2021-11-30T07:56:19.047Z"
    },
    "idempotency_key": "stackoverflow-70165981",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to select a specific overload of a method?",
    "body": "I'm calling a C# API which uses overloads and optional parameters. Unfortunately, one of the overloads is a params object[] and F# selects it over a more specific overload which I intend to call. How do I make F# select the overload I want? Here's a small repro. And here is a link to the actual API. open System open System.Linq.Expressions type S = static member Foo(expression: Expression<Func<int>>, ?gg: string) = \"expression\" static member Foo([<ParamArray>] args: obj[]) = \"params array\" [<EntryPoint>] let main argv = // This prints \"params array\", but I want it to print \"expression\" let result = S.Foo(fun () -> 3, \"\") printfn \"%s\" result 0",
    "code": "params object[]\n\n# Solution Code:\n(3, &quot;&quot;)",
    "resolution": "To call the expression version with two arguments, you need: let result = S.Foo((fun () -> 3), \"\") In your code, you've actually defined a function that returns a (3, \"\") tuple, which is only a single argument.",
    "severity": "low",
    "tags": [
      "f#"
    ],
    "metadata": {
      "stackoverflow_question_id": "70253567",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 201,
      "stackoverflow_creation_date": "2021-12-07T00:27:21.030Z"
    },
    "idempotency_key": "stackoverflow-70253567",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Updating A Json in a more efficient way",
    "body": "[ {\"923390702359048212\": 5}, {\"462291477964259329\": 1}, {\"803390252265242634\": 3}, {\"824114065445486592\": 2}, {\"832041337968263178\": 4} ] This is a list of user ids that I just randomly made and some sample number that each id has. In this case lets call it a number of goals scored in a season in a video game. As I try to update the amount of goals scored at the end of the game, I have to go in a roundabout way which first gets all the member ids in the server, and then compares it to the data with the following code. amount = 0 for member in server: if member.id != server.member.id: amount = amount + 1 else: print(amount) print(str(member.id), str(server.member.id)) print(jsondata[amount][str(server.member.id)]) break jsondata[amount][str(server.member.id) = jsondata[amount][str(server.member.id)] + 1 Is there a better way to do what I am working on? I know I am going to run into problems eventually as I don't list members on the json until they score a goal and also I feel like I am wasting a ton of time with my program by having it check a lot of members (I edited out my real list and made this one to make it easier as nobody needs to see 50+ entries to get the idea). I am still a beginner when it comes to this so please respond in simple terms or leave links to places I can learn more complicated ideas. Thanks def goalscored(): amount = 0 for member in server: if member.id != server.member.id: amount = amount + 1 else: print(amount) break with open('Goals.json','w') as f: jsondata = json.load(f) jsondata[amount][str(server.member.id) = jsondata[amount][str(server.member.id)] + 1 json.dump(jsondata,f) def firstgoal(server.member.id): with open('Goals.json','w') as f: jsondata = json.load(f) amount = 0 goalscored = 1 totalmembers = server.members.amount for member in server: if membed.id !=server.member.id: amount = amount + 1 if amount == totalmembers: NewScore = {user.id:goalscored} json.dump(NewScore,f) Code that I'm using",
    "code": "[\n{&quot;923390702359048212&quot;: 5},\n{&quot;462291477964259329&quot;: 1},\n{&quot;803390252265242634&quot;: 3},\n{&quot;824114065445486592&quot;: 2},\n{&quot;832041337968263178&quot;: 4}\n]\n\n\namount = 0\nfor member in server:\n    if member.id != server.member.id:\n        amount = amount + 1\n    else:\n        print(amount)\n        print(str(member.id), str(server.member.id))\n        print(jsondata[amount][str(server.member.id)])\n        break\n    \njsondata[amount][str(server.member.id) = jsondata[amount][str(server.member.id)] + 1\n\n\n    def goalscored():\n        amount = 0\n        for member in server:\n            if member.id != server.member.id:\n                amount = amount + 1\n            else:\n                print(amount)\n                break\n        with open('Goals.json','w') as f:\n            jsondata = json.load(f)\n            jsondata[amount][str(server.member.id) = jsondata[amount][str(server.member.id)] + 1\n            json.dump(jsondata,f)\n    \n    def firstgoal(server.member.id):\n        with open('Goals.json','w') as f:\n            jsondata = json.load(f)\n            amount = 0\n            goalscored = 1\n            totalmembers = server.members.amount\n            for member in server:\n                if membed.id !=server.member.id:\n                    amount = amount + 1\n                if amount == totalmembers:\n                    NewScore = {user.id:goalscored}\n                    json.dump(NewScore,f)\n\n\n# Solution Code:\n# file.json\n{\n &quot;923390702359048212&quot;: 5,\n &quot;462291477964259329&quot;: 1,\n &quot;803390252265242634&quot;: 3,\n &quot;824114065445486592&quot;: 2,\n &quot;832041337968263178&quot;: 4\n}\n\ndef goalscored():\n    with open(&quot;Goals.json&quot;, &quot;r&quot;) as f:\n        jsondata = json.load(f)\n        # Make sure your id is not int but str\n        if server.member.id not in jsondata:  # first goal case\n            jsondata[server.member.id] = 0\n        jsondata[server.member.id] += 1\n\n    with open(&quot;Goals.json&quot;, &quot;w&quot;) as f:\n        json.dump(jsondata, f)\n",
    "resolution": "Not sure why you couldn't get it work earlier, but storing it as dict would be much, much easier. # file.json { \"923390702359048212\": 5, \"462291477964259329\": 1, \"803390252265242634\": 3, \"824114065445486592\": 2, \"832041337968263178\": 4 } def goalscored(): with open(\"Goals.json\", \"r\") as f: jsondata = json.load(f) # Make sure your id is not int but str if server.member.id not in jsondata: # first goal case jsondata[server.member.id] = 0 jsondata[server.member.id] += 1 with open(\"Goals.json\", \"w\") as f: json.dump(jsondata, f)",
    "severity": "low",
    "tags": [
      "python",
      "json"
    ],
    "metadata": {
      "language": "python",
      "stackoverflow_question_id": "70482003",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 114,
      "stackoverflow_creation_date": "2021-12-25T18:33:18.323Z"
    },
    "idempotency_key": "stackoverflow-70482003",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Safari 14 video disappears when pausing",
    "body": "I am working on a web page where the video is played on mouse over and paused on mouseout, using jQuery events: $video.on(\"mouseover\", function(e) { e.preventDefault(); this.muted = true; this.play(); }).on(\"mouseout\", function(e) { e.preventDefault(); this.pause(); }); The video element has a poster attribute. This works fine on Firefox and Chrome browsers. It also works fine on Safari/13 and Safari/15. But on Safari/14 and Safari/12, the video disappears. (It reappears while playing, but when pausing, it disappears again.) If I add the \"controls\" attribute, it will still show the controls on mouseout, but the video is blank. So I'm sure it's not a style issue that is causing the video to disappear. I'm not sure how to fix this. I've tried using mousenter/mouseleave events instead, and adjusting the preload attribute without success.",
    "code": "$video.on(&quot;mouseover&quot;, function(e) {\n  e.preventDefault();\n  this.muted = true;\n  this.play();\n}).on(&quot;mouseout&quot;, function(e) {\n  e.preventDefault();\n  this.pause();\n});\n\n\n# Solution Code:\nvideo {\n    max-width: 100%;\n    background: #f2f2f2;\n}\n",
    "resolution": "I came into the same issue on Safari 15.5. After trying different things, it turns out adding a background-color to the video attribute in CSS somehow fixes the issue. video { max-width: 100%; background: #f2f2f2; }",
    "severity": "medium",
    "tags": [
      "javascript",
      "html",
      "web",
      "safari"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "70582603",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1282,
      "stackoverflow_creation_date": "2022-01-04T17:13:53.943Z"
    },
    "idempotency_key": "stackoverflow-70582603",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Snowflake pipe - what permissions are needed for a different user to use the rest API /insertReport",
    "body": "I have a Snowpipe created by user A. I would then like a separate user B to check its status using the Snowflake rest API endpoint /insertReport. User A is an ACCOUNTADMIN User A created the Snowpipe. User A ran the following for user B's default role: GRANT ALL ON PIPE <my pipe> TO ROLE USER_B_ROLE; GRANT ALL ON FUTURE PIPES IN DATABASE <my db> TO ROLE USER_B_ROLE; GRANT MONITOR ON DATABASE <my db> TO ROLE USER_B_ROLE; GRANT USAGE ON DATABASE <my db> TO ROLE USER_B_ROLE; GRANT MONITOR ON SCHEMA <my schema> TO ROLE USER_B_ROLE; GRANT USAGE ON SCHEMA <my schema> TO ROLE USER_B_ROLE; I assumed role USER_B_ROLE (I don't have direct access to log in as User B) and can run the following commands and see output as expected: USE ROLE USER_B_ROLE; SELECT CURRENT_ROLE(); -- USER_B_ROLE DESCRIBE PIPE <my pipe>; -- created_on,name,database_name,schema_name,definition,owner,notification_channel,comment,integration,pattern,error_integration -- 2022-01-..., ..., ... SELECT SYSTEM$PIPE_STATUS('<my db>.<my schema>.<my pipe>'); -- {\"executionState\":\"RUNNING\",\"pendingFileCount\":0,\"notificationChannelName\":\"arn:aws:sqs:...\",\"numOutstandingMessagesOnChannel\":0,\"lastReceivedMessageTimestamp\":\"...\"} When I try using user B, using GET https://{account}.snowflakecomputing.com/v1/data/pipes/{snowpipe}/insertReport I receive: {'data': None, 'code': '390403', 'message': 'Not authorized to manage the specified object. Pipe access permission denied', 'success': False, 'headers': None} I have checked that the public key fp and private key work since I can get a proper JWT token. I don't think I can transfer ownership of the pipe and all future pipes of this kind as a blanket statement to user B because Terraform deploys, even those without changes, will recreate the PIPE and remove all permissions from user B - which is why I want to use FUTURE. I've also tried GRANT MONITOR EXECUTION but that doesn't work either. What permissions am I missing? Related documentation: The Snowflake rest API page does not mention permissions needed: https://docs.snowflake.com/en/user-guide/data-load-snowpipe-rest-apis.html#endpoint-insertreport Snowpipes only support MONITOR and OPERATE (and I gave them all already): https://docs.snowflake.com/en/user-guide/security-access-control-privileges.html#pipe-privileges This answer says that OWNERSHIP must be granted, but this was 2 years ago - surely there must be a way for a non-owner to check a Snowpipe ingestion report especially when I can already check them directly via SQL: https://community.snowflake.com/s/question/0D50Z00009YAcOz/how-can-i-see-pipes-using-show-pipes-or-see-their-status-with-systempipestatus-without-having-ownership-permission-to-the-pipes-need-to-debug-issues-without-the-ability-to-change-them This question mentions default role, but my User B is using the correct default role that I set up. Snowflake Pipe access permission denied",
    "code": "USE ROLE USER_B_ROLE;\nSELECT CURRENT_ROLE();\n-- USER_B_ROLE\n\nDESCRIBE PIPE &lt;my pipe&gt;;\n-- created_on,name,database_name,schema_name,definition,owner,notification_channel,comment,integration,pattern,error_integration\n-- 2022-01-..., ..., ...\n\nSELECT SYSTEM$PIPE_STATUS('&lt;my db&gt;.&lt;my schema&gt;.&lt;my pipe&gt;');\n-- {&quot;executionState&quot;:&quot;RUNNING&quot;,&quot;pendingFileCount&quot;:0,&quot;notificationChannelName&quot;:&quot;arn:aws:sqs:...&quot;,&quot;numOutstandingMessagesOnChannel&quot;:0,&quot;lastReceivedMessageTimestamp&quot;:&quot;...&quot;}\n\n\n/insertReport\n\nACCOUNTADMIN\n\nUSER_B_ROLE\n\nhttps://{account}.snowflakecomputing.com/v1/data/pipes/{snowpipe}/insertReport\n\n{'data': None, 'code': '390403', 'message': 'Not authorized to manage the specified object. Pipe access permission denied', 'success': False, 'headers': None}\n\nFUTURE\n\nGRANT MONITOR EXECUTION\n\nMONITOR\n\nOPERATE\n\nOWNERSHIP\n\n# Solution Code:\n/insertReport\n\nMONITOR",
    "resolution": "It is possible to call /insertReport by user who is not the pipe owner, if the role has MONITOR privilege. Snowpipe: Support for Non-Pipe Owners to Call the Snowpipe REST API: With this release, calling the public Snowpipe REST endpoints to load data and retrieve load history reports is no longer restricted to a pipe owner (i.e. the role with the OWNERSHIP privilege on the pipe) or a higher role in a role hierarchy. The following pipe privileges allow calling specific REST endpoints: Pipe Privilege REST Endpoints MONITOR insertReport, loadHistoryScan OPERATE insertFiles",
    "severity": "medium",
    "tags": [
      "snowflake-cloud-data-platform"
    ],
    "metadata": {
      "stackoverflow_question_id": "70658768",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3633,
      "stackoverflow_creation_date": "2022-01-10T20:55:18.947Z"
    },
    "idempotency_key": "stackoverflow-70658768",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Ask variable condition if terraform apply or destroy",
    "body": "How can I set an input varible to only be asked if terraform apply is introduced in the terminal? There is no value set in tfvars because I want this variable to be interactive. I only want that this variable only be asked in the terminal when I enter terraform apply but not when I enter terraform destroy. I see that the condition maybe do the job but I do not know how. Thank you very much variable \"example\" { description = \"Test\" sensitive = true }",
    "code": "variable &quot;example&quot; {\n    description = &quot;Test&quot;\n    sensitive = true\n}\n",
    "severity": "medium",
    "tags": [
      "terraform"
    ],
    "metadata": {
      "stackoverflow_question_id": "70665938",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 1435,
      "stackoverflow_creation_date": "2022-01-11T11:23:20.527Z"
    },
    "idempotency_key": "stackoverflow-70665938",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Selenium Not Able to Find Elements By ClassName",
    "body": "<table class=\"sc-fAEnHe ePMtc\"> <tbody> <tr class=\"sc-fAEnHe ePMtc\"> <td classs\"sc-jEECVv IBUtl\"> </td> </tr> When I use Selenium's Find element by class it is able to find the element, I even tried replacing space (after e and r or v and I) with \".\", \"-\" and \"_\" but it did not worked. I Used The Code Below try: match_history_table = WebDriverWait(driver, 30).until( EC.presence_of_element_located((By.CLASS_NAME, 'sc-fAEnHe ePMtc')) ) except Exception: print(\"Error Finding Match History Table\") driver.quit() It always returned the Exception (EC is selenium.webdriver.support.expected_conditions) >Note: Find Elements By Tag is not an Option For me",
    "code": "&lt;table class=&quot;sc-fAEnHe ePMtc&quot;&gt;\n&lt;tbody&gt;\n&lt;tr class=&quot;sc-fAEnHe ePMtc&quot;&gt;\n&lt;td classs&quot;sc-jEECVv IBUtl&quot;&gt;\n&lt;/td&gt;\n&lt;/tr&gt;\n\n\ntry:\n    match_history_table = WebDriverWait(driver, 30).until(\n        EC.presence_of_element_located((By.CLASS_NAME, 'sc-fAEnHe ePMtc'))\n    )\nexcept Exception:\n    print(&quot;Error Finding Match History Table&quot;)\n    driver.quit()\n\n\n# Solution Code:\ntry:\n    match_history_table = WebDriverWait(driver, 30).until(\n        EC.presence_of_element_located((By.CSS_SELECTOR, '.sc-fAEnHe.ePMtc'))\n    )\nexcept Exception:\n    print(&quot;Error Finding Match History Table&quot;)\n    driver.quit()\n\n\n\nBy.CLASS_NAME\n\n(By.CSS_SELECTOR, '.sc-fAEnHe.ePMtc')",
    "resolution": "This is doc from By.CLASS_NAME found in selenium-java-bindings. Find elements based on the value of the \"class\" attribute. Only one class name should be used. If an element has multiple classes, please use cssSelector(String). Try with (By.CSS_SELECTOR, '.sc-fAEnHe.ePMtc'): try: match_history_table = WebDriverWait(driver, 30).until( EC.presence_of_element_located((By.CSS_SELECTOR, '.sc-fAEnHe.ePMtc')) ) except Exception: print(\"Error Finding Match History Table\") driver.quit() Referenses json wire protocol https://www.selenium.dev/documentation/legacy/json_wire_protocol/#sessionsessionidelement class name Returns an element whose class name contains the search value; compound class names are not permitted. W3C webdriver And class_name not mentioned in W3C protocol, so it might become legacy https://www.w3.org/TR/webdriver/#locator-strategies",
    "severity": "medium",
    "tags": [
      "selenium",
      "selenium-webdriver",
      "selenium-chromedriver",
      "selenium-ide"
    ],
    "metadata": {
      "stackoverflow_question_id": "70861500",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 2501,
      "stackoverflow_creation_date": "2022-01-26T09:51:16.303Z"
    },
    "idempotency_key": "stackoverflow-70861500",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Error creating bean with name entityManagerFactory with PostgreSQL and Spring Boot project",
    "body": "Error comes when I try to compile the project Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled. 2022-02-11 15:21:24.256 ERROR 14192 --- [ main] o.s.boot.SpringApplication : Application run failed org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15] at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15] at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15] at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3] at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3] at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3] at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3] at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3] at com.example.spring_appdemo.SpringAppDemoApplication.main(SpringAppDemoApplication.java:15) ~[classes/:na] Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15] ... 19 common frames omitted Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15] ... 33 common frames omitted Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.15.jar:5.3.15] at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.15.jar:5.3.15] ... 47 common frames omitted Caused by: java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na] at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na] at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na] at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na] at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na] at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na] at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na] at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.<init>(HibernateJpaVendorAdapter.java:84) ~[spring-orm-5.3.15.jar:5.3.15] at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:125) ~[spring-boot-autoconfigure-2.6.3.jar:2.6.3] at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:105) ~[spring-boot-autoconfigure-2.6.3.jar:2.6.3] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na] at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.15.jar:5.3.15] ... 48 common frames omitted Caused by: java.lang.ClassNotFoundException: org.hibernate.jpa.HibernatePersistenceProvider at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na] at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na] at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na] ... 65 common frames omitted Process finished with exit code 1 pom.xml <?xml version=\"1.0\" encoding=\"UTF-8\"?> <project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\"> <modelVersion>4.0.0</modelVersion> <parent> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-parent</artifactId> <version>2.6.3</version> <relativePath/> <!-- lookup parent from repository --> </parent> <groupId>com.example</groupId> <artifactId>Spring_appDemo</artifactId> <version>0.0.1-SNAPSHOT</version> <name>Spring_appDemo</name> <description>Spring_appDemo</description> <properties> <java.version>11</java.version> </properties> <dependencies> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-thymeleaf</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-web</artifactId> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-test</artifactId> <scope>test</scope> </dependency> <dependency> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-starter-data-jpa</artifactId> </dependency> <dependency> <groupId>com.h2database</groupId> <artifactId>h2</artifactId> <scope>runtime</scope> </dependency> <dependency> <groupId>org.projectlombok</groupId> <artifactId>lombok</artifactId> </dependency> <dependency> <groupId>org.postgresql</groupId> <artifactId>postgresql</artifactId> </dependency> <dependency> <groupId>org.hibernate</groupId> <artifactId>hibernate-core</artifactId> <version>5.0.11.Final</version> <scope>compile</scope> </dependency> <dependency> <groupId>javax.xml.bind</groupId> <artifactId>jaxb-api</artifactId> <version>2.3.0</version> </dependency> </dependencies> <build> <plugins> <plugin> <groupId>org.springframework.boot</groupId> <artifactId>spring-boot-maven-plugin</artifactId> <version>${project.parent.version}</version> </plugin> </plugins> </build> </project>",
    "code": "Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-02-11 15:21:24.256 ERROR 14192 --- [           main] o.s.boot.SpringApplication               : Application run failed\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at com.example.spring_appdemo.SpringAppDemoApplication.main(SpringAppDemoApplication.java:15) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'entityManagerFactoryBuilder' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unsatisfied dependency expressed through method 'entityManagerFactoryBuilder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:541) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 19 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaVendorAdapter' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 33 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.orm.jpa.JpaVendorAdapter]: Factory method 'jpaVendorAdapter' threw exception; nested exception is java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.15.jar:5.3.15]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 47 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/jpa/HibernatePersistenceProvider\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    at org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter.&lt;init&gt;(HibernateJpaVendorAdapter.java:84) ~[spring-orm-5.3.15.jar:5.3.15]\n    at org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaConfiguration.createJpaVendorAdapter(HibernateJpaConfiguration.java:125) ~[spring-boot-autoconfigure-2.6.3.jar:2.6.3]\n    at org.springframework.boot.autoconfigure.orm.jpa.JpaBaseConfiguration.jpaVendorAdapter(JpaBaseConfiguration.java:105) ~[spring-boot-autoconfigure-2.6.3.jar:2.6.3]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.15.jar:5.3.15]\n    ... 48 common frames omitted\nCaused by: java.lang.ClassNotFoundException: org.hibernate.jpa.HibernatePersistenceProvider\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\n    ... 65 common frames omitted\n\n\nProcess finished with exit code 1\n\n\npom.xml\n\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Spring_appDemo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Spring_appDemo&lt;/name&gt;\n    &lt;description&gt;Spring_appDemo&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.11.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${project.parent.version}&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n# Solution Code:\npom.xml\n\nspring-boot-starter-data-jpa\n\nhibernate-core\n\npom.xml",
    "resolution": "The reason of the error — you are using incorrect dependencies in pom.xml. Please, don't add Hibernate dependencies manually. They are added by spring-boot-starter-data-jpa. Remove hibernate-core from pom.xml please.",
    "severity": "high",
    "tags": [
      "java",
      "spring-boot",
      "hibernate",
      "jpa"
    ],
    "metadata": {
      "language": "java",
      "stackoverflow_question_id": "71077793",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 36177,
      "stackoverflow_creation_date": "2022-02-11T09:28:46.650Z"
    },
    "idempotency_key": "stackoverflow-71077793",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "\"FirebaseError: false for 'get' @ L5\" firebase error when using on snapshot or get doc when using firebase emulator",
    "body": "I am using firestore and firebase auth and I am trying to add custom usernames to my app (I am following this courses, Next.js Firebase Full Course) that connect to the freebase emulator because it is still in development. I have this piece of code that runs in a useEffect that gets the current user uid and then fetch a document from firestore, then checks if it exits and if i does set the username state to the username in the do. Here is the code: useEffect(() => { let unsubscribe; if (user) { console.log(user.uid); const ref = doc(db, \"users\", user.uid); unsubscribe = onSnapshot(ref, (doc) => { if (doc.exists()) { setUsername(doc.data()?.username); } else { console.log(\"No such document!\"); } }); } else { setUsername(null); } return unsubscribe; }, [user]); But I always get the error \"next-dev.js?3515:32 Uncaught Error in snapshot listener: FirebaseError: false for 'get' @ L5\". I have tried changing the on snapshot to a get doc but that also gets the same error. I tried making it so it didn't connect to the emulator that fixed it. I'm not sure why but I like to use the firebase emulator. Is there anyway to fix this Thanks in advance!",
    "code": "rules_version = '2';\nservice cloud.firestore {\n match /databases/{database}/documents {\n   match /{document=**} {\n     allow read, write: if false;\n   }\n }\n}\n\n\nmatch /{document=**} { allow read: if true; allow write: if true; } \n\n\nrules_version = '2';\nservice cloud.firestore {\n match /databases/{database}/documents {\n   match /{document=**} {\n     allow read, write: if request.time &lt; timestamp.date(2021, 3, 2);\n   }\n }\n}\n\n\nrules_version = '2';\nservice cloud.firestore {\n match /databases/{database}/documents {\n   match /{document=**} {\n     allow read, write: if request.auth != null;\n   }\n }\n}\n\n\nrules_version = '2';\nservice cloud.firestore {\n match /databases/{database}/documents {\n   match /users/{uid} {\n     allow create: if request.auth != null;\n     allow read, update, delete: if request.auth != null &amp;&amp; request.auth.uid == uid;\n   }\n }\n}\n\n\n“FirebaseError: PERMISSION_DENIED because security rules returned false for 'get' @ L5”",
    "resolution": "The error message “FirebaseError : false for ‘get’ @L5” is saying that security rules are denying the request at line 5 of your security rules. If you have curated your rules like below, rules_version = '2'; service cloud.firestore { match /databases/{database}/documents { match /{document=**} { allow read, write: if false; } } } then line 5 has the error as you are not allowing read and write access to anyone. To fix that you can either change your firestore rules to : match /{document=**} { allow read: if true; allow write: if true; } but this allows setting your rules to true to both read and write operations, which means that you allow anybody who knows your project ID to read from, and write to your database which is obviously bad, since malicious users can take advantage of it. It’s true that you can use these settings for a small amount of time for testing purposes, but never in a production environment. So there is another option in which you can limit access to your database to a fixed amount of time. Today is 1.03.2021, we are limiting the access for exactly one day by: rules_version = '2'; service cloud.firestore { match /databases/{database}/documents { match /{document=**} { allow read, write: if request.time < timestamp.date(2021, 3, 2); } } } The most important part when it comes to security rules is the Firebase Authentication, meaning that you can allow access only to the users that are authenticated to perform operations in your database. The rules should look like this: rules_version = '2'; service cloud.firestore { match /databases/{database}/documents { match /{document=**} { allow read, write: if request.auth != null; } } } If you need a more granular set of rules, for instance, to allow only the authenticated users, who have the value of the UID equal to the value of UID that comes from to authentication process, to be able to write to their own document, then you should consider using the following rules: rules_version = '2'; service cloud.firestore { match /databases/{database}/documents { match /users/{uid} { allow create: if request.auth != null; allow read, update, delete: if request.auth != null && request.auth.uid == uid; } } } A feature request is filed for this error message to be more precise like “FirebaseError: PERMISSION_DENIED because security rules returned false for 'get' @ L5”",
    "severity": "medium",
    "tags": [
      "google-cloud-firestore",
      "firebase-authentication",
      "next.js",
      "firebase-tools"
    ],
    "metadata": {
      "stackoverflow_question_id": "71292824",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 4741,
      "stackoverflow_creation_date": "2022-02-28T09:24:57.820Z"
    },
    "idempotency_key": "stackoverflow-71292824",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to change milliseconds to date",
    "body": "AppoinmentList page - which part I need to add code for this page for change milisec to date. Someone can help me? appointmentUnixTime\": 1646274840000, import 'package:flutter/material.dart'; import 'package:intl/intl.dart'; import 'api_service.dart'; class AppoinmentList extends StatefulWidget { int ts = 1646274840000; final String? token; AppoinmentList({ Key? key, this.token, }) :super(key: key); @override _AppoinmentListState createState() => _AppoinmentListState(); } class _AppoinmentListState extends State<AppoinmentList> { @override void initState() { super.initState(); APIService.getAppointmentList(widget.token!); } @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( title: const Text(\"Appointment Listing\"), ), body: _appoinmentListUI(), ); } _appoinmentListUI() { return FutureBuilder( future: APIService.getAppointmentList(widget.token!), builder: ( BuildContext context, AsyncSnapshot<String?> model, ){ if (model.hasData) { return Column( children: [ Text(\"Token\", style: TextStyle( fontWeight: FontWeight.bold, ), ), Text(widget.token!), Text(\"Response Message\", style: TextStyle( fontWeight: FontWeight.bold, ), ), Text(model.data!), ], ); } return const Center( child: CircularProgressIndicator(), ); } ); } } I success to call token but I don't know which part I need to add code for change milisec to date. I knew using flutter. Can someone tell me? This my query from Postman",
    "code": "AppoinmentList\n\n# Solution Code:\nint ts = 1646274840000;\nvar dt = DateTime.fromMillisecondsSinceEpoch(ts);\n\nvar date = DateFormat('MM/dd/yyyy, hh:mm a').format(dt);\nprint(date);\n\n\n03/03/2022, 08:04 AM\n",
    "resolution": "You can use Following code to convert millisec to date:- int ts = 1646274840000; var dt = DateTime.fromMillisecondsSinceEpoch(ts); var date = DateFormat('MM/dd/yyyy, hh:mm a').format(dt); print(date); Output: 03/03/2022, 08:04 AM",
    "severity": "medium",
    "tags": [
      "flutter"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "71294374",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 7034,
      "stackoverflow_creation_date": "2022-02-28T11:31:02.657Z"
    },
    "idempotency_key": "stackoverflow-71294374",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Slow loading time of Stripe Payment Element",
    "body": "I have a checkout page that primarily contains the new Stripe Payment Element and a PayPal payment button (from the Standard Checkout integration). The buttons load fast enough but the credit card form for the Payment Element takes over 5 seconds when loading locally via XAMPP, and I imagine the same would apply to the Google Pay and Apple Pay buttons if they rendered in testing mode. I expect that kind of speed in the development environment to translate to at least 2-3 seconds in production on a fast connection, which is still really slow. Assuming that kind of loading speed is normal for the Stripe Payment Element, are there any strategies I can use to make it load faster? In any case, I'd like to at least make the perceived loading speed faster by adding a spinner/preloader that displays until the form has loaded, which would also minimise the jarring content jump that currently occurs when the form loads (to be honest, I'm surprised that Stripe is fine with this UX in the first place). How would I integrate such a spinner into Stripe's client-side code? Here is the client-side code in question in checkout.js, only slightly adapted from Stripe's Quickstart guide: const stripe = Stripe(<PK_TEST_KEY>); const fonts = [ { cssSrc: \"https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&display=swap\", }, ]; const appearance = { theme: \"stripe\", labels: \"floating\", variables: { colorPrimary: \"#000\", colorPrimaryText: \"#fff\", colorText: \"#fff\", fontFamily: \"Open Sans, Segoe UI, sans-serif\", borderRadius: \"4px\", fontSizeBase: \"1em\", fontSizeXs: \"0.7em\", fontWeightNormal: \"400\", fontWeightMedium: \"400\", fontWeightLight: \"400\", }, }; let elements; initialize(); checkStatus(); document .querySelector(\"#payment-form\") .addEventListener(\"submit\", handleSubmit); // Fetches a payment intent and captures the client secret async function initialize() { const { clientSecret } = await fetch(\"/payment/stripe\", { method: \"POST\", headers: { \"Content-Type\": \"application/json\", \"X-CSRF-TOKEN\": document.querySelector('input[name=\"_token\"]').value, }, }).then((r) => r.json()); elements = stripe.elements({ fonts, appearance, clientSecret }); const paymentElement = elements.create(\"payment\"); paymentElement.mount(\"#payment-element\"); } async function handleSubmit(e) { e.preventDefault(); setLoading(true); const { error } = await stripe.confirmPayment({ elements, confirmParams: { // Make sure to change this to your payment completion page return_url: \"http://localhost/success\", }, }); // This point will only be reached if there is an immediate error when // confirming the payment. Otherwise, your customer will be redirected to // your `return_url`. For some payment methods like iDEAL, your customer will // be redirected to an intermediate site first to authorize the payment, then // redirected to the `return_url`. if (error.type === \"card_error\" || error.type === \"validation_error\") { showMessage(error.message); } else { showMessage(\"An unexpected error occured.\"); } setLoading(false); } // Fetches the payment intent status after payment submission async function checkStatus() { const clientSecret = new URLSearchParams(window.location.search).get( \"payment_intent_client_secret\" ); if (!clientSecret) { return; } const { paymentIntent } = await stripe.retrievePaymentIntent(clientSecret); switch (paymentIntent.status) { case \"succeeded\": showMessage(\"Payment succeeded!\"); break; case \"processing\": showMessage(\"Your payment is processing.\"); break; case \"requires_payment_method\": showMessage(\"Your payment was not successful, please try again.\"); break; default: showMessage(\"Something went wrong.\"); break; } } // ------- UI helpers ------- function showMessage(messageText) { const messageContainer = document.querySelector(\"#payment-message\"); messageContainer.classList.remove(\"hidden\"); messageContainer.textContent = messageText; setTimeout(function () { messageContainer.classList.add(\"hidden\"); messageText.textContent = \"\"; }, 10000); } // Show a spinner on payment submission function setLoading(isLoading) { if (isLoading) { // Disable the button and show a spinner document.querySelector(\"#submit\").disabled = true; document.querySelector(\"#spinner\").classList.remove(\"hidden\"); document.querySelector(\"#button-text\").classList.add(\"hidden\"); } else { document.querySelector(\"#submit\").disabled = false; document.querySelector(\"#spinner\").classList.add(\"hidden\"); document.querySelector(\"#button-text\").classList.remove(\"hidden\"); } }",
    "code": "const stripe = Stripe(&lt;PK_TEST_KEY&gt;);\n\nconst fonts = [\n    {\n        cssSrc:\n            &quot;https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700&amp;display=swap&quot;,\n    },\n];\n\nconst appearance = {\n    theme: &quot;stripe&quot;,\n    labels: &quot;floating&quot;,\n    variables: {\n        colorPrimary: &quot;#000&quot;,\n        colorPrimaryText: &quot;#fff&quot;,\n        colorText: &quot;#fff&quot;,\n        fontFamily: &quot;Open Sans, Segoe UI, sans-serif&quot;,\n        borderRadius: &quot;4px&quot;,\n        fontSizeBase: &quot;1em&quot;,\n        fontSizeXs: &quot;0.7em&quot;,\n        fontWeightNormal: &quot;400&quot;,\n        fontWeightMedium: &quot;400&quot;,\n        fontWeightLight: &quot;400&quot;,\n    },\n};\n   \nlet elements;\n\ninitialize();\ncheckStatus();\n\ndocument\n    .querySelector(&quot;#payment-form&quot;)\n    .addEventListener(&quot;submit&quot;, handleSubmit);\n\n// Fetches a payment intent and captures the client secret\nasync function initialize() {\n    const { clientSecret } = await fetch(&quot;/payment/stripe&quot;, {\n        method: &quot;POST&quot;,\n        headers: {\n            &quot;Content-Type&quot;: &quot;application/json&quot;,\n            &quot;X-CSRF-TOKEN&quot;: document.querySelector('input[name=&quot;_token&quot;]').value,\n        },\n    }).then((r) =&gt; r.json());\n\n    elements = stripe.elements({ fonts, appearance, clientSecret });\n\n    const paymentElement = elements.create(&quot;payment&quot;);\n    paymentElement.mount(&quot;#payment-element&quot;);\n}\n\nasync function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n\n    const { error } = await stripe.confirmPayment({\n        elements,\n        confirmParams: {\n            // Make sure to change this to your payment completion page\n            return_url: &quot;http://localhost/success&quot;,\n        },\n    });\n\n    // This point will only be reached if there is an immediate error when\n    // confirming the payment. Otherwise, your customer will be redirected to\n    // your `return_url`. For some payment methods like iDEAL, your customer will\n    // be redirected to an intermediate site first to authorize the payment, then\n    // redirected to the `return_url`.\n    if (error.type === &quot;card_error&quot; || error.type === &quot;validation_error&quot;) {\n        showMessage(error.message);\n    } else {\n        showMessage(&quot;An unexpected error occured.&quot;);\n    }\n\n    setLoading(false);\n}\n\n// Fetches the payment intent status after payment submission\nasync function checkStatus() {\n    const clientSecret = new URLSearchParams(window.location.search).get(\n        &quot;payment_intent_client_secret&quot;\n    );\n\n    if (!clientSecret) {\n        return;\n    }\n\n    const { paymentIntent } = await stripe.retrievePaymentIntent(clientSecret);\n\n    switch (paymentIntent.status) {\n        case &quot;succeeded&quot;:\n            showMessage(&quot;Payment succeeded!&quot;);\n            break;\n        case &quot;processing&quot;:\n            showMessage(&quot;Your payment is processing.&quot;);\n            break;\n        case &quot;requires_payment_method&quot;:\n            showMessage(&quot;Your payment was not successful, please try again.&quot;);\n            break;\n        default:\n            showMessage(&quot;Something went wrong.&quot;);\n            break;\n    }\n}\n\n// ------- UI helpers -------\n\nfunction showMessage(messageText) {\n    const messageContainer = document.querySelector(&quot;#payment-message&quot;);\n\n    messageContainer.classList.remove(&quot;hidden&quot;);\n    messageContainer.textContent = messageText;\n\n    setTimeout(function () {\n        messageContainer.classList.add(&quot;hidden&quot;);\n        messageText.textContent = &quot;&quot;;\n    }, 10000);\n}\n\n// Show a spinner on payment submission\nfunction setLoading(isLoading) {\n    if (isLoading) {\n        // Disable the button and show a spinner\n        document.querySelector(&quot;#submit&quot;).disabled = true;\n        document.querySelector(&quot;#spinner&quot;).classList.remove(&quot;hidden&quot;);\n        document.querySelector(&quot;#button-text&quot;).classList.add(&quot;hidden&quot;);\n    } else {\n        document.querySelector(&quot;#submit&quot;).disabled = false;\n        document.querySelector(&quot;#spinner&quot;).classList.add(&quot;hidden&quot;);\n        document.querySelector(&quot;#button-text&quot;).classList.remove(&quot;hidden&quot;);\n    }\n}\n\n\n# Solution Code:\nasync function initialize() {\n  loaderOn(); // start showing a spinner and maybe apply `hidden` to the payment-element div\n  const response = await fetch(&quot;/create-payment-intent&quot;, {\n  ...\n  ...\n\n  const paymentElement = elements.create(&quot;payment&quot;);\n  paymentElement.on(&quot;ready&quot;, function(){\n    loaderOff(); // hide the spinner and maybe remove `hidden` from the payment-element div\n  })\n  paymentElement.mount(&quot;#payment-element&quot;); \n\n\ninitialize()",
    "resolution": "The main way to implement a loading spinner would be to start animating one at the start of the initialize() function, and then listen to the \"ready\" event of the PaymentElement for when to hide it. Stripe's sample code has a spinner for the submit button but that unfortunately doesn't really work when applied to other DOM elements, so you'd have to roll your own spinner rather than re-using it directly. But that's the idea! https://stripe.com/docs/js/element/events/on_ready async function initialize() { loaderOn(); // start showing a spinner and maybe apply `hidden` to the payment-element div const response = await fetch(\"/create-payment-intent\", { ... ... const paymentElement = elements.create(\"payment\"); paymentElement.on(\"ready\", function(){ loaderOff(); // hide the spinner and maybe remove `hidden` from the payment-element div }) paymentElement.mount(\"#payment-element\");",
    "severity": "medium",
    "tags": [
      "javascript",
      "php",
      "ajax",
      "laravel",
      "stripe-payments"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "laravel",
      "stackoverflow_question_id": "71324848",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5013,
      "stackoverflow_creation_date": "2022-03-02T15:00:26.200Z"
    },
    "idempotency_key": "stackoverflow-71324848",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Service Worker's fetch event Doesn't fire after service worker registration",
    "body": "I'm new to Service Worker, I tried to write some code to learn how to use Service Worker in My Next.js Application but found some problems with fetch event handler, for some reason fetch event handler doesn't run when registering the service worker for the first time but when i just refresh the page the event handler works just fine and i don't know why , this my app's public folder structure: /public /assets /icons manifest.json service-worker.js service-worker-registration.js manifest.js: { \"name\": \"FakeHulu\", \"short_name\": \"FakeHulu\", \"description\": \"My Own version of Hulu\", \"icons\": [ { \"src\": \"/icons/manifest-icon-192.maskable.png\", \"sizes\": \"192x192\", \"type\": \"image/png\", \"purpose\": \"any\" }, ... ], \"theme_color\": \"#ffffff\", \"background_color\": \"#ffffff\", \"start_url\": \"/\", \"display\": \"fullscreen\", \"orientation\": \"portrait\" } service-worker-registration.js: if(\"serviceWorker\" in navigator){ window.navigator.serviceWorker.register(\"/service-worker.js\", { scope: '/' }).then(sw => console.log(\"serviceWorker Supported and register\")) } service-worker.js: self.addEventListener(\"install\" , evt => { evt.waitUntil(caches.open(\"main_cache\").then(cache => cache.addAll([\"/\", \"/something\"]))); self.skipWaiting(); }); self.addEventListener(\"activate\" , evt => { console.log(evt); clients.claim(); }); self.addEventListener(\"fetch\" , evt => { console.log(evt); });",
    "code": "/public\n    /assets\n    /icons\n    manifest.json\n    service-worker.js\n    service-worker-registration.js\n\n\n{\n  &quot;name&quot;: &quot;FakeHulu&quot;,\n  &quot;short_name&quot;: &quot;FakeHulu&quot;,\n  &quot;description&quot;: &quot;My Own version of Hulu&quot;,\n  &quot;icons&quot;: [\n    {\n      &quot;src&quot;: &quot;/icons/manifest-icon-192.maskable.png&quot;,\n      &quot;sizes&quot;: &quot;192x192&quot;,\n      &quot;type&quot;: &quot;image/png&quot;,\n      &quot;purpose&quot;: &quot;any&quot;\n    }, ...\n\n  ],\n  &quot;theme_color&quot;: &quot;#ffffff&quot;,\n  &quot;background_color&quot;: &quot;#ffffff&quot;,\n  &quot;start_url&quot;: &quot;/&quot;,\n  &quot;display&quot;: &quot;fullscreen&quot;,\n  &quot;orientation&quot;: &quot;portrait&quot;\n}\n\n\nif(&quot;serviceWorker&quot; in navigator){\n    window.navigator.serviceWorker.register(&quot;/service-worker.js&quot;, { scope: '/' }).then(sw =&gt; console.log(&quot;serviceWorker Supported and register&quot;))\n}\n\n\nself.addEventListener(&quot;install&quot; , evt =&gt; {\n    evt.waitUntil(caches.open(&quot;main_cache&quot;).then(cache =&gt; cache.addAll([&quot;/&quot;, &quot;/something&quot;])));\n\n    self.skipWaiting();\n});\n\nself.addEventListener(&quot;activate&quot; , evt =&gt; {\n    console.log(evt);\n    clients.claim();\n});\n\nself.addEventListener(&quot;fetch&quot; , evt =&gt; {\n    console.log(evt);\n});\n",
    "severity": "medium",
    "tags": [
      "javascript",
      "next.js",
      "fetch",
      "progressive-web-apps",
      "service-worker"
    ],
    "metadata": {
      "language": "javascript",
      "stackoverflow_question_id": "71502058",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1880,
      "stackoverflow_creation_date": "2022-03-16T17:50:24.850Z"
    },
    "idempotency_key": "stackoverflow-71502058",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Sumologic: calculate a value from two log queries",
    "body": "I have two log queries from the same stream that both return the number of log messages that match the search criteria. First I want to get the number of incoming blobs as follows: namespace=ns cluster=we container=project1 | where %\"log.@m\" matches \"*About to handle incoming blob*\" | count as Incoming Then I have another log query to get the number of successfully handled blobs from the same stream. The only difference is in the \"matches\" clause: namespace=ns cluster=we container=project1 | where %\"log.@m\" matches \"*successfully handled blob*\" | count as Success I'd like to calculate the ratio, i.e. Success / Incoming, but I can't find the right way to achieve that. I've tested subqueries, the metrics explorer and some other ideas that Google provided but with no success. Any pointers are welcome.",
    "code": "namespace=ns cluster=we container=project1\n| where %&quot;log.@m&quot; matches &quot;*About to handle incoming blob*&quot;\n| count as Incoming\n\n\nnamespace=ns cluster=we container=project1\n| where %&quot;log.@m&quot; matches &quot;*successfully handled blob*&quot;\n| count as Success\n\n\n# Solution Code:\nnamespace=ns cluster=we container=project1\n| %&quot;log.@m&quot; matches &quot;*successfully handled blob*&quot; as success\n\n\nnamespace=ns cluster=we container=project1\n| if (%&quot;log.@m&quot; matches &quot;*successfully handled blob*&quot;, 1, 0) as success\n\n\n...\n| sum(success) as successCount, count as totalCount\n| successCount / totalCount as successRatio\n",
    "resolution": "You can combine these two queries into one. You could do that by calculating whether the line matches your pattern and storing that information as a new field. Something like this (I haven't tested): namespace=ns cluster=we container=project1 | %\"log.@m\" matches \"*successfully handled blob*\" as success Or actually you would rather convert that to a numeric value (so it's easier to aggregate on): namespace=ns cluster=we container=project1 | if (%\"log.@m\" matches \"*successfully handled blob*\", 1, 0) as success and then with that you can aggregate: ... | sum(success) as successCount, count as totalCount | successCount / totalCount as successRatio Disclaimer: I am currently employed by Sumo Logic",
    "severity": "medium",
    "tags": [
      "logging",
      "sumologic"
    ],
    "metadata": {
      "stackoverflow_question_id": "71588226",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 2605,
      "stackoverflow_creation_date": "2022-03-23T13:40:34.787Z"
    },
    "idempotency_key": "stackoverflow-71588226",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "What's the benefit of using ES6 module syntax in Node.js without transpilation?",
    "body": "As title. Since Node.js now supports ES6 module, you can simply add \"type\": \"module\" in your package.json to facilitate the import/export syntax even without the --experimental-modules flag to run your code via the node CLI-command without any problem. To me: This also implies that we actually don't need to transpile our ES6 module syntax to those require() from CommonJS spec in our code. But in Node.js v16.x documentation, they explicitly list some differences between the specs of both CommonJS (module) and ECMAScript module (loaders). So it's actually NOT as simple as doing the same thing differently. There must be some trade-offs to prefer one over the other, and this is what I want to know! So why do some people want to use ES6 module? Is it only for importing modules asynchronously? I don't think so. Their most be some reasons more important than this. But apparently moving toward the newest syntax will be a trend. Any idea? p.s. I've read some old threads saying that most testing frameworks haven't supported ES6 module syntax, and from the last point on the list of CommonJS: It cannot be used to load ECMAScript modules (although it is possible to load ECMAScript modules from CommonJS modules). It means (well, indeed not that readable at first look) that direct import of ES6 modules is NOT possible with CommonJS module but you can do it indirectly. This could be one of the reasons most people don't bother to migrate to the newest import syntax on Node.js. Can anyone please correct me if some statement(s) I provided above is wrong?",
    "code": "&quot;type&quot;: &quot;module&quot;\n\npackage.json\n\nimport\n\nexport\n\n--experimental-modules\n\nnode\n\nrequire()\n\nimport\n\n# Solution Code:\nimport\n\nimport\n\nimport()\n\n&quot;type&quot;: &quot;commonjs&quot;",
    "resolution": "The comment section under my OP has become quite big. So let me try to provide a conclusion for myself(and the future readers), after many tabs(probably over 100) now got closed after I (finally) had organized them. What's the benefit of using ES6 module syntax in Node.js without transpilation? The \"without transpilation\" means that the version of Node.js you're using has to support ES6 module, which it does since v12, as per @Felix Kling's answer. [...] So it's actually NOT as simple as doing the same thing differently. The point is that \"You can reliably import a CommonJS module in an ES module\" (quoted from an article by Simon Plenderleith), where there is a link to the related pull request in Node.js repository. This is also mentioned by @jabaa under the comment section of my OP. But unfortunately, he/she doesn't have a reference for it. So why do some people want to use ES6 module? Is it only for importing modules asynchronously? I don't think so. Their most be some reasons more important than this. [...] One of those important reasons must be tree-shaking, which is mentioned twice in the comment section under my OP. And notice that while this might be possible on CommonJS modules, the performance of it with ES6 modules must be better, since the syntax-level ES6 import is static in nature(I'm not talking about the import() version), and ES6 modules will only be initialized once. With tree-shaking, your code gets smaller thus your website/library will run/load faster. But apparently moving toward the newest syntax will be a trend. Any idea? Absolutely. At the time I'm writing this, Node.js is default to \"type\": \"commonjs\" because of compatibility, since during the old days ES6 modules syntax has not been merged/invented. Now using ES6 modules syntax is future-proof, it will work even when people will not use Node.js in the future(sorry about saying this! But apparently it will probably be replaced by something new/fancy in the future...)",
    "severity": "medium",
    "tags": [
      "javascript",
      "node.js",
      "ecmascript-6",
      "es6-modules"
    ],
    "metadata": {
      "language": "javascript",
      "framework": "nodejs",
      "stackoverflow_question_id": "71600414",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 3840,
      "stackoverflow_creation_date": "2022-03-24T10:05:10.913Z"
    },
    "idempotency_key": "stackoverflow-71600414",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to trigger a workflow from another workflow using GitHub Actions?",
    "body": "I want to read version from a file and create tag as v11.0.5.1.aws using the workflow . Then I want to use that tag in the docker image. For that, I have created a branch as devops. First created a VERSION file as 1.1.3 20 Apr, 2022 Created a workflow as release-version.yml name: Release Version on: push: branches: - devops jobs: build: runs-on: ubuntu-latest steps: - uses: actions/checkout@master - name: Bump version and push tag uses: melheffe/version_release_composer@master env: PREPEND: 'v' APPEND: '.aws' # must include '.' or it will append without separation DRAFT: 'false' PRERELEASE: 'true' TOKEN: ${{ secrets.AUTH_TOKEN }} TRIGGER: ${{ github.event.pull_request.base.ref }} # can use the triggering branch or define a fixed one like this: 'master' REPO_OWNER: rohit VERSION_FILE_NAME: 'VERSION' Then created another workflow as ci.yml which will get tag from release-version workflow name: CI # Only trigger, when the build workflow succeeded on: workflow_run: workflows: [\"Release Version\"] types: - completed jobs: # This workflow contains a single job called \"build\" build: runs-on: ubuntu-latest steps: - uses: actions/checkout@v2 DeployDev: # Steps represent a sequence of tasks that will be executed as part of the job name: Deploy to Dev needs: [Build] runs-on: ubuntu-latest environment: name: Dev steps: - uses: actions/checkout@v2 with: token: ${{ secrets.AUTH_TOKEN }} - name: Build, tag, and push image to Amazon ECR id: build-image #env: # IMAGE_TAG: ${{ github.sha }} run: | # Build a docker container and push it to ECR so that it can # be deployed to ECS. echo \"$GITHUB_REF_NAME\" docker build -t ${{secrets.ECR_REPO_URI}}/${{secrets.REPO_NAME}}:$GITHUB_REF_NAME . docker push ${{secrets.ECR_REPO_URI}}/${{secrets.REPO_NAME}}:$GITHUB_REF_NAME I'm able to trigger release version workflow after making changes on devops branch but ci workflow is not getting triggered after triggering the release-version. Any suggestion will be helpful for me.",
    "code": "1.1.3 20 Apr, 2022\n\n\nname: Release Version\non:\n  push:\n    branches:\n      - devops\njobs:\n  build:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@master\n    - name: Bump version and push tag\n    uses: melheffe/version_release_composer@master\n    env:\n      PREPEND: 'v'\n      APPEND: '.aws' # must include '.' or it will append without separation\n      DRAFT: 'false'\n      PRERELEASE: 'true'\n      TOKEN: ${{ secrets.AUTH_TOKEN }}\n      TRIGGER: ${{ github.event.pull_request.base.ref }} # can use the triggering branch or define a     fixed one like this: 'master'\n      REPO_OWNER: rohit\n      VERSION_FILE_NAME: 'VERSION'\n\n\nname: CI\n\n# Only trigger, when the build workflow succeeded\non:\n  workflow_run:\n    workflows: [&quot;Release Version&quot;]\n    types:\n      - completed\n\njobs:\n  # This workflow contains a single job called &quot;build&quot;\n  build:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n  DeployDev:\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    name: Deploy to Dev\n    needs: [Build]\n    runs-on: ubuntu-latest\n    environment:\n      name: Dev\n\n    steps:\n      - uses: actions/checkout@v2\n        with:\n          token: ${{ secrets.AUTH_TOKEN }}\n\n      - name: Build, tag, and push image to Amazon ECR\n        id: build-image\n        #env:\n        #  IMAGE_TAG: ${{ github.sha }}\n        run: |\n          # Build a docker container and push it to ECR so that it can\n          # be deployed to ECS.\n          echo &quot;$GITHUB_REF_NAME&quot;\n          docker build -t ${{secrets.ECR_REPO_URI}}/${{secrets.REPO_NAME}}:$GITHUB_REF_NAME .\n          docker push ${{secrets.ECR_REPO_URI}}/${{secrets.REPO_NAME}}:$GITHUB_REF_NAME\n          \n\n\nv11.0.5.1.aws\n\n# Solution Code:\nworkflow_run\n\nworkflow_dispatch\n\ngh\n\nrepository_dispatch\n\ncallback",
    "resolution": "If the workflow_run trigger isn't working as expected, there are two other ways to achieve what you want (triggering a workflow from another workflow, sending an input parameter from the first one to use in the second one). The workflow_dispatch event. The repository_dispatch event. The documentation is very good about how to use them, but I'll add here some references that can help as well: Triggering Github Action using a POST request (Github REST API) How to trigger a workflow_dispatch from Github API? Triggering GitHub workflow using gh CLI As you can see, you can trigger those events using directly the Github API in a step (with a CURL request) or using some actions from the Github Marketplace that perform the same operation. The answer below also explains the difference between both events (as they are similar, and CURL payload differences may be confusing) Correct request with client-payload to run workflow_dispatch in github action I'll also add here an example that can be useful to understand how to use the repository_dispatch event to receive a callback from the other workflow to the first one: workflow A workflow B Note that you will also need to use a PAT to trigger a workflow using a dispatch event.",
    "severity": "high",
    "tags": [
      "version-control",
      "github-actions",
      "git-tag"
    ],
    "metadata": {
      "stackoverflow_question_id": "71952762",
      "stackoverflow_score": 19,
      "stackoverflow_view_count": 46333,
      "stackoverflow_creation_date": "2022-04-21T10:16:52.277Z"
    },
    "idempotency_key": "stackoverflow-71952762",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Snowflake qualify query error 'Invalid data type [NUMBER(18,0)] for predicate [RANK()'",
    "body": "I'm trying to run a query in Snowflake that uses the rank() function along with qualify to try and take the best match between two columns (using editdistance) and I'm getting the following error: Invalid data type [NUMBER(18,0)] for predicate [RANK() OVER (PARTITION BY key1 ORDER BY editdistance(name1, name2) ASC NULLS LAST)] Query looks like this: select key1, key2 from table qualify rank() over ( partition by key1 order by editdistance(name1, name2) asc ) I'm really not clear on what number the error is referring to. name1/name2 are both varchar, key1 is a varchar. Hoping someone might have a pointer for me. Thanks, Jeff",
    "code": "select\n  key1,\n  key2\nfrom\n  table\nqualify\n  rank() over ( \n    partition by key1 order by editdistance(name1, name2) asc\n  )\n\n\n# Solution Code:\nQUALIFY &lt;predicate&gt;\n\n\nrank() over (partition by key1 order by editdistance(name1, name2))\n\n\nrank() over (partition by key1 order by editdistance(name1, name2)) = 1 \n\n\ndense_rank() over (partition by key1 order by editdistance(name1, name2)) = 1 \n",
    "resolution": "The QUALIFY works similar to WHERE,but it is evaluated at different point during query execution. QUALIFY requires a predicate, which should evaluate to boolean. QUALIFY: QUALIFY <predicate> The expression: rank() over (partition by key1 order by editdistance(name1, name2)) returns NUMBER. Comparing the result to integer fixes the error: rank() over (partition by key1 order by editdistance(name1, name2)) = 1 It is worth noting that there may be tie in the data, i.e, same distance per key for more than one row, for that situation it is safer to use DENSE_RANK: dense_rank() over (partition by key1 order by editdistance(name1, name2)) = 1",
    "severity": "medium",
    "tags": [
      "sql",
      "snowflake-cloud-data-platform"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "72001108",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 4714,
      "stackoverflow_creation_date": "2022-04-25T14:24:20.017Z"
    },
    "idempotency_key": "stackoverflow-72001108",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to specify InvariantCulture in string.join()?",
    "body": "I have written the code below in which I am trying to convert an array of type double to a string value using string.join() method. And, then I am adding the string value as an attribute to an XML element. XElement element = new(\"TestNode\"); double[] myDoubleArray = new double[2] { 0.001, 1.0 }; var stringValue = string.Join(\" \", myDoubleArray); element.Add(new XAttribute(\"Values\", stringValue)); The output of the above code is <TestNode Values=\"0,001 1\" /> As can be seen, the value of 0.001 has been written as 0,001 because my system language is German. QUESTION: How do I create a whitespace separated string from an array of double type (in minimum lines of code) while maintaining InvariantCulture?",
    "code": "        XElement element = new(&quot;TestNode&quot;);\n        double[] myDoubleArray = new double[2] { 0.001, 1.0 };\n        var stringValue = string.Join(&quot; &quot;, myDoubleArray);\n        element.Add(new XAttribute(&quot;Values&quot;, stringValue));\n\n\ndouble\n\nstring\n\nstring.join()\n\n&lt;TestNode Values=&quot;0,001 1&quot; /&gt;\n\n0.001\n\n0,001\n\nInvariantCulture\n\n# Solution Code:\nXElement element = new(&quot;TestNode&quot;);\ndouble[] myDoubleArray = new double[2] { 0.001, 1.0 };\n\nvar myDoublesFormatted = myDoubleArray.Select(d =&gt; d.ToString(CultureInfo.InvariantCulture));\n\nvar stringValue = string.Join(&quot; &quot;, myDoublesFormatted);\nelement.Add(new XAttribute(&quot;Values&quot;, stringValue));\n",
    "resolution": "Unfortunately, there is no string.Join overload that takes a CultureInfo parameter. Thus, you'll have to do the conversion yourself: XElement element = new(\"TestNode\"); double[] myDoubleArray = new double[2] { 0.001, 1.0 }; var myDoublesFormatted = myDoubleArray.Select(d => d.ToString(CultureInfo.InvariantCulture)); var stringValue = string.Join(\" \", myDoublesFormatted); element.Add(new XAttribute(\"Values\", stringValue));",
    "severity": "low",
    "tags": [
      "c#",
      "string",
      "invariantculture"
    ],
    "metadata": {
      "language": "csharp",
      "stackoverflow_question_id": "72575099",
      "stackoverflow_score": 6,
      "stackoverflow_view_count": 731,
      "stackoverflow_creation_date": "2022-06-10T13:26:35.650Z"
    },
    "idempotency_key": "stackoverflow-72575099",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Use v-bind in a scss (sass) variable VueJS",
    "body": "I'm working on a component in VueJs and I want to make a color attribute that take hexadecimal color and convert into rgb color with rgba function of sass and work with it. props: { color: { type: String, default: '#195cff' } } I tried to do it like this: $color: v-bind(color); input { background: rgba($color, 0.5); } But I think v-bind is not accessible in sass variable. How can I do this work.",
    "resolution": "That's strictly impossible but I found a way to have a similar result. props: { color: { type: String, default: '#195cff', }, }, methods: { hexToRgb(hex) { let result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex); return result ? { r: parseInt(result[1], 16), g: parseInt(result[2], 16), b: parseInt(result[3], 16) } : null; } }, data: function () { return { rgbColor: `${this.hexToRgb(this.color).r},${this.hexToRgb(this.color).g},${this.hexToRgb(this.color).b}` } } And in css input { background: rgb(v-bind(rgbColor),0.5); }",
    "severity": "medium",
    "tags": [
      "css",
      "vue.js",
      "sass"
    ],
    "metadata": {
      "language": "css",
      "framework": "vue",
      "stackoverflow_question_id": "72653246",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 5590,
      "stackoverflow_creation_date": "2022-06-17T00:45:49.203Z",
      "stackoverflow_owner": "user14557497"
    },
    "idempotency_key": "stackoverflow-72653246",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "SwiftUI wheel PickerStyle in custom Menu",
    "body": "In SwiftUI, the built in DatePicker has two buttons, each of which when clicked displaying a pop up menu with a highly customized view (a calendar, and a multi-component wheel picker respectively). How can I recreate a similar setup but with a custom button and my own wheel style picker in the menu? For example, I'm trying to create a duration picker in the same style as the DatePicker. Unfortunately, a Picker placed inside a Menu simply does not render when rendered with the .wheel style. Alternatives like using the default picker .menu style doesn't allow for the same experiences as the setup found in DatePicker. Using a context menu also isn't quite right as it requires a long press and blurs the rest of the screen when open (plus the wheel picker is broken in this view too). Minimal reproducible example: clicking Test does not even open the menu. Note that adding a .frame(width: 100, height: 100) or fixedSize() to the picker does not help. struct ExampleView: View { @State var selection = 1 var body: some View { Menu(\"Test\") { Picker(\"Test\", selection: $selection) { ForEach(0..<10) { Text(\"\\($0)\").tag($0) } } .pickerStyle(.wheel) } } }",
    "code": "DatePicker\n\nPicker\n\nMenu\n\n.wheel\n\n.menu\n\nTest\n\n.frame(width: 100, height: 100)\n\nfixedSize()",
    "severity": "medium",
    "tags": [
      "ios",
      "swift",
      "swiftui",
      "datepicker"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "72679446",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 1792,
      "stackoverflow_creation_date": "2022-06-19T18:38:47.937Z"
    },
    "idempotency_key": "stackoverflow-72679446",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to: For each unique id, for each unique version, grab the best score and organize it into a table",
    "body": "Just wanted to preface this by saying while I do have a basic understanding, I am still fairly new to using Bigquery tables and sql statements in general. I am trying to make a new view out of a query that grabs all of the best test scores for each version by each employee: select emp_id,version,max(score) as score from `project.dataset.table` where type = 'assessment_test' group by version,emp_id order by emp_id I'd like to take the results of that query, and make a new table comprised of employee id's with a column for each versions best score for that rows emp_id. I know that I can manually make a table for each version by including a \"where version = a\", \"where version = b\", etc.... and then joining all of the tables at the end but that doesn't seem like the most elegant solution plus there is about 20 different versions in total. Is there a way to programmatically create a column for each unique version or at the very least use my initial query as maybe a subquery and just reference it, something like this: with a as ( select id,version,max(score) as score from `project.dataset.table` where type = 'assessment_test' and version is not null and score is not null and id is not null group by version,id order by id), version_a as (select score from a where version = 'version_a') version_b as (select score from a where version = 'version_b') version_c as (select score from a where version = 'version_c') select a.id as id, version_a.score as version_a, version_b.score as version_b, version_c.score as version_c from a, version_a, version_b, version_c Example Picture: left table is example data, right table is expected output Example Data: id version score 1 a 88 1 b 93 1 c 92 2 a 89 2 b 99 2 c 78 3 a 95 3 b 83 3 c 89 4 a 90 4 b 90 4 c 86 5 a 82 5 b 78 5 c 98 1 a 79 1 b 97 1 c 77 2 a 100 2 b 96 2 c 85 3 a 83 3 b 87 3 c 96 4 a 84 4 b 80 4 c 77 5 a 95 5 b 77 Expected Output: id a score b score c score 1 88 97 92 2 100 99 85 3 95 87 96 4 90 90 86 5 95 78 98 Thanks in advance and feel free to ask any clarifying questions",
    "code": "select emp_id,version,max(score) as score from `project.dataset.table` where type = 'assessment_test' group by version,emp_id order by emp_id\n\n\nwith a as (\n  select id,version,max(score) as score \n  from `project.dataset.table` \n  where type = 'assessment_test' and version is not null and score is not null and id is not null \n  group by version,id \n  order by id),\n\nversion_a as (select score from a where version = 'version_a')\nversion_b as (select score from a where version = 'version_b')\nversion_c as (select score from a where version = 'version_c')\n\nselect \n  a.id as id,\n  version_a.score as version_a,\n  version_b.score as version_b,\n  version_c.score as version_c\nfrom \na,\nversion_a, \nversion_b,\nversion_c\n\n\n\n# Solution Code:\nselect * from your_table\npivot (max(score) score for version in ('a', 'b', 'c'))      \n\n\nexecute immediate (select '''\nselect * from your_table\npivot (max(score) score for version in (''' || string_agg(distinct &quot;'&quot; || version || &quot;'&quot;) || &quot;))&quot;\nfrom your_table\n)\n",
    "resolution": "Use below approach select * from your_table pivot (max(score) score for version in ('a', 'b', 'c')) if applied to sample data in your question - output is In case if versions is not known in advance - use below execute immediate (select ''' select * from your_table pivot (max(score) score for version in (''' || string_agg(distinct \"'\" || version || \"'\") || \"))\" from your_table )",
    "severity": "low",
    "tags": [
      "sql",
      "google-bigquery"
    ],
    "metadata": {
      "language": "sql",
      "stackoverflow_question_id": "72877218",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 160,
      "stackoverflow_creation_date": "2022-07-06T02:08:01.697Z"
    },
    "idempotency_key": "stackoverflow-72877218",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "Does Webpack 4.41.6 polyfill for the async_hooks Node core module?",
    "body": "I have a little problem with running Storybook in one of older projects. When I run Storybook with custom Webpack config, I run into an error: ERROR in ./node_modules/asynchronous-local-storage/dist/lib/als.js Module not found: Error: Can't resolve 'async_hooks' in 'C:\\Users\\Martin\\Documents\\censored\\censored\\node_modules\\asynchronous-local-storage\\dist\\lib' This error means, that async_hooks is not recognized. Async_hooks is a part of Node.js, which means I can't access it in a browser. However, I thought Webpack polyfills these modules. What I did was this: config.target = \"node\"; But this means that the bundled code will be optimalized for Node.js and not a browser app. That's why the error is gone, and I can now run Storybook but stories from Storybook won't load due to an error in a browsers console: Uncaught ReferenceError: exports is not defined What I'm doing right now in the application is basically this: let als if (typeof window === 'undefined') { als = require('asynchronous-local-storage').als } Which should require this package, that depends on the async_hooks module only, if the environment is not a browser. However, somehow, Webpack still wants to load this core Node module, and I don't understand why. This is the Webpack config file: const path = require('path') const PnpWebpackPlugin = require('pnp-webpack-plugin') const webpack = require('webpack') module.exports = async ({ config, mode }) => { config.module.rules = [ ...config.module.rules, ...[ { test: /\\.(gif|png|jpe?g|svg)$/i, use: [ 'file-loader', ], }, { test: /\\.stor[a-z]+\\.jsx?$/, loaders: [ { loader: require.resolve('@storybook/source-loader'), options: { injectDecorator: true }, }, ], enforce: 'pre', }, { test: /\\.css$/, exclude: [], include: [/node_modules/, /src/], use: [ 'style-loader', { loader: 'css-loader', options: { sourceMap: false, }, }, ], }, { test: /\\.s?css$/, exclude: [], use: [ 'style-loader', { loader: 'css-loader', options: { sourceMap: false, }, }, { loader: 'sass-loader', }, ], }, ], ] config.resolve = { ...config.resolve, ...{ extensions: [ '.mjs', '.web.js', '.js', '.json', '.web.jsx', '.jsx' ], alias: { './lodash.min': 'lodash/lodash.js', fs: path.join(__dirname, '..', '__mocks__', 'file.js'), }, mainFields: [ 'browser', 'main' ], }, } config.plugins.push(PnpWebpackPlugin) config.plugins.push(new webpack.DefinePlugin({ 'process.env.IS_BROWSER': JSON.stringify(true) })) return config } And just for case Babel config file: { \"presets\": [ \"@babel/preset-react\", [ \"@babel/preset-env\", { \"targets\": { \"node\": 10, \"browsers\": [\"last 2 versions\", \"> 1%\", \"IE 11\"] }, \"loose\": true, \"modules\": \"auto\", \"debug\": true, \"useBuiltIns\": \"entry\" } ], \"@babel/preset-flow\" ], \"retainLines\": true, \"plugins\": [ \"@babel/plugin-proposal-class-properties\", \"@babel/plugin-proposal-optional-chaining\" ] } I'm really having a hard time to find a way how to make this work. I looked at a lot of similar quetions but none have the exact same problem as I do. I can't replicate the repository however, due to the project size and NDA. Thanks Edit: @loganfsmyth I understand, the fallback only happens for Node version <8.0.0 I guess. The project runs on 12.14.0, so async_hooks has to be used. What I don't understand, is the fact, that when I run the project (Next.js project and custom Express server) with yarn dev, the project runs fine. However, when I try to run Storybook (and Webpack builds), it fails with the Can't resolve 'async_hooks error message. This error message can be traced to the higher order component (Apollo GraphQL client wrapper). The HOC requires the async_hooks module this way: let als if (typeof window === 'undefined') { als = require('asynchronous-local-storage').als } The HOC is a normal .jsx component, so I'm wondering, why it does require the ALS package, even though the condition above shouldn't fulfill and ALS module shouldn't require. Can't be something done in the Webpack settings I simply missed? Thank you again :)",
    "code": "ERROR in ./node_modules/asynchronous-local-storage/dist/lib/als.js\nModule not found: Error: Can't resolve 'async_hooks' in 'C:\\Users\\Martin\\Documents\\censored\\censored\\node_modules\\asynchronous-local-storage\\dist\\lib'\n\n\nUncaught ReferenceError: exports is not defined\n\n\nlet als\nif (typeof window === 'undefined') {\n  als = require('asynchronous-local-storage').als\n}\n\n\n&lt;8.0.0\n\n12.14.0\n\nasync_hooks\n\nyarn dev\n\nCan't resolve 'async_hooks\n\nasync_hooks",
    "resolution": "I actually used IgnorePlugin, like this: config.plugins.push( new IgnorePlugin({ resourceRegExp: /async_hooks/, }), )",
    "severity": "medium",
    "tags": [
      "webpack",
      "babeljs",
      "storybook"
    ],
    "metadata": {
      "stackoverflow_question_id": "72954214",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 1406,
      "stackoverflow_creation_date": "2022-07-12T14:45:01.680Z"
    },
    "idempotency_key": "stackoverflow-72954214",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Amplify mock changes are now permanent after push",
    "body": "I am experiencing a major problem with my Vue app using Amplify! I ran amplify mock api which included: \"aws_appsync_dangerously_connect_to_http_endpoint_for_testing\": true in my aws-export.js file. I failed to stop the mock server (which would have removed the above line from the aws-exports.js file) and ran amplify push. I am now unable to remove this line. Since then I am experiencing issues when running the app, for example web-socket time outs and intermittent syncing of the DataStore data. How can I reverse these changes made by running amplify mock and which are now permanently in the backend?",
    "code": "&quot;aws_appsync_dangerously_connect_to_http_endpoint_for_testing&quot;: true\n",
    "severity": "low",
    "tags": [
      "mocking",
      "aws-amplify"
    ],
    "metadata": {
      "stackoverflow_question_id": "73076713",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 333,
      "stackoverflow_creation_date": "2022-07-22T07:33:19.020Z"
    },
    "idempotency_key": "stackoverflow-73076713",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to add columns to pandas df where grouped values are counted for ordered plotting of categories",
    "body": "I build a plotly dashboard in python that displays multiple variables over time. One of the variables is here called \"color\" and I would like to sort the resulting plot by it. import pandas as pd import plotly.express as px import string import random import numpy as np # for the color mapping color_dict = {\"Colors\": { \"green\": \"rgb(0, 255, 0)\", \"black\": \"rgb(0, 0, 0)\", \"red\": \"rgb(255, 0, 0)\" }} # creating the df random.seed(30) letters = list(string.ascii_lowercase)[0:20] data = {\"letters\":letters} df = pd.DataFrame(data) df = pd.DataFrame(np.repeat(df.values, 3, axis=0), columns=df.columns) # repeat each row 2 times df['attempt'] = np.where(df.index%2==0, 1, 2) # adds either 1 or 2 in column \"attempts\" lst = ['2022_10_10', '2022_10_11', '2022_10_12'] N = len(df) df[\"date\"] = pd.Series(np.tile(lst, N//len(lst))).iloc[:N] # add date column with 3 repeating dates df[\"colors\"] = random.choices([\"green\", \"black\", \"red\"], k=len(df)) # add randomly the colors df.head() #letters attempt date colors #0 a 1 2022_10_10 black #1 a 2 2022_10_11 green #2 a 1 2022_10_12 green #3 b 2 2022_10_10 black #4 b 1 2022_10_11 green # the plot fig = px.scatter( df, x=\"date\", y=\"letters\", symbol=\"attempt\", opacity=0.8, color=\"colors\", color_discrete_map=color_dict[\"Colors\"], width=1000, height=800, ) fig.update_layout( yaxis={ \"type\": \"category\", \"showgrid\": False, }, xaxis={ \"type\": \"category\", \"showgrid\": False, }, ) fig However, as the original df (I assume?) undergoes some groupby etc for the plotting, my pre-plot sorting (I tried sort_values, custom sorting functions etc) seems to have no affect. Therefore, I would like to create additional columns \"black\", \"green\", \"red\", that hold the count of how often black / green / red appeared e.g. on row \"a\". df[\"black\"] = \"\" df[\"red\"] = \"\" df[\"green\"] = \"\" #letters attempt date colors black red green #0 a 1 2022_10_10 black 1 0 2 #1 a 2 2022_10_11 green 1 0 2 #2 a 1 2022_10_12 green 1 0 2 #3 b 2 2022_10_10 black #4 b 1 2022_10_11 green So my questions are: a) how to get color count values into there columns? b) how to use the values of the column \"green\", then \"red\", then \"black\" for sorting the order of the y axis of the plot? thanks! EDIT: SORRY, I know this is a complicated task. But I'm looking solely for a way to sort/order the full rows on the y axis. The order WITHIN a row (e.g. row \"a\") has to be maintained. EDIT2: I attached a (terribly manufactured) image of the result I'm looking for: Expected result: EDIT post answer: in case someone wants to perform this type of row sorting, but only take the latest date (last column on x axis) into account, you can adjust the count status function like this: color_counts = ( df[df[\"date\"] == df[\"date\"].max()] .groupby('letters')['colors'] .value_counts() .unstack(fill_value=0) )",
    "code": "import pandas as pd\nimport plotly.express as px\nimport string\nimport random\nimport numpy as np\n\n# for the color mapping\ncolor_dict = {&quot;Colors&quot;: {\n        &quot;green&quot;: &quot;rgb(0, 255, 0)&quot;,\n        &quot;black&quot;: &quot;rgb(0, 0, 0)&quot;,  \n        &quot;red&quot;: &quot;rgb(255, 0, 0)&quot;\n    }}\n\n\n# creating the df\nrandom.seed(30)\nletters = list(string.ascii_lowercase)[0:20]\n\ndata = {&quot;letters&quot;:letters}       \ndf = pd.DataFrame(data)\ndf = pd.DataFrame(np.repeat(df.values, 3, axis=0), columns=df.columns) # repeat each row 2 times\ndf['attempt'] = np.where(df.index%2==0, 1, 2)  # adds either 1 or 2 in column &quot;attempts&quot;\nlst = ['2022_10_10', '2022_10_11', '2022_10_12']\nN = len(df)\ndf[&quot;date&quot;] = pd.Series(np.tile(lst, N//len(lst))).iloc[:N] # add date column with 3 repeating dates\ndf[&quot;colors&quot;] = random.choices([&quot;green&quot;, &quot;black&quot;, &quot;red&quot;], k=len(df)) # add randomly the colors\ndf.head()\n\n\n#letters attempt date   colors\n#0  a   1   2022_10_10  black\n#1  a   2   2022_10_11  green\n#2  a   1   2022_10_12  green\n#3  b   2   2022_10_10  black\n#4  b   1   2022_10_11  green\n\n\n# the plot\nfig = px.scatter(\n        df,\n        x=&quot;date&quot;,\n        y=&quot;letters&quot;,\n        symbol=&quot;attempt&quot;,\n        opacity=0.8,\n        color=&quot;colors&quot;,\n        color_discrete_map=color_dict[&quot;Colors&quot;],\n        width=1000,\n        height=800,\n    )\nfig.update_layout(\n    yaxis={\n            &quot;type&quot;: &quot;category&quot;,\n            &quot;showgrid&quot;: False,\n        },\n    xaxis={\n            &quot;type&quot;: &quot;category&quot;,\n            &quot;showgrid&quot;: False,\n        },\n)\nfig\n\n\ndf[&quot;black&quot;] = &quot;&quot;\ndf[&quot;red&quot;] = &quot;&quot;\ndf[&quot;green&quot;] = &quot;&quot;\n\n\n#letters attempt date   colors  black   red green\n#0  a   1   2022_10_10  black       1   0   2\n#1  a   2   2022_10_11  green       1   0   2\n#2  a   1   2022_10_12  green       1   0   2\n#3  b   2   2022_10_10  black           \n#4  b   1   2022_10_11  green           \n\n\ncolor_counts = (\n    df[df[&quot;date&quot;] == df[&quot;date&quot;].max()]\n    .groupby('letters')['colors']\n    .value_counts()\n    .unstack(fill_value=0)\n)\n\n\n# Solution Code:\ncolor_counts = (\n    df.groupby('letters')['colors']\n    .value_counts()\n    .unstack(fill_value=0)\n)\ndf = df.merge(color_counts, on='letters')\n\n\nfig = px.scatter(\n    ...\n    hover_data=['black','red','green'],\n    ...\n)\n\n\ncolor_counts = (\n    df.groupby('letters')['colors']\n    .value_counts()\n    .unstack(fill_value=0)\n)\n\ndef sort_letters(color):\n    return color_counts[color].sort_values().index\n\ndesired_color = 'black'\nfig = px.scatter(\n    ...\n    category_orders={'letters': sort_letters(desired_color)},\n    ...\n)\n\n\nimport pandas as pd\nimport numpy as np\nimport plotly.express as px\nfrom string import ascii_lowercase\nimport random\n\n# Color mapping\ncolor_map = {\n    &quot;green&quot;: &quot;YellowGreen&quot;,\n    &quot;black&quot;: &quot;Black&quot;,  \n    &quot;red&quot;: &quot;Crimson&quot;\n}\n\n# Mocking data\nrandom.seed(30)\nnum_letters = 20\nletters = [*ascii_lowercase][:num_letters]\ndates = ['2022_10_10', '2022_10_11', '2022_10_12']\ndf = pd.DataFrame(np.repeat(letters, len(dates)), columns=['letters']) \ndf['attempt'] = df.index % 2 + 1\ndf['date'] = np.tile(dates, num_letters)\ndf['colors'] = random.choices([*color_map], k=len(df)) \n\ncolor_counts = (\n    df.groupby('letters')['colors']\n    .value_counts()\n    .unstack(fill_value=0)\n)\ndf = df.merge(color_counts, on='letters')\n#display(df.sample(5))\n\ndef sort_letters(color):\n    return color_counts[color].sort_values().index\n\n# The plot\ndesired_color = 'black'\n\nfig = px.scatter(\n    df,\n    x=&quot;date&quot;,\n    y=&quot;letters&quot;,\n    category_orders={'letters':sort_letters(desired_color)},\n    color=&quot;colors&quot;,    \n    color_discrete_map=color_map,\n    symbol='attempt',\n    symbol_map={1:'circle-open',2:'circle'},\n    hover_data=[*color_map],\n    opacity=0.8,\n    width=800,\n    height=800,\n    title=f&quot;Sorted by {desired_color} counts&quot;\n)\n\nfig.update_layout(\n    yaxis={\n        &quot;type&quot;: &quot;category&quot;,\n        &quot;showgrid&quot;: False,\n    },\n    xaxis={\n        &quot;type&quot;: &quot;category&quot;,\n        &quot;showgrid&quot;: False,\n    },\n)\n\nfig\n\n\ncolor_counts = (\n    df.groupby('letters')['colors']\n    .value_counts()\n    .unstack(fill_value=0)\n)\n\nfig.update_yaxes(\n    categoryorder=&quot;array&quot;, \n    categoryarray=color_counts.sort_values(by=['green','red','black']).index,\n)\n\n\nblack\n\ngreen\n\nred\n\nhover_data\n\npx.scatter\n\ncategory_orders\n\npx.scatter",
    "resolution": "How to get color count values into their columns Let's add the number of colors per letter: color_counts = ( df.groupby('letters')['colors'] .value_counts() .unstack(fill_value=0) ) df = df.merge(color_counts, on='letters') The first 5 records of the modified data frame: letters attempt date colors black green red 0 a 1 2022_10_10 black 1 2 0 1 a 2 2022_10_11 green 1 2 0 2 a 1 2022_10_12 green 1 2 0 3 b 2 2022_10_10 black 1 2 0 4 b 1 2022_10_11 green 1 2 0 In order to add the black, green, red counts to the plot, we have to include hover_data to px.scatter like this: fig = px.scatter( ... hover_data=['black','red','green'], ... ) How to use color per letter counts for sorting letters on the plot To sort letters along the y-axis, we can use the category_orders parameter of px.scatter this way: color_counts = ( df.groupby('letters')['colors'] .value_counts() .unstack(fill_value=0) ) def sort_letters(color): return color_counts[color].sort_values().index desired_color = 'black' fig = px.scatter( ... category_orders={'letters': sort_letters(desired_color)}, ... ) Here we pass the exact order of the letters, how they should be positioned along the axis. Code and Plot import pandas as pd import numpy as np import plotly.express as px from string import ascii_lowercase import random # Color mapping color_map = { \"green\": \"YellowGreen\", \"black\": \"Black\", \"red\": \"Crimson\" } # Mocking data random.seed(30) num_letters = 20 letters = [*ascii_lowercase][:num_letters] dates = ['2022_10_10', '2022_10_11', '2022_10_12'] df = pd.DataFrame(np.repeat(letters, len(dates)), columns=['letters']) df['attempt'] = df.index % 2 + 1 df['date'] = np.tile(dates, num_letters) df['colors'] = random.choices([*color_map], k=len(df)) color_counts = ( df.groupby('letters')['colors'] .value_counts() .unstack(fill_value=0) ) df = df.merge(color_counts, on='letters') #display(df.sample(5)) def sort_letters(color): return color_counts[color].sort_values().index # The plot desired_color = 'black' fig = px.scatter( df, x=\"date\", y=\"letters\", category_orders={'letters':sort_letters(desired_color)}, color=\"colors\", color_discrete_map=color_map, symbol='attempt', symbol_map={1:'circle-open',2:'circle'}, hover_data=[*color_map], opacity=0.8, width=800, height=800, title=f\"Sorted by {desired_color} counts\" ) fig.update_layout( yaxis={ \"type\": \"category\", \"showgrid\": False, }, xaxis={ \"type\": \"category\", \"showgrid\": False, }, ) fig Update: sort letters by color counts in lexicographic order To sort by color counts, as in lexicographic order, we can use the code from the original post with this addition at the end: color_counts = ( df.groupby('letters')['colors'] .value_counts() .unstack(fill_value=0) ) fig.update_yaxes( categoryorder=\"array\", categoryarray=color_counts.sort_values(by=['green','red','black']).index, ) Here's the output: See also Plotly: Categorical Axes",
    "severity": "low",
    "tags": [
      "pandas",
      "plotly"
    ],
    "metadata": {
      "stackoverflow_question_id": "73246098",
      "stackoverflow_score": 4,
      "stackoverflow_view_count": 369,
      "stackoverflow_creation_date": "2022-08-05T07:23:36.927Z"
    },
    "idempotency_key": "stackoverflow-73246098",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Why use BloC or Provider in Flutter when we already have Flutter's built-in setState?",
    "body": "Maybe I don't understand the purpose of BloC or Provider but I'm confused as to why we would ever want to use them instead of using Flutter's built-in state management using the Stateful widget. I've just finished an app and can't remember a point where I wished I needed something more than the defaults. Can anyone clear things up for me?",
    "code": "Stateful",
    "severity": "medium",
    "tags": [
      "flutter",
      "flutter-provider",
      "flutter-bloc",
      "flutter-state"
    ],
    "metadata": {
      "framework": "flutter",
      "stackoverflow_question_id": "74049270",
      "stackoverflow_score": 5,
      "stackoverflow_view_count": 5724,
      "stackoverflow_creation_date": "2022-10-13T00:33:10.223Z"
    },
    "idempotency_key": "stackoverflow-74049270",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "How to read a null terminated String from Data?",
    "body": "An iOS/Swift library delivers a Data object containing a null terminated string. When converting it to a String by calling String(data: dataInstance, encoding: .utf8), the returned String ends with \"\\0\". Question now is, how do you convert the Data instance to a String without having \"\\0\" appended? I.e. how can you omit the null terminating character at the end? Trying to just .trimmingCharacters(in: .whitespacesAndNewlines) doesn't have any effect, so your advise is very much appreciated. Thank you.",
    "code": "Data\n\nString\n\nString(data: dataInstance, encoding: .utf8)\n\nString\n\n&quot;\\0&quot;\n\nData\n\nString\n\n.trimmingCharacters(in: .whitespacesAndNewlines)\n\n# Solution Code:\nlet data = Data([65, 66, 0, 67, 0])\nlet end = data.firstIndex(where: { $0 == 0 }) ?? data.endIndex\nif let string = String(data: data[..&lt;end], encoding:.utf8) {\n    print(string.debugDescription) // &quot;AB&quot;\n}\n",
    "resolution": "A possible solution: Determine the index of the terminating zero, and convert only the preceding part of the data: let data = Data([65, 66, 0, 67, 0]) let end = data.firstIndex(where: { $0 == 0 }) ?? data.endIndex if let string = String(data: data[..<end], encoding:.utf8) { print(string.debugDescription) // \"AB\" } If the data does not contain a null byte then everything will be converted.",
    "severity": "low",
    "tags": [
      "swift",
      "string"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "74130250",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 722,
      "stackoverflow_creation_date": "2022-10-19T18:30:12.070Z"
    },
    "idempotency_key": "stackoverflow-74130250",
    "related_ids": []
  },
  {
    "type": "solution",
    "title": "FindWindow in Powershell gives me 0 (on w11 22h2 FR) : unattended character in the title of a cmd elevated console?",
    "body": "8 years after this question with Windows 11 22H2 FR, in Powershell PSVersion 5.1.22621.169 the command: FindWindow(\"ConsoleWindowClass\", \"Administrateur : X:\\windows\\system32\\cmd.exe\") outputs 0. After some rechearch, I use SPY++ for reading caption and class. I have copy/pasted from the editbox of SpY++ into a PS string variable ($title). And I notice in this copy/pasted $title string: [byte]$title[14]= 160 [byte]$title[14] looks like a space and is here, in the middle \"r :\" String index 14 is for french version of OS. FindWindow returns a good handle with this character! Question : Why [byte]$title[14] = 160 (at index 14 in the string for FR) is found in the title of an elevated cmd console? Is it normal? Where is it documented? The code I used: $code = @' [DllImport(\"user32.dll\", CharSet=CharSet.Unicode, SetLastError = true)] public static extern IntPtr FindWindow(string ClassName,string WindowName); [DllImport(\"user32.dll\", CharSet=CharSet.Unicode, SetLastError = true)] public static extern bool ShowWindow( IntPtr hWnd, int nCmdShow); [DllImport(\"user32.dll\", CharSet=CharSet.Unicode, SetLastError = true)] public static extern IntPtr SetWindowText(IntPtr HWND, string Text); '@ Add-Type -MemberDefinition $code -Name Window -Namespace Test # please, open an elevated console cmd #Be carrefull, \"administrateur\" in french OS. So, adapt if you test... # here, \"[byte]$title[14] = 32\" -> it's a space, it's not 160 $name = \"Administrateur : X:\\windows\\system32\\cmd.exe\" $classW = \"ConsoleWindowClass\" [Test.Window]::FindWindow($classW, $name) #it gives 0 I don't know how to put a code point of 160 into a system.string (I can only copy/paste the title from SPY++). So I can't give the correct code for the second test. In summary: I launch a cmd console elevated and see the title: \"Administrateur : X:\\windows\\system32\\cmd.exe\" ...............|.............................. The above line is for locating the position of the \"strange\" character with code point of 160. With PS, i try to use FindWindow to get a handle on this window If I copy/paste the title from SPY++ ([byte]$title[14] = 160), FindWindow is OK. If I enter the text from the keyboard ([byte]$title[14] = 32), FindWindow returns 0 (error). Is it normal to get a title text with code point 160 (at index 14 in the string for FR)?",
    "code": "FindWindow(&quot;ConsoleWindowClass&quot;, &quot;Administrateur : X:\\windows\\system32\\cmd.exe&quot;)\n\n\n[byte]$title[14]= 160\n\n\n$code = @'\n[DllImport(&quot;user32.dll&quot;, CharSet=CharSet.Unicode, SetLastError = true)]\npublic static extern IntPtr FindWindow(string ClassName,string WindowName);\n[DllImport(&quot;user32.dll&quot;, CharSet=CharSet.Unicode, SetLastError = true)]\npublic static extern bool ShowWindow( IntPtr hWnd, int  nCmdShow);\n[DllImport(&quot;user32.dll&quot;, CharSet=CharSet.Unicode, SetLastError = true)]\npublic static extern IntPtr SetWindowText(IntPtr HWND, string Text);\n'@\nAdd-Type  -MemberDefinition $code -Name Window -Namespace Test\n# please, open an elevated console cmd\n#Be carrefull, &quot;administrateur&quot; in french OS. So, adapt if you test...\n# here,  &quot;[byte]$title[14] = 32&quot; -&gt; it's a space, it's not 160\n$name = &quot;Administrateur : X:\\windows\\system32\\cmd.exe&quot;\n$classW = &quot;ConsoleWindowClass&quot;\n[Test.Window]::FindWindow($classW, $name)\n#it gives 0\n\n\n\n0\n\n$title\n\n$title\n\n[byte]$title[14]\n\n14\n\nFindWindow\n\n[byte]$title[14] = 160\n\n14\n\ncmd\n\n160\n\nsystem.string\n\n160\n\nFindWindow\n\n[byte]$title[14] = 160\n\nFindWindow\n\n[byte]$title[14] = 32\n\nFindWindow\n\n160\n\n14\n\n# Solution Code:\n160\n\n0xA0\n\n \n\nU+00A0\n\n&quot;...&quot;\n\n$(...)\n\n:\n\n:\n\n:\n\n:\n\n:\n\n:\n\n&quot;Administrateur$([char] 0xA0): X:\\windows\\system32\\cmd.exe&quot; -split ' '\n\n-split &quot;Administrateur$([char] 0xA0): X:\\windows\\system32\\cmd.exe&quot;\n\nDebug-String",
    "resolution": "The Unicode character whose code point is 160 (decimal) / 0xA0 (hexadecimal) is: (NO-BREAK SPACE, U+00A0) It looks just like a space, but is obviously different from it. To embed in a string, you have several options; the easiest is to use an expandable (double-quoted) string (\"...\") with either an embedded subexpression ($(...) or, in PowerShell (Core) 6+ only, a Unicode escape sequence: # Subexpression: # Works in Windows PowerShell too. \"Administrateur$([char] 0xA0): X:\\windows\\system32\\cmd.exe\" # Unicode escape sequence: # Works in PowerShell (Core) 6+ only \"Administrateur`u{A0}: X:\\windows\\system32\\cmd.exe\" As for why this character is present: The original purpose of the character is to prevent automatic line breaks between words, which a regular space character wouldn't do - see Wikipedia's article on the non-breaking space. Given that window titles are always single-line, that alone cannot be the reason for the character's use. With English or German as the system language, for instance, the character is not present: there's simply no character between the (localized) word for administrator and : zett42 observes the following with respect to why the character is present in French, for instance: In French (and possibly other languages), : (and other punctuation) must be preceded by a (non-breaking) space - see What’s The Deal With French Spacing? In general, it makes sense to use a no-break space between : and the word that precedes it, so as not have a \"dangling\" : on a new line. Possibly, there is shared code that inserts the no-break space before : for text localized to French, so that it just happens to surface in this context too. Pragmatically speaking: The behavior is obscure with respect to finding windows running elevated sessions by title. With respect to parsing such a title (once found), splitting into the part before and after the : actually then works the same in all languages, but only if you split by regular spaces only, such as with \"Administrateur$([char] 0xA0): X:\\windows\\system32\\cmd.exe\" -split ' ' (by contrast, -split \"Administrateur$([char] 0xA0): X:\\windows\\system32\\cmd.exe\" would split by the no-break space too). As for how to diagnose the problem programmatically: (Get-Process -Name cmd | Where-Object MainWindowTitle -Match '^Administr').MainWindowTitle | ForEach-Object ToCharArray | ForEach-Object { [pscustomobject] @{ Char = $_; CodePoint = '0x{0:x}' -f ([uint16] $_) } } The above prints each character alongside its Unicode code point on its own line. This answer shows convenience function Debug-String, which greatly simplifies examining strings for unexpected characters.",
    "severity": "low",
    "tags": [
      "windows",
      "powershell",
      "findwindow"
    ],
    "metadata": {
      "language": "powershell",
      "stackoverflow_question_id": "74799746",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 240,
      "stackoverflow_creation_date": "2022-12-14T14:25:51.893Z"
    },
    "idempotency_key": "stackoverflow-74799746",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "Prevent main AppKit app window from opening when loading a SwiftUI preview",
    "body": "I have a Mac App that's mostly written in AppKit. Over time, I'm adding new views in SwiftUI, and all the while I've been using SwiftUI previews to preview both my new SwiftUI views, and my old AppKit views/view controllers (see Previews are not just for SwiftUI views). One nuisance I've been running into is that starting a SwiftUI preview opens my app's main window. This is a consequence of how previews go through the regular startup flow, e.g. calling applicationDidFinishLaunching(_:) on my App Delegate, which is where I instantiate and present my app's main window on start. Naturally, I don't want that to happen if I'm working on a view in a preview. Here's what my AppDelegate looks like: @NSApplicationMain public class AppDelegate: NSObject, NSApplicationDelegate { lazy var mainWindowController = MainWindowController() public func applicationDidFinishLaunching(_ aNotification: Notification) { // Nasty hack :( let isInSwiftUIPreview = ProcessInfo.processInfo.environment[\"XCODE_RUNNING_FOR_PREVIEWS\"] == \"1\" if !isRunningInTest() && !isInSwiftUIPreview { mainWindowController.showWindow(self) } } // ... } As you can see, I've added special cases for not showing the main window if this code is running in a test or SwiftUI preview. This smells, and suggests to me that I'm doing it wrong. If fact, Apple mentions this exact issue in Mastering Xcode Previews, at 41:41. They suggest to make your app scene-aware and use a UISceneDelegate to do this work instead. However, that's an iOS/catalyst-only API, and I don't see an obvious alternative for AppKit. With all that said: What's the right way to open the main window of an AppKit app, so that it doesn't open during tests or SwiftUI previews?",
    "code": "applicationDidFinishLaunching(_:)\n\nUISceneDelegate",
    "severity": "low",
    "tags": [
      "swift",
      "swiftui",
      "appkit",
      "swiftui-previews",
      "nsapplication-delegate"
    ],
    "metadata": {
      "language": "swift",
      "stackoverflow_question_id": "74904501",
      "stackoverflow_score": 7,
      "stackoverflow_view_count": 589,
      "stackoverflow_creation_date": "2022-12-23T22:37:42.077Z"
    },
    "idempotency_key": "stackoverflow-74904501",
    "related_ids": []
  },
  {
    "type": "bug",
    "title": "GL_INVALID_OPERATION in glGetIntegerv() with GLAD",
    "body": "I use GLAD (config) to load OpenGL functions and GLFW 3.3.8 to create context. Each time I start my program it pops a ERROR 1282 in glGetIntegerv from GLAD debug post-callback function (as far as I know it is invoked after each gl- function and prints an error if any occurred). I figured that this happens after returning from main(). Here's the code (it loads OpenGL 3.3 and shows red window until it is closed, pretty simple I think): #include <iostream> #include <glad/glad.h> #include <GLFW/glfw3.h> int main() { if(glfwInit() != GLFW_TRUE) throw std::runtime_error{\"Unable to initialize GLFW.\"}; glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3); glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3); glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE); GLFWwindow * w{glfwCreateWindow(100, 100, \"title\", nullptr, nullptr)}; if(w == nullptr) throw std::runtime_error{\"Unable to create window.\"}; glfwMakeContextCurrent(w); if(not gladLoadGLLoader(GLADloadproc(glfwGetProcAddress))) throw std::runtime_error{\"Unable to load OpenGL functions.\"}; glViewport(0, 0, 100, 100); while(not glfwWindowShouldClose(w)) { glfwPollEvents(); glClearColor(1.f, 0.f, 0.f, 1.f); glClear(GL_COLOR_BUFFER_BIT); glfwSwapBuffers(w); } glfwMakeContextCurrent(nullptr); glfwDestroyWindow(w); glfwTerminate(); std::cout << \"Hey!\" << std::endl; return 0; } The output is: Hey! ERROR 1282 in glGetIntegerv From this callstack: #0 0x00416f91 in _post_call_callback_default_gl (name=0x446d40 <_glfwDataFormat+10036> \"glGetIntegerv\", funcptr=0x41c1ec <glad_debug_impl_glGetIntegerv@8>, len_args=2) at <glad.c>:45 #1 0x0041c265 in glad_debug_impl_glGetIntegerv@8 (arg0=33309, arg1=0x4526cc <num_exts_i>) at <glad.c>:1385 #2 0x00417168 in get_exts () at <glad.c>:220 #3 0x0042691f in find_extensionsGL () at <glad.c>:3742 #4 0x00426d12 in gladLoadGLLoader (load=0x402a2e <glfwGetProcAddress>) at <glad.c>:3821 #5 0x004016f8 in main () at <main.cpp>:33 Error 1282 is GL_INVALID_OPERATION, but it pops up after the program ended (or at least after the main() ended). Even if I separate the whole code in another function (i. e. create and destroy everything in separate function), and then invoke it in main(), the error still appears after the return 0; from main(). This did not happen when I used GLEW to load OpenGL functions, but maybe it was silenced. I didn't find anything similar to my problem on the internet. What am I doing wrong? Do I have to unload OpenGL or something like that? UPD: Error message actually pops in gladLoadGLLoader(), not after the end of main().",
    "code": "ERROR 1282 in glGetIntegerv\n\nmain()\n\nGL_INVALID_OPERATION\n\nmain()\n\nreturn 0;\n\nmain()\n\nmain()",
    "severity": "low",
    "tags": [
      "c++",
      "windows",
      "opengl",
      "glfw",
      "glad"
    ],
    "metadata": {
      "language": "cpp",
      "stackoverflow_question_id": "74963425",
      "stackoverflow_score": 3,
      "stackoverflow_view_count": 262,
      "stackoverflow_creation_date": "2022-12-30T15:53:34.167Z"
    },
    "idempotency_key": "stackoverflow-74963425",
    "related_ids": []
  }
]